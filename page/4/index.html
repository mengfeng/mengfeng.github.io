<!DOCTYPE html>


<html lang="en">
  

    <head>
      <meta charset="utf-8" />
        
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> è‰ºæœ¯ç ç•œ</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-G16F14RTRN"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-G16F14RTRN');
</script>

 
<script>
var _hmt = _hmt || [];
(function() {
	var hm = document.createElement("script");
	hm.src = "https://hm.baidu.com/hm.js?f5e6c5b5d28b6bff1c9eb1fcf7f6862b";
	var s = document.getElementsByTagName("script")[0]; 
	s.parentNode.insertBefore(hm, s);
})();
</script>


      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    <link rel="alternate" href="/atom.xml" title="è‰ºæœ¯ç ç•œ" type="application/atom+xml">
</head>
  </html>
</html>


<body>
  <div id="app">
    
      <canvas class="fireworks"></canvas>
      <style>
        .fireworks {
          position: fixed;
          left: 0;
          top: 0;
          z-index: 99999;
          pointer-events: none;
        }
      </style>
      
      
    <main class="content on">
      
<section class="cover">
    
      
      <a class="forkMe" href="https://github.com/mengfeng/mengfeng.github.io.git"
        target="_blank"><img width="149" height="149" src="/images/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">è‰ºæœ¯ç ç•œ</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.staticfile.org/typed.js/2.0.12/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['é¢æœå¤§æµ·ï¼Œæ˜¥æš–èŠ±å¼€', 'æ„¿ä½ ä¸€ç”ŸåŠªåŠ›ï¼Œä¸€ç”Ÿè¢«çˆ±', 'æƒ³è¦çš„éƒ½æ‹¥æœ‰ï¼Œå¾—ä¸åˆ°çš„éƒ½é‡Šæ€€'],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  
  
<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content">è‰ºæœ¯ç ç•œçš„ç”Ÿæ´»ç¬é—´</div>
</div>


<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-è¡¨ç™½çˆ±å¿ƒbiu"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/11/11/%E8%A1%A8%E7%99%BD%E7%88%B1%E5%BF%83biu/"
    >è¡¨ç™½çˆ±å¿ƒbiu</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/11/11/%E8%A1%A8%E7%99%BD%E7%88%B1%E5%BF%83biu/" class="article-date">
  <time datetime="2022-11-11T01:57:54.000Z" itemprop="datePublished">2022-11-11</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%B6%A3%E5%91%B3%E6%8A%80%E6%9C%AF/">è¶£å‘³æŠ€æœ¯</a> / <a class="article-category-link" href="/categories/%E8%B6%A3%E5%91%B3%E6%8A%80%E6%9C%AF/%E8%A1%A8%E7%99%BD%E7%88%B1%E5%BF%83biu/">è¡¨ç™½çˆ±å¿ƒbiu</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="çˆ±å¿ƒä»£ç ï¼ˆcanvasï¼‰"><a href="#çˆ±å¿ƒä»£ç ï¼ˆcanvasï¼‰" class="headerlink" title="çˆ±å¿ƒä»£ç ï¼ˆcanvasï¼‰"></a>çˆ±å¿ƒä»£ç ï¼ˆcanvasï¼‰</h1><p>æ¯å¤©æµªæ¼«ä¸€ç‚¹ç‚¹</p>
<p>å‘ç»™ä½ å¥³æœ‹å‹ï¼Œæœ‰å¥–åŠ±ğŸ¥³</p>
<p><img src="/2022/11/11/%E8%A1%A8%E7%99%BD%E7%88%B1%E5%BF%83biu/image-20221111095138378.png"></p>
<pre><code class="javascript">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot; /&gt;
    &lt;title&gt;ç¥å°å…¬ä¸»çˆ±å¿ƒ&lt;/title&gt;

    &lt;style&gt;
      html,
      body &#123;
        height: 100%;
        padding: 0;
        margin: 0;
        background: #000;
      &#125;
      canvas &#123;
        width: 100%;
        height: 100%;
      &#125;
    &lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;canvas id=&quot;pinkboard&quot;&gt;&lt;/canvas&gt;
    &lt;script&gt;
      /*
       * å‚æ•°é…ç½®
       */
      var settings = &#123;
        particles: &#123;
          length: 500, // æœ€å¤§é¢—ç²’é‡
          duration: 2, // ç²’å­æŒç»­æ—¶é—´ï¼ˆç§’ï¼‰
          velocity: 110, // ç²’å­èŒƒå›´ï¼ˆåƒç´ /ç§’ï¼‰
          effect: -1.0, // å†…è½®å»“
          size: 35, // é¢—ç²’å¤§å°ï¼ˆåƒç´ ï¼‰
        &#125;,
      &#125;;

      /*
       * Point class
       */
      var Point = (function () &#123;
        function Point(x, y) &#123;
          this.x = typeof x !== &quot;undefined&quot; ? x : 0;
          this.y = typeof y !== &quot;undefined&quot; ? y : 0;
        &#125;
        Point.prototype.clone = function () &#123;
          return new Point(this.x, this.y);
        &#125;;
        Point.prototype.length = function (length) &#123;
          if (typeof length == &quot;undefined&quot;)
            return Math.sqrt(this.x * this.x + this.y * this.y);
          this.normalize();
          this.x *= length;
          this.y *= length;
          return this;
        &#125;;
        Point.prototype.normalize = function () &#123;
          var length = this.length();
          this.x /= length;
          this.y /= length;
          return this;
        &#125;;
        return Point;
      &#125;)();

      /*
       * Particle class
       */
      var Particle = (function () &#123;
        function Particle() &#123;
          this.position = new Point();
          this.velocity = new Point();
          this.acceleration = new Point();
          this.age = 0;
        &#125;
        Particle.prototype.initialize = function (x, y, dx, dy) &#123;
          this.position.x = x;
          this.position.y = y;
          this.velocity.x = dx;
          this.velocity.y = dy;
          this.acceleration.x = dx * settings.particles.effect;
          this.acceleration.y = dy * settings.particles.effect;
          this.age = 0;
        &#125;;
        Particle.prototype.update = function (deltaTime) &#123;
          this.position.x += this.velocity.x * deltaTime;
          this.position.y += this.velocity.y * deltaTime;
          this.velocity.x += this.acceleration.x * deltaTime;
          this.velocity.y += this.acceleration.y * deltaTime;
          this.age += deltaTime;
        &#125;;
        Particle.prototype.draw = function (context, image) &#123;
          function ease(t) &#123;
            return --t * t * t + 1;
          &#125;
          var size = image.width * ease(this.age / settings.particles.duration);
          context.globalAlpha = 1 - this.age / settings.particles.duration;
          context.drawImage(
            image,
            this.position.x - size / 2,
            this.position.y - size / 2,
            size,
            size
          );
        &#125;;
        return Particle;
      &#125;)();

      /*
       * ParticlePool class
       */
      var ParticlePool = (function () &#123;
        var particles,
          firstActive = 0,
          firstFree = 0,
          duration = settings.particles.duration;

        function ParticlePool(length) &#123;
          // create and populate particle pool
          particles = new Array(length);
          for (var i = 0; i &lt; particles.length; i++)
            particles[i] = new Particle();
        &#125;
        ParticlePool.prototype.add = function (x, y, dx, dy) &#123;
          particles[firstFree].initialize(x, y, dx, dy);

          // handle circular queue
          firstFree++;
          if (firstFree == particles.length) firstFree = 0;
          if (firstActive == firstFree) firstActive++;
          if (firstActive == particles.length) firstActive = 0;
        &#125;;
        ParticlePool.prototype.update = function (deltaTime) &#123;
          var i;

          // update active particles
          if (firstActive &lt; firstFree) &#123;
            for (i = firstActive; i &lt; firstFree; i++)
              particles[i].update(deltaTime);
          &#125;
          if (firstFree &lt; firstActive) &#123;
            for (i = firstActive; i &lt; particles.length; i++)
              particles[i].update(deltaTime);
            for (i = 0; i &lt; firstFree; i++) particles[i].update(deltaTime);
          &#125;

          // remove inactive particles
          while (
            particles[firstActive].age &gt;= duration &amp;&amp;
            firstActive != firstFree
          ) &#123;
            firstActive++;
            if (firstActive == particles.length) firstActive = 0;
          &#125;
        &#125;;
        ParticlePool.prototype.draw = function (context, image) &#123;
          // draw active particles
          if (firstActive &lt; firstFree) &#123;
            for (i = firstActive; i &lt; firstFree; i++)
              particles[i].draw(context, image);
          &#125;
          if (firstFree &lt; firstActive) &#123;
            for (i = firstActive; i &lt; particles.length; i++)
              particles[i].draw(context, image);
            for (i = 0; i &lt; firstFree; i++) particles[i].draw(context, image);
          &#125;
        &#125;;
        return ParticlePool;
      &#125;)();

      /*
       * Putting it all together
       */
      (function (canvas) &#123;
        var context = canvas.getContext(&quot;2d&quot;),
          particles = new ParticlePool(settings.particles.length),
          particleRate =
            settings.particles.length / settings.particles.duration, // particles/sec
          time;

        // get point on heart with -PI &lt;= t &lt;= PI
        function pointOnHeart(t) &#123;
          return new Point(
            160 * Math.pow(Math.sin(t), 3),
            130 * Math.cos(t) -
              50 * Math.cos(2 * t) -
              20 * Math.cos(3 * t) -
              10 * Math.cos(4 * t) +
              25
          );
        &#125;

        // ä½¿ç”¨è™šæ‹Ÿç”»å¸ƒåˆ›å»ºç²’å­å›¾åƒ
        var image = (function () &#123;
          var canvas = document.createElement(&quot;canvas&quot;),
            context = canvas.getContext(&quot;2d&quot;);
          canvas.width = settings.particles.size;
          canvas.height = settings.particles.size;
          // helper function to create the path
          function to(t) &#123;
            var point = pointOnHeart(t);
            point.x =
              settings.particles.size / 2 +
              (point.x * settings.particles.size) / 450;
            point.y =
              settings.particles.size / 2 -
              (point.y * settings.particles.size) / 450;
            return point;
          &#125;
          // create the path
          context.beginPath();
          var t = -Math.PI;
          var point = to(t);
          context.moveTo(point.x, point.y);
          while (t &lt; Math.PI) &#123;
            t += 0.03; // baby steps!
            point = to(t);
            context.lineTo(point.x, point.y);
          &#125;
          context.closePath();
          // create the fill ï¼ˆæ›´æ¢çˆ±å¿ƒé¢œè‰²ï¼‰
          context.fillStyle = &quot;#ea80b0&quot;;
          context.fill();
          // create the image
          var image = new Image();
          image.src = canvas.toDataURL();
          return image;
        &#125;)();

        // render that thing!
        function render() &#123;
          // next animation frame
          requestAnimationFrame(render);

          // update timeï¼ˆç²’å­é€Ÿåº¦ï¼‰
          var newTime = new Date().getTime() / 1000,
            deltaTime = newTime - (time || newTime);
          time = newTime;

          // clear canvas
          context.clearRect(0, 0, canvas.width, canvas.height);

          // create new particles
          var amount = particleRate * deltaTime;
          for (var i = 0; i &lt; amount; i++) &#123;
            var pos = pointOnHeart(Math.PI - 2 * Math.PI * Math.random());
            var dir = pos.clone().length(settings.particles.velocity);
            particles.add(
              canvas.width / 2 + pos.x,
              canvas.height / 2 - pos.y,
              dir.x,
              -dir.y
            );
          &#125;

          // update and draw particles
          particles.update(deltaTime);
          particles.draw(context, image);
        &#125;

        // handle (re-)sizing of the canvas
        function onResize() &#123;
          canvas.width = canvas.clientWidth;
          canvas.height = canvas.clientHeight;
        &#125;
        window.onresize = onResize;

        // delay rendering bootstrap
        setTimeout(function () &#123;
          onResize();
          render();
        &#125;, 10);
      &#125;)(document.getElementById(&quot;pinkboard&quot;));
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%B5%AA%E6%BC%AB%E4%BB%A3%E7%A0%81/" rel="tag">æµªæ¼«ä»£ç </a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-å¦‚ä½•ä¸Šä¼ npmåŒ…"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/"
    >å¦‚ä½•ä¸Šä¼ npmåŒ…</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/" class="article-date">
  <time datetime="2022-11-10T07:43:07.000Z" itemprop="datePublished">2022-11-10</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/npm-yarn/">npm&yarn</a> / <a class="article-category-link" href="/categories/npm-yarn/%E4%B8%8A%E4%BC%A0%E8%87%AA%E5%B7%B1%E7%9A%84npm%E5%8C%85/">ä¸Šä¼ è‡ªå·±çš„npmåŒ…</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="å¦‚ä½•ä¸Šä¼ è‡ªå·±çš„npmåŒ…"><a href="#å¦‚ä½•ä¸Šä¼ è‡ªå·±çš„npmåŒ…" class="headerlink" title="å¦‚ä½•ä¸Šä¼ è‡ªå·±çš„npmåŒ…"></a>å¦‚ä½•ä¸Šä¼ è‡ªå·±çš„npmåŒ…</h1><h3 id="ä¸€ã€åˆ›å»ºè‡ªå·±çš„npmè´¦å·"><a href="#ä¸€ã€åˆ›å»ºè‡ªå·±çš„npmè´¦å·" class="headerlink" title="ä¸€ã€åˆ›å»ºè‡ªå·±çš„npmè´¦å·"></a>ä¸€ã€åˆ›å»ºè‡ªå·±çš„npmè´¦å·</h3><p>[npmå®˜ç½‘]: 	â€œ<a target="_blank" rel="noopener" href="https://www.npmjs.com/">https://www.npmjs.com/</a> â€œ</p>
<h3 id="äºŒã€åˆ›å»ºnpmåŒ…ç›®å½•"><a href="#äºŒã€åˆ›å»ºnpmåŒ…ç›®å½•" class="headerlink" title="äºŒã€åˆ›å»ºnpmåŒ…ç›®å½•"></a>äºŒã€åˆ›å»ºnpmåŒ…ç›®å½•</h3><pre><code class="ini">mkdir npm-me // åœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œnpm-meä¸ºåŒ…çš„ç›®å½•ï¼Œå¯ä»¥è‡ªå·±ä»»æ„å–å
cd npm-me // è¿›å…¥åŒ…ç›®å½•
</code></pre>
<h3 id="ä¸‰ã€-ç¼–å†™æ¨¡å—"><a href="#ä¸‰ã€-ç¼–å†™æ¨¡å—" class="headerlink" title="ä¸‰ã€ ç¼–å†™æ¨¡å—"></a>ä¸‰ã€ ç¼–å†™æ¨¡å—</h3><p>åœ¨npm-meç›®å½•ä¸‹åˆ›å»º ifYes.jsæ–‡ä»¶</p>
<pre><code class="javascript">//ifYes.js
exports.ifYes = function() &#123;
    return &quot;If you&#39;re late, your wages will be docked&quot;
&#125;
</code></pre>
<h3 id="å››ã€-åˆå§‹åŒ–åŒ…æè¿°æ–‡ä»¶"><a href="#å››ã€-åˆå§‹åŒ–åŒ…æè¿°æ–‡ä»¶" class="headerlink" title="å››ã€ åˆå§‹åŒ–åŒ…æè¿°æ–‡ä»¶"></a>å››ã€ åˆå§‹åŒ–åŒ…æè¿°æ–‡ä»¶</h3><pre><code class="ini">npm init //åˆå§‹åŒ–ä¼šç”Ÿæˆpackage.jsonæ–‡ä»¶
</code></pre>
<p>åˆå§‹åŒ–çš„è¿‡ç¨‹ä¼šå‡ºç°ä¸€ç³»åˆ—çš„é—®é¢˜ï¼Œæ ¹æ®æˆ‘ä»¬è‡ªå·±çš„æƒ…å†µå»é€‰æ‹©å°±å¯ä»¥ï¼Œå¦‚æœæ²¡æœ‰å…¶ä»–è¦æ±‚ï¼Œå›è½¦å°±å¯å“Ÿ</p>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110143318339.png"></p>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110143450471.png"></p>
<h3 id="äº”ã€æ³¨å†ŒåŒ…ä»“åº“è´¦å·"><a href="#äº”ã€æ³¨å†ŒåŒ…ä»“åº“è´¦å·" class="headerlink" title="äº”ã€æ³¨å†ŒåŒ…ä»“åº“è´¦å·"></a>äº”ã€æ³¨å†ŒåŒ…ä»“åº“è´¦å·</h3><pre><code class="ini">npm adduser
</code></pre>
<p>å½“ä½ æ²¡æœ‰åˆ›å»ºnpmè´¦æˆ·æˆ–è€…è¾“å…¥é”™è¯¯çš„è´¦æˆ·å’Œå¯†ç ï¼Œéƒ½ä¼šå‡ºç°ä¸‹é¢çš„error</p>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110143800873.png"></p>
<p>è¿™æ˜¯å¤„ç†æ­£ç¡®çš„ç»“æœï¼ˆç¡®è®¤çš„æ—¶å€™éœ€è¦æ¥æ”¶éªŒè¯ç ï¼šä¾‹30466554ï¼‰</p>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110144117450.png"></p>
<h3 id="å…­ã€ä¸Šä¼ åŒ…"><a href="#å…­ã€ä¸Šä¼ åŒ…" class="headerlink" title="å…­ã€ä¸Šä¼ åŒ…"></a>å…­ã€ä¸Šä¼ åŒ…</h3><pre><code class="ini">npm publish åŒ…æ–‡ä»¶å¤¹åå­— //ä¸Šä¼ npmå‘½ä»¤æ ¼å¼
</code></pre>
<p>1.ä¸ºäº†ä¸å‡ºç°npmå‘½åå†²çªï¼Œç¬¬ä¸€ä¸ªæ–¹æ³•æ˜¯åœ¨npmå®˜ç½‘æŸ¥ä¸€ä¸‹ï¼Œå¦‚æœé‡å¤å°±éœ€è¦é‡æ–°ä¿®æ”¹ä¸€ä¸‹ï¼ˆç°åœ¨æˆ‘çš„npmåŒ…å°±å†²çªäº†ï¼‰</p>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110144658634.png"></p>
<p>2.å½“ä½ ä¸Šä¼ npmåŒ…çš„æ—¶å€™å¯èƒ½æ‰ä¼šå‘ç°npmå‘½åå†²çª</p>
<pre><code class="ini">npm publish . //ä¸Šä¼ npmåŒ…
</code></pre>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110145002168.png"></p>
<p>ä¿®æ”¹åä¸Šä¼ </p>
<pre><code class="javascript">//package.json
&#123;
  &quot;name&quot;: &quot;alan-npm-me&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;If you&#39;re late, your wages will be docked&quot;,
  &quot;main&quot;: &quot;ifYes.js&quot;,
  &quot;scripts&quot;: &#123;
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  &#125;,
  &quot;keywords&quot;: [
    &quot;ifYes&quot;
  ],
  &quot;author&quot;: &quot;alan_mf&quot;,
  &quot;license&quot;: &quot;ISC&quot;
&#125;
</code></pre>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110145126857.png"></p>
<p>ä¸Šä¼ æˆåŠŸå•¦å•¦å•¦</p>
<p>npmè´¦æˆ·ä¸Šå¯ä»¥çœ‹åˆ°æˆ‘ä»¬ä¸Šä¼ çš„åŒ…</p>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110151414170.png"></p>
<h3 id="ä¸ƒã€-æ›´æ–°npmåŒ…"><a href="#ä¸ƒã€-æ›´æ–°npmåŒ…" class="headerlink" title="ä¸ƒã€ æ›´æ–°npmåŒ…"></a>ä¸ƒã€ æ›´æ–°npmåŒ…</h3><p>npmåŒ…ä¿®æ”¹åï¼Œæ‰‹åŠ¨æŠŠpackage.jsoné‡Œçš„versionç‰ˆæœ¬å·ä¿®æ”¹äº†ï¼Œæˆ–è€…ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è‡ªåŠ¨æ›´æ–°ç‰ˆæœ¬å·ï¼Œå†æ‰§è¡Œnpm publish . å‘½ä»¤å°±å¯ä»¥äº†ã€‚</p>
<ul>
<li>å‡çº§è¡¥ä¸ç‰ˆæœ¬å·(ä¿®æ”¹bug)ï¼šnpm version patch</li>
<li>å‡çº§å°ç‰ˆæœ¬å·(æ–°å¢åŠŸèƒ½)ï¼šnpm version minor</li>
<li>å‡çº§å¤§ç‰ˆæœ¬å·(è¾ƒå¤§æ”¹ç‰ˆ)ï¼šnpm version major</li>
</ul>
<pre><code class="ini">npm version patch //è¡¥ä¸
npm publish . //æ›´æ–°npmåŒ…
</code></pre>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110151715232.png"></p>
<p>æ›´æ–°æˆåŠŸç‰ˆæœ¬1.0.1</p>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110151928908.png"></p>
<h3 id="å…«ã€-å¯¹ä¸Šä¼ çš„npmè¿›è¡Œæµ‹è¯•"><a href="#å…«ã€-å¯¹ä¸Šä¼ çš„npmè¿›è¡Œæµ‹è¯•" class="headerlink" title="å…«ã€ å¯¹ä¸Šä¼ çš„npmè¿›è¡Œæµ‹è¯•"></a>å…«ã€ å¯¹ä¸Šä¼ çš„npmè¿›è¡Œæµ‹è¯•</h3><pre><code class="ini">mkdir npm-me-test //æ–°å»ºç›®å½•
cd  npm-me-test //è¿›å…¥ç›®å½•
</code></pre>
<p>ä¸‹è½½æˆ‘ä»¬ä¸Šä¼ çš„npmåŒ…</p>
<pre><code class="ini">npm init -y //åˆå§‹åŒ–ç”Ÿæˆpackage.jsonæ–‡ä»¶
npm install alan-npm-me -D
</code></pre>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110153117681.png"></p>
<p>åˆ›å»ºtest.jsæ–‡ä»¶å¹¶ç¼–å†™ä»£ç </p>
<pre><code class="javascript">//test.js
const demo = require(&#39;alan-npm-me&#39;);
const res = demo.ifYes();
console.log(res);
</code></pre>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110153427301.png"></p>
<p>ç›®å‰æˆ‘ä»¬æ‰€å¼€å‘çš„éƒ½æ˜¯å…±äº«çš„npmåŒ…ï¼Œå…·æœ‰ä¸€å®šçš„å®‰å…¨æ€§é£é™©ï¼Œå¦‚æœç”¨äºä¼ä¸šï¼Œå°±ä¼šå…·æœ‰ä¸€å®šçš„é£é™©ã€‚ä¼ä¸šçš„é™åˆ¶åœ¨äºï¼Œä¸€æ–¹é¢éœ€è¦äº«å—æ¨¡å—å¼€å‘å¸¦æ¥çš„ä½è€¦åˆå’Œé¡¹ç›®ç»„ç»‡ä¸Šçš„å¥½å¤„ï¼Œå¦ä¸€æ–¹é¢å´è¦è€ƒè™‘åˆ°æ¨¡å—ä¿å¯†æ€§çš„é—®é¢˜ã€‚æ‰€ä»¥ï¼Œé€šè¿‡NPMå…±äº«å’Œå‘å¸ƒå­˜åœ¨æ½œåœ¨çš„é£é™©ã€‚</p>
<p>ä¸ºäº†åŒæ—¶èƒ½å¤Ÿäº«å—åˆ°NPMä¸Šä¼—å¤šçš„åŒ…ï¼ŒåŒæ—¶å¯¹è‡ªå·±çš„åŒ…è¿›è¡Œä¿å¯†å’Œé™åˆ¶ï¼Œç°æœ‰çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ä¼ä¸šæ­å»ºè‡ªå·±çš„NPMä»“åº“ã€‚å±€åŸŸNPMä»“åº“çš„æ­å»ºæ–¹æ³•ä¸æ­å»ºé•œåƒç«™çš„æ–¹å¼å‡ ä¹ä¸€æ ·ï¼Œä¸é•œåƒä»“åº“ä¸åŒçš„åœ°æ–¹åœ¨äºï¼Œä¼ä¸šå±€åŸŸNPMå¯ä»¥é€‰æ‹©ä¸åŒæ­¥å®˜æ–¹æºä»“åº“ä¸­çš„åŒ…ï¼Œå³ä¼ä¸šå¯æ··åˆä½¿ç”¨å®˜æ–¹ä»“åº“å’Œå±€åŸŸä»“åº“ã€‚</p>
<p>å¯¹äºä¼ä¸šå†…éƒ¨è€Œè¨€ï¼Œç§æœ‰çš„å¯é‡ç”¨æ¨¡å—å¯ä»¥æ‰“åŒ…åˆ°å±€åŸŸNPMä»“åº“ä¸­ï¼Œè¿™æ ·å¯ä»¥ä¿æŒæ›´æ–°çš„ä¸­å¿ƒåŒ–ï¼Œä¸è‡³äºè®©å„ä¸ªå°é¡¹ç›®å„è‡ªç»´æŠ¤ç›¸åŒåŠŸèƒ½çš„æ¨¡å—ï¼Œæœç»é€šè¿‡å¤åˆ¶ç²˜è´´å®ç°ä»£ç å…±äº«çš„è¡Œä¸ºã€‚</p>
<p>é“¾æ¥ï¼š</p>
<p>[npmå®˜ç½‘]: 	â€œ<a target="_blank" rel="noopener" href="https://www.npmjs.com/">https://www.npmjs.com/</a> â€œ</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/npm/" rel="tag">npm</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-yarnå‘½ä»¤è¯¦è§£"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/11/09/yarn%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/"
    >yarnå‘½ä»¤è¯¦è§£</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/11/09/yarn%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/" class="article-date">
  <time datetime="2022-11-09T07:09:37.000Z" itemprop="datePublished">2022-11-09</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/npm-yarn/">npm&yarn</a> / <a class="article-category-link" href="/categories/npm-yarn/yarn%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">yarnå¸¸ç”¨å‘½ä»¤</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="yarnå‘½ä»¤è¯¦è§£"><a href="#yarnå‘½ä»¤è¯¦è§£" class="headerlink" title="yarnå‘½ä»¤è¯¦è§£"></a>yarnå‘½ä»¤è¯¦è§£</h1><h3 id="ä¸€ã€yarnå®‰è£…åˆå§‹åŒ–"><a href="#ä¸€ã€yarnå®‰è£…åˆå§‹åŒ–" class="headerlink" title="ä¸€ã€yarnå®‰è£…åˆå§‹åŒ–"></a>ä¸€ã€yarnå®‰è£…åˆå§‹åŒ–</h3><pre><code class="css">npm i yarn -g #yarnå®‰è£…
yarn -v #æŸ¥çœ‹ç‰ˆæœ¬
yarn init ï½œ yarn #åˆå§‹åŒ–ï¼Œåˆ›å»ºpackage.jsonæ–‡ä»¶
yarn init --yes #ç®€å†™ -y è·³è¿‡ä¼šè¯ï¼Œç›´æ¥é€šè¿‡é»˜è®¤å€¼ç”Ÿæˆ package.json
</code></pre>
<h3 id="äºŒã€yarnå®‰è£…ä¾èµ–"><a href="#äºŒã€yarnå®‰è£…ä¾èµ–" class="headerlink" title="äºŒã€yarnå®‰è£…ä¾èµ–"></a>äºŒã€yarnå®‰è£…ä¾èµ–</h3><pre><code class="css">yarn add webpack@2.3.3 # yarn --save æ˜¯ yarn é»˜è®¤çš„ï¼Œé»˜è®¤è®°å½•åœ¨ package.json dependencies ä¸­
</code></pre>
<pre><code class="css">yarn add webpack --dev # yarn ç®€å†™ -D  devDependencies ä¸­
</code></pre>
<pre><code class="css">yarn global add webpack # yarn å®‰è£…å…¨å±€ä¾èµ–
</code></pre>
<h3 id="ä¸‰ã€yarnæ›´æ–°ä¾èµ–"><a href="#ä¸‰ã€yarnæ›´æ–°ä¾èµ–" class="headerlink" title="ä¸‰ã€yarnæ›´æ–°ä¾èµ–"></a>ä¸‰ã€yarnæ›´æ–°ä¾èµ–</h3><pre><code class="css">yarn upgrade # å‡çº§æ‰€æœ‰ä¾èµ–é¡¹ï¼Œä¸è®°å½•åœ¨ package.json ä¸­
yarn upgrade webpack # å‡çº§æŒ‡å®šåŒ…
yarn upgrade --latest # å¿½ç•¥ç‰ˆæœ¬è§„åˆ™ï¼Œå‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶ä¸”æ›´æ–° package.json
</code></pre>
<h3 id="å››ã€yarnç§»é™¤ä¾èµ–"><a href="#å››ã€yarnç§»é™¤ä¾èµ–" class="headerlink" title="å››ã€yarnç§»é™¤ä¾èµ–"></a>å››ã€yarnç§»é™¤ä¾èµ–</h3><pre><code class="css">yarn remove webpack # yarn
</code></pre>
<h3 id="äº”ã€å…¶ä»–å‘½ä»¤"><a href="#äº”ã€å…¶ä»–å‘½ä»¤" class="headerlink" title="äº”ã€å…¶ä»–å‘½ä»¤"></a>äº”ã€å…¶ä»–å‘½ä»¤</h3><pre><code class="css">yarn install # æˆ–è€… yarn åœ¨ node_modules ç›®å½•å®‰è£… package.json ä¸­åˆ—å‡ºçš„æ‰€æœ‰ä¾èµ–
yarn install --force # å¼ºåˆ¶ä¸‹è½½å®‰è£…
yarn start # yarn  æ‰§è¡Œ scripts ä¸‹ start å¯¹åº”çš„è„šæœ¬

###ç”¨æ¥æŸ¥çœ‹æŸä¸ªæ¨¡å—çš„æœ€æ–°ç‰ˆæœ¬ä¿¡æ¯
yarn info webpack # yarn
yarn info webpack --json # è¾“å‡º json æ ¼å¼
yarn info webpack readme # è¾“å‡º README éƒ¨åˆ†

yarn list # åˆ—å‡ºå½“å‰é¡¹ç›®çš„ä¾èµ–
yarn list --depth=0 # é™åˆ¶ä¾èµ–çš„æ·±åº¦
sudo yarn global list # åˆ—å‡ºå…¨å±€å®‰è£…çš„æ¨¡å—

###yarné…ç½®æ–‡ä»¶
yarn config set key value # è®¾ç½®
yarn config get key # è¯»å–å€¼
yarn config delete key # åˆ é™¤
yarn config list # æ˜¾ç¤ºå½“å‰é…ç½®
yarn config set registry [https://registry.npm.taobao.org](https://links.jianshu.com/go?to=https%3A%2F%2Fregistry.npm.taobao.org) # è®¾ç½®æ·˜å®é•œåƒ

###ç¼“å­˜
sudo yarn cache list # åˆ—å‡ºå·²ç¼“å­˜çš„æ¯ä¸ªåŒ…
sudo yarn cache dir # è¿”å› å…¨å±€ç¼“å­˜ä½ç½®
sudo yarn cache clean # æ¸…é™¤ç¼“å­˜
</code></pre>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/yarn/" rel="tag">yarn</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-npmå‘½ä»¤è¯¦è§£"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/11/09/npm%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/"
    >npmå‘½ä»¤è¯¦è§£</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/11/09/npm%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/" class="article-date">
  <time datetime="2022-11-09T07:09:15.000Z" itemprop="datePublished">2022-11-09</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/npm-yarn/">npm&yarn</a> / <a class="article-category-link" href="/categories/npm-yarn/npm%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">npmå¸¸ç”¨å‘½ä»¤</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="npmå‘½ä»¤è¯¦è§£"><a href="#npmå‘½ä»¤è¯¦è§£" class="headerlink" title="npmå‘½ä»¤è¯¦è§£"></a>npmå‘½ä»¤è¯¦è§£</h1><h3 id="ä¸€ã€npmé…ç½®å‘½ä»¤"><a href="#ä¸€ã€npmé…ç½®å‘½ä»¤" class="headerlink" title="ä¸€ã€npmé…ç½®å‘½ä»¤"></a>ä¸€ã€npmé…ç½®å‘½ä»¤</h3><pre><code class="css">npm install -g cnpm --registry=https://registry.npm.taobao.org  #é€šè¿‡cnpmä½¿ç”¨æ·˜å®é•œåƒ
npm config set registry https://registry.npm.taobao.org #å°†npmè®¾ç½®ä¸ºæ·˜å®é•œåƒ
npm config set registry https://registry.npmjs.org #åˆ‡æ¢å›é»˜è®¤å…¨å±€é•œåƒ
npm config get registry #æŸ¥çœ‹npmé•œåƒè®¾ç½®
npm config list #æŸ¥çœ‹npmé…ç½®
cnpm config list #æŸ¥çœ‹cnpmé…ç½®
npm -v #æŸ¥çœ‹npmç‰ˆæœ¬
</code></pre>
<p>æ–¹ä¾¿ç»Ÿä¸€å’Œé˜…è¯»ï¼Œæ–‡ä¸­å…¨éƒ¨ä½¿ç”¨ç®€å†™æ–¹å¼ã€‚</p>
<blockquote>
<p>-gï¼š ä¸º â€“global çš„ç¼©å†™ï¼Œè¡¨ç¤ºå®‰è£…åˆ°å…¨å±€ç›®å½•é‡Œ<br>-Sï¼š ä¸º â€“save çš„ç¼©å†™ï¼Œè¡¨ç¤ºå®‰è£…çš„åŒ…å°†å†™å…¥package.jsoné‡Œé¢çš„dependencies<br>-Dï¼š ä¸º â€“save-dev çš„ç¼©å†™ï¼Œè¡¨ç¤ºå°†å®‰è£…çš„åŒ…å°†å†™å…¥packege.jsoné‡Œé¢çš„devDependencies<br> iï¼š ä¸ºinstallçš„ç¼©å†™ï¼Œè¡¨ç¤ºå®‰è£…</p>
</blockquote>
<h3 id="äºŒã€npmå®‰è£…å‘½ä»¤"><a href="#äºŒã€npmå®‰è£…å‘½ä»¤" class="headerlink" title="äºŒã€npmå®‰è£…å‘½ä»¤"></a>äºŒã€npmå®‰è£…å‘½ä»¤</h3><pre><code class="css">npm init  # npm åˆå§‹åŒ–å½“å‰ç›®å½•
npm i  # å®‰è£…æ‰€æœ‰ä¾èµ–
npm i express  # å®‰è£…æ¨¡å—åˆ°é»˜è®¤dependencies
npm i express -g  # ä¼šå®‰è£…åˆ°é…ç½®çš„å…¨å±€ç›®å½•ä¸‹
npm i express -S  # å®‰è£…åŒ…ä¿¡æ¯å°†åŠ å…¥åˆ°dependenciesç”Ÿäº§ä¾èµ–
npm i express -D  # å®‰è£…åŒ…ä¿¡æ¯å°†åŠ å…¥åˆ°devDependencieså¼€å‘ä¾èµ–
npm i jquery@1.8.3  # å®‰è£…jqueryæŒ‡å®šçš„1.8.3ç‰ˆæœ¬
</code></pre>
<h3 id="ä¸‰ã€npmæ›´æ–°å‘½ä»¤"><a href="#ä¸‰ã€npmæ›´æ–°å‘½ä»¤" class="headerlink" title="ä¸‰ã€npmæ›´æ–°å‘½ä»¤"></a>ä¸‰ã€npmæ›´æ–°å‘½ä»¤</h3><pre><code class="css">npm update jquery  # æ›´æ–°æœ€æ–°ç‰ˆæœ¬çš„jquery
npm update jquery@2.1.0  # æ›´æ–°åˆ°æŒ‡å®šç‰ˆæœ¬å·çš„jquery
npm install jquery@latest  # å¯ä»¥ç›´æ¥æ›´æ–°åˆ°æœ€åä¸€ä¸ªæ–°ç‰ˆæœ¬
</code></pre>
<h3 id="å››ã€npmå¸è½½å‘½ä»¤"><a href="#å››ã€npmå¸è½½å‘½ä»¤" class="headerlink" title="å››ã€npmå¸è½½å‘½ä»¤"></a>å››ã€npmå¸è½½å‘½ä»¤</h3><pre><code class="css">npm uninstall express  # å¸è½½æ¨¡å—ï¼Œä½†ä¸å¸è½½æ¨¡å—ç•™åœ¨package.jsonä¸­çš„å¯¹åº”ä¿¡æ¯
npm uninstall express -g  # å¸è½½å…¨å±€æ¨¡å—
npm uninstall express --save  # å¸è½½æ¨¡å—ï¼ŒåŒæ—¶å¸è½½ç•™åœ¨package.jsonä¸­dependenciesä¸‹çš„ä¿¡æ¯
npm uninstall express --save-dev  # å¸è½½æ¨¡å—ï¼ŒåŒæ—¶å¸è½½ç•™åœ¨package.jsonä¸­devDependenciesä¸‹çš„ä¿¡æ¯
</code></pre>
<h3 id="äº”ã€npmæŸ¥çœ‹å‘½ä»¤"><a href="#äº”ã€npmæŸ¥çœ‹å‘½ä»¤" class="headerlink" title="äº”ã€npmæŸ¥çœ‹å‘½ä»¤"></a>äº”ã€npmæŸ¥çœ‹å‘½ä»¤</h3><pre><code class="css">npm root  # æŸ¥çœ‹é¡¹ç›®ä¸­æ¨¡å—æ‰€åœ¨çš„ç›®å½•
npm root -g  # æŸ¥çœ‹å…¨å±€å®‰è£…çš„æ¨¡å—æ‰€åœ¨ç›®å½•
npm list æˆ–è€… npm ls  # æŸ¥çœ‹æœ¬åœ°å·²å®‰è£…æ¨¡å—çš„æ¸…å•åˆ—è¡¨
npm view jquery dependencies  # æŸ¥çœ‹æŸä¸ªåŒ…å¯¹äºå„ç§åŒ…çš„ä¾èµ–å…³ç³»
npm view jquery version  # æŸ¥çœ‹jqueryæœ€æ–°çš„ç‰ˆæœ¬å·
npm view jquery versions  # æŸ¥çœ‹æ‰€æœ‰jqueryå†å²ç‰ˆæœ¬å·ï¼ˆå¾ˆå®ç”¨ï¼‰
npm view jquery  # æŸ¥çœ‹æœ€æ–°çš„jqueryç‰ˆæœ¬çš„ä¿¡æ¯
npm info jquery  # æŸ¥çœ‹jqueryçš„è¯¦ç»†ä¿¡æ¯ï¼Œç­‰åŒäºä¸Šé¢çš„npm view jquery
npm list jquery æˆ– npm ls jquery  # æŸ¥çœ‹æœ¬åœ°å·²å®‰è£…çš„jqueryçš„è¯¦ç»†ä¿¡æ¯
npm view jquery repository.url  # æŸ¥çœ‹jqueryåŒ…çš„æ¥æºåœ°å€
</code></pre>
<h3 id="å…­ã€å…¶ä»–å‘½ä»¤"><a href="#å…­ã€å…¶ä»–å‘½ä»¤" class="headerlink" title="å…­ã€å…¶ä»–å‘½ä»¤"></a>å…­ã€å…¶ä»–å‘½ä»¤</h3><pre><code class="css">npm cache clean  # æ¸…é™¤npmçš„ç¼“å­˜
npm prune  # æ¸…é™¤é¡¹ç›®ä¸­æ²¡æœ‰è¢«ä½¿ç”¨çš„åŒ…
npm outdated  # æ£€æŸ¥æ¨¡å—æ˜¯å¦å·²ç»è¿‡æ—¶
npm repo jquery  # ä¼šæ‰“å¼€é»˜è®¤æµè§ˆå™¨è·³è½¬åˆ°githubä¸­jqueryçš„é¡µé¢
npm docs jquery  # ä¼šæ‰“å¼€é»˜è®¤æµè§ˆå™¨è·³è½¬åˆ°githubä¸­jqueryçš„README.MDæ–‡ä»¶ä¿¡æ¯
npm home jquery  # ä¼šæ‰“å¼€é»˜è®¤æµè§ˆå™¨è·³è½¬åˆ°githubä¸­jqueryçš„ä¸»é¡µ
</code></pre>
<h3 id="ä¸ƒã€package-jsonå­—æ®µ"><a href="#ä¸ƒã€package-jsonå­—æ®µ" class="headerlink" title="ä¸ƒã€package.jsonå­—æ®µ"></a>ä¸ƒã€package.jsonå­—æ®µ</h3><p>[package.jsonå­—æ®µè¯¦è§£]: 	â€œ<a target="_blank" rel="noopener" href="https://docs.npmjs.com/cli/v8/configuring-npm/package-json">https://docs.npmjs.com/cli/v8/configuring-npm/package-json</a> â€œ</p>
<h3 id="é“¾æ¥ï¼š"><a href="#é“¾æ¥ï¼š" class="headerlink" title="é“¾æ¥ï¼š"></a>é“¾æ¥ï¼š</h3><p>[npmå®˜ç½‘]: 	â€œ<a target="_blank" rel="noopener" href="https://www.npmjs.com/">https://www.npmjs.com/</a> â€œ</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/npm/" rel="tag">npm</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-ä»0åˆ°1æ­å»ºè‡ªå·±çš„è„šæ‰‹æ¶react"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/"
    >ä»0åˆ°1æ­å»ºè‡ªå·±çš„è„šæ‰‹æ¶react</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/" class="article-date">
  <time datetime="2022-11-08T09:16:45.000Z" itemprop="datePublished">2022-11-08</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%B7%A5%E7%A8%8B%E6%8A%80%E6%9C%AF/">å·¥ç¨‹æŠ€æœ¯</a> / <a class="article-category-link" href="/categories/%E5%B7%A5%E7%A8%8B%E6%8A%80%E6%9C%AF/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/">ä»0åˆ°1æ­å»ºè‡ªå·±çš„è„šæ‰‹æ¶react</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="ä»0åˆ°1æ­å»ºè‡ªå·±çš„è„šæ‰‹æ¶react"><a href="#ä»0åˆ°1æ­å»ºè‡ªå·±çš„è„šæ‰‹æ¶react" class="headerlink" title="ä»0åˆ°1æ­å»ºè‡ªå·±çš„è„šæ‰‹æ¶react"></a>ä»0åˆ°1æ­å»ºè‡ªå·±çš„è„šæ‰‹æ¶react</h1><h3 id="1-åˆå§‹åŒ–é¡¹ç›®"><a href="#1-åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="1.åˆå§‹åŒ–é¡¹ç›®"></a>1.åˆå§‹åŒ–é¡¹ç›®</h3><pre><code class="ini">npm init -y
</code></pre>
<p>æ‰§è¡Œåˆå§‹åŒ–å‘½ä»¤ä¹‹åï¼Œä¼šå‡ºç°package.jsonæ–‡ä»¶</p>
<h3 id="2-å»ºç«‹é¡¹ç›®ç›®å½•ï¼ˆåŸºç¡€é¡¹ç›®ç›®å½•ï¼‰"><a href="#2-å»ºç«‹é¡¹ç›®ç›®å½•ï¼ˆåŸºç¡€é¡¹ç›®ç›®å½•ï¼‰" class="headerlink" title="2.å»ºç«‹é¡¹ç›®ç›®å½•ï¼ˆåŸºç¡€é¡¹ç›®ç›®å½•ï¼‰"></a>2.å»ºç«‹é¡¹ç›®ç›®å½•ï¼ˆåŸºç¡€é¡¹ç›®ç›®å½•ï¼‰</h3><p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108085707668.png"></p>
<h3 id="3-ä¸‹è½½ä¾èµ–"><a href="#3-ä¸‹è½½ä¾èµ–" class="headerlink" title="3.ä¸‹è½½ä¾èµ–"></a>3.ä¸‹è½½ä¾èµ–</h3><p>react</p>
<pre><code class="ini">npm i react react-dom 
</code></pre>
<p>ä¸‹è½½babelã€‚babelæ˜¯javascriptç¼–è¾‘å™¨ï¼Œä½œç”¨å¦‚ä¸‹ï¼š</p>
<ol>
<li>è´Ÿè´£æŠŠES6ã€ES7ç­‰é«˜ç‰ˆæœ¬jsç¼–è¯‘æˆä½ç‰ˆæœ¬jsï¼Œä¾›æµè§ˆå™¨è¿è¡Œã€‚</li>
<li>è´Ÿè´£æŠŠreactè¯­æ³•ï¼ˆjsxï¼‰ç¼–è¯‘æˆjsã€‚</li>
</ol>
<pre><code class="ini"> npm i @babel/core @babel/cli @babel/preset-env @babel/preset-react --save-dev
</code></pre>
<p>é›†æˆwebpackã€‚webpackæ˜¯ä¸€ä¸ªç°ä»£JavaScriptåº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨ï¼Œç°ä»£å‰ç«¯åº”ç”¨å¾ˆå¤šéƒ½æ˜¯ç”¨webpackæ‰“åŒ…ã€‚webpack-dev-serverç”¨æ¥æ­å»ºä¸€ä¸ªæœ¬åœ°æœåŠ¡ï¼Œå¯ä»¥çƒ­åŠ è½½å‰ç«¯é¡¹ç›®</p>
<pre><code class="ini">npm i webpack webpack-dev-server webpack-cli --save-dev
</code></pre>
<p>webpacké›†æˆbabelè¿˜éœ€è¦babel-loaderï¼ŒåŠ è½½htmlæ–‡ä»¶è¿˜éœ€è¦æ’ä»¶html-webpack-pluginï¼š</p>
<pre><code class="ini">npm i babel-loader html-webpack-plugin --save-dev
</code></pre>
<h3 id="4-ç¼–è¾‘index-htmlã€App-jsã€index-js"><a href="#4-ç¼–è¾‘index-htmlã€App-jsã€index-js" class="headerlink" title="4.ç¼–è¾‘index.htmlã€App.jsã€index.js"></a>4.ç¼–è¾‘index.htmlã€App.jsã€index.js</h3><pre><code class="html">//index.html
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;root&quot;&gt;root&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<pre><code class="javascript">//App.js
import React from &quot;react&quot;;
class App extends React.PureComponent&#123;
    render()&#123;
        return (
            &lt;div&gt;
                App
            &lt;/div&gt;
          );
    &#125;
&#125;

export default App
</code></pre>
<pre><code class="javascript">//index.js
import React from &#39;react&#39;;
import &#123; createRoot &#125; from &#39;react-dom/client&#39;;
import App from &#39;./App&#39;;

const root = createRoot(document.getElementById(&#39;root&#39;))
root.render(&lt;App /&gt;)
</code></pre>
<h3 id="5-åœ¨æ ¹ç›®å½•ä¸‹æ·»åŠ -babelrcæ–‡ä»¶ã€webpack-config-jsæ–‡ä»¶"><a href="#5-åœ¨æ ¹ç›®å½•ä¸‹æ·»åŠ -babelrcæ–‡ä»¶ã€webpack-config-jsæ–‡ä»¶" class="headerlink" title="5.åœ¨æ ¹ç›®å½•ä¸‹æ·»åŠ .babelrcæ–‡ä»¶ã€webpack.config.jsæ–‡ä»¶"></a>5.åœ¨æ ¹ç›®å½•ä¸‹æ·»åŠ .babelrcæ–‡ä»¶ã€webpack.config.jsæ–‡ä»¶</h3><p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108093539451.png"></p>
<h3 id="6-é…ç½®-babelrcã€webpack-config-js"><a href="#6-é…ç½®-babelrcã€webpack-config-js" class="headerlink" title="6.é…ç½®.babelrcã€webpack.config.js"></a>6.é…ç½®.babelrcã€webpack.config.js</h3><pre><code class="javascript">//.babelrc
&#123;
    &quot;presets&quot;: [&quot;@babel/preset-env&quot;,&quot;@babel/preset-react&quot;]
&#125;
</code></pre>
<pre><code class="javascript">//webpack.config.js
const path = require(&#39;path&#39;);
const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;);

module.exports = &#123;
    //webpackå…¥å£æ–‡ä»¶ï¼Œwebpackä»è¿™é‡Œå¼€å§‹æ„å»ºä¾èµ–å›¾
    entry:&#123;
        main:&#39;./src/index.js&#39;
    &#125;,
    //è¾“å‡ºæ–‡ä»¶ ./dist/bundle.js
    output:&#123;
        path: path.resolve(__dirname,&#39;dist&#39;),
        filename:&#39;bundle.js&#39;
    &#125;,
    //webpackåªèƒ½å¤„ç†jså’Œjsonæ–‡ä»¶ï¼ŒåŠ è½½åˆ«çš„æ–‡ä»¶éœ€è¦loader
    module:&#123;
        rules:[
            &#123;
                test:/.m?js/,
                use:&#39;babel-loader&#39;,
                exclude:/node_modules/
            &#125;
        ]
    &#125;,
    //webpackåŠ è½½htmlæ–‡ä»¶éœ€è¦html-webpack-pluginæ’ä»¶å¤„ç†ã€‚
    //å¯åŠ¨webpack-dev-serverçš„æ—¶å€™ï¼Œä¼šæŠŠæ‰“åŒ…å¥½çš„jsæ–‡ä»¶ï¼Œcssæ–‡ä»¶ï¼Œhtmlæ–‡ä»¶æ”¾åœ¨å†…å­˜é‡Œ
    plugins:[
        new HtmlWebpackPlugin(&#123;
            template:&#39;./public/index.html&#39;
        &#125;)
    ],
    mode:&#39;development&#39;

&#125;
</code></pre>
<h3 id="7-å½“æˆ‘ä»¬é…ç½®å¥½ä¸Šé¢çš„é¡¹ç›®äº†ï¼Œç°åœ¨æˆ‘ä»¬å°±å¯ä»¥è¿è¡Œäº†"><a href="#7-å½“æˆ‘ä»¬é…ç½®å¥½ä¸Šé¢çš„é¡¹ç›®äº†ï¼Œç°åœ¨æˆ‘ä»¬å°±å¯ä»¥è¿è¡Œäº†" class="headerlink" title="7.å½“æˆ‘ä»¬é…ç½®å¥½ä¸Šé¢çš„é¡¹ç›®äº†ï¼Œç°åœ¨æˆ‘ä»¬å°±å¯ä»¥è¿è¡Œäº†"></a>7.å½“æˆ‘ä»¬é…ç½®å¥½ä¸Šé¢çš„é¡¹ç›®äº†ï¼Œç°åœ¨æˆ‘ä»¬å°±å¯ä»¥è¿è¡Œäº†</h3><p>ç°åœ¨æˆ‘ä»¬è¿˜å¾—é…ç½®ä¸€ä¸ªå°ç»†èŠ‚package,json</p>
<pre><code class="javascript">&#123;
  &quot;name&quot;: &quot;react-app-start&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: &#123;
    //--mode=developmentä¸ºå¼€å‘ç¯å¢ƒï¼Œé€Ÿåº¦è¾ƒå¿«ï¼Œä¸Šçº¿å¯ä»¥é…ç½®ä¸ºç”Ÿäº§ç¯å¢ƒï¼Œä¼šå‹ç¼©ï¼Œä¼˜åŒ–ä»£ç 
    //--watchä¸ºç›‘å¬ä»£ç å˜åŒ–ï¼Œåªè¦ä»£ç å˜åŒ–ï¼Œä¼šé‡æ–°ç¼–è¯‘
    //buildæ˜¯ç”Ÿäº§ç¯å¢ƒçš„æ‰“åŒ…
    &quot;serve&quot;: &quot;webpack --mode=development --watch&quot;,
    &quot;build&quot;: &quot;webpack --mode=production&quot;
  &#125;,
  &quot;keywords&quot;: [],
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: &#123;
    &quot;react&quot;: &quot;^18.2.0&quot;,
    &quot;react-dom&quot;: &quot;^18.2.0&quot;,
    &quot;webpack&quot;: &quot;^5.74.0&quot;
  &#125;,
  &quot;devDependencies&quot;: &#123;
    &quot;@babel/cli&quot;: &quot;^7.19.3&quot;,
    &quot;@babel/core&quot;: &quot;^7.20.2&quot;,
    &quot;@babel/preset-env&quot;: &quot;^7.20.2&quot;,
    &quot;@babel/preset-react&quot;: &quot;^7.18.6&quot;,
    &quot;babel-loader&quot;: &quot;^9.1.0&quot;,
    &quot;html-webpack-plugin&quot;: &quot;^5.5.0&quot;,
    &quot;webpack-cli&quot;: &quot;^4.10.0&quot;
  &#125;
&#125;
</code></pre>
<p>è¿™æ—¶å€™å°±å¯ä»¥æ‰§è¡Œå‘½ä»¤äº†</p>
<pre><code class="ini">npm run serve
</code></pre>
<p>æ‰“åŒ…æ‰§è¡Œå‘½ä»¤</p>
<pre><code class="ini">npm run build
</code></pre>
<h3 id="8-å¦‚æœæ²¡æœ‰æŠ¥é”™çš„è¯ï¼Œä½ å°±ä¼šçœ‹è§ä¸‹é¢çš„é¡µé¢"><a href="#8-å¦‚æœæ²¡æœ‰æŠ¥é”™çš„è¯ï¼Œä½ å°±ä¼šçœ‹è§ä¸‹é¢çš„é¡µé¢" class="headerlink" title="8.å¦‚æœæ²¡æœ‰æŠ¥é”™çš„è¯ï¼Œä½ å°±ä¼šçœ‹è§ä¸‹é¢çš„é¡µé¢"></a>8.å¦‚æœæ²¡æœ‰æŠ¥é”™çš„è¯ï¼Œä½ å°±ä¼šçœ‹è§ä¸‹é¢çš„é¡µé¢</h3><p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108100300240.png"></p>
<h3 id="9-è‡³æ­¤webpackç®€æ˜“ç‰ˆé…ç½®å·²ç»å®Œæˆã€‚æ¥ä¸‹æ¥é…ç½®çƒ­åŠ è½½åŠŸèƒ½ï¼Œä¸‹è½½webpack-dev-serverï¼š"><a href="#9-è‡³æ­¤webpackç®€æ˜“ç‰ˆé…ç½®å·²ç»å®Œæˆã€‚æ¥ä¸‹æ¥é…ç½®çƒ­åŠ è½½åŠŸèƒ½ï¼Œä¸‹è½½webpack-dev-serverï¼š" class="headerlink" title="9.è‡³æ­¤webpackç®€æ˜“ç‰ˆé…ç½®å·²ç»å®Œæˆã€‚æ¥ä¸‹æ¥é…ç½®çƒ­åŠ è½½åŠŸèƒ½ï¼Œä¸‹è½½webpack-dev-serverï¼š"></a>9.è‡³æ­¤webpackç®€æ˜“ç‰ˆé…ç½®å·²ç»å®Œæˆã€‚æ¥ä¸‹æ¥é…ç½®çƒ­åŠ è½½åŠŸèƒ½ï¼Œä¸‹è½½webpack-dev-serverï¼š</h3><pre><code class="ini">npm i webpack-dev-server --save-dev
</code></pre>
<p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108100733217.png"></p>
<p>æ‰§è¡Œå‘½ä»¤ï¼š</p>
<pre><code class="ini">npm run start
</code></pre>
<p>é¡¹ç›®åœ¨3000ç«¯å£å¯åŠ¨ï¼Œå¯åŠ¨åä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨çª—å£ã€‚çƒ­åŠ è½½é…ç½®å®Œæˆï¼Œæ–‡ä»¶ä¿®æ”¹ä¿å­˜åæµè§ˆå™¨ç›´æ¥å±•ç¤ºå‡ºæ¥ã€‚</p>
<p>åˆ°æ­¤reacté¡¹ç›®ç®€åŒ–ç‰ˆæ­å»ºå®Œæˆã€‚åç»­ç»§ç»­é›†æˆå…¶ä»–å·¥å…·åº“å³å¯ã€‚</p>
<h3 id="10-reactä½¿ç”¨ts"><a href="#10-reactä½¿ç”¨ts" class="headerlink" title="10.reactä½¿ç”¨ts"></a>10.reactä½¿ç”¨ts</h3><p>tså¯¹æ¯”jsæœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯å¤šäº†ç±»å‹æ£€æŸ¥ã€‚æ¨èå‰ç«¯è¯­è¨€ä½¿ç”¨tsã€‚æ¥ä¸‹æ¥ä»‹ç»åœ¨webpackä¸­é…ç½®tsã€‚</p>
<p>å®‰è£…typescriptã€ts-loaderã€‚typescriptæ˜¯tsç¼–è¾‘å™¨ï¼ŒæŠŠtsä»£ç ç¼–è¯‘æˆjsï¼Œts-loaderæ˜¯è®©webpackè¯†åˆ«.ts&#x2F;.tsxæ–‡ä»¶ï¼Œè°ƒç”¨ç¼–è¯‘å™¨ç¼–è¯‘ï¼Œ</p>
<pre><code class="ini">npm i typescript ts-loader --save-dev
</code></pre>
<p>æ·»åŠ tsé…ç½®æ–‡ä»¶,åœ¨æ ¹ç›®å½•ä¸‹æ·»åŠ tsconfig.jsonï¼š</p>
<pre><code class="ini">//tsconfig.json
&#123;
    &quot;compilerOptions&quot;: &#123;
        &quot;target&quot;: &quot;es5&quot;,
        &quot;lib&quot;:[&quot;es6&quot;,&quot;dom&quot;],
        &quot;module&quot;: &quot;esnext&quot;,
        &quot;moduleResolution&quot;: &quot;node&quot;,
        &quot;jsx&quot;:&quot;react&quot;,
        &quot;sourceMap&quot;: true,
        &quot;strict&quot;: true,
        &quot;importHelpers&quot;: true,
        &quot;skipLibCheck&quot;: true,
        &quot;allowJs&quot;: true,
        &quot;allowSyntheticDefaultImports&quot;: true
    &#125;
&#125;
</code></pre>
<p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108101701100.png"></p>
<p>ä¿®æ”¹webpacké…ç½®</p>
<pre><code class="javascript">const path = require(&#39;path&#39;);
const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;);

module.exports = &#123;
    //webpackå…¥å£æ–‡ä»¶ï¼Œwebpackä»è¿™é‡Œå¼€å§‹æ„å»ºä¾èµ–å›¾
    entry:&#123;
        main:&#39;./src/index.tsx&#39;
    &#125;,
    //è¾“å‡ºæ–‡ä»¶ ./dist/bundle.js
    output:&#123;
        path: path.resolve(__dirname,&#39;dist&#39;),
        filename:&#39;bundle.js&#39;
    &#125;,
    //webpackåªèƒ½å¤„ç†jså’Œjsonæ–‡ä»¶ï¼ŒåŠ è½½åˆ«çš„æ–‡ä»¶éœ€è¦loader
    module:&#123;
        rules:[
            &#123;
                test:/.m?js|tsx$/,
                use:&#39;ts-loader&#39;,
                exclude:/node_modules/
            &#125;
        ]
    &#125;,
    //å¢åŠ æ‰©å±•é€‰é¡¹ï¼Œè®©webpackå¯ä»¥è¯†åˆ«.ts/tsxæ–‡ä»¶
    resolve:&#123;
        extensions:[&#39;.ts&#39;,&#39;.tsx&#39;,&#39;.js&#39;]
    &#125;,
    plugins:[
        new HtmlWebpackPlugin(&#123;
            template:&#39;./public/index.html&#39;
        &#125;)
    ],
    mode:&#39;development&#39;

&#125;
</code></pre>
<p>ç›®å‰å¯èƒ½ä¼šæŠ¥é”™</p>
<p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108110219148.png"></p>
<p>æ ¹æ®æç¤ºï¼Œæˆ‘ä»¬ç¼ºä¸€äº›ä¾èµ–</p>
<pre><code class="ini">npm i --save-dev @types/react
npm i --save-dev @types/react-dom
</code></pre>
<p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬è¿˜ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜</p>
<p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108111925911.png"></p>
<p>é‚£ä¹ˆè¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯ç¼ºnullç±»å‹æ£€æµ‹</p>
<p>å…¶ä»–äººå›ç­”è¯´åº”è¯¥æ·»åŠ nullæ£€æŸ¥ï¼Œä½†Typescriptä¹Ÿæœ‰ä¸€ä¸ªénullæ–­è¨€ï¼Œå½“æ‚¨é€šè¿‡æ·»åŠ ï¼è¿ç®—ç¬¦æ·»åŠ åˆ°è¯­å¥æœ«å°¾ï¼š</p>
<p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108112118833.png"></p>
<p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬reactä½¿ç”¨tsçš„é—®é¢˜å°±è§£å†³äº†</p>
<p>å¯åŠ¨é¡¹ç›®ï¼Œè¿è¡ŒæˆåŠŸï¼Œtsé›†æˆæˆåŠŸäº†</p>
<h3 id="11-reacté›†æˆè·¯ç”±"><a href="#11-reacté›†æˆè·¯ç”±" class="headerlink" title="11.reacté›†æˆè·¯ç”±"></a>11.reacté›†æˆè·¯ç”±</h3><p>å®‰è£…è·¯ç”±åº“</p>
<pre><code class="ini">npm install react-router-dom@6
</code></pre>
<p>åˆ›å»ºé¡¹ç›®ç›®å½•</p>
<p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108143446498.png"></p>
<p>ç¼–è¾‘About.tsxã€Home.tsxã€index.tsxã€App.tsx</p>
<pre><code class="tsx">//About.tsx
import React from &quot;react&quot;;
import &#123; Link &#125; from &quot;react-router-dom&quot;;

class About extends React.PureComponent&#123;
    render()&#123;
        return (
            &lt;div&gt;
                this is about&lt;br/&gt;
                &lt;Link to=&#123;&#39;/home&#39;&#125;&gt;to home&lt;/Link&gt;
            &lt;/div&gt;
        )
    &#125;
&#125;

export default About;
</code></pre>
<pre><code class="tsx">//Home.tsx
import React from &quot;react&quot;;
import &#123; Link &#125; from &quot;react-router-dom&quot;;

class Home extends React.PureComponent&#123;
    render()&#123;
        return (
            &lt;div&gt;
                this is home&lt;br/&gt;
                &lt;Link to=&#123;&#39;/about&#39;&#125;&gt;to about&lt;/Link&gt;
            &lt;/div&gt;
        )
    &#125;
&#125;

export default Home;
</code></pre>
<pre><code class="tsx">//App.tsx
import React from &quot;react&quot;;
import &#123; Routes,Route &#125; from &quot;react-router-dom&quot;;
import About from &quot;./compents/About&quot;;
import Home from &quot;./compents/Home&quot;;

class App extends React.PureComponent&#123;
    render()&#123;
        return (
            &lt;div&gt;
                &lt;Routes&gt;
                    &lt;Route path=&quot;/&quot; element=&#123;&lt;Home /&gt;&#125;&gt;&lt;/Route&gt;
                    &lt;Route path=&quot;/home&quot; element=&#123;&lt;Home /&gt;&#125;&gt;&lt;/Route&gt;
                    &lt;Route path=&quot;/about&quot; element=&#123;&lt;About /&gt;&#125;&gt;&lt;/Route&gt;
                &lt;/Routes&gt;
            &lt;/div&gt;
          );
    &#125;
&#125;

export default App
</code></pre>
<pre><code class="tsx">//index.tsx
import React from &#39;react&#39;;
import &#123; createRoot &#125; from &#39;react-dom/client&#39;;
import App from &#39;./App&#39;;
import &#123; BrowserRouter &#125; from &#39;react-router-dom&#39;;

const root = createRoot(document.getElementById(&#39;root&#39;)!)
root.render(
    &lt;BrowserRouter&gt;
        &lt;App /&gt;
    &lt;/BrowserRouter&gt;
)
</code></pre>
<p>reactè·¯ç”±æ­å»ºæˆåŠŸ</p>
<p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108143901241.png"></p>
<h3 id="12-reactä½¿ç”¨redux"><a href="#12-reactä½¿ç”¨redux" class="headerlink" title="12.reactä½¿ç”¨redux"></a>12.reactä½¿ç”¨redux</h3><p>å¯¹äºå¤§å‹é¡¹ç›®æ¥è¯´ï¼Œæ•°æ®ç®¡ç†å·¥å…·ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„ã€‚æˆ‘ä»¬ç®€å•ä»‹ç»reduxã€react-reduxçš„ä½¿ç”¨ã€‚è¿™é‡Œä½¿ç”¨çš„æ˜¯@reduxjs&#x2F;toolkitåº“ï¼Œç›¸æ¯”reduxåº“ä½¿ç”¨æ–¹æ³•æœ‰å¾ˆå¤§åŒºåˆ«ï¼Œæƒ³ç”¨reduxåº“çš„è¯·è‡ªè¡ŒæŸ¥çœ‹reduxæ–‡æ¡£ã€‚</p>
<p>ä¸‹è½½ä¾èµ–</p>
<pre><code class="ini">npm i @reduxjs/toolkit react-redux
</code></pre>
<p>åˆ›å»ºé¡¹ç›®ç›®å½•</p>
<p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108151822086.png"></p>
<p>ç¼–è¾‘store.tsã€countSlice.tsã€counter.tsxã€index.tsxã€App.tsx</p>
<pre><code class="tsx">//store.ts
import &#123; configureStore &#125; from &quot;@reduxjs/toolkit&quot;;
import counterReducer from &#39;./countSlice&#39;;

export default configureStore(&#123;
    reducer:&#123;
        counter:counterReducer
    &#125;
&#125;)
</code></pre>
<pre><code class="tsx">//countSlice.ts
import &#123; createSlice &#125; from &quot;@reduxjs/toolkit&quot;;

export const counterSlice = createSlice(&#123;
    name:&#39;counter&#39;,
    initialState:&#123;
        value:0
    &#125;,
    reducers:&#123;
        increment:(state) =&gt; &#123;
            state.value += 1
        &#125;,
        decrement:(state) =&gt;&#123;
            state.value -= 1
        &#125;,
        incrementByAmount:(state,action) =&gt; &#123;
            state.value += action.payload
        &#125;
    &#125;
&#125;)

export const &#123; increment,decrement,incrementByAmount &#125; = counterSlice.actions
export default counterSlice.reducer
</code></pre>
<pre><code class="tsx">//index.tsx
import React from &#39;react&#39;;
import &#123; createRoot &#125; from &#39;react-dom/client&#39;;
import App from &#39;./App&#39;;
import &#123; BrowserRouter &#125; from &#39;react-router-dom&#39;;
import store  from &#39;./store/store&#39;;
import &#123; Provider &#125; from &#39;react-redux&#39;;

const root = createRoot(document.getElementById(&#39;root&#39;)!)
root.render(
    &lt;BrowserRouter&gt;
    &lt;Provider store=&#123;store&#125;&gt;
        &lt;App /&gt;
    &lt;/Provider&gt;  
    &lt;/BrowserRouter&gt;
)
</code></pre>
<pre><code class="tsx">//counter.tsx
import React from &quot;react&quot;;
import &#123; useSelector,useDispatch &#125; from &quot;react-redux&quot;;
import &#123; decrement,increment &#125; from &quot;../store/countSlice&quot;;

function Counter()&#123;
    const count = useSelector((state:any) =&gt; state.counter.value)
    const dispatch = useDispatch()
    
    return (
        &lt;div&gt;
            &lt;div&gt;
                &lt;button 
                aria-label=&quot;Increment value&quot;
                onClick=&#123;() =&gt; dispatch(increment())&#125;
                &gt;
                    increment
                &lt;/button&gt;
                &lt;span&gt;&#123;count&#125;&lt;/span&gt;
                &lt;button
                aria-label=&quot;Decrement value&quot;
                onClick=&#123;() =&gt; dispatch(decrement())&#125;
                &gt;
                    Decrement
                &lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    )
&#125;

export default Counter;
</code></pre>
<pre><code class="tsx">//App.tsx
import React from &quot;react&quot;;
import &#123; Routes,Route &#125; from &quot;react-router-dom&quot;;
import About from &quot;./compents/About&quot;;
import Home from &quot;./compents/Home&quot;;
import Counter from &quot;./compents/Counter&quot;;

class App extends React.PureComponent&#123;
    render()&#123;
        return (
            &lt;div&gt;
                &lt;Routes&gt;
                    &lt;Route path=&quot;/&quot; element=&#123;&lt;Home /&gt;&#125;&gt;&lt;/Route&gt;
                    &lt;Route path=&quot;/home&quot; element=&#123;&lt;Home /&gt;&#125;&gt;&lt;/Route&gt;
                    &lt;Route path=&quot;/about&quot; element=&#123;&lt;About /&gt;&#125;&gt;&lt;/Route&gt;
                    &lt;Route path=&quot;/counter&quot; element=&#123;&lt;Counter /&gt;&#125;&gt;&lt;/Route&gt;
                &lt;/Routes&gt;
            &lt;/div&gt;
          );
    &#125;
&#125;

export default App
</code></pre>
<p>å½“æˆ‘æ‰§è¡Œå‘½ä»¤è¿›å…¥counterç»„ä»¶ç‚¹å‡»åŠŸèƒ½æŒ‰é’®å°±å‘ç°reduxä½¿ç”¨æˆåŠŸäº†</p>
<pre><code class="ini">npm run start
</code></pre>
<p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108152335825.png"></p>
<h3 id="13-é›†æˆUIåº“"><a href="#13-é›†æˆUIåº“" class="headerlink" title="13.é›†æˆUIåº“"></a>13.é›†æˆUIåº“</h3><p>è¿™é‡Œä½¿ç”¨çš„æ˜¯antdç¬¬ä¸‰æ–¹åº“</p>
<p>å®‰è£…uiåº“</p>
<pre><code class="ini">npm i antd
</code></pre>
<p>ä½¿ç”¨antdè¿˜éœ€è¦å¼•ç”¨å…¶æ ·å¼æ–‡ä»¶ï¼Œå› æ­¤è¿˜éœ€è¦ä¸‹è½½css-loaderã€style-loaderã€‚</p>
<pre><code class="ini">npm i style-loader css-loader -D
</code></pre>
<p>ä¿®æ”¹webpacké…ç½®</p>
<pre><code class="javascript">const path = require(&#39;path&#39;);
const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;);

module.exports = &#123;
    //webpackå…¥å£æ–‡ä»¶ï¼Œwebpackä»è¿™é‡Œå¼€å§‹æ„å»ºä¾èµ–å›¾
    entry:&#123;
        main:&#39;./src/index.tsx&#39;
    &#125;,
    //è¾“å‡ºæ–‡ä»¶ ./dist/bundle.js
    output:&#123;
        path: path.resolve(__dirname,&#39;dist&#39;),
        filename:&#39;bundle.js&#39;
    &#125;,
    //webpackåªèƒ½å¤„ç†jså’Œjsonæ–‡ä»¶ï¼ŒåŠ è½½åˆ«çš„æ–‡ä»¶éœ€è¦loader
    module:&#123;
        rules:[
            &#123;
                test:/.j|tsx$/,
                use:&#39;ts-loader&#39;,
                exclude:/node_modules/
            &#125;,
            &#123;
                test:/.css$/,
                use:[&#39;style-loader&#39;,&#39;css-loader&#39;]
            &#125;
        ]
    &#125;,
    //å¢åŠ æ‰©å±•é€‰é¡¹ï¼Œè®©webpackå¯ä»¥è¯†åˆ«.ts/tsxæ–‡ä»¶
    resolve:&#123;
        extensions:[&#39;.ts&#39;,&#39;.tsx&#39;,&#39;.js&#39;]
    &#125;,
    plugins:[
        new HtmlWebpackPlugin(&#123;
            template:&#39;./public/index.html&#39;
        &#125;)
    ],
    mode:&#39;development&#39;
&#125;
</code></pre>
<p>ä½¿ç”¨antdçš„è¯ç›´æ¥å¼•å…¥ä½¿ç”¨å°±å¯ä»¥äº†</p>
<pre><code class="tsx">//Home.tsx
import React from &quot;react&quot;;
import &#123; Link &#125; from &quot;react-router-dom&quot;;
import &#123; Button &#125; from &quot;antd&quot;;

class Home extends React.PureComponent&#123;
    render()&#123;
        return (
            &lt;div&gt;
                this is home&lt;br/&gt;
                &lt;Link to=&#123;&#39;/about&#39;&#125;&gt;
                    &lt;Button type=&#123;&#39;primary&#39;&#125;&gt;to about&lt;/Button&gt;
                &lt;/Link&gt;
                &lt;Link to=&#123;&#39;/counter&#39;&#125;&gt;
                    &lt;Button type=&#123;&#39;primary&#39;&#125;&gt;to counter&lt;/Button&gt; 
                &lt;/Link&gt;
            &lt;/div&gt;
        )
    &#125;
&#125;

export default Home;
</code></pre>
<p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108153155300.png"></p>
<h3 id="14-è·¨åŸŸé—®é¢˜"><a href="#14-è·¨åŸŸé—®é¢˜" class="headerlink" title="14.è·¨åŸŸé—®é¢˜"></a>14.è·¨åŸŸé—®é¢˜</h3><p>ä¿®æ”¹webpack.config.jsä½¿ç”¨proxy</p>
<pre><code class="javascript">const path = require(&#39;path&#39;);
const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;);

module.exports = &#123;
    //webpackå…¥å£æ–‡ä»¶ï¼Œwebpackä»è¿™é‡Œå¼€å§‹æ„å»ºä¾èµ–å›¾
    entry:&#123;
        main:&#39;./src/index.tsx&#39;
    &#125;,
    //è¾“å‡ºæ–‡ä»¶ ./dist/bundle.js
    output:&#123;
        path: path.resolve(__dirname,&#39;dist&#39;),
        filename:&#39;bundle.js&#39;
    &#125;,
    //webpackåªèƒ½å¤„ç†jså’Œjsonæ–‡ä»¶ï¼ŒåŠ è½½åˆ«çš„æ–‡ä»¶éœ€è¦loader
    module:&#123;
        rules:[
            &#123;
                test:/.j|tsx$/,
                use:&#39;ts-loader&#39;,
                exclude:/node_modules/
            &#125;,
            &#123;
                test:/.css$/,
                use:[&#39;style-loader&#39;,&#39;css-loader&#39;]
            &#125;
        ]
    &#125;,
    //å¢åŠ æ‰©å±•é€‰é¡¹ï¼Œè®©webpackå¯ä»¥è¯†åˆ«.ts/tsxæ–‡ä»¶
    resolve:&#123;
        extensions:[&#39;.ts&#39;,&#39;.tsx&#39;,&#39;.js&#39;]
    &#125;,
    plugins:[
        new HtmlWebpackPlugin(&#123;
            template:&#39;./public/index.html&#39;
        &#125;)
    ],
    mode:&#39;development&#39;,
    devServer:&#123;
        proxy:&#123;
            &#39;/api&#39;:&#39;http://localhost:8080&#39;,
        &#125;,
        client:&#123;
            progress:true
        &#125;
    &#125;

&#125;
</code></pre>
<p>é…ç½®åï¼Œå‰ç«¯è¯·æ±‚å°±ä¼šè¢«ä»£ç†åˆ°8080ç«¯å£ï¼Œè§£å†³è·¨åŸŸé—®é¢˜</p>
<p>15.é›†æˆESLintå’Œprettier</p>
<p>å®‰è£…ESLint</p>
<pre><code class="ini">//æœ¬åœ°å®‰è£…
npm install eslint --save-dev
//å…¨å±€å®‰è£…
npm install -g eslint
</code></pre>
<p>è¿è¡Œeslint â€“initï¼Œé€‰æ‹©å·¥ç¨‹ä½¿ç”¨äº†reactï¼Œè‡ªåŠ¨ç”Ÿæˆ.eslintrc.jsæ–‡ä»¶</p>
<pre><code class="ini">eslint --init
</code></pre>
<p>å®‰è£…prettier</p>
<pre><code class="ini">//æœ¬åœ°
npm i -D --save-exact prettier
//å…¨å±€
npm i --global prettier
</code></pre>
<p>å®‰è£…eslint-config-prettieræ’ä»¶ï¼ˆç¦ç”¨ eslint é£æ ¼æ ¡éªŒ)</p>
<pre><code class="ini">npm i -D eslint-config-prettier
</code></pre>
<p>å®‰è£…eslint-plugin-prettieræ’ä»¶ï¼ˆä½¿eslinté‡‡ç”¨prettierçš„é£æ ¼æ ¡éªŒï¼‰</p>
<pre><code class="ini">npm i -D eslint-plugin-prettier
</code></pre>
<p>é…ç½®eslintrc.jsæ–‡ä»¶</p>
<pre><code class="javascript">// eslint-disable-next-line no-undef
module.exports = &#123;
    &quot;env&quot;: &#123;
        &quot;browser&quot;: true,
        &quot;es2021&quot;: true,
        &quot;jest&quot;:true
    &#125;,
    &quot;extends&quot;: [
        &quot;eslint:recommended&quot;,
        &quot;plugin:react/recommended&quot;,
        &quot;plugin:@typescript-eslint/recommended&quot;
    ],
    &quot;overrides&quot;: [
    ],
    &quot;parser&quot;: &quot;@typescript-eslint/parser&quot;,
    &quot;parserOptions&quot;: &#123;
        &quot;ecmaVersion&quot;: &quot;latest&quot;
    &#125;,
    &quot;plugins&quot;: [
        &quot;react&quot;,
        &quot;@typescript-eslint&quot;
    ],
    &quot;rules&quot;: &#123;
    &quot;no-cond-assign&quot;: 2,
    &quot;no-console&quot;: [
      &quot;error&quot;, &#123;
        &quot;allow&quot;: [&quot;log&quot;, &quot;warn&quot;, &quot;error&quot;, &quot;info&quot;]
      &#125;
    ],
    // ç¦æ­¢ function å®šä¹‰ä¸­å‡ºç°é‡åå‚æ•°
    &quot;no-dupe-args&quot;: 2,
    // ç¦æ­¢å¯¹è±¡å­—é¢é‡ä¸­å‡ºç°é‡å¤çš„ key
    &quot;no-dupe-keys&quot;: 2,
    // ç¦æ­¢é‡å¤çš„ case æ ‡ç­¾
    &quot;no-duplicate-case&quot;: 2,
    // ç¦æ­¢å¯¹ catch å­å¥çš„å‚æ•°é‡æ–°èµ‹å€¼
    &quot;no-ex-assign&quot;: 2,
    // ç¦æ­¢ä¸å¿…è¦çš„å¸ƒå°”è½¬æ¢
    &quot;no-extra-boolean-cast&quot;: 2,
    // ç¦æ­¢ä¸å¿…è¦çš„æ‹¬å· //(a * b) + c;//æŠ¥é”™
    &quot;no-extra-parens&quot;: 0,
    // ç¦æ­¢ catch å­å¥çš„å‚æ•°ä¸å¤–å±‚ä½œç”¨åŸŸä¸­çš„å˜é‡åŒå
    &quot;no-catch-shadow&quot;: 0,
    // ä¸å…è®¸æ ‡ç­¾ä¸å˜é‡åŒå
    &quot;no-label-var&quot;: 2,
    // ç¦ç”¨ç‰¹å®šçš„å…¨å±€å˜é‡
    &quot;no-restricted-globals&quot;: 2,
    // ç¦æ­¢è¦†ç›–å—é™åˆ¶çš„æ ‡è¯†ç¬¦
    &quot;no-shadow-restricted-names&quot;: 2,
    // ç¦æ­¢å°†å˜é‡åˆå§‹åŒ–ä¸º undefined
    
    // å¼ºåˆ¶ä½¿ç”¨ä¸€è‡´çš„æ¢è¡Œé£æ ¼
    &quot;linebreak-style&quot;: [2, &quot;unix&quot;],
    //åœ¨JSXä¸­å¼ºåˆ¶å¸ƒå°”å±æ€§ç¬¦å·
    &quot;react/jsx-boolean-value&quot;: 2,
    //åœ¨JSXä¸­éªŒè¯å³æ‹¬å·ä½ç½®
    // &quot;react/jsx-closing-bracket-location&quot;: 1,
    //åœ¨JSXå±æ€§å’Œè¡¨è¾¾å¼ä¸­åŠ å¼ºæˆ–ç¦æ­¢å¤§æ‹¬å·å†…çš„ç©ºæ ¼ã€‚
    &quot;react/jsx-curly-spacing&quot;: [2, &#123;
      &quot;when&quot;: &quot;never&quot;,
      &quot;children&quot;: true
    &#125;],
    //åœ¨æ•°ç»„æˆ–è¿­ä»£å™¨ä¸­éªŒè¯JSXå…·æœ‰keyå±æ€§
    &quot;react/jsx-key&quot;: 2,
    // é™åˆ¶JSXä¸­å•è¡Œä¸Šçš„propsçš„æœ€å¤§æ•°é‡
    &quot;react/jsx-max-props-per-line&quot;: [1, &#123;
      &quot;maximum&quot;: 5
    &#125;],
    //é˜²æ­¢åœ¨JSXä¸­é‡å¤çš„props
    &quot;react/jsx-no-duplicate-props&quot;: 2,
    //  //é˜²æ­¢ä½¿ç”¨æœªåŒ…è£…çš„JSXå­—ç¬¦ä¸²
    // &quot;react/jsx-no-literals&quot;: 0,
    //åœ¨JSXä¸­ç¦æ­¢æœªå£°æ˜çš„å˜é‡
    &quot;react/jsx-no-undef&quot;: 2,
    //ä¸ºç”¨æˆ·å®šä¹‰çš„JSXç»„ä»¶å¼ºåˆ¶ä½¿ç”¨PascalCase
    &quot;react/jsx-pascal-case&quot;: 0,
    //é˜²æ­¢ååº”è¢«é”™è¯¯åœ°æ ‡è®°ä¸ºæœªä½¿ç”¨
    &quot;react/jsx-uses-react&quot;: 2,
    //é˜²æ­¢åœ¨JSXä¸­ä½¿ç”¨çš„å˜é‡è¢«é”™è¯¯åœ°æ ‡è®°ä¸ºæœªä½¿ç”¨
    &quot;react/jsx-uses-vars&quot;: 2,
    //é˜²æ­¢åœ¨componentDidMountä¸­ä½¿ç”¨setState
    &quot;react/no-did-mount-set-state&quot;: 2,
    //é˜²æ­¢åœ¨componentDidUpdateä¸­ä½¿ç”¨setState
    &quot;react/no-did-update-set-state&quot;: 2,
    //é˜²æ­¢ä½¿ç”¨æœªçŸ¥çš„DOMå±æ€§
    &quot;react/no-unknown-property&quot;: 2,
    //ä¸ºReactç»„ä»¶å¼ºåˆ¶æ‰§è¡ŒES5æˆ–ES6ç±»
    &quot;react/prefer-es6-class&quot;: 2,
    //é˜²æ­¢åœ¨Reactç»„ä»¶å®šä¹‰ä¸­ä¸¢å¤±propséªŒè¯
    // &quot;react/prop-types&quot;: 1,
    //ä½¿ç”¨JSXæ—¶é˜²æ­¢ä¸¢å¤±React
    &quot;react/react-in-jsx-scope&quot;: 2,
    //é˜²æ­¢æ²¡æœ‰childrençš„ç»„ä»¶çš„é¢å¤–ç»“æŸæ ‡ç­¾
    &quot;react/self-closing-comp&quot;: 0,
    //ç¦æ­¢ä¸å¿…è¦çš„boolè½¬æ¢
    // &quot;no-extra-boolean-cast&quot;: 0,
    //é˜²æ­¢åœ¨æ•°ç»„ä¸­éå†ä¸­ä½¿ç”¨æ•°ç»„keyåšç´¢å¼•
    // &quot;react/no-array-index-key&quot;: 0,
    //ä¸ä½¿ç”¨å¼ƒç”¨çš„æ–¹æ³•
    &quot;react/no-deprecated&quot;: 2,
    //åœ¨JSXå±æ€§ä¸­å¼ºåˆ¶æˆ–ç¦æ­¢ç­‰å·å‘¨å›´çš„ç©ºæ ¼
    &quot;react/jsx-equals-spacing&quot;: 2,
    &quot;react/jsx-filename-extension&quot;: [2, &#123;
      &quot;extensions&quot;: [&quot;.js&quot;, &quot;.jsx&quot;]
    &#125;],
    // ç¦æ­¢æœªä½¿ç”¨çš„å˜é‡
    &quot;no-unused-vars&quot;: 0,
    &#125;
&#125;
</code></pre>
<p>å½“æˆ‘ä»¬ä»£ç è¢«eslintæ£€æµ‹åˆ°ä¸ç¬¦åˆè§„åˆ™çš„ä»£ç å°±ä¼šæç¤ºï¼Œæ ¹æ®eslintæŒ‡ç¤ºä¿®æ”¹å°±å¯ä»¥</p>
<p>åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º.prettierrc æˆ– prettier.config.jsæ–‡ä»¶</p>
<pre><code class="javascript">module.exports = &#123;
    endOfLine: &#39;auto&#39;, // ä¸æ£€æµ‹æ£€æµ‹æ–‡ä»¶æ¯è¡Œç»“æŸçš„æ ¼å¼
    semi: true, // ä½¿ç”¨åˆ†å·, é»˜è®¤true
    singleQuote: true // ä½¿ç”¨å•å¼•å·, é»˜è®¤false(åœ¨jsxä¸­é…ç½®æ— æ•ˆ, é»˜è®¤éƒ½æ˜¯åŒå¼•å·)
 &#125;
</code></pre>
<p>å®‰è£…vscodeæ’ä»¶ï¼šPrettier ESLint</p>
<p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221107154026317.png"></p>
<p>è¯¥æ’ä»¶ä¼šæ ¹æ®å·¥ç¨‹æ ¹ç›®å½•ä¸‹çš„eslintrc.jså’Œprettier.config.jsæ–‡ä»¶æ ¼å¼åŒ–ä»£ç ã€‚å¯ä»¥è¿›ä¸€æ­¥è®¾ç½®ä¸ºvscodeé»˜è®¤formaterå’Œè‡ªåŠ¨æ ¼å¼åŒ–ã€‚</p>
<p>Prettieré…ç½®å¸¸ç”¨çš„å‚æ•°å¯ä»¥æ ¹æ®å›¢é˜Ÿéœ€æ±‚åˆ¶å®š</p>
<p>è¯¥æ–‡ç« åªæ˜¯é…ç½®ç®€å•çš„reactè„šæ‰‹æ¶ï¼Œæ ¸å¿ƒæµç¨‹å’Œæ–¹æ³•æ˜¯å¦‚æ­¤ï¼Œå…¶ä»–å…·ä½“éœ€æ±‚å¯ä»¥æ ¹æ®å›¢é˜Ÿå®¢åˆ¶åŒ–å®šåˆ¶</p>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><p>[antdå®˜ç½‘]: 	â€œ<a target="_blank" rel="noopener" href="https://ant.design/docs/react/introduce-cn">https://ant.design/docs/react/introduce-cn</a> â€œ<br>[ESLintä¸­æ–‡æ–‡æ¡£]: 	â€œ<a target="_blank" rel="noopener" href="https://eslint.bootcss.com/">https://eslint.bootcss.com</a> â€œ<br>[Prettierä¸­æ–‡ç½‘]: 	â€œ<a target="_blank" rel="noopener" href="https://www.prettier.cn/">https://www.prettier.cn</a> â€œ</p>
<h3 id="æºç ä»“åº“åœ°å€ï¼š"><a href="#æºç ä»“åº“åœ°å€ï¼š" class="headerlink" title="æºç ä»“åº“åœ°å€ï¼š"></a>æºç ä»“åº“åœ°å€ï¼š</h3><p><a target="_blank" rel="noopener" href="https://github.com/mengfeng/react-app-start.git">https://github.com/mengfeng/react-app-start.git</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag">é¢è¯•</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-ä»0åˆ°1æ­å»ºè‡ªå·±çš„è„šæ‰‹æ¶vue3"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/"
    >ä»0åˆ°1æ­å»ºè‡ªå·±çš„è„šæ‰‹æ¶vue3</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/" class="article-date">
  <time datetime="2022-11-07T08:16:04.000Z" itemprop="datePublished">2022-11-07</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%B7%A5%E7%A8%8B%E6%8A%80%E6%9C%AF/">å·¥ç¨‹æŠ€æœ¯</a> / <a class="article-category-link" href="/categories/%E5%B7%A5%E7%A8%8B%E6%8A%80%E6%9C%AF/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/">ä»0åˆ°1æ­å»ºè‡ªå·±çš„è„šæ‰‹æ¶vue3</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="æ­å»ºvueé¡¹ç›®è„šæ‰‹æ¶"><a href="#æ­å»ºvueé¡¹ç›®è„šæ‰‹æ¶" class="headerlink" title="æ­å»ºvueé¡¹ç›®è„šæ‰‹æ¶"></a>æ­å»ºvueé¡¹ç›®è„šæ‰‹æ¶</h1><h3 id="1-æ‰€ä»¥çš„ç½‘ç«™éƒ½éœ€è¦ä¸€ä¸ªé¡µé¢ï¼Œæ‰€ä»¥åˆ›å»ºç¬¬ä¸€ä¸ª-htmlæ–‡ä»¶ï¼ˆindex-htmlï¼‰"><a href="#1-æ‰€ä»¥çš„ç½‘ç«™éƒ½éœ€è¦ä¸€ä¸ªé¡µé¢ï¼Œæ‰€ä»¥åˆ›å»ºç¬¬ä¸€ä¸ª-htmlæ–‡ä»¶ï¼ˆindex-htmlï¼‰" class="headerlink" title="1.æ‰€ä»¥çš„ç½‘ç«™éƒ½éœ€è¦ä¸€ä¸ªé¡µé¢ï¼Œæ‰€ä»¥åˆ›å»ºç¬¬ä¸€ä¸ª.htmlæ–‡ä»¶ï¼ˆindex.htmlï¼‰"></a>1.æ‰€ä»¥çš„ç½‘ç«™éƒ½éœ€è¦ä¸€ä¸ªé¡µé¢ï¼Œæ‰€ä»¥åˆ›å»ºç¬¬ä¸€ä¸ª.htmlæ–‡ä»¶ï¼ˆindex.htmlï¼‰</h3><pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;vue-cli-start&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;
   &lt;!-- å¼•å…¥æ‰“åŒ…åçš„jsæ–‡ä»¶ --&gt;
    &lt;script src=&quot;bundle.js&quot;&gt;&lt;/script&gt; 
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="2-åˆ›å»ºsrcå’Œdistæ–‡ä»¶å¤¹"><a href="#2-åˆ›å»ºsrcå’Œdistæ–‡ä»¶å¤¹" class="headerlink" title="2.åˆ›å»ºsrcå’Œdistæ–‡ä»¶å¤¹"></a>2.åˆ›å»ºsrcå’Œdistæ–‡ä»¶å¤¹</h3><p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107081630590.png"></p>
<p>å› ä¸ºindex.htmléœ€è¦å¼•å…¥æ‰“åŒ…åçš„bundle.jsæ–‡ä»¶ï¼Œæ‰€ä»¥å°†index.jsæ”¾åˆ°äº†distç›®å½•ä¸‹</p>
<h3 id="3-åˆ›å»ºå…¥å£æ–‡ä»¶main-js"><a href="#3-åˆ›å»ºå…¥å£æ–‡ä»¶main-js" class="headerlink" title="3.åˆ›å»ºå…¥å£æ–‡ä»¶main.js"></a>3.åˆ›å»ºå…¥å£æ–‡ä»¶main.js</h3><p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107082550022.png"></p>
<p>æˆ‘ä»¬éœ€è¦å¼•å…¥vueå®ä¾‹ï¼Œä½†æ˜¯ç°åœ¨æˆ‘ä»¬æ²¡æœ‰vueåŒ…ï¼Œæ‰€ä»¥è¦å…ˆä¸‹è½½vue</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸€æ¬¡æ€§ä¸‹è½½vueæ‰€éœ€è¦çš„ä¾èµ–</p>
<pre><code class="ini">npm i vue element-ui axios
</code></pre>
<p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107083055837.png"></p>
<h3 id="4-å®‰è£…å¼€å‘ä¾èµ–"><a href="#4-å®‰è£…å¼€å‘ä¾èµ–" class="headerlink" title="4.å®‰è£…å¼€å‘ä¾èµ–"></a>4.å®‰è£…å¼€å‘ä¾èµ–</h3><pre><code class="ini">npm i -D webpack webpack-cli vue-loader vue-template-compiler sass sass-loader css-loader style-loader babel-loader @babel/core @babel/preset-env
</code></pre>
<p>å¦‚æœé¡¹ç›®æ–‡ä»¶æ²¡æœ‰package.json,é‚£ä¹ˆ</p>
<pre><code class="ini">npm init -y
</code></pre>
<h3 id="5-åˆ›å»ºwebpack-config-jså¹¶é…ç½®-æ ¹ç›®å½•ä¸‹å’Œpackage-jsonåŒä¸€ç›®å½•åˆ›å»º"><a href="#5-åˆ›å»ºwebpack-config-jså¹¶é…ç½®-æ ¹ç›®å½•ä¸‹å’Œpackage-jsonåŒä¸€ç›®å½•åˆ›å»º" class="headerlink" title="5.åˆ›å»ºwebpack.config.jså¹¶é…ç½®(æ ¹ç›®å½•ä¸‹å’Œpackage.jsonåŒä¸€ç›®å½•åˆ›å»º)"></a>5.åˆ›å»ºwebpack.config.jså¹¶é…ç½®(æ ¹ç›®å½•ä¸‹å’Œpackage.jsonåŒä¸€ç›®å½•åˆ›å»º)</h3><pre><code class="javascript">//webpack.config.jsåŸºæœ¬é…ç½®æ¨¡æ¿
module.exports = &#123;
    //å…¥å£ï¼Œè¡¨ç¤ºä»é‚£ä¸ªæ–‡ä»¶å¼€å§‹è§£æ
    entry:&#39;&#39;,
    //å‡ºå£ï¼Œè¡¨ç¤ºè¾“å‡ºæ–‡ä»¶ä½ç½®å’Œä¿¡æ¯
    output:&#123;
        path:&#39;&#39;,
        filename:&#39;&#39;
    &#125;,
    //æ¨¡å—ï¼Œå®šä¹‰åŒ¹é…è§„åˆ™å’Œè½¬æ¢loader
    module:&#123;
        rules:[
            &#123;test:/\.vue$/,use:&#39;vue-loader&#39;&#125;,
            &#123;&#125;
        ]
    &#125;,
    //æ’ä»¶,ç»™äºˆwebpackæ›´ä¸°å¯Œçš„åŠŸèƒ½
    plugins:[
        //å®ä¾‹åŒ–
        new PluginA()
    ]

&#125;
</code></pre>
<p>åŸºæœ¬é…ç½®å®Œæˆçš„webpack.config.js</p>
<pre><code class="javascript">const path = require(&#39;path&#39;)
const &#123;VueLoaderPlugin&#125; = require(&#39;vue-loader&#39;)
module.exports = &#123;
    entry:&#39;./src/main.js&#39;,
    output:&#123;
        path:path.resolve(__dirname,&#39;dist&#39;),
        filename:&#39;bundle.js&#39;
    &#125;,
    module:&#123;
        rules:[
            &#123;test:/\.vue$/,use:&#39;vue-loader&#39;&#125;,
            &#123;test:/\.s[ca]ss$/,use:[&#39;style-loader&#39;,&#39;css-loader&#39;,&#39;sass-loader&#39;]&#125;,
            &#123;
                test:/\.m?js$/,
                use:&#123;
                    loader:&#39;babel-loader&#39;,
                    options:&#123;
                        presets:[&#39;@babel/preset-env&#39;],
                    &#125;
                &#125;
            &#125;,
            //è€è¯­æ³•
            // &#123;test:/\.(png|jpe?g|svg|gif|webp)$/,use:&#123;loader:&#39;file-loader&#39;,options:&#123;esModule:&#39;false&#39;&#125;&#125;&#125;
            &#123;test:/\.(png|jpe?g|svg|gif|webp)$/,type:&#39;asset/resource&#39;&#125;,
        ]
    &#125;,
    plugins:[
        new VueLoaderPlugin()
    ]
&#125;
</code></pre>
<h3 id="6-ç¼–è¾‘ä¹¦å†™main-jsæ–‡ä»¶å’ŒApp-vue"><a href="#6-ç¼–è¾‘ä¹¦å†™main-jsæ–‡ä»¶å’ŒApp-vue" class="headerlink" title="6.ç¼–è¾‘ä¹¦å†™main.jsæ–‡ä»¶å’ŒApp.vue"></a>6.ç¼–è¾‘ä¹¦å†™main.jsæ–‡ä»¶å’ŒApp.vue</h3><pre><code class="javascript">//main.js
import &#123; createApp &#125; from &#39;vue&#39;
import App from &#39;./App.vue&#39;
createApp(App).mount(&#39;#app&#39;)
</code></pre>
<pre><code class="vue">//App.vue
&lt;template&gt;
    &lt;div&gt;
        è‰ºæœ¯ç ç•œåšå®¢â€˜https://mengfeng.github.io/â€™
    &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default &#123;&#125;
&lt;/script&gt;
&lt;style lang=&quot;scss&quot; scoped&gt;
&lt;/style&gt;
</code></pre>
<h3 id="7-é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨åº”è¯¥å¯ä»¥è¿è¡Œæ‰€é…ç½®çš„ä»£ç äº†"><a href="#7-é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨åº”è¯¥å¯ä»¥è¿è¡Œæ‰€é…ç½®çš„ä»£ç äº†" class="headerlink" title="7.é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨åº”è¯¥å¯ä»¥è¿è¡Œæ‰€é…ç½®çš„ä»£ç äº†"></a>7.é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨åº”è¯¥å¯ä»¥è¿è¡Œæ‰€é…ç½®çš„ä»£ç äº†</h3><p>ç°åœ¨å‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œç›´æ¥æ‰§è¡Œwebpackå‘½ä»¤ä¼šæ‰¾ä¸åˆ°webpackå‘½ä»¤ï¼Œè™½ç„¶æˆ‘ä»¬ä¸‹è½½äº†webpack-cliï¼Œä½†æ˜¯åªæ˜¯å­˜åœ¨äº.&#x2F;node_modules&#x2F;.biné‡Œé¢</p>
<p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107100606449.png"></p>
<p>é‚£æˆ‘ä»¬æ‰§è¡Œ.&#x2F;node_modules&#x2F;.bin&#x2F;webpackä¹Ÿæ˜¯å¯ä»¥æ‰“åŒ…çš„ï¼Œä½†æ˜¯æˆ‘ä»¬æ¯æ¬¡æ‰§è¡Œè¿™ä¹ˆé•¿çš„å‘½ä»¤ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œæ‰€ä»¥é€šè¿‡é…ç½®package.jsonæ–‡ä»¶æ¥ç®€åŒ–å‘½ä»¤</p>
<pre><code class="json">&#123;
  &quot;name&quot;: &quot;vue-cli-start&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;:&#123;
    //--mode=developmentä¸ºå¼€å‘ç¯å¢ƒï¼Œé€Ÿåº¦è¾ƒå¿«ï¼Œä¸Šçº¿å¯ä»¥é…ç½®ä¸ºç”Ÿäº§ç¯å¢ƒï¼Œä¼šå‹ç¼©ï¼Œä¼˜åŒ–ä»£ç 
    //--watchä¸ºç›‘å¬ä»£ç å˜åŒ–ï¼Œåªè¦ä»£ç å˜åŒ–ï¼Œä¼šé‡æ–°ç¼–è¯‘
    //buildæ˜¯ç”Ÿäº§ç¯å¢ƒçš„æ‰“åŒ…
    &quot;serve&quot;:&quot;webpack --mode=development --watch&quot;,
    &quot;build&quot;:&quot;webpack --mode=production&quot;
  &#125;,
 &quot;dependencies&quot;: &#123;
    &quot;axios&quot;: &quot;^1.1.3&quot;,
    &quot;element-ui&quot;: &quot;^2.15.10&quot;,
    &quot;vue&quot;: &quot;^3.2.41&quot;
  &#125;,
  &quot;devDependencies&quot;: &#123;
    &quot;@babel/core&quot;: &quot;^7.20.2&quot;,
    &quot;@babel/preset-env&quot;: &quot;^7.20.2&quot;,
    &quot;babel-loader&quot;: &quot;^9.1.0&quot;,
    &quot;css-loader&quot;: &quot;^6.7.1&quot;,
    &quot;sass&quot;: &quot;^1.56.0&quot;,
    &quot;sass-loader&quot;: &quot;^13.1.0&quot;,
    &quot;style-loader&quot;: &quot;^3.3.1&quot;,
    &quot;vue-loader&quot;: &quot;^17.0.1&quot;,
    &quot;vue-template-compiler&quot;: &quot;^2.7.13&quot;,
    &quot;webpack&quot;: &quot;^5.74.0&quot;,
    &quot;webpack-cli&quot;: &quot;^4.10.0&quot;
  &#125;,
  &quot;keywords&quot;: [],
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;
&#125;
</code></pre>
<p>å½“æˆ‘ä»¬æ‰§è¡Œnpm run serve</p>
<pre><code class="ini">npm run serve
</code></pre>
<p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107110605226.png"></p>
<p>è¡¨ç¤ºæˆ‘ä»¬ç¼–è¯‘æˆåŠŸäº†ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥è¯•ç€è¿è¡Œä¸€ä¸‹index.html</p>
<p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107110725484.png"></p>
<p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107110748068.png"></p>
<p>æ­å–œï¼Œç›®å‰ä¸ºæ­¢å·²ç»æ²¡æœ‰ä»€ä¹ˆé—®é¢˜äº†ï¼ï¼ï¼åŸºç¡€çš„vueè„šæ‰‹æ¶å°±å®Œæˆäº†ï¼ˆç›®å‰åªæ˜¯ä¸€ä¸ªé¡µé¢ï¼‰</p>
<h3 id="8-æˆ‘ä»¬éœ€è¦å¤šä¸ªé¡µé¢çš„æ—¶å€™ï¼Œå°±éœ€è¦å…¶ä»–ä¾èµ–äº†"><a href="#8-æˆ‘ä»¬éœ€è¦å¤šä¸ªé¡µé¢çš„æ—¶å€™ï¼Œå°±éœ€è¦å…¶ä»–ä¾èµ–äº†" class="headerlink" title="8.æˆ‘ä»¬éœ€è¦å¤šä¸ªé¡µé¢çš„æ—¶å€™ï¼Œå°±éœ€è¦å…¶ä»–ä¾èµ–äº†"></a>8.æˆ‘ä»¬éœ€è¦å¤šä¸ªé¡µé¢çš„æ—¶å€™ï¼Œå°±éœ€è¦å…¶ä»–ä¾èµ–äº†</h3><p>æ ¹æ®ä¸‹é¢çš„é…ç½®æ¥ä¿®æ”¹è‡ªå·±çš„ä»£ç ï¼Œå¯èƒ½ä¸‹é¢çš„ä»£ç äºä¸Šé¢çš„ä¸åŒï¼Œä½†æ•ˆæœæ˜¯ä¸€æ ·çš„</p>
<pre><code class="ini">npm i vue-router
</code></pre>
<h3 id="9-åˆ›å»ºrouteæ–‡ä»¶å¤¹å’Œpagesæ–‡ä»¶å¤¹"><a href="#9-åˆ›å»ºrouteæ–‡ä»¶å¤¹å’Œpagesæ–‡ä»¶å¤¹" class="headerlink" title="9.åˆ›å»ºrouteæ–‡ä»¶å¤¹å’Œpagesæ–‡ä»¶å¤¹"></a>9.åˆ›å»ºrouteæ–‡ä»¶å¤¹å’Œpagesæ–‡ä»¶å¤¹</h3><p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107143307837.png"></p>
<h3 id="10-ç¼–è¾‘App-vueå’Œrouteä¸‹çš„index-jsæ–‡ä»¶"><a href="#10-ç¼–è¾‘App-vueå’Œrouteä¸‹çš„index-jsæ–‡ä»¶" class="headerlink" title="10.ç¼–è¾‘App.vueå’Œrouteä¸‹çš„index.jsæ–‡ä»¶"></a>10.ç¼–è¾‘App.vueå’Œrouteä¸‹çš„index.jsæ–‡ä»¶</h3><pre><code class="vue">//App.vue
&lt;template&gt;
    &lt;div id=&quot;nav&quot;&gt;
        &lt;router-link to=&quot;/&quot;&gt; home &lt;/router-link&gt; |
        &lt;router-link to=&quot;/food&quot;&gt; food &lt;/router-link&gt; |
        &lt;router-link to=&quot;/banner&quot;&gt; banner &lt;/router-link&gt;
    &lt;/div&gt;
    &lt;router-view /&gt;
&lt;/template&gt;
</code></pre>
<p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯historyï¼Œä¹Ÿå¯ä»¥ç”¨hash</p>
<pre><code class="javascript">//route/index.js
import &#123; createRouter, createWebHashHistory &#125; from &quot;vue-router&quot;
//æ³¨å†Œ
import home from &#39;../pages/Home.vue&#39;
import food from &#39;../pages/Food.vue&#39;
import banner from &#39;../pages/Banner.vue&#39;

const routes = [
  &#123; path: &quot;/&quot;, redirect: &quot;/home&quot; &#125;,
  &#123;
    path: &quot;/home&quot;,
    name: &quot;home&quot;,
    component: home
  &#125;,
  &#123;
    path: &quot;/food&quot;,
    name: &quot;food&quot;,
    component: food
  &#125;,
  &#123;
    path: &quot;/banner&quot;,
    name: &quot;banner&quot;,
    component: banner
  &#125;
]
//å¯¼å‡º
const router = createRouter(&#123;
    history: createWebHashHistory(),
    routes: routes
  &#125;)

  export default router;
</code></pre>
<h3 id="11-éœ€è¦åœ¨main-jsé‡Œé¢å»æ³¨å†Œ"><a href="#11-éœ€è¦åœ¨main-jsé‡Œé¢å»æ³¨å†Œ" class="headerlink" title="11.éœ€è¦åœ¨main.jsé‡Œé¢å»æ³¨å†Œ"></a>11.éœ€è¦åœ¨main.jsé‡Œé¢å»æ³¨å†Œ</h3><pre><code class="javascript">import &#123; createApp &#125; from &#39;vue&#39;
import App from &#39;./App.vue&#39;
import router from &#39;./route&#39;

const app = createApp(App)
app.use(router)
app.mount(&#39;#app&#39;)
</code></pre>
<h3 id="12-è¿™ä¸ªæ—¶å€™å†å»è·‘æˆ‘ä»¬çš„ä»£ç å°±å¯ä»¥äº†"><a href="#12-è¿™ä¸ªæ—¶å€™å†å»è·‘æˆ‘ä»¬çš„ä»£ç å°±å¯ä»¥äº†" class="headerlink" title="12.è¿™ä¸ªæ—¶å€™å†å»è·‘æˆ‘ä»¬çš„ä»£ç å°±å¯ä»¥äº†"></a>12.è¿™ä¸ªæ—¶å€™å†å»è·‘æˆ‘ä»¬çš„ä»£ç å°±å¯ä»¥äº†</h3><pre><code class="ini">npm run serve
</code></pre>
<p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107143925345.png"></p>
<h3 id="13-é¡µé¢ä¹‹é—´çš„routeè·³è½¬"><a href="#13-é¡µé¢ä¹‹é—´çš„routeè·³è½¬" class="headerlink" title="13.é¡µé¢ä¹‹é—´çš„routeè·³è½¬"></a>13.é¡µé¢ä¹‹é—´çš„routeè·³è½¬</h3><pre><code class="vue">//Food.vue
&lt;template&gt;
    &lt;p&gt;food&lt;/p&gt;
    &lt;button @click=&quot;toHome&quot;&gt;toHome&lt;/button&gt;
     &lt;!-- router-linkç»„ä»¶è·³è½¬ --&gt;
    &lt;router-link to=&quot;/home&quot;&gt;toHome&lt;/router-link&gt;
  &lt;/template&gt;
  &lt;script&gt;
  import &#123; useRouter &#125; from &#39;vue-router&#39;
  export default &#123;
    setup () &#123;
      //ç¼–ç¨‹å¼è·³è½¬
      const router = useRouter()
      const toHome = (() =&gt; &#123;
        router.push(&#123;
          name: &#39;home&#39;
        &#125;)
      &#125;)
      return &#123;
        toHome
      &#125;
    &#125;,
  &#125;
  &lt;/script&gt;
</code></pre>
<p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107145442966.png"></p>
<p>å½“æˆ‘ä»¬ç‚¹å‡»toHomeæŒ‰é’®å°±å¯ä»¥è·³è½¬åˆ°homeé¡µäº†,ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥è·³è½¬</p>
<h3 id="14-é…ç½®ESLintå’ŒPrettier"><a href="#14-é…ç½®ESLintå’ŒPrettier" class="headerlink" title="14.é…ç½®ESLintå’ŒPrettier"></a>14.é…ç½®ESLintå’ŒPrettier</h3><p>å®‰è£…ESLint</p>
<pre><code class="ini">//æœ¬åœ°å®‰è£…
npm install eslint --save-dev
//å…¨å±€å®‰è£…
npm install -g eslint
</code></pre>
<p>è¿è¡Œeslint â€“initï¼Œé€‰æ‹©å·¥ç¨‹ä½¿ç”¨äº†vueï¼Œè‡ªåŠ¨ç”Ÿæˆ.eslintrc.jsæ–‡ä»¶</p>
<pre><code class="ini">eslint --init
</code></pre>
<p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107151858584.png"></p>
<p>æˆ‘ä»¬æŒ‰ç…§éœ€æ±‚å»é€‰æ‹©å°±å¯ä»¥äº†</p>
<p>å®‰è£…prettier</p>
<pre><code class="ini">//æœ¬åœ°
npm i -D --save-exact prettier
//å…¨å±€
npm i --global prettier
</code></pre>
<p>å®‰è£…eslint-config-prettieræ’ä»¶ï¼ˆç¦ç”¨ eslint é£æ ¼æ ¡éªŒ)</p>
<pre><code class="ini">npm i -D eslint-config-prettier
</code></pre>
<p>å®‰è£…eslint-plugin-prettieræ’ä»¶ï¼ˆä½¿eslinté‡‡ç”¨prettierçš„é£æ ¼æ ¡éªŒï¼‰</p>
<pre><code class="ini">npm i -D eslint-plugin-prettier
</code></pre>
<p>é…ç½®eslintrc.jsæ–‡ä»¶</p>
<pre><code class="javascript">module.exports = &#123;
    &quot;env&quot;: &#123;
        &quot;browser&quot;: true,
        &quot;es2021&quot;: true,
        &quot;node&quot;:true,
    &#125;,
    &quot;extends&quot;: [
        &quot;eslint:recommended&quot;,
        &quot;plugin:vue/vue3-essential&quot;
    ],
    &quot;overrides&quot;: [
    ],
    &quot;parserOptions&quot;: &#123;
        &quot;ecmaVersion&quot;: &quot;latest&quot;
    &#125;,
    &quot;plugins&quot;: [
        &quot;vue&quot;
    ],
    &quot;rules&quot;: &#123;
      &#39;no-console&#39;: process.env.NODE_ENV === &#39;production&#39; ? &#39;warn&#39; : &#39;off&#39;,
      &#39;no-debugger&#39;: process.env.NODE_ENV === &#39;production&#39; ? &#39;warn&#39; : &#39;off&#39;,
       //åœ¨rulesä¸­æ·»åŠ è‡ªå®šä¹‰è§„åˆ™
       //å…³é—­ç»„ä»¶å‘½åè§„åˆ™
       &quot;vue/multi-word-component-names&quot;:&quot;off&quot;,
    &#125;
&#125;
</code></pre>
<p>åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º.prettierrc æˆ– prettier.config.jsæ–‡ä»¶</p>
<pre><code class="javascript">module.exports = &#123;
    endOfLine: &#39;auto&#39;, // ä¸æ£€æµ‹æ£€æµ‹æ–‡ä»¶æ¯è¡Œç»“æŸçš„æ ¼å¼
    semi: true, // ä½¿ç”¨åˆ†å·, é»˜è®¤true
    singleQuote: true // ä½¿ç”¨å•å¼•å·, é»˜è®¤false(åœ¨jsxä¸­é…ç½®æ— æ•ˆ, é»˜è®¤éƒ½æ˜¯åŒå¼•å·)
  &#125;
</code></pre>
<p>å®‰è£…vscodeæ’ä»¶ï¼šPrettier ESLint</p>
<p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107154026317.png"></p>
<p>è¯¥æ’ä»¶ä¼šæ ¹æ®å·¥ç¨‹æ ¹ç›®å½•ä¸‹çš„eslintrc.jså’Œprettier.config.jsæ–‡ä»¶æ ¼å¼åŒ–ä»£ç ã€‚å¯ä»¥è¿›ä¸€æ­¥è®¾ç½®ä¸ºvscodeé»˜è®¤formaterå’Œè‡ªåŠ¨æ ¼å¼åŒ–ã€‚</p>
<p>Prettieré…ç½®å¸¸ç”¨çš„å‚æ•°å¯ä»¥æ ¹æ®å›¢é˜Ÿéœ€æ±‚åˆ¶å®š</p>
<h3 id="é“¾æ¥ï¼š"><a href="#é“¾æ¥ï¼š" class="headerlink" title="é“¾æ¥ï¼š"></a>é“¾æ¥ï¼š</h3><p>[ESLintä¸­æ–‡æ–‡æ¡£]: 	â€œ<a target="_blank" rel="noopener" href="https://eslint.bootcss.com/">https://eslint.bootcss.com</a> â€œ<br>[Prettierä¸­æ–‡ç½‘]: 	â€œ<a target="_blank" rel="noopener" href="https://www.prettier.cn/">https://www.prettier.cn</a> â€œ</p>
<h3 id="æºç ä»“åº“åœ°å€ï¼š"><a href="#æºç ä»“åº“åœ°å€ï¼š" class="headerlink" title="æºç ä»“åº“åœ°å€ï¼š"></a>æºç ä»“åº“åœ°å€ï¼š</h3><p><a target="_blank" rel="noopener" href="https://github.com/mengfeng/vue-cli-start">https://github.com/mengfeng/vue-cli-start</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B7%A5%E7%A8%8B%E6%8A%80%E6%9C%AF/" rel="tag">å·¥ç¨‹æŠ€æœ¯</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-æ•°æ®åŸ‹ç‚¹ç›‘æ§ç³»ç»Ÿè®¾è®¡"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/11/06/%E6%95%B0%E6%8D%AE%E5%9F%8B%E7%82%B9%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/"
    >æ•°æ®åŸ‹ç‚¹ç›‘æ§ç³»ç»Ÿè®¾è®¡</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/11/06/%E6%95%B0%E6%8D%AE%E5%9F%8B%E7%82%B9%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/" class="article-date">
  <time datetime="2022-11-06T01:48:56.000Z" itemprop="datePublished">2022-11-06</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%B7%A5%E7%A8%8B%E6%8A%80%E6%9C%AF/">å·¥ç¨‹æŠ€æœ¯</a> / <a class="article-category-link" href="/categories/%E5%B7%A5%E7%A8%8B%E6%8A%80%E6%9C%AF/%E6%95%B0%E6%8D%AE%E5%9F%8B%E7%82%B9%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">æ•°æ®åŸ‹ç‚¹ç›‘æ§ç³»ç»Ÿè®¾è®¡</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="æ•°æ®ç›‘æ§å’Œæ•°æ®åŸ‹ç‚¹"><a href="#æ•°æ®ç›‘æ§å’Œæ•°æ®åŸ‹ç‚¹" class="headerlink" title="æ•°æ®ç›‘æ§å’Œæ•°æ®åŸ‹ç‚¹"></a>æ•°æ®ç›‘æ§å’Œæ•°æ®åŸ‹ç‚¹</h1><h3 id="ä¸€ã€æ•°æ®ç›‘æ§åˆ†ç±»"><a href="#ä¸€ã€æ•°æ®ç›‘æ§åˆ†ç±»" class="headerlink" title="ä¸€ã€æ•°æ®ç›‘æ§åˆ†ç±»"></a>ä¸€ã€æ•°æ®ç›‘æ§åˆ†ç±»</h3><h4 id="1-æ•°æ®ç›‘æ§"><a href="#1-æ•°æ®ç›‘æ§" class="headerlink" title="(1)æ•°æ®ç›‘æ§"></a>(1)æ•°æ®ç›‘æ§</h4><p>æ•°æ®ç›‘æ§ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯ç›‘å¬ç”¨æˆ·çš„è¡Œä¸ºã€‚å¸¸è§çš„æ•°æ®ç›‘æ§åŒ…æ‹¬ï¼š</p>
<ul>
<li>PV&#x2F;UV:PV(page view)ï¼Œå³é¡µé¢æµè§ˆé‡æˆ–ç‚¹å‡»é‡ã€‚UV:æŒ‡è®¿é—®æŸä¸ªç«™ç‚¹æˆ–ç‚¹å‡»æŸæ¡æ–°é—»çš„ä¸åŒIPåœ°å€çš„äººæ•°</li>
<li>ç”¨æˆ·åœ¨æ¯ä¸€ä¸ªé¡µé¢çš„åœç•™æ—¶é—´</li>
<li>ç”¨æˆ·é€šè¿‡ä»€ä¹ˆå…¥å£æ¥è®¿é—®è¯¥ç½‘é¡µ</li>
<li>ç”¨æˆ·åœ¨ç›¸åº”çš„é¡µé¢ä¸­è§¦å‘çš„è¡Œä¸º</li>
</ul>
<p>ç»Ÿè®¡è¿™äº›æ•°æ®æ˜¯æœ‰æ„ä¹‰çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬çŸ¥é“äº†ç”¨æˆ·æ¥æºçš„æ¸ é“ï¼Œå¯ä»¥ä¿ƒè¿›äº§å“çš„æ¨å¹¿ï¼ŒçŸ¥é“ç”¨æˆ·åœ¨æ¯ä¸€ä¸ªé¡µé¢åœç•™çš„æ—¶é—´ï¼Œå¯ä»¥é’ˆå¯¹åœç•™è¾ƒé•¿çš„é¡µé¢ï¼Œå¢åŠ å¹¿å‘Šæ¨é€ç­‰ç­‰ã€‚</p>
<h4 id="2-æ€§èƒ½ç›‘æ§"><a href="#2-æ€§èƒ½ç›‘æ§" class="headerlink" title="(2)æ€§èƒ½ç›‘æ§"></a>(2)æ€§èƒ½ç›‘æ§</h4><p>æ€§èƒ½ç›‘æ§æŒ‡çš„æ˜¯ç›‘å¬å‰ç«¯çš„æ€§èƒ½ï¼Œä¸»è¦åŒ…æ‹¬ç›‘å¬ç½‘é¡µæˆ–è€…è¯´äº§å“åœ¨ç”¨æˆ·ç«¯çš„ä½“éªŒã€‚å¸¸è§çš„æ€§èƒ½ç›‘æ§æ•°æ®åŒ…æ‹¬ï¼š</p>
<ul>
<li>ä¸åŒç”¨æˆ·ï¼Œä¸åŒæœºå‹å’Œä¸åŒç³»ç»Ÿä¸‹çš„é¦–å±åŠ è½½æ—¶é—´</li>
<li>ç™½å±æ—¶é—´</li>
<li>httpç­‰è¯·æ±‚çš„å“åº”æ—¶é—´</li>
<li>é™æ€èµ„æºæ•´ä½“ä¸‹è½½æ—¶é—´</li>
<li>é¡µé¢æ¸²æŸ“æ—¶é—´</li>
<li>é¡µé¢äº¤äº’åŠ¨ç”»å®Œæˆæ—¶é—´</li>
</ul>
<p>è¿™äº›æ€§èƒ½ç›‘æ§çš„ç»“æœï¼Œå¯ä»¥å±•ç¤ºå‰ç«¯æ€§èƒ½çš„å¥½åï¼Œæ ¹æ®æ€§èƒ½ç›‘æµ‹çš„ç»“æœå¯ä»¥è¿›ä¸€æ­¥çš„å»ä¼˜åŒ–å‰ç«¯æ€§èƒ½ï¼Œæ¯”å¦‚å…¼å®¹ä½ç‰ˆæœ¬æµè§ˆå™¨çš„åŠ¨ç”»æ•ˆæœï¼ŒåŠ å¿«é¦–å±åŠ è½½ç­‰ç­‰ã€‚</p>
<h4 id="3-å¼‚å¸¸ç›‘æ§"><a href="#3-å¼‚å¸¸ç›‘æ§" class="headerlink" title="(3)å¼‚å¸¸ç›‘æ§"></a>(3)å¼‚å¸¸ç›‘æ§</h4><p>æ­¤å¤–ï¼Œäº§å“çš„å‰ç«¯ä»£ç åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¹Ÿä¼šå‘ç”Ÿå¼‚å¸¸ï¼Œå› æ­¤éœ€è¦å¼•å…¥å¼‚å¸¸ç›‘æ§ã€‚åŠæ—¶çš„ä¸ŠæŠ¥å¼‚å¸¸æƒ…å†µï¼Œå¯ä»¥é¿å…çº¿ä¸Šæ•…éšœçš„å‘ä¸Šã€‚è™½ç„¶å¤§éƒ¨åˆ†å¼‚å¸¸å¯ä»¥é€šè¿‡try catchçš„æ–¹å¼æ•è·ï¼Œä½†æ˜¯æ¯”å¦‚å†…å­˜æ³„æ¼ä»¥åŠå…¶ä»–å¶ç°çš„å¼‚å¸¸éš¾ä»¥æ•è·ã€‚å¸¸è§çš„éœ€è¦ç›‘æ§çš„å¼‚å¸¸åŒ…æ‹¬ï¼š</p>
<ul>
<li>Javascriptçš„å¼‚å¸¸ç›‘æ§</li>
<li>æ ·å¼ä¸¢å¤±çš„å¼‚å¸¸ç›‘æ§</li>
</ul>
<h3 id="äºŒã€å¸¸è§çš„åŸ‹ç‚¹æ–¹æ¡ˆ"><a href="#äºŒã€å¸¸è§çš„åŸ‹ç‚¹æ–¹æ¡ˆ" class="headerlink" title="äºŒã€å¸¸è§çš„åŸ‹ç‚¹æ–¹æ¡ˆ"></a>äºŒã€å¸¸è§çš„åŸ‹ç‚¹æ–¹æ¡ˆ</h3><h4 id="1-ä»£ç åŸ‹ç‚¹"><a href="#1-ä»£ç åŸ‹ç‚¹" class="headerlink" title="1. ä»£ç åŸ‹ç‚¹"></a>1. ä»£ç åŸ‹ç‚¹</h4><p>ä»£ç åŸ‹ç‚¹æ˜¯æœ€æ—©çš„åŸ‹ç‚¹æ–¹å¼ï¼Œæ ¹æ®ä¸šåŠ¡çš„åˆ†æéœ€æ±‚ï¼Œå°†åŸ‹ç‚¹çš„é‡‡é›†ä»£ç åŠ å…¥åˆ°åº”ç”¨ç«¯ã€‚æŒ‰ç…§åŸ‹ç‚¹å®æ–½æ–¹ï¼Œåˆåˆ†ä¸ºå‰ç«¯(å®¢æˆ·ç«¯)åŸ‹ç‚¹å’Œåç«¯(æœåŠ¡ç«¯)åŸ‹ç‚¹ä¸¤ç§ç±»å‹ã€‚</p>
<h5 id="1ï¼‰å®¢æˆ·ç«¯åŸ‹ç‚¹"><a href="#1ï¼‰å®¢æˆ·ç«¯åŸ‹ç‚¹" class="headerlink" title="1ï¼‰å®¢æˆ·ç«¯åŸ‹ç‚¹"></a>1ï¼‰å®¢æˆ·ç«¯åŸ‹ç‚¹</h5><p>ç”±å‰ç«¯å¼€å‘æ‰‹åŠ¨å®šä¹‰æ•°æ®é‡‡é›†æ—¶æœºã€å†…å®¹ç­‰å°†æ•°æ®é‡‡é›†çš„ä»£ç ä»£ç æ®µåŠ å…¥åˆ°å‰ç«¯ä¸šåŠ¡ä»£ç ä¸­ï¼Œå½“ç”¨æˆ·åœ¨å‰ç«¯äº§ç”Ÿå¯¹åº”è¡Œä¸ºæ—¶ï¼Œè§¦å‘æ•°æ®é‡‡é›†ä»£ç ã€‚</p>
<h6 id="ä¼˜ç‚¹ï¼š"><a href="#ä¼˜ç‚¹ï¼š" class="headerlink" title="ä¼˜ç‚¹ï¼š"></a>ä¼˜ç‚¹ï¼š</h6><ul>
<li>æŒ‰éœ€åŸ‹ç‚¹ï¼Œé‡‡é›†æ•°æ®æ›´å…¨é¢ï¼Œå‡ ä¹å¯è¦†ç›–æ‰€æœ‰æ•°æ®é‡‡é›†åœºæ™¯</li>
<li>è¡Œä¸ºæ•°æ®å’Œä¸šåŠ¡æ•°æ®å¯å……åˆ†è”åˆåˆ†æ</li>
</ul>
<h6 id="ç¼ºç‚¹ï¼š"><a href="#ç¼ºç‚¹ï¼š" class="headerlink" title="ç¼ºç‚¹ï¼š"></a>ç¼ºç‚¹ï¼š</h6><ul>
<li>å»¶è¿Ÿä¸ŠæŠ¥ï¼Œæ•°æ®ä¸¢å¤±ç‡é«˜(5%-10%)</li>
<li>éœ€è¦å®¢æˆ·ç«¯å‘ç‰ˆï¼Œç”¨æˆ·ç«¯æ›´æ–°App</li>
<li>åŸ‹ç‚¹å¼€å‘å·¥ä½œé‡å¤§</li>
<li>åŸ‹ç‚¹æµç¨‹éœ€è¦å¤šæ–¹åä½œï¼Œå®¹æ˜“æ¼åŸ‹ã€é”™åŸ‹</li>
</ul>
<h6 id="é€‚ç”¨åœºæ™¯ï¼š"><a href="#é€‚ç”¨åœºæ™¯ï¼š" class="headerlink" title="é€‚ç”¨åœºæ™¯ï¼š"></a>é€‚ç”¨åœºæ™¯ï¼š</h6><p>å…¨é¢åˆ†æç”¨æˆ·åœ¨å®¢æˆ·ç«¯çš„æ“ä½œè¡Œä¸ºï¼Œå¯¹äºä¸€äº›ç”µå•†äº¤æ˜“ç±»çš„äº§å“ï¼Œéœ€è¦æŠŠè¡Œä¸ºå’Œä¸šåŠ¡æ•°æ®å……åˆ†ç»“åˆåˆ†æ</p>
<h5 id="2ï¼‰æœåŠ¡ç«¯åŸ‹ç‚¹"><a href="#2ï¼‰æœåŠ¡ç«¯åŸ‹ç‚¹" class="headerlink" title="2ï¼‰æœåŠ¡ç«¯åŸ‹ç‚¹"></a>2ï¼‰æœåŠ¡ç«¯åŸ‹ç‚¹</h5><p>ç”±æœåŠ¡ç«¯å¼€å‘å°†åŸ‹ç‚¹é‡‡é›†ä»£ç åŠ å…¥åˆ°åç«¯æœåŠ¡è¯·æ±‚ä¸­ï¼Œå½“ç”¨æˆ·å‰ç«¯æ“ä½œè¯·æ±‚æœåŠ¡ç«¯æ•°æ®æ—¶ï¼ŒæŒ‰ç…§çº¦å®šè§„åˆ™è§¦å‘åŸ‹ç‚¹ä»£ç </p>
<h6 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h6><ul>
<li>æŒ‰éœ€åŸ‹ç‚¹ï¼Œé‡‡é›†æ•°æ®æ›´å…¨é¢ï¼Œå‡ ä¹å¯è¦†ç›–æ‰€æœ‰æ•°æ®é‡‡é›†åœºæ™¯</li>
<li>è¡Œä¸ºæ•°æ®å’Œä¸šåŠ¡æ•°æ®å¯å……åˆ†è”åˆåˆ†æ</li>
<li>æ•°æ®é‡‡é›†å®æ—¶ä¸ŠæŠ¥ï¼Œå‡†ç¡®æ€§é«˜ï¼Œä¸¢å¤±ç‡ä½</li>
<li>æœåŠ¡ç«¯æ›´æ–°ï¼Œä¸éœ€è¦å®¢æˆ·ç«¯å‘ç‰ˆæˆ–ç”¨æˆ·æ›´æ–°ç‰ˆæœ¬</li>
</ul>
<h6 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h6><ul>
<li>çº¯å‰ç«¯æ“ä½œä¸è§¦å‘æœåŠ¡è¯·æ±‚çš„æŒ‰é’®ç‚¹å‡»æ— æ³•é‡‡é›†æ•°æ®</li>
<li>åŸ‹ç‚¹å¼€å‘å·¥ä½œé‡å¤§</li>
<li>åŸ‹ç‚¹æµç¨‹éœ€è¦å¤šæ–¹åä½œï¼Œå®¹æ˜“æ¼åŸ‹ã€é”™åŸ‹</li>
</ul>
<h6 id="é€‚ç”¨åœºæ™¯ï¼š-1"><a href="#é€‚ç”¨åœºæ™¯ï¼š-1" class="headerlink" title="é€‚ç”¨åœºæ™¯ï¼š"></a>é€‚ç”¨åœºæ™¯ï¼š</h6><p>å¯¹äºä¸€äº›éç‚¹å‡»ã€ä¸å¯è§çš„è¡Œä¸ºï¼Œæˆ–è€…è¦è·å–ç”¨æˆ·èº«ä»½ä¿¡æ¯ã€æ›´å¤šçš„ä¸šåŠ¡ç›¸å…³çš„å±æ€§ä¿¡æ¯ã€‚å¦‚æœå‰åç«¯éƒ½å¯ä»¥é‡‡é›†åˆ°ï¼Œä¼˜å…ˆåç«¯åŸ‹ç‚¹</p>
<h4 id="2-å…¨åŸ‹ç‚¹"><a href="#2-å…¨åŸ‹ç‚¹" class="headerlink" title="2. å…¨åŸ‹ç‚¹"></a>2. å…¨åŸ‹ç‚¹</h4><p>å…¨åŸ‹ç‚¹ä¹Ÿæœ‰ç§°ä¹‹ä¸ºæ— åŸ‹ç‚¹æˆ–æ— ç—•åŸ‹ç‚¹çš„ï¼Œä¸»è¦æ˜¯å°†åŸ‹ç‚¹é‡‡é›†ä»£ç å°è£…æˆæ ‡å‡†çš„SDKï¼Œåº”ç”¨ç«¯æ¥å…¥åï¼ŒæŒ‰ç…§SDKçš„é‡‡é›†è§„åˆ™è‡ªåŠ¨åŒ–åœ°è¿›è¡Œæ•°æ®é‡‡é›†å’Œä¸ŠæŠ¥</p>
<h6 id="ä¼˜ç‚¹ï¼š-1"><a href="#ä¼˜ç‚¹ï¼š-1" class="headerlink" title="ä¼˜ç‚¹ï¼š"></a>ä¼˜ç‚¹ï¼š</h6><ul>
<li>æ¥å…¥SDKåï¼Œå¯è‡ªåŠ¨é‡‡é›†æ•°æ®ï¼Œæ— éœ€æŒ‰éœ€å¼€å‘ï¼ŒèŠ‚çœå¼€å‘æˆæœ¬</li>
<li>é¡µé¢å¯è§å…ƒç´ å‡å¯è‡ªåŠ¨é‡‡é›†ï¼Œæ•°æ®æ›´å…¨é¢</li>
<li>åŸ‹ç‚¹æµç¨‹ç®€å•ï¼Œä¸šåŠ¡ä½¿ç”¨åŸ‹ç‚¹ç³»ç»Ÿè‡ªåŠ©å®šä¹‰äº‹ä»¶ï¼Œæ–°å¢åŸ‹ç‚¹éœ€æ±‚æ— éœ€ä¸šåŠ¡å¼€å‘å‚ä¸</li>
</ul>
<h6 id="ç¼ºç‚¹-1"><a href="#ç¼ºç‚¹-1" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h6><ul>
<li>åŠ¨æ€é¡µé¢æˆ–é¡µé¢ä¸å¯è§è¡Œä¸ºæ•°æ®æ— æ³•é‡‡é›†</li>
<li>å’Œä¸šåŠ¡å¼ºç›¸å…³çš„å±æ€§ä¿¡æ¯é‡‡é›†å›°éš¾</li>
<li>æ•°æ®å…¨éƒ¨é‡‡é›†ï¼Œæ•°æ®å­˜å‚¨å‹åŠ›å¤§</li>
</ul>
<h6 id="é€‚ç”¨åœºæ™¯ï¼š-2"><a href="#é€‚ç”¨åœºæ™¯ï¼š-2" class="headerlink" title="é€‚ç”¨åœºæ™¯ï¼š"></a>é€‚ç”¨åœºæ™¯ï¼š</h6><p>ä¸šåŠ¡åœºæ™¯ç®€å•ï¼Œå¦‚å·¥å…·ã€åº”ç”¨ç±»çš„äº§å“ï¼Œæˆ–è€…ä¸šåŠ¡å‘å±•åˆæœŸï¼Œäº§å“å¿«é€Ÿè¿­ä»£éœ€æ±‚æ¯”ç²¾ç»†åŒ–åˆ†æä¼˜å…ˆçº§æ›´é«˜ï¼Œåªéœ€è¦åˆ†æç®€å•çš„PVã€UV</p>
<h4 id="3-å¯è§†åŒ–åŸ‹ç‚¹"><a href="#3-å¯è§†åŒ–åŸ‹ç‚¹" class="headerlink" title="3. å¯è§†åŒ–åŸ‹ç‚¹"></a>3. å¯è§†åŒ–åŸ‹ç‚¹</h4><p>é»˜è®¤ä¸é‡‡é›†æ•°æ®ï¼Œå½“æ•°æ®åˆ†æäººå‘˜é€šè¿‡è®¾å¤‡è¿æ¥ç”¨æˆ·è¡Œä¸ºåˆ†æå·¥å…·çš„æ•°æ®æ¥å…¥ç®¡ç†ç•Œé¢ï¼Œåœ¨é¡µé¢å¯è§†åŒ–å®šä¹‰éœ€è¦é‡‡é›†çš„ä½ç‚¹åä¸‹å‘é‡‡é›†è¯·æ±‚ï¼Œé‡‡é›†ä»£ç ç”Ÿæ•ˆ</p>
<h6 id="ä¼˜ç‚¹ï¼š-2"><a href="#ä¼˜ç‚¹ï¼š-2" class="headerlink" title="ä¼˜ç‚¹ï¼š"></a>ä¼˜ç‚¹ï¼š</h6><ul>
<li>é»˜è®¤ä¸ä¸ŠæŠ¥æ•°æ®ï¼Œå¯è§†åŒ–åœˆé€‰æ‰æŒ‰éœ€è§¦å‘åŸ‹ç‚¹ï¼ŒèŠ‚çº¦å­˜å‚¨å’Œä¼ è¾“æˆæœ¬</li>
<li>ä¸šåŠ¡å¯è§†åŒ–åœˆé€‰ï¼ŒåŸ‹ç‚¹æ“ä½œç®€å•æ–¹ä¾¿</li>
</ul>
<h6 id="ç¼ºç‚¹-2"><a href="#ç¼ºç‚¹-2" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h6><ul>
<li>æ•°æ®åªåœ¨åŸ‹ç‚¹åœˆé€‰å®šä¹‰ä¹‹åæ‰æœ‰ï¼Œå†å²æ•°æ®æ— æ³•å›æº¯</li>
<li>åªèƒ½è¦†ç›–åŸºæœ¬çš„ç‚¹å‡»ã€å±•ç¤ºç­‰ç”¨æˆ·è¡Œä¸ºï¼Œå’Œä¸šåŠ¡å¼ºç›¸å…³çš„å±æ€§ä¿¡æ¯é‡‡é›†å›°éš¾</li>
</ul>
<h6 id="é€‚ç”¨åœºæ™¯ï¼š-3"><a href="#é€‚ç”¨åœºæ™¯ï¼š-3" class="headerlink" title="é€‚ç”¨åœºæ™¯ï¼š"></a>é€‚ç”¨åœºæ™¯ï¼š</h6><p>ä¸šåŠ¡åœºæ™¯ç®€å•ï¼Œå¦‚å·¥å…·ã€åº”ç”¨ç±»çš„äº§å“ï¼Œæˆ–è€…ä¸šåŠ¡å‘å±•åˆæœŸï¼Œäº§å“å¿«é€Ÿè¿­ä»£éœ€æ±‚æ¯”ç²¾ç»†åŒ–åˆ†æä¼˜å…ˆçº§æ›´é«˜ï¼Œåªéœ€è¦åˆ†æç®€å•çš„PVã€UV</p>
<h3 id="ä¸‰ã€sdkè®¾è®¡"><a href="#ä¸‰ã€sdkè®¾è®¡" class="headerlink" title="ä¸‰ã€sdkè®¾è®¡"></a>ä¸‰ã€sdkè®¾è®¡</h3><h4 id="SDKçš„è®¾è®¡"><a href="#SDKçš„è®¾è®¡" class="headerlink" title="SDKçš„è®¾è®¡"></a>SDKçš„è®¾è®¡</h4><p>åœ¨å¼€å§‹è®¾è®¡ä¹‹å‰ï¼Œå…ˆçœ‹ä¸€ä¸‹SDKæ€ä¹ˆä½¿ç”¨ã€‚</p>
<pre><code class="javascript">import StatisticSDK from &#39;StatisticSDK&#39;;
// å…¨å±€åˆå§‹åŒ–ä¸€æ¬¡
window.insSDK = new StatisticSDK(&#39;uuid-12345&#39;);
&lt;button onClick=&#123;()=&gt;&#123;
  window.insSDK.event(&#39;click&#39;,&#39;confirm&#39;);
  ...// å…¶ä»–ä¸šåŠ¡ä»£ç 
&#125;&#125;&gt;ç¡®è®¤&lt;/button&gt;
</code></pre>
<p>é¦–å…ˆæŠŠSDKå®ä¾‹æŒ‚è½½åˆ°å…¨å±€ï¼Œä¹‹ååœ¨ä¸šåŠ¡ä»£ç ä¸­è°ƒç”¨ï¼Œè¿™é‡Œçš„æ–°å»ºå®ä¾‹æ—¶éœ€è¦ä¼ å…¥ä¸€ä¸ªidï¼Œå› ä¸ºè¿™ä¸ªåŸ‹ç‚¹ç›‘æ§ç³»ç»Ÿå¾€å¾€æ˜¯ç»™å¤šä¸ªä¸šåŠ¡å»ä½¿ç”¨çš„ï¼Œé€šè¿‡idå»åŒºåˆ†ä¸åŒçš„æ•°æ®æ¥æºã€‚</p>
<p>é¦–å…ˆå®ç°å®ä¾‹åŒ–éƒ¨åˆ†ï¼š</p>
<pre><code class="javascript">class StatisticSDK &#123;
  constructor(productID)&#123;
    this.productID = productID;
  &#125;
&#125;
</code></pre>
<h4 id="æ•°æ®å‘é€"><a href="#æ•°æ®å‘é€" class="headerlink" title="æ•°æ®å‘é€"></a>æ•°æ®å‘é€</h4><p>æ•°æ®å‘é€æ˜¯ä¸€ä¸ªæœ€åŸºç¡€çš„apiï¼Œåé¢çš„åŠŸèƒ½éƒ½è¦åŸºäºæ­¤è¿›è¡Œã€‚é€šå¸¸è¿™ç§å‰åç«¯åˆ†ç¦»çš„åœºæ™¯ä¼šä½¿ç”¨AJAXçš„æ–¹å¼å‘é€æ•°æ®ï¼Œä½†æ˜¯è¿™é‡Œä½¿ç”¨å›¾ç‰‡çš„srcå±æ€§ã€‚åŸå› æœ‰ä¸¤ç‚¹ï¼š</p>
<ol>
<li>æ²¡æœ‰è·¨åŸŸçš„é™åˆ¶ï¼Œåƒsrciptæ ‡ç­¾ã€imgæ ‡ç­¾éƒ½å¯ä»¥ç›´æ¥å‘é€è·¨åŸŸçš„GETè¯·æ±‚ï¼Œä¸ç”¨åšç‰¹æ®Šå¤„ç†ã€‚</li>
<li>å…¼å®¹æ€§å¥½ï¼Œä¸€äº›é™æ€é¡µé¢å¯èƒ½ç¦ç”¨äº†è„šæœ¬ï¼Œè¿™æ—¶scriptæ ‡ç­¾å°±ä¸èƒ½ä½¿ç”¨äº†ã€‚</li>
</ol>
<p>ä½†è¦æ³¨æ„ï¼Œè¿™ä¸ªå›¾ç‰‡ä¸æ˜¯ç”¨æ¥å±•ç¤ºçš„ï¼Œæˆ‘ä»¬çš„ç›®çš„æ˜¯å»ã€Œä¼ é€’æ•°æ®ã€ï¼Œåªæ˜¯å€ŸåŠ©imgæ ‡ç­¾çš„çš„srcå±æ€§ï¼Œåœ¨å…¶urlåé¢æ‹¼æ¥ä¸Šå‚æ•°ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°å†å»è§£æã€‚</p>
<pre><code class="javascript">class StatisticSDK &#123;
  constructor(productID)&#123;
    this.productID = productID;
  &#125;
  send(baseURL,query=&#123;&#125;)&#123;
    query.productID = this.productID;
    let queryStr = Object.entries(query).map(([key, value]) =&gt; `$&#123;key&#125;=$&#123;value&#125;`).join(&#39;&amp;&#39;)
    let img = new Image();
    img.src = `$&#123;baseURL&#125;?$&#123;queryStr&#125;`
  &#125;
&#125;
</code></pre>
<p>imgæ ‡ç­¾çš„ä¼˜ç‚¹æ˜¯ä¸éœ€è¦å°†å…¶appendåˆ°æ–‡æ¡£ï¼Œåªéœ€è®¾ç½®srcå±æ€§ä¾¿èƒ½æˆåŠŸå‘èµ·è¯·æ±‚ã€‚</p>
<p>é€šå¸¸è¯·æ±‚çš„è¿™ä¸ªurlä¼šæ˜¯ä¸€å¼ 1X1pxçš„GIFå›¾ç‰‡ï¼Œç½‘ä¸Šçš„æ–‡ç« å¯¹äºè¿™é‡Œä¸ºä»€ä¹ˆè¿”å›å›¾ç‰‡çš„æ˜¯ä¸€å¼ GIFéƒ½æ˜¯å«ç³Šå¸¦è¿‡ï¼Œè¿™é‡ŒæŸ¥é˜…äº†ä¸€äº›èµ„æ–™å¹¶æµ‹è¯•äº†ï¼š</p>
<p>1.åŒæ ·å¤§å°ï¼Œä¸åŒæ ¼å¼çš„çš„å›¾ç‰‡ä¸­GIFå¤§å°æ˜¯æœ€å°çš„ï¼Œæ‰€ä»¥é€‰æ‹©è¿”å›ä¸€å¼ GIFï¼Œè¿™æ ·å¯¹æ€§èƒ½çš„æŸè€—æ›´å°ã€‚</p>
<p>2.å¦‚æœè¿”å›204ï¼Œä¼šèµ°åˆ°imgçš„onerroräº‹ä»¶ï¼Œå¹¶æŠ›å‡ºä¸€ä¸ªå…¨å±€é”™è¯¯;å¦‚æœè¿”å›200å’Œä¸€ä¸ªç©ºå¯¹è±¡ä¼šæœ‰ä¸€ä¸ªCORBçš„å‘Šè­¦ã€‚</p>
<p><img src="/2022/11/06/%E6%95%B0%E6%8D%AE%E5%9F%8B%E7%82%B9%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/346cd16826c82e6bd7a2246d22d56fc478dfc3.png"></p>
<p>3.å½“ç„¶å¦‚æœä¸åœ¨æ„è¿™ä¸ªæŠ¥é”™å¯ä»¥é‡‡å–è¿”å›ç©ºå¯¹è±¡ï¼Œäº‹å®ä¸Šä¹Ÿæœ‰ä¸€äº›å·¥å…·æ˜¯è¿™æ ·åšçš„ã€‚</p>
<p>æœ‰ä¸€äº›åŸ‹ç‚¹éœ€è¦çœŸå®çš„åŠ åˆ°é¡µé¢ä¸Šï¼Œæ¯”å¦‚åƒåœ¾é‚®ä»¶çš„å‘é€è€…ä¼šæ·»åŠ è¿™æ ·ä¸€ä¸ªéšè—æ ‡å¿—æ¥éªŒè¯é‚®ä»¶æ˜¯å¦è¢«æ‰“å¼€ï¼Œå¦‚æœè¿”å›204æˆ–è€…æ˜¯200ç©ºå¯¹è±¡ä¼šå¯¼è‡´ä¸€ä¸ªæ˜æ˜¾å›¾ç‰‡å ä½ç¬¦ã€‚</p>
<pre><code>&lt;img src=&quot;http://www.example.com/logger?event_id=1234&quot;&gt;1.
</code></pre>
<p><img src="/2022/11/06/%E6%95%B0%E6%8D%AE%E5%9F%8B%E7%82%B9%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/77236ef50e0237529c0080434f48bd20be8ce5.png"></p>
<h4 id="æ›´ä¼˜é›…çš„web-beacon"><a href="#æ›´ä¼˜é›…çš„web-beacon" class="headerlink" title="æ›´ä¼˜é›…çš„web beacon"></a>æ›´ä¼˜é›…çš„web beacon</h4><p>è¿™ç§æ‰“ç‚¹æ ‡è®°çš„æ–¹å¼è¢«ç§°web beacon(ç½‘ç»œä¿¡æ ‡)ã€‚é™¤äº†gifå›¾ç‰‡ï¼Œä»2014å¹´å¼€å§‹ï¼Œæµè§ˆå™¨é€æ¸å®ç°ä¸“é—¨çš„APIï¼Œæ¥æ›´ä¼˜é›…çš„å®Œæˆè¿™ä»¶äº‹ï¼šNavigator.sendBeaconã€‚</p>
<p>ä½¿ç”¨å¾ˆç®€å•ã€‚</p>
<pre><code class="javascript">Navigator.sendBeacon(url,data)
</code></pre>
<p>ç›¸è¾ƒäºå›¾ç‰‡çš„srcï¼Œè¿™ç§æ–¹å¼çš„æ›´æœ‰ä¼˜åŠ¿ï¼š</p>
<ul>
<li>ä¸ä¼šå’Œä¸»è¦ä¸šåŠ¡ä»£ç æŠ¢å èµ„æºï¼Œè€Œæ˜¯åœ¨æµè§ˆå™¨ç©ºé—²æ—¶å»åšå‘é€ã€‚</li>
<li>å¹¶ä¸”åœ¨é¡µé¢å¸è½½æ—¶ä¹Ÿèƒ½ä¿è¯è¯·æ±‚æˆåŠŸå‘é€ï¼Œä¸é˜»å¡é¡µé¢åˆ·æ–°å’Œè·³è½¬ã€‚</li>
</ul>
<p>ç°åœ¨çš„åŸ‹ç‚¹ç›‘æ§å·¥å…·é€šå¸¸ä¼šä¼˜å…ˆä½¿ç”¨sendBeaconï¼Œä½†ç”±äºæµè§ˆå™¨å…¼å®¹æ€§ï¼Œè¿˜æ˜¯éœ€è¦ç”¨å›¾ç‰‡çš„srcå…œåº•ã€‚</p>
<h4 id="ç”¨æˆ·è¡Œä¸ºç›‘æ§"><a href="#ç”¨æˆ·è¡Œä¸ºç›‘æ§" class="headerlink" title="ç”¨æˆ·è¡Œä¸ºç›‘æ§"></a>ç”¨æˆ·è¡Œä¸ºç›‘æ§</h4><p>ä¸Šé¢å®ç°äº†æ•°æ®å‘é€çš„apiï¼Œç°åœ¨å¯ä»¥åŸºäºå®ƒå»å®ç°ç”¨æˆ·è¡Œä¸ºç›‘æ§çš„apiã€‚</p>
<pre><code class="javascript">class StatisticSDK &#123;
  constructor(productID)&#123;
    this.productID = productID;
  &#125;
  // æ•°æ®å‘é€
  send(baseURL,query=&#123;&#125;)&#123;
    query.productID = this.productID;
      let queryStr = Object.entries(query).map(([key, value]) =&gt; `$&#123;key&#125;=$&#123;value&#125;`).join(&#39;&amp;&#39;)
      let img = new Image();
      img.src = `$&#123;baseURL&#125;?$&#123;queryStr&#125;`
  &#125;
  // è‡ªå®šä¹‰äº‹ä»¶
  event(key, val=&#123;&#125;) &#123;
    let eventURL = &#39;http://demo/&#39;
    this.send(eventURL,&#123;event:key,...val&#125;)
  &#125;
  // pvæ›å…‰
  pv() &#123;
    this.event(&#39;pv&#39;)
  &#125;
&#125;
</code></pre>
<p>ç”¨æˆ·è¡Œä¸ºåŒ…æ‹¬è‡ªå®šä¹‰äº‹ä»¶å’Œpvæ›å…‰ï¼Œä¹Ÿå¯ä»¥æŠŠpvæ›å…‰çœ‹ä½œæ˜¯ä¸€ç§ç‰¹æ®Šçš„è‡ªå®šä¹‰è¡Œä¸ºäº‹ä»¶ã€‚</p>
<h4 id="é¡µé¢æ€§èƒ½ç›‘æ§"><a href="#é¡µé¢æ€§èƒ½ç›‘æ§" class="headerlink" title="é¡µé¢æ€§èƒ½ç›‘æ§"></a>é¡µé¢æ€§èƒ½ç›‘æ§</h4><p>é¡µé¢çš„æ€§èƒ½æ•°æ®å¯ä»¥é€šè¿‡performance.timingè¿™ä¸ªAPIè·å–åˆ°ï¼Œè·å–çš„æ•°æ®æ˜¯å•ä½ä¸ºæ¯«ç§’çš„æ—¶é—´æˆ³ã€‚</p>
<p><img src="/2022/11/06/%E6%95%B0%E6%8D%AE%E5%9F%8B%E7%82%B9%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/272519802405fa2531a97471630d64ab493783.png"></p>
<p><img src="/2022/11/06/%E6%95%B0%E6%8D%AE%E5%9F%8B%E7%82%B9%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/95d45e432d6684cc4ab527d2ac28bddad1a98e.png" alt="img">ä¸Šé¢çš„ä¸éœ€è¦å…¨éƒ¨äº†è§£ï¼Œä½†æ¯”è¾ƒå…³é”®çš„æ•°æ®æœ‰ä¸‹é¢å‡ ä¸ªï¼Œæ ¹æ®å®ƒä»¬å¯ä»¥è®¡ç®—å‡ºFP&#x2F;DCL&#x2F;Loadç­‰å…³é”®äº‹ä»¶çš„æ—¶é—´ç‚¹ï¼š</p>
<ol>
<li>é¡µé¢é¦–æ¬¡æ¸²æŸ“æ—¶é—´ï¼šFP(firstPaint)&#x3D;domLoading-navigationStartã€‚</li>
<li>DOMåŠ è½½å®Œæˆï¼šDCL(DOMContentEventLoad)&#x3D;domContentLoadedEventEnd-navigationStartã€‚</li>
<li>å›¾ç‰‡ã€æ ·å¼ç­‰å¤–é“¾èµ„æºåŠ è½½å®Œæˆï¼šL(Load)&#x3D;loadEventEnd-navigationStartã€‚</li>
</ol>
<p>ä¸Šé¢çš„æ•°å€¼å¯ä»¥è·Ÿperformanceé¢æ¿é‡Œçš„ç»“æœå¯¹åº”ã€‚</p>
<p>å›åˆ°SDKï¼Œæˆ‘ä»¬åªç”¨å®ç°ä¸€ä¸ªä¸Šä¼ æ‰€æœ‰æ€§èƒ½æ•°æ®çš„apiå°±å¯ä»¥äº†ï¼š</p>
<pre><code class="javascript">class StatisticSDK &#123;
  constructor(productID)&#123;
    this.productID = productID;
    // åˆå§‹åŒ–è‡ªåŠ¨è°ƒç”¨æ€§èƒ½ä¸ŠæŠ¥
    this.initPerformance()
  &#125;
  // æ•°æ®å‘é€
  send(baseURL,query=&#123;&#125;)&#123;
    query.productID = this.productID;
      let queryStr = Object.entries(query).map(([key, value]) =&gt; `$&#123;key&#125;=$&#123;value&#125;`).join(&#39;&amp;&#39;)
      let img = new Image();
      img.src = `$&#123;baseURL&#125;?$&#123;queryStr&#125;`
  &#125;
  // æ€§èƒ½ä¸ŠæŠ¥
  initPerformance()&#123;
    let performanceURL = &#39;http://performance/&#39;
    this.send(performanceURL,performance.timing)
  &#125;
&#125;
</code></pre>
<p>å¹¶ä¸”ï¼Œåœ¨æ„é€ å‡½æ•°é‡Œè‡ªåŠ¨è°ƒç”¨ï¼Œå› ä¸ºæ€§èƒ½æ•°æ®æ˜¯å¿…é¡»è¦ä¸Šä¼ çš„ï¼Œå°±ä¸éœ€è¦ç”¨æˆ·æ¯æ¬¡éƒ½æ‰‹åŠ¨è°ƒç”¨äº†ã€‚</p>
<h4 id="é”™è¯¯å‘Šè­¦ç›‘æ§"><a href="#é”™è¯¯å‘Šè­¦ç›‘æ§" class="headerlink" title="é”™è¯¯å‘Šè­¦ç›‘æ§"></a>é”™è¯¯å‘Šè­¦ç›‘æ§</h4><p>é”™è¯¯æŠ¥è­¦ç›‘æ§åˆ†ä¸ºJSåŸç”Ÿé”™è¯¯å’ŒReact&#x2F;Vueçš„ç»„ä»¶é”™è¯¯çš„å¤„ç†ã€‚</p>
<h5 id="JSåŸç”Ÿé”™è¯¯"><a href="#JSåŸç”Ÿé”™è¯¯" class="headerlink" title="JSåŸç”Ÿé”™è¯¯"></a>JSåŸç”Ÿé”™è¯¯</h5><p>é™¤äº†try catchä¸­æ•è·ä½çš„é”™è¯¯ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸ŠæŠ¥æ²¡æœ‰è¢«æ•è·ä½çš„é”™è¯¯â€”â€”é€šè¿‡erroräº‹ä»¶å’Œunhandledrejectionäº‹ä»¶å»ç›‘å¬ã€‚</p>
<h5 id="error"><a href="#error" class="headerlink" title="error"></a>error</h5><p>erroräº‹ä»¶æ˜¯ç”¨æ¥ç›‘å¬DOMæ“ä½œé”™è¯¯DOMExceptionå’ŒJSé”™è¯¯å‘Šè­¦çš„ï¼Œå…·ä½“æ¥è¯´ï¼ŒJSé”™è¯¯åˆ†ä¸ºä¸‹é¢8ç±»ï¼š</p>
<ol>
<li>InternalError: å†…éƒ¨é”™è¯¯ï¼Œæ¯”å¦‚å¦‚é€’å½’çˆ†æ ˆã€‚</li>
<li>RangeError: èŒƒå›´é”™è¯¯ï¼Œæ¯”å¦‚new Array(-1)ã€‚</li>
<li>EvalError: ä½¿ç”¨eval()æ—¶é”™è¯¯ã€‚</li>
<li>ReferenceError: å¼•ç”¨é”™è¯¯ï¼Œæ¯”å¦‚ä½¿ç”¨æœªå®šä¹‰å˜é‡ã€‚</li>
<li>SyntaxError: è¯­æ³•é”™è¯¯ï¼Œæ¯”å¦‚var a &#x3D; ã€‚</li>
<li>TypeError: ç±»å‹é”™è¯¯ï¼Œæ¯”å¦‚[1,2].split(â€˜.â€™)ã€‚</li>
<li>URIError: ç»™ encodeURIæˆ– decodeURl()ä¼ é€’çš„å‚æ•°æ— æ•ˆï¼Œæ¯”å¦‚decodeURI(â€˜%2â€™)ã€‚</li>
<li>Error: ä¸Šé¢7ç§é”™è¯¯çš„åŸºç±»ï¼Œé€šå¸¸æ˜¯å¼€å‘è€…æŠ›å‡ºã€‚</li>
</ol>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä»£ç è¿è¡Œæ—¶å‘ç”Ÿçš„ä¸Šè¿°8ç±»é”™è¯¯ï¼Œéƒ½å¯ä»¥è¢«æ£€æµ‹åˆ°ã€‚</p>
<h5 id="unhandledrejection"><a href="#unhandledrejection" class="headerlink" title="unhandledrejection"></a>unhandledrejection</h5><p>Promiseå†…éƒ¨æŠ›å‡ºçš„é”™è¯¯æ˜¯æ— æ³•è¢«erroræ•è·åˆ°çš„ï¼Œè¿™æ—¶éœ€è¦ç”¨unhandledrejectionäº‹ä»¶ã€‚</p>
<p>å›åˆ°SDKçš„å®ç°ï¼Œå¤„ç†é”™è¯¯æŠ¥è­¦çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">class StatisticSDK &#123;
  constructor(productID)&#123;
    this.productID = productID;
    // åˆå§‹åŒ–é”™è¯¯ç›‘æ§
    this.initError()
  &#125;
  // æ•°æ®å‘é€
  send(baseURL,query=&#123;&#125;)&#123;
    query.productID = this.productID;
      let queryStr = Object.entries(query).map(([key, value]) =&gt; `$&#123;key&#125;=$&#123;value&#125;`).join(&#39;&amp;&#39;)
      let img = new Image();
      img.src = `$&#123;baseURL&#125;?$&#123;queryStr&#125;`
  &#125;
  // è‡ªå®šä¹‰é”™è¯¯ä¸ŠæŠ¥
  error(err, etraInfo=&#123;&#125;) &#123;
    const errorURL = &#39;http://error/&#39;
    const &#123; message, stack &#125; = err;
    this.send(errorURL, &#123; message, stack, ...etraInfo&#125;)
  &#125;
  // åˆå§‹åŒ–é”™è¯¯ç›‘æ§
  initError()&#123;
    window.addEventListener(&#39;error&#39;, event=&gt;&#123;
      this.error(error);
    &#125;)
    window.addEventListener(&#39;unhandledrejection&#39;, event=&gt;&#123;
      this.error(new Error(event.reason), &#123; type: &#39;unhandledrejection&#39;&#125;)
    &#125;)
  &#125;
&#125;
</code></pre>
<p>å’Œåˆå§‹åŒ–æ€§èƒ½ç›‘æ§ä¸€æ ·ï¼Œåˆå§‹åŒ–é”™è¯¯ç›‘æ§ä¹Ÿæ˜¯ä¸€å®šè¦åšçš„ï¼Œæ‰€ä»¥éœ€è¦åœ¨æ„é€ å‡½æ•°ä¸­è°ƒç”¨ã€‚åç»­å¼€å‘äººå‘˜åªç”¨åœ¨ä¸šåŠ¡ä»£ç çš„try catchä¸­è°ƒç”¨erroræ–¹æ³•å³å¯ã€‚</p>
<h3 id="React-x2F-Vueç»„ä»¶é”™è¯¯"><a href="#React-x2F-Vueç»„ä»¶é”™è¯¯" class="headerlink" title="React&#x2F;Vueç»„ä»¶é”™è¯¯"></a>React&#x2F;Vueç»„ä»¶é”™è¯¯</h3><p>æˆç†Ÿçš„æ¡†æ¶åº“éƒ½ä¼šæœ‰é”™è¯¯å¤„ç†æœºåˆ¶ï¼ŒReactå’ŒVueä¹Ÿä¸ä¾‹å¤–ã€‚</p>
<h5 id="Reactçš„é”™è¯¯è¾¹ç•Œ"><a href="#Reactçš„é”™è¯¯è¾¹ç•Œ" class="headerlink" title="Reactçš„é”™è¯¯è¾¹ç•Œ"></a>Reactçš„é”™è¯¯è¾¹ç•Œ</h5><p>é”™è¯¯è¾¹ç•Œæ˜¯å¸Œæœ›å½“åº”ç”¨å†…éƒ¨å‘ç”Ÿæ¸²æŸ“é”™è¯¯æ—¶ï¼Œä¸ä¼šæ•´ä¸ªé¡µé¢å´©æºƒã€‚æˆ‘ä»¬æå‰ç»™å®ƒè®¾ç½®ä¸€ä¸ªå…œåº•ç»„ä»¶ï¼Œå¹¶ä¸”å¯ä»¥ç»†åŒ–ç²’åº¦ï¼Œåªæœ‰å‘ç”Ÿé”™è¯¯çš„éƒ¨åˆ†è¢«æ›¿æ¢æˆè¿™ä¸ªã€Œå…œåº•ç»„ä»¶ã€ï¼Œä¸è‡³äºæ•´ä¸ªé¡µé¢éƒ½ä¸èƒ½æ­£å¸¸å·¥ä½œã€‚</p>
<p><img src="/2022/11/06/%E6%95%B0%E6%8D%AE%E5%9F%8B%E7%82%B9%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/562c10735609456ff5d155aa6880f7ca2598a4.png"></p>
<p>å®ƒçš„ä½¿ç”¨å¾ˆç®€å•ï¼Œå°±æ˜¯ä¸€ä¸ªå¸¦æœ‰ç‰¹æ®Šç”Ÿå‘½å‘¨æœŸçš„ç±»ç»„ä»¶ï¼Œç”¨å®ƒæŠŠä¸šåŠ¡ç»„ä»¶åŒ…è£¹èµ·æ¥ã€‚</p>
<p>è¿™ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸæ˜¯getDerivedStateFromErrorå’ŒcomponentDidCatchã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">// å®šä¹‰é”™è¯¯è¾¹ç•Œ
class ErrorBoundary extends React.Component &#123;
  state = &#123; error: null &#125;
  static getDerivedStateFromError(error) &#123;
    return &#123; error &#125;
  &#125;
  componentDidCatch(error, errorInfo) &#123;
    // è°ƒç”¨æˆ‘ä»¬å®ç°çš„SDKå®ä¾‹
    insSDK.error(error, errorInfo)
  &#125;
  render() &#123;
    if (this.state.error) &#123;
      return &lt;h2&gt;Something went wrong.&lt;/h2&gt;
    &#125;
    return this.props.children
  &#125;
&#125;
...
&lt;ErrorBoundary&gt;
  &lt;BuggyCounter /&gt;
&lt;/ErrorBoundary&gt;1.2.3.4.5.6.7.8.9.10.11.12.13.14.15.16.17.18.19.20.21.
</code></pre>
<p>å›åˆ°SDKçš„æ•´åˆä¸Šï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œè¢«é”™è¯¯è¾¹ç•ŒåŒ…è£¹çš„ç»„ä»¶ï¼Œå¦‚æœå†…éƒ¨æŠ›å‡ºé”™è¯¯ï¼Œå…¨å±€çš„erroräº‹ä»¶æ˜¯æ— æ³•ç›‘å¬åˆ°çš„ï¼Œå› ä¸ºè¿™ä¸ªé”™è¯¯è¾¹ç•Œæœ¬èº«å°±ç›¸å½“äºä¸€ä¸ªtry catchã€‚æ‰€ä»¥éœ€è¦åœ¨é”™è¯¯è¾¹ç•Œè¿™ä¸ªç»„ä»¶å†…éƒ¨å»åšä¸ŠæŠ¥å¤„ç†ã€‚ä¹Ÿå°±æ˜¯ä¸Šé¢ä»£ç ä¸­çš„componentDidCatchç”Ÿå‘½å‘¨æœŸã€‚</p>
<h3 id="Vueçš„é”™è¯¯è¾¹ç•Œ"><a href="#Vueçš„é”™è¯¯è¾¹ç•Œ" class="headerlink" title="Vueçš„é”™è¯¯è¾¹ç•Œ"></a>Vueçš„é”™è¯¯è¾¹ç•Œ</h3><p>vueä¹Ÿæœ‰ä¸€ä¸ªç±»ä¼¼çš„ç”Ÿå‘½å‘¨æœŸæ¥åšè¿™ä»¶äº‹ï¼Œä¸å†èµ˜è¿°ï¼šerrorCapturedã€‚</p>
<pre><code class="javascript">Vue.component(&#39;ErrorBoundary&#39;, &#123;
  data: () =&gt; (&#123; error: null &#125;),
  errorCaptured (err, vm, info) &#123;
    this.error = `$&#123;err.stack&#125;\n\nfound in $&#123;info&#125; of component`
    // è°ƒç”¨æˆ‘ä»¬çš„SDKï¼Œä¸ŠæŠ¥é”™è¯¯ä¿¡æ¯
    insSDK.error(err,info)
    return false
  &#125;,
  render (h) &#123;
    if (this.error) &#123;
      return h(&#39;pre&#39;, &#123; style: &#123; color: &#39;red&#39; &#125;&#125;, this.error)
    &#125;
    return this.$slots.default[0]
  &#125;
&#125;)
...
&lt;error-boundary&gt;
  &lt;buggy-counter /&gt;
&lt;/error-boundary&gt;
</code></pre>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»å®ç°äº†ä¸€ä¸ªå®Œæ•´çš„SDKçš„éª¨æ¶ï¼Œå¹¶ä¸”å¤„ç†äº†åœ¨å®é™…å¼€å‘æ—¶ï¼Œreact&#x2F;vueé¡¹ç›®åº”è¯¥æ€ä¹ˆæ¥å…¥ã€‚</p>
<h3 id="å‚è€ƒæ–‡çŒ®ï¼š"><a href="#å‚è€ƒæ–‡çŒ®ï¼š" class="headerlink" title="å‚è€ƒæ–‡çŒ®ï¼š"></a>å‚è€ƒæ–‡çŒ®ï¼š</h3><p><a target="_blank" rel="noopener" href="https://www.51cto.com/article/706364.html">https://www.51cto.com/article/706364.html</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B7%A5%E7%A8%8B%E6%8A%80%E6%9C%AF/" rel="tag">å·¥ç¨‹æŠ€æœ¯</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-å‰ç«¯é¢è¯•å¤§å…¨ç®—æ³•ç¯‡"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/"
    >å‰ç«¯é¢è¯•å¤§å…¨ç®—æ³•ç¯‡</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/" class="article-date">
  <time datetime="2022-11-05T02:32:27.000Z" itemprop="datePublished">2022-11-05</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E9%9D%A2%E8%AF%95/">æŠ€æœ¯é¢è¯•</a> / <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E9%9D%A2%E8%AF%95/%E7%AE%97%E6%B3%95%E7%AF%87/">ç®—æ³•ç¯‡</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆç®—æ³•ï¼‰"><a href="#å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆç®—æ³•ï¼‰" class="headerlink" title="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆç®—æ³•ï¼‰"></a>å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆç®—æ³•ï¼‰</h1><p>å‰ç«¯é¢è¯•é¢˜ç±»ç›®åˆ†ç±»</p>
<ul>
<li>HTML5 + CSS3</li>
<li>JavaScript</li>
<li>Vue + Vue3</li>
<li>React</li>
<li>Webpack</li>
<li>æœåŠ¡ç«¯</li>
</ul>
<hr>
<p>è€ƒç‚¹é¢‘ç‡ ï¼šâ™¥ï¸ ã€ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸</p>
<h2 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h2><h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-ç®—æ³•ä¸­æ—¶é—´å¤æ‚åº¦ï¼Œç©ºé—´å¤æ‚åº¦çš„ç†è§£ï¼Ÿå¦‚ä½•è®¡ç®—ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-ç®—æ³•ä¸­æ—¶é—´å¤æ‚åº¦ï¼Œç©ºé—´å¤æ‚åº¦çš„ç†è§£ï¼Ÿå¦‚ä½•è®¡ç®—ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ ç®—æ³•ä¸­æ—¶é—´å¤æ‚åº¦ï¼Œç©ºé—´å¤æ‚åº¦çš„ç†è§£ï¼Ÿå¦‚ä½•è®¡ç®—ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ ç®—æ³•ä¸­æ—¶é—´å¤æ‚åº¦ï¼Œç©ºé—´å¤æ‚åº¦çš„ç†è§£ï¼Ÿå¦‚ä½•è®¡ç®—ï¼Ÿ</h3><h4 id="ä¸€ã€å‰è¨€"><a href="#ä¸€ã€å‰è¨€" class="headerlink" title="ä¸€ã€å‰è¨€"></a>ä¸€ã€å‰è¨€</h4><p>ç®—æ³•ï¼ˆAlgorithmï¼‰æ˜¯æŒ‡ç”¨æ¥æ“ä½œæ•°æ®ã€è§£å†³ç¨‹åºé—®é¢˜çš„ä¸€ç»„æ–¹æ³•ã€‚å¯¹äºåŒä¸€ä¸ªé—®é¢˜ï¼Œä½¿ç”¨ä¸åŒçš„ç®—æ³•ï¼Œä¹Ÿè®¸æœ€ç»ˆå¾—åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œä½†åœ¨è¿‡ç¨‹ä¸­æ¶ˆè€—çš„èµ„æºå’Œæ—¶é—´å´ä¼šæœ‰å¾ˆå¤§çš„åŒºåˆ«</p>
<p>è¡¡é‡ä¸åŒç®—æ³•ä¹‹é—´çš„ä¼˜åŠ£ä¸»è¦æ˜¯é€šè¿‡æ—¶é—´å’Œç©ºé—´ä¸¤ä¸ªç»´åº¦å»è€ƒé‡ï¼š</p>
<ul>
<li>æ—¶é—´ç»´åº¦ï¼šæ˜¯æŒ‡æ‰§è¡Œå½“å‰ç®—æ³•æ‰€æ¶ˆè€—çš„æ—¶é—´ï¼Œæˆ‘ä»¬é€šå¸¸ç”¨ã€Œæ—¶é—´å¤æ‚åº¦ã€æ¥æè¿°ã€‚</li>
<li>ç©ºé—´ç»´åº¦ï¼šæ˜¯æŒ‡æ‰§è¡Œå½“å‰ç®—æ³•éœ€è¦å ç”¨å¤šå°‘å†…å­˜ç©ºé—´ï¼Œæˆ‘ä»¬é€šå¸¸ç”¨ã€Œç©ºé—´å¤æ‚åº¦ã€æ¥æè¿°</li>
</ul>
<p>é€šå¸¸ä¼šé‡åˆ°ä¸€ç§æƒ…å†µï¼Œæ—¶é—´å’Œç©ºé—´ç»´åº¦ä¸èƒ½å¤Ÿå…¼é¡¾ï¼Œéœ€è¦åœ¨ä¸¤è€…ä¹‹é—´å–å¾—ä¸€ä¸ªå¹³è¡¡ç‚¹æ˜¯æˆ‘ä»¬éœ€è¦è€ƒè™‘çš„</p>
<p>ä¸€ä¸ªç®—æ³•é€šå¸¸å­˜åœ¨æœ€å¥½ã€å¹³å‡ã€æœ€åä¸‰ç§æƒ…å†µï¼Œæˆ‘ä»¬ä¸€èˆ¬å…³æ³¨çš„æ˜¯æœ€åæƒ…å†µ</p>
<p>æœ€åæƒ…å†µæ˜¯ç®—æ³•è¿è¡Œæ—¶é—´çš„ä¸Šç•Œï¼Œå¯¹äºæŸäº›ç®—æ³•æ¥è¯´ï¼Œæœ€åæƒ…å†µå‡ºç°çš„æ¯”è¾ƒé¢‘ç¹ï¼Œä¹Ÿæ„å‘³ç€å¹³å‡æƒ…å†µå’Œæœ€åæƒ…å†µä¸€æ ·å·®</p>
<h4 id="äºŒã€æ—¶é—´å¤æ‚åº¦"><a href="#äºŒã€æ—¶é—´å¤æ‚åº¦" class="headerlink" title="äºŒã€æ—¶é—´å¤æ‚åº¦"></a>äºŒã€æ—¶é—´å¤æ‚åº¦</h4><p>æ—¶é—´å¤æ‚åº¦æ˜¯æŒ‡æ‰§è¡Œè¿™ä¸ªç®—æ³•æ‰€éœ€è¦çš„è®¡ç®—å·¥ä½œé‡ï¼Œå…¶å¤æ‚åº¦åæ˜ äº†ç¨‹åºæ‰§è¡Œæ—¶é—´ã€Œéšè¾“å…¥è§„æ¨¡å¢é•¿è€Œå¢é•¿çš„é‡çº§ã€ï¼Œåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šèƒ½å¾ˆå¥½åœ°åæ˜ å‡ºç®—æ³•çš„ä¼˜åŠ£ä¸å¦</p>
<p>ä¸€ä¸ªç®—æ³•èŠ±è´¹çš„æ—¶é—´ä¸ç®—æ³•ä¸­è¯­å¥çš„ã€Œæ‰§è¡Œæ¬¡æ•°æˆæ­£æ¯”ã€ï¼Œæ‰§è¡Œæ¬¡æ•°è¶Šå¤šï¼ŒèŠ±è´¹çš„æ—¶é—´å°±è¶Šå¤š</p>
<p>ç®—æ³•çš„å¤æ‚åº¦é€šå¸¸ç”¨å¤§Oç¬¦å·è¡¨è¿°ï¼Œå®šä¹‰ä¸º<code>T(n) = O(f(n))</code>ï¼Œå¸¸è§çš„æ—¶é—´å¤æ‚åº¦æœ‰ï¼šO(1)å¸¸æ•°å‹ã€O(log n)å¯¹æ•°å‹ã€O(n)çº¿æ€§å‹ã€O(nlogn)çº¿æ€§å¯¹æ•°å‹ã€O(n^2)å¹³æ–¹å‹ã€O(n^3)ç«‹æ–¹å‹ã€O(n^k)kæ¬¡æ–¹å‹ã€O(2^n)æŒ‡æ•°å‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f33336435656266302d313666632d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>ä»ä¸Šè¿°å¯ä»¥çœ‹åˆ°ï¼Œéšç€é—®é¢˜è§„æ¨¡<code>n</code>çš„ä¸æ–­å¢å¤§ï¼Œä¸Šè¿°æ—¶é—´å¤æ‚åº¦ä¸æ–­å¢å¤§ï¼Œç®—æ³•çš„æ‰§è¡Œæ•ˆç‡è¶Šä½ï¼Œç”±å°åˆ°å¤§æ’åºå¦‚ä¸‹ï¼š</p>
<pre><code class="ini">ÎŸ(1)ï¼œÎŸ(log n)ï¼œÎŸ(n)ï¼œÎŸ(nlog n)ï¼œÎŸ(n2)ï¼œÎŸ(n3)ï¼œâ€¦ï¼œÎŸ(2^n)ï¼œÎŸ(n!)
</code></pre>
<p>æ³¨æ„çš„æ˜¯ï¼Œç®—æ³•å¤æ‚åº¦åªæ˜¯æè¿°ç®—æ³•çš„å¢é•¿è¶‹åŠ¿ï¼Œå¹¶ä¸èƒ½è¯´ä¸€ä¸ªç®—æ³•ä¸€å®šæ¯”å¦å¤–ä¸€ä¸ªç®—æ³•é«˜æ•ˆï¼Œå¦‚æœå¸¸æ•°é¡¹è¿‡å¤§çš„æ—¶å€™ä¹Ÿä¼šå¯¼è‡´ç®—æ³•çš„æ‰§è¡Œæ—¶é—´å˜é•¿</p>
<p>å…³äºå¦‚ä½•è®¡ç®—æ—¶é—´å¤æ‚åº¦ï¼Œå¯ä»¥çœ‹çœ‹å¦‚ä¸‹ç®€å•ä¾‹å­ï¼š</p>
<pre><code class="javascript">function process(n) &#123;
  let a = 1
  let b = 2
  let sum = a + b
  for(let i = 0; i &lt; n; i++) &#123;
    sum += i
  &#125;
  return sum
&#125;
</code></pre>
<p>è¯¥å‡½æ•°ç®—æ³•éœ€è¦æ‰§è¡Œçš„è¿ç®—æ¬¡æ•°ç”¨è¾“å…¥å¤§å°<code>n</code>çš„å‡½æ•°è¡¨ç¤ºï¼Œå³ <code>T(n) = 2 + n + 1</code>ï¼Œé‚£ä¹ˆæ—¶é—´å¤æ‚åº¦ä¸º<code>O(n + 3)</code>ï¼Œåˆå› ä¸ºæ—¶é—´å¤æ‚åº¦åªå…³æ³¨æœ€é«˜æ•°é‡çº§ï¼Œä¸”ä¸ä¹‹ç³»æ•°ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œå› æ­¤ä¸Šè¿°çš„æ—¶é—´å¤æ‚åº¦ä¸º<code>O(n)</code></p>
<p>åˆæ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<pre><code class="javascript">function process(n) &#123;
 let count = 0
  for(let i = 0; i &lt; n; i++)&#123;
    for(let i = 0; i &lt; n; i++)&#123;
      count += 1
    &#125;
  &#125;
&#125;
</code></pre>
<p>å¾ªç¯é‡Œé¢åµŒå¥—å¾ªç¯ï¼Œå¤–é¢çš„å¾ªç¯æ‰§è¡Œä¸€æ¬¡ï¼Œé‡Œé¢çš„å¾ªç¯æ‰§è¡Œ<code>n</code>æ¬¡ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º <code>O(n*n*1 + 2) = O(n^2)</code></p>
<p>å¯¹äºé¡ºåºæ‰§è¡Œçš„è¯­å¥ï¼Œæ€»çš„æ—¶é—´å¤æ‚åº¦ç­‰äºå…¶ä¸­æœ€å¤§çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">function process(n) &#123;
  let sum = 0
  for(let i = 0; i &lt; n; i++) &#123;
    sum += i
  &#125;
  for(let i = 0; i &lt; n; i++)&#123;
    for(let i = 0; i &lt; n; i++)&#123;
      sum += 1
    &#125;
  &#125;
  return sum
&#125;
</code></pre>
<p>ä¸Šè¿°ç¬¬ä¸€éƒ¨åˆ†å¤æ‚åº¦ä¸º<code>O(n)</code>ï¼Œç¬¬äºŒéƒ¨åˆ†å¤æ‚åº¦ä¸º<code>O(n^2)</code>ï¼Œæ€»å¤æ‚åº¦ä¸º<code>max(O(n^2), O(n)) = O(n^2)</code></p>
<p>åˆå¦‚ä¸‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<pre><code class="javascript">function process(n) &#123;
  let i = 1; // â‘ 
  while (i &lt;= n) &#123;
     i = i * 2; // â‘¡
  &#125;
&#125;
</code></pre>
<p>å¾ªç¯è¯­å¥ä¸­ä»¥2çš„å€æ•°æ¥é€¼è¿‘<code>n</code>ï¼Œæ¯æ¬¡éƒ½ä¹˜ä»¥2ã€‚å¦‚æœç”¨å…¬å¼è¡¨ç¤ºå°±æ˜¯1 * 2 * 2 * 2 â€¦ * 2 &lt;&#x3D;nï¼Œä¹Ÿå°±æ˜¯è¯´2çš„<code>x</code>æ¬¡æ–¹å°äºç­‰äº<code>n</code>æ—¶ä¼šæ‰§è¡Œå¾ªç¯ä½“ï¼Œè®°ä½œ<code>2^x &lt;= n</code>ï¼Œäºæ˜¯å¾—å‡º<code>x&lt;=logn</code></p>
<p>å› æ­¤å¾ªç¯åœ¨æ‰§è¡Œ<code>logn</code>æ¬¡ä¹‹åï¼Œä¾¿ç»“æŸï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º<code>O(logn)</code></p>
<p>åŒç†ï¼Œå¦‚æœä¸€ä¸ª<code>O(n)</code>å¾ªç¯é‡Œé¢åµŒå¥—<code>O(logn)</code>çš„å¾ªç¯ï¼Œåˆ™æ—¶é—´å¤æ‚åº¦ä¸º<code>O(nlogn)</code>ï¼Œåƒ<code>O(n^3)</code>æ— éä¹Ÿå°±æ˜¯åµŒå¥—äº†ä¸‰å±‚<code>O(n)</code>å¾ªç¯</p>
<h4 id="ä¸‰ã€ç©ºé—´å¤æ‚åº¦"><a href="#ä¸‰ã€ç©ºé—´å¤æ‚åº¦" class="headerlink" title="ä¸‰ã€ç©ºé—´å¤æ‚åº¦"></a>ä¸‰ã€ç©ºé—´å¤æ‚åº¦</h4><p>ç©ºé—´å¤æ‚åº¦ä¸»è¦æŒ‡æ‰§è¡Œç®—æ³•æ‰€éœ€å†…å­˜çš„å¤§å°ï¼Œç”¨äºå¯¹ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­æ‰€éœ€è¦çš„ä¸´æ—¶å­˜å‚¨ç©ºé—´çš„åº¦é‡</p>
<p>é™¤äº†éœ€è¦å­˜å‚¨ç©ºé—´ã€æŒ‡ä»¤ã€å¸¸æ•°ã€å˜é‡å’Œè¾“å…¥æ•°æ®å¤–ï¼Œè¿˜åŒ…æ‹¬å¯¹æ•°æ®è¿›è¡Œæ“ä½œçš„å·¥ä½œå•å…ƒå’Œå­˜å‚¨è®¡ç®—æ‰€éœ€ä¿¡æ¯çš„è¾…åŠ©ç©ºé—´</p>
<p>ä¸‹é¢ç»™å‡ºç©ºé—´å¤æ‚åº¦ä¸º<code>O(1)</code>çš„ç¤ºä¾‹ï¼Œå¦‚ä¸‹</p>
<pre><code class="javascript">let a = 1
let b = 2
let c = 3
</code></pre>
<p>ä¸Šè¿°ä»£ç çš„ä¸´æ—¶ç©ºé—´ä¸ä¼šéšç€<code>n</code>çš„å˜åŒ–è€Œå˜åŒ–ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä¸º<code>O(1)</code></p>
<pre><code class="javascript">let arr []
for(i=1; i&lt;=n; ++i)&#123;
  arr.push(i)
&#125;
</code></pre>
<p>ä¸Šè¿°å¯ä»¥çœ‹åˆ°ï¼Œéšç€<code>n</code>çš„å¢åŠ ï¼Œæ•°ç»„çš„å ç”¨çš„å†…å­˜ç©ºé—´è¶Šå¤§</p>
<p>é€šå¸¸æ¥è¯´ï¼Œåªè¦ç®—æ³•ä¸æ¶‰åŠåˆ°åŠ¨æ€åˆ†é…çš„ç©ºé—´ï¼Œä»¥åŠé€’å½’ã€æ ˆæ‰€éœ€çš„ç©ºé—´ï¼Œç©ºé—´å¤æ‚åº¦é€šå¸¸ä¸º<code>O(1)</code>ï¼Œä¸€ä¸ªä¸€ç»´æ•°ç»„<code>a[n]</code>ï¼Œç©ºé—´å¤æ‚åº¦<code>O(n)</code>ï¼ŒäºŒç»´æ•°ç»„ä¸º<code>O(n^2)</code></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹æ•°æ®ç»“æ„çš„ç†è§£ï¼Ÿæœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹æ•°æ®ç»“æ„çš„ç†è§£ï¼Ÿæœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹æ•°æ®ç»“æ„çš„ç†è§£ï¼Ÿæœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹æ•°æ®ç»“æ„çš„ç†è§£ï¼Ÿæœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>æ•°æ®ç»“æ„æ˜¯è®¡ç®—æœºå­˜å‚¨ã€ç»„ç»‡æ•°æ®çš„æ–¹å¼ï¼Œæ˜¯æŒ‡ç›¸äº’ä¹‹é—´å­˜åœ¨ä¸€ç§æˆ–å¤šç§ç‰¹å®šå…³ç³»çš„æ•°æ®å…ƒç´ çš„é›†åˆ</p>
<p>å‰é¢è®²åˆ°ï¼Œä¸€ä¸ªç¨‹åº &#x3D; ç®—æ³• + æ•°æ®ç»“æ„ï¼Œæ•°æ®ç»“æ„æ˜¯å®ç°ç®—æ³•çš„åŸºç¡€ï¼Œé€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„å¯ä»¥å¸¦æ¥æ›´é«˜çš„è¿è¡Œæˆ–è€…å­˜å‚¨æ•ˆç‡</p>
<p>æ•°æ®å…ƒç´ ç›¸äº’ä¹‹é—´çš„å…³ç³»ç§°ä¸ºç»“æ„ï¼Œæ ¹æ®æ•°æ®å…ƒç´ ä¹‹é—´å…³ç³»çš„ä¸åŒç‰¹æ€§ï¼Œé€šå¸¸æœ‰å¦‚ä¸‹å››ç±»åŸºæœ¬çš„ç»“æ„ï¼š</p>
<ul>
<li>é›†åˆç»“æ„ï¼šè¯¥ç»“æ„çš„æ•°æ®å…ƒç´ é—´çš„å…³ç³»æ˜¯â€œå±äºåŒä¸€ä¸ªé›†åˆâ€</li>
<li>çº¿æ€§ç»“æ„ï¼šè¯¥ç»“æ„çš„æ•°æ®å…ƒç´ ä¹‹é—´å­˜åœ¨ç€ä¸€å¯¹ä¸€çš„å…³ç³»</li>
<li>æ ‘å‹ç»“æ„ï¼šè¯¥ç»“æ„çš„æ•°æ®å…ƒç´ ä¹‹é—´å­˜åœ¨ç€ä¸€å¯¹å¤šçš„å…³ç³»</li>
<li>å›¾å½¢ç»“æ„ï¼šè¯¥ç»“æ„çš„æ•°æ®å…ƒç´ ä¹‹é—´å­˜åœ¨ç€å¤šå¯¹å¤šçš„å…³ç³»ï¼Œä¹Ÿç§°ç½‘çŠ¶ç»“æ„</li>
</ul>
<p>ç”±äºæ•°æ®ç»“æ„ç§ç±»å¤ªå¤šï¼Œé€»è¾‘ç»“æ„å¯ä»¥å†åˆ†æˆä¸ºï¼š</p>
<ul>
<li>çº¿æ€§ç»“æ„ï¼šæœ‰åºæ•°æ®å…ƒç´ çš„é›†åˆï¼Œå…¶ä¸­æ•°æ®å…ƒç´ ä¹‹é—´çš„å…³ç³»æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»ï¼Œé™¤äº†ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªæ•°æ®å…ƒç´ ä¹‹å¤–ï¼Œå…¶å®ƒæ•°æ®å…ƒç´ éƒ½æ˜¯é¦–å°¾ç›¸æ¥çš„</li>
<li>éçº¿æ€§ç»“æ„ï¼šå„ä¸ªæ•°æ®å…ƒç´ ä¸å†ä¿æŒåœ¨ä¸€ä¸ªçº¿æ€§åºåˆ—ä¸­ï¼Œæ¯ä¸ªæ•°æ®å…ƒç´ å¯èƒ½ä¸é›¶ä¸ªæˆ–è€…å¤šä¸ªå…¶ä»–æ•°æ®å…ƒç´ å‘ç”Ÿå…³è”</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/c16cd7ef078a9270d5e13a8eca64d7b5469bf5ba3cfa7b88564c0065ba3ba230/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f39616564633564302d316161362d313165632d386536342d3931666465633066303561312e706e67"><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f39616564633564302d316161362d313165632d386536342d3931666465633066303561312e706e67.png" alt="img"></a></p>
<h4 id="äºŒã€æœ‰å“ªäº›"><a href="#äºŒã€æœ‰å“ªäº›" class="headerlink" title="äºŒã€æœ‰å“ªäº›"></a>äºŒã€æœ‰å“ªäº›</h4><p>å¸¸è§çš„æ•°æ®ç»“æ„æœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ•°ç»„</li>
<li>æ ˆ</li>
<li>é˜Ÿåˆ—</li>
<li>é“¾è¡¨</li>
<li>æ ‘</li>
<li>å›¾</li>
<li>å †</li>
<li>æ•£åˆ—è¡¨</li>
</ul>
<h5 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h5><p>åœ¨ç¨‹åºè®¾è®¡ä¸­ï¼Œä¸ºäº†å¤„ç†æ–¹ä¾¿ï¼Œ ä¸€èˆ¬æƒ…å†µæŠŠå…·æœ‰ç›¸åŒç±»å‹çš„è‹¥å¹²å˜é‡æŒ‰æœ‰åºçš„å½¢å¼ç»„ç»‡èµ·æ¥ï¼Œè¿™äº›æŒ‰åºæ’åˆ—çš„åŒç±»æ•°æ®å…ƒç´ çš„é›†åˆç§°ä¸ºæ•°ç»„</p>
<h5 id="æ ˆ"><a href="#æ ˆ" class="headerlink" title="æ ˆ"></a>æ ˆ</h5><p>ä¸€ç§ç‰¹æ®Šçš„çº¿æ€§è¡¨ï¼Œåªèƒ½åœ¨æŸä¸€ç«¯æ’å…¥å’Œåˆ é™¤çš„ç‰¹æ®Šçº¿æ€§è¡¨ï¼ŒæŒ‰ç…§å…ˆè¿›åå‡ºçš„ç‰¹æ€§å­˜å‚¨æ•°æ®</p>
<p>å…ˆè¿›å…¥çš„æ•°æ®è¢«å‹å…¥æ ˆåº•ï¼Œæœ€åçš„æ•°æ®åœ¨æ ˆé¡¶ï¼Œéœ€è¦è¯»æ•°æ®çš„æ—¶å€™ä»æ ˆé¡¶å¼€å§‹å¼¹å‡ºæ•°æ®</p>
<h5 id="é˜Ÿåˆ—"><a href="#é˜Ÿåˆ—" class="headerlink" title="é˜Ÿåˆ—"></a>é˜Ÿåˆ—</h5><p>è·Ÿæ ˆåŸºæœ¬ä¸€è‡´ï¼Œä¹Ÿæ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿æ€§è¡¨ï¼Œå…¶ç‰¹æ€§æ˜¯å…ˆè¿›å…ˆå‡ºï¼Œåªå…è®¸åœ¨è¡¨çš„å‰ç«¯è¿›è¡Œåˆ é™¤æ“ä½œï¼Œè€Œåœ¨è¡¨çš„åç«¯è¿›è¡Œæ’å…¥æ“ä½œ</p>
<h5 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h5><p>æ˜¯ä¸€ç§ç‰©ç†å­˜å‚¨å•å…ƒä¸Šéè¿ç»­ã€éé¡ºåºçš„å­˜å‚¨ç»“æ„ï¼Œæ•°æ®å…ƒç´ çš„é€»è¾‘é¡ºåºæ˜¯é€šè¿‡é“¾è¡¨ä¸­çš„æŒ‡é’ˆé“¾æ¥æ¬¡åºå®ç°çš„</p>
<p>é“¾è¡¨ç”±ä¸€ç³»åˆ—ç»“ç‚¹ï¼ˆé“¾è¡¨ä¸­æ¯ä¸€ä¸ªå…ƒç´ ç§°ä¸ºç»“ç‚¹ï¼‰ç»„æˆï¼Œç»“ç‚¹å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆ</p>
<p>ä¸€èˆ¬æƒ…å†µï¼Œæ¯ä¸ªç»“ç‚¹åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼šä¸€ä¸ªæ˜¯å­˜å‚¨æ•°æ®å…ƒç´ çš„æ•°æ®åŸŸï¼Œå¦ä¸€ä¸ªæ˜¯å­˜å‚¨ä¸‹ä¸€ä¸ªç»“ç‚¹åœ°å€çš„æŒ‡é’ˆåŸŸ</p>
<h5 id="æ ‘"><a href="#æ ‘" class="headerlink" title="æ ‘"></a>æ ‘</h5><p>æ ‘æ˜¯å…¸å‹çš„éçº¿æ€§ç»“æ„ï¼Œåœ¨æ ‘çš„ç»“æ„ä¸­ï¼Œæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæ ¹ç»“ç‚¹ï¼Œè¯¥ç»“ç‚¹æ²¡æœ‰å‰é©±ç»“ç‚¹ã€‚åœ¨æ ‘ç»“æ„ä¸­çš„å…¶ä»–ç»“ç‚¹éƒ½æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå‰é©±ç»“ç‚¹ï¼Œè€Œä¸”å¯ä»¥æœ‰ä¸¤ä¸ªä»¥ä¸Šçš„åç»§ç»“ç‚¹</p>
<h5 id="å›¾"><a href="#å›¾" class="headerlink" title="å›¾"></a>å›¾</h5><p>ä¸€ç§éçº¿æ€§ç»“æ„ã€‚åœ¨å›¾ç»“ç»“æ„ä¸­ï¼Œæ•°æ®ç»“ç‚¹ä¸€èˆ¬ç§°ä¸ºé¡¶ç‚¹ï¼Œè€Œè¾¹æ˜¯é¡¶ç‚¹çš„æœ‰åºå¶å¯¹ã€‚å¦‚æœä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´å­˜åœ¨ä¸€æ¡è¾¹ï¼Œé‚£ä¹ˆå°±è¡¨ç¤ºè¿™ä¸¤ä¸ªé¡¶ç‚¹å…·æœ‰ç›¸é‚»å…³ç³»</p>
<h5 id="å †"><a href="#å †" class="headerlink" title="å †"></a>å †</h5><p>å †æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ ‘å½¢æ•°æ®ç»“æ„ï¼Œæ¯ä¸ªç»“ç‚¹éƒ½æœ‰ä¸€ä¸ªå€¼ï¼Œç‰¹ç‚¹æ˜¯æ ¹ç»“ç‚¹çš„å€¼æœ€å°ï¼ˆæˆ–æœ€å¤§ï¼‰ï¼Œä¸”æ ¹ç»“ç‚¹çš„ä¸¤ä¸ªå­æ ‘ä¹Ÿæ˜¯ä¸€ä¸ªå †</p>
<h5 id="æ•£åˆ—è¡¨"><a href="#æ•£åˆ—è¡¨" class="headerlink" title="æ•£åˆ—è¡¨"></a>æ•£åˆ—è¡¨</h5><p>è‹¥ç»“æ„ä¸­å­˜åœ¨å…³é”®å­—å’Œ<code>K</code>ç›¸ç­‰çš„è®°å½•ï¼Œåˆ™å¿…å®šåœ¨<code>f(K)</code>çš„å­˜å‚¨ä½ç½®ä¸Šï¼Œä¸éœ€æ¯”è¾ƒä¾¿å¯ç›´æ¥å–å¾—æ‰€æŸ¥è®°å½•</p>
<h4 id="ä¸‰ã€åŒºåˆ«"><a href="#ä¸‰ã€åŒºåˆ«" class="headerlink" title="ä¸‰ã€åŒºåˆ«"></a>ä¸‰ã€åŒºåˆ«</h4><p>ä¸Šè¿°çš„æ•°æ®ç»“æ„ï¼Œä¹‹å‰çš„åŒºåˆ«å¯ä»¥åˆ†æˆçº¿æ€§ç»“æ„å’Œéçº¿æ€§ç»“æ„ï¼š</p>
<ul>
<li>çº¿æ€§ç»“æ„æœ‰ï¼šæ•°ç»„ã€æ ˆã€é˜Ÿåˆ—ã€é“¾è¡¨ç­‰</li>
<li>éçº¿æ€§ç»“æ„æœ‰ï¼šæ ‘ã€å›¾ã€å †ç­‰</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹æ ˆã€é˜Ÿåˆ—çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹æ ˆã€é˜Ÿåˆ—çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹æ ˆã€é˜Ÿåˆ—çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹æ ˆã€é˜Ÿåˆ—çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ ˆ"><a href="#ä¸€ã€æ ˆ" class="headerlink" title="ä¸€ã€æ ˆ"></a>ä¸€ã€æ ˆ</h4><p>æ ˆï¼ˆstackï¼‰åˆåå †æ ˆï¼Œå®ƒæ˜¯ä¸€ç§è¿ç®—å—é™çš„çº¿æ€§è¡¨ï¼Œé™å®šä»…åœ¨è¡¨å°¾è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œçš„çº¿æ€§è¡¨</p>
<p>è¡¨å°¾è¿™ä¸€ç«¯è¢«ç§°ä¸ºæ ˆé¡¶ï¼Œç›¸ååœ°å¦ä¸€ç«¯è¢«ç§°ä¸ºæ ˆåº•ï¼Œå‘æ ˆé¡¶æ’å…¥å…ƒç´ è¢«ç§°ä¸ºè¿›æ ˆã€å…¥æ ˆã€å‹æ ˆï¼Œä»æ ˆé¡¶åˆ é™¤å…ƒç´ åˆç§°ä½œå‡ºæ ˆ</p>
<p>æ‰€ä»¥å…¶æŒ‰ç…§å…ˆè¿›åå‡ºçš„åŸåˆ™å­˜å‚¨æ•°æ®ï¼Œå…ˆè¿›å…¥çš„æ•°æ®è¢«å‹å…¥æ ˆåº•ï¼Œæœ€åçš„æ•°æ®åœ¨æ ˆé¡¶ï¼Œéœ€è¦è¯»æ•°æ®çš„æ—¶å€™ä»æ ˆé¡¶å¼€å§‹å¼¹å‡ºæ•°æ®ï¼Œå…·æœ‰è®°å¿†ä½œç”¨</p>
<p>å…³äºæ ˆçš„ç®€å•å®ç°ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">class Stack &#123;
  constructor() &#123;
    this.items = [];
  &#125;

  /**
   * æ·»åŠ ä¸€ä¸ªï¼ˆæˆ–å‡ ä¸ªï¼‰æ–°å…ƒç´ åˆ°æ ˆé¡¶
   * @param &#123;*&#125; element æ–°å…ƒç´ 
   */
  push(element) &#123;
    this.items.push(element)
  &#125;

  /**
   * ç§»é™¤æ ˆé¡¶çš„å…ƒç´ ï¼ŒåŒæ—¶è¿”å›è¢«ç§»é™¤çš„å…ƒç´ 
   */
  pop() &#123;
    return this.items.pop()
  &#125;

  /**
   * è¿”å›æ ˆé¡¶çš„å…ƒç´ ï¼Œä¸å¯¹æ ˆåšä»»ä½•ä¿®æ”¹ï¼ˆè¿™ä¸ªæ–¹æ³•ä¸ä¼šç§»é™¤æ ˆé¡¶çš„å…ƒç´ ï¼Œä»…ä»…è¿”å›å®ƒï¼‰
   */
  peek() &#123;
    return this.items[this.items.length - 1]
  &#125;

  /**
   * å¦‚æœæ ˆé‡Œæ²¡æœ‰ä»»ä½•å…ƒç´ å°±è¿”å›true,å¦åˆ™è¿”å›false
   */
  isEmpty() &#123;
    return this.items.length === 0
  &#125;

  /**
   * ç§»é™¤æ ˆé‡Œçš„æ‰€æœ‰å…ƒç´ 
   */
  clear() &#123;
    this.items = []
  &#125;

  /**
   * è¿”å›æ ˆé‡Œçš„å…ƒç´ ä¸ªæ•°ã€‚è¿™ä¸ªæ–¹æ³•å’Œæ•°ç»„çš„lengthå±æ€§å¾ˆç±»ä¼¼
   */
  size() &#123;
    return this.items.length
  &#125;
&#125;
</code></pre>
<p>å…³äºæ ˆçš„æ“ä½œä¸»è¦çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<ul>
<li>pushï¼šå…¥æ ˆæ“ä½œ</li>
<li>popï¼šå‡ºæ ˆæ“ä½œ</li>
</ul>
<h4 id="äºŒã€é˜Ÿåˆ—"><a href="#äºŒã€é˜Ÿåˆ—" class="headerlink" title="äºŒã€é˜Ÿåˆ—"></a>äºŒã€é˜Ÿåˆ—</h4><p>è·Ÿæ ˆååˆ†ç›¸ä¼¼ï¼Œé˜Ÿåˆ—æ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿æ€§è¡¨ï¼Œç‰¹æ®Šä¹‹å¤„åœ¨äºå®ƒåªå…è®¸åœ¨è¡¨çš„å‰ç«¯ï¼ˆfrontï¼‰è¿›è¡Œåˆ é™¤æ“ä½œï¼Œè€Œåœ¨è¡¨çš„åç«¯ï¼ˆrearï¼‰è¿›è¡Œæ’å…¥æ“ä½œ</p>
<p>è¿›è¡Œæ’å…¥æ“ä½œçš„ç«¯ç§°ä¸ºé˜Ÿå°¾ï¼Œè¿›è¡Œåˆ é™¤æ“ä½œçš„ç«¯ç§°ä¸ºé˜Ÿå¤´ï¼Œå½“é˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ æ—¶ï¼Œç§°ä¸ºç©ºé˜Ÿåˆ—</p>
<p>åœ¨é˜Ÿåˆ—ä¸­æ’å…¥ä¸€ä¸ªé˜Ÿåˆ—å…ƒç´ ç§°ä¸ºå…¥é˜Ÿï¼Œä»é˜Ÿåˆ—ä¸­åˆ é™¤ä¸€ä¸ªé˜Ÿåˆ—å…ƒç´ ç§°ä¸ºå‡ºé˜Ÿã€‚å› ä¸ºé˜Ÿåˆ—åªå…è®¸åœ¨ä¸€ç«¯æ’å…¥ï¼Œåœ¨å¦ä¸€ç«¯åˆ é™¤ï¼Œæ‰€ä»¥åªæœ‰æœ€æ—©è¿›å…¥é˜Ÿåˆ—çš„å…ƒç´ æ‰èƒ½æœ€å…ˆä»é˜Ÿåˆ—ä¸­åˆ é™¤ï¼Œæ•…é˜Ÿåˆ—åˆç§°ä¸ºå…ˆè¿›å…ˆå‡º</p>
<p>ç®€å•å®ç°ä¸€ä¸ªé˜Ÿåˆ—çš„æ–¹å¼ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code>class Queue &#123;
    constructor() &#123;
        this.list = []
        this.frontIndex = 0
        this.tailIndex = 0
    &#125;
    enqueue(item) &#123;
        this.list[this.tailIndex++] = item
    &#125;
    unqueue() &#123;
        const item  = this.list[this.frontIndex]
        this.frontIndex++        
        return item
    &#125;
&#125;
</code></pre>
<p>ä¸Šè¿°è¿™ç§å…¥é˜Ÿå’Œå‡ºé˜Ÿæ“ä½œä¸­ï¼Œå¤´å°¾æŒ‡é’ˆåªå¢åŠ ä¸å‡å°ï¼Œè‡´ä½¿è¢«åˆ å…ƒç´ çš„ç©ºé—´æ°¸è¿œæ— æ³•é‡æ–°åˆ©ç”¨</p>
<p>å½“é˜Ÿåˆ—ä¸­å®é™…çš„å…ƒç´ ä¸ªæ•°è¿œè¿œå°äºå‘é‡ç©ºé—´çš„è§„æ¨¡æ—¶ï¼Œä¹Ÿå¯èƒ½ç”±äºå°¾æŒ‡é’ˆå·²è¶…è¶Šå‘é‡ç©ºé—´çš„ä¸Šç•Œè€Œä¸èƒ½åšå…¥é˜Ÿæ“ä½œï¼Œå‡ºè¯¥ç°è±¡ç§°ä¸ºâ€å‡æº¢â€</p>
<p>åœ¨å®é™…ä½¿ç”¨é˜Ÿåˆ—æ—¶ï¼Œä¸ºäº†ä½¿é˜Ÿåˆ—ç©ºé—´èƒ½é‡å¤ä½¿ç”¨ï¼Œå¾€å¾€å¯¹é˜Ÿåˆ—çš„ä½¿ç”¨æ–¹æ³•ç¨åŠ æ”¹è¿›ï¼š</p>
<p>æ— è®ºæ’å…¥æˆ–åˆ é™¤ï¼Œä¸€æ—¦<code>rear</code>æŒ‡é’ˆå¢1æˆ–<code>front</code>æŒ‡é’ˆå¢1 æ—¶è¶…å‡ºäº†æ‰€åˆ†é…çš„é˜Ÿåˆ—ç©ºé—´ï¼Œå°±è®©å®ƒæŒ‡å‘è¿™ç‰‡è¿ç»­ç©ºé—´çš„èµ·å§‹ä½ç½®ï¼Œè¿™ç§é˜Ÿåˆ—ä¹Ÿå°±æ˜¯å¾ªç¯é˜Ÿåˆ—</p>
<p>ä¸‹é¢å®ç°ä¸€ä¸ªå¾ªç¯é˜Ÿåˆ—ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">class Queue &#123;
    constructor(size) &#123;
        this.size = size; // é•¿åº¦éœ€è¦é™åˆ¶, æ¥è¾¾åˆ°ç©ºé—´çš„åˆ©ç”¨, ä»£è¡¨ç©ºé—´çš„é•¿åº¦
        this.list = [];
        this.font = 0; // æŒ‡å‘é¦–å…ƒç´ 
        this.rear = 0;  // æŒ‡å‘å‡†å¤‡æ’å…¥å…ƒç´ çš„ä½ç½®
    &#125;
    enQueue() &#123;
        if (this.isFull() == true) &#123;
            return false
        &#125;
        this.rear = this.rear % this.k;
        this._data[this.rear++] = value;
        return true
    &#125;
    deQueue() &#123;
        if(this.isEmpty())&#123;
            return false;
        &#125;
        this.font++;
        this.font = this.font % this.k;
        return true;
    &#125;
    isEmpty() &#123;
        return this.font == this.rear - 1;
    &#125;
    isFull() &#123;
        return this.rear % this.k == this.font;
    &#125;
&#125;
</code></pre>
<p>ä¸Šè¿°é€šè¿‡æ±‚ä½™çš„å½¢å¼ä»£è¡¨é¦–å°¾æŒ‡é’ˆå¢1 æ—¶è¶…å‡ºäº†æ‰€åˆ†é…çš„é˜Ÿåˆ—ç©ºé—´</p>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><h5 id="æ ˆ-1"><a href="#æ ˆ-1" class="headerlink" title="æ ˆ"></a>æ ˆ</h5><p>å€ŸåŠ©æ ˆçš„å…ˆè¿›åå‡ºçš„ç‰¹æ€§ï¼Œå¯ä»¥ç®€å•å®ç°ä¸€ä¸ªé€†åºæ•°å¤„çš„åŠŸèƒ½ï¼Œé¦–å…ˆæŠŠæ‰€æœ‰å…ƒç´ ä¾æ¬¡å…¥æ ˆï¼Œç„¶åæŠŠæ‰€æœ‰å…ƒç´ å‡ºæ ˆå¹¶è¾“å‡º</p>
<p>åŒ…æ‹¬ç¼–è¯‘å™¨çš„åœ¨å¯¹è¾“å…¥çš„è¯­æ³•è¿›è¡Œåˆ†æçš„æ—¶å€™ï¼Œä¾‹å¦‚<code>&quot;()&quot;</code>ã€<code>&quot;&#123;&#125;&quot;</code>ã€<code>&quot;[]&quot;</code>è¿™äº›æˆå¯¹å‡ºç°çš„ç¬¦å·ï¼Œå€ŸåŠ©æ ˆçš„ç‰¹æ€§ï¼Œå‡¡æ˜¯é‡åˆ°æ‹¬å·çš„å‰åŠéƒ¨åˆ†ï¼Œå³æŠŠè¿™ä¸ªå…ƒç´ å…¥æ ˆï¼Œå‡¡æ˜¯é‡åˆ°æ‹¬å·çš„ååŠéƒ¨åˆ†å°±æ¯”å¯¹æ ˆé¡¶å…ƒç´ æ˜¯å¦è¯¥å…ƒç´ ç›¸åŒ¹é…ï¼Œå¦‚æœåŒ¹é…ï¼Œåˆ™å‰åŠéƒ¨åˆ†å‡ºæ ˆï¼Œå¦åˆ™å°±æ˜¯åŒ¹é…å‡ºé”™</p>
<p>åŒ…æ‹¬å‡½æ•°è°ƒç”¨å’Œé€’å½’çš„æ—¶å€™ï¼Œæ¯è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œåº•å±‚éƒ½ä¼šè¿›è¡Œå…¥æ ˆæ“ä½œï¼Œå‡ºæ ˆåˆ™è¿”å›å‡½æ•°çš„è¿”å›å€¼</p>
<p>ç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼Œå¯ä»¥æŠŠä¹’ä¹“çƒç›’æ¯”å–»æˆä¸€ä¸ªå †æ ˆï¼Œçƒä¸€ä¸ªä¸€ä¸ªæ”¾è¿›å»ï¼ˆå…¥æ ˆï¼‰ï¼Œæœ€å…ˆæ”¾è¿›å»çš„è¦ç­‰å…¶åé¢çš„å…¨éƒ¨æ‹¿å‡ºæ¥åæ‰èƒ½å‡ºæ¥ï¼ˆå‡ºæ ˆï¼‰ï¼Œè¿™ç§å°±æ˜¯å…¸å‹çš„å…ˆè¿›åå‡ºæ¨¡å‹</p>
<h5 id="é˜Ÿåˆ—-1"><a href="#é˜Ÿåˆ—-1" class="headerlink" title="é˜Ÿåˆ—"></a>é˜Ÿåˆ—</h5><p>å½“æˆ‘ä»¬éœ€è¦æŒ‰ç…§ä¸€å®šçš„é¡ºåºæ¥å¤„ç†æ•°æ®ï¼Œè€Œè¯¥æ•°æ®çš„æ•°æ®é‡åœ¨ä¸æ–­åœ°å˜åŒ–çš„æ—¶å€™ï¼Œåˆ™éœ€è¦é˜Ÿåˆ—æ¥å¸®åŠ©è§£é¢˜</p>
<p>é˜Ÿåˆ—çš„ä½¿ç”¨å¹¿æ³›åº”ç”¨åœ¨å¹¿åº¦ä¼˜å…ˆæœç´¢ç§ï¼Œä¾‹å¦‚å±‚æ¬¡éå†ä¸€ä¸ªäºŒå‰æ ‘çš„èŠ‚ç‚¹å€¼ï¼ˆåç»­å°†åˆ°ï¼‰</p>
<p>ç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼Œæ’é˜Ÿä¹°ç¥¨ï¼Œæ’åœ¨é˜Ÿå¤´çš„æ°¸è¿œå…ˆå¤„ç†ï¼Œåé¢çš„å¿…é¡»ç­‰åˆ°å‰é¢çš„å…¨éƒ¨å¤„ç†å®Œæ¯•å†è¿›è¡Œå¤„ç†ï¼Œè¿™ä¹Ÿæ˜¯å…¸å‹çš„å…ˆè¿›å…ˆå‡ºæ¨¡å‹</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹é“¾è¡¨çš„ç†è§£ï¼Ÿå¸¸è§çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹é“¾è¡¨çš„ç†è§£ï¼Ÿå¸¸è§çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹é“¾è¡¨çš„ç†è§£ï¼Ÿå¸¸è§çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹é“¾è¡¨çš„ç†è§£ï¼Ÿå¸¸è§çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-1"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-1" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>é“¾è¡¨ï¼ˆLinked Listï¼‰æ˜¯ä¸€ç§ç‰©ç†å­˜å‚¨å•å…ƒä¸Šéè¿ç»­ã€éé¡ºåºçš„å­˜å‚¨ç»“æ„ï¼Œæ•°æ®å…ƒç´ çš„é€»è¾‘é¡ºåºæ˜¯é€šè¿‡é“¾è¡¨ä¸­çš„æŒ‡é’ˆé“¾æ¥æ¬¡åºå®ç°çš„ï¼Œç”±ä¸€ç³»åˆ—ç»“ç‚¹ï¼ˆé“¾è¡¨ä¸­æ¯ä¸€ä¸ªå…ƒç´ ç§°ä¸ºç»“ç‚¹ï¼‰ç»„æˆ</p>
<p>æ¯ä¸ªç»“ç‚¹åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼šä¸€ä¸ªæ˜¯å­˜å‚¨æ•°æ®å…ƒç´ çš„æ•°æ®åŸŸï¼Œå¦ä¸€ä¸ªæ˜¯å­˜å‚¨ä¸‹ä¸€ä¸ªç»“ç‚¹åœ°å€çš„æŒ‡é’ˆåŸŸ</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65346539333439302d316337362d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>èŠ‚ç‚¹ç”¨ä»£ç è¡¨ç¤ºï¼Œåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">class Node &#123;
  constructor(val) &#123;
    this.val = val;
    this.next = null;
  &#125;
&#125;
</code></pre>
<ul>
<li>data è¡¨ç¤ºèŠ‚ç‚¹å­˜æ”¾çš„æ•°æ®</li>
<li>next è¡¨ç¤ºä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘çš„å†…å­˜ç©ºé—´</li>
</ul>
<p>ç›¸æ¯”äºçº¿æ€§è¡¨é¡ºåºç»“æ„ï¼Œæ“ä½œå¤æ‚ã€‚ç”±äºä¸å¿…é¡»æŒ‰é¡ºåºå­˜å‚¨ï¼Œé“¾è¡¨åœ¨æ’å…¥çš„æ—¶å€™å¯ä»¥è¾¾åˆ°<code>O(1)</code>çš„å¤æ‚åº¦ï¼Œæ¯”å¦ä¸€ç§çº¿æ€§è¡¨é¡ºåºè¡¨å¿«å¾—å¤šï¼Œä½†æ˜¯æŸ¥æ‰¾ä¸€ä¸ªèŠ‚ç‚¹æˆ–è€…è®¿é—®ç‰¹å®šç¼–å·çš„èŠ‚ç‚¹åˆ™éœ€è¦O(n)çš„æ—¶é—´ï¼Œè€Œçº¿æ€§è¡¨å’Œé¡ºåºè¡¨ç›¸åº”çš„æ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯<code>O(logn)</code>å’Œ<code>O(1)</code></p>
<p>é“¾è¡¨çš„ç»“æ„ä¹Ÿååˆ†å¤šï¼Œå¸¸è§çš„æœ‰å››ç§å½¢å¼ï¼š</p>
<ul>
<li>å•é“¾è¡¨ï¼šé™¤äº†å¤´èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹ï¼Œå…¶ä»–èŠ‚ç‚¹åªåŒ…å«ä¸€ä¸ªåç»§æŒ‡é’ˆ</li>
<li>å¾ªç¯é“¾è¡¨ï¼šè·Ÿå•é“¾è¡¨å”¯ä¸€çš„åŒºåˆ«å°±åœ¨äºå®ƒçš„å°¾ç»“ç‚¹åˆæŒ‡å›äº†é“¾è¡¨çš„å¤´ç»“ç‚¹ï¼Œé¦–å°¾ç›¸è¿ï¼Œå½¢æˆäº†ä¸€ä¸ªç¯</li>
<li>åŒå‘é“¾è¡¨ï¼šæ¯ä¸ªç»“ç‚¹å…·æœ‰ä¸¤ä¸ªæ–¹å‘æŒ‡é’ˆï¼Œåç»§æŒ‡é’ˆ(next)æŒ‡å‘åé¢çš„ç»“ç‚¹ï¼Œå‰é©±æŒ‡é’ˆ(prev)æŒ‡å‘å‰é¢çš„ç»“ç‚¹ï¼Œå…¶ä¸­èŠ‚ç‚¹çš„å‰é©±æŒ‡é’ˆå’Œå°¾ç»“ç‚¹çš„åç»§æŒ‡é’ˆå‡æŒ‡å‘ç©ºåœ°å€NULL</li>
<li>åŒå‘å¾ªç¯é“¾è¡¨ï¼šè·ŸåŒå‘é“¾è¡¨åŸºæœ¬ä¸€è‡´ï¼Œä¸è¿‡å¤´èŠ‚ç‚¹å‰é©±æŒ‡é’ˆæŒ‡å‘å°¾è¿¹è¯¶å•å’Œå°¾èŠ‚ç‚¹çš„åç»§æŒ‡é’ˆæŒ‡å‘å¤´èŠ‚ç‚¹</li>
</ul>
<h4 id="äºŒã€æ“ä½œ"><a href="#äºŒã€æ“ä½œ" class="headerlink" title="äºŒã€æ“ä½œ"></a>äºŒã€æ“ä½œ</h4><p>å…³äºé“¾è¡¨çš„æ“ä½œå¯ä»¥ä¸»è¦åˆ†æˆå¦‚ä¸‹ï¼š</p>
<ul>
<li>éå†</li>
<li>æ’å…¥</li>
<li>åˆ é™¤</li>
</ul>
<h5 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h5><p>éå†å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯æ ¹æ®<code>next</code>æŒ‡é’ˆéå†ä¸‹å»ï¼Œç›´åˆ°ä¸º<code>null</code>ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">let current = head
while(current)&#123;
 console.log(current.val)
  current = current.next
&#125;
</code></pre>
<h5 id="æ’å…¥"><a href="#æ’å…¥" class="headerlink" title="æ’å…¥"></a>æ’å…¥</h5><p>å‘é“¾è¡¨ä¸­é—´æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œå¯ä»¥å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f66356665356664302d316337362d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæ’å…¥èŠ‚ç‚¹å¯ä»¥åˆ†æˆå¦‚ä¸‹æ­¥éª¤ï¼š</p>
<ul>
<li>å­˜å‚¨æ’å…¥ä½ç½®çš„å‰ä¸€ä¸ªèŠ‚ç‚¹</li>
<li>å­˜å‚¨æ’å…¥ä½ç½®çš„åä¸€ä¸ªèŠ‚ç‚¹</li>
<li>å°†æ’å…¥ä½ç½®çš„å‰ä¸€ä¸ªèŠ‚ç‚¹çš„ next æŒ‡å‘æ’å…¥èŠ‚ç‚¹</li>
<li>å°†æ’å…¥èŠ‚ç‚¹çš„ next æŒ‡å‘å‰é¢å­˜å‚¨çš„ next èŠ‚ç‚¹</li>
</ul>
<p>ç›¸å…³ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="javascript">let current = head
while (current &lt; position)&#123;
  pervious = current;
  current = current.next;
&#125;
pervious.next = node;
node.next = current;
</code></pre>
<p>å¦‚æœåœ¨å¤´èŠ‚ç‚¹è¿›è¡Œæ’å…¥æ“ä½œçš„æ—¶å€™ï¼Œä¼šå®ç°<code>previousNode</code>èŠ‚ç‚¹ä¸º<code>undefined</code>ï¼Œä¸é€‚åˆä¸Šè¿°æ–¹å¼</p>
<p>è§£æ”¾æ–¹å¼å¯ä»¥æ˜¯åœ¨å¤´èŠ‚ç‚¹å‰é¢æ·»åŠ ä¸€ä¸ªè™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼Œä¿è¯æ’å…¥è¡Œä¸ºä¸€è‡´</p>
<h5 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h5><p>å‘é“¾è¡¨ä»»æ„ä½ç½®åˆ é™¤èŠ‚ç‚¹ï¼Œå¦‚ä¸‹å›¾æ“ä½œï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f30313630636439302d316337372d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°åˆ é™¤èŠ‚ç‚¹çš„æ­¥éª¤ä¸ºå¦‚ä¸‹ï¼š</p>
<ul>
<li>è·å–åˆ é™¤èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹</li>
<li>è·å–åˆ é™¤èŠ‚ç‚¹çš„åä¸€ä¸ªèŠ‚ç‚¹</li>
<li>å°†å‰ä¸€ä¸ªèŠ‚ç‚¹çš„ next æŒ‡å‘åä¸€ä¸ªèŠ‚ç‚¹</li>
<li>å‘åˆ é™¤èŠ‚ç‚¹çš„ next æŒ‡å‘ä¸ºnull</li>
</ul>
<p>å¦‚æœæƒ³è¦åˆ é™¤åˆ¶å®šçš„èŠ‚ç‚¹ï¼Œç¤ºæ„ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">while (current != node)&#123;
  pervious = current;
  current = current.next;
  nextNode = current.next;
&#125;
pervious.next = nextNode
</code></pre>
<p>åŒæ ·å¦‚ä½•å¸Œæœ›åˆ é™¤èŠ‚ç‚¹å¤„ç†è¡Œä¸ºä¸€è‡´ï¼Œå¯ä»¥åœ¨å¤´èŠ‚ç‚¹å‰é¢æ·»åŠ ä¸€ä¸ªè™šæ‹Ÿå¤´èŠ‚ç‚¹</p>
<h5 id="ä¸‰ã€åº”ç”¨åœºæ™¯-1"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-1" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h5><p>ç¼“å­˜æ˜¯ä¸€ç§æé«˜æ•°æ®è¯»å–æ€§èƒ½çš„æŠ€æœ¯ï¼Œåœ¨ç¡¬ä»¶è®¾è®¡ã€è½¯ä»¶å¼€å‘ä¸­éƒ½æœ‰ç€éå¸¸å¹¿æ³›çš„åº”ç”¨ï¼Œæ¯”å¦‚å¸¸è§çš„<code>CPU</code>ç¼“å­˜ã€æ•°æ®åº“ç¼“å­˜ã€æµè§ˆå™¨ç¼“å­˜ç­‰ç­‰</p>
<p>å½“ç¼“å­˜ç©ºé—´è¢«ç”¨æ»¡æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šä½¿ç”¨<code>LRU</code>æœ€è¿‘æœ€å¥½ä½¿ç”¨ç­–ç•¥å»æ¸…æ¥šï¼Œè€Œå®ç°<code>LRU</code>ç®—æ³•çš„æ•°æ®ç»“æ„æ˜¯é“¾è¡¨ï¼Œæ€è·¯å¦‚ä¸‹ï¼š</p>
<p>ç»´æŠ¤ä¸€ä¸ªæœ‰åºå•é“¾è¡¨ï¼Œè¶Šé è¿‘é“¾è¡¨å°¾éƒ¨çš„ç»“ç‚¹æ˜¯è¶Šæ—©ä¹‹å‰è®¿é—®çš„ã€‚å½“æœ‰ä¸€ä¸ªæ–°çš„æ•°æ®è¢«è®¿é—®æ—¶ï¼Œæˆ‘ä»¬ä»é“¾è¡¨å¤´éƒ¨å¼€å§‹é¡ºåºéå†é“¾è¡¨</p>
<ul>
<li>å¦‚æœæ­¤æ•°æ®ä¹‹å‰å·²ç»è¢«ç¼“å­˜åœ¨é“¾è¡¨ä¸­äº†ï¼Œæˆ‘ä»¬éå†å¾—åˆ°è¿™ä¸ªæ•°æ®çš„å¯¹åº”ç»“ç‚¹ï¼Œå¹¶å°†å…¶ä»åŸæ¥çš„ä½ç½®åˆ é™¤ï¼Œå¹¶æ’å…¥åˆ°é“¾è¡¨å¤´éƒ¨</li>
<li>å¦‚æœæ­¤æ•°æ®æ²¡åœ¨ç¼“å­˜é“¾è¡¨ä¸­<ul>
<li>å¦‚æœæ­¤æ—¶ç¼“å­˜æœªæ»¡ï¼Œå¯ç›´æ¥åœ¨é“¾è¡¨å¤´éƒ¨æ’å…¥æ–°èŠ‚ç‚¹å­˜å‚¨æ­¤æ•°æ®</li>
<li>å¦‚æœæ­¤æ—¶ç¼“å­˜å·²æ»¡ï¼Œåˆ™åˆ é™¤é“¾è¡¨å°¾éƒ¨èŠ‚ç‚¹ï¼Œå†åœ¨é“¾è¡¨å¤´éƒ¨æ’å…¥æ–°èŠ‚ç‚¹</li>
</ul>
</li>
</ul>
<p>ç”±äºé“¾è¡¨æ’å…¥åˆ é™¤æ•ˆç‡æé«˜ï¼Œè¾¾åˆ°O(1)ã€‚å¯¹äºä¸éœ€è¦æœç´¢ä½†å˜åŠ¨é¢‘ç¹ä¸”æ— æ³•é¢„çŸ¥æ•°é‡ä¸Šé™çš„æ•°æ®çš„æƒ…å†µçš„æ—¶å€™ï¼Œéƒ½å¯ä»¥ä½¿ç”¨é“¾è¡¨</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹é›†åˆçš„ç†è§£ï¼Ÿå¸¸è§çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹é›†åˆçš„ç†è§£ï¼Ÿå¸¸è§çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹é›†åˆçš„ç†è§£ï¼Ÿå¸¸è§çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹é›†åˆçš„ç†è§£ï¼Ÿå¸¸è§çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-2"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-2" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>é›†åˆï¼ˆSetï¼‰ï¼ŒæŒ‡å…·æœ‰æŸç§ç‰¹å®šæ€§è´¨çš„äº‹ç‰©çš„æ€»ä½“ï¼Œé‡Œé¢çš„æ¯ä¸€é¡¹å†…å®¹ç§°ä½œå…ƒç´ </p>
<p>åœ¨æ•°å­¦ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°é›†åˆçš„æ¦‚å¿µï¼š</p>
<ul>
<li>æœ‰é™é›†åˆï¼šä¾‹å¦‚ä¸€ä¸ªç­é›†æ‰€æœ‰çš„åŒå­¦æ„æˆçš„é›†åˆ</li>
<li>æ— é™é›†åˆï¼šä¾‹å¦‚å…¨ä½“è‡ªç„¶æ•°é›†åˆ</li>
</ul>
<p>åœ¨è®¡ç®—æœºä¸­é›†åˆé“ç†ä¹ŸåŸºæœ¬ä¸€è‡´ï¼Œå…·æœ‰ä¸‰å¤§ç‰¹æ€§ï¼š</p>
<ul>
<li>ç¡®å®šæ€§ï¼šäºä¸€ä¸ªç»™å®šçš„é›†åˆï¼Œé›†åˆä¸­çš„å…ƒç´ æ˜¯ç¡®å®šçš„ã€‚å³ä¸€ä¸ªå…ƒç´ ï¼Œæˆ–è€…å±äºè¯¥é›†åˆï¼Œæˆ–è€…ä¸å±äºè¯¥é›†åˆï¼Œä¸¤è€…å¿…å±…å…¶ä¸€</li>
<li>æ— åºæ€§ï¼šåœ¨ä¸€ä¸ªé›†åˆä¸­ï¼Œä¸è€ƒè™‘å…ƒç´ ä¹‹é—´çš„é¡ºåºï¼Œåªè¦å…ƒç´ å®Œå…¨ç›¸åŒï¼Œå°±è®¤ä¸ºæ˜¯åŒä¸€ä¸ªé›†åˆ</li>
<li>äº’å¼‚æ€§ï¼šé›†åˆä¸­ä»»æ„ä¸¤ä¸ªå…ƒç´ éƒ½æ˜¯ä¸åŒçš„</li>
</ul>
<h4 id="äºŒã€æ“ä½œ-1"><a href="#äºŒã€æ“ä½œ-1" class="headerlink" title="äºŒã€æ“ä½œ"></a>äºŒã€æ“ä½œ</h4><p>åœ¨<code>ES6</code>ä¸­ï¼Œé›†åˆæœ¬èº«æ˜¯ä¸€ä¸ªæ„å»ºå‡½æ•°<code>Set</code>ï¼Œç”¨æ¥ç”Ÿæˆ <code>Set</code> æ•°æ®ç»“æ„ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const s = new Set();
</code></pre>
<p>å…³äºé›†åˆå¸¸è§çš„æ–¹æ³•æœ‰ï¼š</p>
<ul>
<li>add()ï¼šå¢</li>
<li>delete()ï¼šåˆ </li>
<li>has()ï¼šæ”¹</li>
<li>clear()ï¼šæŸ¥</li>
</ul>
<h5 id="add"><a href="#add" class="headerlink" title="add()"></a>add()</h5><p>æ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å› <code>Set</code> ç»“æ„æœ¬èº«</p>
<p>å½“æ·»åŠ å®ä¾‹ä¸­å·²ç»å­˜åœ¨çš„å…ƒç´ ï¼Œ<code>set</code>ä¸ä¼šè¿›è¡Œå¤„ç†æ·»åŠ </p>
<pre><code class="javascript">s.add(1).add(2).add(2); // 2åªè¢«æ·»åŠ äº†ä¸€æ¬¡
</code></pre>
<p>ä½“ç°äº†é›†åˆçš„äº’å¼‚æ€§ç‰¹æ€§</p>
<h5 id="delete"><a href="#delete" class="headerlink" title="delete()"></a>delete()</h5><p>åˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸ</p>
<pre><code class="ini">s.delete(1)
</code></pre>
<h5 id="has"><a href="#has" class="headerlink" title="has()"></a>has()</h5><p>è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œåˆ¤æ–­è¯¥å€¼æ˜¯å¦ä¸º<code>Set</code>çš„æˆå‘˜</p>
<pre><code class="ini">s.has(2)
</code></pre>
<h5 id="clear"><a href="#clear" class="headerlink" title="clear()"></a>clear()</h5><p>æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼</p>
<pre><code class="ini">s.clear()
</code></pre>
<p>å…³äºå¤šä¸ªé›†åˆå¸¸è§çš„æ“ä½œæœ‰ï¼š</p>
<ul>
<li>å¹¶é›†</li>
<li>äº¤é›†</li>
<li>å·®é›†</li>
</ul>
<h5 id="å¹¶é›†"><a href="#å¹¶é›†" class="headerlink" title="å¹¶é›†"></a>å¹¶é›†</h5><p>ä¸¤ä¸ªé›†åˆçš„å…±åŒå…ƒç´ ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65643936646635302d316433362d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>ä»£ç å®ç°æ–¹å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">let a = new Set([1, 2, 3]);
let b = new Set([4, 3, 2]);

// å¹¶é›†
let union = new Set([...a, ...b]);
// Set &#123;1, 2, 3, 4&#125;
</code></pre>
<h5 id="äº¤é›†"><a href="#äº¤é›†" class="headerlink" title="äº¤é›†"></a>äº¤é›†</h5><p>ä¸¤ä¸ªé›†åˆ<code>A</code> å’Œ <code>B</code>ï¼Œå³å±äº<code>A</code>åˆå±äº<code>B</code>çš„å…ƒç´ ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f66386139636438302d316433362d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>ç”¨ä»£ç æ ‡è¯†åˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">let a = new Set([1, 2, 3]);
let b = new Set([4, 3, 2]);

// äº¤é›†
let intersect = new Set([...a].filter(x =&gt; b.has(x)));
// set &#123;2, 3&#125;
</code></pre>
<h5 id="å·®é›†"><a href="#å·®é›†" class="headerlink" title="å·®é›†"></a>å·®é›†</h5><p>ä¸¤ä¸ªé›†åˆ<code>A</code> å’Œ <code>B</code>ï¼Œå±äº<code>A</code>çš„å…ƒç´ ä½†ä¸å±äº<code>B</code>çš„å…ƒç´ ç§°ä¸º<code>A</code>ç›¸å¯¹äº<code>B</code>çš„å·®é›†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f30313931633536302d316433372d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>ä»£ç æ ‡è¯†åˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">let a = new Set([1, 2, 3]);
let b = new Set([4, 3, 2]);

// ï¼ˆa ç›¸å¯¹äº b çš„ï¼‰å·®é›†
let difference = new Set([...a].filter(x =&gt; !b.has(x)));
// Set &#123;1&#125;
</code></pre>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯-2"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-2" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ•°ç»„çš„æ¦‚ç‡ä¼šæ¯”é›†åˆæ¦‚ç‡é«˜å¾ˆå¤š</p>
<p>ä½¿ç”¨<code>set</code>é›†åˆçš„åœºæ™¯ä¸€èˆ¬æ˜¯å€ŸåŠ©å…¶ç¡®å®šæ€§ï¼Œå…¶æœ¬èº«åªåŒ…å«ä¸åŒçš„å…ƒç´ </p>
<p>æ‰€ä»¥ï¼Œå¯ä»¥åˆ©ç”¨<code>Set</code>çš„ä¸€äº›åŸç”Ÿæ–¹æ³•è½»æ¾çš„å®Œæˆæ•°ç»„å»é‡ï¼ŒæŸ¥æ‰¾æ•°ç»„å…¬å…±å…ƒç´ åŠä¸åŒå…ƒç´ ç­‰æ“ä½œ</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹æ ‘çš„ç†è§£ï¼Ÿç›¸å…³çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹æ ‘çš„ç†è§£ï¼Ÿç›¸å…³çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹æ ‘çš„ç†è§£ï¼Ÿç›¸å…³çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹æ ‘çš„ç†è§£ï¼Ÿç›¸å…³çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-3"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-3" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>åœ¨è®¡ç®—æœºé¢†åŸŸï¼Œæ ‘å½¢æ•°æ®ç»“æ„æ˜¯ä¸€ç±»é‡è¦çš„éçº¿æ€§æ•°æ®ç»“æ„ï¼Œå¯ä»¥è¡¨ç¤ºæ•°æ®ä¹‹é—´ä¸€å¯¹å¤šçš„å…³ç³»ã€‚ä»¥æ ‘ä¸äºŒå‰æ ‘æœ€ä¸ºå¸¸ç”¨ï¼Œç›´è§‚çœ‹æ¥ï¼Œæ ‘æ˜¯ä»¥åˆ†æ”¯å…³ç³»å®šä¹‰çš„å±‚æ¬¡ç»“æ„</p>
<p>äºŒå‰æ ‘æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼š</p>
<ul>
<li>æœ¬èº«æ˜¯æœ‰åºæ ‘</li>
<li>æ ‘ä¸­åŒ…å«çš„å„ä¸ªç»“ç‚¹çš„ä¸èƒ½è¶…è¿‡ 2ï¼Œå³åªèƒ½æ˜¯ 0ã€1 æˆ–è€… 2</li>
</ul>
<p>å¦‚ä¸‹å›¾ï¼Œå·¦ä¾§çš„ä¸ºäºŒå‰æ ‘ï¼Œè€Œå³ä¾§çš„å› ä¸ºå¤´ç»“ç‚¹çš„å­ç»“ç‚¹è¶…è¿‡2ï¼Œå› æ­¤ä¸å±äºäºŒå‰æ ‘ï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f36363735383830302d316466652d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>åŒæ—¶ï¼ŒäºŒå‰æ ‘å¯ä»¥ç»§ç»­è¿›è¡Œåˆ†ç±»ï¼Œåˆ†æˆäº†æ»¡äºŒå‰æ ‘å’Œå®ŒæˆäºŒå‰æ ‘ï¼š</p>
<ul>
<li>æ»¡äºŒå‰æ ‘ï¼šå¦‚æœäºŒå‰æ ‘ä¸­é™¤äº†å¶å­ç»“ç‚¹ï¼Œæ¯ä¸ªç»“ç‚¹çš„åº¦éƒ½ä¸º 2</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f37353964623035302d316466652d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<ul>
<li>å®ŒæˆäºŒå‰æ ‘ï¼šå¦‚æœäºŒå‰æ ‘ä¸­é™¤å»æœ€åä¸€å±‚èŠ‚ç‚¹ä¸ºæ»¡äºŒå‰æ ‘ï¼Œä¸”æœ€åä¸€å±‚çš„ç»“ç‚¹ä¾æ¬¡ä»å·¦åˆ°å³åˆ†å¸ƒ</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f38346165333166302d316466652d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<h4 id="äºŒã€æ“ä½œ-2"><a href="#äºŒã€æ“ä½œ-2" class="headerlink" title="äºŒã€æ“ä½œ"></a>äºŒã€æ“ä½œ</h4><p>å…³äºäºŒå‰æ ‘çš„éå†ï¼Œå¸¸è§çš„æœ‰ï¼š</p>
<ul>
<li>å‰åºéå†</li>
<li>ä¸­åºéå†</li>
<li>ååºéå†</li>
<li>å±‚åºéå†</li>
</ul>
<h5 id="å‰åºéå†"><a href="#å‰åºéå†" class="headerlink" title="å‰åºéå†"></a>å‰åºéå†</h5><p>å‰åºéå†çš„å®ç°æ€æƒ³æ˜¯ï¼š</p>
<ul>
<li>è®¿é—®æ ¹èŠ‚ç‚¹</li>
<li>è®¿é—®å½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘</li>
<li>è‹¥å½“å‰èŠ‚ç‚¹æ— å·¦å­æ ‘ï¼Œåˆ™è®¿é—®å½“å‰èŠ‚ç‚¹çš„å³å­</li>
</ul>
<p>æ ¹æ®éå†ç‰¹æ€§ï¼Œé€’å½’ç‰ˆæœ¬ç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const preOrder = (root) =&gt; &#123;
  if(!root)&#123; return &#125;
  console.log(root)
  preOrder(root.left)
  preOrder(root.right)
&#125;
</code></pre>
<p>å¦‚æœä¸ä½¿ç”¨é€’å½’ç‰ˆæœ¬ï¼Œå¯ä»¥å€ŸåŠ©æ ˆå…ˆè¿›åå‡ºçš„ç‰¹æ€§å®ç°ï¼Œå…ˆå°†æ ¹èŠ‚ç‚¹å‹å…¥æ ˆï¼Œå†åˆ†åˆ«å‹å…¥å³èŠ‚ç‚¹å’Œå·¦èŠ‚ç‚¹ï¼Œç›´åˆ°æ ˆä¸­æ²¡æœ‰å…ƒç´ ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const preOrder = (root) =&gt; &#123;
  if(!root)&#123; return &#125;
  const stack = [root]
  while (stack.length) &#123;
    const n = stack.pop()
    console.log(n.val)
    if (n.right) &#123;
      stack.push(n.right)
    &#125;
    if (n.left) &#123;
      stack.push(n.left)
    &#125;
  &#125;
&#125;
</code></pre>
<h5 id="ä¸­åºéå†"><a href="#ä¸­åºéå†" class="headerlink" title="ä¸­åºéå†"></a>ä¸­åºéå†</h5><p>å‰åºéå†çš„å®ç°æ€æƒ³æ˜¯ï¼š</p>
<ul>
<li>è®¿é—®å½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘</li>
<li>è®¿é—®æ ¹èŠ‚ç‚¹</li>
<li>è®¿é—®å½“å‰èŠ‚ç‚¹çš„å³å­</li>
</ul>
<p>é€’å½’ç‰ˆæœ¬å¾ˆå¥½ç†è§£ï¼Œç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const inOrder = (root) =&gt; &#123;
  if (!root) &#123; return &#125;
  inOrder(root.left)
  console.log(root.val)
  inOrder(root.right)
&#125;
</code></pre>
<p>éé€’å½’ç‰ˆæœ¬ä¹Ÿæ˜¯å€ŸåŠ©æ ˆå…ˆè¿›åå‡ºçš„ç‰¹æ€§ï¼Œå¯ä»¥ä¸€ç›´é¦–å…ˆä¸€ç›´å‹å…¥èŠ‚ç‚¹çš„å·¦å…ƒç´ ï¼Œå½“å·¦èŠ‚ç‚¹æ²¡æœ‰åï¼Œæ‰å¼€å§‹è¿›è¡Œå‡ºæ ˆæ“ä½œï¼Œå‹å…¥å³èŠ‚ç‚¹ï¼Œç„¶åæœ‰ä¾æ¬¡å‹å…¥å·¦èŠ‚ç‚¹ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const inOrder = (root) =&gt; &#123;
  if (!root) &#123; return &#125;
  const stack = [root]
  let p = root
  while(stack.length || p)&#123;
    while (p) &#123;
      stack.push(p)
      p = p.left
    &#125;
    const n = stack.pop()
    console.log(n.val)
    p = n.right
  &#125;
&#125;
</code></pre>
<h5 id="ååºéå†"><a href="#ååºéå†" class="headerlink" title="ååºéå†"></a>ååºéå†</h5><p>å‰åºéå†çš„å®ç°æ€æƒ³æ˜¯ï¼š</p>
<ul>
<li>è®¿é—®å½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘</li>
<li>è®¿é—®å½“å‰èŠ‚ç‚¹çš„å³å­</li>
<li>è®¿é—®æ ¹èŠ‚ç‚¹</li>
</ul>
<p>é€’å½’ç‰ˆæœ¬ï¼Œç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const postOrder = (root) =&gt; &#123;
  if (!root) &#123; return &#125;
  postOrder(root.left)
  postOrder(root.right)
  console.log(n.val)
 &#125;
</code></pre>
<p>ååºéå†éé€’å½’ç‰ˆæœ¬å®é™…æ ¹å…¨åºéå†æ˜¯é€†åºå…³ç³»ï¼Œå¯ä»¥å†å¤šåˆ›å»ºä¸€ä¸ªæ ˆç”¨æ¥è¿›è¡Œè¾“å‡ºï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const preOrder = (root) =&gt; &#123;
  if(!root)&#123; return &#125;
  const stack = [root]
  const outPut = []
  while (stack.length) &#123;
    const n = stack.pop()
    outPut.push(n.val)
    if (n.right) &#123;
      stack.push(n.right)
    &#125;
    if (n.left) &#123;
      stack.push(n.left)
    &#125;
  &#125;
  while (outPut.length) &#123;
    const n = outPut.pop()
    console.log(n.val)
  &#125;
&#125;
</code></pre>
<h5 id="å±‚åºéå†"><a href="#å±‚åºéå†" class="headerlink" title="å±‚åºéå†"></a>å±‚åºéå†</h5><p>æŒ‰ç…§äºŒå‰æ ‘ä¸­çš„å±‚æ¬¡ä»å·¦åˆ°å³ä¾æ¬¡éå†æ¯å±‚ä¸­çš„ç»“ç‚¹</p>
<p>å€ŸåŠ©é˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºçš„ç‰¹æ€§ï¼Œä»æ ‘çš„æ ¹ç»“ç‚¹å¼€å§‹ï¼Œä¾æ¬¡å°†å…¶å·¦å­©å­å’Œå³å­©å­å…¥é˜Ÿã€‚è€Œåæ¯æ¬¡é˜Ÿåˆ—ä¸­ä¸€ä¸ªç»“ç‚¹å‡ºé˜Ÿï¼Œéƒ½å°†å…¶å·¦å­©å­å’Œå³å­©å­å…¥é˜Ÿï¼Œç›´åˆ°æ ‘ä¸­æ‰€æœ‰ç»“ç‚¹éƒ½å‡ºé˜Ÿï¼Œå‡ºé˜Ÿç»“ç‚¹çš„å…ˆåé¡ºåºå°±æ˜¯å±‚æ¬¡éå†çš„æœ€ç»ˆç»“æœ</p>
<p>ç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const levelOrder = (root) =&gt; &#123;
    if (!root) &#123; return [] &#125;
    const queue = [[root, 0]]
    const res = []
    while (queue.length) &#123;
        const n = queue.shift()
        const [node, leval] = n
        if (!res[leval]) &#123;
            res[leval] = [node.val]
        &#125; else &#123;
            res[leval].push(node.val)
        &#125;
        if (node.left) &#123; queue.push([node.left, leval + 1]) &#125;
        if (node.right) &#123; queue.push([node.right, leval + 1]) &#125;
    &#125;
    return res
&#125;;
</code></pre>
<h4 id="ä¸‰ã€æ€»ç»“"><a href="#ä¸‰ã€æ€»ç»“" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h4><p>æ ‘æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„éçº¿æ€§ç»“æ„ï¼Œå…¶ä¸­äºŒå‰æ ‘ä»¥äºŒå‰æ ‘æœ€å¸¸è§ï¼ŒäºŒå‰æ ‘çš„éå†æ–¹å¼å¯ä»¥åˆ†æˆå‰åºéå†ã€ä¸­åºéå†ã€ååºéå†</p>
<p>åŒæ—¶ï¼ŒäºŒå‰æ ‘åˆåˆ†æˆäº†å®ŒæˆäºŒå‰æ ‘å’Œæ»¡äºŒå‰æ ‘</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹å †çš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹å †çš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹å †çš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹å †çš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-4"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-4" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>å †(Heap)æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­ä¸€ç±»ç‰¹æ®Šçš„æ•°æ®ç»“æ„çš„ç»Ÿç§°</p>
<p>å †é€šå¸¸æ˜¯ä¸€ä¸ªå¯ä»¥è¢«çœ‹åšä¸€æ£µå®Œå…¨äºŒå‰æ ‘çš„æ•°ç»„å¯¹è±¡ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65613066643166302d316564372d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>æ€»æ˜¯æ»¡è¶³ä¸‹åˆ—æ€§è´¨ï¼š</p>
<ul>
<li>å †ä¸­æŸä¸ªç»“ç‚¹çš„å€¼æ€»æ˜¯ä¸å¤§äºæˆ–ä¸å°äºå…¶çˆ¶ç»“ç‚¹çš„å€¼</li>
<li>å †æ€»æ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘</li>
</ul>
<p>å †åˆå¯ä»¥åˆ†æˆæœ€å¤§å †å’Œæœ€å°å †ï¼š</p>
<ul>
<li>æœ€å¤§å †ï¼šæ¯ä¸ªæ ¹ç»“ç‚¹ï¼Œéƒ½æœ‰æ ¹ç»“ç‚¹çš„å€¼å¤§äºä¸¤ä¸ªå­©å­ç»“ç‚¹çš„å€¼</li>
<li>æœ€å°å †ï¼šæ¯ä¸ªæ ¹ç»“ç‚¹ï¼Œéƒ½æœ‰æ ¹ç»“ç‚¹çš„å€¼å°äºå­©å­ç»“ç‚¹çš„å€¼</li>
</ul>
<h4 id="äºŒã€æ“ä½œ-3"><a href="#äºŒã€æ“ä½œ-3" class="headerlink" title="äºŒã€æ“ä½œ"></a>äºŒã€æ“ä½œ</h4><p>å †çš„å…ƒç´ å­˜å‚¨æ–¹å¼ï¼ŒæŒ‰ç…§å®Œå…¨äºŒå‰æ ‘çš„é¡ºåºå­˜å‚¨æ–¹å¼å­˜å‚¨åœ¨ä¸€ä¸ªä¸€ç»´æ•°ç»„ä¸­ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65613066643166302d316564372d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>ç”¨ä¸€ç»´æ•°ç»„å­˜å‚¨åˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">[0, 1, 2, 3, 4, 5, 6, 7, 8]
</code></pre>
<p>æ ¹æ®å®Œå…¨äºŒå‰æ ‘çš„ç‰¹æ€§ï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹ç‰¹æ€§ï¼š</p>
<ul>
<li>æ•°ç»„é›¶åæ ‡ä»£ç çš„æ˜¯å †é¡¶å…ƒç´ </li>
<li>ä¸€ä¸ªèŠ‚ç‚¹çš„çˆ¶äº²èŠ‚ç‚¹çš„åæ ‡ç­‰äºå…¶åæ ‡é™¤ä»¥2æ•´æ•°éƒ¨åˆ†</li>
<li>ä¸€ä¸ªèŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ç­‰äºå…¶æœ¬èº«èŠ‚ç‚¹åæ ‡ * 2 + 1</li>
<li>ä¸€ä¸ªèŠ‚ç‚¹çš„å³èŠ‚ç‚¹ç­‰äºå…¶æœ¬èº«èŠ‚ç‚¹åæ ‡ * 2 + 2</li>
</ul>
<p>æ ¹æ®ä¸Šè¿°å †çš„ç‰¹æ€§ï¼Œä¸‹é¢æ„å»ºæœ€å°å †çš„æ„é€ å‡½æ•°å’Œå¯¹åº”çš„å±æ€§æ–¹æ³•ï¼š</p>
<pre><code class="javascript">class MinHeap &#123;
  constructor() &#123;
    // å­˜å‚¨å †å…ƒç´ 
    this.heap = []
  &#125;
  // è·å–çˆ¶å…ƒç´ åæ ‡
  getParentIndex(i) &#123;
    return (i - 1) &gt;&gt; 1
  &#125;
  
  // è·å–å·¦èŠ‚ç‚¹å…ƒç´ åæ ‡
  getLeftIndex(i) &#123;
    return i * 2 + 1
  &#125;
  
 // è·å–å³èŠ‚ç‚¹å…ƒç´ åæ ‡
  getRightIndex(i) &#123;
    return i * 2 + 2
  &#125;
  
  // äº¤æ¢å…ƒç´ 
  swap(i1, i2) &#123;
    const temp = this.heap[i1]
    this.heap[i1] = this.heap[i2]
    this.heap[i2] = temp
  &#125;
  
  // æŸ¥çœ‹å †é¡¶å…ƒç´ 
  peek() &#123;
    return this.heap[0]
  &#125;
  
  // è·å–å †å…ƒç´ çš„å¤§å°
  size() &#123;
    return this.heap.length
  &#125;
&#125;
</code></pre>
<p>æ¶‰åŠåˆ°å †çš„æ“ä½œæœ‰ï¼š</p>
<ul>
<li>æ’å…¥</li>
<li>åˆ é™¤</li>
</ul>
<h5 id="æ’å…¥-1"><a href="#æ’å…¥-1" class="headerlink" title="æ’å…¥"></a>æ’å…¥</h5><p>å°†å€¼æ’å…¥å †çš„åº•éƒ¨ï¼Œå³æ•°ç»„çš„å°¾éƒ¨ï¼Œå½“æ’å…¥ä¸€ä¸ªæ–°çš„å…ƒç´ ä¹‹åï¼Œå †çš„ç»“æ„å°±ä¼šè¢«ç ´åï¼Œå› æ­¤éœ€è¦å †ä¸­ä¸€ä¸ªå…ƒç´ åšä¸Šç§»æ“ä½œ</p>
<p>å°†è¿™ä¸ªå€¼å’Œå®ƒçˆ¶èŠ‚ç‚¹è¿›è¡Œäº¤æ¢ï¼Œç›´åˆ°çˆ¶èŠ‚ç‚¹å°äºç­‰äºè¿™ä¸ªæ’å…¥çš„å€¼ï¼Œå¤§å°ä¸º<code>k</code>çš„å †ä¸­æ’å…¥å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ä¸º<code>O(logk)</code></p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ22èŠ‚ç‚¹æ˜¯æ–°æ’å…¥çš„å…ƒç´ ï¼Œç„¶åè¿›è¡Œä¸Šç§»æ“ä½œï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f30363839336662302d316564382d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>ç›¸å…³ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="java">// æ’å…¥å…ƒç´ 
insert(value) &#123;
  this.heap.push(value)
  this.shifUp(this.heap.length - 1)
&#125;

// ä¸Šç§»æ“ä½œ
shiftUp(index) &#123;
  if (index === 0) &#123; return &#125;
  const parentIndex = this.getParentIndex(index)
  if(this.heap[parentIndex] &gt; this.heap[index])&#123;
    this.swap(parentIndex, index)
    this.shiftUp(parentIndex)
  &#125;
&#125;
</code></pre>
<h5 id="åˆ é™¤-1"><a href="#åˆ é™¤-1" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h5><p>å¸¸è§æ“ä½œæ˜¯ç”¨æ•°ç»„å°¾éƒ¨å…ƒç´ æ›¿æ¢å †é¡¶ï¼Œè¿™é‡Œä¸ç›´æ¥åˆ é™¤å †é¡¶ï¼Œå› ä¸ºæ‰€æœ‰çš„å…ƒç´ ä¼šå‘å‰ç§»åŠ¨ä¸€ä½ï¼Œä¼šç ´åäº†å †çš„ç»“æ„</p>
<p>ç„¶åè¿›è¡Œä¸‹ç§»æ“ä½œï¼Œå°†æ–°çš„å †é¡¶å’Œå®ƒçš„å­èŠ‚ç‚¹è¿›è¡Œäº¤æ¢ï¼Œç›´åˆ°å­èŠ‚ç‚¹å¤§äºç­‰äºè¿™ä¸ªæ–°çš„å †é¡¶ï¼Œåˆ é™¤å †é¡¶çš„æ—¶é—´å¤æ‚åº¦ä¸º<code>O(logk)</code></p>
<p>æ•´ä½“å¦‚ä¸‹å›¾æ“ä½œï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f31326132613136302d316564382d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>ç›¸å…³ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">// åˆ é™¤å…ƒç´ 
pop() &#123;
  this.heap[0] = this.heap.pop()
  this.shiftDown(0)
&#125;

// ä¸‹ç§»æ“ä½œ
shiftDown(index) &#123;
  const leftIndex = this.getLeftIndex(index)
  const rightIndex = this.getRightIndex(index)
  if (this.heap[leftIndex] &lt; this.heap[index])&#123;
    this.swap(leftIndex, index)
    this.shiftDown(leftIndex)
  &#125;
  if (this.heap[rightIndex] &lt; this.heap[index])&#123;
    this.swap(rightIndex, index)
    this.shiftDown(rightIndex)
  &#125;
&#125;
</code></pre>
<h5 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h5><p>å…³äºå †çš„æ’å…¥å’Œåˆ é™¤æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯<code>Olog(n)</code>ï¼ŒåŸå› åœ¨äºåŒ…å«nä¸ªèŠ‚ç‚¹çš„å®Œå…¨äºŒå‰æ ‘ï¼Œæ ‘çš„é«˜åº¦ä¸ä¼šè¶…è¿‡<code>log2n</code></p>
<p>å †åŒ–çš„è¿‡ç¨‹æ˜¯é¡ºç€èŠ‚ç‚¹æ‰€åœ¨è·¯å¾„æ¯”è¾ƒäº¤æ¢çš„ï¼Œæ‰€ä»¥å †åŒ–çš„æ—¶é—´å¤æ‚åº¦è·Ÿæ ‘çš„é«˜åº¦æˆæ­£æ¯”ï¼Œä¹Ÿå°±æ˜¯<code>Olog(n)</code>ï¼Œæ’å…¥æ•°æ®å’Œåˆ é™¤å †é¡¶å…ƒç´ çš„ä¸»è¦é€»è¾‘å°±æ˜¯å †åŒ–</p>
<h3 id="ä¸‰ã€æ€»ç»“-1"><a href="#ä¸‰ã€æ€»ç»“-1" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h3><ul>
<li>å †æ˜¯ä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘</li>
<li>å †ä¸­æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¿…é¡»å¤§äºç­‰äº(æˆ–å°äºç­‰äº)å…¶å­æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å€¼</li>
<li>å¯¹äºæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¤§äºç­‰äºå­æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹å€¼çš„å †ï¼Œå«ä½œâ€œå¤§é¡¶å †â€</li>
<li>å¯¹äºæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å°äºç­‰äºå­æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹å€¼çš„å †ï¼Œå«ä½œâ€œå°é¡¶å †â€</li>
<li>æ ¹æ®å †çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å †æ¥è¿›è¡Œæ’åºæ“ä½œï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…¶æ¥æ±‚ç¬¬å‡ å¤§æˆ–è€…ç¬¬å‡ å°çš„å€¼</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹å›¾çš„ç†è§£ï¼Ÿç›¸å…³æ“ä½œæœ‰å“ªäº›ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹å›¾çš„ç†è§£ï¼Ÿç›¸å…³æ“ä½œæœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹å›¾çš„ç†è§£ï¼Ÿç›¸å…³æ“ä½œæœ‰å“ªäº›ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹å›¾çš„ç†è§£ï¼Ÿç›¸å…³æ“ä½œæœ‰å“ªäº›ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-5"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-5" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œå›¾æ˜¯ä¸€ç§æŠ½è±¡çš„æ•°æ®ç±»å‹ï¼Œåœ¨å›¾ä¸­çš„æ•°æ®å…ƒç´ é€šå¸¸ç§°ä¸ºç»“ç‚¹ï¼Œ<code>V</code>æ˜¯æ‰€æœ‰é¡¶ç‚¹çš„é›†åˆï¼Œ<code>E</code>æ˜¯æ‰€æœ‰è¾¹çš„é›†åˆ</p>
<p>å¦‚æœä¸¤ä¸ªé¡¶ç‚¹<code>v</code>,<code> w</code>ï¼Œåªèƒ½ç”±<code>v</code>å‘<code>w</code>ï¼Œè€Œä¸èƒ½ç”±<code>w</code>å‘<code>v</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æŠŠè¿™ç§æƒ…å†µå«åšä¸€ä¸ªä» <code>v</code> åˆ° <code>w</code> çš„æœ‰å‘è¾¹ã€‚<code>v </code>ä¹Ÿè¢«ç§°åšåˆå§‹ç‚¹ï¼Œ<code>w</code>ä¹Ÿè¢«ç§°ä¸ºç»ˆç‚¹ã€‚è¿™ç§å›¾å°±è¢«ç§°åšæœ‰å‘å›¾</p>
<p>å¦‚æœ<code>v</code>å’Œ<code>w</code>æ˜¯æ²¡æœ‰é¡ºåºçš„ï¼Œä»<code>v</code>åˆ°è¾¾<code>w</code>å’Œä»<code>w</code>åˆ°è¾¾<code>v</code>æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œè¿™ç§å›¾å°±è¢«ç§°ä¸ºæ— å‘å›¾</p>
<p>å›¾çš„ç»“æ„æ¯”è¾ƒå¤æ‚ï¼Œä»»æ„ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´éƒ½å¯èƒ½å­˜åœ¨è”ç³»ï¼Œå› æ­¤æ— æ³•ä»¥æ•°æ®å…ƒç´ åœ¨å­˜å‚¨åŒºä¸­çš„ç‰©ç†ä½ç½®æ¥è¡¨ç¤ºå…ƒç´ ä¹‹é—´çš„å…³ç³»</p>
<p>å¸¸è§è¡¨è¾¾å›¾çš„æ–¹å¼æœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>é‚»æ¥çŸ©é˜µ</li>
<li>é‚»æ¥è¡¨</li>
</ul>
<h5 id="é‚»æ¥çŸ©é˜µ"><a href="#é‚»æ¥çŸ©é˜µ" class="headerlink" title="é‚»æ¥çŸ©é˜µ"></a>é‚»æ¥çŸ©é˜µ</h5><p>é€šè¿‡ä½¿ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„<code>G[N][N]</code>è¿›è¡Œè¡¨ç¤º<code>N</code>ä¸ªç‚¹åˆ°<code>N-1</code>ç¼–å·ï¼Œé€šè¿‡é‚»æ¥çŸ©é˜µå¯ä»¥ç«‹åˆ»çœ‹å‡ºä¸¤é¡¶ç‚¹ä¹‹é—´æ˜¯å¦å­˜åœ¨ä¸€æ¡è¾¹ï¼Œåªéœ€è¦æ£€æŸ¥é‚»æ¥çŸ©é˜µè¡Œ<code>i</code>å’Œåˆ—<code>j</code>æ˜¯å¦æ˜¯éé›¶å€¼ï¼Œå¯¹äºæ— å‘å›¾ï¼Œé‚»æ¥çŸ©é˜µæ˜¯å¯¹ç§°çš„</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f38383164343330302d323035392d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<h5 id="é‚»æ¥è¡¨"><a href="#é‚»æ¥è¡¨" class="headerlink" title="é‚»æ¥è¡¨"></a>é‚»æ¥è¡¨</h5><p>å­˜å‚¨æ–¹å¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f39343966656464302d323035392d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>åœ¨<code>javascript</code>ä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>Object</code>è¿›è¡Œè¡¨ç¤ºï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const graph = &#123;
  A: [2, 3, 5],
  B: [2],
  C: [0, 1, 3],
  D: [0, 2],
  E: [6],
  F: [0, 6],
  G: [4, 5]
&#125;
</code></pre>
<p>å›¾çš„æ•°æ®ç»“æ„è¿˜å¯èƒ½åŒ…å«å’Œæ¯æ¡è¾¹ç›¸å…³è”çš„æ•°å€¼ï¼ˆedge valueï¼‰ï¼Œä¾‹å¦‚ä¸€ä¸ªæ ‡å·æˆ–ä¸€ä¸ªæ•°å€¼ï¼ˆå³æƒé‡ï¼Œweightï¼›è¡¨ç¤ºèŠ±è´¹ã€å®¹é‡ã€é•¿åº¦ç­‰ï¼‰</p>
<h4 id="äºŒã€æ“ä½œ-4"><a href="#äºŒã€æ“ä½œ-4" class="headerlink" title="äºŒã€æ“ä½œ"></a>äºŒã€æ“ä½œ</h4><p>å…³äºçš„å›¾çš„æ“ä½œå¸¸è§çš„æœ‰ï¼š</p>
<ul>
<li>æ·±åº¦ä¼˜å…ˆéå†</li>
<li>å¹¿åº¦ä¼˜å…ˆéå†</li>
</ul>
<p>é¦–å…ˆæ„å»ºä¸€ä¸ªå›¾çš„é‚»æ¥çŸ©é˜µè¡¨ç¤ºï¼Œå¦‚ä¸‹é¢çš„å›¾ï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f61313331313739302d323035392d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>ç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const graph = &#123;
  0: [1, 4],
  1: [2, 4],
  2: [2, 3],
  3: [],
  4: [3],
&#125;
</code></pre>
<h5 id="æ·±åº¦ä¼˜å…ˆéå†"><a href="#æ·±åº¦ä¼˜å…ˆéå†" class="headerlink" title="æ·±åº¦ä¼˜å…ˆéå†"></a>æ·±åº¦ä¼˜å…ˆéå†</h5><p>ä¹Ÿå°±æ˜¯å°½å¯èƒ½çš„å¾€æ·±å¤„çš„æœç´¢å›¾çš„åˆ†æ”¯</p>
<p>å®ç°æ€è·¯æ˜¯ï¼Œé¦–å…ˆåº”è¯¥ç¡®å®šä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œç„¶åå¯¹æ ¹èŠ‚ç‚¹çš„æ²¡è®¿é—®è¿‡çš„ç›¸é‚»èŠ‚ç‚¹è¿›è¡Œæ·±åº¦ä¼˜å…ˆéå†</p>
<p>ç¡®å®šä»¥ 0 ä¸ºæ ¹èŠ‚ç‚¹ï¼Œç„¶åè¿›è¡Œæ·±åº¦éå†ï¼Œç„¶åéå†1ï¼Œæ¥ç€éå† 2ï¼Œç„¶å3ï¼Œæ­¤æ—¶å®Œæˆä¸€æ¡åˆ†æ”¯<code>0 - 1- 2- 3</code>çš„éå†ï¼Œæ¢ä¸€æ¡åˆ†æ”¯ï¼Œä¹Ÿå°±æ˜¯4ï¼Œ4åé¢å› ä¸º3å·²ç»éå†è¿‡äº†ï¼Œæ‰€ä»¥å°±ä¸è®¿é—®äº†</p>
<p>ç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const visited = new Set()
const dfs = (n) =&gt; &#123;
  console.log(n)
  visited.add(n) // è®¿é—®è¿‡æ·»åŠ è®°å½•
  graph[n].forEach(c =&gt; &#123;
    if(!visited.has(c))&#123; // åˆ¤æ–­æ˜¯å¦è®¿é—®å‘¢è¿‡
      dfs(c)
    &#125;
  &#125;)
&#125;
</code></pre>
<h5 id="å¹¿åº¦ä¼˜å…ˆéå†"><a href="#å¹¿åº¦ä¼˜å…ˆéå†" class="headerlink" title="å¹¿åº¦ä¼˜å…ˆéå†"></a>å¹¿åº¦ä¼˜å…ˆéå†</h5><p>å…ˆè®¿é—®ç¦»æ ¹èŠ‚ç‚¹æœ€è¿‘çš„èŠ‚ç‚¹ï¼Œç„¶åè¿›è¡Œå…¥é˜Ÿæ“ä½œï¼Œè§£å†³æ€è·¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ–°å»ºä¸€ä¸ªé˜Ÿåˆ—ï¼ŒæŠŠæ ¹èŠ‚ç‚¹å…¥é˜Ÿ</li>
<li>æŠŠé˜Ÿå¤´å‡ºé˜Ÿå¹¶è®¿é—®</li>
<li>æŠŠé˜Ÿå¤´çš„æ²¡è®¿é—®è¿‡çš„ç›¸é‚»èŠ‚ç‚¹å…¥é˜Ÿ</li>
<li>é‡å¤äºŒã€ä¸‰æ­¥éª¤ï¼ŒçŸ¥é“é˜Ÿåˆ—ä¸ºç©º</li>
</ul>
<p>ç”¨ä»£ç æ ‡è¯†åˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const visited = new Set()
const dfs = (n) =&gt; &#123;
  visited.add(n)
  const q = [n]
  while(q.length)&#123;
    const n = q.shift()
    console.log(n)
    graph[n].forEach(c =&gt; &#123;
      if(!visited.has(c))&#123;
        q.push(c)  
        visited.add(c)
      &#125;
    &#125;)
  &#125;
&#125;
</code></pre>
<h4 id="ä¸‰ã€æ€»ç»“-2"><a href="#ä¸‰ã€æ€»ç»“-2" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h4><p>é€šè¿‡ä¸Šé¢çš„åˆæ­¥äº†è§£ï¼Œå¯ä»¥çœ‹åˆ°å›¾å°±æ˜¯ç”±é¡¶ç‚¹çš„æœ‰ç©·éç©ºé›†åˆå’Œé¡¶ç‚¹ä¹‹é—´çš„è¾¹ç»„æˆçš„é›†åˆï¼Œåˆ†æˆäº†æ— å‘å›¾ä¸æœ‰å‘å›¾</p>
<p>å›¾çš„è¡¨è¾¾å½¢å¼å¯ä»¥åˆ†æˆé‚»æ¥çŸ©é˜µå’Œé‚»æ¥è¡¨ä¸¤ç§å½¢å¼ï¼Œåœ¨<code>javascript</code>ä¸­ï¼Œåˆ™å¯ä»¥é€šè¿‡äºŒç»´æ•°ç»„å’Œå¯¹è±¡çš„å½¢å¼è¿›è¡Œè¡¨è¾¾</p>
<p>å›¾å®é™…æ˜¯å¾ˆå¤æ‚çš„ï¼Œåç»­è¿˜å¯ä»¥å»¶ä¼¸å‡ºæ— å‘å›¾å’Œå¸¦æƒå›¾ï¼Œå¯¹åº”å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f62306438383230302d323035392d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¸¸è§çš„æ’åºç®—æ³•æœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¸¸è§çš„æ’åºç®—æ³•æœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¸¸è§çš„æ’åºç®—æ³•æœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¸¸è§çš„æ’åºç®—æ³•æœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-6"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-6" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>æ’åºæ˜¯ç¨‹åºå¼€å‘ä¸­éå¸¸å¸¸è§çš„æ“ä½œï¼Œå¯¹ä¸€ç»„ä»»æ„çš„æ•°æ®å…ƒç´ ç»è¿‡æ’åºæ“ä½œåï¼Œå°±å¯ä»¥æŠŠä»–ä»¬å˜æˆä¸€ç»„ä¸€å®šè§„åˆ™æ’åºçš„æœ‰åºåºåˆ—</p>
<p>æ’åºç®—æ³•å±äºç®—æ³•ä¸­çš„ä¸€ç§ï¼Œè€Œä¸”æ˜¯è¦†ç›–èŒƒå›´æå°çš„ä¸€ç§ï¼Œå½»åº•æŒæ¡æ’åºç®—æ³•å¯¹ç¨‹åºå¼€å‘æ˜¯æœ‰å¾ˆå¤§çš„å¸®åŠ©çš„</p>
<p>å¯¹ä¸æ’åºç®—æ³•çš„å¥½åè¡¡é‡ï¼Œä¸»è¦æ˜¯ä»æ—¶é—´å¤æ‚åº¦ã€ç©ºé—´å¤æ‚åº¦ã€ç¨³å®šæ€§</p>
<p>æ—¶é—´å¤æ‚åº¦ã€ç©ºé—´å¤æ‚åº¦å‰é¢å·²ç»è®²è¿‡ï¼Œè¿™é‡Œä¸»è¦çœ‹çœ‹ç¨³å®šæ€§çš„å®šä¹‰</p>
<p>ç¨³å®šæ€§æŒ‡çš„æ˜¯å‡å®šåœ¨å¾…æ’åºçš„è®°å½•åºåˆ—ä¸­ï¼Œå­˜åœ¨å¤šä¸ªå…·æœ‰ç›¸åŒçš„å…³é”®å­—çš„è®°å½•ï¼Œè‹¥ç»è¿‡æ’åºï¼Œè¿™äº›è®°å½•çš„ç›¸å¯¹æ¬¡åºä¿æŒä¸å˜</p>
<p>å³åœ¨åŸåºåˆ—ä¸­ï¼Œr[i] &#x3D; r[j]ï¼Œä¸” r[i] åœ¨ r[j] ä¹‹å‰ï¼Œè€Œåœ¨æ’åºåçš„åºåˆ—ä¸­ï¼Œr[i] ä»åœ¨ r[j] ä¹‹å‰ï¼Œåˆ™ç§°è¿™ç§æ’åºç®—æ³•æ˜¯ç¨³å®šçš„ï¼›å¦åˆ™ç§°ä¸ºä¸ç¨³å®šçš„</p>
<h4 id="äºŒã€æœ‰å“ªäº›-1"><a href="#äºŒã€æœ‰å“ªäº›-1" class="headerlink" title="äºŒã€æœ‰å“ªäº›"></a>äºŒã€æœ‰å“ªäº›</h4><p>å¸¸è§çš„ç®—æ³•æ’åºç®—æ³•æœ‰ï¼š</p>
<ul>
<li>å†’æ³¡æ’åº</li>
<li>é€‰æ‹©æ’åº</li>
<li>æ’å…¥æ’åº</li>
<li>å½’å¹¶æ’åº</li>
<li>å¿«é€Ÿæ’åº</li>
</ul>
<h5 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h5><p>ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ã€‚å®ƒé‡å¤åœ°èµ°è®¿è¿‡è¦æ’åºçš„æ•°åˆ—ï¼Œä¸€æ¬¡æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœä»–ä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠä»–ä»¬äº¤æ¢è¿‡æ¥</p>
<p>æ€è·¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢å®ƒä»¬ä¸¤ä¸ª</li>
<li>å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ï¼Œè¿™æ ·åœ¨æœ€åçš„å…ƒç´ åº”è¯¥ä¼šæ˜¯æœ€å¤§çš„æ•°</li>
<li>é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ï¼Œé™¤äº†æœ€åä¸€ä¸ª</li>
<li>é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°æ²¡æœ‰ä»»ä½•ä¸€å †æ•°å­—éœ€è¦æ¯”è¾ƒ</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f706963342e7a68696d672e636f6d2f76322d33336139343763373161643632623235346361623632653533363464323831335f622e77656270.gif"></p>
<h5 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h5><p>é€‰æ‹©æ’åºæ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ç§äº¤æ¢æ’åºç®—æ³•</p>
<p>æ— è®ºä»€ä¹ˆæ•°æ®è¿›å»éƒ½æ˜¯ <code>O(nÂ²) </code>çš„æ—¶é—´å¤æ‚åº¦ã€‚æ‰€ä»¥ç”¨åˆ°å®ƒçš„æ—¶å€™ï¼Œæ•°æ®è§„æ¨¡è¶Šå°è¶Šå¥½</p>
<p>å”¯ä¸€çš„å¥½å¤„æ˜¯ä¸å ç”¨é¢å¤–çš„å†…å­˜å­˜å‚¨ç©ºé—´</p>
<p>æ€è·¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>åœ¨æœªæ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œå­˜æ”¾åˆ°æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®</li>
<li>ä»å‰©ä½™æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶åæ”¾åˆ°å·²æ’åºåºåˆ—çš„æœ«å°¾ã€‚</li>
<li>é‡å¤ç¬¬äºŒæ­¥ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æ’åºå®Œæ¯•</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f706963312e7a68696d672e636f6d2f76322d31633765323066333036646463303265623465336135306661373831376666345f622e77656270.gif"></p>
<h5 id="æ’å…¥æ’åº"><a href="#æ’å…¥æ’åº" class="headerlink" title="æ’å…¥æ’åº"></a>æ’å…¥æ’åº</h5><p>æ’å…¥æ’åºæ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•</p>
<p>å®ƒçš„å·¥ä½œåŸç†æ˜¯é€šè¿‡æ„å»ºæœ‰åºåºåˆ—ï¼Œå¯¹äºæœªæ’åºæ•°æ®ï¼Œåœ¨å·²æ’åºåºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼Œæ‰¾åˆ°ç›¸åº”ä½ç½®å¹¶æ’å…¥</p>
<p>è§£å†³æ€è·¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>æŠŠå¾…æ’åºçš„æ•°ç»„åˆ†æˆå·²æ’åºå’Œæœªæ’åºä¸¤éƒ¨åˆ†ï¼Œåˆå§‹çš„æ—¶å€™æŠŠç¬¬ä¸€ä¸ªå…ƒç´ è®¤ä¸ºæ˜¯å·²æ’å¥½åºçš„</li>
<li>ä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ï¼Œåœ¨å·²æ’å¥½åºçš„å­æ•°ç»„ä¸­å¯»æ‰¾åˆ°è¯¥å…ƒç´ åˆé€‚çš„ä½ç½®å¹¶æ’å…¥è¯¥ä½ç½®ï¼ˆå¦‚æœå¾…æ’å…¥çš„å…ƒç´ ä¸æœ‰åºåºåˆ—ä¸­çš„æŸä¸ªå…ƒç´ ç›¸ç­‰ï¼Œåˆ™å°†å¾…æ’å…¥å…ƒç´ æ’å…¥åˆ°ç›¸ç­‰å…ƒç´ çš„åé¢ã€‚ï¼‰</li>
<li>é‡å¤ä¸Šè¿°è¿‡ç¨‹ç›´åˆ°æœ€åä¸€ä¸ªå…ƒç´ è¢«æ’å…¥æœ‰åºå­æ•°ç»„ä¸­</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f706963332e7a68696d672e636f6d2f76322d39316237366538653464616239623063616439613031376437646434333165325f622e77656270.gif"></p>
<h5 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h5><p>å½’å¹¶æ’åºæ˜¯å»ºç«‹åœ¨å½’å¹¶æ“ä½œä¸Šçš„ä¸€ç§æœ‰æ•ˆçš„æ’åºç®—æ³•</p>
<p>è¯¥ç®—æ³•æ˜¯é‡‡ç”¨åˆ†æ²»æ³•çš„ä¸€ä¸ªéå¸¸å…¸å‹çš„åº”ç”¨</p>
<p>å°†å·²æœ‰åºçš„å­åºåˆ—åˆå¹¶ï¼Œå¾—åˆ°å®Œå…¨æœ‰åºçš„åºåˆ—ï¼Œå³å…ˆä½¿æ¯ä¸ªå­åºåˆ—æœ‰åºï¼Œå†ä½¿å­åºåˆ—æ®µé—´æœ‰åº</p>
<p>è§£å†³æ€è·¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>ç”³è¯·ç©ºé—´ï¼Œä½¿å…¶å¤§å°ä¸ºä¸¤ä¸ªå·²ç»æ’åºåºåˆ—ä¹‹å’Œï¼Œè¯¥ç©ºé—´ç”¨æ¥å­˜æ”¾åˆå¹¶åçš„åºåˆ—</li>
<li>è®¾å®šä¸¤ä¸ªæŒ‡é’ˆï¼Œæœ€åˆä½ç½®åˆ†åˆ«ä¸ºä¸¤ä¸ªå·²ç»æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®</li>
<li>æ¯”è¾ƒä¸¤ä¸ªæŒ‡é’ˆæ‰€æŒ‡å‘çš„å…ƒç´ ï¼Œé€‰æ‹©ç›¸å¯¹å°çš„å…ƒç´ æ”¾å…¥åˆ°åˆå¹¶ç©ºé—´ï¼Œå¹¶ç§»åŠ¨æŒ‡é’ˆåˆ°ä¸‹ä¸€ä½ç½®</li>
<li>é‡å¤æ­¥éª¤3ç›´åˆ°æŸä¸€æŒ‡é’ˆåˆ°è¾¾åºåˆ—å°¾</li>
<li>å°†å¦ä¸€åºåˆ—å‰©ä¸‹çš„æ‰€æœ‰å…ƒç´ ç›´æ¥å¤åˆ¶åˆ°åˆå¹¶åºåˆ—å°¾</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f706963332e7a68696d672e636f6d2f76322d63646461336631316336656662633031353737663563323961393036363737325f622e6a7067.jpeg"></p>
<h5 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h5><p>å¿«é€Ÿæ’åºæ˜¯å¯¹å†’æ³¡æ’åºç®—æ³•çš„ä¸€ç§æ”¹è¿›ï¼ŒåŸºæœ¬æ€æƒ³æ˜¯é€šè¿‡ä¸€è¶Ÿæ’åºå°†è¦æ’åºçš„æ•°æ®åˆ†å‰²æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®æ¯”å¦ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®è¦å°</p>
<p>å†æŒ‰è¿™ç§æ–¹æ³•å¯¹è¿™ä¸¤éƒ¨åˆ†æ•°æ®åˆ†åˆ«è¿›è¡Œå¿«é€Ÿæ’åºï¼Œæ•´ä¸ªæ’åºè¿‡ç¨‹å¯ä»¥é€’å½’è¿›è¡Œï¼Œä½¿æ•´ä¸ªæ•°æ®å˜æˆæœ‰åºåºåˆ—</p>
<p>è§£å†³æ€è·¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä»æ•°åˆ—ä¸­æŒ‘å‡ºä¸€ä¸ªå…ƒç´ ï¼Œç§°ä¸ºâ€åŸºå‡†â€ï¼ˆpivotï¼‰</li>
<li>é‡æ–°æ’åºæ•°åˆ—ï¼Œæ‰€æœ‰æ¯”åŸºå‡†å€¼å°çš„å…ƒç´ æ‘†æ”¾åœ¨åŸºå‡†å‰é¢ï¼Œæ‰€æœ‰æ¯”åŸºå‡†å€¼å¤§çš„å…ƒç´ æ‘†åœ¨åŸºå‡†åé¢ï¼ˆç›¸åŒçš„æ•°å¯ä»¥åˆ°ä»»ä½•ä¸€è¾¹ï¼‰ã€‚åœ¨è¿™ä¸ªåˆ†åŒºç»“æŸä¹‹åï¼Œè¯¥åŸºå‡†å°±å¤„äºæ•°åˆ—çš„ä¸­é—´ä½ç½®ã€‚è¿™ä¸ªç§°ä¸ºåˆ†åŒºï¼ˆpartitionï¼‰æ“ä½œ</li>
<li>é€’å½’åœ°ï¼ˆrecursivelyï¼‰æŠŠå°äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—å’Œå¤§äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—æ’åº</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f706963312e7a68696d672e636f6d2f76322d63343131333339623739663932343939646362376235663330346338323666345f622e6a7067.jpeg"></p>
<h2 id="ä¸‰ã€åŒºåˆ«-1"><a href="#ä¸‰ã€åŒºåˆ«-1" class="headerlink" title="ä¸‰ã€åŒºåˆ«"></a>ä¸‰ã€åŒºåˆ«</h2><p>é™¤äº†ä¸Šè¿°çš„æ’åºç®—æ³•ä¹‹å¤–ï¼Œè¿˜å­˜åœ¨å…¶ä»–çš„æ’åºç®—æ³•ï¼Œä¾‹å¦‚å¸Œå°”æ’åºã€å †æ’åºç­‰ç­‰â€¦â€¦</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹å†’æ³¡æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹å†’æ³¡æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹å†’æ³¡æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹å†’æ³¡æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-7"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-7" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰ï¼Œæ˜¯ä¸€ç§è®¡ç®—æœºç§‘å­¦é¢†åŸŸçš„è¾ƒç®€å•çš„æ’åºç®—æ³•</p>
<p>å†’æ³¡æ’åºçš„æ€æƒ³å°±æ˜¯åœ¨æ¯æ¬¡éå†ä¸€éæœªæ’åºçš„æ•°åˆ—ä¹‹åï¼Œå°†ä¸€ä¸ªæ•°æ®å…ƒç´ æµ®ä¸Šå»ï¼ˆä¹Ÿå°±æ˜¯æ’å¥½äº†ä¸€ä¸ªæ•°æ®ï¼‰</p>
<p>å¦‚åŒç¢³é…¸é¥®æ–™ä¸­äºŒæ°§åŒ–ç¢³çš„æ°”æ³¡æœ€ç»ˆä¼šä¸Šæµ®åˆ°é¡¶ç«¯ä¸€æ ·ï¼Œæ•…åâ€œå†’æ³¡æ’åºâ€</p>
<p>å‡å¦‚æˆ‘ä»¬è¦æŠŠ 12ã€35ã€99ã€18ã€76 è¿™ 5 ä¸ªæ•°ä»å¤§åˆ°å°è¿›è¡Œæ’åºï¼Œé‚£ä¹ˆæ•°è¶Šå¤§ï¼Œè¶Šéœ€è¦æŠŠå®ƒæ”¾åœ¨å‰é¢</p>
<p>æ€è·¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä»åå¼€å§‹éå†ï¼Œé¦–å…ˆæ¯”è¾ƒ 18 å’Œ 76ï¼Œå‘ç° 76 æ¯” 18 å¤§ï¼Œå°±æŠŠä¸¤ä¸ªæ•°äº¤æ¢é¡ºåºï¼Œå¾—åˆ° 12ã€35ã€99ã€76ã€18</li>
<li>æ¥ç€æ¯”è¾ƒ 76 å’Œ 99ï¼Œå‘ç° 76 æ¯” 99 å°ï¼Œæ‰€ä»¥ä¸ç”¨äº¤æ¢é¡ºåº</li>
<li>æ¥ç€æ¯”è¾ƒ 99 å’Œ 35ï¼Œå‘ç° 99 æ¯” 35 å¤§ï¼Œäº¤æ¢é¡ºåº</li>
<li>æ¥ç€æ¯”è¾ƒ 99 å’Œ 12ï¼Œå‘ç° 99 æ¯” 12 å¤§ï¼Œäº¤æ¢é¡ºåº</li>
</ul>
<p>æœ€ç»ˆç¬¬ 1 è¶Ÿæ’åºçš„ç»“æœå˜æˆäº† 99ã€12ã€35ã€76ã€18ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f37613336333737302d323635322d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>ä¸Šè¿°å¯ä»¥çœ‹åˆ°ï¼Œç»è¿‡ç¬¬ä¸€è¶Ÿçš„æ’åºï¼Œå¯ä»¥å¾—åˆ°æœ€å¤§çš„å…ƒç´ ï¼Œæ¥ä¸‹æ¥ç¬¬äºŒè¶Ÿæ’åºåˆ™å¯¹å‰©ä¸‹çš„çš„4ä¸ªå…ƒç´ è¿›è¡Œæ’åºï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f38346239646466302d323635322d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>ç»è¿‡ç¬¬ 2 è¶Ÿæ’åºï¼Œç»“æœä¸º 99ã€76ã€12ã€35ã€18</p>
<p>ç„¶åå¼€å§‹ç¬¬3è¶Ÿçš„æ’åºï¼Œç»“æœä¸º99ã€76ã€35ã€12ã€18</p>
<p>ç„¶åç¬¬å››è¶Ÿæ’åºç»“æœä¸º99ã€76ã€35ã€18ã€12</p>
<p>ç»è¿‡ 4 è¶Ÿæ’åºä¹‹åï¼Œåªå‰©ä¸€ä¸ª 12 éœ€è¦æ’åºäº†ï¼Œè¿™æ—¶å·²ç»æ²¡æœ‰å¯æ¯”è¾ƒçš„å…ƒç´ äº†ï¼Œè¿™æ—¶æ’åºå®Œæˆ</p>
<h4 id="äºŒã€å¦‚ä½•å®ç°"><a href="#äºŒã€å¦‚ä½•å®ç°" class="headerlink" title="äºŒã€å¦‚ä½•å®ç°"></a>äºŒã€å¦‚ä½•å®ç°</h4><p>å¦‚æœè¦å®ç°ä¸€ä¸ªä»å°åˆ°å¤§çš„æ’åºï¼Œç®—æ³•åŸç†å¦‚ä¸‹ï¼š</p>
<ul>
<li>é¦–å…ˆæ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ æ¯”ç¬¬äºŒä¸ªå…ƒç´ å¤§ï¼Œåˆ™äº¤æ¢å®ƒä»¬</li>
<li>é’ˆå¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ åšåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ï¼Œè¿™æ ·ï¼Œæœ€åçš„å…ƒç´ å›äº‹æœ€å¤§çš„æ•°</li>
<li>é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ï¼Œé™¤äº†æœ€åä¸€ä¸ª</li>
<li>æŒç»­æ¯æ¬¡å¯¹è¶Šæ¥è¶Šå°‘çš„å…ƒç´ é‡å¤ä¸Šé¢çš„æ­¥éª¤ï¼Œç›´åˆ°æ²¡æœ‰ä»»ä½•ä¸€å¯¹æ•°å­—éœ€è¦æ¯”è¾ƒ</li>
</ul>
<p>ç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">function bubbleSort(arr) &#123;
    const len = arr.length;
    for (let i = 0; i &lt; len - 1; i++) &#123;
        for (let j = 0; j &lt; len - 1 - i; j++) &#123;
            if (arr[j] &gt; arr[j+1]) &#123;        // ç›¸é‚»å…ƒç´ ä¸¤ä¸¤å¯¹æ¯”
                var temp = arr[j+1];        // å…ƒç´ äº¤æ¢
                arr[j+1] = arr[j];
                arr[j] = temp;
            &#125;
        &#125;
    &#125;
    return arr;
&#125;
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼šå†’æ³¡æ’åºåœ¨æ¯ä¸€è½®æ’åºä¸­éƒ½ä¼šä½¿ä¸€ä¸ªå…ƒç´ æ’åˆ°ä¸€è¶Ÿï¼Œ ä¹Ÿå°±æ˜¯æœ€ç»ˆéœ€è¦ n-1 è½®è¿™æ ·çš„æ’åº</p>
<p>è€Œåœ¨æ¯è½®æ’åºä¸­éƒ½éœ€è¦å¯¹ç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œåœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œæ¯æ¬¡æ¯”è¾ƒä¹‹åéƒ½éœ€è¦äº¤æ¢ä½ç½®ï¼Œæ­¤æ—¶æ—¶é—´å¤æ‚åº¦ä¸º<code>O(n^2)</code></p>
<h5 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h5><p>å¯¹å†’æ³¡æ’åºå¸¸è§çš„æ”¹è¿›æ–¹æ³•æ˜¯åŠ å…¥ä¸€æ ‡å¿—æ€§å˜é‡<code>exchange</code>ï¼Œç”¨äºæ ‡å¿—æŸä¸€è¶Ÿæ’åºè¿‡ç¨‹ä¸­æ˜¯å¦æœ‰æ•°æ®äº¤æ¢</p>
<p>å¦‚æœè¿›è¡ŒæŸä¸€è¶Ÿæ’åºæ—¶å¹¶æ²¡æœ‰è¿›è¡Œæ•°æ®äº¤æ¢ï¼Œåˆ™è¯´æ˜æ•°æ®å·²ç»æŒ‰è¦æ±‚æ’åˆ—å¥½ï¼Œå¯ç«‹å³ç»“æŸæ’åºï¼Œé¿å…ä¸å¿…è¦çš„æ¯”è¾ƒè¿‡ç¨‹</p>
<p>å¯ä»¥è®¾ç½®ä¸€æ ‡å¿—æ€§å˜é‡<code>pos</code>ï¼Œç”¨äºè®°å½•æ¯è¶Ÿæ’åºä¸­æœ€åä¸€æ¬¡è¿›è¡Œäº¤æ¢çš„ä½ç½®ï¼Œç”±äº<code>pos</code>ä½ç½®ä¹‹åçš„è®°å½•å‡å·²äº¤æ¢åˆ°ä½ï¼Œæ•…åœ¨è¿›è¡Œä¸‹ä¸€è¶Ÿæ’åºæ—¶åªè¦æ‰«æåˆ°<code>pos</code>ä½ç½®å³å¯ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">function bubbleSort1(arr)&#123;
 const i=arr.length-1;//åˆå§‹æ—¶,æœ€åä½ç½®ä¿æŒä¸å˜  
 while(i&gt;0)&#123;
  let pos = 0;//æ¯è¶Ÿå¼€å§‹æ—¶,æ— è®°å½•äº¤æ¢
  for(let j = 0; j &lt; i; j++)&#123;
   if(arr[j] &gt; arr[j+1])&#123;
        let tmp = arr[j];
        arr[j] = arr[j+1];
        arr[j+1] = tmp;
    pos = j;//è®°å½•æœ€åäº¤æ¢çš„ä½ç½®  
   &#125;   
  &#125;
  i = pos;//ä¸ºä¸‹ä¸€è¶Ÿæ’åºä½œå‡†å¤‡
 &#125;
 return arr;
&#125;
</code></pre>
<p>åœ¨å¾…æ’åºçš„æ•°åˆ—æœ‰åºçš„æƒ…å†µä¸‹ï¼Œåªéœ€è¦ä¸€è½®æ’åºå¹¶ä¸”ä¸ç”¨äº¤æ¢ï¼Œæ­¤æ—¶æƒ…å†µæœ€å¥½ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º<code>O(n)</code></p>
<p>å¹¶ä¸”ä»ä¸Šè¿°æ¯”è¾ƒä¸­çœ‹åˆ°ï¼Œåªæœ‰åä¸€ä¸ªå…ƒç´ æ¯”å‰é¢çš„å…ƒç´ å¤§ï¼ˆå°ï¼‰æ—¶æ‰ä¼šå¯¹å®ƒä»¬äº¤æ¢ä½ç½®å¹¶å‘ä¸Šå†’å‡ºï¼Œå¯¹äºåŒæ ·å¤§å°çš„å…ƒç´ ï¼Œæ˜¯ä¸éœ€è¦äº¤æ¢ä½ç½®çš„ï¼Œæ‰€ä»¥å¯¹äºåŒæ ·å¤§å°çš„å…ƒç´ æ¥è¯´ï¼Œç›¸å¯¹ä½ç½®æ˜¯ä¸ä¼šæ”¹å˜çš„ï¼Œå› æ­¤ï¼Œ å†’æ³¡æ’åºæ˜¯ç¨³å®šçš„</p>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯-3"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-3" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>å†’æ³¡æ’çš„æ ¸å¿ƒéƒ¨åˆ†æ˜¯åŒé‡åµŒå¥—å¾ªç¯ï¼Œ<br>æ—¶é—´å¤æ‚åº¦æ˜¯ O(N 2 )ï¼Œç›¸æ¯”å…¶å®ƒæ’åºç®—æ³•ï¼Œè¿™æ˜¯ä¸€ä¸ªç›¸å¯¹è¾ƒé«˜çš„æ—¶é—´å¤æ‚åº¦ï¼Œä¸€èˆ¬æƒ…å†µä¸æ¨èä½¿ç”¨ï¼Œç”±äºå†’æ³¡æ’åºçš„ç®€æ´æ€§ï¼Œé€šå¸¸è¢«ç”¨æ¥å¯¹äºç¨‹åºè®¾è®¡å…¥é—¨çš„å­¦ç”Ÿä»‹ç»ç®—æ³•çš„æ¦‚å¿µ</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹é€‰æ‹©æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹é€‰æ‹©æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹é€‰æ‹©æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹é€‰æ‹©æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-8"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-8" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>é€‰æ‹©æ’åºï¼ˆSelection sortï¼‰æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ï¼Œæ— è®ºä»€ä¹ˆæ•°æ®è¿›å»éƒ½æ˜¯ <code>O(nÂ²) </code>çš„æ—¶é—´å¤æ‚åº¦ï¼Œæ‰€ä»¥ç”¨åˆ°å®ƒçš„æ—¶å€™ï¼Œæ•°æ®è§„æ¨¡è¶Šå°è¶Šå¥½</p>
<p>å…¶åŸºæœ¬æ€æƒ³æ˜¯ï¼šé¦–å…ˆåœ¨æœªæ’åºçš„æ•°åˆ—ä¸­æ‰¾åˆ°æœ€å°(oræœ€å¤§)å…ƒç´ ï¼Œç„¶åå°†å…¶å­˜æ”¾åˆ°æ•°åˆ—çš„èµ·å§‹ä½ç½®</p>
<p>ç„¶åå†ä»å‰©ä½™æœªæ’åºçš„å…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°(oræœ€å¤§)å…ƒç´ ï¼Œç„¶åæ”¾åˆ°å·²æ’åºåºåˆ—çš„æœ«å°¾</p>
<p>ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æ’åºå®Œæ¯•</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œä¸€ä¸ªæ•°ç»„ä¸º 56ã€12ã€80ã€91ã€29ï¼Œå…¶æ’åºè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>ç¬¬ä¸€æ¬¡éå†æ—¶ï¼Œä»ä¸‹æ ‡ä¸º 1 çš„ä½ç½®å³ 56 å¼€å§‹ï¼Œæ‰¾å‡ºå…³é”®å­—å€¼æœ€å°çš„è®°å½• 12ï¼ŒåŒä¸‹æ ‡ä¸º 0 çš„å…³é”®å­— 56 äº¤æ¢ä½ç½®ã€‚æ­¤æ—¶æ•°ç»„ä¸º 12ã€56ã€80ã€91ã€20</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f36306264323035302d323637312d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<ul>
<li>ç¬¬äºŒæ¬¡éå†æ—¶ï¼Œä»ä¸‹æ ‡ä¸º 2 çš„ä½ç½®å³ 56 å¼€å§‹ï¼Œæ‰¾å‡ºæœ€å°å€¼ 20ï¼ŒåŒä¸‹æ ‡ä¸º 2 çš„å…³é”®å­— 56 äº’æ¢ä½ç½®ï¼Œæ­¤æ—¶æ•°ç»„ä¸º12ã€20ã€80ã€91ã€56</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f36623034636634302d323637312d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<ul>
<li>ç¬¬ä¸‰æ¬¡éå†æ—¶ï¼Œä»ä¸‹æ ‡ä¸º 3 çš„ä½ç½®å³ 80 å¼€å§‹ï¼Œæ‰¾å‡ºæœ€å°å€¼ 56ï¼ŒåŒä¸‹æ ‡ä¸º 3 çš„å…³é”®å­— 80 äº’æ¢ä½ç½®ï¼Œæ­¤æ—¶æ•°ç»„ä¸º 12ã€20ã€56ã€91ã€80</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f37353766346530302d323637312d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<ul>
<li>ç¬¬å››æ¬¡éå†æ—¶ï¼Œä»ä¸‹æ ‡ä¸º 4 çš„ä½ç½®å³ 91 å¼€å§‹ï¼Œæ‰¾å‡ºæœ€å°æ˜¯ 80ï¼ŒåŒä¸‹æ ‡ä¸º 4 çš„å…³é”®å­— 91 äº’æ¢ä½ç½®ï¼Œæ­¤æ—¶æ’åºå®Œæˆï¼Œå˜æˆæœ‰åºæ•°ç»„</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f37353766346530302d323637312d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<h4 id="äºŒã€å¦‚ä½•å®ç°-1"><a href="#äºŒã€å¦‚ä½•å®ç°-1" class="headerlink" title="äºŒã€å¦‚ä½•å®ç°"></a>äºŒã€å¦‚ä½•å®ç°</h4><p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºå…·æœ‰ <code>n</code> ä¸ªè®°å½•çš„æ— åºè¡¨éå† <code>n-1</code> æ¬¡ï¼Œç¬¬<code> i</code> æ¬¡ä»æ— åºè¡¨ä¸­ç¬¬ <code>i</code> ä¸ªè®°å½•å¼€å§‹ï¼Œæ‰¾å‡ºååºå…³é”®å­—ä¸­æœ€å°çš„è®°å½•ï¼Œç„¶åæ”¾ç½®åœ¨ç¬¬ <code>i</code> çš„ä½ç½®ä¸Š</p>
<p>ç›´è‡³åˆ°ä»ç¬¬<code>n</code>ä¸ªå’Œç¬¬<code>n-1</code>ä¸ªå…ƒç´ ä¸­é€‰å‡ºæœ€å°çš„æ”¾åœ¨ç¬¬<code>n-1</code>ä¸ªä½ç½®</p>
<p>å¦‚ä¸‹åŠ¨ç”»æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7777772e72756e6f6f622e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031392f30332f73656c656374696f6e536f72742e676966.gif"></p>
<p>ç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">function selectionSort(arr) &#123;
    var len = arr.length;
    var minIndex, temp;
    for (var i = 0; i &lt; len - 1; i++) &#123;
        minIndex = i;
        for (var j = i + 1; j &lt; len; j++) &#123;
            if (arr[j] &lt; arr[minIndex]) &#123;     // å¯»æ‰¾æœ€å°çš„æ•°
                minIndex = j;                 // å°†æœ€å°æ•°çš„ç´¢å¼•ä¿å­˜
            &#125;
        &#125;
        temp = arr[i];
        arr[i] = arr[minIndex];
        arr[minIndex] = temp;
    &#125;
    return arr;
&#125;
</code></pre>
<p>ç¬¬ä¸€æ¬¡å†…å¾ªç¯æ¯”è¾ƒ<code>N - 1</code>æ¬¡ï¼Œç„¶åæ˜¯<code>N-2</code>æ¬¡ï¼Œ<code>N-3</code>æ¬¡ï¼Œâ€¦â€¦ï¼Œæœ€åä¸€æ¬¡å†…å¾ªç¯æ¯”è¾ƒ1æ¬¡<br>å…±æ¯”è¾ƒçš„æ¬¡æ•°æ˜¯ <code>(N - 1) + (N - 2) + ... + 1</code>ï¼Œæ±‚ç­‰å·®æ•°åˆ—å’Œï¼Œå¾— <code>(N - 1 + 1)* N / 2 = N^2 / 2</code>ï¼Œèˆå»æœ€é«˜é¡¹ç³»æ•°ï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸º <code>O(N^2)</code></p>
<p>ä»ä¸Šè¿°ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼Œé€‰æ‹©æ’åºæ˜¯ä¸€ç§ç¨³å®šçš„æ’åº</p>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯-4"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-4" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>å’Œå†’æ³¡æ’åºä¸€è‡´ï¼Œç›¸æ¯”å…¶å®ƒæ’åºç®—æ³•ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªç›¸å¯¹è¾ƒé«˜çš„æ—¶é—´å¤æ‚åº¦ï¼Œä¸€èˆ¬æƒ…å†µä¸æ¨èä½¿ç”¨</p>
<p>ä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯è¦æŒæ¡å†’æ³¡æ’åºçš„æ€æƒ³åŠå®ç°ï¼Œè¿™å¯¹äºæˆ‘ä»¬çš„ç®—æ³•æ€ç»´æ˜¯æœ‰å¾ˆå¤§å¸®åŠ©çš„</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹æ’å…¥æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹æ’å…¥æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹æ’å…¥æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹æ’å…¥æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-9"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-9" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰ï¼Œä¸€èˆ¬ä¹Ÿè¢«ç§°ä¸ºç›´æ¥æ’å…¥æ’åºã€‚å¯¹äºå°‘é‡å…ƒç´ çš„æ’åºï¼Œå®ƒæ˜¯ä¸€ä¸ªæœ‰æ•ˆã€ç®€å•çš„ç®—æ³•</p>
<p>å…¶ä¸»è¦çš„å®ç°æ€æƒ³æ˜¯å°†æ•°æ®æŒ‰ç…§ä¸€å®šçš„é¡ºåºä¸€ä¸ªä¸€ä¸ªçš„æ’å…¥åˆ°æœ‰åºçš„è¡¨ä¸­ï¼Œæœ€ç»ˆå¾—åˆ°çš„åºåˆ—å°±æ˜¯å·²ç»æ’åºå¥½çš„æ•°æ®</p>
<p>æ’å…¥æ’åºçš„å·¥ä½œæ–¹å¼åƒè®¸å¤šäººæ’åºä¸€æ‰‹æ‰‘å…‹ç‰Œï¼Œå¼€å§‹æ—¶ï¼Œæˆ‘ä»¬çš„å·¦æ‰‹ä¸ºç©ºå¹¶ä¸”æ¡Œå­ä¸Šçš„ç‰Œé¢å‘ä¸‹</p>
<p>ç„¶åï¼Œæˆ‘ä»¬æ¯æ¬¡ä»æ¡Œå­ä¸Šæ‹¿èµ°ä¸€å¼ ç‰Œå¹¶å°†å®ƒæ’å…¥å·¦æ‰‹ä¸­æ­£ç¡®çš„ä½ç½®ï¼Œè¯¥æ­£ç¡®ä½ç½®éœ€è¦ä»å³åˆ°å·¦å°†å®ƒä¸å·²åœ¨æ‰‹ä¸­çš„æ¯å¼ ç‰Œè¿›è¡Œæ¯”è¾ƒ</p>
<p>ä¾‹å¦‚ä¸€ä¸ªæ— åºæ•°ç»„ 3ã€1ã€7ã€5ã€2ã€4ã€9ã€6ï¼Œå°†å…¶å‡åºçš„ç»“æœåˆ™å¦‚ä¸‹ï¼š</p>
<p>ä¸€å¼€å§‹æœ‰åºè¡¨ä¸­æ— æ•°æ®ï¼Œç›´æ¥æ’å…¥3</p>
<p>ä»ç¬¬äºŒä¸ªæ•°å¼€å§‹ï¼Œæ’å…¥ä¸€ä¸ªå…ƒç´ 1ï¼Œç„¶åå’Œæœ‰åºè¡¨ä¸­è®°å½•3æ¯”è¾ƒï¼Œ1&lt;3ï¼Œæ‰€ä»¥æ’å…¥åˆ°è®°å½• 3 çš„å·¦ä¾§</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f39643234663566302d323637662d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>å‘æœ‰åºè¡¨æ’å…¥è®°å½• 7 æ—¶ï¼ŒåŒæœ‰åºè¡¨ä¸­è®°å½• 3 è¿›è¡Œæ¯”è¾ƒï¼Œ3&lt;7ï¼Œæ‰€ä»¥æ’å…¥åˆ°è®°å½• 3 çš„å³ä¾§</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f61366139353465302d323637662d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>å‘æœ‰åºè¡¨ä¸­æ’å…¥è®°å½• 5 æ—¶ï¼ŒåŒæœ‰åºè¡¨ä¸­è®°å½• 7 è¿›è¡Œæ¯”è¾ƒï¼Œ5&lt;7ï¼ŒåŒæ—¶ 5&gt;3ï¼Œæ‰€ä»¥æ’å…¥åˆ° 3 å’Œ 7 ä¸­é—´</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f62313938313934302d323637662d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>ç…§æ­¤è§„å¾‹ï¼Œä¾æ¬¡å°†æ— åºè¡¨ä¸­çš„è®°å½• 4ï¼Œ9 å’Œ 6æ’å…¥åˆ°æœ‰åºè¡¨ä¸­</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f62633265643239302d323637662d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<h4 id="äºŒã€å¦‚ä½•å®ç°-2"><a href="#äºŒã€å¦‚ä½•å®ç°-2" class="headerlink" title="äºŒã€å¦‚ä½•å®ç°"></a>äºŒã€å¦‚ä½•å®ç°</h4><p>å°†ç¬¬ä¸€å¾…æ’åºåºåˆ—ç¬¬ä¸€ä¸ªå…ƒç´ çœ‹åšä¸€ä¸ªæœ‰åºåºåˆ—ï¼ŒæŠŠç¬¬äºŒä¸ªå…ƒç´ åˆ°æœ€åä¸€ä¸ªå…ƒç´ å½“æˆæ˜¯æœªæ’åºåºåˆ—ã€‚</p>
<p>ä»å¤´åˆ°å°¾ä¾æ¬¡æ‰«ææœªæ’åºåºåˆ—ï¼Œå°†æ‰«æåˆ°çš„æ¯ä¸ªå…ƒç´ æ’å…¥æœ‰åºåºåˆ—çš„é€‚å½“ä½ç½®</p>
<p>å¦‚æœå¾…æ’å…¥çš„å…ƒç´ ä¸æœ‰åºåºåˆ—ä¸­çš„æŸä¸ªå…ƒç´ ç›¸ç­‰ï¼Œåˆ™å°†å¾…æ’å…¥å…ƒç´ æ’å…¥åˆ°ç›¸ç­‰å…ƒç´ çš„åé¢</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7777772e72756e6f6f622e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031392f30332f696e73657274696f6e536f72742e676966.gif"></p>
<p>ç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">function insertionSort(arr) &#123;
    const len = arr.length;
    let preIndex, current;
    for (let i = 1; i &lt; len; i++) &#123;
        preIndex = i - 1;
        current = arr[i];
        while(preIndex &gt;= 0 &amp;&amp; arr[preIndex] &gt; current) &#123;
            arr[preIndex+1] = arr[preIndex];
            preIndex--;
        &#125;
        arr[preIndex+1] = current;
    &#125;
    return arr;
&#125;
</code></pre>
<p>åœ¨æ’å…¥æ’åºä¸­ï¼Œå½“å¾…æ’åºæ•°ç»„æ˜¯æœ‰åºæ—¶ï¼Œæ˜¯æœ€ä¼˜çš„æƒ…å†µï¼Œåªéœ€å½“å‰æ•°è·Ÿå‰ä¸€ä¸ªæ•°æ¯”è¾ƒä¸€ä¸‹å°±å¯ä»¥äº†ï¼Œè¿™æ—¶ä¸€å…±éœ€è¦æ¯”è¾ƒ<code>N- 1</code>æ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º<code>O(n)</code></p>
<p>æœ€åçš„æƒ…å†µæ˜¯å¾…æ’åºæ•°ç»„æ˜¯é€†åºçš„ï¼Œæ­¤æ—¶éœ€è¦æ¯”è¾ƒæ¬¡æ•°æœ€å¤šï¼Œæ€»æ¬¡æ•°è®°ä¸ºï¼š1+2+3+â€¦+N-1ï¼Œæ‰€ä»¥ï¼Œæ’å…¥æ’åºæœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ä¸º<code>O(n^2)</code></p>
<p>é€šè¿‡ä¸Šé¢äº†è§£ï¼Œå¯ä»¥çœ‹åˆ°æ’å…¥æ’åºæ˜¯ä¸€ç§ç¨³å®šçš„æ’åºæ–¹å¼</p>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯-5"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-5" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>æ’å…¥æ’åºæ—¶é—´å¤æ‚åº¦æ˜¯ O(n2)ï¼Œé€‚ç”¨äºæ•°æ®é‡ä¸å¤§ï¼Œç®—æ³•ç¨³å®šæ€§è¦æ±‚é«˜ï¼Œä¸”æ•°æ®å±€éƒ¨æˆ–æ•´ä½“æœ‰åºçš„æ•°åˆ—æ’åº</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹å½’å¹¶æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹å½’å¹¶æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹å½’å¹¶æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹å½’å¹¶æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-10"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-10" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>å½’å¹¶æ’åºï¼ˆMerge Sortï¼‰æ˜¯å»ºç«‹å½’å¹¶æ“ä½œä¸Šçš„ä¸€ç§æœ‰æ•ˆï¼Œç¨³å®šçš„æ’åºç®—æ³•ï¼Œè¯¥ç®—æ³•æ˜¯é‡‡ç”¨åˆ†æ²»æ³•çš„ä¸€ä¸ªéå¸¸å…¸å‹çš„åº”ç”¨</p>
<p>å°†å·²æœ‰åºçš„å­åºåˆ—åˆå¹¶ï¼Œå¾—åˆ°å®Œå…¨æœ‰åºçš„åºåˆ—ï¼Œå³å…ˆä½¿æ¯ä¸ªå­åºåˆ—æœ‰åºï¼Œå†ä½¿å­åºåˆ—æ®µé—´æœ‰åº</p>
<p>ä¾‹å¦‚å¯¹äºå«æœ‰ <code>n</code> ä¸ªè®°å½•çš„æ— åºè¡¨ï¼Œé¦–å…ˆé»˜è®¤è¡¨ä¸­æ¯ä¸ªè®°å½•å„ä¸ºä¸€ä¸ªæœ‰åºè¡¨ï¼ˆåªä¸è¿‡è¡¨çš„é•¿åº¦éƒ½ä¸º 1ï¼‰</p>
<p>ç„¶åè¿›è¡Œä¸¤ä¸¤åˆå¹¶ï¼Œä½¿ <code>n</code> ä¸ªæœ‰åºè¡¨å˜ä¸º<code>n/2</code> ä¸ªé•¿åº¦ä¸º 2 æˆ–è€… 1 çš„æœ‰åºè¡¨ï¼ˆä¾‹å¦‚ 4 ä¸ªå°æœ‰åºè¡¨åˆå¹¶ä¸º 2 ä¸ªå¤§çš„æœ‰åºè¡¨ï¼‰</p>
<p>é€šè¿‡ä¸æ–­åœ°è¿›è¡Œä¸¤ä¸¤åˆå¹¶ï¼Œç›´åˆ°å¾—åˆ°ä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> çš„æœ‰åºè¡¨ä¸ºæ­¢</p>
<p>ä¾‹å¦‚å¯¹æ— åºè¡¨{49ï¼Œ38ï¼Œ65ï¼Œ97ï¼Œ76ï¼Œ13ï¼Œ27}è¿›è¡Œå½’å¹¶æ’åºåˆ†æˆäº†åˆ†ã€åˆä¸¤éƒ¨åˆ†ï¼š</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f30356631346236302d323661642d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>å½’å¹¶åˆè¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡å¾—åˆ°çš„æ–°çš„å­è¡¨æœ¬èº«æœ‰åºï¼Œæ‰€ä»¥æœ€ç»ˆå¾—åˆ°æœ‰åºè¡¨</p>
<p>ä¸Šè¿°åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œåˆ™ç§°ä¸ºäºŒè·¯å½’å¹¶ï¼Œå¦‚æœåˆ†æˆä¸‰ä¸ªéƒ¨åˆ†åˆ™ç§°ä¸ºä¸‰è·¯å½’å¹¶ï¼Œä»¥æ­¤ç±»æ¨</p>
<h4 id="äºŒã€å¦‚ä½•å®ç°-3"><a href="#äºŒã€å¦‚ä½•å®ç°-3" class="headerlink" title="äºŒã€å¦‚ä½•å®ç°"></a>äºŒã€å¦‚ä½•å®ç°</h4><p>å…³äºå½’å¹¶æ’åºçš„ç®—æ³•æ€è·¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>åˆ†ï¼šæŠŠæ•°ç»„åˆ†æˆä¸¤åŠï¼Œå†é€’å½’å¯¹å­æ•°ç»„è¿›è¡Œåˆ†æ“ä½œï¼Œç›´è‡³åˆ°ä¸€ä¸ªä¸ªå•ç‹¬æ•°å­—</li>
<li>åˆï¼šæŠŠä¸¤ä¸ªæ•°åˆæˆæœ‰åºæ•°ç»„ï¼Œå†å¯¹æœ‰åºæ•°ç»„è¿›è¡Œåˆå¹¶æ“ä½œï¼Œç›´åˆ°å…¨éƒ¨å­æ•°ç»„åˆæˆä¸€ä¸ªå®Œæ•´çš„æ•°ç»„<ul>
<li>åˆå¹¶æ“ä½œå¯ä»¥æ–°å»ºä¸€ä¸ªæ•°ç»„ï¼Œç”¨äºå­˜æ”¾æ’åºåçš„æ•°ç»„</li>
<li>æ¯”è¾ƒä¸¤ä¸ªæœ‰åºæ•°ç»„çš„å¤´éƒ¨ï¼Œè¾ƒå°è€…å‡ºé˜Ÿå¹¶ä¸”æ¨å…¥åˆ°ä¸Šè¿°æ–°å»ºçš„æ•°ç»„ä¸­</li>
<li>å¦‚æœä¸¤ä¸ªæ•°ç»„è¿˜æœ‰å€¼ï¼Œåˆ™é‡å¤ä¸Šè¿°ç¬¬äºŒæ­¥</li>
<li>å¦‚æœåªæœ‰ä¸€ä¸ªæ•°ç»„æœ‰å€¼ï¼Œåˆ™å°†è¯¥æ•°ç»„çš„å€¼å‡ºé˜Ÿå¹¶æ¨å…¥åˆ°ä¸Šè¿°æ–°å»ºçš„æ•°ç»„ä¸­</li>
</ul>
</li>
</ul>
<p>ç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<pre><code class="javascript">function mergeSort(arr) &#123;  // é‡‡ç”¨è‡ªä¸Šè€Œä¸‹çš„é€’å½’æ–¹æ³•
    const len = arr.length;
    if(len &lt; 2) &#123;
        return arr;
    &#125;
    let middle = Math.floor(len / 2),
        left = arr.slice(0, middle),
        right = arr.slice(middle);
    return merge(mergeSort(left), mergeSort(right));
&#125;

function merge(left, right)
&#123;
    const result = [];

    while (left.length &amp;&amp; right.length) &#123;
        if (left[0] &lt;= right[0]) &#123;
            result.push(left.shift());
        &#125; else &#123;
            result.push(right.shift());
        &#125;
    &#125;

    while (left.length)
        result.push(left.shift());

    while (right.length)
        result.push(right.shift());

    return result;
&#125;
</code></pre>
<p>ä¸Šè¿°å½’å¹¶åˆ†æˆäº†åˆ†ã€åˆä¸¤éƒ¨åˆ†ï¼Œåœ¨å¤„ç†åˆ†è¿‡ç¨‹ä¸­é€’å½’è°ƒç”¨ä¸¤ä¸ªåˆ†çš„æ“ä½œï¼Œæ‰€èŠ±è´¹çš„æ—¶é—´ä¸º2ä¹˜<code>T(n/2)</code>ï¼Œåˆçš„æ“ä½œæ—¶é—´å¤æ‚åº¦åˆ™ä¸º<code>O(n)</code>ï¼Œå› æ­¤å¯ä»¥å¾—åˆ°ä»¥ä¸‹å…¬å¼ï¼š</p>
<p>æ€»çš„æ‰§è¡Œæ—¶é—´ &#x3D; 2 Ã— è¾“å…¥é•¿åº¦ä¸º<code>n/2</code>çš„<code>sort</code>å‡½æ•°çš„æ‰§è¡Œæ—¶é—´ + <code>merge</code>å‡½æ•°çš„æ‰§è¡Œæ—¶é—´<code>O(n)</code></p>
<p>å½“åªæœ‰ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œ<code>T(1) = O(1)</code></p>
<p>å¦‚æœå¯¹<code>T(n) = 2 * T(n/2) + O(n) </code>è¿›è¡Œå·¦å³ &#x2F; nçš„æ“ä½œï¼Œå¾—åˆ° <code>T(n) / n = (n / 2) * T(n/2) + O(1)</code></p>
<p>ç°åœ¨ä»¤ <code>S(n) = T(n)/n</code>ï¼Œåˆ™<code>S(1) = O(1)</code>ï¼Œç„¶ååˆ©ç”¨è¡¨è¾¾å¼å¸¦å…¥å¾—åˆ°<code>S(n) = S(n/2) + O(1)</code></p>
<p>æ‰€ä»¥å¯ä»¥å¾—åˆ°ï¼š<code>S(n) = S(n/2) + O(1) = S(n/4) + O(2) = S(n/8) + O(3) = S(n/2^k) + O(k) = S(1) + O(logn) = O(logn)</code></p>
<p>ç»¼ä¸Šå¯å¾—ï¼Œ<code>T(n) = n * log(n) = nlogn</code></p>
<p>å…³äºå½’å¹¶æ’åºçš„ç¨³å®šæ€§ï¼Œåœ¨è¿›è¡Œåˆå¹¶è¿‡ç¨‹ï¼Œåœ¨1ä¸ªæˆ–2ä¸ªå…ƒç´ æ—¶ï¼Œ1ä¸ªå…ƒç´ ä¸ä¼šäº¤æ¢ï¼Œ2ä¸ªå…ƒç´ å¦‚æœå¤§å°ç›¸ç­‰ä¹Ÿä¸ä¼šäº¤æ¢ï¼Œç”±æ­¤å¯è§å½’å¹¶æ’åºæ˜¯ç¨³å®šçš„æ’åºç®—æ³•</p>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯-6"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-6" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>åœ¨å¤–æ’åºä¸­é€šå¸¸ä½¿ç”¨æ’åº-å½’å¹¶çš„ç­–ç•¥ï¼Œå¤–æ’åºæ˜¯æŒ‡å¤„ç†è¶…è¿‡å†…å­˜é™åº¦çš„æ•°æ®çš„æ’åºç®—æ³•ï¼Œé€šå¸¸å°†ä¸­é—´ç»“æœæ”¾åœ¨è¯»å†™è¾ƒæ…¢çš„å¤–å­˜å‚¨å™¨ï¼Œå¦‚ä¸‹åˆ†æˆä¸¤ä¸ªé˜¶æ®µï¼š</p>
<ul>
<li>æ’åºé˜¶æ®µï¼šè¯»å…¥èƒ½å¤Ÿæ”¾è¿›å†…å­˜ä¸­çš„æ•°æ®é‡ï¼Œå°†å…¶æ’åºè¾“å‡ºåˆ°ä¸´æ—¶æ–‡ä»¶ï¼Œä¸€æ¬¡è¿›è¡Œï¼Œå°†å¸¦æ’åºæ•°æ®ç»„ç»‡ä¸ºå¤šä¸ªæœ‰åºçš„ä¸´æ—¶æ–‡ä»¶</li>
<li>å½’å¹¶é˜¶æ®µï¼šå°†è¿™äº›ä¸´æ—¶æ–‡ä»¶ç»„åˆä¸ºå¤§çš„æœ‰åºæ–‡ä»¶</li>
</ul>
<p>ä¾‹å¦‚ï¼Œä½¿ç”¨100må†…å­˜å¯¹900mçš„æ•°æ®è¿›è¡Œæ’åºï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>è¯»å…¥100mæ•°æ®å†…å­˜ï¼Œç”¨å¸¸è§„æ–¹å¼æ’åº</li>
<li>å°†æ’åºåçš„æ•°æ®å†™å…¥ç£ç›˜</li>
<li>é‡å¤å‰ä¸¤ä¸ªæ­¥éª¤ï¼Œå¾—åˆ°9ä¸ª100mçš„ä¸´æ—¶æ–‡ä»¶</li>
<li>å°†100mçš„å†…å­˜åˆ’åˆ†ä¸º10ä»½ï¼Œå°†9ä»½ä¸ºè¾“å…¥ç¼“å†²åŒºï¼Œç¬¬10ä»½ä¸ºè¾“å‡ºç¼“å†²åŒº</li>
<li>è¿›è¡Œä¹è·¯å½’å¹¶æ’åºï¼Œå°†ç»“æœè¾“å‡ºåˆ°ç¼“å†²åŒº<ul>
<li>è‹¥è¾“å‡ºç¼“å†²åŒºæ»¡ï¼Œå°†æ•°æ®å†™åˆ°ç›®æ ‡æ–‡ä»¶ï¼Œæ¸…ç©ºç¼“å†²åŒº</li>
<li>è‹¥ç¼“å†²åŒºç©ºï¼Œè¯»å…¥ç›¸åº”æ–‡ä»¶çš„ä¸‹ä¸€ä»½æ•°æ®</li>
</ul>
</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹å¿«é€Ÿæ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹å¿«é€Ÿæ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹å¿«é€Ÿæ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹å¿«é€Ÿæ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-11"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-11" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰ç®—æ³•æ˜¯åœ¨å†’æ³¡æ’åºçš„åŸºç¡€ä¸Šè¿›è¡Œæ”¹è¿›çš„ä¸€ç§ç®—æ³•ï¼Œä»åå­—ä¸Šçœ‹å°±çŸ¥é“è¯¥æ’åºç®—æ³•çš„ç‰¹ç‚¹æ˜¯å¿«ã€æ•ˆç‡é«˜ï¼Œæ˜¯å¤„ç†å¤§æ•°æ®æœ€å¿«çš„æ’åºç®—æ³•ä¹‹ä¸€</p>
<p>å®ç°çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šé€šè¿‡ä¸€æ¬¡æ’åºå°†æ•´ä¸ªæ— åºè¡¨åˆ†æˆç›¸äº’ç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†ä¸­çš„æ•°æ®éƒ½æ¯”å¦ä¸€éƒ¨åˆ†ä¸­åŒ…å«çš„æ•°æ®çš„å€¼å°</p>
<p>ç„¶åç»§ç»­æ²¿ç”¨æ­¤æ–¹æ³•åˆ†åˆ«å¯¹ä¸¤éƒ¨åˆ†è¿›è¡ŒåŒæ ·çš„æ“ä½œï¼Œç›´åˆ°æ¯ä¸€ä¸ªå°éƒ¨åˆ†ä¸å¯å†åˆ†ï¼Œæ‰€å¾—åˆ°çš„æ•´ä¸ªåºåˆ—å°±å˜æˆæœ‰åºåºåˆ—</p>
<p>ä¾‹å¦‚ï¼Œå¯¹æ— åºè¡¨49ï¼Œ38ï¼Œ65ï¼Œ97ï¼Œ76ï¼Œ13ï¼Œ27ï¼Œ49è¿›è¡Œå¿«é€Ÿæ’åºï¼Œå¤§è‡´è¿‡ç¨‹ä¸ºï¼š</p>
<ul>
<li>é¦–å…ˆä»è¡¨ä¸­é€‰å–ä¸€ä¸ªè®°å½•çš„å…³é”®å­—ä½œä¸ºåˆ†å‰²ç‚¹ï¼ˆç§°ä¸ºâ€œæ¢è½´â€æˆ–è€…æ”¯ç‚¹ï¼Œä¸€èˆ¬é€‰æ‹©ç¬¬ä¸€ä¸ªå…³é”®å­—ï¼‰ï¼Œä¾‹å¦‚é€‰å– 49</li>
<li>å°†è¡¨æ ¼ä¸­å¤§äº 49 ä¸ªæ”¾ç½®äº 49 çš„å³ä¾§ï¼Œå°äº 49 çš„æ”¾ç½®äº 49 çš„å·¦ä¾§ï¼Œå‡è®¾å®Œæˆåçš„æ— åºè¡¨ä¸ºï¼š{27ï¼Œ38ï¼Œ13ï¼Œ49ï¼Œ65ï¼Œ97ï¼Œ76ï¼Œ49}</li>
<li>ä»¥ 49 ä¸ºæ”¯ç‚¹ï¼Œå°†æ•´ä¸ªæ— åºè¡¨åˆ†å‰²æˆäº†ä¸¤ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«ä¸º{27ï¼Œ38ï¼Œ13}å’Œ{65ï¼Œ97ï¼Œ76ï¼Œ49}ï¼Œç»§ç»­é‡‡ç”¨æ­¤ç§æ–¹æ³•åˆ†åˆ«å¯¹ä¸¤ä¸ªå­è¡¨è¿›è¡Œæ’åº</li>
<li>å‰éƒ¨åˆ†å­è¡¨ä»¥ 27 ä¸ºæ”¯ç‚¹ï¼Œæ’åºåçš„å­è¡¨ä¸º{13ï¼Œ27ï¼Œ38}ï¼Œæ­¤éƒ¨åˆ†å·²ç»æœ‰åºï¼›åéƒ¨åˆ†å­è¡¨ä»¥ 65 ä¸ºæ”¯ç‚¹ï¼Œæ’åºåçš„å­è¡¨ä¸º{49ï¼Œ65ï¼Œ97ï¼Œ76}</li>
<li>æ­¤æ—¶å‰åŠéƒ¨åˆ†å­è¡¨ä¸­çš„æ•°æ®å·²å®Œæˆæ’åºï¼›åéƒ¨åˆ†å­è¡¨ç»§ç»­ä»¥ 65 ä¸ºæ”¯ç‚¹ï¼Œå°†å…¶åˆ†å‰²ä¸º{49}å’Œ{97ï¼Œ76}ï¼Œå‰è€…ä¸éœ€æ’åºï¼Œåè€…æ’åºåçš„ç»“æœä¸º{76ï¼Œ 97}</li>
<li>é€šè¿‡ä»¥ä¸Šå‡ æ­¥çš„æ’åºï¼Œæœ€åç”±å­è¡¨{13ï¼Œ27ï¼Œ38}ã€{49}ã€{49}ã€{65}ã€{76ï¼Œ97}æ„æˆæœ‰åºè¡¨ï¼š{13ï¼Œ27ï¼Œ38ï¼Œ49ï¼Œ49ï¼Œ65ï¼Œ76ï¼Œ97}</li>
</ul>
<h4 id="äºŒã€å¦‚ä½•å®ç°-4"><a href="#äºŒã€å¦‚ä½•å®ç°-4" class="headerlink" title="äºŒã€å¦‚ä½•å®ç°"></a>äºŒã€å¦‚ä½•å®ç°</h4><p>å¯ä»¥åˆ†æˆä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ul>
<li>åˆ†åŒºï¼šä»æ•°ç»„ä¸­é€‰æ‹©ä»»æ„ä¸€ä¸ªåŸºå‡†ï¼Œæ‰€æœ‰æ¯”åŸºå‡†å°çš„å…ƒç´ æ”¾åœ¨åŸºå‡†çš„å·¦è¾¹ï¼Œæ¯”åŸºå‡†å¤§çš„å…ƒç´ æ”¾åˆ°åŸºå‡†çš„å³è¾¹</li>
<li>é€’å½’ï¼šé€’å½’åœ°å¯¹åŸºå‡†å‰åçš„å­æ•°ç»„è¿›è¡Œåˆ†åŒº</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7777772e72756e6f6f622e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031392f30332f717569636b536f72742e676966.gif"></p>
<p>ç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">function quickSort (arr) &#123;
  const rec = (arr) =&gt; &#123;
    if (arr.length &lt;= 1) &#123; return arr; &#125;
    const left = [];
    const right = [];
    const mid = arr[0]; // åŸºå‡†å…ƒç´ 
    for (let i = 1; i &lt; arr.length; i++)&#123;
      if (arr[i] &lt; mid) &#123;
        left.push(arr[i]);
      &#125; else &#123;
        right.push(arr[i]);
      &#125;
    &#125;
    return [...rec(left), mid, ...rec(right)]
  &#125;
  return rec(arr)
&#125;;
</code></pre>
<p>å¿«é€Ÿæ’åºæ˜¯å†’æ³¡æ’åºçš„å‡çº§ç‰ˆï¼Œæœ€åæƒ…å†µä¸‹æ¯ä¸€æ¬¡åŸºå‡†å…ƒç´ éƒ½æ˜¯æ•°ç»„ä¸­æœ€å°æˆ–è€…æœ€å¤§çš„å…ƒç´ ï¼Œåˆ™å¿«é€Ÿæ’åºå°±æ˜¯å†’æ³¡æ’åº</p>
<p>è¿™ç§æƒ…å†µæ—¶é—´å¤æ‚åº¦å°±æ˜¯å†’æ³¡æ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼š<code>T[n] = n * (n-1) = n^2 + n</code>ï¼Œä¹Ÿå°±æ˜¯<code>O(n^2)</code></p>
<p>æœ€å¥½æƒ…å†µä¸‹æ˜¯<code>O(nlogn)</code>ï¼Œå…¶ä¸­é€’å½’ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å…¬å¼ï¼š<code>T[n] = aT[n/b] + f(n)</code>ï¼Œæ¨å¯¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f62363031393534302d326235652d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>å…³äºä¸Šè¿°ä»£ç å®ç°çš„å¿«é€Ÿæ’åºï¼Œå¯ä»¥çœ‹åˆ°æ˜¯ç¨³å®šçš„</p>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯-7"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-7" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>å¿«é€Ÿæ’åºæ—¶é—´å¤æ‚åº¦ä¸º<code>O(nlogn)</code>ï¼Œæ˜¯ç›®å‰åŸºäºæ¯”è¾ƒçš„å†…éƒ¨æ’åºä¸­è¢«è®¤ä¸ºæœ€å¥½çš„æ–¹æ³•ï¼Œå½“æ•°æ®è¿‡å¤§ä¸”æ•°æ®æ‚ä¹±æ— ç« æ—¶ï¼Œåˆ™é€‚åˆé‡‡ç”¨å¿«é€Ÿæ’åº</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹äºŒåˆ†æŸ¥æ‰¾çš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹äºŒåˆ†æŸ¥æ‰¾çš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹äºŒåˆ†æŸ¥æ‰¾çš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹äºŒåˆ†æŸ¥æ‰¾çš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-12"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-12" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒäºŒåˆ†æŸ¥æ‰¾ç®—æ³•ï¼Œä¹Ÿç§°æŠ˜åŠæœç´¢ç®—æ³•ï¼Œæ˜¯ä¸€ç§åœ¨æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾æŸä¸€ç‰¹å®šå…ƒç´ çš„æœç´¢ç®—æ³•</p>
<p>æƒ³è¦åº”ç”¨äºŒåˆ†æŸ¥æ‰¾æ³•ï¼Œåˆ™è¿™ä¸€å †æ•°åº”æœ‰å¦‚ä¸‹ç‰¹æ€§ï¼š</p>
<ul>
<li>å­˜å‚¨åœ¨æ•°ç»„ä¸­</li>
<li>æœ‰åºæ’åº</li>
</ul>
<p>æœç´¢è¿‡ç¨‹ä»æ•°ç»„çš„ä¸­é—´å…ƒç´ å¼€å§‹ï¼Œå¦‚æœä¸­é—´å…ƒç´ æ­£å¥½æ˜¯è¦æŸ¥æ‰¾çš„å…ƒç´ ï¼Œåˆ™æœç´¢è¿‡ç¨‹ç»“æŸ</p>
<p>å¦‚æœæŸä¸€ç‰¹å®šå…ƒç´ å¤§äºæˆ–è€…å°äºä¸­é—´å…ƒç´ ï¼Œåˆ™åœ¨æ•°ç»„å¤§äºæˆ–å°äºä¸­é—´å…ƒç´ çš„é‚£ä¸€åŠä¸­æŸ¥æ‰¾ï¼Œè€Œä¸”è·Ÿå¼€å§‹ä¸€æ ·ä»ä¸­é—´å…ƒç´ å¼€å§‹æ¯”è¾ƒ</p>
<p>å¦‚æœåœ¨æŸä¸€æ­¥éª¤æ•°ç»„ä¸ºç©ºï¼Œåˆ™ä»£è¡¨æ‰¾ä¸åˆ°</p>
<p>è¿™ç§æœç´¢ç®—æ³•æ¯ä¸€æ¬¡æ¯”è¾ƒéƒ½ä½¿æœç´¢èŒƒå›´ç¼©å°ä¸€åŠ</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65323130383532302d323938372d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>ç›¸æ¯”æ™®é€šçš„é¡ºåºæŸ¥æ‰¾ï¼Œé™¤äº†æ•°æ®é‡å¾ˆå°‘çš„æƒ…å†µä¸‹ï¼ŒäºŒåˆ†æŸ¥æ‰¾ä¼šæ¯”é¡ºåºæŸ¥æ‰¾æ›´å¿«ï¼ŒåŒºåˆ«å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f706963322e7a68696d672e636f6d2f76322d34333333396239363364623633623333313037623536353033616436623162355f622e676966.gif"></p>
<h4 id="äºŒã€å¦‚ä½•å®ç°-5"><a href="#äºŒã€å¦‚ä½•å®ç°-5" class="headerlink" title="äºŒã€å¦‚ä½•å®ç°"></a>äºŒã€å¦‚ä½•å®ç°</h4><p>åŸºäºäºŒåˆ†æŸ¥æ‰¾çš„å®ç°ï¼Œå¦‚æœæ•°æ®æ˜¯æœ‰åºçš„ï¼Œå¹¶ä¸”ä¸å­˜åœ¨é‡å¤é¡¹ï¼Œå®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">function BinarySearch(arr, target) &#123;
    if (arr.length &lt;= 1) return -1
    // ä½ä½ä¸‹æ ‡
    let lowIndex = 0
    // é«˜ä½ä¸‹æ ‡
    let highIndex = arr.length - 1

    while (lowIndex &lt;= highIndex) &#123;
        // ä¸­é—´ä¸‹æ ‡
        const midIndex = Math.floor((lowIndex + highIndex) / 2)
        if (target &lt; arr[midIndex]) &#123;
            highIndex = midIndex - 1
        &#125; else if (target &gt; arr[midIndex]) &#123;
            lowIndex = midIndex + 1
        &#125; else &#123;
            // target === arr[midIndex]
            return midIndex
        &#125;
    &#125;
    return -1
&#125;
</code></pre>
<p>å¦‚æœæ•°ç»„ä¸­å­˜åœ¨é‡å¤é¡¹ï¼Œè€Œæˆ‘ä»¬éœ€è¦æ‰¾å‡ºç¬¬ä¸€ä¸ªåˆ¶å®šçš„å€¼ï¼Œå®ç°åˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">function BinarySearchFirst(arr, target) &#123;
    if (arr.length &lt;= 1) return -1
    // ä½ä½ä¸‹æ ‡
    let lowIndex = 0
    // é«˜ä½ä¸‹æ ‡
    let highIndex = arr.length - 1

    while (lowIndex &lt;= highIndex) &#123;
        // ä¸­é—´ä¸‹æ ‡
        const midIndex = Math.floor((lowIndex + highIndex) / 2)
        if (target &lt; arr[midIndex]) &#123;
            highIndex = midIndex - 1
        &#125; else if (target &gt; arr[midIndex]) &#123;
            lowIndex = midIndex + 1
        &#125; else &#123;
            // å½“ target ä¸ arr[midIndex] ç›¸ç­‰çš„æ—¶å€™ï¼Œå¦‚æœ midIndex ä¸º0æˆ–è€…å‰ä¸€ä¸ªæ•°æ¯” target å°é‚£ä¹ˆå°±æ‰¾åˆ°äº†ç¬¬ä¸€ä¸ªç­‰äºç»™å®šå€¼çš„å…ƒç´ ï¼Œç›´æ¥è¿”å›
            if (midIndex === 0 || arr[midIndex - 1] &lt; target) return midIndex
            // å¦åˆ™é«˜ä½ä¸‹æ ‡ä¸ºä¸­é—´ä¸‹æ ‡å‡1ï¼Œç»§ç»­æŸ¥æ‰¾
            highIndex = midIndex - 1
        &#125;
    &#125;
    return -1
&#125;
</code></pre>
<p>å®é™…ä¸Šï¼Œé™¤äº†æœ‰åºçš„æ•°ç»„å¯ä»¥ä½¿ç”¨ï¼Œè¿˜æœ‰ä¸€ç§ç‰¹æ®Šçš„æ•°ç»„å¯ä»¥åº”ç”¨ï¼Œé‚£å°±æ˜¯è½®è½¬åçš„æœ‰åºæ•°ç»„</p>
<p>æœ‰åºæ•°ç»„å³ä¸€ä¸ªæœ‰åºæ•°å­—ä»¥æŸä¸€ä¸ªæ•°ä¸ºè½´ï¼Œå°†å…¶ä¹‹å‰çš„æ‰€æœ‰æ•°éƒ½è½®è½¬åˆ°æ•°ç»„çš„æœ«å°¾æ‰€å¾—</p>
<p>ä¾‹å¦‚ï¼Œ[4, 5, 6, 7, 0, 1, 2]å°±æ˜¯ä¸€ä¸ªè½®è½¬åçš„æœ‰åºæ•°ç»„</p>
<p>è¯¥æ•°ç»„çš„ç‰¹æ€§æ˜¯å­˜åœ¨ä¸€ä¸ªåˆ†ç•Œç‚¹ç”¨æ¥åˆ†ç•Œä¸¤ä¸ªæœ‰åºæ•°ç»„ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65656565323133302d323938372d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>åˆ†ç•Œç‚¹æœ‰å¦‚ä¸‹ç‰¹æ€§ï¼š</p>
<ul>
<li>åˆ†ç•Œç‚¹å…ƒç´  &gt;&#x3D; ç¬¬ä¸€ä¸ªå…ƒç´ </li>
<li>åˆ†ç•Œç‚¹å…ƒç´  &lt; ç¬¬ä¸€ä¸ªå…ƒç´ </li>
</ul>
<p>ä»£ç å®ç°å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">function search (nums, target) &#123;
  // å¦‚æœä¸ºç©ºæˆ–è€…æ˜¯ç©ºæ•°ç»„çš„æƒ…å†µ
  if (nums == null || !nums.length) &#123;
    return -1;
  &#125;
  // æœç´¢åŒºé—´æ˜¯å‰é—­åé—­
  let begin = 0,
    end = nums.length - 1;
  while (begin &lt;= end) &#123;
    // ä¸‹é¢è¿™æ ·å†™æ˜¯è€ƒè™‘å¤§æ•°æƒ…å†µä¸‹é¿å…æº¢å‡º
    let mid = begin + ((end - begin) &gt;&gt; 1);
    if (nums[mid] == target) &#123;
      return mid;
    &#125;
    // å¦‚æœå·¦è¾¹æ˜¯æœ‰åºçš„
    if (nums[begin] &lt;= nums[mid]) &#123;
      //åŒæ—¶targetåœ¨[ nums[begin],nums[mid] ]ä¸­ï¼Œé‚£ä¹ˆå°±åœ¨è¿™æ®µæœ‰åºåŒºé—´æŸ¥æ‰¾
      if (nums[begin] &lt;= target &amp;&amp; target &lt;= nums[mid]) &#123;
        end = mid - 1;
      &#125; else &#123;
        //å¦åˆ™å»åæ–¹å‘æŸ¥æ‰¾
        begin = mid + 1;
      &#125;
      //å¦‚æœå³ä¾§æ˜¯æœ‰åºçš„
    &#125; else &#123;
      //åŒæ—¶targetåœ¨[ nums[mid],nums[end] ]ä¸­ï¼Œé‚£ä¹ˆå°±åœ¨è¿™æ®µæœ‰åºåŒºé—´æŸ¥æ‰¾
      if (nums[mid] &lt;= target &amp;&amp; target &lt;= nums[end]) &#123;
        begin = mid + 1;
      &#125; else &#123;
        end = mid - 1;
      &#125;
    &#125;
  &#125;
  return -1;
&#125;;
</code></pre>
<p>å¯¹æ¯”æ™®é€šçš„äºŒåˆ†æŸ¥æ‰¾æ³•ï¼Œä¸ºäº†ç¡®å®šç›®æ ‡æ•°ä¼šè½åœ¨äºŒåˆ†åçš„å“ªä¸ªéƒ¨åˆ†ï¼Œæˆ‘ä»¬éœ€è¦æ›´å¤šçš„åˆ¤å®šæ¡ä»¶</p>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯-8"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-8" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>äºŒåˆ†æŸ¥æ‰¾æ³•çš„<code>O(logn)</code>è®©å®ƒæˆä¸ºååˆ†é«˜æ•ˆçš„ç®—æ³•ã€‚ä¸è¿‡å®ƒçš„ç¼ºé™·å´ä¹Ÿæ˜¯æ¯”è¾ƒæ˜æ˜¾ï¼Œå°±åœ¨å®ƒçš„é™å®šä¹‹ä¸Šï¼š</p>
<ul>
<li>æœ‰åºï¼šæˆ‘ä»¬å¾ˆéš¾ä¿è¯æˆ‘ä»¬çš„æ•°ç»„éƒ½æ˜¯æœ‰åºçš„</li>
<li>æ•°ç»„ï¼šæ•°ç»„è¯»å–æ•ˆç‡æ˜¯O(1)ï¼Œå¯æ˜¯å®ƒçš„æ’å…¥å’Œåˆ é™¤æŸä¸ªå…ƒç´ çš„æ•ˆç‡å´æ˜¯O(n)ï¼Œå¹¶ä¸”æ•°ç»„çš„å­˜å‚¨æ˜¯éœ€è¦è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œä¸é€‚åˆå¤§æ•°æ®çš„æƒ…å†µ</li>
</ul>
<p>å…³äºäºŒåˆ†æŸ¥æ‰¾çš„åº”ç”¨åœºæ™¯ï¼Œä¸»è¦å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä¸é€‚åˆæ•°æ®é‡å¤ªå°çš„æ•°åˆ—ï¼›æ•°åˆ—å¤ªå°ï¼Œç›´æ¥é¡ºåºéå†è¯´ä¸å®šæ›´å¿«ï¼Œä¹Ÿæ›´ç®€å•</li>
<li>æ¯æ¬¡å…ƒç´ ä¸å…ƒç´ çš„æ¯”è¾ƒæ˜¯æ¯”è¾ƒè€—æ—¶çš„ï¼Œè¿™ä¸ªæ¯”è¾ƒæ“ä½œè€—æ—¶å æ•´ä¸ªéå†ç®—æ³•æ—¶é—´çš„å¤§éƒ¨åˆ†ï¼Œé‚£ä¹ˆä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾å°±èƒ½æœ‰æ•ˆå‡å°‘å…ƒç´ æ¯”è¾ƒçš„æ¬¡æ•°</li>
<li>ä¸é€‚åˆæ•°æ®é‡å¤ªå¤§çš„æ•°åˆ—ï¼ŒäºŒåˆ†æŸ¥æ‰¾ä½œç”¨çš„æ•°æ®ç»“æ„æ˜¯é¡ºåºè¡¨ï¼Œä¹Ÿå°±æ˜¯æ•°ç»„ï¼Œæ•°ç»„æ˜¯éœ€è¦è¿ç»­çš„å†…å­˜ç©ºé—´çš„ï¼Œç³»ç»Ÿå¹¶ä¸ä¸€å®šæœ‰è¿™ä¹ˆå¤§çš„è¿ç»­å†…å­˜ç©ºé—´å¯ä»¥ä½¿ç”¨</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹åˆ†è€Œæ²»ä¹‹ã€åŠ¨æ€è§„åˆ’çš„ç†è§£ï¼ŸåŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹åˆ†è€Œæ²»ä¹‹ã€åŠ¨æ€è§„åˆ’çš„ç†è§£ï¼ŸåŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹åˆ†è€Œæ²»ä¹‹ã€åŠ¨æ€è§„åˆ’çš„ç†è§£ï¼ŸåŒºåˆ«ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹åˆ†è€Œæ²»ä¹‹ã€åŠ¨æ€è§„åˆ’çš„ç†è§£ï¼ŸåŒºåˆ«ï¼Ÿ</h3><h4 id="ä¸€ã€åˆ†è€Œæ²»ä¹‹"><a href="#ä¸€ã€åˆ†è€Œæ²»ä¹‹" class="headerlink" title="ä¸€ã€åˆ†è€Œæ²»ä¹‹"></a>ä¸€ã€åˆ†è€Œæ²»ä¹‹</h4><p>åˆ†è€Œæ²»ä¹‹æ˜¯ç®—æ³•è®¾è®¡ä¸­çš„ä¸€ç§æ–¹æ³•ï¼Œå°±æ˜¯æŠŠä¸€ä¸ªå¤æ‚çš„é—®é¢˜åˆ†æˆä¸¤ä¸ªæˆ–æ›´å¤šçš„ç›¸åŒæˆ–ç›¸ä¼¼çš„å­é—®é¢˜ï¼Œç›´åˆ°æœ€åå­é—®é¢˜å¯ä»¥ç®€å•çš„ç›´æ¥æ±‚è§£ï¼ŒåŸé—®é¢˜çš„è§£å³å­é—®é¢˜çš„è§£çš„åˆå¹¶</p>
<p>å…³äºåˆ†è€Œæ²»ä¹‹çš„å®ç°ï¼Œéƒ½ä¼šç»å†ä¸‰ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li>åˆ†è§£ï¼šå°†åŸé—®é¢˜åˆ†è§£ä¸ºè‹¥å¹²ä¸ªè§„æ¨¡è¾ƒå°ï¼Œç›¸å¯¹ç‹¬ç«‹ï¼Œä¸åŸé—®é¢˜å½¢å¼ç›¸åŒçš„å­é—®é¢˜</li>
<li>è§£å†³ï¼šè‹¥å­é—®é¢˜è§„æ¨¡è¾ƒå°ä¸”æ˜“äºè§£å†³æ—¶ï¼Œåˆ™ç›´æ¥è§£ã€‚å¦åˆ™ï¼Œé€’å½’åœ°è§£å†³å„å­é—®é¢˜</li>
<li>åˆå¹¶ï¼šå°†å„å­é—®é¢˜çš„è§£åˆå¹¶ä¸ºåŸé—®é¢˜çš„è§£</li>
</ul>
<p>å®é™…ä¸Šï¼Œå…³äºåˆ†è€Œæ²»ä¹‹çš„æ€æƒ³ï¼Œæˆ‘ä»¬åœ¨å‰é¢å·²ç»ä½¿ç”¨ï¼Œä¾‹å¦‚å½’å¹¶æ’åºçš„å®ç°ï¼ŒåŒæ ·ç»å†äº†å®ç°åˆ†è€Œæ²»ä¹‹çš„ä¸‰ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li>åˆ†è§£ï¼šæŠŠæ•°ç»„ä»ä¸­é—´ä¸€åˆ†ä¸ºäºŒ</li>
<li>è§£å†³ï¼šé€’å½’åœ°å¯¹ä¸¤ä¸ªå­æ•°ç»„è¿›è¡Œå½’å¹¶æ’åº</li>
<li>åˆå¹¶ï¼šå°†ä¸¤ä¸ªå­—æ•°ç»„åˆå¹¶ç§°æœ‰åºæ•°ç»„</li>
</ul>
<p>åŒæ ·å…³äºå¿«é€Ÿæ’åºçš„å®ç°ï¼Œäº¦å¦‚æ­¤ï¼š</p>
<ul>
<li>åˆ†ï¼šé€‰åŸºå‡†ï¼ŒæŒ‰åŸºå‡†æŠŠæ•°ç»„åˆ†æˆä¸¤ä¸ªå­—æ•°ç»„</li>
<li>è§£ï¼šé€’å½’åœ°å¯¹ä¸¤ä¸ªå­—æ•°ç»„è¿›è¡Œå¿«é€Ÿæ’åº</li>
<li>åˆï¼šå¯¹ä¸¤ä¸ªå­—æ•°ç»„è¿›è¡Œåˆå¹¶</li>
</ul>
<p>åŒæ ·äºŒåˆ†æœç´¢ä¹Ÿèƒ½ä½¿ç”¨åˆ†è€Œæ²»ä¹‹çš„æ€æƒ³å»å®ç°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">function binarySearch(arr,l,r,target)&#123;
    if(l&gt; r)&#123;
        return -1;
    &#125;
    let mid = l + Math.floor((r-l)/2)
    if(arr[mid] === target)&#123;
        return mid;
    &#125;else if(arr[mid] &lt; target )&#123;
        return binarySearch(arr,mid + 1,r,target)
    &#125;else&#123;
        return binarySearch(arr,l,mid - 1,target)
    &#125;
&#125;
</code></pre>
<h4 id="äºŒã€åŠ¨æ€è§„åˆ’"><a href="#äºŒã€åŠ¨æ€è§„åˆ’" class="headerlink" title="äºŒã€åŠ¨æ€è§„åˆ’"></a>äºŒã€åŠ¨æ€è§„åˆ’</h4><p>åŠ¨æ€è§„åˆ’ï¼ŒåŒæ ·æ˜¯ç®—æ³•è®¾è®¡ä¸­çš„ä¸€ç§æ–¹æ³•ï¼Œæ˜¯ä¸€ç§åœ¨æ•°å­¦ã€ç®¡ç†ç§‘å­¦ã€è®¡ç®—æœºç§‘å­¦ã€ç»æµå­¦å’Œç”Ÿç‰©ä¿¡æ¯å­¦ä¸­ä½¿ç”¨çš„ï¼Œé€šè¿‡æŠŠåŸé—®é¢˜åˆ†è§£ä¸ºç›¸å¯¹ç®€å•çš„å­é—®é¢˜çš„æ–¹å¼æ±‚è§£å¤æ‚é—®é¢˜çš„æ–¹æ³•</p>
<p>å¸¸å¸¸é€‚ç”¨äºæœ‰é‡å å­é—®é¢˜å’Œæœ€ä¼˜å­ç»“æ„æ€§è´¨çš„é—®é¢˜</p>
<p>ç®€å•æ¥è¯´ï¼ŒåŠ¨æ€è§„åˆ’å…¶å®å°±æ˜¯ï¼Œç»™å®šä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æŠŠå®ƒæ‹†æˆä¸€ä¸ªä¸ªå­é—®é¢˜ï¼Œç›´åˆ°å­é—®é¢˜å¯ä»¥ç›´æ¥è§£å†³</p>
<p>ç„¶åå‘¢ï¼ŒæŠŠå­é—®é¢˜ç­”æ¡ˆä¿å­˜èµ·æ¥ï¼Œä»¥å‡å°‘é‡å¤è®¡ç®—ã€‚å†æ ¹æ®å­é—®é¢˜ç­”æ¡ˆåæ¨ï¼Œå¾—å‡ºåŸé—®é¢˜è§£çš„ä¸€ç§æ–¹æ³•ã€‚</p>
<p>ä¸€èˆ¬è¿™äº›å­é—®é¢˜å¾ˆç›¸ä¼¼ï¼Œå¯ä»¥é€šè¿‡å‡½æ•°å…³ç³»å¼é€’æ¨å‡ºæ¥ï¼Œä¾‹å¦‚æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å…¬å¼ï¼šå½“ n å¤§äº 2çš„æ—¶å€™ï¼ŒF(n) &#x3D; F(n-1) + F(n-2) ï¼Œ</p>
<p>f(10)&#x3D; f(9)+f(8),f(9) &#x3D; f(8) + f(7)â€¦æ˜¯é‡å å­é—®é¢˜ï¼Œå½“n &#x3D; 1ã€2çš„æ—¶å€™ï¼Œå¯¹åº”çš„å€¼ä¸º2ï¼Œè¿™æ—¶å€™å°±é€šè¿‡å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ•°ç»„è®°å½•æ¯ä¸€æ­¥è®¡ç®—çš„ç»“æœï¼Œä»¥æ­¤ç±»æ¨ï¼Œå‡å°‘ä¸å¿…è¦çš„é‡å¤è®¡ç®—</p>
<h5 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h5><p>å¦‚æœä¸€ä¸ªé—®é¢˜ï¼Œå¯ä»¥æŠŠæ‰€æœ‰å¯èƒ½çš„ç­”æ¡ˆç©·ä¸¾å‡ºæ¥ï¼Œå¹¶ä¸”ç©·ä¸¾å‡ºæ¥åï¼Œå‘ç°å­˜åœ¨é‡å å­é—®é¢˜ï¼Œå°±å¯ä»¥è€ƒè™‘ä½¿ç”¨åŠ¨æ€è§„åˆ’</p>
<p>æ¯”å¦‚ä¸€äº›æ±‚æœ€å€¼çš„åœºæ™¯ï¼Œå¦‚æœ€é•¿é€’å¢å­åºåˆ—ã€æœ€å°ç¼–è¾‘è·ç¦»ã€èƒŒåŒ…é—®é¢˜ã€å‡‘é›¶é’±é—®é¢˜ç­‰ç­‰ï¼Œéƒ½æ˜¯åŠ¨æ€è§„åˆ’çš„ç»å…¸åº”ç”¨åœºæ™¯</p>
<p>å…³äºåŠ¨æ€è§„åˆ’é¢˜ç›®è§£å†³çš„æ­¥éª¤ï¼Œä¸€èˆ¬å¦‚ä¸‹ï¼š</p>
<ul>
<li>æè¿°æœ€ä¼˜è§£çš„ç»“æ„</li>
<li>é€’å½’å®šä¹‰æœ€ä¼˜è§£çš„å€¼</li>
<li>æŒ‰è‡ªåº•å‘ä¸Šçš„æ–¹å¼è®¡ç®—æœ€ä¼˜è§£çš„å€¼</li>
<li>ç”±è®¡ç®—å‡ºçš„ç»“æœæ„é€ ä¸€ä¸ªæœ€ä¼˜è§£</li>
</ul>
<h4 id="ä¸‰ã€åŒºåˆ«-2"><a href="#ä¸‰ã€åŒºåˆ«-2" class="headerlink" title="ä¸‰ã€åŒºåˆ«"></a>ä¸‰ã€åŒºåˆ«</h4><p>åŠ¨æ€è§„åˆ’ç®—æ³•ä¸åˆ†æ²»æ³•ç±»ä¼¼ï¼Œå…¶åŸºæœ¬æ€æƒ³ä¹Ÿæ˜¯å°†å¾…æ±‚è§£é—®é¢˜åˆ†è§£æˆè‹¥å¹²ä¸ªå­é—®é¢˜ï¼Œå…ˆæ±‚è§£å­é—®é¢˜ï¼Œç„¶åä»è¿™äº›å­é—®é¢˜çš„è§£å¾—åˆ°åŸé—®é¢˜çš„è§£</p>
<p>ä¸åˆ†æ²»æ³•ä¸åŒçš„æ˜¯ï¼Œé€‚åˆäºç”¨åŠ¨æ€è§„åˆ’æ±‚è§£çš„é—®é¢˜ï¼Œç»åˆ†è§£å¾—åˆ°å­é—®é¢˜å¾€å¾€ä¸æ˜¯äº’ç›¸ç‹¬ç«‹çš„ï¼Œè€Œåˆ†è€Œæ²»ä¹‹çš„å­é—®é¢˜æ˜¯ç›¸äº’ç‹¬ç«‹çš„</p>
<p>è‹¥ç”¨åˆ†æ²»æ³•æ¥è§£è¿™ç±»é—®é¢˜ï¼Œåˆ™åˆ†è§£å¾—åˆ°çš„å­é—®é¢˜æ•°ç›®å¤ªå¤šï¼Œæœ‰äº›å­é—®é¢˜è¢«é‡å¤è®¡ç®—äº†å¾ˆå¤šæ¬¡</p>
<p>å¦‚æœæˆ‘ä»¬èƒ½å¤Ÿä¿å­˜å·²è§£å†³çš„å­é—®é¢˜çš„ç­”æ¡ˆï¼Œè€Œåœ¨éœ€è¦æ—¶å†æ‰¾å‡ºå·²æ±‚å¾—çš„ç­”æ¡ˆï¼Œè¿™æ ·å°±å¯ä»¥é¿å…å¤§é‡çš„é‡å¤è®¡ç®—ï¼ŒèŠ‚çœæ—¶é—´</p>
<p>ç»¼ä¸Šï¼Œå¯å¾—ï¼š</p>
<ul>
<li>åŠ¨æ€è§„åˆ’ï¼šæœ‰æœ€ä¼˜å­ç»“æ„å’Œé‡å å­é—®é¢˜</li>
<li>åˆ†è€Œæ²»ä¹‹ï¼šå„å­é—®é¢˜ç‹¬ç«‹</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹è´ªå¿ƒç®—æ³•ã€å›æº¯ç®—æ³•çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹è´ªå¿ƒç®—æ³•ã€å›æº¯ç®—æ³•çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹è´ªå¿ƒç®—æ³•ã€å›æº¯ç®—æ³•çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹è´ªå¿ƒç®—æ³•ã€å›æº¯ç®—æ³•çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€è´ªå¿ƒç®—æ³•"><a href="#ä¸€ã€è´ªå¿ƒç®—æ³•" class="headerlink" title="ä¸€ã€è´ªå¿ƒç®—æ³•"></a>ä¸€ã€è´ªå¿ƒç®—æ³•</h4><p>è´ªå¿ƒç®—æ³•ï¼Œåˆç§°è´ªå©ªç®—æ³•ï¼Œæ˜¯ç®—æ³•è®¾è®¡ä¸­çš„ä¸€ç§æ€æƒ³</p>
<p>å…¶æœŸå¾…æ¯ä¸€ä¸ªé˜¶æ®µéƒ½æ˜¯å±€éƒ¨æœ€ä¼˜çš„é€‰æ‹©ï¼Œä»è€Œè¾¾åˆ°å…¨å±€æœ€ä¼˜ï¼Œä½†æ˜¯ç»“æœå¹¶ä¸ä¸€å®šæ˜¯æœ€ä¼˜çš„</p>
<p>ä¸¾ä¸ªé›¶é’±å…‘æ¢çš„ä¾‹å­ï¼Œå¦‚æœä½ æœ‰1å…ƒã€2å…ƒã€5å…ƒçš„é’±å¸æ•°å¼ ï¼Œç”¨äºå…‘æ¢ä¸€å®šçš„é‡‘é¢ï¼Œä½†æ˜¯è¦æ±‚å…‘æ¢çš„é’±å¸å¼ æ•°æœ€å°‘</p>
<p>å¦‚æœç°åœ¨ä½ è¦å…‘æ¢11å…ƒï¼ŒæŒ‰ç…§è´ªå¿ƒç®—æ³•çš„æ€æƒ³ï¼Œå…ˆé€‰æ‹©é¢é¢æœ€å¤§çš„5å…ƒé’±å¸è¿›è¡Œå…‘æ¢ï¼Œé‚£ä¹ˆå°±å¾—åˆ°11 &#x3D; 5 + 5 + 1 çš„é€‰æ‹©ï¼Œè¿™ç§æƒ…å†µæ˜¯æœ€ä¼˜çš„</p>
<p>ä½†æ˜¯å¦‚æœä½ æ‰‹ä¸Šé’±å¸çš„é¢é¢ä¸º1ã€3ã€4ï¼Œæƒ³è¦å…‘æ¢6å…ƒï¼ŒæŒ‰ç…§è´ªå¿ƒç®—æ³•çš„æ€è·¯ï¼Œæˆ‘ä»¬ä¼š 6 &#x3D; 4 + 1 + 1è¿™æ ·é€‰æ‹©ï¼Œè¿™ç§æƒ…å†µç»“æœå°±ä¸æ˜¯æœ€ä¼˜çš„é€‰æ‹©</p>
<p>ä»ä¸Šé¢ä¾‹å­å¯ä»¥çœ‹åˆ°ï¼Œè´ªå¿ƒç®—æ³•å­˜åœ¨ä¸€äº›å¼Šç«¯ï¼Œä½¿ç”¨åˆ°è´ªå¿ƒç®—æ³•çš„åœºæ™¯ï¼Œéƒ½ä¼šå­˜åœ¨ä¸€ä¸ªç‰¹æ€§ï¼š</p>
<p>ä¸€æ—¦ä¸€ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡è´ªå¿ƒæ³•æ¥è§£å†³ï¼Œé‚£ä¹ˆè´ªå¿ƒæ³•ä¸€èˆ¬æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„æœ€å¥½åŠæ³•</p>
<p>è‡³äºæ˜¯å¦é€‰æ‹©è´ªå¿ƒç®—æ³•ï¼Œä¸»è¦çœ‹æ˜¯å¦æœ‰å¦‚ä¸‹ä¸¤å¤§ç‰¹æ€§ï¼š</p>
<ul>
<li>è´ªå¿ƒé€‰æ‹©ï¼šå½“æŸä¸€ä¸ªé—®é¢˜çš„æ•´ä½“æœ€ä¼˜è§£å¯é€šè¿‡ä¸€ç³»åˆ—å±€éƒ¨çš„æœ€ä¼˜è§£çš„é€‰æ‹©è¾¾åˆ°ï¼Œå¹¶ä¸”æ¯æ¬¡åšå‡ºçš„é€‰æ‹©å¯ä»¥ä¾èµ–ä»¥å‰åšå‡ºçš„é€‰æ‹©ï¼Œä½†ä¸éœ€è¦ä¾èµ–åé¢éœ€è¦åšå‡ºçš„é€‰æ‹©</li>
<li>æœ€ä¼˜å­ç»“æ„ï¼šå¦‚æœä¸€ä¸ªé—®é¢˜çš„æœ€ä¼˜è§£åŒ…å«å…¶å­é—®é¢˜çš„æœ€ä¼˜è§£ï¼Œåˆ™æ­¤é—®é¢˜å…·å¤‡æœ€ä¼˜å­ç»“æ„çš„æ€§è´¨ã€‚é—®é¢˜çš„æœ€ä¼˜å­ç»“æ„æ€§è´¨æ˜¯è¯¥é—®é¢˜æ˜¯å¦å¯ä»¥ç”¨è´ªå¿ƒç®—æ³•æ±‚è§£çš„å…³é”®æ‰€åœ¨</li>
</ul>
<h4 id="äºŒã€å›æº¯ç®—æ³•"><a href="#äºŒã€å›æº¯ç®—æ³•" class="headerlink" title="äºŒã€å›æº¯ç®—æ³•"></a>äºŒã€å›æº¯ç®—æ³•</h4><p>å›æº¯ç®—æ³•ï¼Œä¹Ÿæ˜¯ç®—æ³•è®¾è®¡ä¸­çš„ä¸€ç§æ€æƒ³ï¼Œæ˜¯ä¸€ç§æ¸è¿›å¼å¯»æ‰¾å¹¶æ„å»ºé—®é¢˜è§£å†³æ–¹å¼çš„ç­–ç•¥</p>
<p>å›æº¯ç®—æ³•ä¼šå…ˆä»ä¸€ä¸ªå¯èƒ½çš„å·¥ä½œå¼€å§‹è§£å†³é—®é¢˜ï¼Œå¦‚æœä¸è¡Œï¼Œå°±å›æº¯å¹¶é€‰æ‹©å¦ä¸€ä¸ªåŠ¨ä½œï¼ŒçŸ¥é“å°†é—®é¢˜è§£å†³</p>
<p>ä½¿ç”¨å›æº¯ç®—æ³•çš„é—®é¢˜ï¼Œæœ‰å¦‚ä¸‹ç‰¹æ€§ï¼š</p>
<ul>
<li>æœ‰å¾ˆå¤šè·¯ï¼Œä¾‹å¦‚ä¸€ä¸ªçŸ©é˜µçš„æ–¹å‘æˆ–è€…æ ‘çš„è·¯å¾„</li>
<li>åœ¨è¿™äº›çš„è·¯é‡Œé¢ï¼Œæœ‰æ­»è·¯ä¹Ÿæœ‰ç”Ÿè·¯ï¼Œæ€è·¯å³ä¸ç¬¦åˆé¢˜ç›®è¦æ±‚çš„è·¯ï¼Œç”Ÿè·¯åˆ™ç¬¦åˆ</li>
<li>é€šå¸¸ä½¿ç”¨é€’å½’æ¥æ¨¡æ‹Ÿæ‰€æœ‰çš„è·¯</li>
</ul>
<p>å¸¸è§çš„ä¼ªä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">result = []
function backtrack(è·¯å¾„, é€‰æ‹©åˆ—è¡¨):
  if æ»¡è¶³ç»“æŸæ¡ä»¶:
    result.add(è·¯å¾„)
  return

  for é€‰æ‹© of é€‰æ‹©åˆ—è¡¨:
    åšé€‰æ‹©
    backtrack(è·¯å¾„, é€‰æ‹©åˆ—è¡¨)
    æ’¤é”€é€‰æ‹©
</code></pre>
<p>é‡ç‚¹è§£å†³ä¸‰ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>è·¯å¾„ï¼šä¹Ÿå°±æ˜¯å·²ç»åšå‡ºçš„é€‰æ‹©</li>
<li>é€‰æ‹©åˆ—è¡¨</li>
<li>ç»“æŸæ¡ä»¶</li>
</ul>
<p>ä¾‹å¦‚ç»å…¸ä½¿ç”¨å›æº¯ç®—æ³•ä¸ºè§£å†³å…¨æ’åˆ—çš„é—®é¢˜ï¼Œå¦‚ä¸‹ï¼š</p>
<p>ä¸€ä¸ªä¸å«é‡å¤æ•°å­—çš„æ•°ç»„ <code>nums</code> ï¼Œæˆ‘ä»¬è¦è¿”å›å…¶æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ—ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜çš„æ€è·¯æ˜¯ï¼š</p>
<ul>
<li>ç”¨é€’å½’æ¨¡æ‹Ÿæ‰€æœ‰çš„æƒ…å†µ</li>
<li>é‡åˆ°åŒ…å«é‡å¤å…ƒç´ çš„æƒ…å†µåˆ™å›æº¯</li>
<li>æ”¶é›†åˆ°æ‰€æœ‰åˆ°è¾¾é€’å½’ç»ˆç‚¹çš„æƒ…å†µï¼Œå¹¶è¿”å›ã€</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f32613033306630302d326538652d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>ç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">var permute = function(nums) &#123;
    const res = [], path = [];
    backtracking(nums, nums.length, []);
    return res;
    
    function backtracking(n, k, used) &#123;
        if(path.length === k) &#123;
            res.push(Array.from(path));
            return;
        &#125;
        for (let i = 0; i &lt; k; i++ ) &#123;
            if(used[i]) continue;
            path.push(n[i]);
            used[i] = true; // åŒæ”¯
            backtracking(n, k, used);
            path.pop();
            used[i] = false;
        &#125;
    &#125;
&#125;;
</code></pre>
<h4 id="ä¸‰ã€æ€»ç»“-3"><a href="#ä¸‰ã€æ€»ç»“-3" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h4><p>å‰é¢ä¹Ÿåˆæ­¥äº†è§£åˆ°åˆ†è€Œæ²»ä¹‹ã€åŠ¨æ€è§„åˆ’ï¼Œç°åœ¨å†äº†è§£åˆ°è´ªå¿ƒç®—æ³•ã€å›æº¯ç®—æ³•</p>
<p>å…¶ä¸­å…³äºåˆ†è€Œæ²»ä¹‹ã€åŠ¨æ€è§„åˆ’ã€è´ªå¿ƒç­–ç•¥ä¸‰è€…çš„æ±‚è§£æ€è·¯å¦‚ä¸‹ï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f35303462353233302d326538652d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>å…¶ä¸­ä¸‰è€…å¯¹åº”çš„ç»å…¸é—®é¢˜å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f36326364633931302d326538652d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<h3 id="å‚è€ƒæ–‡çŒ®ï¼š"><a href="#å‚è€ƒæ–‡çŒ®ï¼š" class="headerlink" title="å‚è€ƒæ–‡çŒ®ï¼š"></a>å‚è€ƒæ–‡çŒ®ï¼š</h3><p><a target="_blank" rel="noopener" href="https://github.com/febobo/web-interview">https://github.com/febobo/web-interview</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag">é¢è¯•</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-å‰ç«¯å¼‚å¸¸æ•è·é—®é¢˜"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/11/05/%E5%89%8D%E7%AB%AF%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7%E9%97%AE%E9%A2%98/"
    >å‰ç«¯å¼‚å¸¸æ•è·é—®é¢˜</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/11/05/%E5%89%8D%E7%AB%AF%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7%E9%97%AE%E9%A2%98/" class="article-date">
  <time datetime="2022-11-05T01:33:35.000Z" itemprop="datePublished">2022-11-05</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E9%9D%A2%E8%AF%95/">æŠ€æœ¯é¢è¯•</a> / <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E9%9D%A2%E8%AF%95/%E5%89%8D%E7%AB%AF%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7/">å‰ç«¯å¼‚å¸¸æ•è·</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆå¼‚å¸¸æ•è·ï¼‰"><a href="#å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆå¼‚å¸¸æ•è·ï¼‰" class="headerlink" title="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆå¼‚å¸¸æ•è·ï¼‰"></a>å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆå¼‚å¸¸æ•è·ï¼‰</h1><p>å‰ç«¯é¢è¯•é¢˜ç±»ç›®åˆ†ç±»</p>
<ul>
<li>HTML5 + CSS3</li>
<li>JavaScript</li>
<li>Vue + Vue3</li>
<li>React</li>
<li>Webpack</li>
<li>æœåŠ¡ç«¯</li>
</ul>
<hr>
<p>è€ƒç‚¹é¢‘ç‡ ï¼šâ™¥ï¸ ã€ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸</p>
<h3 id="å¼‚å¸¸æ•è·"><a href="#å¼‚å¸¸æ•è·" class="headerlink" title="å¼‚å¸¸æ•è·"></a>å¼‚å¸¸æ•è·</h3><h4 id="ä»€ä¹ˆæ˜¯å¼‚å¸¸æ•°æ®ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å¼‚å¸¸æ•°æ®ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å¼‚å¸¸æ•°æ®ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å¼‚å¸¸æ•°æ®ï¼Ÿ</h4><p>å¼‚å¸¸æ•°æ®ï¼Œæ˜¯æŒ‡å‰ç«¯åœ¨æ“ä½œé¡µé¢çš„è¿‡ç¨‹ä¸­ï¼Œè§¦å‘çš„æ‰§è¡Œå¼‚å¸¸æˆ–åŠ è½½å¼‚å¸¸ï¼Œæ­¤æ—¶æµè§ˆå™¨ä¼šæŠ›å‡ºæ¥æŠ¥é”™ä¿¡æ¯ã€‚</p>
<p>æ¯”å¦‚è¯´ä½ çš„å‰ç«¯ä»£ç ç”¨äº†ä¸ªæœªå£°æ˜çš„å˜é‡ï¼Œæ­¤æ—¶æ§åˆ¶å°ä¼šæ‰“å°å‡ºçº¢è‰²é”™è¯¯ï¼Œå‘Šè¯‰ä½ æŠ¥é”™åŸå› ã€‚æˆ–è€…æ˜¯æ¥å£è¯·æ±‚å‡ºé”™äº†ï¼Œåœ¨ç½‘ç»œé¢æ¿å†…ä¹Ÿèƒ½æŸ¥åˆ°å¼‚å¸¸æƒ…å†µï¼Œæ˜¯è¯·æ±‚å‘é€çš„å¼‚å¸¸ï¼Œè¿˜æ˜¯æ¥å£å“åº”çš„å¼‚å¸¸ã€‚</p>
<p>åœ¨æˆ‘ä»¬å®é™…çš„å¼€å‘åœºæ™¯ä¸­ï¼Œå‰ç«¯æ•è·çš„å¼‚å¸¸ä¸»è¦æ˜¯åˆ†ä¸¤ä¸ªå¤§ç±»ï¼Œæ¥å£å¼‚å¸¸ å’Œ å‰ç«¯å¼‚å¸¸ï¼Œæˆ‘ä»¬åˆ†åˆ«çœ‹ä¸‹è¿™ä¸¤å¤§ç±»å¼‚å¸¸æ€ä¹ˆæ•è·ã€‚</p>
<h4 id="æ¥å£å¼‚å¸¸"><a href="#æ¥å£å¼‚å¸¸" class="headerlink" title="æ¥å£å¼‚å¸¸"></a>æ¥å£å¼‚å¸¸</h4><p>æ¥å£å¼‚å¸¸ä¸€å®šæ˜¯åœ¨è¯·æ±‚çš„æ—¶å€™è§¦å‘ã€‚å‰ç«¯ç›®å‰å¤§éƒ¨åˆ†çš„è¯·æ±‚æ˜¯ç”¨ axios å‘èµ·çš„ï¼Œæ‰€ä»¥åªè¦è·å– axios å¯èƒ½å‘ç”Ÿçš„å¼‚å¸¸å³å¯ã€‚</p>
<p>å¦‚æœä½ ç”¨ Promise çš„å†™æ³•ï¼Œåˆ™ç”¨ .catch æ•è·ï¼š</p>
<pre><code class="javascript">axios
  .post(&#39;/test&#39;)
  .then((res) =&gt; &#123;
    console.log(res);
  &#125;)
  .catch((err) =&gt; &#123;
    // err å°±æ˜¯æ•è·åˆ°çš„é”™è¯¯å¯¹è±¡
    handleError(err);
  &#125;);
</code></pre>
<p>å¦‚æœä½ ç”¨ async&#x2F;await çš„å†™æ³•ï¼Œåˆ™ç”¨ try..catch.. æ•è·ï¼š</p>
<pre><code class="javascript">async () =&gt; &#123;
  try &#123;
    let res = await axios.post(&#39;/test&#39;);
    console.log(res);
  &#125; catch (err) &#123;
    // err å°±æ˜¯æ•è·åˆ°çš„é”™è¯¯å¯¹è±¡
    handleError(err);
  &#125;
&#125;;
</code></pre>
<p>å½“æ•è·åˆ°å¼‚å¸¸ä¹‹åï¼Œç»Ÿä¸€äº¤ç»™ handleError å‡½æ•°å¤„ç†ï¼Œè¿™ä¸ªå‡½æ•°ä¼šå°†æ¥æ”¶åˆ°çš„å¼‚å¸¸è¿›è¡Œå¤„ç†ï¼Œå¹¶è°ƒç”¨ ä¸ŠæŠ¥æ¥å£ å°†å¼‚å¸¸æ•°æ®ä¼ åˆ°æœåŠ¡å™¨ï¼Œä»è€Œå®Œæˆé‡‡é›†ã€‚</p>
<p>ä¸Šé¢æˆ‘ä»¬å†™çš„å¼‚å¸¸æ•è·ï¼Œé€»è¾‘ä¸Šæ˜¯æ²¡é—®é¢˜çš„ï¼Œå®æ“èµ·æ¥å°±ä¼šå‘ç°ç¬¬ä¸€é“åï¼šé¡µé¢è¿™ä¹ˆå¤šï¼Œéš¾é“æ¯ä¸ªè¯·æ±‚éƒ½è¦åŒ…ä¸€å±‚ catch å—ï¼Ÿ</p>
<p>æ˜¯å•Šï¼Œå¦‚æœæˆ‘ä»¬æ˜¯æ–°å¼€å‘ä¸€ä¸ªé¡¹ç›®ï¼Œåœ¨å¼€å§‹çš„æ—¶å€™å°±è§„å®šæ¯ä¸ªè¯·æ±‚è¦åŒ…ä¸€å±‚ catch ä¹Ÿæ— å¯åšéï¼Œä½†æ˜¯å¦‚æœæ˜¯åœ¨ä¸€ä¸ªå·²æœ‰çš„è§„æ¨¡è¿˜ä¸å°çš„é¡¹ç›®ä¸­æ¥å…¥å‰ç«¯ç›‘æ§ï¼Œè¿™æ—¶å€™åœ¨æ¯ä¸ªé¡µé¢æˆ–æ¯ä¸ªè¯·æ±‚ catch æ˜¾ç„¶æ˜¯ä¸ç°å®çš„ã€‚</p>
<p>æ‰€ä»¥ï¼Œä¸ºäº†æœ€å¤§ç¨‹åº¦åœ°é™ä½æ¥å…¥æˆæœ¬ï¼Œå‡å°‘ä¾µå…¥æ€§ï¼Œæˆ‘ä»¬æ˜¯ç”¨ç¬¬äºŒç§æ–¹æ¡ˆï¼šåœ¨ axios æ‹¦æˆªå™¨ä¸­æ•è·å¼‚å¸¸ã€‚</p>
<p>å‰ç«¯é¡¹ç›®ï¼Œä¸ºäº†ç»Ÿä¸€å¤„ç†è¯·æ±‚ï¼Œæ¯”å¦‚ 401 çš„è·³è½¬ï¼Œæˆ–è€…å…¨å±€é”™è¯¯æç¤ºï¼Œéƒ½ä¼šåœ¨å…¨å±€å†™ä¸€ä¸ª axios å®ä¾‹ï¼Œä¸ºè¿™ä¸ªå®ä¾‹æ·»åŠ æ‹¦æˆªå™¨ï¼Œç„¶ååœ¨å…¶ä»–é¡µé¢ä¸­ç›´æ¥å¯¼å…¥è¿™ä¸ªå®ä¾‹ä½¿ç”¨ï¼Œæ¯”å¦‚ï¼š</p>
<pre><code class="javascript">// å…¨å±€è¯·æ±‚ï¼šsrc/request/axios.js
const instance = axios.create(&#123;
  baseURL: &#39;https://api.test.com&#39;
  timeout: 15000,
  headers: &#123;
    &#39;Content-Type&#39;: &#39;application/json&#39;,
  &#125;,
&#125;)
export default instance1
</code></pre>
<p>ç„¶ååœ¨å…·ä½“çš„é¡µé¢ä¸­è¿™æ ·å‘èµ·è¯·æ±‚ï¼š</p>
<pre><code class="javascript">// a é¡µé¢ï¼šsrc/page/a.jsx
import http from &#39;@/src/request/axios.js&#39;;
async () =&gt; &#123;
  let res = await http.post(&#39;/test&#39;);
  console.log(res);
&#125;;
</code></pre>
<p>è¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬å‘ç°æ¯ä¸ªé¡µé¢çš„è¯·æ±‚éƒ½ä¼šèµ°å…¨å±€ axios å®ä¾‹ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦åœ¨å…¨å±€è¯·æ±‚çš„ä½ç½®æ•è·å¼‚å¸¸å³å¯ï¼Œå°±ä¸éœ€è¦åœ¨æ¯ä¸ªé¡µé¢æ•è·äº†ï¼Œè¿™æ ·æ¥å…¥æˆæœ¬ä¼šå¤§å¤§é™ä½ã€‚</p>
<p>æŒ‰ç…§è¿™ä¸ªæ–¹æ¡ˆï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åœ¨ src&#x2F;request&#x2F;axios.js è¿™ä¸ªæ–‡ä»¶ä¸­åŠ¨æ‰‹å®æ–½ã€‚</p>
<h4 id="æ‹¦æˆªå™¨ä¸­æ•è·å¼‚å¸¸"><a href="#æ‹¦æˆªå™¨ä¸­æ•è·å¼‚å¸¸" class="headerlink" title="æ‹¦æˆªå™¨ä¸­æ•è·å¼‚å¸¸"></a>æ‹¦æˆªå™¨ä¸­æ•è·å¼‚å¸¸</h4><p>é¦–å…ˆæˆ‘ä»¬ä¸º axios æ·»åŠ å“åº”æ‹¦æˆªå™¨ï¼š</p>
<pre><code class="javascript">// å“åº”æ‹¦æˆªå™¨
instance.interceptors.response.use(
  (response) =&gt; &#123;
    return response.data;
  &#125;,
  (error) =&gt; &#123;
    // å‘ç”Ÿå¼‚å¸¸ä¼šèµ°åˆ°è¿™é‡Œ
    if (error.response) &#123;
      let response = error.response;
      if (response.status &gt;= 400) &#123;
        handleError(response);
      &#125;
    &#125; else &#123;
      handleError(null);
    &#125;
    return Promise.reject(error);
  &#125;,
);
</code></pre>
<p>å“åº”æ‹¦æˆªå™¨çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯åœ¨å‘ç”Ÿé”™è¯¯æ—¶æ‰§è¡Œçš„å‡½æ•°ï¼Œå‚æ•°å°±æ˜¯å¼‚å¸¸ã€‚æˆ‘ä»¬é¦–å…ˆè¦åˆ¤æ–­æ˜¯å¦å­˜åœ¨ error.responseï¼Œå­˜åœ¨å°±è¯´æ˜æ¥å£æœ‰å“åº”ï¼Œä¹Ÿå°±æ˜¯æ¥å£é€šäº†ï¼Œä½†æ˜¯è¿”å›é”™è¯¯ï¼›ä¸å­˜åœ¨åˆ™è¯´æ˜æ¥å£æ²¡é€šï¼Œè¯·æ±‚ä¸€ç›´æŒ‚èµ·ï¼Œå¤šæ•°æ˜¯æ¥å£å´©æºƒäº†ã€‚</p>
<p>å¦‚æœæœ‰å“åº”ï¼Œé¦–å…ˆè·å–çŠ¶æ€ç ï¼Œæ ¹æ®çŠ¶æ€ç æ¥åˆ¤æ–­ä»€ä¹ˆæ—¶å€™éœ€è¦æ”¶é›†å¼‚å¸¸ã€‚ä¸Šé¢çš„åˆ¤æ–­æ–¹å¼ç®€å•ç²—æš´ï¼Œåªè¦çŠ¶æ€ç å¤§äº 400 å°±è§†ä¸ºä¸€ä¸ªå¼‚å¸¸ï¼Œæ‹¿åˆ°å“åº”æ•°æ®ï¼Œå¹¶æ‰§è¡Œä¸ŠæŠ¥é€»è¾‘ã€‚</p>
<p>å¦‚æœæ²¡æœ‰å“åº”ï¼Œå¯ä»¥çœ‹ä½œæ˜¯æ¥å£è¶…æ—¶å¼‚å¸¸ï¼Œè°ƒç”¨å¼‚å¸¸å¤„ç†å‡½æ•°æ—¶ä¼ ä¸€ä¸ª null å³å¯ã€‚</p>
<h3 id="å‰ç«¯å¼‚å¸¸"><a href="#å‰ç«¯å¼‚å¸¸" class="headerlink" title="å‰ç«¯å¼‚å¸¸"></a>å‰ç«¯å¼‚å¸¸</h3><p>ä¸Šé¢æˆ‘ä»¬ä»‹ç»äº†åœ¨ axios æ‹¦æˆªå™¨ä¸­å¦‚ä½•æ•è·æ¥å£å¼‚å¸¸ï¼Œè¿™éƒ¨åˆ†æˆ‘ä»¬å†ä»‹ç»å¦‚ä½•æ•è·å‰ç«¯å¼‚å¸¸ã€‚</p>
<p>å‰ç«¯ä»£ç æ•è·å¼‚å¸¸ï¼Œæœ€å¸¸ç”¨çš„æ–¹å¼å°±æ˜¯ç”¨ try..catch.. äº†ï¼Œä»»æ„åŒæ­¥ä»£ç å—éƒ½å¯ä»¥æ”¾åˆ° try å—ä¸­ï¼Œåªè¦å‘ç”Ÿå¼‚å¸¸å°±ä¼šæ‰§è¡Œ catchï¼š</p>
<pre><code class="javascript">try &#123;
  // ä»»æ„åŒæ­¥ä»£ç 
&#125; catch (err) &#123;
  console.log(err);
&#125;
</code></pre>
<p>ä¸Šé¢è¯´â€œä»»æ„åŒæ­¥ä»£ç â€è€Œä¸æ˜¯â€œä»»æ„ä»£ç â€ï¼Œä¸»è¦æ˜¯æ™®é€šçš„ Promise å†™æ³• try..catch.. æ˜¯æ•è·ä¸åˆ°çš„ï¼Œåªèƒ½ç”¨ .catch() æ•è·ï¼Œå¦‚ï¼š</p>
<pre><code class="javascript">try &#123;
  Promise.reject(new Error(&#39;å‡ºé”™äº†&#39;)).catch((err) =&gt; console.log(&#39;1ï¼š&#39;, err));
&#125; catch (err) &#123;
  console.log(&#39;2ï¼š&#39;, err);
&#125;
</code></pre>
<p>æŠŠè¿™æ®µä»£ç ä¸¢è¿›æµè§ˆå™¨ï¼Œæ‰“å°ç»“æœæ˜¯ï¼š</p>
<pre><code class="javascript">1ï¼š Error: å‡ºé”™äº†1.
</code></pre>
<p>å¾ˆæ˜æ˜¾åªæ˜¯ .catch æ•è·åˆ°äº†å¼‚å¸¸ã€‚ä¸è¿‡ä¸ä¸Šé¢æ¥å£å¼‚å¸¸çš„é€»è¾‘ä¸€æ ·ï¼Œè¿™ç§æ–¹å¼å¤„ç†å½“å‰é¡µé¢å¼‚å¸¸æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†ä»æ•´ä¸ªåº”ç”¨æ¥çœ‹ï¼Œè¿™æ ·æ•è·å¼‚å¸¸ä¾µå…¥æ€§å¼ºï¼Œæ¥å…¥æˆæœ¬é«˜ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æ€è·¯ä¾ç„¶æ˜¯å…¨å±€æ•è·ã€‚</p>
<p>å…¨å±€æ•è· js çš„å¼‚å¸¸ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œç”¨ window.addEventLinstener(â€˜errorâ€™) å³å¯ï¼š</p>
<pre><code class="javascript">// js é”™è¯¯æ•è·
window.addEventListener(&#39;error&#39;, (error) =&gt; &#123;
  // error å°±æ˜¯jsçš„å¼‚å¸¸
&#125;);
</code></pre>
<h4 id="ä¸ºå•¥ä¸ç”¨-window-onerror-ï¼Ÿ"><a href="#ä¸ºå•¥ä¸ç”¨-window-onerror-ï¼Ÿ" class="headerlink" title="ä¸ºå•¥ä¸ç”¨ window.onerror ï¼Ÿ"></a>ä¸ºå•¥ä¸ç”¨ window.onerror ï¼Ÿ</h4><p>è¿™é‡Œå¾ˆå¤šå°ä¼™ä¼´æœ‰ç–‘é—®ï¼Œä¸ºä»€ä¹ˆä¸ç”¨ window.onerror å…¨å±€ç›‘å¬å‘¢ï¼Ÿwindow.addEventLinstener(â€˜errorâ€™) å’Œ window.onerror æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p>
<p>é¦–å…ˆè¿™ä¸¤ä¸ªå‡½æ•°åŠŸèƒ½åŸºæœ¬ä¸€è‡´ï¼Œéƒ½å¯ä»¥å…¨å±€æ•è· js å¼‚å¸¸ã€‚ä½†æ˜¯æœ‰ä¸€ç±»å¼‚å¸¸å«åš èµ„æºåŠ è½½å¼‚å¸¸ï¼Œå°±æ˜¯åœ¨ä»£ç ä¸­å¼•ç”¨äº†ä¸å­˜åœ¨çš„å›¾ç‰‡ï¼Œjsï¼Œcss ç­‰é™æ€èµ„æºå¯¼è‡´çš„å¼‚å¸¸ï¼Œæ¯”å¦‚:</p>
<pre><code class="javascript">const loadCss = ()=&gt; &#123;
  let link = document.createElement(&#39;link&#39;)
  link.type = &#39;text/css&#39;
  link.rel = &#39;stylesheet&#39;
  link.href = &#39;https://baidu.com/15.css&#39;
  document.getElementsByTagName(&#39;head&#39;)[10].append(link)
&#125;
render() &#123;
  return &lt;div&gt;
    &lt;img src=&#39;./bbb.png&#39;/&gt;
    &lt;button onClick=&#123;loadCss&#125;&gt;åŠ è½½æ ·å¼&lt;button/&gt;
  &lt;/div&gt;
&#125;
</code></pre>
<p>ä¸Šè¿°ä»£ç ä¸­çš„ baidu.com&#x2F;15.css å’Œ bbb.png æ˜¯ä¸å­˜åœ¨çš„ï¼ŒJS æ‰§è¡Œåˆ°è¿™é‡Œè‚¯å®šä¼šæŠ¥ä¸€ä¸ªèµ„æºæ‰¾ä¸åˆ°çš„é”™è¯¯ã€‚ä½†æ˜¯é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸Šé¢ä¸¤ç§ window å¯¹è±¡ä¸Šçš„å…¨å±€ç›‘å¬å‡½æ•°éƒ½ç›‘å¬ä¸åˆ°è¿™ç±»å¼‚å¸¸ã€‚</p>
<p>å› ä¸ºèµ„æºåŠ è½½çš„å¼‚å¸¸åªä¼šåœ¨å½“å‰å…ƒç´ è§¦å‘ï¼Œå¼‚å¸¸ä¸ä¼šå†’æ³¡åˆ° windowï¼Œå› æ­¤ç›‘å¬ window ä¸Šçš„å¼‚å¸¸æ˜¯æ•æ‰ä¸åˆ°çš„ã€‚é‚£æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>å¦‚æœä½ ç†Ÿæ‚‰ DOM äº‹ä»¶ä½ å°±ä¼šæ˜ç™½ï¼Œæ—¢ç„¶å†’æ³¡é˜¶æ®µç›‘å¬ä¸åˆ°ï¼Œé‚£ä¹ˆåœ¨æ•è·é˜¶æ®µä¸€å®šèƒ½ç›‘å¬åˆ°ã€‚</p>
<p>æ–¹æ³•å°±æ˜¯ç»™ window.addEventListene å‡½æ•°æŒ‡å®šç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œå¾ˆç®€å•å°±æ˜¯ trueï¼Œè¡¨ç¤ºè¯¥ç›‘å¬å‡½æ•°ä¼šåœ¨æ•è·é˜¶æ®µæ‰§è¡Œï¼Œè¿™æ ·å°±èƒ½ç›‘å¬åˆ°èµ„æºåŠ è½½å¼‚å¸¸äº†ã€‚</p>
<pre><code class="javascript">// æ•è·é˜¶æ®µå…¨å±€ç›‘å¬
window.addEventListene(
  &#39;error&#39;,
  (error) =&gt; &#123;
    if (error.target != window) &#123;
      console.log(error.target.tagName, error.target.src);
    &#125;
    handleError(error);
  &#125;,
  true,
);
</code></pre>
<p>ä¸Šè¿°æ–¹å¼å¯ä»¥å¾ˆè½»æ¾çš„ç›‘å¬åˆ°å›¾ç‰‡åŠ è½½å¼‚å¸¸ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ›´æ¨è window.addEventListene çš„åŸå› ã€‚ä¸è¿‡è¦è®°å¾—ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°è®¾ä¸º trueï¼Œç›‘å¬äº‹ä»¶æ•è·ï¼Œå°±å¯ä»¥å…¨å±€æ•è·åˆ° JS å¼‚å¸¸å’Œèµ„æºåŠ è½½å¼‚å¸¸ã€‚</p>
<p>éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼Œwindow.addEventListene åŒæ ·ä¸èƒ½æ•è· Promise å¼‚å¸¸ã€‚ä¸ç®¡æ˜¯ Promise.then() å†™æ³•è¿˜æ˜¯ async&#x2F;await å†™æ³•ï¼Œå‘ç”Ÿå¼‚å¸¸æ—¶éƒ½ä¸èƒ½æ•è·ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å…¨å±€ç›‘å¬ä¸€ä¸ª unhandledrejection å‡½æ•°æ¥æ•è·æœªå¤„ç†çš„ Promise å¼‚å¸¸ã€‚</p>
<pre><code class="javascript">// promise é”™è¯¯æ•è·
window.addEventListener(&#39;unhandledrejection&#39;, (error) =&gt; &#123;
  // æ‰“å°å¼‚å¸¸åŸå› 
  console.log(error.reason);
  handleError(error);
  // é˜»æ­¢æ§åˆ¶å°æ‰“å°
  error.preventDefault();
&#125;);
</code></pre>
<p>unhandledrejection äº‹ä»¶ä¼šåœ¨ Promise å‘ç”Ÿå¼‚å¸¸å¹¶ä¸”æ²¡æœ‰æŒ‡å®š catch çš„æ—¶å€™è§¦å‘ï¼Œç›¸å½“äºä¸€ä¸ªå…¨å±€çš„ Promise å¼‚å¸¸å…œåº•æ–¹æ¡ˆã€‚è¿™ä¸ªå‡½æ•°ä¼šæ•æ‰åˆ°è¿è¡Œæ—¶æ„å¤–å‘ç”Ÿçš„ Promise å¼‚å¸¸ï¼Œè¿™å¯¹æˆ‘ä»¬æ’é”™éå¸¸æœ‰ç”¨ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒPromise å‘ç”Ÿå¼‚å¸¸ä¸”æœªè¢« catch æ—¶ï¼Œä¼šåœ¨æ§åˆ¶å°æ‰“å°å¼‚å¸¸ã€‚å¦‚æœæˆ‘ä»¬æƒ³é˜»æ­¢å¼‚å¸¸æ‰“å°ï¼Œå¯ä»¥ç”¨ä¸Šé¢çš„ error.preventDefault() æ–¹æ³•ã€‚</p>
<h4 id="å¼‚å¸¸å¤„ç†å‡½æ•°"><a href="#å¼‚å¸¸å¤„ç†å‡½æ•°" class="headerlink" title="å¼‚å¸¸å¤„ç†å‡½æ•°"></a>å¼‚å¸¸å¤„ç†å‡½æ•°</h4><p>å‰é¢æˆ‘ä»¬åœ¨æ•è·åˆ°å¼‚å¸¸æ—¶è°ƒç”¨äº†ä¸€ä¸ªå¼‚å¸¸å¤„ç†å‡½æ•° handleErrorï¼Œæ‰€æœ‰çš„å¼‚å¸¸å’Œä¸ŠæŠ¥é€»è¾‘ç»Ÿä¸€åœ¨è¿™ä¸ªå‡½æ•°å†…å¤„ç†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å®ç°è¿™ä¸ªå‡½æ•°ã€‚</p>
<pre><code class="javascript">const handleError = (error: any, type: 1 | 2) &#123;
  if(type == 1) &#123;
    // å¤„ç†æ¥å£å¼‚å¸¸
  &#125;
  if(type == 2) &#123;
    // å¤„ç†å‰ç«¯å¼‚å¸¸
  &#125;
&#125;
</code></pre>
<p>ä¸ºäº†åŒºåˆ†å¼‚å¸¸ç±»å‹ï¼Œå‡½æ•°æ–°åŠ äº†ç¬¬äºŒä¸ªå‚æ•° type è¡¨ç¤ºå½“å‰å¼‚å¸¸å±äºå‰ç«¯è¿˜æ˜¯æ¥å£ã€‚åœ¨ä¸åŒçš„åœºæ™¯ä¸­ä½¿ç”¨å¦‚ä¸‹ï¼š</p>
<ul>
<li>å¤„ç†å‰ç«¯å¼‚å¸¸ï¼šhandleError(error, 1)ã€‚</li>
<li>å¤„ç†æ¥å£å¼‚å¸¸ï¼šhandleError(error, 2)ã€‚</li>
</ul>
<h3 id="å¤„ç†æ¥å£å¼‚å¸¸"><a href="#å¤„ç†æ¥å£å¼‚å¸¸" class="headerlink" title="å¤„ç†æ¥å£å¼‚å¸¸"></a>å¤„ç†æ¥å£å¼‚å¸¸</h3><p>å¤„ç†æ¥å£å¼‚å¸¸ï¼Œæˆ‘ä»¬éœ€è¦å°†æ‹¿åˆ°çš„ error å‚æ•°è§£æï¼Œç„¶åå–åˆ°éœ€è¦çš„æ•°æ®ã€‚æ¥å£å¼‚å¸¸ä¸€èˆ¬éœ€è¦çš„æ•°æ®å­—æ®µå¦‚ä¸‹ï¼š</p>
<ul>
<li>codeï¼šhttp çŠ¶æ€ç ã€‚</li>
<li>urlï¼šæ¥å£è¯·æ±‚åœ°å€ã€‚</li>
<li>methodï¼šæ¥å£è¯·æ±‚æ–¹æ³•ã€‚</li>
<li>paramsï¼šæ¥å£è¯·æ±‚å‚æ•°ã€‚</li>
<li>errorï¼šæ¥å£æŠ¥é”™ä¿¡æ¯ã€‚</li>
</ul>
<p>è¿™äº›å­—æ®µéƒ½å¯ä»¥åœ¨ error å‚æ•°ä¸­è·å–ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const handleError = (error: any, type: 1 | 2) &#123;
  if(type == 1) &#123;
    // æ­¤æ—¶çš„ error å“åº”ï¼Œå®ƒçš„ config å­—æ®µä¸­åŒ…å«è¯·æ±‚ä¿¡æ¯
    let &#123; url, method, params, data &#125; = error.config
    let err_data = &#123;
       url, method,
       params: &#123; query: params, body: data &#125;,
       error: error.data?.message || JSON.stringify(error.data),
    &#125;)
  &#125;
&#125;
</code></pre>
<p>config å¯¹è±¡ä¸­çš„ params è¡¨ç¤º GET è¯·æ±‚çš„ query å‚æ•°ï¼Œdata è¡¨ç¤º POST è¯·æ±‚çš„ body å‚æ•°ï¼Œæ‰€ä»¥æˆ‘åœ¨å¤„ç†å‚æ•°çš„æ—¶å€™ï¼Œå°†è¿™ä¸¤ä¸ªå‚æ•°åˆå¹¶ä¸ºä¸€ä¸ªï¼Œç”¨ä¸€ä¸ªå±æ€§ params æ¥è¡¨ç¤ºã€‚</p>
<pre><code class="javascript">params: &#123; query: params, body: data &#125;
</code></pre>
<p>è¿˜æœ‰ä¸€ä¸ª error å±æ€§è¡¨ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œè¿™ä¸ªè·å–æ–¹å¼è¦æ ¹æ®ä½ çš„æ¥å£è¿”å›æ ¼å¼æ¥æ‹¿ã€‚è¦é¿å…è·å–åˆ°æ¥å£å¯èƒ½è¿”å›çš„è¶…é•¿é”™è¯¯ä¿¡æ¯ï¼Œå¤šåŠæ˜¯æ¥å£æ²¡å¤„ç†ï¼Œè¿™æ ·å¯èƒ½ä¼šå¯¼è‡´å†™å…¥æ•°æ®å¤±è´¥ï¼Œè¦æå‰ä¸åå°è§„å®šå¥½ã€‚</p>
<h3 id="å¤„ç†å‰ç«¯å¼‚å¸¸"><a href="#å¤„ç†å‰ç«¯å¼‚å¸¸" class="headerlink" title="å¤„ç†å‰ç«¯å¼‚å¸¸"></a>å¤„ç†å‰ç«¯å¼‚å¸¸</h3><p>å‰ç«¯å¼‚å¸¸å¼‚å¸¸å¤§å¤šæ•°å°±æ˜¯ js å¼‚å¸¸ï¼Œå¼‚å¸¸å¯¹åº”åˆ° js çš„ Error å¯¹è±¡ï¼Œåœ¨å¤„ç†ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹ Error æœ‰å“ªå‡ ç§ç±»å‹ï¼š</p>
<ul>
<li>ReferenceErrorï¼šå¼•ç”¨é”™è¯¯ã€‚</li>
<li>RangeErrorï¼šè¶…å‡ºæœ‰æ•ˆèŒƒå›´ã€‚</li>
<li>TypeErrorï¼šç±»å‹é”™è¯¯ã€‚</li>
<li>URIErrorï¼šURI è§£æé”™è¯¯ã€‚</li>
</ul>
<p>è¿™å‡ ç±»å¼‚å¸¸çš„å¼•ç”¨å¯¹è±¡éƒ½æ˜¯ Errorï¼Œå› æ­¤å¯ä»¥è¿™æ ·è·å–ï¼š</p>
<pre><code class="javascript">const handleError = (error: any, type: 1 | 2) &#123;
  if(type == 2) &#123;
    let err_data = null
    // ç›‘æµ‹ error æ˜¯å¦æ˜¯æ ‡å‡†ç±»å‹
    if(error instanceof Error) &#123;
      let &#123; name, message &#125; = error
      err_data = &#123;
        type: name,
        error: message
      &#125;
    &#125; else &#123;
      err_data = &#123;
        type: &#39;other&#39;,
        error: JSON.strigify(error)
      &#125;
    &#125;
  &#125;
&#125;
</code></pre>
<p>ä¸Šè¿°åˆ¤æ–­ä¸­ï¼Œé¦–å…ˆåˆ¤æ–­å¼‚å¸¸æ˜¯å¦æ˜¯ Error çš„å®ä¾‹ã€‚äº‹å®ä¸Šç»å¤§éƒ¨åˆ†çš„ä»£ç å¼‚å¸¸éƒ½æ˜¯æ ‡å‡†çš„ JS Errorï¼Œä½†æˆ‘ä»¬è¿™é‡Œè¿˜æ˜¯åˆ¤æ–­ä¸€ä¸‹ï¼Œå¦‚æœæ˜¯çš„è¯ç›´æ¥è·å–å¼‚å¸¸ç±»å‹å’Œå¼‚å¸¸ä¿¡æ¯ï¼Œä¸æ˜¯çš„è¯å°†å¼‚å¸¸ç±»å‹è®¾ç½®ä¸º other å³å¯ã€‚</p>
<p>æˆ‘ä»¬éšä¾¿å†™ä¸€ä¸ªå¼‚å¸¸ä»£ç ï¼Œçœ‹ä¸€ä¸‹æ•è·çš„ç»“æœï¼š</p>
<pre><code class="javascript">function test() &#123;
  console.aaa(&#39;ccc&#39;);
&#125;
test();
</code></pre>
<p>ç„¶åæ•è·åˆ°çš„å¼‚å¸¸æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="javascript">const handleError = (error: any) =&gt; &#123;
  if (error instanceof Error) &#123;
    let &#123; name, message &#125; = error;
    console.log(name, message);
    // æ‰“å°ç»“æœï¼šTypeError console.aaa is not a function
  &#125;
&#125;;
</code></pre>
<h4 id="è·å–ç¯å¢ƒæ•°æ®"><a href="#è·å–ç¯å¢ƒæ•°æ®" class="headerlink" title="è·å–ç¯å¢ƒæ•°æ®"></a>è·å–ç¯å¢ƒæ•°æ®</h4><p>è·å–ç¯å¢ƒæ•°æ®çš„æ„æ€æ˜¯ï¼Œä¸ç®¡æ˜¯æ¥å£å¼‚å¸¸è¿˜æ˜¯å‰ç«¯å¼‚å¸¸ï¼Œé™¤äº†å¼‚å¸¸æœ¬èº«çš„æ•°æ®ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€äº›å…¶ä»–ä¿¡æ¯æ¥å¸®åŠ©æˆ‘ä»¬æ›´å¿«æ›´å‡†çš„å®šä½åˆ°å“ªé‡Œå‡ºé”™äº†ã€‚</p>
<p>è¿™ç±»æ•°æ®æˆ‘ä»¬ç§°ä¹‹ä¸º â€œç¯å¢ƒæ•°æ®â€ï¼Œå°±æ˜¯è§¦å‘å¼‚å¸¸æ—¶æ‰€åœ¨çš„ç¯å¢ƒã€‚æ¯”å¦‚æ˜¯è°åœ¨å“ªä¸ªé¡µé¢çš„å“ªä¸ªåœ°æ–¹è§¦å‘çš„é”™è¯¯ï¼Œæœ‰äº†è¿™äº›ï¼Œæˆ‘ä»¬å°±èƒ½é©¬ä¸Šæ‰¾åˆ°é”™è¯¯æ¥æºï¼Œå†æ ¹æ®å¼‚å¸¸ä¿¡æ¯è§£å†³é”™è¯¯ã€‚</p>
<p>ç¯å¢ƒæ•°æ®è‡³å°‘åŒ…æ‹¬ä¸‹é¢è¿™äº›ï¼š</p>
<ul>
<li>appï¼šåº”ç”¨çš„åç§°&#x2F;æ ‡è¯†ã€‚</li>
<li>envï¼šåº”ç”¨ç¯å¢ƒï¼Œä¸€èˆ¬æ˜¯å¼€å‘ï¼Œæµ‹è¯•ï¼Œç”Ÿäº§ã€‚</li>
<li>versionï¼šåº”ç”¨çš„ç‰ˆæœ¬å·ã€‚</li>
<li>user_idï¼šè§¦å‘å¼‚å¸¸çš„ç”¨æˆ· IDã€‚</li>
<li>user_nameï¼šè§¦å‘å¼‚å¸¸çš„ç”¨æˆ·åã€‚</li>
<li>page_routeï¼šå¼‚å¸¸çš„é¡µé¢è·¯ç”±ã€‚</li>
<li>page_titleï¼šå¼‚å¸¸çš„é¡µé¢åç§°ã€‚</li>
</ul>
<p>app å’Œ version éƒ½æ˜¯åº”ç”¨é…ç½®ï¼Œå¯ä»¥åˆ¤æ–­å¼‚å¸¸å‡ºç°åœ¨å“ªä¸ªåº”ç”¨çš„å“ªä¸ªç‰ˆæœ¬ã€‚è¿™ä¸¤ä¸ªå­—æ®µæˆ‘å»ºè®®ç›´æ¥è·å– package.json ä¸‹çš„ name å’Œ version å±æ€§ï¼Œåœ¨åº”ç”¨å‡çº§çš„æ—¶å€™ï¼ŒåŠæ—¶ä¿®æ”¹ version ç‰ˆæœ¬å·å³å¯ã€‚</p>
<h3 id="Vueå’ŒReactå¼‚å¸¸å¤„ç†"><a href="#Vueå’ŒReactå¼‚å¸¸å¤„ç†" class="headerlink" title="Vueå’ŒReactå¼‚å¸¸å¤„ç†"></a>Vueå’ŒReactå¼‚å¸¸å¤„ç†</h3><blockquote>
<p>ç°åœ¨è¶Šæ¥è¶Šå¤šçš„é¡¹ç›®å¼€å§‹ä½¿ç”¨å‰ç«¯æ¡†æ¶ï¼Œåœ¨MVVMæ¡†æ¶ä¸­å¦‚æœä½ ä¸€å¦‚æ—¢å¾€çš„æƒ³ä½¿ç”¨window.onerroræ¥æ•è·å¼‚å¸¸ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½ä¼šç«¹ç¯®æ‰“æ°´ä¸€åœºç©ºï¼Œæˆ–è®¸æ ¹æœ¬æ•è·ä¸åˆ°ï¼Œå› ä¸ºä½ çš„å¼‚å¸¸ä¿¡æ¯è¢«æ¡†æ¶è‡ªèº«çš„å¼‚å¸¸æœºåˆ¶æ•è·äº†ã€‚</p>
</blockquote>
<p>æ¯”å¦‚Vue 2.xä¸­æˆ‘ä»¬åº”è¯¥è¿™æ ·æ•è·å…¨å±€å¼‚å¸¸ï¼š</p>
<pre><code class="js">Vue.config.errorHandler = function (err, vm, info) &#123;
    let &#123; 
        message, // å¼‚å¸¸ä¿¡æ¯
        name, // å¼‚å¸¸åç§°
        script,  // å¼‚å¸¸è„šæœ¬url
        line,  // å¼‚å¸¸è¡Œå·
        column,  // å¼‚å¸¸åˆ—å·
        stack  // å¼‚å¸¸å †æ ˆä¿¡æ¯
    &#125; = err;

    // vmä¸ºæŠ›å‡ºå¼‚å¸¸çš„ Vue å®ä¾‹
    // infoä¸º Vue ç‰¹å®šçš„é”™è¯¯ä¿¡æ¯ï¼Œæ¯”å¦‚é”™è¯¯æ‰€åœ¨çš„ç”Ÿå‘½å‘¨æœŸé’©å­
&#125;
</code></pre>
<blockquote>
<p>ç›®å‰scriptã€lineã€columnè¿™3ä¸ªä¿¡æ¯æ‰“å°å‡ºæ¥æ˜¯undefinedï¼Œä¸è¿‡è¿™äº›ä¿¡æ¯åœ¨stackä¸­éƒ½å¯ä»¥æ‰¾åˆ°ï¼Œå¯ä»¥é€šè¿‡æ­£åˆ™åŒ¹é…å»è¿›è¡Œè·å–ï¼Œç„¶åè¿›è¡Œä¸ŠæŠ¥ã€‚</p>
<p>åŒæ ·çš„åœ¨reactä¹Ÿæä¾›äº†å¼‚å¸¸å¤„ç†çš„æ–¹å¼ï¼Œåœ¨ React 16.x ç‰ˆæœ¬ä¸­å¼•å…¥äº† Error Boundaryï¼š</p>
</blockquote>
<pre><code class="js">class ErrorBoundary extends React.Component &#123;
    constructor(props) &#123;
        super(props);
        this.state = &#123; hasError: false &#125;;
    &#125;

    componentDidCatch(error, info) &#123;
        this.setState(&#123; hasError: true &#125;);

        // å°†å¼‚å¸¸ä¿¡æ¯ä¸ŠæŠ¥ç»™æœåŠ¡å™¨
        logErrorToMyService(error, info); 
    &#125;

    render() &#123;
        if (this.state.hasError) &#123;
            return &#39;å‡ºé”™äº†&#39;;
        &#125;

        return this.props.children;
    &#125;
&#125;
</code></pre>
<p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥è¿™æ ·ä½¿ç”¨è¯¥ç»„ä»¶ï¼š</p>
<h3 id="å‚è€ƒæ–‡çŒ®ï¼š"><a href="#å‚è€ƒæ–‡çŒ®ï¼š" class="headerlink" title="å‚è€ƒæ–‡çŒ®ï¼š"></a>å‚è€ƒæ–‡çŒ®ï¼š</h3><p><a target="_blank" rel="noopener" href="https://www.51cto.com/article/711309.html">https://www.51cto.com/article/711309.html</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7072179884247744526">https://juejin.cn/post/7072179884247744526</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag">é¢è¯•</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-å‰ç«¯é¢è¯•é¢˜å¤§å…¨å‰ç«¯å·¥ç¨‹åŒ–"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/"
    >å‰ç«¯é¢è¯•é¢˜å¤§å…¨å‰ç«¯å·¥ç¨‹åŒ–</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/" class="article-date">
  <time datetime="2022-11-04T03:25:24.000Z" itemprop="datePublished">2022-11-04</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E9%9D%A2%E8%AF%95/">æŠ€æœ¯é¢è¯•</a> / <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E9%9D%A2%E8%AF%95/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/">å‰ç«¯å·¥ç¨‹åŒ–</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆå‰ç«¯å·¥ç¨‹åŒ–ï¼‰"><a href="#å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆå‰ç«¯å·¥ç¨‹åŒ–ï¼‰" class="headerlink" title="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆå‰ç«¯å·¥ç¨‹åŒ–ï¼‰"></a>å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆå‰ç«¯å·¥ç¨‹åŒ–ï¼‰</h1><p>å‰ç«¯é¢è¯•é¢˜ç±»ç›®åˆ†ç±»</p>
<ul>
<li>HTML5 + CSS3</li>
<li>JavaScript</li>
<li>Vue + Vue3</li>
<li>React</li>
<li>Webpack</li>
<li>æœåŠ¡ç«¯</li>
</ul>
<hr>
<p>è€ƒç‚¹é¢‘ç‡ ï¼šâ™¥ï¸ ã€ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸</p>
<h2 id="å‰ç«¯å·¥ç¨‹åŒ–"><a href="#å‰ç«¯å·¥ç¨‹åŒ–" class="headerlink" title="å‰ç«¯å·¥ç¨‹åŒ–"></a>å‰ç«¯å·¥ç¨‹åŒ–</h2><h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä»€ä¹ˆæ˜¯-bundle-ä»€ä¹ˆæ˜¯-chunkï¼Œä»€ä¹ˆæ˜¯moduleï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä»€ä¹ˆæ˜¯-bundle-ä»€ä¹ˆæ˜¯-chunkï¼Œä»€ä¹ˆæ˜¯moduleï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä»€ä¹ˆæ˜¯ bundle, ä»€ä¹ˆæ˜¯ chunkï¼Œä»€ä¹ˆæ˜¯moduleï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä»€ä¹ˆæ˜¯ bundle, ä»€ä¹ˆæ˜¯ chunkï¼Œä»€ä¹ˆæ˜¯moduleï¼Ÿ</h3><h4 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h4><p><code>bundle</code>ã€<code>module</code>ã€<code>chunk</code> éƒ½æ˜¯ webpack ä¸­çš„æœ¯è¯­ï¼Œä¸‹é¢å°±ä¸€ä¸ªä¸€ä¸ªä»‹ç»ä»–ä»¬çš„å®šä¹‰æ˜¯ä»€ä¹ˆï¼Œæ€ä¹ˆäº§ç”Ÿçš„ã€‚</p>
<h5 id="Bundle"><a href="#Bundle" class="headerlink" title="Bundle"></a>Bundle</h5><p>Bundleæ˜¯ç”±å¤šä¸ªä¸åŒçš„æ¨¡å—ç”Ÿæˆï¼Œbundles åŒ…å«äº†æ—©å·²ç»è¿‡åŠ è½½å’Œç¼–è¯‘çš„æœ€ç»ˆæºæ–‡ä»¶ç‰ˆæœ¬ã€‚ Bundle åˆ†ç¦»ï¼ˆBundle Splittingï¼‰:è¿™ä¸ªæµç¨‹æä¾›äº†ä¸€ä¸ªä¼˜åŒ– build çš„æ–¹æ³•ï¼Œå…è®¸ webpack ä¸ºåº”ç”¨ç¨‹åºç”Ÿæˆå¤šä¸ª bundleã€‚æœ€ç»ˆæ•ˆæœæ˜¯ï¼Œå½“å…¶ä»–æŸäº› bundle çš„æ”¹åŠ¨æ—¶ï¼Œå½¼æ­¤ç‹¬ç«‹çš„å¦ä¸€äº› bundle éƒ½å¯ä»¥ä¸å—åˆ°å½±å“ï¼Œå‡å°‘éœ€è¦é‡æ–°å‘å¸ƒçš„ä»£ç é‡ï¼Œå› æ­¤ç”±å®¢æˆ·ç«¯é‡æ–°ä¸‹è½½å¹¶åˆ©ç”¨æµè§ˆå™¨ç¼“å­˜ã€‚</p>
<h5 id="Module"><a href="#Module" class="headerlink" title="Module"></a>Module</h5><p>æ¨¡å—ï¼ˆModuleï¼‰æä¾›æ¯”è¾ƒå®Œæ•´ç¨‹åºæ¥è§¦é¢ï¼ˆsurface areaï¼‰æ›´å°çš„ç¦»æ•£åŠŸèƒ½å—ã€‚ç²¾å¿ƒç¼–å†™çš„æ¨¡å—æä¾›äº†å¯é çš„æŠ½è±¡å’Œå°è£…ç•Œé™ï¼Œä½¿å¾—åº”ç”¨ç¨‹åºä¸­æ¯ä¸ªæ¨¡å—éƒ½å…·æœ‰æ¡ç†æ¸…æ¥šçš„è®¾è®¡å’Œæ˜ç¡®çš„ç›®çš„ã€‚ æ¨¡å—è§£æï¼ˆModule Resolutionï¼‰ä¸€ä¸ªæ¨¡å—å¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªæ¨¡å—çš„ä¾èµ–æ¨¡å—ï¼Œresolver æ˜¯ä¸€ä¸ªåº“ï¼ˆlibaryï¼‰ç”¨äºå¸®åŠ©æ‰¾ä¸åˆ°æ¨¡å—çš„ç»å¯¹è·¯å¾„ï¼Œæ¨¡å—å°†åœ¨resolve.modulesä¸­æŒ‡å®šçš„æ‰€æœ‰ç›®å½•å†…æœç´¢ã€‚</p>
<h5 id="Chunk"><a href="#Chunk" class="headerlink" title="Chunk"></a>Chunk</h5><p>Chunkè¿™æ˜¯ webpack ç‰¹å®šçš„æœ¯è¯­è¢«ç”¨åœ¨å†…éƒ¨æ¥ç®¡ç† building è¿‡ç¨‹ã€‚bundle æ˜¯ç”± chunk ç»„æˆï¼Œå…¶ä¸­æœ‰å‡ ç§ç±»å‹ï¼ˆä¾‹å¦‚ï¼Œå…¥å£ chunk(entry chunk)å’Œå­ chunk(child chunk)ï¼‰ã€‚é€šå¸¸ chunk ä¼šç›´æ¥å¯¹åº”æ‰€è¾“å‡ºçš„ bundleï¼Œä½†æ˜¯æœ‰ä¸€äº›é…ç½®å¹¶ä¸ä¼šäº§ç”Ÿä¸€å¯¹ä¸€çš„å…³ç³»ã€‚ ä»£ç åˆ†ç¦»ï¼ˆCode Splittingï¼‰æŒ‡å°†ä»£ç åˆ†ç¦»åˆ°æ¯ä¸ª bundles&#x2F;chunks é‡Œé¢ï¼Œä½ å¯ä»¥æŒ‰éœ€åŠ è½½ï¼Œè€Œä¸æ˜¯åŠ è½½ä¸€ä¸ªåŒ…å«å…¨éƒ¨çš„ bundleã€‚ é…ç½®ï¼ˆConfigurationï¼‰webpack çš„é…ç½®æ–‡ä»¶æ˜¯ä¸€ä¸ªæ™®é€šçš„ JavaScript æ–‡ä»¶ï¼Œå®ƒå¯¼å‡ºä¸ºä¸€ä¸ªå¯¹è±¡ã€‚ç„¶åç”± webpack æ ¹æ®è¿™ä¸ªå¯¹è±¡å®šä¹‰çš„å±æ€§è¿›è¡Œå¤„ç†ã€‚</p>
<h4 id="Bundle-VS-Chunk-VS-Module"><a href="#Bundle-VS-Chunk-VS-Module" class="headerlink" title="Bundle VS Chunk VS Module"></a>Bundle VS Chunk VS Module</h4><p>æˆ‘ä»¬ä»å®šä¹‰å’Œæ—¶æœŸæ¥è¯´ï¼š</p>
<ul>
<li>â€œæ¨¡å—â€<code>(module)</code>çš„æ¦‚å¿µå¤§å®¶éƒ½æ¯”è¾ƒç†Ÿæ‚‰ï¼Œå¦‚ <code>CommonJS æ¨¡å—</code>ã€<code>AMD</code>ã€<code>ES6 Modules</code> æ¨¡å—</li>
<li><code>chunk</code> è¡¨ç¤ºæ‰“åŒ…çš„æ—¶å€™äº§ç”Ÿå¾—æ¨¡å—ï¼Œç”±ä»–æ¥ç»„æˆ <code>bundle</code></li>
<li>æ‰“åŒ…å®Œæˆçš„æºä»£ç </li>
</ul>
<p>æˆ‘ä»¬ç°åœ¨å°±åªåˆ›å»ºä¸€ä¸ªèƒ½ç¼–è¯‘<code>js</code>çš„<code>webpack</code>é…ç½®ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”åœ¨å½“æ–‡ä»¶å¤¹ä¸­æ‰“å¼€ <code>bash or cmd</code>ã€‚</li>
<li><code>npm init -y</code> ç”Ÿæˆ<code>package.json</code>ã€‚</li>
<li>å¦‚æœä½ å®‰è£…äº†<code>cnpm or yarn</code> å°±æ‰§è¡Œ <code>cnpm i webpack webpack-cli -D</code>, å®‰è£…<code>webpack</code>çš„åŒ…ã€‚</li>
<li>åˆ›å»º<code>src</code>ï¼Œåœ¨<code>src</code>å†…éƒ¨åˆ›å»º<code>chunk0.js</code>ã€<code>chunk1.js</code>ã€<code>common.js</code>ã€<code>index.js</code>ã€<code>style.css</code>ï¼Œå¹¶ä¸”ç¼–å†™å†…éƒ¨ä»£ç </li>
<li>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>webpack.config.js</code></li>
<li>ç›´æ¥åœ¨<code>cmd</code>ä¸­è¿è¡Œ <code>webpack</code></li>
</ol>
<p>ä¸‹é¢æ˜¯ä»£ç  </p>
<p>chunk0.js</p>
<pre><code class="javascript">export default function add(a, b) &#123;
  return a + b;
&#125;
</code></pre>
<p>chunk1.js</p>
<pre><code class="javascript">export default function flow() &#123;
  return &quot;flow&quot;;
&#125;
</code></pre>
<p>common.js</p>
<pre><code class="javascript">export default function commonJs() &#123;
  return &quot;commonJs&quot;;
&#125;
</code></pre>
<p>index.js</p>
<pre><code class="javascript">import add from &quot;./chunk0.js&quot;;
import commonJs from &quot;./common&quot;;
console.log(add(1, 2));
console.log(commonJs());
</code></pre>
<p>webpack.config.js</p>
<pre><code class="java">module.exports = &#123;
  mode: &quot;production&quot;, // å¦‚æœä¸æ·»åŠ å°±ä¼šè­¦å‘Š
  entry: &#123;
    index: &quot;./src/index.js&quot;, // ä¸€ä¸ªå…¥å£æ–‡ä»¶
    chunk1: &quot;./src/chunk1.js&quot; // ä¸¤ä¸€ä¸ªå…¥å£æ–‡ä»¶
  &#125;,
  output: &#123;
    filename: &quot;[name].bundle.js&quot; // å‡ºå£æ–‡ä»¶
  &#125;
&#125;;
</code></pre>
<p>è¿è¡Œçš„æ•ˆæœå¦‚ä¸‹</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image-20221104082742567.png"></p>
<p>é€šè¿‡ä¸Šé¢çš„ä»£ç çŸ¥é“ï¼Œ<code>module</code> å°±æ˜¯æ²¡æœ‰è¢«ç¼–è¯‘ä¹‹å‰çš„ä»£ç ï¼Œé€šè¿‡ <code>webpack</code> çš„æ ¹æ®æ–‡ä»¶å¼•ç”¨å…³ç³»ç”Ÿæˆ <code>chunk</code> æ–‡ä»¶ï¼Œwebpack å¤„ç†å¥½ <code>chunk</code> æ–‡ä»¶åï¼Œç”Ÿæˆè¿è¡Œåœ¨æµè§ˆå™¨ä¸­çš„ä»£ç  <code>bundle</code>ã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-hash-chunkhash-contenthashä¸‰è€…åŒºåˆ«"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-hash-chunkhash-contenthashä¸‰è€…åŒºåˆ«" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ hash chunkhash contenthashä¸‰è€…åŒºåˆ«"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ hash chunkhash contenthashä¸‰è€…åŒºåˆ«</h3><h4 id="ä¸€ã€Webpackä¸hashç®—æ³•"><a href="#ä¸€ã€Webpackä¸hashç®—æ³•" class="headerlink" title="ä¸€ã€Webpackä¸hashç®—æ³•"></a>ä¸€ã€Webpackä¸hashç®—æ³•</h4><p>åœ¨ä½¿ç”¨Webpackå¯¹æ„å»ºçš„æ—¶å€™ï¼ŒWebpackä¼šæ ¹æ®æ‰€æœ‰çš„æ–‡ä»¶å†…å®¹è®¡ç®—å‡ºä¸€ä¸ªç‰¹æ®Šçš„å­—ç¬¦ä¸²ã€‚åªè¦æœ‰æ–‡ä»¶çš„å†…å®¹å˜åŒ–äº†ï¼ŒWebpackå°±ä¼šè®¡ç®—å‡ºä¸€ä¸ªæ–°çš„ç‰¹æ®Šå­—ç¬¦ä¸²ã€‚</p>
<p>Webpackåœ¨æ ¹æ®æ–‡ä»¶å†…å®¹è®¡ç®—å‡ºä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œä½¿ç”¨çš„å°±æ˜¯hashç®—æ³•ï¼Œè¿™ä¸ªç‰¹æ®Šå­—ç¬¦ä¸²ä¸€èˆ¬å«åšhashå€¼ã€‚</p>
<p>æˆ‘ä»¬ä¸€èˆ¬å–è®¡ç®—å‡ºçš„ç‰¹æ®Šå­—ç¬¦ä¸²çš„å‰å…«ä½ä½œä¸ºæ–‡ä»¶åçš„ä¸€éƒ¨åˆ†ï¼Œå› ä¸ºhashç®—æ³•è®¡ç®—å‡ºçš„å‰å…«ä½åŸºæœ¬å¯ä»¥ä¿è¯å”¯ä¸€æ€§äº†ã€‚</p>
<p>åœ¨Webpacké‡Œï¼Œæˆ‘ä»¬é€šå¸¸ç”¨[hash:8]è¿™ç§å½¢å¼è¡¨ç¤ºå–hashå€¼çš„å‰å…«ä½ï¼Œä¾‹å¦‚åœ¨Webpacké…ç½®æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬ç”¨ filename: â€˜jQuery-[hash:8].jsâ€™ã€‚</p>
<h4 id="äºŒã€webpackä¸­hashã€chunkhashå’Œcontenthashçš„åŒºåˆ«"><a href="#äºŒã€webpackä¸­hashã€chunkhashå’Œcontenthashçš„åŒºåˆ«" class="headerlink" title="äºŒã€webpackä¸­hashã€chunkhashå’Œcontenthashçš„åŒºåˆ«"></a>äºŒã€webpackä¸­hashã€chunkhashå’Œcontenthashçš„åŒºåˆ«</h4><p>Webpacké€šè¿‡å¯¹æ–‡ä»¶è¿›è¡Œhashç®—æ³•è·å¾—çš„hashå€¼ï¼Œé™¤äº†æœ‰hashï¼Œè¿˜æœ‰chunkhashå’Œcontenthashï¼Œé‚£ä¹ˆè¿™ä¸‰è€…æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ</p>
<p>é¦–å…ˆï¼Œhashã€chunkhashå’Œcontenthashè¿™ä¸‰è€…éƒ½æ˜¯æ ¹æ®æ–‡ä»¶å†…å®¹è®¡ç®—å‡ºçš„hashå€¼ï¼Œåªæ˜¯å®ƒä»¬æ‰€è®¡ç®—çš„æ–‡ä»¶ä¸ä¸€æ ·ã€‚</p>
<p>hashæ˜¯æ ¹æ®æ‰“åŒ…ä¸­æ‰€æœ‰çš„æ–‡ä»¶è®¡ç®—å‡ºçš„hashå€¼ã€‚åœ¨ä¸€æ¬¡æ‰“åŒ…ä¸­ï¼Œæ‰€æœ‰å‡ºå£æ–‡ä»¶çš„filenameè·å¾—çš„[hash]éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>chunkhashæ˜¯æ ¹æ®æ‰“åŒ…è¿‡ç¨‹ä¸­å½“å‰chunkè®¡ç®—å‡ºçš„hashå€¼ã€‚å¦‚æœWebpacké…ç½®æ˜¯å¤šå…¥å£é…ç½®ï¼Œé‚£ä¹ˆé€šå¸¸ä¼šç”Ÿæˆå¤šä¸ªchunkï¼Œæ¯ä¸ªchunkå¯¹åº”çš„å‡ºå£filenameè·å¾—çš„[chunkhash]æ˜¯ä¸ä¸€æ ·çš„ã€‚è¿™æ ·å¯ä»¥ä¿è¯æ‰“åŒ…åæ¯ä¸€ä¸ªJSæ–‡ä»¶åéƒ½ä¸ä¸€æ ·ï¼ˆè¿™ä¹ˆè¯´ä¸å¤ªä¸¥è°¨ï¼Œä½†æœ‰åŠ©äºç†è§£ï¼‰ã€‚</p>
<p>Webpacké…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼Œç¬¬ä¸€æ¬¡æ‰“åŒ…filenameå–å€¼ä¸ºâ€™[name]-[hash:8].jsâ€™ï¼Œç¬¬äºŒæ¬¡ä¸ºâ€™[name]-[chunkhash:8].jsâ€™ã€‚</p>
<pre><code class="javascript">const path = require(&#39;path&#39;);
module.exports = &#123;
    entry: &#123;
        app1: &#39;./a.js&#39;,
        app2: &#39;./b.js&#39;,
        app3: &#39;./c.js&#39;,
&#125;,
output: &#123;
path: path.resolve(__dirname, &#39;&#39;),
filename: &#39;[name]-[hash:8].js&#39;
// filename: &#39;[name]-[chunkhash:8].js&#39;
&#125;,
mode: &#39;none&#39;
&#125;;
</code></pre>
<p>contenthashæœ‰ç‚¹åƒchunkhashï¼Œæ˜¯æ ¹æ®æ‰“åŒ…æ—¶CSSå†…å®¹è®¡ç®—å‡ºçš„hashå€¼ã€‚ä¸€èˆ¬åœ¨ä½¿ç”¨æå–CSSçš„æ’ä»¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä½¿ç”¨contenthashã€‚ä¾‹å¦‚ä¸‹é¢çš„é…ç½®ï¼Œæˆ‘ä»¬ç”Ÿæˆçš„CSSæ–‡ä»¶åå¯èƒ½ä¼šæ˜¯main.3aa2e3c6.cssã€‚</p>
<pre><code class="javascript">plugins:[
new miniExtractPlugin(&#123;
        filename: &#39;main.[contenthash:8].css&#39;
&#125;)
]
</code></pre>
<h4 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><p>Webpackä¸­hashã€chunkhashå’Œcontenthashä¸»è¦ä¸æµè§ˆå™¨ç¼“å­˜è¡Œä¸ºæœ‰å…³ã€‚æµè§ˆå™¨åœ¨åˆæ¬¡è¯·æ±‚æœåŠ¡ç«¯èµ„æºçš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ç»™JSã€CSSå’Œå›¾ç‰‡ç­‰èµ„æºä¸€ä¸ªè¾ƒé•¿çš„ç¼“å­˜æ—¶é—´ï¼Œæˆ‘ä»¬é€šè¿‡ç»™èµ„æºåç§°å¢åŠ hashå€¼æ¥æ§åˆ¶æµè§ˆå™¨æ˜¯å¦ç»§ç»­ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚hashã€chunkhashå’Œcontenthashè¿™ä¸‰è€…éƒ½æ˜¯æ ¹æ®æ–‡ä»¶å†…å®¹è®¡ç®—å‡ºçš„hashå€¼ï¼Œ[hash]æ˜¯æ ¹æ®å…¨éƒ¨å‚ä¸æ‰“åŒ…çš„æ–‡ä»¶è®¡ç®—å‡ºæ¥çš„ï¼Œ[chunkhash]æ˜¯æ ¹æ®å½“å‰æ‰“åŒ…çš„chunkè®¡ç®—å‡ºæ¥çš„ï¼Œ[contenthash]æ˜¯CSSæ–‡ä»¶çš„ã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä½ çŸ¥é“ä»€ä¹ˆæ˜¯è„šæ‰‹æ¶å—ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä½ çŸ¥é“ä»€ä¹ˆæ˜¯è„šæ‰‹æ¶å—ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä½ çŸ¥é“ä»€ä¹ˆæ˜¯è„šæ‰‹æ¶å—ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä½ çŸ¥é“ä»€ä¹ˆæ˜¯è„šæ‰‹æ¶å—ï¼Ÿ</h3><p>è„šæ‰‹æ¶çš„æ¦‚å¿µå’Œä½œç”¨ï¼šå°±æ˜¯æ‹¥æœ‰å®Œæ•´çš„å¼€å‘ç¯å¢ƒï¼Œå¸®åŠ©æˆ‘ä»¬å¿«é€Ÿçš„ç”Ÿæˆä¸€å¥—æ—¢å®šçš„é¡¹ç›®æ¶æ„ã€æ–‡ä»¶ã€é…ç½®ã€‚ä½¿ç”¨è€…åªéœ€è¦ä¸“æ³¨è‡ªå·±çš„ä¸šåŠ¡ä»£ç å³å¯ï¼Œä¸éœ€è¦ä½¿ç”¨è€…å•ç‹¬é…ç½® </p>
<p>è„šæ‰‹æ¶çš„æ„æˆï¼šå¸¸è§çš„è„šæ‰‹æ¶çš„å¼€å‘ç¯å¢ƒä¸»è¦åˆ†ä¸ºä¸‰ç§æ¨¡å¼ï¼šç”Ÿäº§æ¨¡å¼ï¼Œå¼€å‘æ¨¡å¼ï¼Œæµ‹è¯•æ¨¡å¼ã€‚ä»¥åŠéœ€è¦é…ç½®å®Œæ•´çš„è·¯ç”±ç³»ç»Ÿ(vue-router,react-router-dom)ï¼Œå’ŒçŠ¶æ€ç®¡ç†ç³»ç»Ÿ(vuex,redux)æ‰èƒ½ä¿è¯å¼€å‘ç¯å¢ƒçš„å®Œæ•´æ€§ </p>
<p>å¸¸è§çš„è„šæ‰‹æ¶ï¼šVue-cli,Creat-React-app,umi-app</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä½ å¯¹webpackçš„ç†è§£ï¼Ÿè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä½ å¯¹webpackçš„ç†è§£ï¼Ÿè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä½ å¯¹webpackçš„ç†è§£ï¼Ÿè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä½ å¯¹webpackçš„ç†è§£ï¼Ÿè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h3><h4 id="ä¸€ã€èƒŒæ™¯"><a href="#ä¸€ã€èƒŒæ™¯" class="headerlink" title="ä¸€ã€èƒŒæ™¯"></a>ä¸€ã€èƒŒæ™¯</h4><p><code>Webpack</code> æœ€åˆçš„ç›®æ ‡æ˜¯å®ç°å‰ç«¯é¡¹ç›®çš„æ¨¡å—åŒ–ï¼Œæ—¨åœ¨æ›´é«˜æ•ˆåœ°ç®¡ç†å’Œç»´æŠ¤é¡¹ç›®ä¸­çš„æ¯ä¸€ä¸ªèµ„æº</p>
<h5 id="æ¨¡å—åŒ–"><a href="#æ¨¡å—åŒ–" class="headerlink" title="æ¨¡å—åŒ–"></a>æ¨¡å—åŒ–</h5><p>æœ€æ—©çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé€šè¿‡æ–‡ä»¶åˆ’åˆ†çš„å½¢å¼å®ç°æ¨¡å—åŒ–ï¼Œä¹Ÿå°±æ˜¯å°†æ¯ä¸ªåŠŸèƒ½åŠå…¶ç›¸å…³çŠ¶æ€æ•°æ®å„è‡ªå•ç‹¬æ”¾åˆ°ä¸åŒçš„<code> JS</code> æ–‡ä»¶ä¸­</p>
<p>çº¦å®šæ¯ä¸ªæ–‡ä»¶æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ¨¡å—ï¼Œç„¶åå†å°†è¿™äº›<code>js</code>æ–‡ä»¶å¼•å…¥åˆ°é¡µé¢ï¼Œä¸€ä¸ª<code>script</code>æ ‡ç­¾å¯¹åº”ä¸€ä¸ªæ¨¡å—ï¼Œç„¶åè°ƒç”¨æ¨¡å—åŒ–çš„æˆå‘˜</p>
<pre><code class="ini">&lt;script src=&quot;module-a.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;module-b.js&quot;&gt;&lt;/script&gt;
</code></pre>
<p>ä½†è¿™ç§æ¨¡å—å¼Šç«¯ååˆ†çš„æ˜æ˜¾ï¼Œæ¨¡å—éƒ½æ˜¯åœ¨å…¨å±€ä¸­å·¥ä½œï¼Œå¤§é‡æ¨¡å—æˆå‘˜æ±¡æŸ“äº†ç¯å¢ƒï¼Œæ¨¡å—ä¸æ¨¡å—ä¹‹é—´å¹¶æ²¡æœ‰ä¾èµ–å…³ç³»ã€ç»´æŠ¤å›°éš¾ã€æ²¡æœ‰ç§æœ‰ç©ºé—´ç­‰é—®é¢˜</p>
<p>é¡¹ç›®ä¸€æ—¦å˜å¤§ï¼Œä¸Šè¿°é—®é¢˜ä¼šå°¤å…¶æ˜æ˜¾</p>
<p>éšåï¼Œå°±å‡ºç°äº†å‘½åç©ºé—´æ–¹å¼ï¼Œè§„å®šæ¯ä¸ªæ¨¡å—åªæš´éœ²ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œç„¶åæ¨¡å—çš„å†…å®¹éƒ½æŒ‚è½½åˆ°è¿™ä¸ªå¯¹è±¡ä¸­</p>
<pre><code class="javascript">window.moduleA = &#123;
  method1: function () &#123;
    console.log(&#39;moduleA#method1&#39;)
  &#125;
&#125;
</code></pre>
<p>è¿™ç§æ–¹å¼ä¹Ÿå¹¶æ²¡æœ‰è§£å†³ç¬¬ä¸€ç§æ–¹å¼çš„ä¾èµ–ç­‰é—®é¢˜</p>
<p>å†åæ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°ä¸ºæ¨¡å—æä¾›ç§æœ‰ç©ºé—´ï¼Œé€šè¿‡å‚æ•°çš„å½¢å¼ä½œä¸ºä¾èµ–å£°æ˜ï¼Œå¦‚ä¸‹</p>
<pre><code class="javascript">// module-a.js
(function ($) &#123;
  var name = &#39;module-a&#39;

  function method1 () &#123;
    console.log(name + &#39;#method1&#39;)
    $(&#39;body&#39;).animate(&#123; margin: &#39;200px&#39; &#125;)
  &#125;
    
  window.moduleA = &#123;
    method1: method1
  &#125;
&#125;)(jQuery)
</code></pre>
<p>ä¸Šè¿°çš„æ–¹å¼éƒ½æ˜¯æ—©æœŸè§£å†³æ¨¡å—çš„æ–¹å¼ï¼Œä½†æ˜¯ä»ç„¶å­˜åœ¨ä¸€äº›æ²¡æœ‰è§£å†³çš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æ˜¯ç”¨è¿‡<code>script</code>æ ‡ç­¾åœ¨é¡µé¢å¼•å…¥è¿™äº›æ¨¡å—çš„ï¼Œè¿™äº›æ¨¡å—çš„åŠ è½½å¹¶ä¸å—ä»£ç çš„æ§åˆ¶ï¼Œæ—¶é—´ä¸€ä¹…ç»´æŠ¤èµ·æ¥ä¹Ÿååˆ†çš„éº»çƒ¦</p>
<p>ç†æƒ³çš„è§£å†³æ–¹å¼æ˜¯ï¼Œåœ¨é¡µé¢ä¸­å¼•å…¥ä¸€ä¸ª<code>JS</code>å…¥å£æ–‡ä»¶ï¼Œå…¶ä½™ç”¨åˆ°çš„æ¨¡å—å¯ä»¥é€šè¿‡ä»£ç æ§åˆ¶ï¼ŒæŒ‰éœ€åŠ è½½è¿›æ¥</p>
<p>é™¤äº†æ¨¡å—åŠ è½½çš„é—®é¢˜ä»¥å¤–ï¼Œè¿˜éœ€è¦è§„å®šæ¨¡å—åŒ–çš„è§„èŒƒï¼Œå¦‚ä»Šæµè¡Œçš„åˆ™æ˜¯<code>CommonJS </code>ã€<code>ES Modules</code></p>
<h4 id="äºŒã€é—®é¢˜"><a href="#äºŒã€é—®é¢˜" class="headerlink" title="äºŒã€é—®é¢˜"></a>äºŒã€é—®é¢˜</h4><p>ä»åç«¯æ¸²æŸ“çš„<code>JSP</code>ã€<code>PHP</code>ï¼Œåˆ°å‰ç«¯åŸç”Ÿ<code>JavaScript</code>ï¼Œå†åˆ°<code>jQuery</code>å¼€å‘ï¼Œå†åˆ°ç›®å‰çš„ä¸‰å¤§æ¡†æ¶<code>Vue</code>ã€<code>React</code>ã€<code>Angular</code></p>
<p>å¼€å‘æ–¹å¼ï¼Œä¹Ÿä»<code>javascript</code>åˆ°åé¢çš„<code>es5</code>ã€<code>es6ã€7ã€8ã€9ã€10</code>ï¼Œå†åˆ°<code>typescript</code>ï¼ŒåŒ…æ‹¬ç¼–å†™<code>CSS</code>çš„é¢„å¤„ç†å™¨<code>less</code>ã€<code>scss</code>ç­‰</p>
<p>ç°ä»£å‰ç«¯å¼€å‘å·²ç»å˜å¾—ååˆ†çš„å¤æ‚ï¼Œæ‰€ä»¥æˆ‘ä»¬å¼€å‘è¿‡ç¨‹ä¸­ä¼šé‡åˆ°å¦‚ä¸‹çš„é—®é¢˜ï¼š</p>
<ul>
<li>éœ€è¦é€šè¿‡æ¨¡å—åŒ–çš„æ–¹å¼æ¥å¼€å‘</li>
<li>ä½¿ç”¨ä¸€äº›é«˜çº§çš„ç‰¹æ€§æ¥åŠ å¿«æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡æˆ–è€…å®‰å…¨æ€§ï¼Œæ¯”å¦‚é€šè¿‡ES6+ã€TypeScriptå¼€å‘è„šæœ¬é€»è¾‘ï¼Œé€šè¿‡sassã€lessç­‰æ–¹å¼æ¥ç¼–å†™cssæ ·å¼ä»£ç </li>
<li>ç›‘å¬æ–‡ä»¶çš„å˜åŒ–æ¥å¹¶ä¸”åæ˜ åˆ°æµè§ˆå™¨ä¸Šï¼Œæé«˜å¼€å‘çš„æ•ˆç‡</li>
<li>JavaScript ä»£ç éœ€è¦æ¨¡å—åŒ–ï¼ŒHTML å’Œ CSS è¿™äº›èµ„æºæ–‡ä»¶ä¹Ÿä¼šé¢ä¸´éœ€è¦è¢«æ¨¡å—åŒ–çš„é—®é¢˜</li>
<li>å¼€å‘å®Œæˆåæˆ‘ä»¬è¿˜éœ€è¦å°†ä»£ç è¿›è¡Œå‹ç¼©ã€åˆå¹¶ä»¥åŠå…¶ä»–ç›¸å…³çš„ä¼˜åŒ–</li>
</ul>
<p>è€Œ<code>webpack</code>æ°å·§å¯ä»¥è§£å†³ä»¥ä¸Šé—®é¢˜</p>
<h4 id="ä¸‰ã€æ˜¯ä»€ä¹ˆ"><a href="#ä¸‰ã€æ˜¯ä»€ä¹ˆ" class="headerlink" title="ä¸‰ã€æ˜¯ä»€ä¹ˆ"></a>ä¸‰ã€æ˜¯ä»€ä¹ˆ</h4><p><code>webpack</code> æ˜¯ä¸€ä¸ªç”¨äºç°ä»£<code>JavaScript</code>åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å·¥å…·</p>
<ul>
<li>é™æ€æ¨¡å—</li>
</ul>
<p>è¿™é‡Œçš„é™æ€æ¨¡å—æŒ‡çš„æ˜¯å¼€å‘é˜¶æ®µï¼Œå¯ä»¥è¢« <code>webpack</code> ç›´æ¥å¼•ç”¨çš„èµ„æºï¼ˆå¯ä»¥ç›´æ¥è¢«è·å–æ‰“åŒ…è¿›<code>bundle.js</code>çš„èµ„æºï¼‰</p>
<p>å½“ <code>webpack </code>å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šåœ¨å†…éƒ¨æ„å»ºä¸€ä¸ªä¾èµ–å›¾ï¼Œæ­¤ä¾èµ–å›¾å¯¹åº”æ˜ å°„åˆ°é¡¹ç›®æ‰€éœ€çš„æ¯ä¸ªæ¨¡å—ï¼ˆä¸å†å±€é™<code>js</code>æ–‡ä»¶ï¼‰ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ª <code>bundle</code></p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f39636531393461302d613537382d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<h5 id="webpackçš„èƒ½åŠ›ï¼š"><a href="#webpackçš„èƒ½åŠ›ï¼š" class="headerlink" title="webpackçš„èƒ½åŠ›ï¼š"></a><code>webpack</code>çš„èƒ½åŠ›ï¼š</h5><p>ç¼–è¯‘ä»£ç èƒ½åŠ›ï¼Œæé«˜æ•ˆç‡ï¼Œè§£å†³æµè§ˆå™¨å…¼å®¹é—®é¢˜<br><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f63356332643336302d613539322d313165622d616239302d6439616538313462323430642e706e67.png"><br>æ¨¡å—æ•´åˆèƒ½åŠ›ï¼Œæé«˜æ€§èƒ½ï¼Œå¯ç»´æŠ¤æ€§ï¼Œè§£å†³æµè§ˆå™¨é¢‘ç¹è¯·æ±‚æ–‡ä»¶çš„é—®é¢˜<br><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f64333036643236302d613539322d313165622d616239302d6439616538313462323430642e706e67.png"><br>ä¸‡ç‰©çš†å¯æ¨¡å—èƒ½åŠ›ï¼Œé¡¹ç›®ç»´æŠ¤æ€§å¢å¼ºï¼Œæ”¯æŒä¸åŒç§ç±»çš„å‰ç«¯æ¨¡å—ç±»å‹ï¼Œç»Ÿä¸€çš„æ¨¡å—åŒ–æ–¹æ¡ˆï¼Œæ‰€æœ‰èµ„æºæ–‡ä»¶çš„åŠ è½½éƒ½å¯ä»¥é€šè¿‡ä»£ç æ§åˆ¶<br><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65336335613034302d613539322d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-webpackçš„æ ¸å¿ƒæ€æƒ³æ˜¯ä»€ä¹ˆ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-webpackçš„æ ¸å¿ƒæ€æƒ³æ˜¯ä»€ä¹ˆ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ webpackçš„æ ¸å¿ƒæ€æƒ³æ˜¯ä»€ä¹ˆ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ webpackçš„æ ¸å¿ƒæ€æƒ³æ˜¯ä»€ä¹ˆ</h3><p>ä¸‡ç‰©çš†æ¨¡å—ï¼šåœ¨webpacckçš„ä¸–ç•Œä¸­ï¼Œå…¶ä»–ä»»ä½•èµ„æºéƒ½å¯ä»¥å½“åšæ¨¡å—çš„æ–¹å¼å¼•å…¥ </p>
<p>ä»£ç åˆ†å‰²ï¼šwebapp çš„ä¼˜åŒ–å…³é”®åœ¨äºä»£ç ä½“ç§¯ï¼Œå½“åº”ç”¨ä½“ç§¯å¢å¤§ï¼Œå®ç°ä»£ç çš„æŒ‰éœ€åŠ è½½æ˜¯åˆšéœ€ï¼Œè¿™ä¹Ÿæ˜¯ webpack å‡ºç°çš„æ ¹æœ¬åŸå›  </p>
<p>å¯å®šåˆ¶åŒ–ï¼šä»»ä½•ä¸€ä¸ªå·¥å…·éƒ½ä¸å¯èƒ½è§£å†³æ‰€æœ‰é—®é¢˜ï¼Œæä¾›è§£å†³æ–¹æ¡ˆæ‰æ˜¯æœ€å¯è¡Œçš„ï¼ŒwebpackåŸºäºå¯å®šåˆ¶åŒ–çš„ç†å¿µæ„å»ºï¼Œé€šè¿‡æ’ä»¶ç³»ç»Ÿï¼Œé…ç½®æ–‡ä»¶ï¼Œå¯å®ç°å¤§å‹é¡¹ç›®çš„å®šåˆ¶éœ€æ±‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´è¯´webpackçš„æ„å»ºæµç¨‹"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´è¯´webpackçš„æ„å»ºæµç¨‹" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´è¯´webpackçš„æ„å»ºæµç¨‹?"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´è¯´webpackçš„æ„å»ºæµç¨‹?</h3><h4 id="ä¸€ã€è¿è¡Œæµç¨‹"><a href="#ä¸€ã€è¿è¡Œæµç¨‹" class="headerlink" title="ä¸€ã€è¿è¡Œæµç¨‹"></a>ä¸€ã€è¿è¡Œæµç¨‹</h4><p><code>webpack</code> çš„è¿è¡Œæµç¨‹æ˜¯ä¸€ä¸ªä¸²è¡Œçš„è¿‡ç¨‹ï¼Œå®ƒçš„å·¥ä½œæµç¨‹å°±æ˜¯å°†å„ä¸ªæ’ä»¶ä¸²è”èµ·æ¥</p>
<p>åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¼šå¹¿æ’­äº‹ä»¶ï¼Œæ’ä»¶åªéœ€è¦ç›‘å¬å®ƒæ‰€å…³å¿ƒçš„äº‹ä»¶ï¼Œå°±èƒ½åŠ å…¥åˆ°è¿™æ¡<code>webpack</code>æœºåˆ¶ä¸­ï¼Œå»æ”¹å˜<code>webpack</code>çš„è¿ä½œï¼Œä½¿å¾—æ•´ä¸ªç³»ç»Ÿæ‰©å±•æ€§è‰¯å¥½</p>
<p>ä»å¯åŠ¨åˆ°ç»“æŸä¼šä¾æ¬¡æ‰§è¡Œä»¥ä¸‹ä¸‰å¤§æ­¥éª¤ï¼š</p>
<ul>
<li>åˆå§‹åŒ–æµç¨‹ï¼šä»é…ç½®æ–‡ä»¶å’Œ <code>Shell</code> è¯­å¥ä¸­è¯»å–ä¸åˆå¹¶å‚æ•°ï¼Œå¹¶åˆå§‹åŒ–éœ€è¦ä½¿ç”¨çš„æ’ä»¶å’Œé…ç½®æ’ä»¶ç­‰æ‰§è¡Œç¯å¢ƒæ‰€éœ€è¦çš„å‚æ•°</li>
<li>ç¼–è¯‘æ„å»ºæµç¨‹ï¼šä» Entry å‘å‡ºï¼Œé’ˆå¯¹æ¯ä¸ª Module ä¸²è¡Œè°ƒç”¨å¯¹åº”çš„ Loader å»ç¿»è¯‘æ–‡ä»¶å†…å®¹ï¼Œå†æ‰¾åˆ°è¯¥ Module ä¾èµ–çš„ Moduleï¼Œé€’å½’åœ°è¿›è¡Œç¼–è¯‘å¤„ç†</li>
<li>è¾“å‡ºæµç¨‹ï¼šå¯¹ç¼–è¯‘åçš„ Module ç»„åˆæˆ Chunkï¼ŒæŠŠ Chunk è½¬æ¢æˆæ–‡ä»¶ï¼Œè¾“å‡ºåˆ°æ–‡ä»¶ç³»ç»Ÿ</li>
</ul>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f62353636643430302d613635382d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<h5 id="åˆå§‹åŒ–æµç¨‹"><a href="#åˆå§‹åŒ–æµç¨‹" class="headerlink" title="åˆå§‹åŒ–æµç¨‹"></a>åˆå§‹åŒ–æµç¨‹</h5><p>ä»é…ç½®æ–‡ä»¶å’Œ <code>Shell</code> è¯­å¥ä¸­è¯»å–ä¸åˆå¹¶å‚æ•°ï¼Œå¾—å‡ºæœ€ç»ˆçš„å‚æ•°</p>
<p>é…ç½®æ–‡ä»¶é»˜è®¤ä¸‹ä¸º<code>webpack.config.js</code>ï¼Œä¹Ÿæˆ–è€…é€šè¿‡å‘½ä»¤çš„å½¢å¼æŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œä¸»è¦ä½œç”¨æ˜¯ç”¨äºæ¿€æ´»<code>webpack</code>çš„åŠ è½½é¡¹å’Œæ’ä»¶</p>
<p>å…³äºæ–‡ä»¶é…ç½®å†…å®¹åˆ†æï¼Œå¦‚ä¸‹æ³¨é‡Šï¼š</p>
<pre><code class="javascript">var path = require(&#39;path&#39;);
var node_modules = path.resolve(__dirname, &#39;node_modules&#39;);
var pathToReact = path.resolve(node_modules, &#39;react/dist/react.min.js&#39;);

module.exports = &#123;
  // å…¥å£æ–‡ä»¶ï¼Œæ˜¯æ¨¡å—æ„å»ºçš„èµ·ç‚¹ï¼ŒåŒæ—¶æ¯ä¸€ä¸ªå…¥å£æ–‡ä»¶å¯¹åº”æœ€åç”Ÿæˆçš„ä¸€ä¸ª chunkã€‚
  entry: &#39;./path/to/my/entry/file.js&#39;ï¼Œ
  // æ–‡ä»¶è·¯å¾„æŒ‡å‘(å¯åŠ å¿«æ‰“åŒ…è¿‡ç¨‹)ã€‚
  resolve: &#123;
    alias: &#123;
      &#39;react&#39;: pathToReact
    &#125;
  &#125;,
  // ç”Ÿæˆæ–‡ä»¶ï¼Œæ˜¯æ¨¡å—æ„å»ºçš„ç»ˆç‚¹ï¼ŒåŒ…æ‹¬è¾“å‡ºæ–‡ä»¶ä¸è¾“å‡ºè·¯å¾„ã€‚
  output: &#123;
    path: path.resolve(__dirname, &#39;build&#39;),
    filename: &#39;[name].js&#39;
  &#125;,
  // è¿™é‡Œé…ç½®äº†å¤„ç†å„æ¨¡å—çš„ loader ï¼ŒåŒ…æ‹¬ css é¢„å¤„ç† loader ï¼Œes6 ç¼–è¯‘ loaderï¼Œå›¾ç‰‡å¤„ç† loaderã€‚
  module: &#123;
    loaders: [
      &#123;
        test: /\.js$/,
        loader: &#39;babel&#39;,
        query: &#123;
          presets: [&#39;es2015&#39;, &#39;react&#39;]
        &#125;
      &#125;
    ],
    noParse: [pathToReact]
  &#125;,
  // webpack å„æ’ä»¶å¯¹è±¡ï¼Œåœ¨ webpack çš„äº‹ä»¶æµä¸­æ‰§è¡Œå¯¹åº”çš„æ–¹æ³•ã€‚
  plugins: [
    new webpack.HotModuleReplacementPlugin()
  ]
&#125;;
webpack` å°† `webpack.config.js` ä¸­çš„å„ä¸ªé…ç½®é¡¹æ‹·è´åˆ° `options` å¯¹è±¡ä¸­ï¼Œå¹¶åŠ è½½ç”¨æˆ·é…ç½®çš„ `plugins
</code></pre>
<p>å®Œæˆä¸Šè¿°æ­¥éª¤ä¹‹åï¼Œåˆ™å¼€å§‹åˆå§‹åŒ–<code>Compiler</code>ç¼–è¯‘å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æŒæ§è€…<code>webpack</code>å£°æ˜å‘¨æœŸï¼Œä¸æ‰§è¡Œå…·ä½“çš„ä»»åŠ¡ï¼Œåªæ˜¯è¿›è¡Œä¸€äº›è°ƒåº¦å·¥ä½œ</p>
<pre><code class="javascript">class Compiler extends Tapable &#123;
    constructor(context) &#123;
        super();
        this.hooks = &#123;
            beforeCompile: new AsyncSeriesHook([&quot;params&quot;]),
            compile: new SyncHook([&quot;params&quot;]),
            afterCompile: new AsyncSeriesHook([&quot;compilation&quot;]),
            make: new AsyncParallelHook([&quot;compilation&quot;]),
            entryOption: new SyncBailHook([&quot;context&quot;, &quot;entry&quot;])
            // å®šä¹‰äº†å¾ˆå¤šä¸åŒç±»å‹çš„é’©å­
        &#125;;
        // ...
    &#125;
&#125;

function webpack(options) &#123;
  var compiler = new Compiler();
  ...// æ£€æŸ¥options,è‹¥watchå­—æ®µä¸ºtrue,åˆ™å¼€å¯watchçº¿ç¨‹
  return compiler;
&#125;
...
</code></pre>
<p><code>Compiler</code> å¯¹è±¡ç»§æ‰¿è‡ª <code>Tapable</code>ï¼Œåˆå§‹åŒ–æ—¶å®šä¹‰äº†å¾ˆå¤šé’©å­å‡½æ•°</p>
<h5 id="ç¼–è¯‘æ„å»ºæµç¨‹"><a href="#ç¼–è¯‘æ„å»ºæµç¨‹" class="headerlink" title="ç¼–è¯‘æ„å»ºæµç¨‹"></a>ç¼–è¯‘æ„å»ºæµç¨‹</h5><p>æ ¹æ®é…ç½®ä¸­çš„ <code>entry</code> æ‰¾å‡ºæ‰€æœ‰çš„å…¥å£æ–‡ä»¶</p>
<pre><code class="javascript">module.exports = &#123;
  entry: &#39;./src/file.js&#39;
&#125;
</code></pre>
<p>åˆå§‹åŒ–å®Œæˆåä¼šè°ƒç”¨<code>Compiler</code>çš„<code>run</code>æ¥çœŸæ­£å¯åŠ¨<code>webpack</code>ç¼–è¯‘æ„å»ºæµç¨‹ï¼Œä¸»è¦æµç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>compile</code> å¼€å§‹ç¼–è¯‘</li>
<li><code>make</code> ä»å…¥å£ç‚¹åˆ†ææ¨¡å—åŠå…¶ä¾èµ–çš„æ¨¡å—ï¼Œåˆ›å»ºè¿™äº›æ¨¡å—å¯¹è±¡</li>
<li><code>build-module</code> æ„å»ºæ¨¡å—</li>
<li><code>seal</code> å°è£…æ„å»ºç»“æœ</li>
<li><code>emit</code> æŠŠå„ä¸ªchunkè¾“å‡ºåˆ°ç»“æœæ–‡ä»¶</li>
</ul>
<h5 id="compile-ç¼–è¯‘"><a href="#compile-ç¼–è¯‘" class="headerlink" title="compile ç¼–è¯‘"></a>compile ç¼–è¯‘</h5><p>æ‰§è¡Œäº†<code>run</code>æ–¹æ³•åï¼Œé¦–å…ˆä¼šè§¦å‘<code>compile</code>ï¼Œä¸»è¦æ˜¯æ„å»ºä¸€ä¸ª<code>Compilation</code>å¯¹è±¡</p>
<p>è¯¥å¯¹è±¡æ˜¯ç¼–è¯‘é˜¶æ®µçš„ä¸»è¦æ‰§è¡Œè€…ï¼Œä¸»è¦ä¼šä¾æ¬¡ä¸‹è¿°æµç¨‹ï¼šæ‰§è¡Œæ¨¡å—åˆ›å»ºã€ä¾èµ–æ”¶é›†ã€åˆ†å—ã€æ‰“åŒ…ç­‰ä¸»è¦ä»»åŠ¡çš„å¯¹è±¡</p>
<h5 id="make-ç¼–è¯‘æ¨¡å—"><a href="#make-ç¼–è¯‘æ¨¡å—" class="headerlink" title="make ç¼–è¯‘æ¨¡å—"></a>make ç¼–è¯‘æ¨¡å—</h5><p>å½“å®Œæˆäº†ä¸Šè¿°çš„<code>compilation</code>å¯¹è±¡åï¼Œå°±å¼€å§‹ä»<code>Entry</code>å…¥å£æ–‡ä»¶å¼€å§‹è¯»å–ï¼Œä¸»è¦æ‰§è¡Œ<code>_addModuleChain()</code>å‡½æ•°ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">_addModuleChain(context, dependency, onModule, callback) &#123;
   ...
   // æ ¹æ®ä¾èµ–æŸ¥æ‰¾å¯¹åº”çš„å·¥å‚å‡½æ•°
   const Dep = /** @type &#123;DepConstructor&#125; */ (dependency.constructor);
   const moduleFactory = this.dependencyFactories.get(Dep);
   
   // è°ƒç”¨å·¥å‚å‡½æ•°NormalModuleFactoryçš„createæ¥ç”Ÿæˆä¸€ä¸ªç©ºçš„NormalModuleå¯¹è±¡
   moduleFactory.create(&#123;
       dependencies: [dependency]
       ...
   &#125;, (err, module) =&gt; &#123;
       ...
       const afterBuild = () =&gt; &#123;
        this.processModuleDependencies(module, err =&gt; &#123;
         if (err) return callback(err);
         callback(null, module);
           &#125;);
    &#125;;
       
       this.buildModule(module, false, null, null, err =&gt; &#123;
           ...
           afterBuild();
       &#125;)
   &#125;)
&#125;
</code></pre>
<p>è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<p><code>_addModuleChain</code>ä¸­æ¥æ”¶å‚æ•°<code>dependency</code>ä¼ å…¥çš„å…¥å£ä¾èµ–ï¼Œä½¿ç”¨å¯¹åº”çš„å·¥å‚å‡½æ•°<code>NormalModuleFactory.create</code>æ–¹æ³•ç”Ÿæˆä¸€ä¸ªç©ºçš„<code>module</code>å¯¹è±¡</p>
<p>å›è°ƒä¸­ä¼šæŠŠæ­¤<code>module</code>å­˜å…¥<code>compilation.modules</code>å¯¹è±¡å’Œ<code>dependencies.module</code>å¯¹è±¡ä¸­ï¼Œç”±äºæ˜¯å…¥å£æ–‡ä»¶ï¼Œä¹Ÿä¼šå­˜å…¥<code>compilation.entries</code>ä¸­</p>
<p>éšåæ‰§è¡Œ<code>buildModule</code>è¿›å…¥çœŸæ­£çš„æ„å»ºæ¨¡å—<code>module</code>å†…å®¹çš„è¿‡ç¨‹</p>
<h5 id="build-module-å®Œæˆæ¨¡å—ç¼–è¯‘"><a href="#build-module-å®Œæˆæ¨¡å—ç¼–è¯‘" class="headerlink" title="build module å®Œæˆæ¨¡å—ç¼–è¯‘"></a>build module å®Œæˆæ¨¡å—ç¼–è¯‘</h5><p>è¿™é‡Œä¸»è¦è°ƒç”¨é…ç½®çš„<code>loaders</code>ï¼Œå°†æˆ‘ä»¬çš„æ¨¡å—è½¬æˆæ ‡å‡†çš„<code>JS</code>æ¨¡å—</p>
<p>åœ¨ç”¨<code> Loader</code> å¯¹ä¸€ä¸ªæ¨¡å—è½¬æ¢å®Œåï¼Œä½¿ç”¨ <code>acorn</code> è§£æè½¬æ¢åçš„å†…å®¹ï¼Œè¾“å‡ºå¯¹åº”çš„æŠ½è±¡è¯­æ³•æ ‘ï¼ˆ<code>AST</code>ï¼‰ï¼Œä»¥æ–¹ä¾¿ <code>Webpack </code>åé¢å¯¹ä»£ç çš„åˆ†æ</p>
<p>ä»é…ç½®çš„å…¥å£æ¨¡å—å¼€å§‹ï¼Œåˆ†æå…¶ <code>AST</code>ï¼Œå½“é‡åˆ°<code>require</code>ç­‰å¯¼å…¥å…¶å®ƒæ¨¡å—è¯­å¥æ—¶ï¼Œä¾¿å°†å…¶åŠ å…¥åˆ°ä¾èµ–çš„æ¨¡å—åˆ—è¡¨ï¼ŒåŒæ—¶å¯¹æ–°æ‰¾å‡ºçš„ä¾èµ–æ¨¡å—é€’å½’åˆ†æï¼Œæœ€ç»ˆææ¸…æ‰€æœ‰æ¨¡å—çš„ä¾èµ–å…³ç³»</p>
<h5 id="è¾“å‡ºæµç¨‹"><a href="#è¾“å‡ºæµç¨‹" class="headerlink" title="è¾“å‡ºæµç¨‹"></a>è¾“å‡ºæµç¨‹</h5><h5 id="seal-è¾“å‡ºèµ„æº"><a href="#seal-è¾“å‡ºèµ„æº" class="headerlink" title="seal è¾“å‡ºèµ„æº"></a>seal è¾“å‡ºèµ„æº</h5><p><code>seal</code>æ–¹æ³•ä¸»è¦æ˜¯è¦ç”Ÿæˆ<code>chunks</code>ï¼Œå¯¹<code>chunks</code>è¿›è¡Œä¸€ç³»åˆ—çš„ä¼˜åŒ–æ“ä½œï¼Œå¹¶ç”Ÿæˆè¦è¾“å‡ºçš„ä»£ç </p>
<p><code>webpack</code> ä¸­çš„ <code>chunk</code> ï¼Œå¯ä»¥ç†è§£ä¸ºé…ç½®åœ¨ <code>entry</code> ä¸­çš„æ¨¡å—ï¼Œæˆ–è€…æ˜¯åŠ¨æ€å¼•å…¥çš„æ¨¡å—</p>
<p>æ ¹æ®å…¥å£å’Œæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œç»„è£…æˆä¸€ä¸ªä¸ªåŒ…å«å¤šä¸ªæ¨¡å—çš„ <code>Chunk</code>ï¼Œå†æŠŠæ¯ä¸ª <code>Chunk</code> è½¬æ¢æˆä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶åŠ å…¥åˆ°è¾“å‡ºåˆ—è¡¨</p>
<h5 id="emit-è¾“å‡ºå®Œæˆ"><a href="#emit-è¾“å‡ºå®Œæˆ" class="headerlink" title="emit è¾“å‡ºå®Œæˆ"></a>emit è¾“å‡ºå®Œæˆ</h5><p>åœ¨ç¡®å®šå¥½è¾“å‡ºå†…å®¹åï¼Œæ ¹æ®é…ç½®ç¡®å®šè¾“å‡ºçš„è·¯å¾„å’Œæ–‡ä»¶å</p>
<pre><code class="javascript">output: &#123;
    path: path.resolve(__dirname, &#39;build&#39;),
        filename: &#39;[name].js&#39;
&#125;
</code></pre>
<p>åœ¨ <code>Compiler</code> å¼€å§‹ç”Ÿæˆæ–‡ä»¶å‰ï¼Œé’©å­ <code>emit</code> ä¼šè¢«æ‰§è¡Œï¼Œè¿™æ˜¯æˆ‘ä»¬ä¿®æ”¹æœ€ç»ˆæ–‡ä»¶çš„æœ€åä¸€ä¸ªæœºä¼š</p>
<p>ä»è€Œ<code>webpack</code>æ•´ä¸ªæ‰“åŒ…è¿‡ç¨‹åˆ™ç»“æŸäº†</p>
<h4 id="å°ç»“-1"><a href="#å°ç»“-1" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f64373766633536302d613635382d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-Loaderå’ŒPluginçš„åŒºåˆ«"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-Loaderå’ŒPluginçš„åŒºåˆ«" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸  Loaderå’ŒPluginçš„åŒºåˆ«"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸  Loaderå’ŒPluginçš„åŒºåˆ«</h3><h4 id="loaderæ˜¯ä¸€ä¸ªè½¬æ¢å™¨"><a href="#loaderæ˜¯ä¸€ä¸ªè½¬æ¢å™¨" class="headerlink" title="loaderæ˜¯ä¸€ä¸ªè½¬æ¢å™¨"></a>loaderæ˜¯ä¸€ä¸ªè½¬æ¢å™¨</h4><p>1ã€ç”¨äºå¯¹æ¨¡å—æºç æ–‡ä»¶çš„é¢„ç¼–è¯‘å’Œè½¬æ¢ï¼Œï¼Œloaderæè¿°äº†webpackå¦‚ä½•å¤„ç†éjavascriptæ¨¡å—ã€‚</p>
<p>2ã€æ²¡æœ‰loaderï¼Œæ„å»ºçš„æ‰“åŒ…è¿‡ç¨‹æ— æ³•é¡ºåˆ©å®Œæˆ</p>
<p>3ã€loaderä½œç”¨åœ¨æ‰“åŒ…å‰</p>
<p>4ã€å°†Aæ–‡ä»¶è½¬æ¢ä¸ºBæ–‡ä»¶ï¼Œæ“ä½œçš„æ˜¯æ–‡ä»¶ï¼Œæ¯”å¦‚å°†A.scssè½¬æ¢ä¸ºA.cssï¼Œæ˜¯å•çº¯çš„æ–‡ä»¶è½¬æ¢è¿‡ç¨‹</p>
<h4 id="Pluginæ˜¯æ’ä»¶æ‰©å±•å™¨"><a href="#Pluginæ˜¯æ’ä»¶æ‰©å±•å™¨" class="headerlink" title="Pluginæ˜¯æ’ä»¶æ‰©å±•å™¨"></a>Pluginæ˜¯æ’ä»¶æ‰©å±•å™¨</h4><p>1ã€pluginæ„å»ºè¿‡ç¨‹æ›´å®Œæ•´çš„è¡¥å……å’Œä¼˜åŒ–ï¼Œå¦‚ä½¿ç”¨new UglifyJsPlugin(),new CssMinimizerPlugin()å‹ç¼©jså’Œcss</p>
<p>2ã€æ²¡æœ‰pluginï¼Œæ–‡ä»¶çš„æ‰“åŒ…è¿‡ç¨‹å¯ä»¥å®Œæˆ</p>
<p>3ã€pluginä½œç”¨äºæ•´ä¸ªæ‰“åŒ…è¿‡ç¨‹ï¼Œ</p>
<p>4ã€é’ˆå¯¹webpackçš„æ‰“åŒ…è¿‡ç¨‹ï¼Œä»–ä¸ç›´æ¥æ“ä½œæ–‡ä»¶ï¼Œè€Œæ˜¯åŸºäºäº‹ä»¶æœºåˆ¶å·¥ä½œï¼Œä¼šç›‘å¬webpackæ‰“åŒ…è¿‡ç¨‹çš„äº‹ä»¶é’©å­ï¼Œæ‰§è¡Œä»»åŠ¡ï¼Œé€šè¿‡äº‹ä»¶é’©å­æ‹¦æˆªwebpackçš„æ‰§è¡Œã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-æœ‰å“ªäº›å¸¸è§çš„Loader"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-æœ‰å“ªäº›å¸¸è§çš„Loader" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ æœ‰å“ªäº›å¸¸è§çš„Loader"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ æœ‰å“ªäº›å¸¸è§çš„Loader</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p><code>loader</code> ç”¨äºå¯¹æ¨¡å—çš„â€æºä»£ç â€è¿›è¡Œè½¬æ¢ï¼Œåœ¨ <code>import</code> æˆ–â€åŠ è½½â€æ¨¡å—æ—¶é¢„å¤„ç†æ–‡ä»¶</p>
<p><code>webpack</code>åšçš„äº‹æƒ…ï¼Œä»…ä»…æ˜¯åˆ†æå‡ºå„ç§æ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œç„¶åå½¢æˆèµ„æºåˆ—è¡¨ï¼Œæœ€ç»ˆæ‰“åŒ…ç”Ÿæˆåˆ°æŒ‡å®šçš„æ–‡ä»¶ä¸­ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f37623864393634302d613666662d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<p>åœ¨<code>webpack</code>å†…éƒ¨ä¸­ï¼Œä»»ä½•æ–‡ä»¶éƒ½æ˜¯æ¨¡å—ï¼Œä¸ä»…ä»…åªæ˜¯<code>js</code>æ–‡ä»¶</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨é‡åˆ°<code>import</code>æˆ–è€…<code>load</code>åŠ è½½æ¨¡å—çš„æ—¶å€™ï¼Œ<code>webpack</code>åªæ”¯æŒå¯¹<code>js</code>æ–‡ä»¶æ‰“åŒ…</p>
<p>åƒ<code>css</code>ã€<code>sass</code>ã€<code>png</code>ç­‰è¿™äº›ç±»å‹çš„æ–‡ä»¶çš„æ—¶å€™ï¼Œ<code>webpack</code>åˆ™æ— èƒ½ä¸ºåŠ›ï¼Œè¿™æ—¶å€™å°±éœ€è¦é…ç½®å¯¹åº”çš„<code>loader</code>è¿›è¡Œæ–‡ä»¶å†…å®¹çš„è§£æ</p>
<p>åœ¨åŠ è½½æ¨¡å—çš„æ—¶å€™ï¼Œæ‰§è¡Œé¡ºåºå¦‚ä¸‹ï¼š</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f39633263343362302d613666662d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>å½“ <code>webpack</code> ç¢°åˆ°ä¸è¯†åˆ«çš„æ¨¡å—çš„æ—¶å€™ï¼Œ<code>webpack</code> ä¼šåœ¨é…ç½®çš„ä¸­æŸ¥æ‰¾è¯¥æ–‡ä»¶è§£æè§„åˆ™</p>
<p>å…³äºé…ç½®<code>loader</code>çš„æ–¹å¼æœ‰ä¸‰ç§ï¼š</p>
<ul>
<li>é…ç½®æ–¹å¼ï¼ˆæ¨èï¼‰ï¼šåœ¨ webpack.config.jsæ–‡ä»¶ä¸­æŒ‡å®š loader</li>
<li>å†…è”æ–¹å¼ï¼šåœ¨æ¯ä¸ª import è¯­å¥ä¸­æ˜¾å¼æŒ‡å®š loader</li>
<li>CLI æ–¹å¼ï¼šåœ¨ shell å‘½ä»¤ä¸­æŒ‡å®šå®ƒä»¬</li>
</ul>
<h5 id="é…ç½®æ–¹å¼"><a href="#é…ç½®æ–¹å¼" class="headerlink" title="é…ç½®æ–¹å¼"></a>é…ç½®æ–¹å¼</h5><p>å…³äº<code>loader</code>çš„é…ç½®ï¼Œæˆ‘ä»¬æ˜¯å†™åœ¨<code>module.rules</code>å±æ€§ä¸­ï¼Œå±æ€§ä»‹ç»å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>rules</code>æ˜¯ä¸€ä¸ªæ•°ç»„çš„å½¢å¼ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é…ç½®å¾ˆå¤šä¸ª<code>loader</code></li>
<li>æ¯ä¸€ä¸ª<code>loader</code>å¯¹åº”ä¸€ä¸ªå¯¹è±¡çš„å½¢å¼ï¼Œå¯¹è±¡å±æ€§<code>test</code> ä¸ºåŒ¹é…çš„è§„åˆ™ï¼Œä¸€èˆ¬æƒ…å†µä¸ºæ­£åˆ™è¡¨è¾¾å¼</li>
<li>å±æ€§<code>use</code>é’ˆå¯¹åŒ¹é…åˆ°æ–‡ä»¶ç±»å‹ï¼Œè°ƒç”¨å¯¹åº”çš„ <code>loader</code> è¿›è¡Œå¤„ç†</li>
</ul>
<p>ä»£ç ç¼–å†™ï¼Œå¦‚ä¸‹å½¢å¼ï¼š</p>
<pre><code class="javascript">module.exports = &#123;
  module: &#123;
    rules: [
      &#123;
        test: /\.css$/,
        use: [
          &#123; loader: &#39;style-loader&#39; &#125;,
          &#123;
            loader: &#39;css-loader&#39;,
            options: &#123;
              modules: true
            &#125;
          &#125;,
          &#123; loader: &#39;sass-loader&#39; &#125;
        ]
      &#125;
    ]
  &#125;
&#125;;
</code></pre>
<h4 id="äºŒã€ç‰¹æ€§"><a href="#äºŒã€ç‰¹æ€§" class="headerlink" title="äºŒã€ç‰¹æ€§"></a>äºŒã€ç‰¹æ€§</h4><p>è¿™é‡Œç»§ç»­æ‹¿ä¸Šè¿°ä»£ç ï¼Œæ¥è®²è®²<code>loader</code>çš„ç‰¹æ€§</p>
<p>ä»ä¸Šè¿°ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œåœ¨å¤„ç†<code>css</code>æ¨¡å—çš„æ—¶å€™ï¼Œ<code>use</code>å±æ€§ä¸­é…ç½®äº†ä¸‰ä¸ª<code>loader</code>åˆ†åˆ«å¤„ç†<code>css</code>æ–‡ä»¶</p>
<p>å› ä¸º<code>loader </code>æ”¯æŒé“¾å¼è°ƒç”¨ï¼Œé“¾ä¸­çš„æ¯ä¸ª<code>loader</code>ä¼šå¤„ç†ä¹‹å‰å·²å¤„ç†è¿‡çš„èµ„æºï¼Œæœ€ç»ˆå˜ä¸º<code>js</code>ä»£ç ã€‚é¡ºåºä¸ºç›¸åçš„é¡ºåºæ‰§è¡Œï¼Œå³ä¸Šè¿°æ‰§è¡Œæ–¹å¼ä¸º<code>sass-loader</code>ã€<code>css-loader</code>ã€<code>style-loader</code></p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œ<code>loader</code>çš„ç‰¹æ€§è¿˜æœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>loader å¯ä»¥æ˜¯åŒæ­¥çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯å¼‚æ­¥çš„</li>
<li>loader è¿è¡Œåœ¨ Node.js ä¸­ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ‰§è¡Œä»»ä½•æ“ä½œ</li>
<li>é™¤äº†å¸¸è§çš„é€šè¿‡ <code>package.json</code> çš„ <code>main</code> æ¥å°†ä¸€ä¸ª npm æ¨¡å—å¯¼å‡ºä¸º loaderï¼Œè¿˜å¯ä»¥åœ¨ module.rules ä¸­ä½¿ç”¨ <code>loader</code> å­—æ®µç›´æ¥å¼•ç”¨ä¸€ä¸ªæ¨¡å—</li>
<li>æ’ä»¶(plugin)å¯ä»¥ä¸º loader å¸¦æ¥æ›´å¤šç‰¹æ€§</li>
<li>loader èƒ½å¤Ÿäº§ç”Ÿé¢å¤–çš„ä»»æ„æ–‡ä»¶</li>
</ul>
<p>å¯ä»¥é€šè¿‡ loader çš„é¢„å¤„ç†å‡½æ•°ï¼Œä¸º JavaScript ç”Ÿæ€ç³»ç»Ÿæä¾›æ›´å¤šèƒ½åŠ›ã€‚ç”¨æˆ·ç°åœ¨å¯ä»¥æ›´åŠ çµæ´»åœ°å¼•å…¥ç»†ç²’åº¦é€»è¾‘ï¼Œä¾‹å¦‚ï¼šå‹ç¼©ã€æ‰“åŒ…ã€è¯­è¨€ç¿»è¯‘å’Œæ›´å¤šå…¶ä»–ç‰¹æ€§</p>
<h4 id="ä¸‰ã€å¸¸è§çš„loader"><a href="#ä¸‰ã€å¸¸è§çš„loader" class="headerlink" title="ä¸‰ã€å¸¸è§çš„loader"></a>ä¸‰ã€å¸¸è§çš„loader</h4><p>åœ¨é¡µé¢å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸æ€§åŠ è½½é™¤äº†<code>js</code>æ–‡ä»¶ä»¥å¤–çš„å†…å®¹ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦é…ç½®å“åº”çš„<code>loader</code>è¿›è¡ŒåŠ è½½</p>
<p>å¸¸è§çš„<code>loader</code>å¦‚ä¸‹ï¼š</p>
<ul>
<li>style-loader: å°†cssæ·»åŠ åˆ°DOMçš„å†…è”æ ·å¼æ ‡ç­¾styleé‡Œ</li>
<li>css-loader :å…è®¸å°†cssæ–‡ä»¶é€šè¿‡requireçš„æ–¹å¼å¼•å…¥ï¼Œå¹¶è¿”å›cssä»£ç </li>
<li>less-loader: å¤„ç†less</li>
<li>sass-loader: å¤„ç†sass</li>
<li>postcss-loader: ç”¨postcssæ¥å¤„ç†CSS</li>
<li>autoprefixer-loader: å¤„ç†CSS3å±æ€§å‰ç¼€ï¼Œå·²è¢«å¼ƒç”¨ï¼Œå»ºè®®ç›´æ¥ä½¿ç”¨postcss</li>
<li>file-loader: åˆ†å‘æ–‡ä»¶åˆ°outputç›®å½•å¹¶è¿”å›ç›¸å¯¹è·¯å¾„</li>
<li>url-loader: å’Œfile-loaderç±»ä¼¼ï¼Œä½†æ˜¯å½“æ–‡ä»¶å°äºè®¾å®šçš„limitæ—¶å¯ä»¥è¿”å›ä¸€ä¸ªData Url</li>
<li>html-minify-loader: å‹ç¼©HTML</li>
<li>babel-loader :ç”¨babelæ¥è½¬æ¢ES6æ–‡ä»¶åˆ°ES</li>
</ul>
<p>ä¸‹é¢ç»™å‡ºä¸€äº›å¸¸è§çš„<code>loader</code>çš„ä½¿ç”¨ï¼š</p>
<h5 id="css-loader"><a href="#css-loader" class="headerlink" title="css-loader"></a>css-loader</h5><p>åˆ†æ <code>css</code> æ¨¡å—ä¹‹é—´çš„å…³ç³»ï¼Œå¹¶åˆæˆâ¼€ä¸ª <code>css</code></p>
<pre><code class="javascript">npm install --save-dev css-loader
rules: [
  ...,
 &#123;
  test: /\.css$/,
    use: &#123;
      loader: &quot;css-loader&quot;,
      options: &#123;
     // å¯ç”¨/ç¦ç”¨ url() å¤„ç†
     url: true,
     // å¯ç”¨/ç¦ç”¨ @import å¤„ç†
     import: true,
        // å¯ç”¨/ç¦ç”¨ Sourcemap
        sourceMap: false
      &#125;
    &#125;
 &#125;
]
</code></pre>
<p>å¦‚æœåªé€šè¿‡<code>css-loader</code>åŠ è½½æ–‡ä»¶ï¼Œè¿™æ—¶å€™é¡µé¢ä»£ç è®¾ç½®çš„æ ·å¼å¹¶æ²¡æœ‰ç”Ÿæ•ˆ</p>
<p>åŸå› åœ¨äºï¼Œ<code>css-loader</code>åªæ˜¯è´Ÿè´£å°†<code>.css</code>æ–‡ä»¶è¿›è¡Œä¸€ä¸ªè§£æï¼Œè€Œå¹¶ä¸ä¼šå°†è§£æåçš„<code>css</code>æ’å…¥åˆ°é¡µé¢ä¸­</p>
<p>å¦‚æœæˆ‘ä»¬å¸Œæœ›å†å®Œæˆæ’å…¥<code>style</code>çš„æ“ä½œï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦å¦å¤–ä¸€ä¸ª<code>loader</code>ï¼Œå°±æ˜¯<code>style-loader</code></p>
<h5 id="style-loader"><a href="#style-loader" class="headerlink" title="style-loader"></a>style-loader</h5><p>æŠŠ <code>css-loader</code> ç”Ÿæˆçš„å†…å®¹ï¼Œç”¨ <code>style</code> æ ‡ç­¾æŒ‚è½½åˆ°é¡µé¢çš„ <code>head</code> ä¸­</p>
<pre><code class="javascript">npm install --save-dev style-loader
rules: [
  ...,
 &#123;
  test: /\.css$/,
    use: [&quot;style-loader&quot;, &quot;css-loader&quot;]
 &#125;
]
</code></pre>
<p>åŒä¸€ä¸ªä»»åŠ¡çš„ <code>loader</code> å¯ä»¥åŒæ—¶æŒ‚è½½å¤šä¸ªï¼Œå¤„ç†é¡ºåºä¸ºï¼šä»å³åˆ°å·¦ï¼Œä»ä¸‹å¾€ä¸Š</p>
<h5 id="less-loader"><a href="#less-loader" class="headerlink" title="less-loader"></a>less-loader</h5><p>å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¸¸å¸¸ä¼šä½¿ç”¨<code>less</code>ã€<code>sass</code>ã€<code>stylus</code>é¢„å¤„ç†å™¨ç¼–å†™<code>css</code>æ ·å¼ï¼Œä½¿å¼€å‘æ•ˆç‡æé«˜ï¼Œè¿™é‡Œéœ€è¦ä½¿ç”¨<code>less-loader</code></p>
<pre><code class="javascript">npm install less-loader -D
rules: [
  ...,
 &#123;
  test: /\.css$/,
    use: [&quot;style-loader&quot;, &quot;css-loader&quot;,&quot;less-loader&quot;]
 &#125;
]
</code></pre>
<h5 id="raw-loader"><a href="#raw-loader" class="headerlink" title="raw-loader"></a>raw-loader</h5><p>åœ¨ <code>webpack </code>ä¸­é€šè¿‡ <code>import </code>æ–¹å¼å¯¼å…¥æ–‡ä»¶å†…å®¹ï¼Œè¯¥<code>loader </code>å¹¶ä¸æ˜¯å†…ç½®çš„ï¼Œæ‰€ä»¥é¦–å…ˆè¦å®‰è£…</p>
<pre><code class="shell">npm install --save-dev raw-loader
</code></pre>
<p>ç„¶ååœ¨ webpack.config.js ä¸­è¿›è¡Œé…ç½®</p>
<pre><code class="javascript">module.exports = &#123;  
...,  
module: &#123;      
rules: [      
&#123;        
test: /\.(txt|md)$/,  
use: &#39;raw-loader&#39;   
&#125;   
] &#125;&#125;
</code></pre>
<h5 id="file-loader"><a href="#file-loader" class="headerlink" title="file-loader"></a>file-loader</h5><p>æŠŠè¯†åˆ«å‡ºçš„èµ„æºæ¨¡å—ï¼Œç§»åŠ¨åˆ°æŒ‡å®šçš„è¾“å‡ºâ½¬ç›®å½•ï¼Œå¹¶ä¸”è¿”å›è¿™ä¸ªèµ„æºåœ¨è¾“å‡ºç›®å½•çš„åœ°å€(å­—ç¬¦ä¸²)</p>
<pre><code class="javascript">npm install --save-dev file-loader
rules: [  ..., &#123;  
test: /\.(png|jpe?g|gif)$/,    
use: &#123;      
loader: &quot;file-loader&quot;,  
options: &#123;       
// placeholder å ä½ç¬¦ [name] æºèµ„æºæ¨¡å—çš„åç§°        
// [ext] æºèµ„æºæ¨¡å—çš„åç¼€       
name: &quot;[name]_[hash].[ext]&quot;,        //æ‰“åŒ…åçš„å­˜æ”¾ä½ç½®        
outputPath: &quot;./images&quot;,        // æ‰“åŒ…åæ–‡ä»¶çš„ url        
publicPath: &#39;./images&#39;,      &#125;    &#125; &#125;]
</code></pre>
<h5 id="url-loader"><a href="#url-loader" class="headerlink" title="url-loader"></a>url-loader</h5><p>å¯ä»¥å¤„ç†ï§¤ <code>file-loader</code> æ‰€æœ‰çš„äº‹æƒ…ï¼Œä½†æ˜¯é‡åˆ°å›¾ç‰‡æ ¼å¼çš„æ¨¡å—ï¼Œå¯ä»¥é€‰æ‹©æ€§çš„æŠŠå›¾ç‰‡è½¬æˆ <code>base64</code> æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œå¹¶æ‰“åŒ…åˆ° <code>js</code> ä¸­ï¼Œå¯¹å°ä½“ç§¯çš„å›¾ç‰‡æ¯”è¾ƒåˆé€‚ï¼Œå¤§å›¾ç‰‡ï¥§åˆé€‚ã€‚</p>
<pre><code class="javascript">npm install --save-dev url-loader
rules: [  ..., &#123;  
        test: /\.(png|jpe?g|gif)$/,    
        use: &#123;     
        loader: &quot;url-loader&quot;,      
        options: &#123;        
        // placeholder å ä½ç¬¦ [name] æºèµ„æºæ¨¡å—çš„åç§°        
        // [ext] æºèµ„æºæ¨¡å—çš„åç¼€        
        name: &quot;[name]_[hash].[ext]&quot;,        //æ‰“åŒ…åçš„å­˜æ”¾ä½ç½®        
        outputPath: &quot;./images&quot;        // æ‰“åŒ…åæ–‡ä»¶çš„ url        
        publicPath: &#39;./images&#39;,        // å°äº 100 å­—èŠ‚è½¬æˆ base64 æ ¼å¼        limit: 100      &#125;    &#125; &#125;]
</code></pre>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-æœ‰å“ªäº›å¸¸è§çš„Plugin"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-æœ‰å“ªäº›å¸¸è§çš„Plugin" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ æœ‰å“ªäº›å¸¸è§çš„Plugin"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ æœ‰å“ªäº›å¸¸è§çš„Plugin</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-1"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-1" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p><code>Plugin</code>ï¼ˆPlug-inï¼‰æ˜¯ä¸€ç§è®¡ç®—æœºåº”ç”¨ç¨‹åºï¼Œå®ƒå’Œä¸»åº”ç”¨ç¨‹åºäº’ç›¸äº¤äº’ï¼Œä»¥æä¾›ç‰¹å®šçš„åŠŸèƒ½</p>
<p>æ˜¯ä¸€ç§éµå¾ªä¸€å®šè§„èŒƒçš„åº”ç”¨ç¨‹åºæ¥å£ç¼–å†™å‡ºæ¥çš„ç¨‹åºï¼Œåªèƒ½è¿è¡Œåœ¨ç¨‹åºè§„å®šçš„ç³»ç»Ÿä¸‹ï¼Œå› ä¸ºå…¶éœ€è¦è°ƒç”¨åŸçº¯å‡€ç³»ç»Ÿæä¾›çš„å‡½æ•°åº“æˆ–è€…æ•°æ®</p>
<p><code>webpack</code>ä¸­çš„<code>plugin</code>ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œ<code>plugin</code>èµ‹äºˆå…¶å„ç§çµæ´»çš„åŠŸèƒ½ï¼Œä¾‹å¦‚æ‰“åŒ…ä¼˜åŒ–ã€èµ„æºç®¡ç†ã€ç¯å¢ƒå˜é‡æ³¨å…¥ç­‰ï¼Œå®ƒä»¬ä¼šè¿è¡Œåœ¨ <code>webpack</code> çš„ä¸åŒé˜¶æ®µï¼ˆé’©å­ &#x2F; ç”Ÿå‘½å‘¨æœŸï¼‰ï¼Œè´¯ç©¿äº†<code>webpack</code>æ•´ä¸ªç¼–è¯‘å‘¨æœŸ</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f39613034656334302d613763322d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<p>ç›®çš„åœ¨äºè§£å†³<code>loader</code> æ— æ³•å®ç°çš„å…¶ä»–äº‹</p>
<h5 id="é…ç½®æ–¹å¼-1"><a href="#é…ç½®æ–¹å¼-1" class="headerlink" title="é…ç½®æ–¹å¼"></a>é…ç½®æ–¹å¼</h5><p>è¿™é‡Œè®²è¿°æ–‡ä»¶çš„é…ç½®æ–¹å¼ï¼Œä¸€èˆ¬æƒ…å†µï¼Œé€šè¿‡é…ç½®æ–‡ä»¶å¯¼å‡ºå¯¹è±¡ä¸­<code>plugins</code>å±æ€§ä¼ å…¥<code>new</code>å®ä¾‹å¯¹è±¡ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="javascript">const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;); // é€šè¿‡ npm å®‰è£…
const webpack = require(&#39;webpack&#39;); // è®¿é—®å†…ç½®çš„æ’ä»¶
module.exports = &#123;
  ...
  plugins: [
    new webpack.ProgressPlugin(),
    new HtmlWebpackPlugin(&#123; template: &#39;./src/index.html&#39; &#125;),
  ],
&#125;;
</code></pre>
<h4 id="äºŒã€ç‰¹æ€§-1"><a href="#äºŒã€ç‰¹æ€§-1" class="headerlink" title="äºŒã€ç‰¹æ€§"></a>äºŒã€ç‰¹æ€§</h4><p>å…¶æœ¬è´¨æ˜¯ä¸€ä¸ªå…·æœ‰<code>apply</code>æ–¹æ³•<code>javascript</code>å¯¹è±¡</p>
<p><code>apply</code> æ–¹æ³•ä¼šè¢« <code>webpack compiler </code>è°ƒç”¨ï¼Œå¹¶ä¸”åœ¨æ•´ä¸ªç¼–è¯‘ç”Ÿå‘½å‘¨æœŸéƒ½å¯ä»¥è®¿é—® <code>compiler </code>å¯¹è±¡</p>
<pre><code class="javascript">const pluginName = &#39;ConsoleLogOnBuildWebpackPlugin&#39;;

class ConsoleLogOnBuildWebpackPlugin &#123;
  apply(compiler) &#123;
    compiler.hooks.run.tap(pluginName, (compilation) =&gt; &#123;
      console.log(&#39;webpack æ„å»ºè¿‡ç¨‹å¼€å§‹ï¼&#39;);
    &#125;);
  &#125;
&#125;

module.exports = ConsoleLogOnBuildWebpackPlugin;
</code></pre>
<p><code>compiler hook</code> çš„ <code>tap </code>æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œåº”æ˜¯é©¼å³°å¼å‘½åçš„æ’ä»¶åç§°</p>
<p>å…³äºæ•´ä¸ªç¼–è¯‘ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œæœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>entry-option ï¼šåˆå§‹åŒ– option</li>
<li>run</li>
<li>compileï¼š çœŸæ­£å¼€å§‹çš„ç¼–è¯‘ï¼Œåœ¨åˆ›å»º compilation å¯¹è±¡ä¹‹å‰</li>
<li>compilation ï¼šç”Ÿæˆå¥½äº† compilation å¯¹è±¡</li>
<li>make ä» entry å¼€å§‹é€’å½’åˆ†æä¾èµ–ï¼Œå‡†å¤‡å¯¹æ¯ä¸ªæ¨¡å—è¿›è¡Œ build</li>
<li>after-compileï¼š ç¼–è¯‘ build è¿‡ç¨‹ç»“æŸ</li>
<li>emit ï¼šåœ¨å°†å†…å­˜ä¸­ assets å†…å®¹å†™åˆ°ç£ç›˜æ–‡ä»¶å¤¹ä¹‹å‰</li>
<li>after-emit ï¼šåœ¨å°†å†…å­˜ä¸­ assets å†…å®¹å†™åˆ°ç£ç›˜æ–‡ä»¶å¤¹ä¹‹å</li>
<li>doneï¼š å®Œæˆæ‰€æœ‰çš„ç¼–è¯‘è¿‡ç¨‹</li>
<li>failedï¼š ç¼–è¯‘å¤±è´¥çš„æ—¶å€™</li>
</ul>
<h4 id="ä¸‰ã€å¸¸è§çš„Plugin"><a href="#ä¸‰ã€å¸¸è§çš„Plugin" class="headerlink" title="ä¸‰ã€å¸¸è§çš„Plugin"></a>ä¸‰ã€å¸¸è§çš„Plugin</h4><p>å¸¸è§çš„<code>plugin</code>æœ‰å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f62643734393430302d613763322d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>ä¸‹é¢ä»‹ç»å‡ ä¸ªå¸¸ç”¨çš„æ’ä»¶ç”¨æ³•ï¼š</p>
<h5 id="HtmlWebpackPlugin"><a href="#HtmlWebpackPlugin" class="headerlink" title="HtmlWebpackPlugin"></a>HtmlWebpackPlugin</h5><p>åœ¨æ‰“åŒ…ç»“æŸåï¼Œâ¾ƒåŠ¨ç”Ÿæˆâ¼€ä¸ª <code>html</code> â½‚æ–‡ä»¶ï¼Œå¹¶æŠŠæ‰“åŒ…ç”Ÿæˆçš„<code> js</code> æ¨¡å—å¼•â¼Šåˆ°è¯¥ <code>html</code> ä¸­</p>
<pre><code class="javascript">npm install --save-dev html-webpack-plugin
// webpack.config.js
const HtmlWebpackPlugin = require(&quot;html-webpack-plugin&quot;);
module.exports = &#123;
 ...
  plugins: [
     new HtmlWebpackPlugin(&#123;
       title: &quot;My App&quot;,
       filename: &quot;app.html&quot;,
       template: &quot;./src/html/index.html&quot;
     &#125;) 
  ]
&#125;;
&lt;!--./src/html/index.html--&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
    &lt;title&gt;&lt;%=htmlWebpackPlugin.options.title%&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;html-webpack-plugin&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>åœ¨ <code>html</code> æ¨¡æ¿ä¸­ï¼Œå¯ä»¥é€šè¿‡ <code>&lt;%=htmlWebpackPlugin.options.XXX%&gt;</code> çš„æ–¹å¼è·å–é…ç½®çš„å€¼</p>
<p>æ›´å¤šçš„é…ç½®å¯ä»¥è‡ªå¯»æŸ¥æ‰¾</p>
<h5 id="clean-webpack-plugin"><a href="#clean-webpack-plugin" class="headerlink" title="clean-webpack-plugin"></a>clean-webpack-plugin</h5><p>åˆ é™¤ï¼ˆæ¸…ç†ï¼‰æ„å»ºç›®å½•</p>
<pre><code class="javascript">npm install --save-dev clean-webpack-plugin
const &#123;CleanWebpackPlugin&#125; = require(&#39;clean-webpack-plugin&#39;);
module.exports = &#123;
 ...
  plugins: [
    ...,
    new CleanWebpackPlugin(),
    ...
  ]
&#125;
</code></pre>
<h5 id="mini-css-extract-plugin"><a href="#mini-css-extract-plugin" class="headerlink" title="mini-css-extract-plugin"></a>mini-css-extract-plugin</h5><p>æå– <code>CSS</code> åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­</p>
<pre><code class="javascript">npm install --save-dev mini-css-extract-plugin
const MiniCssExtractPlugin = require(&#39;mini-css-extract-plugin&#39;);
module.exports = &#123; ...,  
                  module: &#123;   
                  rules: [    
                  &#123;     test: /\.s[ac]ss$/,     
                  use: [     
                  &#123;      loader: MiniCssExtractPlugin.loader     &#125;,          
  &#39;css-loader&#39;,          &#39;sass-loader&#39;        ]   &#125;   ] &#125;,  
    plugins: [    ...,    
              new MiniCssExtractPlugin(&#123;     filename: &#39;[name].css&#39;    &#125;),    ...  ]&#125;
</code></pre>
<h5 id="DefinePlugin"><a href="#DefinePlugin" class="headerlink" title="DefinePlugin"></a>DefinePlugin</h5><p>å…è®¸åœ¨ç¼–è¯‘æ—¶åˆ›å»ºé…ç½®çš„å…¨å±€å¯¹è±¡ï¼Œæ˜¯ä¸€ä¸ª<code>webpack</code>å†…ç½®çš„æ’ä»¶ï¼Œä¸éœ€è¦å®‰è£…</p>
<pre><code class="javascript">const &#123; DefinePlugun &#125; = require(&#39;webpack&#39;)module.exports = &#123; ...    plugins:[        new DefinePlugin(&#123;            BASE_URL:&#39;&quot;./&quot;&#39;        &#125;)    ]&#125;
</code></pre>
<p>è¿™æ—¶å€™ç¼–è¯‘<code>template</code>æ¨¡å—çš„æ—¶å€™ï¼Œå°±èƒ½é€šè¿‡ä¸‹è¿°å½¢å¼è·å–å…¨å±€å¯¹è±¡</p>
<pre><code class="javascript">&lt;link rel=&quot;icon&quot; href=&quot;&lt;%= BASE_URL%&gt;favicon.ico&gt;&quot;
</code></pre>
<h5 id="copy-webpack-plugin"><a href="#copy-webpack-plugin" class="headerlink" title="copy-webpack-plugin"></a>copy-webpack-plugin</h5><p>å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•åˆ°æ‰§è¡ŒåŒºåŸŸï¼Œå¦‚<code>vue</code>çš„æ‰“åŒ…è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæˆ‘ä»¬å°†ä¸€äº›æ–‡ä»¶æ”¾åˆ°<code>public</code>çš„ç›®å½•ä¸‹ï¼Œé‚£ä¹ˆè¿™ä¸ªç›®å½•ä¼šè¢«å¤åˆ¶åˆ°<code>dist</code>æ–‡ä»¶å¤¹ä¸­</p>
<pre><code class="javascript">npm install copy-webpack-plugin -D
new CopyWebpackPlugin(&#123;    parrerns:[        &#123;            
  from:&quot;public&quot;,            
  globOptions:&#123;                i
               gnore:[                    &#39;**/index.html&#39;                ]            &#125;        &#125;    ]&#125;)
</code></pre>
<p>å¤åˆ¶çš„è§„åˆ™åœ¨<code>patterns</code>å±æ€§ä¸­è®¾ç½®ï¼š</p>
<ul>
<li>fromï¼šè®¾ç½®ä»å“ªä¸€ä¸ªæºä¸­å¼€å§‹å¤åˆ¶</li>
<li>toï¼šå¤åˆ¶åˆ°çš„ä½ç½®ï¼Œå¯ä»¥çœç•¥ï¼Œä¼šé»˜è®¤å¤åˆ¶åˆ°æ‰“åŒ…çš„ç›®å½•ä¸‹</li>
<li>globOptionsï¼šè®¾ç½®ä¸€äº›é¢å¤–çš„é€‰é¡¹ï¼Œå…¶ä¸­å¯ä»¥ç¼–å†™éœ€è¦å¿½ç•¥çš„æ–‡ä»¶</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´ä¸€ä¸‹-Webpack-çš„çƒ­æ›´æ–°åŸç†"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´ä¸€ä¸‹-Webpack-çš„çƒ­æ›´æ–°åŸç†" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´ä¸€ä¸‹ Webpack çš„çƒ­æ›´æ–°åŸç†"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´ä¸€ä¸‹ Webpack çš„çƒ­æ›´æ–°åŸç†</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-2"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-2" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p><code>HMR </code>å…¨ç§° <code>Hot Module Replacement</code>ï¼Œå¯ä»¥ç†è§£ä¸ºæ¨¡å—çƒ­æ›¿æ¢ï¼ŒæŒ‡åœ¨åº”ç”¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæ›¿æ¢ã€æ·»åŠ ã€åˆ é™¤æ¨¡å—ï¼Œè€Œæ— éœ€é‡æ–°åˆ·æ–°æ•´ä¸ªåº”ç”¨</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬åœ¨åº”ç”¨è¿è¡Œè¿‡ç¨‹ä¸­ä¿®æ”¹äº†æŸä¸ªæ¨¡å—ï¼Œé€šè¿‡è‡ªåŠ¨åˆ·æ–°ä¼šå¯¼è‡´æ•´ä¸ªåº”ç”¨çš„æ•´ä½“åˆ·æ–°ï¼Œé‚£é¡µé¢ä¸­çš„çŠ¶æ€ä¿¡æ¯éƒ½ä¼šä¸¢å¤±</p>
<p>å¦‚æœä½¿ç”¨çš„æ˜¯ <code>HMR</code>ï¼Œå°±å¯ä»¥å®ç°åªå°†ä¿®æ”¹çš„æ¨¡å—å®æ—¶æ›¿æ¢è‡³åº”ç”¨ä¸­ï¼Œä¸å¿…å®Œå…¨åˆ·æ–°æ•´ä¸ªåº”ç”¨</p>
<p>åœ¨<code>webpack</code>ä¸­é…ç½®å¼€å¯çƒ­æ¨¡å—ä¹Ÿéå¸¸çš„ç®€å•ï¼Œå¦‚ä¸‹ä»£ç ï¼š</p>
<pre><code class="javascript">const webpack = require(&#39;webpack&#39;)
module.exports = &#123;
  // ...
  devServer: &#123;
    // å¼€å¯ HMR ç‰¹æ€§
    hot: true
    // hotOnly: true
  &#125;
&#125;
</code></pre>
<p>é€šè¿‡ä¸Šè¿°è¿™ç§é…ç½®ï¼Œå¦‚æœæˆ‘ä»¬ä¿®æ”¹å¹¶ä¿å­˜<code>css</code>æ–‡ä»¶ï¼Œç¡®å®èƒ½å¤Ÿä»¥ä¸åˆ·æ–°çš„å½¢å¼æ›´æ–°åˆ°é¡µé¢ä¸­</p>
<p>ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬ä¿®æ”¹å¹¶ä¿å­˜<code>js</code>æ–‡ä»¶ä¹‹åï¼Œé¡µé¢ä¾æ—§è‡ªåŠ¨åˆ·æ–°äº†ï¼Œè¿™é‡Œå¹¶æ²¡æœ‰è§¦å‘çƒ­æ¨¡å—</p>
<p>æ‰€ä»¥ï¼Œ<code>HMR </code>å¹¶ä¸åƒ <code>Webpack</code> çš„å…¶ä»–ç‰¹æ€§ä¸€æ ·å¯ä»¥å¼€ç®±å³ç”¨ï¼Œéœ€è¦æœ‰ä¸€äº›é¢å¤–çš„æ“ä½œ</p>
<p>æˆ‘ä»¬éœ€è¦å»æŒ‡å®šå“ªäº›æ¨¡å—å‘ç”Ÿæ›´æ–°æ—¶è¿›è¡Œ<code>HRM</code>ï¼Œå¦‚ä¸‹ä»£ç ï¼š</p>
<pre><code class="javascript">if(module.hot)&#123;
    module.hot.accept(&#39;./util.js&#39;,()=&gt;&#123;
        console.log(&quot;util.jsæ›´æ–°äº†&quot;)
    &#125;)
&#125;
</code></pre>
<h4 id="äºŒã€å®ç°åŸç†"><a href="#äºŒã€å®ç°åŸç†" class="headerlink" title="äºŒã€å®ç°åŸç†"></a>äºŒã€å®ç°åŸç†</h4><p>é¦–å…ˆæ¥çœ‹çœ‹ä¸€å¼ å›¾ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f61646330353738302d616364342d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<ul>
<li>Webpack Compileï¼šå°† JS æºä»£ç ç¼–è¯‘æˆ bundle.js</li>
<li>HMR Serverï¼šç”¨æ¥å°†çƒ­æ›´æ–°çš„æ–‡ä»¶è¾“å‡ºç»™ HMR Runtime</li>
<li>Bundle Serverï¼šé™æ€èµ„æºæ–‡ä»¶æœåŠ¡å™¨ï¼Œæä¾›æ–‡ä»¶è®¿é—®è·¯å¾„</li>
<li>HMR Runtimeï¼šsocketæœåŠ¡å™¨ï¼Œä¼šè¢«æ³¨å…¥åˆ°æµè§ˆå™¨ï¼Œæ›´æ–°æ–‡ä»¶çš„å˜åŒ–</li>
<li>bundle.jsï¼šæ„å»ºè¾“å‡ºçš„æ–‡ä»¶</li>
<li>åœ¨HMR Runtime å’Œ HMR Serverä¹‹é—´å»ºç«‹ websocketï¼Œå³å›¾ä¸Š4å·çº¿ï¼Œç”¨äºå®æ—¶æ›´æ–°æ–‡ä»¶å˜åŒ–</li>
</ul>
<p>ä¸Šé¢å›¾ä¸­ï¼Œå¯ä»¥åˆ†æˆä¸¤ä¸ªé˜¶æ®µï¼š</p>
<ul>
<li>å¯åŠ¨é˜¶æ®µä¸ºä¸Šå›¾ 1 - 2 - A - B</li>
</ul>
<p>åœ¨ç¼–å†™æœªç»è¿‡<code>webpack</code>æ‰“åŒ…çš„æºä»£ç åï¼Œ<code>Webpack Compile</code> å°†æºä»£ç å’Œ <code>HMR Runtime</code> ä¸€èµ·ç¼–è¯‘æˆ <code>bundle </code>æ–‡ä»¶ï¼Œä¼ è¾“ç»™<code> Bundle Server</code> é™æ€èµ„æºæœåŠ¡å™¨</p>
<ul>
<li>æ›´æ–°é˜¶æ®µä¸ºä¸Šå›¾ 1 - 2 - 3 - 4</li>
</ul>
<p>å½“æŸä¸€ä¸ªæ–‡ä»¶æˆ–è€…æ¨¡å—å‘ç”Ÿå˜åŒ–æ—¶ï¼Œ<code>webpack </code>ç›‘å¬åˆ°æ–‡ä»¶å˜åŒ–å¯¹æ–‡ä»¶é‡æ–°ç¼–è¯‘æ‰“åŒ…ï¼Œç¼–è¯‘ç”Ÿæˆå”¯ä¸€çš„<code>hash</code>å€¼ï¼Œè¿™ä¸ª<code>hash </code>å€¼ç”¨æ¥ä½œä¸ºä¸‹ä¸€æ¬¡çƒ­æ›´æ–°çš„æ ‡è¯†</p>
<p>æ ¹æ®å˜åŒ–çš„å†…å®¹ç”Ÿæˆä¸¤ä¸ªè¡¥ä¸æ–‡ä»¶ï¼š<code>manifest</code>ï¼ˆåŒ…å«äº† <code>hash</code> å’Œ <code>chundId </code>ï¼Œç”¨æ¥è¯´æ˜å˜åŒ–çš„å†…å®¹ï¼‰å’Œ<code> chunk.js</code> æ¨¡å—</p>
<p>ç”±äº<code>socket</code>æœåŠ¡å™¨åœ¨<code>HMR Runtime</code> å’Œ <code>HMR Server</code>ä¹‹é—´å»ºç«‹ <code>websocket</code>é“¾æ¥ï¼Œå½“æ–‡ä»¶å‘ç”Ÿæ”¹åŠ¨çš„æ—¶å€™ï¼ŒæœåŠ¡ç«¯ä¼šå‘æµè§ˆå™¨æ¨é€ä¸€æ¡æ¶ˆæ¯ï¼Œæ¶ˆæ¯åŒ…å«æ–‡ä»¶æ”¹åŠ¨åç”Ÿæˆçš„<code>hash</code>å€¼ï¼Œå¦‚ä¸‹å›¾çš„<code>h</code>å±æ€§ï¼Œä½œä¸ºä¸‹ä¸€æ¬¡çƒ­æ›´ç»†çš„æ ‡è¯†</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f30356130656466302d616434612d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>åœ¨æµè§ˆå™¨æ¥å—åˆ°è¿™æ¡æ¶ˆæ¯ä¹‹å‰ï¼Œæµè§ˆå™¨å·²ç»åœ¨ä¸Šä¸€æ¬¡<code> socket</code> æ¶ˆæ¯ä¸­å·²ç»è®°ä½äº†æ­¤æ—¶çš„<code> hash</code> æ ‡è¯†ï¼Œè¿™æ—¶å€™æˆ‘ä»¬ä¼šåˆ›å»ºä¸€ä¸ª <code>ajax</code> å»æœåŠ¡ç«¯è¯·æ±‚è·å–åˆ°å˜åŒ–å†…å®¹çš„ <code>manifest</code> æ–‡ä»¶</p>
<p><code>mainfest</code>æ–‡ä»¶åŒ…å«é‡æ–°<code>build</code>ç”Ÿæˆçš„<code>hash</code>å€¼ï¼Œä»¥åŠå˜åŒ–çš„æ¨¡å—ï¼Œå¯¹åº”ä¸Šå›¾çš„<code>c</code>å±æ€§</p>
<p>æµè§ˆå™¨æ ¹æ® <code>manifest</code> æ–‡ä»¶è·å–æ¨¡å—å˜åŒ–çš„å†…å®¹ï¼Œä»è€Œè§¦å‘<code>render</code>æµç¨‹ï¼Œå®ç°å±€éƒ¨æ¨¡å—æ›´æ–°</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f30653762373835302d616434612d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<h4 id="ä¸‰ã€æ€»ç»“"><a href="#ä¸‰ã€æ€»ç»“" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h4><p>å…³äº<code>webpack</code>çƒ­æ¨¡å—æ›´æ–°çš„æ€»ç»“å¦‚ä¸‹ï¼š</p>
<ul>
<li>é€šè¿‡<code>webpack-dev-server</code>åˆ›å»ºä¸¤ä¸ªæœåŠ¡å™¨ï¼šæä¾›é™æ€èµ„æºçš„æœåŠ¡ï¼ˆexpressï¼‰å’ŒSocketæœåŠ¡</li>
<li>express server è´Ÿè´£ç›´æ¥æä¾›é™æ€èµ„æºçš„æœåŠ¡ï¼ˆæ‰“åŒ…åçš„èµ„æºç›´æ¥è¢«æµè§ˆå™¨è¯·æ±‚å’Œè§£æï¼‰</li>
<li>socket server æ˜¯ä¸€ä¸ª websocket çš„é•¿è¿æ¥ï¼ŒåŒæ–¹å¯ä»¥é€šä¿¡</li>
<li>å½“ socket server ç›‘å¬åˆ°å¯¹åº”çš„æ¨¡å—å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶.jsonï¼ˆmanifestæ–‡ä»¶ï¼‰å’Œ.jsæ–‡ä»¶ï¼ˆupdate chunkï¼‰</li>
<li>é€šè¿‡é•¿è¿æ¥ï¼Œsocket server å¯ä»¥ç›´æ¥å°†è¿™ä¸¤ä¸ªæ–‡ä»¶ä¸»åŠ¨å‘é€ç»™å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰</li>
<li>æµè§ˆå™¨æ‹¿åˆ°ä¸¤ä¸ªæ–°çš„æ–‡ä»¶åï¼Œé€šè¿‡HMR runtimeæœºåˆ¶ï¼ŒåŠ è½½è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”é’ˆå¯¹ä¿®æ”¹çš„æ¨¡å—è¿›è¡Œæ›´æ–°</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•ä¼˜åŒ–-Webpack-çš„æ„å»ºé€Ÿåº¦"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•ä¼˜åŒ–-Webpack-çš„æ„å»ºé€Ÿåº¦" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•ä¼˜åŒ– Webpack çš„æ„å»ºé€Ÿåº¦"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•ä¼˜åŒ– Webpack çš„æ„å»ºé€Ÿåº¦</h3><h4 id="ä¸€ã€èƒŒæ™¯-1"><a href="#ä¸€ã€èƒŒæ™¯-1" class="headerlink" title="ä¸€ã€èƒŒæ™¯"></a>ä¸€ã€èƒŒæ™¯</h4><p>éšç€æˆ‘ä»¬çš„é¡¹ç›®æ¶‰åŠåˆ°é¡µé¢è¶Šæ¥è¶Šå¤šï¼ŒåŠŸèƒ½å’Œä¸šåŠ¡ä»£ç ä¹Ÿä¼šéšç€è¶Šå¤šï¼Œç›¸åº”çš„ <code>webpack</code> çš„æ„å»ºæ—¶é—´ä¹Ÿä¼šè¶Šæ¥è¶Šä¹…</p>
<p>æ„å»ºæ—¶é—´ä¸æˆ‘ä»¬æ—¥å¸¸å¼€å‘æ•ˆç‡å¯†åˆ‡ç›¸å…³ï¼Œå½“æˆ‘ä»¬æœ¬åœ°å¼€å‘å¯åŠ¨ <code>devServer</code> æˆ–è€… <code>build</code> çš„æ—¶å€™ï¼Œå¦‚æœæ—¶é—´è¿‡é•¿ï¼Œä¼šå¤§å¤§é™ä½æˆ‘ä»¬çš„å·¥ä½œæ•ˆç‡</p>
<p>æ‰€ä»¥ï¼Œä¼˜åŒ–<code>webpack</code> æ„å»ºé€Ÿåº¦æ˜¯ååˆ†é‡è¦çš„ç¯èŠ‚</p>
<h4 id="äºŒã€å¦‚ä½•ä¼˜åŒ–"><a href="#äºŒã€å¦‚ä½•ä¼˜åŒ–" class="headerlink" title="äºŒã€å¦‚ä½•ä¼˜åŒ–"></a>äºŒã€å¦‚ä½•ä¼˜åŒ–</h4><p>å¸¸è§çš„æå‡æ„å»ºé€Ÿåº¦çš„æ‰‹æ®µæœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä¼˜åŒ– loader é…ç½®</li>
<li>åˆç†ä½¿ç”¨ resolve.extensions</li>
<li>ä¼˜åŒ– resolve.modules</li>
<li>ä¼˜åŒ– resolve.alias</li>
<li>ä½¿ç”¨ DLLPlugin æ’ä»¶</li>
<li>ä½¿ç”¨ cache-loader</li>
<li>terser å¯åŠ¨å¤šçº¿ç¨‹</li>
<li>åˆç†ä½¿ç”¨ sourceMap</li>
</ul>
<h5 id="ä¼˜åŒ–loaderé…ç½®"><a href="#ä¼˜åŒ–loaderé…ç½®" class="headerlink" title="ä¼˜åŒ–loaderé…ç½®"></a>ä¼˜åŒ–loaderé…ç½®</h5><p>åœ¨ä½¿ç”¨<code>loader</code>æ—¶ï¼Œå¯ä»¥é€šè¿‡é…ç½®<code>include</code>ã€<code>exclude</code>ã€<code>test</code>å±æ€§æ¥åŒ¹é…æ–‡ä»¶ï¼Œæ¥è§¦<code>include</code>ã€<code>exclude</code>è§„å®šå“ªäº›åŒ¹é…åº”ç”¨<code>loader</code></p>
<p>å¦‚é‡‡ç”¨ ES6 çš„é¡¹ç›®ä¸ºä¾‹ï¼Œåœ¨é…ç½® <code>babel-loader </code>æ—¶ï¼Œå¯ä»¥è¿™æ ·ï¼š</p>
<pre><code class="javascript">module.exports = &#123;
  module: &#123;
    rules: [
      &#123;
        // å¦‚æœé¡¹ç›®æºç ä¸­åªæœ‰ js æ–‡ä»¶å°±ä¸è¦å†™æˆ /\.jsx?$/ï¼Œæå‡æ­£åˆ™è¡¨è¾¾å¼æ€§èƒ½
        test: /\.js$/,
        // babel-loader æ”¯æŒç¼“å­˜è½¬æ¢å‡ºçš„ç»“æœï¼Œé€šè¿‡ cacheDirectory é€‰é¡¹å¼€å¯
        use: [&#39;babel-loader?cacheDirectory&#39;],
        // åªå¯¹é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ src ç›®å½•ä¸­çš„æ–‡ä»¶é‡‡ç”¨ babel-loader
        include: path.resolve(__dirname, &#39;src&#39;),
      &#125;,
    ]
  &#125;,
&#125;;
</code></pre>
<h5 id="åˆç†ä½¿ç”¨-resolve-extensions"><a href="#åˆç†ä½¿ç”¨-resolve-extensions" class="headerlink" title="åˆç†ä½¿ç”¨ resolve.extensions"></a>åˆç†ä½¿ç”¨ resolve.extensions</h5><p>åœ¨å¼€å‘ä¸­æˆ‘ä»¬ä¼šæœ‰å„ç§å„æ ·çš„æ¨¡å—ä¾èµ–ï¼Œè¿™äº›æ¨¡å—å¯èƒ½æ¥è‡ªäºè‡ªå·±ç¼–å†™çš„ä»£ç ï¼Œä¹Ÿå¯èƒ½æ¥è‡ªç¬¬ä¸‰æ–¹åº“ï¼Œ <code>resolve</code>å¯ä»¥å¸®åŠ©<code>webpack</code>ä»æ¯ä¸ª <code>require/import</code> è¯­å¥ä¸­ï¼Œæ‰¾åˆ°éœ€è¦å¼•å…¥åˆ°åˆé€‚çš„æ¨¡å—ä»£ç </p>
<p>é€šè¿‡<code>resolve.extensions</code>æ˜¯è§£æåˆ°æ–‡ä»¶æ—¶è‡ªåŠ¨æ·»åŠ æ‹“å±•åï¼Œé»˜è®¤æƒ…å†µå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">module.exports = &#123;
    ...
    extensions:[&quot;.warm&quot;,&quot;.mjs&quot;,&quot;.js&quot;,&quot;.json&quot;]
&#125;
</code></pre>
<p>å½“æˆ‘ä»¬å¼•å…¥æ–‡ä»¶çš„æ—¶å€™ï¼Œè‹¥æ²¡æœ‰æ–‡ä»¶åç¼€åï¼Œåˆ™ä¼šæ ¹æ®æ•°ç»„å†…çš„å€¼ä¾æ¬¡æŸ¥æ‰¾</p>
<p>å½“æˆ‘ä»¬é…ç½®çš„æ—¶å€™ï¼Œåˆ™ä¸è¦éšä¾¿æŠŠæ‰€æœ‰åç¼€éƒ½å†™åœ¨é‡Œé¢ï¼Œè¿™ä¼šè°ƒç”¨å¤šæ¬¡æ–‡ä»¶çš„æŸ¥æ‰¾ï¼Œè¿™æ ·å°±ä¼šå‡æ…¢æ‰“åŒ…é€Ÿåº¦</p>
<h5 id="ä¼˜åŒ–-resolve-modules"><a href="#ä¼˜åŒ–-resolve-modules" class="headerlink" title="ä¼˜åŒ– resolve.modules"></a>ä¼˜åŒ– resolve.modules</h5><p><code>resolve.modules</code> ç”¨äºé…ç½® <code>webpack</code> å»å“ªäº›ç›®å½•ä¸‹å¯»æ‰¾ç¬¬ä¸‰æ–¹æ¨¡å—ã€‚é»˜è®¤å€¼ä¸º<code>[&#39;node_modules&#39;]</code>ï¼Œæ‰€ä»¥é»˜è®¤ä¼šä»<code>node_modules</code>ä¸­æŸ¥æ‰¾æ–‡ä»¶<br>å½“å®‰è£…çš„ç¬¬ä¸‰æ–¹æ¨¡å—éƒ½æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ <code>./node_modules </code>ç›®å½•ä¸‹æ—¶ï¼Œæ‰€ä»¥å¯ä»¥æŒ‡æ˜å­˜æ”¾ç¬¬ä¸‰æ–¹æ¨¡å—çš„ç»å¯¹è·¯å¾„ï¼Œä»¥å‡å°‘å¯»æ‰¾ï¼Œé…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">module.exports = &#123;
  resolve: &#123;
    // ä½¿ç”¨ç»å¯¹è·¯å¾„æŒ‡æ˜ç¬¬ä¸‰æ–¹æ¨¡å—å­˜æ”¾çš„ä½ç½®ï¼Œä»¥å‡å°‘æœç´¢æ­¥éª¤
    // å…¶ä¸­ __dirname è¡¨ç¤ºå½“å‰å·¥ä½œç›®å½•ï¼Œä¹Ÿå°±æ˜¯é¡¹ç›®æ ¹ç›®å½•
    modules: [path.resolve(__dirname, &#39;node_modules&#39;)]
  &#125;,
&#125;;
</code></pre>
<h5 id="ä¼˜åŒ–-resolve-alias"><a href="#ä¼˜åŒ–-resolve-alias" class="headerlink" title="ä¼˜åŒ– resolve.alias"></a>ä¼˜åŒ– resolve.alias</h5><p><code>alias</code>ç»™ä¸€äº›å¸¸ç”¨çš„è·¯å¾„èµ·ä¸€ä¸ªåˆ«åï¼Œç‰¹åˆ«å½“æˆ‘ä»¬çš„é¡¹ç›®ç›®å½•ç»“æ„æ¯”è¾ƒæ·±çš„æ—¶å€™ï¼Œä¸€ä¸ªæ–‡ä»¶çš„è·¯å¾„å¯èƒ½æ˜¯<code>./../../</code>çš„å½¢å¼</p>
<p>é€šè¿‡é…ç½®<code>alias</code>ä»¥å‡å°‘æŸ¥æ‰¾è¿‡ç¨‹</p>
<pre><code class="javascript">module.exports = &#123;
    ...
    resolve:&#123;
        alias:&#123;
            &quot;@&quot;:path.resolve(__dirname,&#39;./src&#39;)
        &#125;
    &#125;
&#125;
</code></pre>
<h5 id="ä½¿ç”¨-DLLPlugin-æ’ä»¶"><a href="#ä½¿ç”¨-DLLPlugin-æ’ä»¶" class="headerlink" title="ä½¿ç”¨ DLLPlugin æ’ä»¶"></a>ä½¿ç”¨ DLLPlugin æ’ä»¶</h5><p><code>DLL</code>å…¨ç§°æ˜¯ åŠ¨æ€é“¾æ¥åº“ï¼Œæ˜¯ä¸ºè½¯ä»¶åœ¨winodwç§å®ç°å…±äº«å‡½æ•°åº“çš„ä¸€ç§å®ç°æ–¹å¼ï¼Œè€ŒWebpackä¹Ÿå†…ç½®äº†DLLçš„åŠŸèƒ½ï¼Œä¸ºçš„å°±æ˜¯å¯ä»¥å…±äº«ï¼Œä¸ç»å¸¸æ”¹å˜çš„ä»£ç ï¼ŒæŠ½æˆä¸€ä¸ªå…±äº«çš„åº“ã€‚è¿™ä¸ªåº“åœ¨ä¹‹åçš„ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œä¼šè¢«å¼•å…¥åˆ°å…¶ä»–é¡¹ç›®çš„ä»£ç ä¸­</p>
<p>ä½¿ç”¨æ­¥éª¤åˆ†æˆä¸¤éƒ¨åˆ†ï¼š</p>
<ul>
<li>æ‰“åŒ…ä¸€ä¸ª DLL åº“</li>
<li>å¼•å…¥ DLL åº“</li>
</ul>
<h6 id="æ‰“åŒ…ä¸€ä¸ª-DLL-åº“"><a href="#æ‰“åŒ…ä¸€ä¸ª-DLL-åº“" class="headerlink" title="æ‰“åŒ…ä¸€ä¸ª DLL åº“"></a>æ‰“åŒ…ä¸€ä¸ª DLL åº“</h6><p><code>webpack</code>å†…ç½®äº†ä¸€ä¸ª<code>DllPlugin</code>å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ‰“åŒ…ä¸€ä¸ªDLLçš„åº“æ–‡ä»¶</p>
<pre><code class="javascript">module.exports = &#123;
    ...
    plugins:[
        new webpack.DllPlugin(&#123;
            name:&#39;dll_[name]&#39;,
            path:path.resolve(__dirname,&quot;./dll/[name].mainfest.json&quot;)
        &#125;)
    ]
&#125;
</code></pre>
<h6 id="å¼•å…¥-DLL-åº“"><a href="#å¼•å…¥-DLL-åº“" class="headerlink" title="å¼•å…¥ DLL åº“"></a>å¼•å…¥ DLL åº“</h6><p>ä½¿ç”¨ <code>webpack</code> è‡ªå¸¦çš„ <code>DllReferencePlugin</code> æ’ä»¶å¯¹ <code>mainfest.json</code> æ˜ å°„æ–‡ä»¶è¿›è¡Œåˆ†æï¼Œè·å–è¦ä½¿ç”¨çš„<code>DLL</code>åº“</p>
<p>ç„¶åå†é€šè¿‡<code>AddAssetHtmlPlugin</code>æ’ä»¶ï¼Œå°†æˆ‘ä»¬æ‰“åŒ…çš„<code>DLL</code>åº“å¼•å…¥åˆ°<code>Html</code>æ¨¡å—ä¸­</p>
<pre><code class="javascript">module.exports = &#123;
    ...
    new webpack.DllReferencePlugin(&#123;
        context:path.resolve(__dirname,&quot;./dll/dll_react.js&quot;),
        mainfest:path.resolve(__dirname,&quot;./dll/react.mainfest.json&quot;)
    &#125;),
    new AddAssetHtmlPlugin(&#123;
        outputPath:&quot;./auto&quot;,
        filepath:path.resolve(__dirname,&quot;./dll/dll_react.js&quot;)
    &#125;)
&#125;
</code></pre>
<h5 id="ä½¿ç”¨-cache-loader"><a href="#ä½¿ç”¨-cache-loader" class="headerlink" title="ä½¿ç”¨ cache-loader"></a>ä½¿ç”¨ cache-loader</h5><p>åœ¨ä¸€äº›æ€§èƒ½å¼€é”€è¾ƒå¤§çš„ <code>loader </code>ä¹‹å‰æ·»åŠ  <code>cache-loader</code>ï¼Œä»¥å°†ç»“æœç¼“å­˜åˆ°ç£ç›˜é‡Œï¼Œæ˜¾è‘—æå‡äºŒæ¬¡æ„å»ºé€Ÿåº¦</p>
<p>ä¿å­˜å’Œè¯»å–è¿™äº›ç¼“å­˜æ–‡ä»¶ä¼šæœ‰ä¸€äº›æ—¶é—´å¼€é”€ï¼Œæ‰€ä»¥è¯·åªå¯¹æ€§èƒ½å¼€é”€è¾ƒå¤§çš„ <code>loader</code> ä½¿ç”¨æ­¤<code> loader</code></p>
<pre><code class="javascript">module.exports = &#123;
    module: &#123;
        rules: [
            &#123;
                test: /\.ext$/,
                use: [&#39;cache-loader&#39;, ...loaders],
                include: path.resolve(&#39;src&#39;),
            &#125;,
        ],
    &#125;,
&#125;;
</code></pre>
<h5 id="terser-å¯åŠ¨å¤šçº¿ç¨‹"><a href="#terser-å¯åŠ¨å¤šçº¿ç¨‹" class="headerlink" title="terser å¯åŠ¨å¤šçº¿ç¨‹"></a>terser å¯åŠ¨å¤šçº¿ç¨‹</h5><p>ä½¿ç”¨å¤šè¿›ç¨‹å¹¶è¡Œè¿è¡Œæ¥æé«˜æ„å»ºé€Ÿåº¦</p>
<pre><code class="javascript">module.exports = &#123;
  optimization: &#123;
    minimizer: [
      new TerserPlugin(&#123;
        parallel: true,
      &#125;),
    ],
  &#125;,
&#125;;
</code></pre>
<h5 id="åˆç†ä½¿ç”¨-sourceMap"><a href="#åˆç†ä½¿ç”¨-sourceMap" class="headerlink" title="åˆç†ä½¿ç”¨ sourceMap"></a>åˆç†ä½¿ç”¨ sourceMap</h5><p>æ‰“åŒ…ç”Ÿæˆ <code>sourceMap</code> çš„æ—¶å€™ï¼Œå¦‚æœä¿¡æ¯è¶Šè¯¦ç»†ï¼Œæ‰“åŒ…é€Ÿåº¦å°±ä¼šè¶Šæ…¢ã€‚å¯¹åº”å±æ€§å–å€¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f31313634376166302d623031642d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<h4 id="ä¸‰ã€æ€»ç»“-1"><a href="#ä¸‰ã€æ€»ç»“-1" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h4><p>å¯ä»¥çœ‹åˆ°ï¼Œä¼˜åŒ–<code>webpack</code>æ„å»ºçš„æ–¹å¼æœ‰å¾ˆå¤šï¼Œä¸»è¦å¯ä»¥ä»ä¼˜åŒ–æœç´¢æ—¶é—´ã€ç¼©å°æ–‡ä»¶æœç´¢èŒƒå›´ã€å‡å°‘ä¸å¿…è¦çš„ç¼–è¯‘ç­‰æ–¹é¢å…¥æ‰‹</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-è‡ªå·±å†™è¿‡Loaderå’ŒPluginä¹ˆ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-è‡ªå·±å†™è¿‡Loaderå’ŒPluginä¹ˆ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ è‡ªå·±å†™è¿‡Loaderå’ŒPluginä¹ˆ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ è‡ªå·±å†™è¿‡Loaderå’ŒPluginä¹ˆ</h3><h4 id="ä¸€ã€ç¼–å†™loader"><a href="#ä¸€ã€ç¼–å†™loader" class="headerlink" title="ä¸€ã€ç¼–å†™loader"></a>ä¸€ã€ç¼–å†™loader</h4><p>åœ¨ç¼–å†™ <code>loader</code> å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦äº†è§£ <code>loader</code> çš„æœ¬è´¨</p>
<p>å…¶æœ¬è´¨ä¸ºå‡½æ•°ï¼Œå‡½æ•°ä¸­çš„ <code>this</code> ä½œä¸ºä¸Šä¸‹æ–‡ä¼šè¢« <code>webpack</code> å¡«å……ï¼Œå› æ­¤æˆ‘ä»¬ä¸èƒ½å°† <code>loader</code>è®¾ä¸ºä¸€ä¸ªç®­å¤´å‡½æ•°</p>
<p>å‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œä¸º <code>webpack</code> ä¼ é€’ç»™ <code>loader</code> çš„æ–‡ä»¶æºå†…å®¹</p>
<p>å‡½æ•°ä¸­ <code>this</code> æ˜¯ç”± <code>webpack</code> æä¾›çš„å¯¹è±¡ï¼Œèƒ½å¤Ÿè·å–å½“å‰ <code>loader</code> æ‰€éœ€è¦çš„å„ç§ä¿¡æ¯</p>
<p>å‡½æ•°ä¸­æœ‰å¼‚æ­¥æ“ä½œæˆ–åŒæ­¥æ“ä½œï¼Œå¼‚æ­¥æ“ä½œé€šè¿‡ <code>this.callback</code> è¿”å›ï¼Œè¿”å›å€¼è¦æ±‚ä¸º <code>string</code> æˆ–è€… <code>Buffer</code></p>
<p>ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="javascript">// å¯¼å‡ºä¸€ä¸ªå‡½æ•°ï¼Œsourceä¸ºwebpackä¼ é€’ç»™loaderçš„æ–‡ä»¶æºå†…å®¹
module.exports = function(source) &#123;
    const content = doSomeThing2JsString(source);
    
    // å¦‚æœ loader é…ç½®äº† options å¯¹è±¡ï¼Œé‚£ä¹ˆthis.queryå°†æŒ‡å‘ options
    const options = this.query;
    
    // å¯ä»¥ç”¨ä½œè§£æå…¶ä»–æ¨¡å—è·¯å¾„çš„ä¸Šä¸‹æ–‡
    console.log(&#39;this.context&#39;);
    
    /*
     * this.callback å‚æ•°ï¼š
     * errorï¼šError | nullï¼Œå½“ loader å‡ºé”™æ—¶å‘å¤–æŠ›å‡ºä¸€ä¸ª error
     * contentï¼šString | Bufferï¼Œç»è¿‡ loader ç¼–è¯‘åéœ€è¦å¯¼å‡ºçš„å†…å®¹
     * sourceMapï¼šä¸ºæ–¹ä¾¿è°ƒè¯•ç”Ÿæˆçš„ç¼–è¯‘åå†…å®¹çš„ source map
     * astï¼šæœ¬æ¬¡ç¼–è¯‘ç”Ÿæˆçš„ AST é™æ€è¯­æ³•æ ‘ï¼Œä¹‹åæ‰§è¡Œçš„ loader å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ª ASTï¼Œè¿›è€Œçœå»é‡å¤ç”Ÿæˆ AST çš„è¿‡ç¨‹
     */
    this.callback(null, content); // å¼‚æ­¥
    return content; // åŒæ­¥
&#125;
</code></pre>
<p>ä¸€èˆ¬åœ¨ç¼–å†™<code>loader</code>çš„è¿‡ç¨‹ä¸­ï¼Œä¿æŒåŠŸèƒ½å•ä¸€ï¼Œé¿å…åšå¤šç§åŠŸèƒ½</p>
<p>å¦‚<code>less</code>æ–‡ä»¶è½¬æ¢æˆ <code>css </code>æ–‡ä»¶ä¹Ÿä¸æ˜¯ä¸€æ­¥åˆ°ä½ï¼Œè€Œæ˜¯ <code>less-loader</code>ã€<code>css-loader</code>ã€<code>style-loader</code>å‡ ä¸ª <code>loader </code>çš„é“¾å¼è°ƒç”¨æ‰èƒ½å®Œæˆè½¬æ¢</p>
<h4 id="äºŒã€ç¼–å†™plugin"><a href="#äºŒã€ç¼–å†™plugin" class="headerlink" title="äºŒã€ç¼–å†™plugin"></a>äºŒã€ç¼–å†™plugin</h4><p>ç”±äº<code>webpack</code>åŸºäºå‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œåœ¨è¿è¡Œçš„ç”Ÿå‘½å‘¨æœŸä¸­ä¼šå¹¿æ’­å‡ºè®¸å¤šäº‹ä»¶ï¼Œæ’ä»¶é€šè¿‡ç›‘å¬è¿™äº›äº‹ä»¶ï¼Œå°±å¯ä»¥åœ¨ç‰¹å®šçš„é˜¶æ®µæ‰§è¡Œè‡ªå·±çš„æ’ä»¶ä»»åŠ¡</p>
<p>åœ¨ä¹‹å‰ä¹Ÿäº†è§£è¿‡ï¼Œ<code>webpack</code>ç¼–è¯‘ä¼šåˆ›å»ºä¸¤ä¸ªæ ¸å¿ƒå¯¹è±¡ï¼š</p>
<ul>
<li>compilerï¼šåŒ…å«äº† webpack ç¯å¢ƒçš„æ‰€æœ‰çš„é…ç½®ä¿¡æ¯ï¼ŒåŒ…æ‹¬ optionsï¼Œloader å’Œ pluginï¼Œå’Œ webpack æ•´ä¸ªç”Ÿå‘½å‘¨æœŸç›¸å…³çš„é’©å­</li>
<li>compilationï¼šä½œä¸º plugin å†…ç½®äº‹ä»¶å›è°ƒå‡½æ•°çš„å‚æ•°ï¼ŒåŒ…å«äº†å½“å‰çš„æ¨¡å—èµ„æºã€ç¼–è¯‘ç”Ÿæˆèµ„æºã€å˜åŒ–çš„æ–‡ä»¶ä»¥åŠè¢«è·Ÿè¸ªä¾èµ–çš„çŠ¶æ€ä¿¡æ¯ã€‚å½“æ£€æµ‹åˆ°ä¸€ä¸ªæ–‡ä»¶å˜åŒ–ï¼Œä¸€æ¬¡æ–°çš„ Compilation å°†è¢«åˆ›å»º</li>
</ul>
<p>å¦‚æœè‡ªå·±è¦å®ç°<code>plugin</code>ï¼Œä¹Ÿéœ€è¦éµå¾ªä¸€å®šçš„è§„èŒƒï¼š</p>
<ul>
<li>æ’ä»¶å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°æˆ–è€…æ˜¯ä¸€ä¸ªåŒ…å« <code>apply</code> æ–¹æ³•çš„å¯¹è±¡ï¼Œè¿™æ ·æ‰èƒ½è®¿é—®<code>compiler</code>å®ä¾‹</li>
<li>ä¼ ç»™æ¯ä¸ªæ’ä»¶çš„ <code>compiler</code> å’Œ <code>compilation</code> å¯¹è±¡éƒ½æ˜¯åŒä¸€ä¸ªå¼•ç”¨ï¼Œå› æ­¤ä¸å»ºè®®ä¿®æ”¹</li>
<li>å¼‚æ­¥çš„äº‹ä»¶éœ€è¦åœ¨æ’ä»¶å¤„ç†å®Œä»»åŠ¡æ—¶è°ƒç”¨å›è°ƒå‡½æ•°é€šçŸ¥ <code>Webpack</code> è¿›å…¥ä¸‹ä¸€ä¸ªæµç¨‹ï¼Œä¸ç„¶ä¼šå¡ä½</li>
</ul>
<p>å®ç°<code>plugin</code>çš„æ¨¡æ¿å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">class MyPlugin &#123;
    // Webpack ä¼šè°ƒç”¨ MyPlugin å®ä¾‹çš„ apply æ–¹æ³•ç»™æ’ä»¶å®ä¾‹ä¼ å…¥ compiler å¯¹è±¡
  apply (compiler) &#123;
    // æ‰¾åˆ°åˆé€‚çš„äº‹ä»¶é’©å­ï¼Œå®ç°è‡ªå·±çš„æ’ä»¶åŠŸèƒ½
    compiler.hooks.emit.tap(&#39;MyPlugin&#39;, compilation =&gt; &#123;
        // compilation: å½“å‰æ‰“åŒ…æ„å»ºæµç¨‹çš„ä¸Šä¸‹æ–‡
        console.log(compilation);
        
        // do something...
    &#125;)
  &#125;
&#125;
</code></pre>
<p>åœ¨ <code>emit</code> äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œä»£è¡¨æºæ–‡ä»¶çš„è½¬æ¢å’Œç»„è£…å·²ç»å®Œæˆï¼Œå¯ä»¥è¯»å–åˆ°æœ€ç»ˆå°†è¾“å‡ºçš„èµ„æºã€ä»£ç å—ã€æ¨¡å—åŠå…¶ä¾èµ–ï¼Œå¹¶ä¸”å¯ä»¥ä¿®æ”¹è¾“å‡ºèµ„æºçš„å†…å®¹</p>
<h4 id="ä¸‰ã€æ‰‹å†™ä¸€ä¸ªloaderå’Œplugin"><a href="#ä¸‰ã€æ‰‹å†™ä¸€ä¸ªloaderå’Œplugin" class="headerlink" title="ä¸‰ã€æ‰‹å†™ä¸€ä¸ªloaderå’Œplugin"></a>ä¸‰ã€æ‰‹å†™ä¸€ä¸ªloaderå’Œplugin</h4><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903689442820110">æ‰‹å†™ä¸€ä¸ªloaderå’Œplugin</a></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-webpack-proxyå·¥ä½œåŸç†ï¼Ÿä¸ºä»€ä¹ˆèƒ½è§£å†³è·¨åŸŸ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-webpack-proxyå·¥ä½œåŸç†ï¼Ÿä¸ºä»€ä¹ˆèƒ½è§£å†³è·¨åŸŸ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ webpack proxyå·¥ä½œåŸç†ï¼Ÿä¸ºä»€ä¹ˆèƒ½è§£å†³è·¨åŸŸ?"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ webpack proxyå·¥ä½œåŸç†ï¼Ÿä¸ºä»€ä¹ˆèƒ½è§£å†³è·¨åŸŸ?</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-3"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-3" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p><code>webpack proxy</code>ï¼Œå³<code>webpack</code>æä¾›çš„ä»£ç†æœåŠ¡</p>
<p>åŸºæœ¬è¡Œä¸ºå°±æ˜¯æ¥æ”¶å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚åè½¬å‘ç»™å…¶ä»–æœåŠ¡å™¨</p>
<p>å…¶ç›®çš„æ˜¯ä¸ºäº†ä¾¿äºå¼€å‘è€…åœ¨å¼€å‘æ¨¡å¼ä¸‹è§£å†³è·¨åŸŸé—®é¢˜ï¼ˆæµè§ˆå™¨å®‰å…¨ç­–ç•¥é™åˆ¶ï¼‰</p>
<p>æƒ³è¦å®ç°ä»£ç†é¦–å…ˆéœ€è¦ä¸€ä¸ªä¸­é—´æœåŠ¡å™¨ï¼Œ<code>webpack</code>ä¸­æä¾›æœåŠ¡å™¨çš„å·¥å…·ä¸º<code>webpack-dev-server</code></p>
<h5 id="webpack-dev-server"><a href="#webpack-dev-server" class="headerlink" title="webpack-dev-server"></a>webpack-dev-server</h5><p><code>webpack-dev-server</code>æ˜¯ <code>webpack</code> å®˜æ–¹æ¨å‡ºçš„ä¸€æ¬¾å¼€å‘å·¥å…·ï¼Œå°†è‡ªåŠ¨ç¼–è¯‘å’Œè‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨ç­‰ä¸€ç³»åˆ—å¯¹å¼€å‘å‹å¥½çš„åŠŸèƒ½å…¨éƒ¨é›†æˆåœ¨äº†ä¸€èµ·</p>
<p>ç›®çš„æ˜¯ä¸ºäº†æé«˜å¼€å‘è€…æ—¥å¸¸çš„å¼€å‘æ•ˆç‡ï¼Œåªé€‚ç”¨åœ¨å¼€å‘é˜¶æ®µ</p>
<p>å…³äºé…ç½®æ–¹é¢ï¼Œåœ¨<code>webpack</code>é…ç½®å¯¹è±¡å±æ€§ä¸­é€šè¿‡<code>devServer</code>å±æ€§æä¾›ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">// ./webpack.config.js
const path = require(&#39;path&#39;)

module.exports = &#123;
    // ...
    devServer: &#123;
        contentBase: path.join(__dirname, &#39;dist&#39;),
        compress: true,
        port: 9000,
        proxy: &#123;
            &#39;/api&#39;: &#123;
                target: &#39;https://api.github.com&#39;
            &#125;
        &#125;
        // ...
    &#125;
&#125;
</code></pre>
<p><code>devServetr</code>é‡Œé¢<code>proxy</code>åˆ™æ˜¯å…³äºä»£ç†çš„é…ç½®ï¼Œè¯¥å±æ€§ä¸ºå¯¹è±¡çš„å½¢å¼ï¼Œå¯¹è±¡ä¸­æ¯ä¸€ä¸ªå±æ€§å°±æ˜¯ä¸€ä¸ªä»£ç†çš„è§„åˆ™åŒ¹é…</p>
<p>å±æ€§çš„åç§°æ˜¯éœ€è¦è¢«ä»£ç†çš„è¯·æ±‚è·¯å¾„å‰ç¼€ï¼Œä¸€èˆ¬ä¸ºäº†è¾¨åˆ«éƒ½ä¼šè®¾ç½®å‰ç¼€ä¸º<code> /api</code>ï¼Œå€¼ä¸ºå¯¹åº”çš„ä»£ç†åŒ¹é…è§„åˆ™ï¼Œå¯¹åº”å¦‚ä¸‹ï¼š</p>
<ul>
<li>targetï¼šè¡¨ç¤ºçš„æ˜¯ä»£ç†åˆ°çš„ç›®æ ‡åœ°å€</li>
<li>pathRewriteï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„ &#x2F;api-hy ä¹Ÿä¼šè¢«å†™å…¥åˆ°URLä¸­ï¼Œå¦‚æœå¸Œæœ›åˆ é™¤ï¼Œå¯ä»¥ä½¿ç”¨pathRewrite</li>
<li>secureï¼šé»˜è®¤æƒ…å†µä¸‹ä¸æ¥æ”¶è½¬å‘åˆ°httpsçš„æœåŠ¡å™¨ä¸Šï¼Œå¦‚æœå¸Œæœ›æ”¯æŒï¼Œå¯ä»¥è®¾ç½®ä¸ºfalse</li>
<li>changeOriginï¼šå®ƒè¡¨ç¤ºæ˜¯å¦æ›´æ–°ä»£ç†åè¯·æ±‚çš„ headers ä¸­hoståœ°å€</li>
</ul>
<h4 id="äºŒã€å·¥ä½œåŸç†"><a href="#äºŒã€å·¥ä½œåŸç†" class="headerlink" title="äºŒã€å·¥ä½œåŸç†"></a>äºŒã€å·¥ä½œåŸç†</h4><p><code>proxy</code>å·¥ä½œåŸç†å®è´¨ä¸Šæ˜¯åˆ©ç”¨<code>http-proxy-middleware</code> è¿™ä¸ª<code>http</code>ä»£ç†ä¸­é—´ä»¶ï¼Œå®ç°è¯·æ±‚è½¬å‘ç»™å…¶ä»–æœåŠ¡å™¨</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<p>åœ¨å¼€å‘é˜¶æ®µï¼Œæœ¬åœ°åœ°å€ä¸º<code>http://localhost:3000</code>ï¼Œè¯¥æµè§ˆå™¨å‘é€ä¸€ä¸ªå‰ç¼€å¸¦æœ‰<code>/api</code>æ ‡è¯†çš„è¯·æ±‚åˆ°æœåŠ¡ç«¯è·å–æ•°æ®ï¼Œä½†å“åº”è¿™ä¸ªè¯·æ±‚çš„æœåŠ¡å™¨åªæ˜¯å°†è¯·æ±‚è½¬å‘åˆ°å¦ä¸€å°æœåŠ¡å™¨ä¸­</p>
<pre><code class="javascript">const express = require(&#39;express&#39;);
const proxy = require(&#39;http-proxy-middleware&#39;);

const app = express();

app.use(&#39;/api&#39;, proxy(&#123;target: &#39;http://www.example.org&#39;, changeOrigin: true&#125;));
app.listen(3000);

// http://localhost:3000/api/foo/bar -&gt; http://www.example.org/api/foo/bar
</code></pre>
<h4 id="ä¸‰ã€è·¨åŸŸ"><a href="#ä¸‰ã€è·¨åŸŸ" class="headerlink" title="ä¸‰ã€è·¨åŸŸ"></a>ä¸‰ã€è·¨åŸŸ</h4><p>åœ¨å¼€å‘é˜¶æ®µï¼Œ <code>webpack-dev-server</code> ä¼šå¯åŠ¨ä¸€ä¸ªæœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„åº”ç”¨åœ¨å¼€å‘é˜¶æ®µæ˜¯ç‹¬ç«‹è¿è¡Œåœ¨ <code>localhost </code>çš„ä¸€ä¸ªç«¯å£ä¸Šï¼Œè€Œåç«¯æœåŠ¡åˆæ˜¯è¿è¡Œåœ¨å¦å¤–ä¸€ä¸ªåœ°å€ä¸Š</p>
<p>æ‰€ä»¥åœ¨å¼€å‘é˜¶æ®µä¸­ï¼Œç”±äºæµè§ˆå™¨åŒæºç­–ç•¥çš„åŸå› ï¼Œå½“æœ¬åœ°è®¿é—®åç«¯å°±ä¼šå‡ºç°è·¨åŸŸè¯·æ±‚çš„é—®é¢˜</p>
<p>é€šè¿‡è®¾ç½®<code>webpack proxy</code>å®ç°ä»£ç†è¯·æ±‚åï¼Œç›¸å½“äºæµè§ˆå™¨ä¸æœåŠ¡ç«¯ä¸­æ·»åŠ ä¸€ä¸ªä»£ç†è€…</p>
<p>å½“æœ¬åœ°å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œä»£ç†æœåŠ¡å™¨å“åº”è¯¥è¯·æ±‚ï¼Œå¹¶å°†è¯·æ±‚è½¬å‘åˆ°ç›®æ ‡æœåŠ¡å™¨ï¼Œç›®æ ‡æœåŠ¡å™¨å“åº”æ•°æ®åå†å°†æ•°æ®è¿”å›ç»™ä»£ç†æœåŠ¡å™¨ï¼Œæœ€ç»ˆå†ç”±ä»£ç†æœåŠ¡å™¨å°†æ•°æ®å“åº”ç»™æœ¬åœ°</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f36356235653563302d616365352d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>åœ¨ä»£ç†æœåŠ¡å™¨ä¼ é€’æ•°æ®ç»™æœ¬åœ°æµè§ˆå™¨çš„è¿‡ç¨‹ä¸­ï¼Œä¸¤è€…åŒæºï¼Œå¹¶ä¸å­˜åœ¨è·¨åŸŸè¡Œä¸ºï¼Œè¿™æ—¶å€™æµè§ˆå™¨å°±èƒ½æ­£å¸¸æ¥æ”¶æ•°æ®</p>
<p>æ³¨æ„ï¼šæœåŠ¡å™¨ä¸æœåŠ¡å™¨ä¹‹é—´è¯·æ±‚æ•°æ®å¹¶ä¸ä¼šå­˜åœ¨è·¨åŸŸè¡Œä¸ºï¼Œè·¨åŸŸè¡Œä¸ºæ˜¯æµè§ˆå™¨å®‰å…¨ç­–ç•¥é™åˆ¶</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•å€ŸåŠ©webpackæ¥ä¼˜åŒ–å‰ç«¯æ€§èƒ½ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•å€ŸåŠ©webpackæ¥ä¼˜åŒ–å‰ç«¯æ€§èƒ½ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•å€ŸåŠ©webpackæ¥ä¼˜åŒ–å‰ç«¯æ€§èƒ½ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•å€ŸåŠ©webpackæ¥ä¼˜åŒ–å‰ç«¯æ€§èƒ½ï¼Ÿ</h3><h4 id="ä¸€ã€èƒŒæ™¯-2"><a href="#ä¸€ã€èƒŒæ™¯-2" class="headerlink" title="ä¸€ã€èƒŒæ™¯"></a>ä¸€ã€èƒŒæ™¯</h4><p>éšç€å‰ç«¯çš„é¡¹ç›®é€æ¸æ‰©å¤§ï¼Œå¿…ç„¶ä¼šå¸¦æ¥çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯æ€§èƒ½</p>
<p>å°¤å…¶åœ¨å¤§å‹å¤æ‚çš„é¡¹ç›®ä¸­ï¼Œå‰ç«¯ä¸šåŠ¡å¯èƒ½å› ä¸ºä¸€ä¸ªå°å°çš„æ•°æ®ä¾èµ–ï¼Œå¯¼è‡´æ•´ä¸ªé¡µé¢å¡é¡¿ç”šè‡³å¥”æºƒ</p>
<p>ä¸€èˆ¬é¡¹ç›®åœ¨å®Œæˆåï¼Œä¼šé€šè¿‡<code>webpack</code>è¿›è¡Œæ‰“åŒ…ï¼Œåˆ©ç”¨<code>webpack</code>å¯¹å‰ç«¯é¡¹ç›®æ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªååˆ†é‡è¦çš„ç¯èŠ‚</p>
<h4 id="äºŒã€å¦‚ä½•ä¼˜åŒ–-1"><a href="#äºŒã€å¦‚ä½•ä¼˜åŒ–-1" class="headerlink" title="äºŒã€å¦‚ä½•ä¼˜åŒ–"></a>äºŒã€å¦‚ä½•ä¼˜åŒ–</h4><p>é€šè¿‡<code>webpack</code>ä¼˜åŒ–å‰ç«¯çš„æ‰‹æ®µæœ‰ï¼š</p>
<ul>
<li>JSä»£ç å‹ç¼©</li>
<li>CSSä»£ç å‹ç¼©</li>
<li>Htmlæ–‡ä»¶ä»£ç å‹ç¼©</li>
<li>æ–‡ä»¶å¤§å°å‹ç¼©</li>
<li>å›¾ç‰‡å‹ç¼©</li>
<li>Tree Shaking</li>
<li>ä»£ç åˆ†ç¦»</li>
<li>å†…è” chunk</li>
</ul>
<h5 id="JSä»£ç å‹ç¼©"><a href="#JSä»£ç å‹ç¼©" class="headerlink" title="JSä»£ç å‹ç¼©"></a>JSä»£ç å‹ç¼©</h5><p><code>terser</code>æ˜¯ä¸€ä¸ª<code>JavaScript</code>çš„è§£é‡Šã€ç»è‚‰æœºã€å‹ç¼©æœºçš„å·¥å…·é›†ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å‹ç¼©ã€ä¸‘åŒ–æˆ‘ä»¬çš„ä»£ç ï¼Œè®©<code>bundle</code>æ›´å°</p>
<p>åœ¨<code>production</code>æ¨¡å¼ä¸‹ï¼Œ<code>webpack</code> é»˜è®¤å°±æ˜¯ä½¿ç”¨ <code>TerserPlugin</code> æ¥å¤„ç†æˆ‘ä»¬çš„ä»£ç çš„ã€‚å¦‚æœæƒ³è¦è‡ªå®šä¹‰é…ç½®å®ƒï¼Œé…ç½®æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const TerserPlugin = require(&#39;terser-webpack-plugin&#39;)
module.exports = &#123;
    ...
    optimization: &#123;
        minimize: true,
        minimizer: [
            new TerserPlugin(&#123;
                parallel: true // ç”µè„‘cpuæ ¸æ•°-1
            &#125;)
        ]
    &#125;
&#125;
</code></pre>
<p>å±æ€§ä»‹ç»å¦‚ä¸‹ï¼š</p>
<ul>
<li>extractCommentsï¼šé»˜è®¤å€¼ä¸ºtrueï¼Œè¡¨ç¤ºä¼šå°†æ³¨é‡ŠæŠ½å–åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ï¼Œå¼€å‘é˜¶æ®µï¼Œæˆ‘ä»¬å¯è®¾ç½®ä¸º false ï¼Œä¸ä¿ç•™æ³¨é‡Š</li>
<li>parallelï¼šä½¿ç”¨å¤šè¿›ç¨‹å¹¶å‘è¿è¡Œæé«˜æ„å»ºçš„é€Ÿåº¦ï¼Œé»˜è®¤å€¼æ˜¯trueï¼Œå¹¶å‘è¿è¡Œçš„é»˜è®¤æ•°é‡ï¼š os.cpus().length - 1</li>
<li>terserOptionsï¼šè®¾ç½®æˆ‘ä»¬çš„terserç›¸å…³çš„é…ç½®ï¼š<ul>
<li>compressï¼šè®¾ç½®å‹ç¼©ç›¸å…³çš„é€‰é¡¹ï¼Œmangleï¼šè®¾ç½®ä¸‘åŒ–ç›¸å…³çš„é€‰é¡¹ï¼Œå¯ä»¥ç›´æ¥è®¾ç½®ä¸ºtrue</li>
<li>mangleï¼šè®¾ç½®ä¸‘åŒ–ç›¸å…³çš„é€‰é¡¹ï¼Œå¯ä»¥ç›´æ¥è®¾ç½®ä¸ºtrue</li>
<li>toplevelï¼šåº•å±‚å˜é‡æ˜¯å¦è¿›è¡Œè½¬æ¢</li>
<li>keep_classnamesï¼šä¿ç•™ç±»çš„åç§°</li>
<li>keep_fnamesï¼šä¿ç•™å‡½æ•°çš„åç§°</li>
</ul>
</li>
</ul>
<h5 id="CSSä»£ç å‹ç¼©"><a href="#CSSä»£ç å‹ç¼©" class="headerlink" title="CSSä»£ç å‹ç¼©"></a>CSSä»£ç å‹ç¼©</h5><p><code>CSS</code>å‹ç¼©é€šå¸¸æ˜¯å»é™¤æ— ç”¨çš„ç©ºæ ¼ç­‰ï¼Œå› ä¸ºå¾ˆéš¾å»ä¿®æ”¹é€‰æ‹©å™¨ã€å±æ€§çš„åç§°ã€å€¼ç­‰</p>
<p>CSSçš„å‹ç¼©æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦å¤–ä¸€ä¸ªæ’ä»¶ï¼š<code>css-minimizer-webpack-plugin</code></p>
<pre><code class="ini">npm install css-minimizer-webpack-plugin -D
</code></pre>
<p>é…ç½®æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const CssMinimizerPlugin = require(&#39;css-minimizer-webpack-plugin&#39;)
module.exports = &#123;
    // ...
    optimization: &#123;
        minimize: true,
        minimizer: [
            new CssMinimizerPlugin(&#123;
                parallel: true
            &#125;)
        ]
    &#125;
&#125;
</code></pre>
<h5 id="Htmlæ–‡ä»¶ä»£ç å‹ç¼©"><a href="#Htmlæ–‡ä»¶ä»£ç å‹ç¼©" class="headerlink" title="Htmlæ–‡ä»¶ä»£ç å‹ç¼©"></a>Htmlæ–‡ä»¶ä»£ç å‹ç¼©</h5><p>ä½¿ç”¨<code>HtmlWebpackPlugin</code>æ’ä»¶æ¥ç”Ÿæˆ<code>HTML</code>çš„æ¨¡æ¿æ—¶å€™ï¼Œé€šè¿‡é…ç½®å±æ€§<code>minify</code>è¿›è¡Œ<code>html</code>ä¼˜åŒ–</p>
<pre><code class="javascript">module.exports = &#123;
    ...
    plugin:[
        new HtmlwebpackPlugin(&#123;
            ...
            minify:&#123;
                minifyCSS:false, // æ˜¯å¦å‹ç¼©css
                collapseWhitespace:false, // æ˜¯å¦æŠ˜å ç©ºæ ¼
                removeComments:true // æ˜¯å¦ç§»é™¤æ³¨é‡Š
            &#125;
        &#125;)
    ]
&#125;
</code></pre>
<p>è®¾ç½®äº†<code>minify</code>ï¼Œå®é™…ä¼šä½¿ç”¨å¦ä¸€ä¸ªæ’ä»¶<code>html-minifier-terser</code></p>
<h5 id="æ–‡ä»¶å¤§å°å‹ç¼©"><a href="#æ–‡ä»¶å¤§å°å‹ç¼©" class="headerlink" title="æ–‡ä»¶å¤§å°å‹ç¼©"></a>æ–‡ä»¶å¤§å°å‹ç¼©</h5><p>å¯¹æ–‡ä»¶çš„å¤§å°è¿›è¡Œå‹ç¼©ï¼Œå‡å°‘<code>http</code>ä¼ è¾“è¿‡ç¨‹ä¸­å®½å¸¦çš„æŸè€—</p>
<pre><code class="javascript">npm install compression-webpack-plugin -D
new ComepressionPlugin(&#123;
    test:/\.(css|js)$/,  // å“ªäº›æ–‡ä»¶éœ€è¦å‹ç¼©
    threshold:500, // è®¾ç½®æ–‡ä»¶å¤šå¤§å¼€å§‹å‹ç¼©
    minRatio:0.7, // è‡³å°‘å‹ç¼©çš„æ¯”ä¾‹
    algorithm:&quot;gzip&quot;, // é‡‡ç”¨çš„å‹ç¼©ç®—æ³•
&#125;)
</code></pre>
<h5 id="å›¾ç‰‡å‹ç¼©"><a href="#å›¾ç‰‡å‹ç¼©" class="headerlink" title="å›¾ç‰‡å‹ç¼©"></a>å›¾ç‰‡å‹ç¼©</h5><p>ä¸€èˆ¬æ¥è¯´åœ¨æ‰“åŒ…ä¹‹åï¼Œä¸€äº›å›¾ç‰‡æ–‡ä»¶çš„å¤§å°æ˜¯è¿œè¿œè¦æ¯” <code>js</code> æˆ–è€… <code>css</code> æ–‡ä»¶è¦æ¥çš„å¤§ï¼Œæ‰€ä»¥å›¾ç‰‡å‹ç¼©è¾ƒä¸ºé‡è¦</p>
<p>é…ç½®æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">module: &#123;
  rules: [
    &#123;
      test: /\.(png|jpg|gif)$/,
      use: [
        &#123;
          loader: &#39;file-loader&#39;,
          options: &#123;
            name: &#39;[name]_[hash].[ext]&#39;,
            outputPath: &#39;images/&#39;,
          &#125;
        &#125;,
        &#123;
          loader: &#39;image-webpack-loader&#39;,
          options: &#123;
            // å‹ç¼© jpeg çš„é…ç½®
            mozjpeg: &#123;
              progressive: true,
              quality: 65
            &#125;,
            // ä½¿ç”¨ imagemin**-optipng å‹ç¼© pngï¼Œenable: false ä¸ºå…³é—­
            optipng: &#123;
              enabled: false,
            &#125;,
            // ä½¿ç”¨ imagemin-pngquant å‹ç¼© png
            pngquant: &#123;
              quality: &#39;65-90&#39;,
              speed: 4
            &#125;,
            // å‹ç¼© gif çš„é…ç½®
            gifsicle: &#123;
              interlaced: false,
            &#125;,
            // å¼€å¯ webpï¼Œä¼šæŠŠ jpg å’Œ png å›¾ç‰‡å‹ç¼©ä¸º webp æ ¼å¼
            webp: &#123;
              quality: 75
            &#125;
          &#125;
        &#125;
      ]
    &#125;,
  ]
&#125; 
</code></pre>
<h5 id="Tree-Shaking"><a href="#Tree-Shaking" class="headerlink" title="Tree Shaking"></a>Tree Shaking</h5><p><code>Tree Shaking</code> æ˜¯ä¸€ä¸ªæœ¯è¯­ï¼Œåœ¨è®¡ç®—æœºä¸­è¡¨ç¤ºæ¶ˆé™¤æ­»ä»£ç ï¼Œä¾èµ–äº<code>ES Module</code>çš„é™æ€è¯­æ³•åˆ†æï¼ˆä¸æ‰§è¡Œä»»ä½•çš„ä»£ç ï¼Œå¯ä»¥æ˜ç¡®çŸ¥é“æ¨¡å—çš„ä¾èµ–å…³ç³»ï¼‰</p>
<p>åœ¨<code>webpack</code>å®ç°<code>Trss shaking</code>æœ‰ä¸¤ç§ä¸åŒçš„æ–¹æ¡ˆï¼š</p>
<ul>
<li>usedExportsï¼šé€šè¿‡æ ‡è®°æŸäº›å‡½æ•°æ˜¯å¦è¢«ä½¿ç”¨ï¼Œä¹‹åé€šè¿‡Terseræ¥è¿›è¡Œä¼˜åŒ–çš„</li>
<li>sideEffectsï¼šè·³è¿‡æ•´ä¸ªæ¨¡å—&#x2F;æ–‡ä»¶ï¼Œç›´æ¥æŸ¥çœ‹è¯¥æ–‡ä»¶æ˜¯å¦æœ‰å‰¯ä½œç”¨</li>
</ul>
<p>ä¸¤ç§ä¸åŒçš„é…ç½®æ–¹æ¡ˆï¼Œ æœ‰ä¸åŒçš„æ•ˆæœ</p>
<h5 id="usedExports"><a href="#usedExports" class="headerlink" title="usedExports"></a>usedExports</h5><p>é…ç½®æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦å°†<code>usedExports</code>è®¾ä¸º<code>true</code></p>
<pre><code class="javascript">module.exports = &#123;
    ...
    optimization:&#123;
        usedExports
    &#125;
&#125;
</code></pre>
<p>ä½¿ç”¨ä¹‹åï¼Œæ²¡è¢«ç”¨ä¸Šçš„ä»£ç åœ¨<code>webpack</code>æ‰“åŒ…ä¸­ä¼šåŠ å…¥<code>unused harmony export mul</code>æ³¨é‡Šï¼Œç”¨æ¥å‘ŠçŸ¥ <code>Terser</code> åœ¨ä¼˜åŒ–æ—¶ï¼Œå¯ä»¥åˆ é™¤æ‰è¿™æ®µä»£ç </p>
<p>å¦‚ä¸‹é¢<code>sum</code>å‡½æ•°æ²¡è¢«ç”¨åˆ°ï¼Œ<code>webpack</code>æ‰“åŒ…ä¼šæ·»åŠ æ³¨é‡Šï¼Œ<code>terser</code>åœ¨ä¼˜åŒ–æ—¶ï¼Œåˆ™å°†è¯¥å‡½æ•°å»æ‰</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f32316232653230302d616565342d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<h5 id="sideEffects"><a href="#sideEffects" class="headerlink" title="sideEffects"></a>sideEffects</h5><p><code>sideEffects</code>ç”¨äºå‘ŠçŸ¥<code>webpack compiler</code>å“ªäº›æ¨¡å—æ—¶æœ‰å‰¯ä½œç”¨ï¼Œé…ç½®æ–¹æ³•æ˜¯åœ¨<code>package.json</code>ä¸­è®¾ç½®<code>sideEffects</code>å±æ€§</p>
<p>å¦‚æœ<code>sideEffects</code>è®¾ç½®ä¸ºfalseï¼Œå°±æ˜¯å‘ŠçŸ¥<code>webpack</code>å¯ä»¥å®‰å…¨çš„åˆ é™¤æœªç”¨åˆ°çš„<code>exports</code></p>
<p>å¦‚æœæœ‰äº›æ–‡ä»¶éœ€è¦ä¿ç•™ï¼Œå¯ä»¥è®¾ç½®ä¸ºæ•°ç»„çš„å½¢å¼</p>
<pre><code class="javascript">&quot;sideEffecis&quot;:[    &quot;./src/util/format.js&quot;,    &quot;*.css&quot; // æ‰€æœ‰çš„cssæ–‡ä»¶]
</code></pre>
<p>ä¸Šè¿°éƒ½æ˜¯å…³äº<code>javascript</code>çš„<code>tree shaking</code>ï¼Œ<code>css</code>åŒæ ·ä¹Ÿèƒ½å¤Ÿå®ç°<code>tree shaking</code></p>
<h5 id="css-tree-shaking"><a href="#css-tree-shaking" class="headerlink" title="css tree shaking"></a>css tree shaking</h5><p><code>css</code>è¿›è¡Œ<code>tree shaking</code>ä¼˜åŒ–å¯ä»¥å®‰è£…<code>PurgeCss</code>æ’ä»¶</p>
<pre><code class="javascript">npm install purgecss-plugin-webpack -D
const PurgeCssPlugin = require(&#39;purgecss-webpack-plugin&#39;)module.exports = &#123;    ...    plugins:[        new PurgeCssPlugin(&#123;            path:glob.sync(`$&#123;path.resolve(&#39;./src&#39;)&#125;/**/*`), &#123;nodir:true&#125;// srcé‡Œé¢çš„æ‰€æœ‰æ–‡ä»¶            satelist:function()&#123;                return &#123;                    standard:[&quot;html&quot;]                &#125;            &#125;        &#125;)    ]&#125;
</code></pre>
<ul>
<li>pathsï¼šè¡¨ç¤ºè¦æ£€æµ‹å“ªäº›ç›®å½•ä¸‹çš„å†…å®¹éœ€è¦è¢«åˆ†æï¼Œé…åˆä½¿ç”¨glob</li>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼ŒPurgecssä¼šå°†æˆ‘ä»¬çš„htmlæ ‡ç­¾çš„æ ·å¼ç§»é™¤æ‰ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›ä¿ç•™ï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ªsafelistçš„å±æ€§</li>
</ul>
<h5 id="ä»£ç åˆ†ç¦»"><a href="#ä»£ç åˆ†ç¦»" class="headerlink" title="ä»£ç åˆ†ç¦»"></a>ä»£ç åˆ†ç¦»</h5><p>å°†ä»£ç åˆ†ç¦»åˆ°ä¸åŒçš„<code>bundle</code>ä¸­ï¼Œä¹‹åæˆ‘ä»¬å¯ä»¥æŒ‰éœ€åŠ è½½ï¼Œæˆ–è€…å¹¶è¡ŒåŠ è½½è¿™äº›æ–‡ä»¶</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰çš„<code>JavaScript</code>ä»£ç ï¼ˆä¸šåŠ¡ä»£ç ã€ç¬¬ä¸‰æ–¹ä¾èµ–ã€æš‚æ—¶æ²¡æœ‰ç”¨åˆ°çš„æ¨¡å—ï¼‰åœ¨é¦–é¡µå…¨éƒ¨éƒ½åŠ è½½ï¼Œå°±ä¼šå½±å“é¦–é¡µçš„åŠ è½½é€Ÿåº¦</p>
<p>ä»£ç åˆ†ç¦»å¯ä»¥åˆ†å‡ºå‡ºæ›´å°çš„<code>bundle</code>ï¼Œä»¥åŠæ§åˆ¶èµ„æºåŠ è½½ä¼˜å…ˆçº§ï¼Œæä¾›ä»£ç çš„åŠ è½½æ€§èƒ½</p>
<p>è¿™é‡Œé€šè¿‡<code>splitChunksPlugin</code>æ¥å®ç°ï¼Œè¯¥æ’ä»¶<code>webpack</code>å·²ç»é»˜è®¤å®‰è£…å’Œé›†æˆï¼Œåªéœ€è¦é…ç½®å³å¯</p>
<p>é»˜è®¤é…ç½®ä¸­ï¼Œchunksä»…ä»…é’ˆå¯¹äºå¼‚æ­¥ï¼ˆasyncï¼‰è¯·æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸ºinitialæˆ–è€…all</p>
<pre><code class="javascript">module.exports = &#123;    ...    optimization:&#123;        splitChunks:&#123;            chunks:&quot;all&quot;        &#125;    &#125;&#125;
</code></pre>
<p><code>splitChunks</code>ä¸»è¦å±æ€§æœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>Chunksï¼Œå¯¹åŒæ­¥ä»£ç è¿˜æ˜¯å¼‚æ­¥ä»£ç è¿›è¡Œå¤„ç†</li>
<li>minSizeï¼š æ‹†åˆ†åŒ…çš„å¤§å°, è‡³å°‘ä¸ºminSizeï¼Œå¦‚ä½•åŒ…çš„å¤§å°ä¸è¶…è¿‡minSizeï¼Œè¿™ä¸ªåŒ…ä¸ä¼šæ‹†åˆ†</li>
<li>maxSizeï¼š å°†å¤§äºmaxSizeçš„åŒ…ï¼Œæ‹†åˆ†ä¸ºä¸å°äºminSizeçš„åŒ…</li>
<li>minChunksï¼šè¢«å¼•å…¥çš„æ¬¡æ•°ï¼Œé»˜è®¤æ˜¯1</li>
</ul>
<h5 id="å†…è”chunk"><a href="#å†…è”chunk" class="headerlink" title="å†…è”chunk"></a>å†…è”chunk</h5><p>å¯ä»¥é€šè¿‡<code>InlineChunkHtmlPlugin</code>æ’ä»¶å°†ä¸€äº›<code>chunk</code>çš„æ¨¡å—å†…è”åˆ°<code>html</code>ï¼Œå¦‚<code>runtime</code>çš„ä»£ç ï¼ˆå¯¹æ¨¡å—è¿›è¡Œè§£æã€åŠ è½½ã€æ¨¡å—ä¿¡æ¯ç›¸å…³çš„ä»£ç ï¼‰ï¼Œä»£ç é‡å¹¶ä¸å¤§ï¼Œä½†æ˜¯å¿…é¡»åŠ è½½çš„</p>
<pre><code class="javascript">const InlineChunkHtmlPlugin = require(&#39;react-dev-utils/InlineChunkHtmlPlugin&#39;)const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;)module.exports = &#123;    ...    plugin:[        new InlineChunkHtmlPlugin(HtmlWebpackPlugin,[/runtime.+\.js/]&#125;
</code></pre>
<h4 id="ä¸‰ã€æ€»ç»“-2"><a href="#ä¸‰ã€æ€»ç»“-2" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h4><p>å…³äº<code>webpack</code>å¯¹å‰ç«¯æ€§èƒ½çš„ä¼˜åŒ–ï¼Œå¯ä»¥é€šè¿‡æ–‡ä»¶ä½“ç§¯å¤§å°å…¥æ‰‹ï¼Œå…¶æ¬¡è¿˜å¯é€šè¿‡åˆ†åŒ…çš„å½¢å¼ã€å‡å°‘httpè¯·æ±‚æ¬¡æ•°ç­‰æ–¹å¼ï¼Œå®ç°å¯¹å‰ç«¯æ€§èƒ½çš„ä¼˜åŒ–</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä¸webpackç±»ä¼¼çš„å·¥å…·è¿˜æœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä¸webpackç±»ä¼¼çš„å·¥å…·è¿˜æœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä¸webpackç±»ä¼¼çš„å·¥å…·è¿˜æœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä¸webpackç±»ä¼¼çš„å·¥å…·è¿˜æœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ</h3><h4 id="ä¸€ã€æ¨¡å—åŒ–å·¥å…·"><a href="#ä¸€ã€æ¨¡å—åŒ–å·¥å…·" class="headerlink" title="ä¸€ã€æ¨¡å—åŒ–å·¥å…·"></a>ä¸€ã€æ¨¡å—åŒ–å·¥å…·</h4><p>æ¨¡å—åŒ–æ˜¯ä¸€ç§å¤„ç†å¤æ‚ç³»ç»Ÿåˆ†è§£ä¸ºæ›´å¥½çš„å¯ç®¡ç†æ¨¡å—çš„æ–¹å¼</p>
<p>å¯ä»¥ç”¨æ¥åˆ†å‰²ï¼Œç»„ç»‡å’Œæ‰“åŒ…åº”ç”¨ã€‚æ¯ä¸ªæ¨¡å—å®Œæˆä¸€ä¸ªç‰¹å®šçš„å­åŠŸèƒ½ï¼Œæ‰€æœ‰çš„æ¨¡å—æŒ‰æŸç§æ–¹æ³•ç»„è£…èµ·æ¥ï¼Œæˆä¸ºä¸€ä¸ªæ•´ä½“(<code>bundle</code>)</p>
<p>åœ¨å‰ç«¯é¢†åŸŸä¸­ï¼Œå¹¶éåªæœ‰<code>webpack</code>è¿™ä¸€æ¬¾ä¼˜ç§€çš„æ¨¡å—æ‰“åŒ…å·¥å…·ï¼Œè¿˜æœ‰å…¶ä»–ç±»ä¼¼çš„å·¥å…·ï¼Œä¾‹å¦‚<code>Rollup</code>ã€<code>Parcel</code>ã€<code>snowpack</code>ï¼Œä»¥åŠæœ€è¿‘é£å¤´æ— ä¸¤çš„<code>Vite</code></p>
<p>é€šè¿‡è¿™äº›æ¨¡å—æ‰“åŒ…å·¥å…·ï¼Œèƒ½å¤Ÿæé«˜æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ï¼Œå‡å°‘å¼€å‘æˆæœ¬</p>
<p>è¿™é‡Œæ²¡æœ‰æåŠ<code>gulp</code>ã€<code>grunt</code>æ˜¯å› ä¸ºå®ƒä»¬åªæ˜¯å®šä¹‰ä¸ºæ„å»ºå·¥å…·ï¼Œä¸èƒ½ç±»æ¯”</p>
<h5 id="Rollup"><a href="#Rollup" class="headerlink" title="Rollup"></a>Rollup</h5><p><code>Rollup</code> æ˜¯ä¸€æ¬¾ <code>ES Modules</code> æ‰“åŒ…å™¨ï¼Œä»ä½œç”¨ä¸Šæ¥çœ‹ï¼Œ<code>Rollup</code> ä¸ <code>Webpack</code> éå¸¸ç±»ä¼¼ã€‚ä¸è¿‡ç›¸æ¯”äº <code>Webpack</code>ï¼Œ<code>Rollup </code>è¦å°å·§çš„å¤š</p>
<p>ç°åœ¨å¾ˆå¤šæˆ‘ä»¬ç†ŸçŸ¥çš„åº“éƒ½éƒ½ä½¿ç”¨å®ƒè¿›è¡Œæ‰“åŒ…ï¼Œæ¯”å¦‚ï¼š<code>Vue</code>ã€<code>React</code>å’Œ<code>three.js</code>ç­‰</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre><code class="javascript">// ./src/messages.js
export default &#123;
  hi: &#39;Hey Guys, I am zce~&#39;
&#125;

// ./src/logger.js
export const log = msg =&gt; &#123;
  console.log(&#39;---------- INFO ----------&#39;)
  console.log(msg)
  console.log(&#39;--------------------------&#39;)
&#125;

export const error = msg =&gt; &#123;
  console.error(&#39;---------- ERROR ----------&#39;)
  console.error(msg)
  console.error(&#39;---------------------------&#39;)
&#125;

// ./src/index.js
import &#123; log &#125; from &#39;./logger&#39;
import messages from &#39;./messages&#39;
log(messages.hi)
</code></pre>
<p>ç„¶åé€šè¿‡<code>rollup</code>è¿›è¡Œæ‰“åŒ…</p>
<pre><code class="ini">$ npx rollup ./src/index.js --file ./dist/bundle.js
</code></pre>
<p>æ‰“åŒ…ç»“æœå¦‚ä¸‹å›¾</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f38666530373833302d623134332d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œä»£ç éå¸¸ç®€æ´ï¼Œå®Œæˆä¸åƒ<code>webpack</code>é‚£æ ·å­˜åœ¨å¤§é‡å¼•å¯¼ä»£ç å’Œæ¨¡å—å‡½æ•°</p>
<p>å¹¶ä¸”<code>error</code>æ–¹æ³•ç”±äºæ²¡æœ‰è¢«ä½¿ç”¨ï¼Œè¾“å‡ºçš„ç»“æœä¸­å¹¶æ— <code>error</code>æ–¹æ³•ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œ<code>rollup</code>é»˜è®¤å¼€å§‹<code>Tree-shaking</code> ä¼˜åŒ–è¾“å‡ºç»“æœ</p>
<p>å› æ­¤ï¼Œå¯ä»¥çœ‹åˆ°<code>Rollup</code>çš„ä¼˜ç‚¹ï¼š</p>
<ul>
<li>ä»£ç æ•ˆç‡æ›´ç®€æ´ã€æ•ˆç‡æ›´é«˜</li>
<li>é»˜è®¤æ”¯æŒ Tree-shaking</li>
</ul>
<p>ä½†ç¼ºç‚¹ä¹Ÿååˆ†æ˜æ˜¾ï¼ŒåŠ è½½å…¶ä»–ç±»å‹çš„èµ„æºæ–‡ä»¶æˆ–è€…æ”¯æŒå¯¼å…¥ <code>CommonJS</code> æ¨¡å—ï¼Œåˆæˆ–æ˜¯ç¼–è¯‘ <code>ES</code> æ–°ç‰¹æ€§ï¼Œè¿™äº›é¢å¤–çš„éœ€æ±‚ <code>Rollup </code>éœ€è¦ä½¿ç”¨æ’ä»¶å»å®Œæˆ</p>
<p>ç»¼åˆæ¥çœ‹ï¼Œ<code>rollup</code>å¹¶ä¸é€‚åˆå¼€å‘åº”ç”¨ä½¿ç”¨ï¼Œå› ä¸ºéœ€è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œè€Œç›®å‰ç¬¬ä¸‰æ–¹æ¨¡å—å¤§å¤šæ•°ä½¿ç”¨<code>CommonJs</code>æ–¹å¼å¯¼å‡ºæˆå‘˜ï¼Œå¹¶ä¸”<code>rollup</code>ä¸æ”¯æŒ<code>HMR</code>ï¼Œä½¿å¼€å‘æ•ˆç‡é™ä½</p>
<p>ä½†æ˜¯åœ¨ç”¨äºæ‰“åŒ…<code> JavaScript</code> åº“æ—¶ï¼Œ<code>rollup</code>æ¯” <code>webpack</code> æ›´æœ‰ä¼˜åŠ¿ï¼Œå› ä¸ºå…¶æ‰“åŒ…å‡ºæ¥çš„ä»£ç æ›´å°ã€æ›´å¿«ï¼Œå…¶å­˜åœ¨çš„ç¼ºç‚¹å¯ä»¥å¿½ç•¥</p>
<h5 id="Parcel"><a href="#Parcel" class="headerlink" title="Parcel"></a>Parcel</h5><p>Parcel ï¼Œæ˜¯ä¸€æ¬¾å®Œå…¨é›¶é…ç½®çš„å‰ç«¯æ‰“åŒ…å™¨ï¼Œå®ƒæä¾›äº† â€œå‚»ç“œå¼â€ çš„ä½¿ç”¨ä½“éªŒï¼Œåªéœ€äº†è§£ç®€å•çš„å‘½ä»¤ï¼Œå°±èƒ½æ„å»ºå‰ç«¯åº”ç”¨ç¨‹åº</p>
<p><code>Parcel</code> è·Ÿ <code>Webpack</code> ä¸€æ ·éƒ½æ”¯æŒä»¥ä»»æ„ç±»å‹æ–‡ä»¶ä½œä¸ºæ‰“åŒ…å…¥å£ï¼Œä½†å»ºè®®ä½¿ç”¨<code>HTML</code>æ–‡ä»¶ä½œä¸ºå…¥å£ï¼Œè¯¥<code>HTML</code>æ–‡ä»¶åƒå¹³æ—¶ä¸€æ ·æ­£å¸¸ç¼–å†™ä»£ç ã€å¼•ç”¨èµ„æºã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="javascript">&lt;!-- ./src/index.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;Parcel Tutorials&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;script src=&quot;main.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>main.jsæ–‡ä»¶é€šè¿‡<code>ES Moudle</code>æ–¹æ³•å¯¼å…¥å…¶ä»–æ¨¡å—æˆå‘˜</p>
<pre><code class="javascript">// ./src/main.js
import &#123; log &#125; from &#39;./logger&#39;
log(&#39;hello parcel&#39;)
// ./src/logger.js
export const log = msg =&gt; &#123;
  console.log(&#39;---------- INFO ----------&#39;)
  console.log(msg)
&#125;
</code></pre>
<p>è¿è¡Œä¹‹åï¼Œä½¿ç”¨å‘½ä»¤æ‰“åŒ…</p>
<pre><code class="ini">npx parcel src/index.html
</code></pre>
<p>æ‰§è¡Œå‘½ä»¤åï¼Œ<code>Parcel</code>ä¸ä»…æ‰“åŒ…äº†åº”ç”¨ï¼ŒåŒæ—¶ä¹Ÿå¯åŠ¨äº†ä¸€ä¸ªå¼€å‘æœåŠ¡å™¨ï¼Œè·Ÿ<code>webpack Dev Server</code>ä¸€æ ·</p>
<p>è·Ÿ<code>webpack</code>ç±»ä¼¼ï¼Œä¹Ÿæ”¯æŒæ¨¡å—çƒ­æ›¿æ¢ï¼Œä½†ç”¨æ³•æ›´ç®€å•</p>
<p>åŒæ—¶ï¼Œ<code>Parcel</code>æœ‰ä¸ªååˆ†å¥½ç”¨çš„åŠŸèƒ½ï¼šæ”¯æŒè‡ªåŠ¨å®‰è£…ä¾èµ–ï¼Œåƒ<code>webpack</code>å¼€å‘é˜¶æ®µçªç„¶ä½¿ç”¨å®‰è£…æŸä¸ªç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œå¿…ç„¶ä¼šç»ˆæ­¢<code>dev server</code>ç„¶åå®‰è£…å†å¯åŠ¨ã€‚è€Œ<code>Parcel</code>åˆ™å…äº†è¿™ç¹ççš„å·¥ä½œæµç¨‹</p>
<p>åŒæ—¶ï¼Œ<code>Parcel</code>èƒ½å¤Ÿé›¶é…ç½®åŠ è½½å…¶ä»–ç±»å‹çš„èµ„æºæ–‡ä»¶ï¼Œæ— é¡»åƒ<code>webpack</code>é‚£æ ·é…ç½®å¯¹åº”çš„<code>loader</code></p>
<p>æ‰“åŒ…å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<pre><code class="ini">npx parcel src/index.html
</code></pre>
<p>ç”±äºæ‰“åŒ…è¿‡ç¨‹æ˜¯å¤šè¿›ç¨‹åŒæ—¶å·¥ä½œï¼Œæ„å»ºé€Ÿåº¦ä¼šæ¯”<code>Webpack</code> å¿«ï¼Œè¾“å‡ºæ–‡ä»¶ä¹Ÿä¼šè¢«å‹ç¼©ï¼Œå¹¶ä¸”æ ·å¼ä»£ç ä¹Ÿä¼šè¢«å•ç‹¬æå–åˆ°å•ä¸ªæ–‡ä»¶ä¸­</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65633137653761302d623161322d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>å¯ä»¥æ„Ÿå—åˆ°ï¼Œ<code>Parcel </code>ç»™å¼€å‘è€…ä¸€ç§å¾ˆå¤§çš„è‡ªç”±åº¦ï¼Œåªç®¡å»å®ç°ä¸šåŠ¡ä»£ç ï¼Œå…¶ä»–äº‹æƒ…ç”¨<code>Parcel</code>è§£å†³</p>
<h5 id="Snowpack"><a href="#Snowpack" class="headerlink" title="Snowpack"></a>Snowpack</h5><p>Snowpackï¼Œæ˜¯ä¸€ç§é—ªç”µèˆ¬å¿«é€Ÿçš„å‰ç«¯æ„å»ºå·¥å…·ï¼Œä¸“ä¸ºç°ä»£<code>Web</code>è®¾è®¡ï¼Œè¾ƒå¤æ‚çš„æ‰“åŒ…å·¥å…·ï¼ˆå¦‚<code>Webpack</code>æˆ–<code>Parcel</code>ï¼‰çš„æ›¿ä»£æ–¹æ¡ˆï¼Œåˆ©ç”¨<code>JavaScript</code>çš„æœ¬æœºæ¨¡å—ç³»ç»Ÿï¼Œé¿å…ä¸å¿…è¦çš„å·¥ä½œå¹¶ä¿æŒæµç•…çš„å¼€å‘ä½“éªŒ</p>
<p>å¼€å‘é˜¶æ®µï¼Œæ¯æ¬¡ä¿å­˜å•ä¸ªæ–‡ä»¶æ—¶ï¼Œ<code>Webpack</code>å’Œ<code>Parcel</code>éƒ½éœ€è¦é‡æ–°æ„å»ºå’Œé‡æ–°æ‰“åŒ…åº”ç”¨ç¨‹åºçš„æ•´ä¸ª<code>bundle</code>ã€‚è€Œ<code>Snowpack</code>ä¸ºä½ çš„åº”ç”¨ç¨‹åºæ¯ä¸ªæ–‡ä»¶æ„å»ºä¸€æ¬¡ï¼Œå°±å¯ä»¥æ°¸ä¹…ç¼“å­˜ï¼Œæ–‡ä»¶æ›´æ”¹æ—¶ï¼Œ<code>Snowpack</code>ä¼šé‡æ–°æ„å»ºè¯¥å•ä¸ªæ–‡ä»¶</p>
<p>ä¸‹å›¾ç»™å‡º<code>webpack</code>ä¸<code>snowpack</code>æ‰“åŒ…åŒºåˆ«ï¼š</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f37393139373833302d623161332d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>åœ¨é‡æ–°æ„å»ºæ¯æ¬¡å˜æ›´æ—¶æ²¡æœ‰ä»»ä½•çš„æ—¶é—´æµªè´¹ï¼Œåªéœ€è¦åœ¨æµè§ˆå™¨ä¸­è¿›è¡ŒHMRæ›´æ–°</p>
<h5 id="Vite"><a href="#Vite" class="headerlink" title="Vite"></a>Vite</h5><p>vite ï¼Œæ˜¯ä¸€ç§æ–°å‹å‰ç«¯æ„å»ºå·¥å…·ï¼Œèƒ½å¤Ÿæ˜¾è‘—æå‡å‰ç«¯å¼€å‘ä½“éªŒ</p>
<p>å®ƒä¸»è¦ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š</p>
<ul>
<li>ä¸€ä¸ªå¼€å‘æœåŠ¡å™¨ï¼Œå®ƒåŸºäº åŸç”Ÿ ES æ¨¡å— æä¾›äº†ä¸°å¯Œçš„å†…å»ºåŠŸèƒ½ï¼Œå¦‚é€Ÿåº¦å¿«åˆ°æƒŠäººçš„ [æ¨¡å—çƒ­æ›´æ–°HMR</li>
<li>ä¸€å¥—æ„å»ºæŒ‡ä»¤ï¼Œå®ƒä½¿ç”¨ Rollupæ‰“åŒ…ä½ çš„ä»£ç ï¼Œå¹¶ä¸”å®ƒæ˜¯é¢„é…ç½®çš„ï¼Œå¯ä»¥è¾“å‡ºç”¨äºç”Ÿäº§ç¯å¢ƒçš„ä¼˜åŒ–è¿‡çš„é™æ€èµ„æº</li>
</ul>
<p>å…¶ä½œç”¨ç±»ä¼¼<code>webpack </code>+ <code>webpack-dev-server</code>ï¼Œå…¶ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p>
<ul>
<li>å¿«é€Ÿçš„å†·å¯åŠ¨</li>
<li>å³æ—¶çš„æ¨¡å—çƒ­æ›´æ–°</li>
<li>çœŸæ­£çš„æŒ‰éœ€ç¼–è¯‘</li>
</ul>
<p><code>vite</code>ä¼šç›´æ¥å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼Œä¸éœ€è¦è¿›è¡Œæ‰“åŒ…æ“ä½œï¼Œä¹Ÿå°±æ„å‘³ç€ä¸éœ€è¦åˆ†ææ¨¡å—çš„ä¾èµ–ã€ä¸éœ€è¦ç¼–è¯‘ï¼Œå› æ­¤å¯åŠ¨é€Ÿåº¦éå¸¸å¿«</p>
<p>åˆ©ç”¨ç°ä»£æµè§ˆå™¨æ”¯æŒ<code>ES Module</code>çš„ç‰¹æ€§ï¼Œå½“æµè§ˆå™¨è¯·æ±‚æŸä¸ªæ¨¡å—çš„æ—¶å€™ï¼Œå†æ ¹æ®éœ€è¦å¯¹æ¨¡å—çš„å†…å®¹è¿›è¡Œç¼–è¯‘ï¼Œè¿™ç§æ–¹å¼å¤§å¤§ç¼©çŸ­äº†ç¼–è¯‘æ—¶é—´</p>
<p>åŸç†å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f39663265656433302d623134332d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>åœ¨çƒ­æ¨¡å—<code>HMR</code>æ–¹é¢ï¼Œå½“ä¿®æ”¹ä¸€ä¸ªæ¨¡å—çš„æ—¶å€™ï¼Œä»…éœ€è®©æµè§ˆå™¨é‡æ–°è¯·æ±‚è¯¥æ¨¡å—å³å¯ï¼Œæ— é¡»åƒ<code>webpack</code>é‚£æ ·éœ€è¦æŠŠè¯¥æ¨¡å—çš„ç›¸å…³ä¾èµ–æ¨¡å—å…¨éƒ¨ç¼–è¯‘ä¸€æ¬¡ï¼Œæ•ˆç‡æ›´é«˜</p>
<h5 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h5><p>ç›¸æ¯”ä¸Šè¿°çš„æ¨¡å—åŒ–å·¥å…·ï¼Œ<code>webpack</code>å¤§è€Œå…¨ï¼Œå¾ˆå¤šå¸¸ç”¨çš„åŠŸèƒ½åšåˆ°å¼€ç®±å³ç”¨ã€‚æœ‰ä¸¤å¤§æœ€æ ¸å¿ƒçš„ç‰¹ç‚¹ï¼šä¸€åˆ‡çš†æ¨¡å—å’ŒæŒ‰éœ€åŠ è½½</p>
<p>ä¸å…¶ä»–æ„å»ºå·¥å…·ç›¸æ¯”ï¼Œæœ‰å¦‚ä¸‹ä¼˜åŠ¿ï¼š</p>
<ul>
<li>æ™ºèƒ½è§£æï¼šå¯¹ CommonJS ã€ AMD ã€ES6 çš„è¯­æ³•åšäº†å…¼å®¹</li>
<li>ä¸‡ç‰©æ¨¡å—ï¼šå¯¹ jsã€cssã€å›¾ç‰‡ç­‰èµ„æºæ–‡ä»¶éƒ½æ”¯æŒæ‰“åŒ…</li>
<li>å¼€ç®±å³ç”¨ï¼šHRMã€Tree-shakingç­‰åŠŸèƒ½</li>
<li>ä»£ç åˆ†å‰²ï¼šå¯ä»¥å°†ä»£ç åˆ‡å‰²æˆä¸åŒçš„ chunkï¼Œå®ç°æŒ‰éœ€åŠ è½½ï¼Œé™ä½äº†åˆå§‹åŒ–æ—¶é—´</li>
<li>æ’ä»¶ç³»ç»Ÿï¼Œå…·æœ‰å¼ºå¤§çš„ Plugin æ¥å£ï¼Œå…·æœ‰æ›´å¥½çš„çµæ´»æ€§å’Œæ‰©å±•æ€§</li>
<li>æ˜“äºè°ƒè¯•ï¼šæ”¯æŒ SourceUrls å’Œ SourceMaps</li>
<li>å¿«é€Ÿè¿è¡Œï¼šwebpack ä½¿ç”¨å¼‚æ­¥ IO å¹¶å…·æœ‰å¤šçº§ç¼“å­˜ï¼Œè¿™ä½¿å¾— webpack å¾ˆå¿«ä¸”åœ¨å¢é‡ç¼–è¯‘ä¸Šæ›´åŠ å¿«</li>
<li>ç”Ÿæ€ç¯å¢ƒå¥½ï¼šç¤¾åŒºæ›´ä¸°å¯Œï¼Œå‡ºç°çš„é—®é¢˜æ›´å®¹æ˜“è§£å†³</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä»£ç åˆ†å‰²çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä»£ç åˆ†å‰²çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä»£ç åˆ†å‰²çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä»£ç åˆ†å‰²çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿ</h3><p>ä»£ç åˆ†å‰²çš„æœ¬è´¨ï¼š æ˜¯èƒ½å¤ŸæŠŠä»£ç åˆ†ç¦»åˆ°ä¸åŒçš„bundleä¸­ï¼Œé¿å…å‡ºç°å¤§ä½“ç§¯çš„ä»£ç åŒ…ï¼Œç„¶åå¯ä»¥æŒ‰éœ€åŠ è½½æˆ–å¹¶è¡ŒåŠ è½½è¿™äº›æ–‡ä»¶ </p>
<p>ä»£ç åˆ†ç¦»çš„æ„ä¹‰ï¼š ä»£ç åˆ†ç¦»å¯ä»¥è·å–æ›´å°çš„bundleï¼Œä»¥åŠæ§åˆ¶èµ„æºåŠ è½½ä¼˜å…ˆçº§ï¼Œåˆç†ä½¿ç”¨å¯ä»¥æå¤§çš„å‡å°‘åŠ è½½æ—¶é—´ </p>
<p>ä»£ç åˆ†å‰²çš„å®ç°æ–¹å¼æœ‰ä¸‰ç§ï¼š å…¥å£èµ·ç‚¹ï¼šä½¿ç”¨entryæ‰‹åŠ¨åˆ†ç¦»ä»£ç (ä¸å»ºè®®) é˜²æ­¢é‡å¤åŠ è½½ï¼š</p>
<p>ä½¿ç”¨optimization.splitChunksé…ç½®é€‰é¡¹ï¼Œå¯ä»¥å°†ç¬¬ä¸‰æ–¹å…¬å…±æ¨¡å—å’Œä¸šåŠ¡ä»£ç ç›´æ¥åˆ†ç¦» </p>
<p>åŠ¨æ€å¼•å…¥ï¼šä½¿ ç”¨import()æ–¹æ³•æ¥åˆ†ç¦»ä»£ç ï¼ŒåŸç†æ˜¯å½“ Webpack è§£æåˆ°è¯¥è¯­æ³•æ—¶ï¼Œä¼šè‡ªåŠ¨è¿›è¡Œä»£ç åˆ†å‰²ï¼Œåˆ†å‰²å‡ºä¸åŒçš„chunks  </p>
<p>è¯­æ³•ï¼šä½¿ç”¨çš„æ—¶å€™å†å»ä¸‹è½½å¯¹åº”çš„æ–‡ä»¶ï¼Œè¿”å›ä¸€ä¸ªPromiseï¼Œå½“PromiseæˆåŠŸåå†å»æ‰§è¡Œå›è°ƒ</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´ä¸‹-tree-shaking-çš„åŸç†"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´ä¸‹-tree-shaking-çš„åŸç†" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´ä¸‹ tree-shaking çš„åŸç†"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´ä¸‹ tree-shaking çš„åŸç†</h3><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7002410645316436004">tree-shaking çš„åŸç†</a></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-babelåŸç†"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-babelåŸç†" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸  babelåŸç†"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸  babelåŸç†</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/wmaoshu/article/details/119813090">babelåŸç†</a></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-linuxéƒ¨ç½²å’Œwindows-severæœåŠ¡å™¨åŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-linuxéƒ¨ç½²å’Œwindows-severæœåŠ¡å™¨åŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸  linuxéƒ¨ç½²å’Œwindows severæœåŠ¡å™¨åŒºåˆ«ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸  linuxéƒ¨ç½²å’Œwindows severæœåŠ¡å™¨åŒºåˆ«ï¼Ÿ</h3><p>æ€§ä»·æ¯”ï¼šLinuxæœåŠ¡å™¨æ€§ä»·æ¯”æ›´é«˜ï¼ŒLinuxä½œä¸ºèµ„æºç®¡ç†å™¨å’Œæ“ä½œç³»ç»Ÿæ¥è¯´ï¼Œæ˜¯å¼€æºçš„ï¼Œå…è´¹çš„ï¼Œè€Œæ­£ç‰ˆwindowsçš„æ“ä½œç³»ç»Ÿæ˜¯æ”¶è´¹çš„ã€‚</p>
<p>æ€§èƒ½æ–¹é¢ï¼šç›¸åŒé…ç½®çš„LinuxæœåŠ¡å™¨çš„æ€§èƒ½æ¯”windowsæœåŠ¡å™¨å¥½ä¸€äº›ï¼ŒLinuxæœåŠ¡å™¨å ç”¨çš„èµ„æºå°‘ä¸€ç‚¹</p>
<p>ç¨³å®šæ€§æ–¹é¢ï¼šWindowç³»ç»Ÿç”¨æˆ·é‡å¤§ï¼Œå› è€Œæ”»å‡»è€…å¤šä¸€äº›ï¼Œæ‰€ä»¥æš´éœ²äº†æ›´å¤šçš„ç³»ç»Ÿå®‰å…¨æ¼æ´ã€‚Linuxæ˜¯å¤šç”¨æˆ·å¤šè¿›ç¨‹ç³»ç»Ÿï¼Œæ„å‘³ç€Linuxèƒ½å¤Ÿä¸€æ¬¡æ€§å¤„ç†å¤§é‡æ­£åœ¨è¿›è¡Œçš„è¿›ç¨‹ï¼Œæ¯”windowså¤„ç†çš„å¤š</p>
<p>å®‰å…¨æ€§æ–¹é¢ï¼šLinuxç³»ç»Ÿå¼€æºè½¯ä»¶çš„å¼€å‘æ–¹å¼æœ‰åŠ©äºæš´éœ²é”™è¯¯ï¼Œé›†ä¼—äººæ™ºæ…§è§£å†³é—®é¢˜ï¼Œè¡¥ä¸æ›´æ–°æ›´å¿«ã€‚è¿™æ˜¯windowsä¸å…·å¤‡çš„ï¼ŒWindowsçš„å¦ä¸€ä¸ªä¸åˆ©å› ç´ æ˜¯å…¶è®¸å¤šåº”ç”¨ç¨‹åºä¾é è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼Œè¿™å°±è¿«ä½¿Windowsçš„é˜²ç«å¢™æ²¡æœ‰Linuxé‚£æ ·ä¸¥æ ¼ã€‚è€ŒLinuxè¿œç¨‹è¿‡ç¨‹è°ƒç”¨æ˜¯é™åˆ¶ä½¿ç”¨çš„ã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-å‰ç«¯èµ„æºå‘å¸ƒè·¯å¾„æ€ä¹ˆå®ç°éè¦†ç›–å¼å‘å¸ƒï¼ˆå¹³æ»‘å‡çº§ï¼‰ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-å‰ç«¯èµ„æºå‘å¸ƒè·¯å¾„æ€ä¹ˆå®ç°éè¦†ç›–å¼å‘å¸ƒï¼ˆå¹³æ»‘å‡çº§ï¼‰ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ å‰ç«¯èµ„æºå‘å¸ƒè·¯å¾„æ€ä¹ˆå®ç°éè¦†ç›–å¼å‘å¸ƒï¼ˆå¹³æ»‘å‡çº§ï¼‰ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ å‰ç«¯èµ„æºå‘å¸ƒè·¯å¾„æ€ä¹ˆå®ç°éè¦†ç›–å¼å‘å¸ƒï¼ˆå¹³æ»‘å‡çº§ï¼‰ï¼Ÿ</h3><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903457984512014">å‰ç«¯èµ„æºå‘å¸ƒè·¯å¾„æ€ä¹ˆå®ç°éè¦†ç›–å¼å‘å¸ƒ</a></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä½ æœ‰å‘å¸ƒè¿‡è‡ªå·±çš„npmåŒ…å—ï¼Ÿæµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä½ æœ‰å‘å¸ƒè¿‡è‡ªå·±çš„npmåŒ…å—ï¼Ÿæµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä½ æœ‰å‘å¸ƒè¿‡è‡ªå·±çš„npmåŒ…å—ï¼Ÿæµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä½ æœ‰å‘å¸ƒè¿‡è‡ªå·±çš„npmåŒ…å—ï¼Ÿæµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/CapejasmineY/article/details/126251986">npmåŒ…å‘å¸ƒæµç¨‹</a></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä»‹ç»ä¸‹-npm-æ¨¡å—å®‰è£…æœºåˆ¶ï¼Œä¸ºä»€ä¹ˆè¾“å…¥-npm-install-å°±å¯ä»¥è‡ªåŠ¨å®‰è£…å¯¹åº”çš„æ¨¡å—ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä»‹ç»ä¸‹-npm-æ¨¡å—å®‰è£…æœºåˆ¶ï¼Œä¸ºä»€ä¹ˆè¾“å…¥-npm-install-å°±å¯ä»¥è‡ªåŠ¨å®‰è£…å¯¹åº”çš„æ¨¡å—ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä»‹ç»ä¸‹ npm æ¨¡å—å®‰è£…æœºåˆ¶ï¼Œä¸ºä»€ä¹ˆè¾“å…¥ npm install å°±å¯ä»¥è‡ªåŠ¨å®‰è£…å¯¹åº”çš„æ¨¡å—ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä»‹ç»ä¸‹ npm æ¨¡å—å®‰è£…æœºåˆ¶ï¼Œä¸ºä»€ä¹ˆè¾“å…¥ npm install å°±å¯ä»¥è‡ªåŠ¨å®‰è£…å¯¹åº”çš„æ¨¡å—ï¼Ÿ</h3><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/75786d5c9cac">npm æ¨¡å—å®‰è£…æœºåˆ¶</a></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä½ ä¼šæ­å»ºç§æœ‰çš„npmä»“åº“å—ï¼Ÿæ€ä¹ˆæ­å»ºï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä½ ä¼šæ­å»ºç§æœ‰çš„npmä»“åº“å—ï¼Ÿæ€ä¹ˆæ­å»ºï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä½ ä¼šæ­å»ºç§æœ‰çš„npmä»“åº“å—ï¼Ÿæ€ä¹ˆæ­å»ºï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä½ ä¼šæ­å»ºç§æœ‰çš„npmä»“åº“å—ï¼Ÿæ€ä¹ˆæ­å»ºï¼Ÿ</h3><p><a target="_blank" rel="noopener" href="https://zhaomenghuan.js.org/blog/npm-private-repository-verdaccio.html">ç§æœ‰çš„npmä»“åº“</a></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-jenkins-ä¸Šçº¿æµç¨‹"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-jenkins-ä¸Šçº¿æµç¨‹" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸  jenkins ä¸Šçº¿æµç¨‹"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸  jenkins ä¸Šçº¿æµç¨‹</h3><p><a target="_blank" rel="noopener" href="https://developer.aliyun.com/article/608413">jenkins ä¸Šçº¿æµç¨‹</a></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä»€ä¹ˆæ˜¯é•¿ç¼“å­˜ï¼Œåœ¨webpackä¸­å¦‚ä½•åšåˆ°é•¿ç¼“å­˜ä¼˜åŒ–ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä»€ä¹ˆæ˜¯é•¿ç¼“å­˜ï¼Œåœ¨webpackä¸­å¦‚ä½•åšåˆ°é•¿ç¼“å­˜ä¼˜åŒ–ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä»€ä¹ˆæ˜¯é•¿ç¼“å­˜ï¼Œåœ¨webpackä¸­å¦‚ä½•åšåˆ°é•¿ç¼“å­˜ä¼˜åŒ–ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä»€ä¹ˆæ˜¯é•¿ç¼“å­˜ï¼Œåœ¨webpackä¸­å¦‚ä½•åšåˆ°é•¿ç¼“å­˜ä¼˜åŒ–ï¼Ÿ</h3><p>æµè§ˆå™¨åœ¨ç”¨æˆ·è®¿é—®é¡µé¢çš„æ—¶å€™ï¼Œéƒ½ä¼šå¯¹é™æ€èµ„æºè¿›è¡Œå­˜å‚¨ï¼Œä½†æ˜¯æ¯æ¬¡ä»£ç æ›´æ–°æˆ–è€…å‡çº§çš„æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½éœ€è¦æµè§ˆå™¨å»é‡æ–°åŠ è½½ä»£ç ï¼Œæœ€æ–¹ä¾¿çš„æ–¹æ³•å°±æ˜¯ä»¥æ–‡ä»¶åçš„æ–¹å¼å¼•å…¥ï¼Œåªä¸‹è½½æ–°çš„ä»£ç å—ï¼Œä¸åŠ è½½æ—§çš„æ²¡æœ‰å˜åŒ–çš„ä»£ç å—ï¼Œè¿™å°±æ˜¯é•¿ç¼“å­˜ï¼Œ</p>
<p>åœ¨webpack4ä¸­ä½¿ç”¨SplitChunkPluginæŠŠç¬¬ä¸‰æ–¹åº“å’Œä¸šåŠ¡ä»£ç åˆ†ç¦»ï¼Œç”±äºç¬¬ä¸‰æ–¹åº“çš„chunkHashæœªæ”¹å˜ï¼Œæ‰€ä»¥åªä¼šå¯¹æ”¹å˜çš„ä¸šåŠ¡ä»£ç çš„æ¨¡å—è¿›è¡Œæ›´æ–°ã€‚è€Œç¬¬ä¸‰æ–¹åº“çš„ä»£ç å—å› ä¸ºé•¿ç¼“å­˜è€Œä¸æ›´æ–°ã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä»€ä¹ˆæ˜¯ç»„ä»¶ï¼Ÿä»€ä¹ˆæ˜¯æ¨¡å—åŒ–ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä»€ä¹ˆæ˜¯ç»„ä»¶ï¼Ÿä»€ä¹ˆæ˜¯æ¨¡å—åŒ–ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä»€ä¹ˆæ˜¯ç»„ä»¶ï¼Ÿä»€ä¹ˆæ˜¯æ¨¡å—åŒ–ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä»€ä¹ˆæ˜¯ç»„ä»¶ï¼Ÿä»€ä¹ˆæ˜¯æ¨¡å—åŒ–ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p>ç»„ä»¶åŒ–</p>
<p>å°±æ˜¯åŸºç¡€åº“æˆ–è€…åŸºç¡€ç»„ä»¶ï¼Œæ„æ€æ˜¯æŠŠä»£ç é‡å¤çš„éƒ¨åˆ†æç‚¼å‡ºä¸€ä¸ªä¸ªç»„ä»¶ä¾›ç»™åŠŸèƒ½ä½¿ç”¨</p>
<p>æ¨¡å—åŒ–</p>
<p>å°±æ˜¯ä¸šåŠ¡æ¡†æ¶æˆ–è€…ä¸šåŠ¡æ¨¡å—ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºæ¡†æ¶ï¼Œæ„æ€æ˜¯æŠŠåŠŸèƒ½è¿›è¡Œåˆ’åˆ†ï¼Œå°†åŒä¸€ç±»å‹çš„ä»£ç æ•´åˆåœ¨ä¸€èµ·ï¼Œæ‰€ä»¥æ¨¡</p>
<p>å—çš„åŠŸèƒ½ç›¸å¯¹å¤æ‚ï¼Œéƒ½å±äºåŒä¸€ä¸ªä¸šåŠ¡ã€‚</p>
<p>åŒºåˆ«ï¼š</p>
<p>ä½¿ç”¨ï¼šç»„ä»¶çš„ä½¿ç”¨èƒ½åœ¨ä¸åŒé¡¹ç›®(æ¨¡å—)é‡å¤åº”ç”¨çš„ä»£ç ï¼Œè€Œæ¨¡å—æŒ‰ç…§é¡¹ç›®åŠŸèƒ½éœ€æ±‚åˆ’åˆ†æˆä¸åŒç±»å‹çš„ä¸šåŠ¡æ¡†æ¶ </p>
<p>ç›®çš„ï¼šç»„ä»¶æ˜¯å¤ç”¨ï¼Œè§£è€¦ï¼Œæ¨¡å—æ˜¯ä¸ºäº†éš”ç¦»ã€å°è£… </p>
<p>ä¾èµ–ï¼šç»„ä»¶ä¹‹é—´ä½ä¾èµ–ï¼Œæ¯”è¾ƒç‹¬ç«‹ï¼Œæ¨¡å—ä¹‹é—´çš„ä¾èµ–å¯é€šè¿‡è·¯ç”±è¿›è¡Œè€¦åˆ </p>
<p>æ¶æ„å®šä½ï¼šç»„ä»¶ä½äºæ¶æ„åº•å±‚ï¼Œè¢«å…¶å®ƒå±‚æ‰€ä¾èµ–ï¼Œæ¨¡å—ä½äºæ¶æ„ä¸šåŠ¡å±‚</p>
<h3 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h3><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903935795265549">https://juejin.cn/post/6844903935795265549</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/febobo/web-interview">https://github.com/febobo/web-interview</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag">é¢è¯•</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/3/">ä¸Šä¸€é¡µ</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/5/">ä¸‹ä¸€é¡µ</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2022
        <i class="ri-heart-fill heart_icon"></i> alan_mf
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>Visitors:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>Views:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzzç»Ÿè®¡ -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="è‰ºæœ¯ç ç•œ"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">ä¸»é¡µ</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">å½’æ¡£</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">åˆ†ç±»</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">æ ‡ç­¾</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags/%E6%97%85%E8%A1%8C/">æ—…è¡Œ</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="https://www.zcool.com.cn/u/21686563">æ‘„å½±</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/friends">å‹é“¾</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">å…³äºæˆ‘</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/player">æ’­æ”¾å™¨</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>è¯·æˆ‘å–æ¯å’–å•¡å§~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/zfb.jpeg">
      <span class="reward-type">æ”¯ä»˜å®</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wx.jpeg">
      <span class="reward-type">å¾®ä¿¡</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // sliderå±•å¼€çŠ¶æ€
                // todo: è¿™æ ·ä¸å¥½ï¼Œåé¢æ”¹æˆçŠ¶æ€
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // è·å¾—åŸå›¾å°ºå¯¸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script>

<script src="/js/clickBoom1.js"></script>
 
<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // ç­‰å¾…ä¸¤ç§’é’Ÿåæ¢å¤
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // ç­‰å¾…ä¸¤ç§’é’Ÿåæ¢å¤
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    <div id="music">
    
    
    
    <iframe frameborder="no" border="1" marginwidth="0" marginheight="0" width="200" height="52"
        src="//music.163.com/outchain/player?type=2&id=22707008&auto=1&height=32"></iframe>
</div>

<style>
    #music {
        position: fixed;
        right: 15px;
        bottom: 0;
        z-index: 998;
    }
</style>
    
    

  </div>
</body>

</html>