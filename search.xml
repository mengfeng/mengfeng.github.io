<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Dockeréƒ¨ç½²Drone</title>
    <url>/2022/11/13/Docker%E9%83%A8%E7%BD%B2Drone/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Dockeréƒ¨ç½²Drone"><a href="#Dockeréƒ¨ç½²Drone" class="headerlink" title="Dockeréƒ¨ç½²Drone"></a>Dockeréƒ¨ç½²Drone</h1><h3 id="ä¸€ã€æ–°å»º-GitHub-åº”ç”¨"><a href="#ä¸€ã€æ–°å»º-GitHub-åº”ç”¨" class="headerlink" title="ä¸€ã€æ–°å»º GitHub åº”ç”¨"></a>ä¸€ã€æ–°å»º GitHub åº”ç”¨</h3><p>å…·ä½“é¡ºåºSettings-&gt;Developer settings-&gt;OAuth Apps-&gt;New OAuth App</p>
<p><img src="/2022/11/13/Docker%E9%83%A8%E7%BD%B2Drone/image-20221113155624239.png"></p>
<p><img src="/2022/11/13/Docker%E9%83%A8%E7%BD%B2Drone/image-20221113155447805.png" alt="image-20221113155447805"></p>
<p>æ–°å»ºå®Œæˆåè®°ä½Client IDå’ŒClient secretsï¼Œåé¢é…ç½®éœ€è¦</p>
<p><img src="/2022/11/13/Docker%E9%83%A8%E7%BD%B2Drone/image-20221113155825926.png"></p>
<h3 id="äºŒã€ä¸‹è½½drone"><a href="#äºŒã€ä¸‹è½½drone" class="headerlink" title="äºŒã€ä¸‹è½½drone"></a>äºŒã€ä¸‹è½½drone</h3><pre><code class="ini">docker pull drone/drone //ä¸‹è½½drone
</code></pre>
<h3 id="ä¸‰ã€é…ç½®-Drone"><a href="#ä¸‰ã€é…ç½®-Drone" class="headerlink" title="ä¸‰ã€é…ç½® Drone"></a>ä¸‰ã€é…ç½® Drone</h3><p>é€šè¿‡ä½¿ç”¨ <code>Docker Compose</code> æ¥å¯åŠ¨ <code>Drone</code>ï¼Œç¼–å†™ <code>docker-compose.yml</code> æ–‡ä»¶ï¼ˆè¿™ä¸ªæ–‡ä»¶ç›´æ¥æ–°å»ºå°±å¯ä»¥äº†ï¼‰</p>
<pre><code class="ini">touch docker-compose.yml //æ–°å»ºæ–‡ä»¶
vim docker-compose.yml  //é…ç½®æ–‡ä»¶
</code></pre>
<pre><code class="javascript">//docker-compose.yml æ–‡ä»¶ä¸ç”¨ä¿®æ”¹
version: &#39;3&#39;

services:

  drone-server:
    image: drone/drone:2.3.1
    ports:
      - 443:443
      - 80:80
    volumes:
      - drone-data:/data:rw
      - ./ssl:/etc/certs
    restart: always
    environment:
      - DRONE_SERVER_HOST=$&#123;DRONE_SERVER_HOST:-https://drone.yeasy.com&#125;
      - DRONE_SERVER_PROTO=$&#123;DRONE_SERVER_PROTO:-https&#125;
      - DRONE_RPC_SECRET=$&#123;DRONE_RPC_SECRET:-secret&#125;
      - DRONE_GITHUB_SERVER=https://github.com
      - DRONE_GITHUB_CLIENT_ID=$&#123;DRONE_GITHUB_CLIENT_ID&#125;
      - DRONE_GITHUB_CLIENT_SECRET=$&#123;DRONE_GITHUB_CLIENT_SECRET&#125;

  drone-agent:
    image: drone/drone-runner-docker:1
    restart: always
    depends_on:
      - drone-server
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:rw
    environment:
      - DRONE_RPC_PROTO=http
      - DRONE_RPC_HOST=drone-server
      - DRONE_RPC_SECRET=$&#123;DRONE_RPC_SECRET:-secret&#125;
      - DRONE_RUNNER_NAME=$&#123;HOSTNAME:-demo&#125;
      - DRONE_RUNNER_CAPACITY=2
    dns: 114.114.114.114

volumes:
  drone-data:
</code></pre>
<p>æ–°å»º <code>.env</code> æ–‡ä»¶ï¼Œè¾“å…¥å˜é‡åŠå…¶å€¼ï¼ˆä¸Šé¢docker-compose.ymlæ–‡ä»¶é…ç½®ä¼šé»˜è®¤è¯»å– .env æ–‡ä»¶å˜é‡ï¼‰</p>
<pre><code class="ini">touch .env //æ–°å»ºæ–‡ä»¶
</code></pre>
<pre><code class="ini">//.env
# å¿…å¡« æœåŠ¡å™¨åœ°å€ï¼Œä¾‹å¦‚ drone.domain.com
DRONE_SERVER_HOST=
DRONE_SERVER_PROTO=https
DRONE_RPC_SECRET=secret
HOSTNAME=demo
# å¿…å¡« åœ¨ GitHub åº”ç”¨é¡µé¢æŸ¥çœ‹
DRONE_GITHUB_CLIENT_ID=
# å¿…å¡« åœ¨ GitHub åº”ç”¨é¡µé¢æŸ¥çœ‹
DRONE_GITHUB_CLIENT_SECRET=
</code></pre>
<pre><code class="ini">#æˆ‘çš„é…ç½®ï¼ˆå‚è€ƒï¼‰
# å¿…å¡« æœåŠ¡å™¨åœ°å€ï¼Œä¾‹å¦‚ drone.domain.com
DRONE_SERVER_HOST=localhost
DRONE_SERVER_PROTO=http
DRONE_RPC_SECRET=secret
HOSTNAME=demo
# å¿…å¡« åœ¨ GitHub åº”ç”¨é¡µé¢æŸ¥çœ‹
DRONE_GITHUB_CLIENT_ID=
# å¿…å¡« åœ¨ GitHub åº”ç”¨é¡µé¢æŸ¥çœ‹
DRONE_GITHUB_CLIENT_SECRET=
</code></pre>
<h3 id="å››ã€å¯åŠ¨Drone"><a href="#å››ã€å¯åŠ¨Drone" class="headerlink" title="å››ã€å¯åŠ¨Drone"></a>å››ã€å¯åŠ¨Drone</h3><pre><code class="ini">docker-compose up -d
</code></pre>
<p>è®¿é—®http:localhost:80ï¼ˆæˆ‘é…ç½®çš„ï¼Œä½ å’Œæˆ‘é…ç½®ä¸€æ ·å°±å¯ä»¥æ‰“å¼€ï¼‰å°±æˆåŠŸäº†</p>
<p><img src="/2022/11/13/Docker%E9%83%A8%E7%BD%B2Drone/image-20221113161124001.png"></p>
<p><img src="/2022/11/13/Docker%E9%83%A8%E7%BD%B2Drone/image-20221113155240845-8325994.png"></p>
<p>ç­‰åˆ°éªŒè¯å®Œæˆå°±å¯ä»¥äº†ï¼ˆå¦‚æœå‡ºç°é”™è¯¯ï¼Œå…³æœºé‡å¯ï¼Œé‡æ–°é…ç½®å°±å¯ä»¥äº†ï¼‰</p>
<p><img src="/2022/11/13/Docker%E9%83%A8%E7%BD%B2Drone/image-20221113165243948.png"></p>
<h3 id="äº”ã€æ¿€æ´»ä»“åº“-å…·ä½“çœ‹ä¸‹ä¸€ç¯‡"><a href="#äº”ã€æ¿€æ´»ä»“åº“-å…·ä½“çœ‹ä¸‹ä¸€ç¯‡" class="headerlink" title="äº”ã€æ¿€æ´»ä»“åº“(å…·ä½“çœ‹ä¸‹ä¸€ç¯‡)"></a>äº”ã€æ¿€æ´»ä»“åº“(å…·ä½“çœ‹ä¸‹ä¸€ç¯‡)</h3><p><img src="/2022/11/13/Docker%E9%83%A8%E7%BD%B2Drone/image-20221113171114692.png"></p>
]]></content>
      <categories>
        <category>CI/CD</category>
        <category>Dockeréƒ¨ç½²Drone</category>
      </categories>
      <tags>
        <tag>drone ci</tag>
      </tags>
  </entry>
  <entry>
    <title>Dokceréƒ¨ç½²Drone2</title>
    <url>/2022/11/14/Dokcer%E9%83%A8%E7%BD%B2Drone2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Dokceréƒ¨ç½²Drone2"><a href="#Dokceréƒ¨ç½²Drone2" class="headerlink" title="Dokceréƒ¨ç½²Drone2"></a>Dokceréƒ¨ç½²Drone2</h1><p>è¿™ä¸€ç¯‡å»¶ç»­ä¸Šä¸€ç¯‡çš„é—®é¢˜ï¼Œè¿™ä¸€ç¯‡è§£å†³ä»“åº“åˆå§‹åŒ–å¤±è´¥ï¼ˆ500ï¼‰çš„é—®é¢˜</p>
<h3 id="ä¸€ã€é—®é¢˜åŸå› "><a href="#ä¸€ã€é—®é¢˜åŸå› " class="headerlink" title="ä¸€ã€é—®é¢˜åŸå› "></a>ä¸€ã€é—®é¢˜åŸå› </h3><p>é—®é¢˜åœ¨äº drone åˆ›å»º webhooks æ—¶å¤±è´¥ï¼ŒGithub ä¸å…è®¸åˆ›å»ºæœ¬åœ° localhost ç±»å‹çš„ webhooksï¼Œå› ä¸ºè¿™æ ·æ‰§è¡Œæ—¶æ˜¯åœ¨æœ¬åœ°ï¼Œæ²¡åŠæ³•å®šä½åˆ°å…·ä½“çš„ç”¨æˆ·ä¸»æœºã€‚å¯ä»¥ä½¿ç”¨ <a href="https://link.juejin.cn/?target=https://ngrok.com">ngrok</a> è¿™æ ·çš„å·¥å…·æŠŠæœ¬åœ°æœåŠ¡ç»‘å®šåˆ°å…¬ç½‘ã€‚</p>
<h3 id="äºŒã€è§£å†³é—®é¢˜"><a href="#äºŒã€è§£å†³é—®é¢˜" class="headerlink" title="äºŒã€è§£å†³é—®é¢˜"></a>äºŒã€è§£å†³é—®é¢˜</h3><h4 id="1-å®‰è£…ngrok"><a href="#1-å®‰è£…ngrok" class="headerlink" title="1.å®‰è£…ngrok"></a>1.å®‰è£…ngrok</h4><p>å®‰è£…ngrokçš„æ—¶å€™ï¼Œmacç”¨æˆ·é»˜è®¤ä¸‹è½½çš„ä½ç½®å’Œç»ˆç«¯çš„ä½ç½®ä¸ä¸€æ ·ï¼Œæ‰€ä»¥æˆ‘ä»¬ç»Ÿä¸€å®‰è£…åˆ° &#x2F;usr&#x2F;local&#x2F;bin ç›®å½•</p>
<p><img src="/2022/11/14/Dokcer%E9%83%A8%E7%BD%B2Drone2/image-20221114110814408.png"></p>
<p>å…·ä½“æ­¥éª¤æ˜¯ï¼š</p>
<p><img src="/2022/11/14/Dokcer%E9%83%A8%E7%BD%B2Drone2/image-20221114111042057.png" alt="æ­¥éª¤ä¸€ï¼šè§£å‹ç¼©æ–‡ä»¶åå¤åˆ¶ngrok"></p>
<p><img src="/2022/11/14/Dokcer%E9%83%A8%E7%BD%B2Drone2/image-20221114111257463.png" alt="æ­¥éª¤äºŒï¼šå‰å¾€æ–‡ä»¶å¤¹"></p>
<p><img src="/2022/11/14/Dokcer%E9%83%A8%E7%BD%B2Drone2/image-20221114111332755.png"></p>
<p><img src="/2022/11/14/Dokcer%E9%83%A8%E7%BD%B2Drone2/image-20221114111355186.png" alt="æ­¥éª¤ä¸‰ï¼šå¤åˆ¶ngrokï¼ŒåŒå‡»æ‰§è¡Œ"></p>
<p><img src="/2022/11/14/Dokcer%E9%83%A8%E7%BD%B2Drone2/image-20221114111451022.png" alt="è¿›ç¨‹å®Œæˆ"></p>
<h4 id="2-è¿æ¥æœåŠ¡"><a href="#2-è¿æ¥æœåŠ¡" class="headerlink" title="2.è¿æ¥æœåŠ¡"></a>2.è¿æ¥æœåŠ¡</h4><p>æ‰§è¡Œngrokçš„å¯†é’¥ï¼Œè¿æ¥æœåŠ¡</p>
<pre><code class="ini">ngrok config add-authtoken 2HW491ApRpQILMM3kwW_4T7x8zVrAXpqUEjdSGU4y
</code></pre>
<p><img src="/2022/11/14/Dokcer%E9%83%A8%E7%BD%B2Drone2/image-20221114111554074.png"></p>
<p>å½“å‡ºç°ä¸‹é¢çš„æƒ…å†µï¼Œå°±è¯´æ˜å®‰è£…æˆåŠŸäº†ï¼Œå°±å¯ä»¥ä½¿ç”¨å‘½ä»¤äº†</p>
<p><img src="/2022/11/14/Dokcer%E9%83%A8%E7%BD%B2Drone2/image-20221114111712382.png"></p>
<p>å¦‚æœæç¤ºæ²¡æœ‰éªŒè¯é‚®ç®±ï¼Œå°±å…ˆå»éªŒè¯é‚®ç®±ï¼Œè¦ä¸ç„¶æœåŠ¡ä¼šä¸­æ–­</p>
<h4 id="3-å¼€å¯æœåŠ¡ç«¯å£"><a href="#3-å¼€å¯æœåŠ¡ç«¯å£" class="headerlink" title="3.å¼€å¯æœåŠ¡ç«¯å£"></a>3.å¼€å¯æœåŠ¡ç«¯å£</h4><pre><code class="ini">ngrok http 80
</code></pre>
<p><img src="/2022/11/14/Dokcer%E9%83%A8%E7%BD%B2Drone2/image-20221114111950182.png"></p>
<h4 id="4-ä¿®æ”¹Droneé…ç½®ï¼ˆgithubï¼‰"><a href="#4-ä¿®æ”¹Droneé…ç½®ï¼ˆgithubï¼‰" class="headerlink" title="4.ä¿®æ”¹Droneé…ç½®ï¼ˆgithubï¼‰"></a>4.ä¿®æ”¹Droneé…ç½®ï¼ˆgithubï¼‰</h4><pre><code class="ini">#Homepage URL
https://8313-183-202-88-243.ap.ngrok.io
</code></pre>
<p><img src="/2022/11/14/Dokcer%E9%83%A8%E7%BD%B2Drone2/image-20221114112053258.png"></p>
<p>5.ä¿®æ”¹docker-compose.yml å’Œ .env æ–‡ä»¶</p>
<pre><code class="ini">vim docker-compose.yml  //é…ç½®æ–‡ä»¶
vim .env
</code></pre>
<pre><code class="javascript">//docker-compose.yml
version: &#39;3.7&#39;

services:

  drone-server:
    image: drone/drone:2.3.1
    ports:
      - 80:80
    volumes:
      - drone-data:/data:rw
      - ./ssl:/etc/certs
    restart: always
    environment:
      - DRONE_SERVER_HOST=$&#123;DRONE_SERVER_HOST:-https://drone.yeasy.com&#125;
      - DRONE_SERVER_PROTO=$&#123;DRONE_SERVER_PROTO:-https&#125;
      - DRONE_RPC_SECRET=$&#123;DRONE_RPC_SECRET:-secret&#125;
      - DRONE_GITHUB_SERVER=https://github.com
      - DRONE_GITHUB_CLIENT_ID=$&#123;DRONE_GITHUB_CLIENT_ID&#125;
      - DRONE_GITHUB_CLIENT_SECRET=$&#123;DRONE_GITHUB_CLIENT_SECRET&#125;

  drone-runner:
    image: drone/drone-runner-docker:1
    restart: always
    depends_on:
      - drone-server
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:rw
    environment:
      - DRONE_RPC_PROTO=http
      - DRONE_RPC_HOST=drone-server
      - DRONE_RPC_SECRET=$&#123;DRONE_RPC_SECRET:-secret&#125;
      - DRONE_RUNNER_NAME=$&#123;HOSTNAME:-demo&#125;
      - DRONE_RUNNER_CAPACITY=2
    dns: 114.114.114.114

volumes:
  drone-data:
</code></pre>
<pre><code class="ini">//.env
# å¿…å¡« æœåŠ¡å™¨åœ°å€ï¼Œä¾‹å¦‚ drone.domain.com
DRONE_SERVER_HOST=8313-183-202-88-243.ap.ngrok.io
DRONE_SERVER_PROTO=https
DRONE_RPC_SECRET=24c08d3d73e59c5d9dd5e26e3256c1f9
HOSTNAME=demo
# å¿…å¡« åœ¨ GitHub åº”ç”¨é¡µé¢æŸ¥çœ‹
DRONE_GITHUB_CLIENT_ID=
# å¿…å¡« åœ¨ GitHub åº”ç”¨é¡µé¢æŸ¥çœ‹
DRONE_GITHUB_CLIENT_SECRET=
</code></pre>
<h4 id="5-é‡å¯Drone"><a href="#5-é‡å¯Drone" class="headerlink" title="5.é‡å¯Drone"></a>5.é‡å¯Drone</h4><pre><code class="ini">docker-compose up -d
</code></pre>
<p><img src="/2022/11/14/Dokcer%E9%83%A8%E7%BD%B2Drone2/image-20221114112748311.png"></p>
<p>è¿™æ ·æˆ‘ä»¬å°±è§£å†³äº†500çš„é—®é¢˜ï¼Œgithubä¸Šçš„Webhookså°±å¯åŠ¨äº†</p>
<p><img src="/2022/11/14/Dokcer%E9%83%A8%E7%BD%B2Drone2/image-20221114113100300.png"></p>
]]></content>
      <categories>
        <category>CI/CD</category>
        <category>Dokceréƒ¨ç½²Drone2</category>
      </categories>
      <tags>
        <tag>CI</tag>
      </tags>
  </entry>
  <entry>
    <title>Drone-UIæŒ‚èµ·</title>
    <url>/2022/11/16/Drone-UI%E6%8C%82%E8%B5%B7/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Drone-UIæŒ‚èµ·"><a href="#Drone-UIæŒ‚èµ·" class="headerlink" title="Drone-UIæŒ‚èµ·"></a>Drone-UIæŒ‚èµ·</h1><h3 id="ä¸€ã€é—®é¢˜æè¿°"><a href="#ä¸€ã€é—®é¢˜æè¿°" class="headerlink" title="ä¸€ã€é—®é¢˜æè¿°"></a>ä¸€ã€é—®é¢˜æè¿°</h3><p>å½“æˆ‘ä»¬å°†.drone.ymlé…ç½®æ–‡ä»¶æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œ</p>
<pre><code class="ini">git init //åˆå§‹åŒ–ä»“åº“
git remote add origin ä»“åº“åœ°å€ //é“¾æ¥è¿œç¨‹ä»“åº“
git add . 
git commit -m &quot;xxxx&quot;
git push ä»“åº“åœ°å€ //æ¨é€è¿œç¨‹ä»“åº“
</code></pre>
<p>å½“æˆ‘ä»¬å°†.drone.ymlæ¨é€åˆ°ä»“åº“çš„æ—¶å€™ï¼Œé‚£ä¹ˆwebhookså°±ä¼šè¢«è§¦å‘ï¼Œæˆ‘ä»¬åœ¨drone cié¡µé¢å°±å¯ä»¥çœ‹è§æ„å»ºæµç¨‹</p>
<p>ä½†å¦‚æœæˆ‘ä»¬çš„.drone.ymlé…ç½®å¤±è´¥ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°ä¸€ç›´å¡åœ¨pendingä¸Šï¼Œæˆ–è€…æ„å»ºå¤±è´¥</p>
<p><img src="/2022/11/16/Drone-UI%E6%8C%82%E8%B5%B7/image-20221115090812831.png"></p>
<h3 id="äºŒã€ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#äºŒã€ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="äºŒã€ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>äºŒã€ä¿®æ”¹é…ç½®æ–‡ä»¶</h3><p>1ã€.dron.ymlæ–‡ä»¶é…ç½®å’Œæ‰§è¡Œç¨‹åºå¯¹åº”</p>
<p>å¦‚æœæ²¡æœ‰å¯¹åº”é…ç½®ï¼Œé‚£ä¹ˆå°±ä¼špending</p>
<p><img src="/2022/11/16/Drone-UI%E6%8C%82%E8%B5%B7/image-20221116105118132.png"></p>
<p>ä¸¾ä¸ªè”æï¼š</p>
<pre><code class="ini">#.dron.yml
kind: pipeline
type: docker
name: deployment

platform:
  os: linux
  arch: arm64

steps:
  - name: deployment
    image: node
    commands:
      - pwd
      - ls
      - node app.js

branches: main
</code></pre>
<pre><code class="javascript">//app.js
let res = function()&#123;
    console.log(&quot;hello word&quot;)
&#125;
res()
</code></pre>
<h3 id="ä¸‰ã€æ¨é€åˆ°è¿œç¨‹ä»“åº“"><a href="#ä¸‰ã€æ¨é€åˆ°è¿œç¨‹ä»“åº“" class="headerlink" title="ä¸‰ã€æ¨é€åˆ°è¿œç¨‹ä»“åº“"></a>ä¸‰ã€æ¨é€åˆ°è¿œç¨‹ä»“åº“</h3><pre><code class="ini">git add . 
git commit -m &quot;xxxx&quot;
git push ä»“åº“åœ°å€ //æ¨é€è¿œç¨‹ä»“åº“
</code></pre>
<p><img src="/2022/11/16/Drone-UI%E6%8C%82%E8%B5%B7/image-20221116105715577.png"></p>
<h3 id="å››ã€æŸ¥çœ‹æ„å»ºç»“æœ"><a href="#å››ã€æŸ¥çœ‹æ„å»ºç»“æœ" class="headerlink" title="å››ã€æŸ¥çœ‹æ„å»ºç»“æœ"></a>å››ã€æŸ¥çœ‹æ„å»ºç»“æœ</h3><p>æ„å»ºæˆåŠŸ</p>
<p><img src="/2022/11/16/Drone-UI%E6%8C%82%E8%B5%B7/image-20221116105812556.png"></p>
<p>æˆ‘ä»¬CIæŒç»­é›†æˆæ„å»ºå°±æˆåŠŸäº†ï¼Œæˆ‘ä»¬å¯ä»¥å»ç»§ç»­ä¸°å¯Œæˆ‘ä»¬é…ç½®æ–‡ä»¶ï¼Œç›´åˆ°è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœ</p>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><p>[Droneå…¥é—¨]: 	â€œ<a href="https://0-8-0.docs.drone.io/zh/getting-started/">https://0-8-0.docs.drone.io/zh/getting-started/</a> â€œ</p>
]]></content>
      <categories>
        <category>CI/CD</category>
        <category>Drone-UIæŒ‚èµ·</category>
      </categories>
      <tags>
        <tag>CI</tag>
      </tags>
  </entry>
  <entry>
    <title>Electron-d-3.0</title>
    <url>/2022/11/26/Electron-d-3-0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Electron-d-3-0"><a href="#Electron-d-3-0" class="headerlink" title="Electron-d-3.0"></a>Electron-d-3.0</h1><h3 id="æ¸²æŸ“è¿›ç¨‹"><a href="#æ¸²æŸ“è¿›ç¨‹" class="headerlink" title="æ¸²æŸ“è¿›ç¨‹"></a>æ¸²æŸ“è¿›ç¨‹</h3><p>ä¸Šä¸€ç¯‡æˆ‘ä»¬è®²è§£äº†ä¸»è¿›ç¨‹çš„ä¸€äº›å¸¸ç”¨APIï¼Œè¿™ä¸€ç¯‡æˆ‘ä»¬æ¥ç€æ¥è®²è§£æ¸²æŸ“è¿›ç¨‹çš„API</p>
<h3 id="1-å‰ªåˆ‡æ¿ï¼ˆclipboardï¼‰"><a href="#1-å‰ªåˆ‡æ¿ï¼ˆclipboardï¼‰" class="headerlink" title="1.å‰ªåˆ‡æ¿ï¼ˆclipboardï¼‰"></a>1.å‰ªåˆ‡æ¿ï¼ˆclipboardï¼‰</h3><blockquote>
<p>åœ¨ç³»ç»Ÿå‰ªè´´æ¿ä¸Šæ‰§è¡Œå¤åˆ¶å’Œç²˜è´´æ“ä½œã€‚</p>
<p>ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹éƒ½å¯ä»¥ç”¨ã€‚</p>
</blockquote>
<p>ï¼ˆ1ï¼‰<code>clipboard.readText([type])</code></p>
<ul>
<li><code>type</code> string (optional) -å¯ä»¥æ˜¯ <code>selection</code> æˆ– <code>clipboard</code>; é»˜è®¤ä¸º â€˜clipboardâ€™. <code>selection</code> ä»…åœ¨ Linux ä¸­å¯ç”¨ã€‚</li>
</ul>
<p>è¿”å› <code>string</code> - å‰ªè´´æ¿ä¸­çš„å†…å®¹ä¸ºçº¯æ–‡æœ¬ã€‚</p>
<pre><code class="javascript">const &#123; clipboard &#125; = require(&#39;electron&#39;)

clipboard.writeText(&#39;hello i am a bit of text!&#39;)

const text = clipboard.readText()
console.log(text)
// hello i am a bit of text!&#39;
</code></pre>
<p>ï¼ˆ2ï¼‰<code>clipboard.writeText(text[, type])</code></p>
<ul>
<li><code>text</code> string</li>
<li><code>type</code> string (optional) -å¯ä»¥æ˜¯ <code>selection</code> æˆ– <code>clipboard</code>; é»˜è®¤ä¸º â€˜clipboardâ€™. <code>selection</code> ä»…åœ¨ Linux ä¸­å¯ç”¨ã€‚</li>
</ul>
<p>å°† <code>text</code> ä½œä¸ºçº¯æ–‡æœ¬å†™å…¥å‰ªè´´æ¿ã€‚</p>
<pre><code class="javascript">const &#123; clipboard &#125; = require(&#39;electron&#39;)

const text = &#39;hello i am a bit of text!&#39;
clipboard.writeText(text)
</code></pre>
<p>æˆ‘ä»¬å‰ªåˆ‡æ¿çš„APIå°±è¯´è¿™ä¸¤ä¸ªè¯»ä¸å†™ã€‚ä½†æ˜¯æˆ‘åœ¨æ¸²æŸ“è¿›ç¨‹é‡Œè¯»ä¸åˆ°clipboardã€‚</p>
<p>[clipboardæ–‡æ¡£]: 	â€œ<a href="https://www.electronjs.org/zh/docs/latest/api/clipboard">https://www.electronjs.org/zh/docs/latest/api/clipboard</a> â€œ</p>
<h3 id="2-contextBridge"><a href="#2-contextBridge" class="headerlink" title="2.contextBridge"></a>2.contextBridge</h3><p>åœ¨éš”ç¦»çš„ä¸Šä¸‹æ–‡ä¸­åˆ›å»ºä¸€ä¸ªå®‰å…¨çš„ã€åŒå‘çš„ã€åŒæ­¥çš„æ¡¥æ¢ã€‚</p>
<p>å¦‚ä¸‹ï¼Œæ˜¯ä¸€ä¸ªä»éš”ç¦»çš„é¢„åŠ è½½è„šæœ¬å°† API æš´éœ²ç»™æ¸²æŸ“å™¨çš„ç¤ºä¾‹ï¼šï¼ˆé€šè¿‡é¢„åŠ è½½è„šæœ¬æš´éœ²APIï¼Œæ¸²æŸ“è¿›ç¨‹å¯ä»¥è¯»å–ï¼‰</p>
<pre><code class="javascript">// Preload (Isolated World)
const &#123; contextBridge, ipcRenderer &#125; = require(&#39;electron&#39;)

contextBridge.exposeInMainWorld(
  &#39;electron&#39;,
  &#123;
    doThing: () =&gt; ipcRenderer.send(&#39;do-a-thing&#39;)
  &#125;
)
</code></pre>
<pre><code class="javascript">// Renderer (Main World)

window.electron.doThing()
</code></pre>
<p>[contextBridgeæ–‡æ¡£]: 	â€œ<a href="https://www.electronjs.org/zh/docs/latest/api/context-bridge">https://www.electronjs.org/zh/docs/latest/api/context-bridge</a> â€œ</p>
<h3 id="3-desktopCapturer"><a href="#3-desktopCapturer" class="headerlink" title="3.desktopCapturer"></a>3.desktopCapturer</h3><p>å®˜æ–¹æ–‡æ¡£ç»™çš„æ¡ˆä¾‹ä¸æ˜¯ç‰¹åˆ«å®¹æ˜“ç†è§£ï¼Œä»£ç æœ‰ç‚¹é•¿ã€‚</p>
<blockquote>
<p>è™½ç„¶å®˜æ–¹æ–‡æ¡£çš„ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹éƒ½æœ‰desktopCapturerï¼Œä½†æ˜¯æ¸²æŸ“è¿›ç¨‹æ˜¯è®¿é—®ä¸åˆ°çš„</p>
</blockquote>
<p>æˆ‘ä»¬ä¸¾ä¸€ä¸ªæŠ“å–é¡µé¢å†…å®¹çš„è”æå§ï¼</p>
<p><img src="/2022/11/26/Electron-d-3-0/image-20221126093410069.png"></p>
<pre><code class="javascript">//main.js+
 ipcMain.handle(&#39;capture-event&#39;,async (event,args)=&gt;&#123;
      return  desktopCapturer.getSources(&#123; types: [&#39;window&#39;, &#39;screen&#39;] &#125;).then( sources =&gt; &#123;
        return sources
      &#125;)
 &#125;)
//è§£é‡Šä¸€ä¸‹ï¼ŒdesktopCapturer.getSourcesè¿”å›çš„æ˜¯ä¸€ä¸ªPromiseçš„å¯¹è±¡
</code></pre>
<pre><code class="javascript">//preload.js+

  const capture = async ()=&gt;&#123;
    let res = await ipcRenderer.invoke(&#39;capture-event&#39;)
    console.log(res)
  &#125;
  
  contextBridge.exposeInMainWorld(&#39;electronAPI&#39;, &#123;
    capture
&#125;)
</code></pre>
<pre><code class="javascript">//app.js+
const btn = document.getElementById(&#39;btn&#39;)
btn.addEventListener(&#39;click&#39;,()=&gt;&#123;
    window.electronAPI.capture()
&#125;)
</code></pre>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP --&gt;
    &lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src &#39;self&#39;; script-src &#39;self&#39;&quot;&gt;
    &lt;title&gt;capture&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;button id=&quot;btn&quot;&gt;capture&lt;/button&gt;
    &lt;script src=&#39;./renderer/app.js&#39;&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>å½“æˆ‘ä»¬ç‚¹å‡»é¡µé¢ä¸Šçš„æŒ‰é’®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±ä¼šæ‰“å°å‡ºçª—å£ä¿¡æ¯ï¼Œç”±ä¸‹å›¾å¯ä»¥çœ‹å‡ºsourcesæ˜¯ä¸€ä¸ªæ•°ç»„</p>
<p><img src="/2022/11/26/Electron-d-3-0/image-20221126093927866.png"></p>
<p>æˆ‘ä»¬ç°åœ¨å°±å¯ä»¥æ ¹æ®æˆ‘ä»¬è·å–åˆ°çš„ä¿¡æ¯å»å¹²ä¸€äº›äº‹æƒ…äº†ã€‚</p>
<pre><code class="javascript">//preload.js+
  const capture = async ()=&gt;&#123;
    let sources = await ipcRenderer.invoke(&#39;capture-event&#39;)
    for (const source of sources) &#123;
      if (source.name === &#39;electron&#39;) &#123;
        let str = source.thumbnail.crop(&#123;x:0,y:0,width:300,height:300&#125;)
        let imgUrl = str.toDataURL()
        return imgUrl //è¿”å›çš„æ˜¯ä¸€ä¸ªPromise
      &#125;
    &#125;
  &#125;

  contextBridge.exposeInMainWorld(&#39;electronAPI&#39;, &#123;
    handleCounter: (callback) =&gt; ipcRenderer.on(&#39;update-counter&#39;, callback),
    capture,
&#125;)
</code></pre>
<pre><code class="javascript">//app.js+
const btn = document.getElementById(&#39;btn&#39;)
btn.addEventListener(&#39;click&#39;,async ()=&gt;&#123;
   let imgUrl = await window.electronAPI.capture()
   console.log(imgUrl)
&#125;)
</code></pre>
<p><img src="/2022/11/26/Electron-d-3-0/image-20221126100006800.png"></p>
<p>æˆ‘ä»¬åœ¨æ¸²æŸ“è¿›ç¨‹è¿™å°±å·²ç»æ‹¿åˆ°äº†æˆ‘ä»¬çš„æ•°æ®</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å°†æˆ‘ä»¬çš„æ•°æ®å¡«å……åˆ°æˆ‘ä»¬çš„é¡µé¢ä¹‹ä¸­</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP --&gt;
    &lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src &#39;self&#39;; script-src &#39;self&#39;;img-src * data:&quot;&gt;
    &lt;title&gt;Menu Counter&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;!-- Current value: &lt;strong id=&quot;counter&quot;&gt;0&lt;/strong&gt; --&gt;
    &lt;button id=&quot;btn&quot;&gt;capture&lt;/button&gt;
    &lt;img src=&quot;&quot; alt=&quot;æ•è·æ•°æ®&quot; id=&quot;img&quot;&gt;
    &lt;script src=&#39;./renderer/app.js&#39;&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<pre><code class="javascript">//app.js+
const btn = document.getElementById(&#39;btn&#39;)

btn.addEventListener(&#39;click&#39;,async ()=&gt;&#123;
   let imgUrl = await window.electronAPI.capture()
   document.getElementById(&#39;img&#39;).src = imgUrl
&#125;)
</code></pre>
<p><img src="/2022/11/26/Electron-d-3-0/image-20221126101223120.png"></p>
<p>æ­å–œä½ ï¼ï¼ï¼æˆåŠŸäº†ğŸ¥³ğŸ¥³ğŸ¥³</p>
<p>[desktopCaptureræ–‡æ¡£]: 	â€œ<a href="https://www.electronjs.org/zh/docs/latest/api/desktop-capturer&quot;">https://www.electronjs.org/zh/docs/latest/api/desktop-capturer&quot;</a></p>
<h3 id="4-nativeImage"><a href="#4-nativeImage" class="headerlink" title="4.nativeImage"></a>4.nativeImage</h3><blockquote>
<p>ä½¿ç”¨ PNG æˆ– JPG æ–‡ä»¶åˆ›å»ºæ‰˜ç›˜ã€dockå’Œåº”ç”¨ç¨‹åºå›¾æ ‡ã€‚</p>
<p>ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹éƒ½å¯ä»¥ç”¨ã€‚</p>
</blockquote>
<p>åœ¨ Electron å†…, é‚£äº›éœ€è¦å›¾ç‰‡çš„ API å¯ä»¥ä¼ é€’ä¸¤ç§å‚æ•°, ä¸€ç§æ˜¯æ–‡ä»¶è·¯å¾„, ä¸€ç§æ˜¯ <code>NativeImage</code> å®ä¾‹å¯¹è±¡ã€‚ ç©ºçš„å›¾ç‰‡å¯¹è±¡å°†è¢« <code>null</code> å‚æ•°æ›¿ä»£</p>
<p>ä¾‹å¦‚, åˆ›å»ºæ‰˜ç›˜æˆ–è®¾ç½®çª—å£å›¾æ ‡æ—¶, ä½ å¯ä»¥ä¼ é€’ <code>string</code> æ ¼å¼çš„å›¾ç‰‡è·¯å¾„</p>
<pre><code class="javascript">const &#123; BrowserWindow, Tray &#125; = require(&#39;electron&#39;)

const appIcon = new Tray(&#39;/Users/somebody/images/icon.png&#39;)
const win = new BrowserWindow(&#123; icon: &#39;/Users/somebody/images/window.png&#39; &#125;)
console.log(appIcon, win)
</code></pre>
<p>æˆ–è€…ä»ç²˜è´´æ¿è¯»å–å›¾ç‰‡ï¼Œå°†è¿”å› <code>NativeImage</code> å¯¹è±¡ï¼š</p>
<pre><code class="javascript">const &#123; clipboard, Tray &#125; = require(&#39;electron&#39;)
const image = clipboard.readImage()
const appIcon = new Tray(image)
console.log(appIcon)
</code></pre>
<p>æˆ‘ä»¬æ–‡æ¡£é‡Œè¿˜æœ‰å…¶ä»–çš„ä¸€äº›å…³äºNativeImageå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼Œæˆ‘ä»¬å°±å“ªé‡Œéœ€è¦å“ªé‡Œæ¬ã€‚</p>
<p>[nativeImageæ–‡æ¡£]: 	â€œ<a href="https://www.electronjs.org/zh/docs/latest/api/native-image">https://www.electronjs.org/zh/docs/latest/api/native-image</a> â€œ</p>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å¯¹äºelectronçš„å­¦ä¹ å…ˆåˆ°è¿™ï¼Œå¦‚æœæˆ‘çš„è¿™å‡ ç¯‡æ–‡ç« éƒ½è®¤è®¤çœŸçœŸçš„çœ‹å®Œäº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹Ÿå¯¹electronæœ‰äº†è¿›ä¸€æ­¥è®¤è¯†ã€‚</p>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><p>[Electronå®˜ç½‘]: 	â€œ<a href="https://www.electronjs.org/">https://www.electronjs.org/</a> â€œ</p>
]]></content>
      <categories>
        <category>Electron</category>
        <category>Electron-d-3.0</category>
      </categories>
      <tags>
        <tag>electron</tag>
      </tags>
  </entry>
  <entry>
    <title>Vite+Vue3+Tsæ­å»ºç§æœ‰ç»„ä»¶åº“</title>
    <url>/2022/11/20/Vite-Vue3-Ts%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E7%BB%84%E4%BB%B6%E5%BA%93/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Vite-Vue3-Tsæ­å»ºç§æœ‰ç»„ä»¶åº“"><a href="#Vite-Vue3-Tsæ­å»ºç§æœ‰ç»„ä»¶åº“" class="headerlink" title="Vite+Vue3+Tsæ­å»ºç§æœ‰ç»„ä»¶åº“"></a>Vite+Vue3+Tsæ­å»ºç§æœ‰ç»„ä»¶åº“</h1><p>ç›®å‰å‰ç«¯æŠ€æœ¯çš„æŒç»­å‘å±•ï¼Œç¤¾åŒºç”Ÿæ€å‡ºç°äº†ä¸€æ‰¹æ¯”è¾ƒé€‚ç”¨çš„ç»„ä»¶åº“ï¼Œä¾‹å¦‚ï¼šElementUI,Vantï¼ŒAntDesignç­‰ï¼Œä½†è¿™äº›ç»„ä»¶åº“çš„ç»„ä»¶ä¸ä¸€å®šèƒ½æ»¡è¶³æˆ‘ä»¬ä¸€äº›é¡¹ç›®çš„ç‰¹å®šä¸šåŠ¡éœ€æ±‚ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„å›¢é˜Ÿå°±åº”è¯¥å»ºç«‹èµ·æˆ‘ä»¬è‡ªå·±çš„ç»„ä»¶åº“ï¼Œæ–¹ä¾¿äºæˆ‘ä»¬è‡ªå·±çš„ä¸šåŠ¡å¼€å‘ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿™ç¯‡æ–‡ç« å°±æ¥äº†è§£ä¸€ä¸‹æˆ‘ä»¬å¼€å‘ç»„ä»¶åº“çš„å¤§ä½“æŠ€æœ¯æ¶æ„ä½“ç³»ã€‚</p>
<p>æ­å»ºç»„ä»¶åº“çš„æŠ€æœ¯è¦ç‚¹ï¼š</p>
<ul>
<li>å¦‚ä½•ä½¿ç”¨pnpmæ­å»ºå‡ºä¸€ä¸ªmenorepoç¯å¢ƒ</li>
<li>å¦‚ä½•ä½¿ç”¨viteæ­å»ºä¸€ä¸ªåŸºæœ¬çš„Vue3è„šæ‰‹æ¶é¡¹ç›®</li>
<li>å¦‚ä½•å¼€å‘è°ƒè¯•ä¸€ä¸ªè‡ªå·±çš„UIç»„ä»¶åº“</li>
<li>å¦‚ä½•ä½¿ç”¨viteæ‰“åŒ…å¹¶å‘å¸ƒè‡ªå·±çš„UIç»„ä»¶åº“</li>
</ul>
<h3 id="ä¸€ã€menorepoç¯å¢ƒçš„æ­å»º"><a href="#ä¸€ã€menorepoç¯å¢ƒçš„æ­å»º" class="headerlink" title="ä¸€ã€menorepoç¯å¢ƒçš„æ­å»º"></a>ä¸€ã€menorepoç¯å¢ƒçš„æ­å»º</h3><p>é¦–å…ˆæˆ‘ä»¬è¦äº†è§£ä»€ä¹ˆæ˜¯menorepoåŠå®ƒæ˜¯å¦‚ä½•æ­å»º (å•ä»“åº“ å¤šé¡¹ç›®)</p>
<p>å°±æ˜¯æŒ‡åœ¨ä¸€ä¸ªå¤§çš„é¡¹ç›®ä»“åº“ä¸­ï¼Œç®¡ç†å¤šä¸ªæ¨¡å—&#x2F;åŒ…ï¼ˆpackageï¼‰ï¼Œè¿™ç§ç±»å‹çš„é¡¹ç›®å¤§éƒ½åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æœ‰ä¸€ä¸ªpackagesæ–‡ä»¶å¤¹ï¼Œåˆ†å¤šä¸ªé¡¹ç›®ç®¡ç†ã€‚å¤§æ¦‚ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="ini">-- packages
  -- pkg1
    --package.json
  -- pkg2
    --package.json
--package.json
</code></pre>
<p>ç›®å‰å¾ˆå¤šæˆ‘ä»¬ç†ŸçŸ¥çš„é¡¹ç›®éƒ½æ˜¯é‡‡ç”¨è¿™ç§æ¨¡å¼ï¼Œå¦‚Vantï¼ŒElementUIï¼ŒVue3ç­‰ã€‚æ‰“é€ ä¸€ä¸ªmenorepoç¯å¢ƒçš„å·¥å…·æœ‰å¾ˆå¤šï¼Œå¦‚ï¼šlernaã€pnpmã€yarnç­‰ï¼Œè¿™é‡Œæˆ‘ä»¬å°†ä½¿ç”¨pnpmæ¥å¼€å‘æˆ‘ä»¬çš„UIç»„ä»¶åº“</p>
<h4 id="1-ä½¿ç”¨pnpm"><a href="#1-ä½¿ç”¨pnpm" class="headerlink" title="1.ä½¿ç”¨pnpm"></a>1.ä½¿ç”¨pnpm</h4><pre><code class="ini">npm install pnpm -g //å®‰è£…pnpm
pnpm init //åˆå§‹åŒ–package.json
</code></pre>
<p>æ–°å»ºé…ç½®æ–‡ä»¶ .npmrc</p>
<pre><code class="ini">shamefully-hoist = true
</code></pre>
<p>è¿™é‡Œç®€å•è¯´ä¸‹ä¸ºä»€ä¹ˆè¦é…ç½®shamefully-hoistã€‚</p>
<p>å¦‚æœæŸäº›å·¥å…·ä»…åœ¨æ ¹ç›®å½•çš„node_modulesæ—¶æ‰æœ‰æ•ˆï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸ºtrueæ¥æå‡é‚£äº›ä¸åœ¨æ ¹ç›®å½•çš„node_modulesï¼Œå°±æ˜¯å°†ä½ å®‰è£…çš„ä¾èµ–åŒ…çš„ä¾èµ–åŒ…çš„ä¾èµ–åŒ…çš„â€¦éƒ½æ”¾åˆ°åŒä¸€çº§åˆ«ï¼ˆæ‰å¹³åŒ–ï¼‰ã€‚è¯´ç™½äº†å°±æ˜¯ä¸è®¾ç½®ä¸ºtrueæœ‰äº›åŒ…å°±æœ‰å¯èƒ½ä¼šå‡ºé—®é¢˜ã€‚</p>
<p>å®‰è£…å¯¹åº”ä¾èµ–</p>
<pre><code class="ini">pnpm i vue@next typescript less -D -w //å¼€å‘ç¯å¢ƒä¸­çš„ä¾èµ–ä¸€èˆ¬å…¨éƒ¨å®‰è£…åœ¨æ•´ä¸ªé¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œæ–¹ä¾¿ä¸‹é¢æˆ‘ä»¬æ¯ä¸ªåŒ…éƒ½å¯ä»¥å¼•ç”¨,æ‰€ä»¥åœ¨å®‰è£…çš„æ—¶å€™éœ€è¦åŠ ä¸ª -w
</code></pre>
<p>å¦‚æœæˆ‘ä»¬æ˜¯åœ¨æ ¹ç›®å½•ä¸‹è¿è¡Œå‘½ä»¤ï¼Œé‚£ä¹ˆå°±ä¸ç”¨åŠ  -w äº†ï¼Œè¦ä¸ç„¶ä¼šæç¤º</p>
<pre><code class="error">--workspace-root may only be used inside a workspace
</code></pre>
<p>é…ç½®tsconfit.json</p>
<pre><code class="ini">npx tsc --init //åˆå§‹åŒ–
</code></pre>
<pre><code class="javascript">//tsconfit.jsoné…ç½®
&#123;
  &quot;compilerOptions&quot;: &#123;
    &quot;baseUrl&quot;: &quot;.&quot;,
    &quot;jsx&quot;: &quot;preserve&quot;,
    &quot;strict&quot;: true,
    &quot;target&quot;: &quot;ES2015&quot;,
    &quot;module&quot;: &quot;ESNext&quot;,
    &quot;skipLibCheck&quot;: true,
    &quot;esModuleInterop&quot;: true,
    &quot;moduleResolution&quot;: &quot;Node&quot;,
    &quot;lib&quot;: [&quot;esnext&quot;, &quot;dom&quot;]
  &#125;
&#125;
</code></pre>
<h4 id="2-monorepoçš„å®ç°"><a href="#2-monorepoçš„å®ç°" class="headerlink" title="2.monorepoçš„å®ç°"></a>2.monorepoçš„å®ç°</h4><p>å„ä¸ªé¡¹ç›®ä¹‹é—´èƒ½å¤Ÿäº’ç›¸å¼•ç”¨æˆ‘ä»¬è¦æ–°å»ºä¸€ä¸ªpnpm-workspace.yamlæ–‡ä»¶å°†æˆ‘ä»¬çš„åŒ…å…³è”èµ·æ¥</p>
<pre><code class="ini">packages:
    - &#39;packages/**&#39;
    - &#39;examples&#39;
</code></pre>
<p>è¿™æ ·å°±èƒ½å°†æˆ‘ä»¬é¡¹ç›®ä¸‹çš„packagesç›®å½•å’Œexamplesç›®å½•å…³è”èµ·æ¥äº†ï¼Œå½“ç„¶å¦‚æœä½ æƒ³å…³è”æ›´å¤šç›®å½•ä½ åªéœ€è¦å¾€é‡Œé¢æ·»åŠ å³å¯ã€‚æ ¹æ®ä¸Šé¢çš„ç›®å½•ç»“æ„å¾ˆæ˜¾ç„¶ä½ åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºpackageså’Œexamplesæ–‡ä»¶å¤¹ï¼Œpackagesæ–‡ä»¶å¤¹å­˜æ”¾æˆ‘ä»¬å¼€å‘çš„åŒ…ï¼Œexamplesç”¨æ¥è°ƒè¯•æˆ‘ä»¬çš„ç»„ä»¶ã€‚</p>
<p>examplesæ–‡ä»¶å¤¹å°±æ˜¯æ¥ä¸‹æ¥æˆ‘ä»¬è¦ä½¿ç”¨viteæ­å»ºä¸€ä¸ªåŸºæœ¬çš„Vue3è„šæ‰‹æ¶é¡¹ç›®çš„åœ°æ–¹ã€‚</p>
<h4 id="3-æ‰‹åŠ¨æ­å»ºä¸€ä¸ªåŸºäºviteçš„vue3é¡¹ç›®"><a href="#3-æ‰‹åŠ¨æ­å»ºä¸€ä¸ªåŸºäºviteçš„vue3é¡¹ç›®" class="headerlink" title="3.æ‰‹åŠ¨æ­å»ºä¸€ä¸ªåŸºäºviteçš„vue3é¡¹ç›®"></a>3.æ‰‹åŠ¨æ­å»ºä¸€ä¸ªåŸºäºviteçš„vue3é¡¹ç›®</h4><p>è¿›å…¥examplesæ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œ</p>
<pre><code class="ini">pnpm init //åˆå§‹åŒ–ä»“åº“
pnpm install vite @vitejs/plugin-vue -D -w //å®‰è£…viteå’Œ@vitejs/plugin-vue
</code></pre>
<p>é…ç½®vite.config.ts</p>
<p>æ–°å»ºvite.config.tsæ–‡ä»¶</p>
<pre><code class="ini">import &#123; defineConfig &#125; from &#39;vite&#39;
import vue from &#39;@vitejs/plugin-vue&#39;

export default defineConfig(&#123;
    plugins:[vue()]
&#125;)
</code></pre>
<p>æ–°å»ºhtmlæ–‡ä»¶</p>
<p>@vitejs&#x2F;plugin-vue ä¼šé»˜è®¤åŠ è½½examplesä¸‹çš„index.html</p>
<p>æ–°å»ºindex.html</p>
<pre><code class="xml">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;
    &lt;script src=&quot;main.ts&quot; type=&quot;module&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>æ³¨æ„ï¼š<br>vite æ˜¯åŸºäºesmoduleçš„ æ‰€ä»¥type&#x3D;â€moduleâ€</p>
<p>æ–°å»ºapp.vueæ¨¡æ¿</p>
<pre><code class="xml">&lt;template&gt;
    &lt;div&gt;
        å¯åŠ¨æµ‹è¯•
    &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p>æ–°å»ºmain.ts</p>
<pre><code class="javascript">import &#123;createApp&#125; from &#39;vue&#39;
import App from &#39;./app.vue&#39;

const app = createApp(App)

app.mount(&#39;#app&#39;)
</code></pre>
<p>æ­¤æ—¶ä¼šå‘ç°ç¼–è¯‘å™¨ä¼šæç¤ºä¸ªé”™è¯¯ï¼šæ‰¾ä¸åˆ°æ¨¡å—â€œ.&#x2F;app.vueâ€æˆ–å…¶ç›¸åº”çš„ç±»å‹å£°æ˜</p>
<p>å› ä¸ºç›´æ¥å¼•å…¥.vueæ–‡ä»¶ TSä¼šæ‰¾ä¸åˆ°å¯¹åº”çš„ç±»å‹å£°æ˜ï¼›æ‰€ä»¥éœ€è¦æ–°å»ºtypingsï¼ˆå‘½åæ²¡æœ‰æ˜ç¡®è§„å®šï¼ŒTSä¼šè‡ªåŠ¨å¯»æ‰¾.d.tsæ–‡ä»¶ï¼‰æ–‡ä»¶å¤¹æ¥ä¸“é—¨æ”¾è¿™äº›å£°æ˜æ–‡ä»¶ã€‚</p>
<p>typings&#x2F;vue-shim.d.ts</p>
<p>TypeScriptTSé»˜è®¤åªè®¤ES æ¨¡å—ã€‚å¦‚æœä½ è¦å¯¼å…¥.vueæ–‡ä»¶å°±è¦declare moduleæŠŠä»–ä»¬å£°æ˜å‡ºæ¥ã€‚</p>
<pre><code class="typescript">declare module &#39;*.vue&#39; &#123;
    import type &#123; DefineComponent &#125; from &quot;vue&quot;;
    const component:DefineComponent&lt;&#123;&#125;,&#123;&#125;,any&gt;
&#125;
</code></pre>
<p>é…ç½®è„šæœ¬å¯åŠ¨é¡¹ç›®</p>
<p>æœ€ååœ¨package.jsonæ–‡ä»¶ä¸­é…ç½®scriptsè„šæœ¬</p>
<pre><code class="erlang">...
&quot;scripts&quot;: &#123;
    &quot;dev&quot;: &quot;vite&quot;
  &#125;,
...
</code></pre>
<p>ç„¶åç»ˆç«¯è¾“å…¥æˆ‘ä»¬ç†Ÿæ‚‰çš„å‘½ä»¤ï¼špnpm run dev</p>
<p><img src="/2022/11/20/Vite-Vue3-Ts%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E7%BB%84%E4%BB%B6%E5%BA%93/image-20221120114028908.png"></p>
<p>å¦‚æœå‡ºç°äº†cannot find module â€˜node:pathâ€™è¿™æ ·çš„é”™è¯¯æç¤ºï¼Œé‚£å¯èƒ½æ˜¯nodeç‰ˆæœ¬ä¸å…¼å®¹ï¼Œå‡çº§ä¸€ä¸‹nodeç‰ˆæœ¬å°±å¯ä»¥äº†</p>
<p>æˆ‘çš„node ç‰ˆæœ¬æ˜¯ v14.17.0 çš„ç‰ˆæœ¬ï¼Œå‡ºç°äº†ä¸å…¼å®¹çš„é—®é¢˜ï¼Œäºæ˜¯å‡çº§åˆ°äº†ç¨³å®šç‰ˆ v16.16.0 ã€‚</p>
<p>å†è¿è¡Œviteå°±æ²¡é—®é¢˜äº†</p>
<p><img src="/2022/11/20/Vite-Vue3-Ts%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E7%BB%84%E4%BB%B6%E5%BA%93/image-20221120114403681.png"></p>
<h3 id="äºŒã€æœ¬åœ°è°ƒè¯•"><a href="#äºŒã€æœ¬åœ°è°ƒè¯•" class="headerlink" title="äºŒã€æœ¬åœ°è°ƒè¯•"></a>äºŒã€æœ¬åœ°è°ƒè¯•</h3><h4 id="1-æ–°å»ºåŒ…æ–‡ä»¶"><a href="#1-æ–°å»ºåŒ…æ–‡ä»¶" class="headerlink" title="1.æ–°å»ºåŒ…æ–‡ä»¶"></a>1.æ–°å»ºåŒ…æ–‡ä»¶</h4><p>å¾€packagesæ–‡ä»¶å¤¹å†²å¡«å……å†…å®¹</p>
<p>ä¸€èˆ¬packagesè¦æœ‰utilsåŒ…æ¥å­˜æ”¾æˆ‘ä»¬å…¬å…±æ–¹æ³•ï¼Œå·¥å…·å‡½æ•°ç­‰</p>
<p>æ—¢ç„¶å®ƒæ˜¯ä¸€ä¸ªåŒ…ï¼Œæ‰€ä»¥æˆ‘ä»¬æ–°å»ºutilsç›®å½•åå°±éœ€è¦åˆå§‹åŒ–å®ƒï¼Œè®©å®ƒå˜æˆä¸€ä¸ªåŒ…ï¼›ç»ˆç«¯è¿›å…¥utilsæ–‡ä»¶å¤¹æ‰§è¡Œï¼špnpm init ç„¶åä¼šç”Ÿæˆä¸€ä¸ªpackage.jsonæ–‡ä»¶ï¼›è¿™é‡Œéœ€è¦æ”¹ä¸€ä¸‹åŒ…åï¼Œæˆ‘è¿™é‡Œå°†nameæ”¹æˆ@alanmf&#x2F;utilsè¡¨ç¤ºè¿™ä¸ªutilsåŒ…æ˜¯å±äºalanmfè¿™ä¸ªç»„ç»‡ä¸‹çš„ã€‚æ‰€ä»¥è®°ä½å‘å¸ƒä¹‹å‰è¦ç™»å½•npmæ–°å»ºä¸€ä¸ªç»„ç»‡ï¼›ä¾‹å¦‚alanmf</p>
<p><img src="/2022/11/20/Vite-Vue3-Ts%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E7%BB%84%E4%BB%B6%E5%BA%93/image-20221120152720676.png"></p>
<p>å› ä¸ºæˆ‘ä»¬ä½¿ç”¨tså†™çš„ï¼Œæ‰€ä»¥éœ€è¦å°†å…¥å£æ–‡ä»¶index.jsæ”¹ä¸ºindex.tsï¼Œå¹¶æ–°å»ºindex.tsæ–‡ä»¶:(å…ˆå¯¼å‡ºä¸€ä¸ªç®€å•çš„åŠ æ³•å‡½æ•°)</p>
<p>componentsæ˜¯æˆ‘ä»¬ç”¨æ¥å­˜æ”¾å„ç§UIç»„ä»¶çš„åŒ…</p>
<p>æ–°å»ºcomponentsæ–‡ä»¶å¤¹å¹¶æ‰§è¡Œ pnpm init ç”Ÿæˆpackage.json</p>
<ul>
<li>ç»„ä»¶åº“åŒ… è¿™é‡Œå‘½åä¸ºalanmf</li>
</ul>
<pre><code class="ini">&#123;
  &quot;name&quot;: &quot;@alanmf/utils&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.ts&quot;,
  &quot;scripts&quot;: &#123;
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  &#125;,
  &quot;keywords&quot;: [],
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;
&#125;
</code></pre>
<p>æ–°å»ºindex.tså…¥å£æ–‡ä»¶å¹¶å¼•å…¥utilsåŒ…</p>
<pre><code class="tsx">//@kitty-ui/utils
import &#123;testfun&#125; from &#39;@alanmf/utils&#39;

const result = testfun (1,1)

console.log(result)
</code></pre>
<p>ç”±äºç»„ä»¶åº“æ˜¯åŸºäºtsçš„ï¼Œæ‰€ä»¥éœ€è¦å®‰è£…esnoæ¥æ‰§è¡Œtsæ–‡ä»¶ä¾¿äºæµ‹è¯•ç»„ä»¶ä¹‹é—´çš„å¼•å…¥æƒ…å†µ</p>
<p>æ§åˆ¶å°è¾“å…¥esno xxx.tså³å¯æ‰§è¡Œtsæ–‡ä»¶</p>
<pre><code class="ini">npm i esno -g //å®‰è£…esno
eson index.ts //æ‰§è¡Œindex.tsæ–‡ä»¶
</code></pre>
<p><img src="/2022/11/20/Vite-Vue3-Ts%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E7%BB%84%E4%BB%B6%E5%BA%93/image-20221120151321307.png"></p>
<h4 id="2-åŒ…ä¹‹é—´æœ¬åœ°è°ƒè¯•"><a href="#2-åŒ…ä¹‹é—´æœ¬åœ°è°ƒè¯•" class="headerlink" title="2.åŒ…ä¹‹é—´æœ¬åœ°è°ƒè¯•"></a>2.åŒ…ä¹‹é—´æœ¬åœ°è°ƒè¯•</h4><p>è¿›å…¥componentsæ–‡ä»¶å¤¹æ‰§è¡Œ</p>
<pre><code class="bash">pnpm install @alanmf/utils
</code></pre>
<p>ä½ ä¼šå‘ç°pnpmä¼šè‡ªåŠ¨åˆ›å»ºä¸ªè½¯é“¾æ¥ç›´æ¥æŒ‡å‘æˆ‘ä»¬çš„utilsåŒ…ï¼›æ­¤æ—¶componentsä¸‹çš„packagesï¼š</p>
<pre><code class="swift">&#123;
  &quot;name&quot;: &quot;alanmf&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.ts&quot;,
  &quot;scripts&quot;: &#123;
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  &#125;,
  &quot;keywords&quot;: [],
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: &#123;
    &quot;@alanmf/utils&quot;: &quot;workspace:^1.0.0&quot;
  &#125;
&#125;
</code></pre>
<p>ä½ ä¼šå‘ç°å®ƒçš„ä¾èµ–@alanmf&#x2F;utilså¯¹åº”çš„ç‰ˆæœ¬ä¸ºï¼šworkspace:^1.0.0ï¼›å› ä¸ºpnpmæ˜¯ç”±workspaceç®¡ç†çš„ï¼Œæ‰€ä»¥æœ‰ä¸€ä¸ªå‰ç¼€workspaceå¯ä»¥æŒ‡å‘utilsä¸‹çš„å·¥ä½œç©ºé—´ä»è€Œæ–¹ä¾¿æœ¬åœ°è°ƒè¯•å„ä¸ªåŒ…ç›´æ¥çš„å…³è”å¼•ç”¨ã€‚</p>
<p>åˆ°è¿™é‡ŒåŸºæœ¬å¼€å‘æ–¹æ³•æˆ‘ä»¬å·²ç»çŸ¥é“å•¦ï¼›æ¥ä¸‹æ¥å°±è¦è¿›å…¥æ­£é¢˜äº†ï¼Œå¼€å‘ä¸€ä¸ªbuttonç»„ä»¶</p>
<h3 id="ä¸‰ã€å¼€å‘ä¸€ä¸ªbuttonç»„ä»¶"><a href="#ä¸‰ã€å¼€å‘ä¸€ä¸ªbuttonç»„ä»¶" class="headerlink" title="ä¸‰ã€å¼€å‘ä¸€ä¸ªbuttonç»„ä»¶"></a>ä¸‰ã€å¼€å‘ä¸€ä¸ªbuttonç»„ä»¶</h3><h4 id="1-åˆ›å»ºä¸€ä¸ªæµ‹è¯•ç»„ä»¶"><a href="#1-åˆ›å»ºä¸€ä¸ªæµ‹è¯•ç»„ä»¶" class="headerlink" title="1.åˆ›å»ºä¸€ä¸ªæµ‹è¯•ç»„ä»¶"></a>1.åˆ›å»ºä¸€ä¸ªæµ‹è¯•ç»„ä»¶</h4><p>åœ¨componentsæ–‡ä»¶å¤¹ä¸‹æ–°å»ºsrc,åŒæ—¶åœ¨srcä¸‹æ–°å»ºbuttonç»„ä»¶ç›®å½•å’Œiconç»„ä»¶ç›®å½•(æ–°å»ºiconä¸ºäº†ä¾¿äºè°ƒè¯•);æ­¤æ—¶componentsæ–‡ä»¶ç›®å½•å¦‚ä¸‹</p>
<pre><code class="lua">-- components
  -- src
    -- button
    -- icon
    -- index.ts
-- package.json
</code></pre>
<p>è®©æˆ‘ä»¬å…ˆæµ‹è¯•ä¸€ä¸‹æˆ‘ä»¬çš„buttonç»„ä»¶èƒ½å¦åœ¨æˆ‘ä»¬æ­å»ºçš„examplesä¸‹çš„vue3é¡¹ç›®æœ¬å¼•ç”¨~</p>
<p>é¦–å…ˆåœ¨buttonä¸‹æ–°å»ºä¸€ä¸ªç®€å•çš„button.vue</p>
<pre><code class="xml">&lt;template&gt;
    &lt;button&gt;æµ‹è¯•æŒ‰é’®&lt;/button&gt;
&lt;/template&gt;
</code></pre>
<p>ç„¶ååœ¨button&#x2F;index.tså°†å…¶å¯¼å‡º</p>
<pre><code class="javascript">import Button from &#39;./button.vue&#39;

export default Button
</code></pre>
<p>å› ä¸ºæˆ‘ä»¬å¼€å‘ç»„ä»¶åº“çš„æ—¶å€™ä¸å¯èƒ½åªæœ‰buttonï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªcomponents&#x2F;index.tså°†æˆ‘ä»¬å¼€å‘çš„ç»„ä»¶ä¸€ä¸ªä¸ªçš„é›†ä¸­å¯¼å‡º</p>
<pre><code class="javascript">import Button from &#39;./button&#39;

export &#123;
    Button
&#125;
</code></pre>
<p>å¥½äº†ï¼Œä¸€ä¸ªç»„ä»¶çš„å¤§ä½“ç›®å½•å·®ä¸å¤šå°±æ˜¯è¿™æ ·äº†ï¼Œæ¥ä¸‹æ¥è¯·è¿›å…¥æˆ‘ä»¬çš„examplesæ¥çœ‹çœ‹èƒ½å¦å¼•å…¥æˆ‘ä»¬çš„buttonç»„ä»¶</p>
<h4 id="2-æµ‹è¯•é¡¹ç›®å¼•å…¥"><a href="#2-æµ‹è¯•é¡¹ç›®å¼•å…¥" class="headerlink" title="2.æµ‹è¯•é¡¹ç›®å¼•å…¥"></a>2.æµ‹è¯•é¡¹ç›®å¼•å…¥</h4><p>ä¸Šé¢å·²ç»è¯´è¿‡æ‰§è¡Œåœ¨workspaceæ‰§è¡Œ pnpm i xxxçš„æ—¶å€™pnpmä¼šè‡ªåŠ¨åˆ›å»ºä¸ªè½¯é“¾æ¥ç›´æ¥æŒ‡å‘æˆ‘ä»¬çš„xxxåŒ…ã€‚</p>
<p>æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ç›´æ¥åœ¨examplesæ‰§è¡Œï¼špnpm i alanmf</p>
<p>æ­¤æ—¶ä½ å°±ä¼šå‘ç°packages.jsonçš„ä¾èµ–å¤šäº†ä¸ª</p>
<pre><code class="json">&quot;alanmf&quot;: &quot;workspace:^1.0.0&quot;
</code></pre>
<p>è¿™æ—¶å€™æˆ‘ä»¬å°±èƒ½ç›´æ¥åœ¨æˆ‘ä»¬çš„æµ‹è¯•é¡¹ç›®ä¸‹å¼•å…¥æˆ‘ä»¬æœ¬åœ°çš„componentsç»„ä»¶åº“äº†ï¼Œå¯åŠ¨æˆ‘ä»¬çš„æµ‹è¯•é¡¹ç›®ï¼Œæ¥åˆ°æˆ‘ä»¬çš„ examples&#x2F;app.vue ç›´æ¥å¼•å…¥Button</p>
<pre><code class="xml">&lt;template&gt;
    &lt;div&gt;
        &lt;Button /&gt;
    &lt;/div&gt;
&lt;/template&gt;
&lt;script lang=&quot;ts&quot; setup&gt;
import &#123; Button &#125; from &#39;alanmf/src&#39;
&lt;/script&gt;
</code></pre>
<p>ä¸å‡ºæ„å¤–çš„è¯ä½ çš„é¡µé¢å°±ä¼šå±•ç¤ºæˆ‘ä»¬åˆšåˆšå†™çš„buttonç»„ä»¶äº†</p>
<p>æ¥ä¸‹æ¥çš„å·¥ä½œå°±æ˜¯ä¸“æ³¨äºç»„ä»¶çš„å¼€å‘äº†ï¼›è®©æˆ‘ä»¬å›åˆ°æˆ‘ä»¬çš„buttonç»„ä»¶ç›®å½•ä¸‹ï¼ˆæµ‹è¯•é¡µé¢ä¸ç”¨å…³ï¼Œæ­¤æ—¶æˆ‘ä»¬å·²ç»å¯ä»¥è¾¹å¼€å‘è¾¹è°ƒè¯•è¾¹çœ‹æ•ˆæœäº†ï¼‰</p>
<h4 id="3-types-tsæ–‡ä»¶è§„èŒƒç»„ä»¶å±æ€§"><a href="#3-types-tsæ–‡ä»¶è§„èŒƒç»„ä»¶å±æ€§" class="headerlink" title="3.types.tsæ–‡ä»¶è§„èŒƒç»„ä»¶å±æ€§"></a>3.types.tsæ–‡ä»¶è§„èŒƒç»„ä»¶å±æ€§</h4><p>æˆ‘ä»¬çš„buttonç»„ä»¶æ˜¯éœ€è¦æ¥æ”¶å¾ˆå¤šå±æ€§çš„ï¼Œå¦‚typeã€sizeç­‰ç­‰ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æ–°å»ºä¸ªtypes.tsæ–‡ä»¶æ¥è§„èŒƒè¿™äº›å±æ€§</p>
<p>åœ¨buttonç›®å½•ä¸‹æ–°å»ºtypes.ts</p>
<pre><code class="tsx">
import &#123; ExtractPropTypes &#125; from &#39;vue&#39;


export const ButtonType = [&#39;default&#39;, &#39;primary&#39;, &#39;success&#39;, &#39;warning&#39;, &#39;danger&#39;]

export const ButtonSize = [&#39;large&#39;, &#39;normal&#39;, &#39;small&#39;, &#39;mini&#39;];


export const buttonProps = &#123;
  type: &#123;
    type: String,
    values: ButtonType
  &#125;,
  size: &#123;
    type: String,
    values: ButtonSize
  &#125;
&#125;

export type ButtonProps = ExtractPropTypes&lt;typeof buttonProps&gt;
</code></pre>
<p>import type è¡¨ç¤ºåªå¯¼å…¥ç±»å‹ï¼›ExtractPropTypesæ˜¯vue3ä¸­å†…ç½®çš„ç±»å‹å£°æ˜,å®ƒçš„ä½œç”¨æ˜¯æ¥æ”¶ä¸€ä¸ªç±»å‹ï¼Œç„¶åæŠŠå¯¹åº”çš„vue3æ‰€æ¥æ”¶çš„propsç±»å‹æä¾›å‡ºæ¥ï¼Œåé¢æœ‰éœ€è¦å¯ä»¥ç›´æ¥ä½¿ç”¨</p>
<p>å¾ˆå¤šæ—¶å€™æˆ‘ä»¬åœ¨vueä¸­ä½¿ç”¨ä¸€ä¸ªç»„ä»¶ä¼šç”¨çš„app.use å°†ç»„ä»¶æŒ‚è½½åˆ°å…¨å±€ã€‚è¦ä½¿ç”¨app.useå‡½æ•°çš„è¯æˆ‘ä»¬éœ€è¦è®©æˆ‘ä»¬çš„æ¯ä¸ªç»„ä»¶éƒ½æä¾›ä¸€ä¸ªinstallæ–¹æ³•ï¼Œapp.use()çš„æ—¶å€™å°±ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•;</p>
<p>æˆ‘ä»¬å°†button&#x2F;index.tsè°ƒæ•´ä¸º</p>
<pre><code class="typescript">import button from &#39;./button.vue&#39;
import type &#123;App,Plugin&#125; from &quot;vue&quot;
type SFCWithInstall&lt;T&gt; = T&amp;Plugin
const withInstall = &lt;T&gt;(comp:T) =&gt; &#123;
    (comp as SFCWithInstall&lt;T&gt;).install = (app:App)=&gt;&#123;
        //æ³¨å†Œç»„ä»¶
        app.component((comp as any).name,comp)
    &#125;
    return comp as SFCWithInstall&lt;T&gt;
&#125;
const Button = withInstall(button)
export default Button
</code></pre>
<p>æ­¤æ—¶æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨app.useæ¥æŒ‚è½½æˆ‘ä»¬çš„ç»„ä»¶å•¦</p>
<p>å…¶å®withInstallæ–¹æ³•å¯ä»¥åšä¸ªå…¬å…±æ–¹æ³•æ”¾åˆ°å·¥å…·åº“é‡Œï¼Œå› ä¸ºåç»­æ¯ä¸ªç»„ä»¶éƒ½ä¼šç”¨åˆ°ï¼Œè¿™é‡Œç­‰åé¢å¼€å‘ç»„ä»¶çš„æ—¶å€™å†è°ƒæ•´</p>
<p>åˆ°è¿™é‡Œç»„ä»¶å¼€å‘çš„åŸºæœ¬é…ç½®å·²ç»å®Œæˆï¼Œæœ€åæˆ‘ä»¬å¯¹æˆ‘ä»¬çš„ç»„ä»¶åº“ä»¥åŠå·¥å…·åº“è¿›è¡Œæ‰“åŒ…ï¼Œæ‰“åŒ…ä¹‹å‰å¦‚æœè¦å‘å…¬å…±åŒ…çš„è¯è®°å¾—å°†æˆ‘ä»¬çš„å„ä¸ªåŒ…çš„åè®®æ”¹ä¸ºMITå¼€æºåè®®</p>
<pre><code class="python-repl">...
&quot;license&quot;: &quot;MIT&quot;,
...
</code></pre>
<h3 id="å››ã€viteæ‰“åŒ…"><a href="#å››ã€viteæ‰“åŒ…" class="headerlink" title="å››ã€viteæ‰“åŒ…"></a>å››ã€viteæ‰“åŒ…</h3><h4 id="1-é…ç½®æ–‡ä»¶"><a href="#1-é…ç½®æ–‡ä»¶" class="headerlink" title="1.é…ç½®æ–‡ä»¶"></a>1.é…ç½®æ–‡ä»¶</h4><p>æ‰“åŒ…ä»¬è¿™é‡Œé€‰æ‹©viteï¼Œå®ƒæœ‰ä¸€ä¸ªåº“æ¨¡å¼ä¸“é—¨ä¸ºæˆ‘ä»¬æ¥æ‰“åŒ…è¿™ç§åº“ç»„ä»¶çš„ã€‚</p>
<p>å‰é¢å·²ç»å®‰è£…è¿‡viteäº†ï¼Œæ‰€ä»¥è¿™é‡Œç›´æ¥åœ¨componentsä¸‹ç›´æ¥æ–°å»ºvite.config.ts(é…ç½®å‚æ•°æ–‡ä»¶ä¸­å·²ç»æ³¨é‡Š):</p>
<pre><code class="json">import &#123; defineConfig &#125; from &quot;vite&quot;;
import vue from &quot;@vitejs/plugin-vue&quot;
export default defineConfig(
    &#123;
        build: &#123;
            target: &#39;modules&#39;,
            //æ‰“åŒ…æ–‡ä»¶ç›®å½•
            outDir: &quot;es&quot;,
            //å‹ç¼©
            minify: false,
            //cssåˆ†ç¦»
            //cssCodeSplit: true,
            rollupOptions: &#123;
                //å¿½ç•¥æ‰“åŒ…vueæ–‡ä»¶
                external: [&#39;vue&#39;],
                input: [&#39;src/index.ts&#39;],
                output: [
                    &#123;
                        format: &#39;es&#39;,
                        //ä¸ç”¨æ‰“åŒ…æˆ.es.js,è¿™é‡Œæˆ‘ä»¬æƒ³æŠŠå®ƒæ‰“åŒ…æˆ.js
                        entryFileNames: &#39;[name].js&#39;,
                        //è®©æ‰“åŒ…ç›®å½•å’Œæˆ‘ä»¬ç›®å½•å¯¹åº”
                        preserveModules: true,
                        //é…ç½®æ‰“åŒ…æ ¹ç›®å½•
                        dir: &#39;es&#39;,
                        preserveModulesRoot: &#39;src&#39;
                    &#125;,
                    &#123;
                        format: &#39;cjs&#39;,
                        entryFileNames: &#39;[name].js&#39;,
                        //è®©æ‰“åŒ…ç›®å½•å’Œæˆ‘ä»¬ç›®å½•å¯¹åº”
                        preserveModules: true,
                        //é…ç½®æ‰“åŒ…æ ¹ç›®å½•
                        dir: &#39;lib&#39;,
                        preserveModulesRoot: &#39;src&#39;
                    &#125;
                ]
            &#125;,
            lib: &#123;
                entry: &#39;./index.ts&#39;,
                formats: [&#39;es&#39;, &#39;cjs&#39;]
            &#125;
        &#125;,
        plugins: [
            vue()
        ]
    &#125;
)
</code></pre>
<p>è¿™é‡Œæˆ‘ä»¬é€‰æ‹©æ‰“åŒ…cjs(CommonJS)å’Œesm(ESModule)ä¸¤ç§å½¢å¼,cjsæ¨¡å¼ä¸»è¦ç”¨äºæœåŠ¡ç«¯å¼•ç”¨(ssr),è€Œesmå°±æ˜¯æˆ‘ä»¬ç°åœ¨ç»å¸¸ä½¿ç”¨çš„æ–¹å¼ï¼Œå®ƒæœ¬èº«è‡ªå¸¦treeShakingè€Œä¸éœ€è¦é¢å¤–é…ç½®æŒ‰éœ€å¼•å…¥(å‰ææ˜¯ä½ å°†æ¨¡å—åˆ†åˆ«å¯¼å‡º)</p>
<h4 id="2-viteæ‰“åŒ…"><a href="#2-viteæ‰“åŒ…" class="headerlink" title="2.viteæ‰“åŒ…"></a>2.viteæ‰“åŒ…</h4><p>åˆ°è¿™é‡Œå°±å·²ç»å¯ä»¥ç›´æ¥æ‰“åŒ…äº†ï¼›componentsä¸‹æ‰§è¡Œï¼š pnpm run buildä½ å°±ä¼šå‘ç°æ‰“åŒ…äº†eså’Œlibä¸¤ä¸ªç›®å½•</p>
<p><img src="/2022/11/20/Vite-Vue3-Ts%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E7%BB%84%E4%BB%B6%E5%BA%93/image-20221120165853742.png"></p>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><p>[ç§æœ‰ä»“åº“æ­å»ºæºç ]: 	â€œ<a href="https://github.com/mengfeng/alanmf_ui.git">https://github.com/mengfeng/alanmf_ui.git</a> â€œ</p>
]]></content>
      <categories>
        <category>å·¥ç¨‹æŠ€æœ¯</category>
        <category>Vite+Vue3+Tsæ­å»ºç§æœ‰ç»„ä»¶åº“</category>
      </categories>
      <tags>
        <tag>ç»„ä»¶åº“</tag>
      </tags>
  </entry>
  <entry>
    <title>Vite+Vue3+Tsæ­å»ºç§æœ‰ç»„ä»¶åº“2</title>
    <url>/2022/11/21/Vite-Vue3-Ts%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E7%BB%84%E4%BB%B6%E5%BA%932/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Vite-Vue3-Tsæ­å»ºç§æœ‰ç»„ä»¶åº“2"><a href="#Vite-Vue3-Tsæ­å»ºç§æœ‰ç»„ä»¶åº“2" class="headerlink" title="Vite+Vue3+Tsæ­å»ºç§æœ‰ç»„ä»¶åº“2"></a>Vite+Vue3+Tsæ­å»ºç§æœ‰ç»„ä»¶åº“2</h1><p>æœ¬æ–‡ç« åªä¾›å‚è€ƒï¼Œå…·ä½“å®ç°å¯èƒ½ä¼šæœ‰å‡ºå…¥ï¼ˆä¼šå°½å¿«å®Œå–„ï¼‰</p>
<h3 id="ä¸€ã€viteæ‰“åŒ…"><a href="#ä¸€ã€viteæ‰“åŒ…" class="headerlink" title="ä¸€ã€viteæ‰“åŒ…"></a>ä¸€ã€viteæ‰“åŒ…</h3><p>ä¸Šä¸€ç¯‡æœ«å°¾çš„æ‰“åŒ…è¿˜æ˜¯æœ‰ç¼ºé™·çš„ï¼Œæ‰“åŒ…çš„ç»„ä»¶åº“åªèƒ½ç»™jsé¡¹ç›®ä½¿ç”¨,åœ¨tsé¡¹ç›®ä¸‹è¿è¡Œä¼šå‡ºç°ä¸€äº›é”™è¯¯ï¼Œè€Œä¸”ä½¿ç”¨çš„æ—¶å€™è¿˜ä¼šå¤±å»ä»£ç æç¤ºåŠŸèƒ½ï¼Œè¿™æ ·çš„è¯æˆ‘ä»¬å°±å¤±å»äº†ç”¨tså¼€å‘ç»„ä»¶åº“çš„æ„ä¹‰äº†ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨æ‰“åŒ…çš„åº“é‡ŒåŠ å…¥å£°æ˜æ–‡ä»¶(.d.ts)ã€‚</p>
<p>é‚£ä¹ˆå¦‚ä½•å‘æ‰“åŒ…åçš„åº“é‡ŒåŠ å…¥å£°æ˜æ–‡ä»¶å‘¢ï¼Ÿ å…¶å®å¾ˆç®€å•ï¼Œåªéœ€è¦å¼•å…¥ vite-plugin-dts</p>
<pre><code class="css">pnpm i vite-plugin-dts -D -w
</code></pre>
<p>å¦‚æœpnpmå‘½ä»¤ä¸€ç›´errorï¼Œç”¨å…¶ä»–å‘½ä»¤ä¸‹è½½å®‰è£…ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼ˆä¸‹è½½åˆ°æ ¹ç›®å½•ï¼‰</p>
<p>ç„¶åä¿®æ”¹ä¸€ä¸‹æˆ‘ä»¬çš„vite.config.tså¼•å…¥è¿™ä¸ªæ’ä»¶</p>
<pre><code class="javascript">//components/vite.config.ts
import &#123; defineConfig &#125; from &quot;vite&quot;;
import vue from &quot;@vitejs/plugin-vue&quot;
import dts from &#39;vite-plugin-dts&#39;

export default defineConfig(
    &#123;
        build: &#123;...&#125;,
        plugins: [
            vue(),
            dts(&#123;
                //æŒ‡å®šä½¿ç”¨çš„tsconfig.jsonä¸ºæˆ‘ä»¬æ•´ä¸ªé¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰,å¦‚æœä¸é…ç½®,ä½ ä¹Ÿå¯ä»¥åœ¨componentsä¸‹æ–°å»ºtsconfig.json
                tsConfigFilePath: &#39;../../tsconfig.json&#39;
            &#125;),
            //å› ä¸ºè¿™ä¸ªæ’ä»¶é»˜è®¤æ‰“åŒ…åˆ°esä¸‹ï¼Œæˆ‘ä»¬æƒ³è®©libç›®å½•ä¸‹ä¹Ÿç”Ÿæˆå£°æ˜æ–‡ä»¶éœ€è¦å†é…ç½®ä¸€ä¸ª
            dts(&#123;
                outputDir:&#39;lib&#39;,
                tsConfigFilePath: &#39;../../tsconfig.json&#39;
            &#125;)

        ]
    &#125;
)
</code></pre>
<p>æ‰§è¡Œpnpm run buildä½ å°±ä¼šå‘ç°ä½ çš„eså’Œlibä¸‹å°±æœ‰äº†å£°æ˜æ–‡ä»¶</p>
<h3 id="äºŒã€ç»„ä»¶æ ·å¼"><a href="#äºŒã€ç»„ä»¶æ ·å¼" class="headerlink" title="äºŒã€ç»„ä»¶æ ·å¼"></a>äºŒã€ç»„ä»¶æ ·å¼</h3><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦åšçš„æ˜¯å°†lessæ‰“åŒ…æˆcssç„¶åæ”¾åˆ°æ‰“åŒ…åå¯¹åº”çš„æ–‡ä»¶ç›®å½•ä¸‹,æˆ‘ä»¬åœ¨componentsä¸‹æ–°å»ºbuildæ–‡ä»¶å¤¹æ¥å­˜æ”¾æˆ‘ä»¬çš„ä¸€äº›æ‰“åŒ…å·¥å…·,ç„¶åæ–°å»ºbuildLess.ts,é¦–å…ˆæˆ‘ä»¬éœ€è¦å…ˆå®‰è£…ä¸€äº›å·¥å…·cpyå’Œfast-glob</p>
<pre><code class="css">pnpm i cpy fast-glob -D -w
</code></pre>
<p>å®ƒå¯ä»¥ç›´æ¥å¤åˆ¶æˆ‘ä»¬è§„å®šçš„æ–‡ä»¶å¹¶å°†æˆ‘ä»¬çš„æ–‡ä»¶copyåˆ°æŒ‡å®šç›®å½•,æ¯”å¦‚buildLess.ts:</p>
<pre><code class="javascript">//build/buildLess.ts
import cpy from &#39;cpy&#39;
import &#123; resolve &#125; from &#39;path&#39;

const sourceDir = resolve(__dirname, &#39;../src&#39;)
//libæ–‡ä»¶
const targetLib = resolve(__dirname, &#39;../lib&#39;)
//esæ–‡ä»¶
const targetEs = resolve(__dirname, &#39;../es&#39;)
console.log(sourceDir);
const buildLess = async () =&gt; &#123;
    await cpy(`$&#123;sourceDir&#125;/**/*.less`, targetLib)
    await cpy(`$&#123;sourceDir&#125;/**/*.less`, targetEs)
&#125;
buildLess()
</code></pre>
<p>ç„¶ååœ¨package.jsonä¸­æ–°å¢å‘½ä»¤</p>
<pre><code class="erlang">...
&quot;scripts&quot;: &#123;
    &quot;build&quot;: &quot;vite build&quot;,
    &quot;build:less&quot;: &quot;esno build/buildLess&quot;
  &#125;,
...
</code></pre>
<p>ç»ˆç«¯æ‰§è¡Œ pnpm run build:less ä½ å°±ä¼šå‘ç°libå’Œesæ–‡ä»¶å¯¹åº”ç›®å½•ä¸‹å°±å‡ºç°äº†lessæ–‡ä»¶.(å¦‚æœerrorï¼Œåˆ‡æ¢nodeç‰ˆæœ¬)</p>
<p>ä½†æ˜¯æˆ‘ä»¬æœ€ç»ˆè¦çš„å¹¶ä¸æ˜¯lessæ–‡ä»¶è€Œæ˜¯cssæ–‡ä»¶,æ‰€ä»¥æˆ‘ä»¬è¦å°†lessæ‰“åŒ…æˆcss,æ‰€ä»¥æˆ‘ä»¬éœ€è¦ç”¨çš„lessæ¨¡å—.åœ¨tsä¸­å¼•å…¥lesså› ä¸ºå®ƒæœ¬èº«æ²¡æœ‰å£°æ˜æ–‡ä»¶æ‰€ä»¥ä¼šå‡ºç°ç±»å‹é”™è¯¯,æ‰€ä»¥æˆ‘ä»¬è¦å…ˆå®‰è£…å®ƒçš„ @types&#x2F;less</p>
<pre><code class="css">pnpm i --save-dev @types/less -D -w
</code></pre>
<p>buildLess.tså¦‚ä¸‹(è¯¦ç»†æ³¨é‡Šéƒ½åœ¨ä»£ç ä¸­)</p>
<pre><code class="javascript">import cpy from &#39;cpy&#39;
import &#123; resolve &#125; from &#39;path&#39;
import &#123; promises as fs &#125; from &quot;fs&quot;
import less from &quot;less&quot;
import glob from &quot;fast-glob&quot;
const sourceDir = resolve(__dirname, &#39;../src&#39;)
//libæ–‡ä»¶ç›®å½•
const targetLib = resolve(__dirname, &#39;../lib&#39;)
//esæ–‡ä»¶ç›®å½•
const targetEs = resolve(__dirname, &#39;../es&#39;)



const buildLess = async () =&gt; &#123;
    //ç›´æ¥å°†lessæ–‡ä»¶å¤åˆ¶åˆ°æ‰“åŒ…åç›®å½•
    await cpy(`$&#123;sourceDir&#125;/**/*.less`, targetLib)
    await cpy(`$&#123;sourceDir&#125;/**/*.less`, targetEs)

    //è·å–æ‰“åŒ…å.lessæ–‡ä»¶ç›®å½•(libå’Œesä¸€æ ·)
    const lessFils = await glob(&quot;**/*.less&quot;, &#123; cwd: targetLib, onlyFiles: true &#125;)

    //éå†å«æœ‰lessçš„ç›®å½•
    for (let path in lessFils) &#123;
        const lessPathLib = `$&#123;targetLib&#125;/$&#123;lessFils[path]&#125;`
        const lessPathEs = `$&#123;targetEs&#125;/$&#123;lessFils[path]&#125;`

        //è·å–lessæ–‡ä»¶å­—ç¬¦ä¸²
        const lessCode = await fs.readFile(lessPathLib, &#39;utf-8&#39;)
        //å°†lessè§£ææˆcss
        const code = await less.render(lessCode)

        //æ‹¿åˆ°.cssåç¼€path
        const cssPathLib = lessPathLib.replace(&#39;.less&#39;, &#39;.css&#39;)
        const cssPathEs = lessPathEs.replace(&#39;.less&#39;, &#39;.css&#39;)

        //å°†csså†™å…¥å¯¹åº”ç›®å½•
        await fs.writeFile(cssPathLib, code.css)
        await fs.writeFile(cssPathEs, code.css)
    &#125;



&#125;
buildLess()
</code></pre>
<p>æ‰§è¡Œæ‰“åŒ…å‘½ä»¤ä¹‹åä½ ä¼šå‘ç°å¯¹åº”æ–‡ä»¶å¤¹ä¸‹å¤šäº†.cssæ–‡ä»¶</p>
<p><img src="/2022/11/21/Vite-Vue3-Ts%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E7%BB%84%E4%BB%B6%E5%BA%932/image-20221121092003205.png"></p>
<p>ç°åœ¨æˆ‘å·²ç»å°†cssæ–‡ä»¶æ”¾å…¥å¯¹åº”çš„ç›®å½•ä¸‹äº†,ä½†æ˜¯æˆ‘ä»¬çš„ç›¸å…³ç»„ä»¶å¹¶æ²¡æœ‰å¼•å…¥è¿™ä¸ªcssæ–‡ä»¶;æ‰€ä»¥æˆ‘ä»¬éœ€è¦çš„æ˜¯æ¯ä¸ªæ‰“åŒ…åç»„ä»¶çš„index.jsä¸­å‡ºç°å¦‚:</p>
<pre><code class="cpp">import &quot;xxx/xxx.css&quot;
</code></pre>
<p>ä¹‹ç±»çš„ä»£ç æˆ‘ä»¬çš„cssæ‰ä¼šç”Ÿæ•ˆ;æ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹vite.config.tsè¿›è¡Œç›¸å…³é…ç½®</p>
<p>é¦–å…ˆæˆ‘ä»¬å…ˆå°†.lessæ–‡ä»¶å¿½ç•¥external: [â€˜vueâ€™, &#x2F;.less&#x2F;],è¿™æ—¶å€™æ‰“åŒ…åçš„æ–‡ä»¶ä¸­å¦‚button&#x2F;index.jså°±ä¼šå‡ºç°</p>
<pre><code class="cpp">import &quot;./style/index.less&quot;;
</code></pre>
<p>ç„¶åæˆ‘ä»¬å†å°†æ‰“åŒ…åä»£ç çš„.lessæ¢æˆ.csså°±å¤§åŠŸå‘Šæˆäº†</p>
<pre><code class="typescript">...
plugins: [
            ...

            &#123;
                name: &#39;style&#39;,
                generateBundle(config, bundle) &#123;
                    //è¿™é‡Œå¯ä»¥è·å–æ‰“åŒ…åçš„æ–‡ä»¶ç›®å½•ä»¥åŠä»£ç code
                    const keys = Object.keys(bundle)

                    for (const key of keys) &#123;
                        const bundler: any = bundle[key as any]
                        //rollupå†…ç½®æ–¹æ³•,å°†æ‰€æœ‰è¾“å‡ºæ–‡ä»¶codeä¸­çš„.lessæ¢æˆ.css,å› ä¸ºæˆ‘ä»¬å½“æ—¶æ²¡æœ‰æ‰“åŒ…lessæ–‡ä»¶

                        this.emitFile(&#123;
                            type: &#39;asset&#39;,
                            fileName: key,//æ–‡ä»¶ååä¸å˜
                            source: bundler.code.replace(/\.less/g, &#39;.css&#39;)
                        &#125;)
                    &#125;
                &#125;
            &#125;
        ...
        ]
...
</code></pre>
<p>æˆ‘ä»¬æœ€ç»ˆçš„vite.config.tså¦‚ä¸‹</p>
<pre><code class="typescript">import &#123; defineConfig &#125; from &quot;vite&quot;;
import vue from &quot;@vitejs/plugin-vue&quot;
import dts from &#39;vite-plugin-dts&#39;

export default defineConfig(
    &#123;
        build: &#123;
            target: &#39;modules&#39;,
            //æ‰“åŒ…æ–‡ä»¶ç›®å½•
            outDir: &quot;es&quot;,
            //å‹ç¼©
            minify: false,
            //cssåˆ†ç¦»
            //cssCodeSplit: true,
            rollupOptions: &#123;
                //å¿½ç•¥æ‰“åŒ…vueå’Œ.lessæ–‡ä»¶
                external: [&#39;vue&#39;, /\.less/],
                input: [&#39;src/index.ts&#39;],
                output: [
                    &#123;
                        format: &#39;es&#39;,
                        //ä¸ç”¨æ‰“åŒ…æˆ.es.js,è¿™é‡Œæˆ‘ä»¬æƒ³æŠŠå®ƒæ‰“åŒ…æˆ.js
                        entryFileNames: &#39;[name].js&#39;,
                        //è®©æ‰“åŒ…ç›®å½•å’Œæˆ‘ä»¬ç›®å½•å¯¹åº”
                        preserveModules: true,
                        //é…ç½®æ‰“åŒ…æ ¹ç›®å½•
                        dir: &#39;es&#39;,
                        preserveModulesRoot: &#39;src&#39;
                    &#125;,
                    &#123;
                        format: &#39;cjs&#39;,
                        //ä¸ç”¨æ‰“åŒ…æˆ.mjs
                        entryFileNames: &#39;[name].js&#39;,
                        //è®©æ‰“åŒ…ç›®å½•å’Œæˆ‘ä»¬ç›®å½•å¯¹åº”
                        preserveModules: true,
                        //é…ç½®æ‰“åŒ…æ ¹ç›®å½•
                        dir: &#39;lib&#39;,
                        preserveModulesRoot: &#39;src&#39;
                    &#125;
                ]
            &#125;,
            lib: &#123;
                entry: &#39;./index.ts&#39;,
                formats: [&#39;es&#39;, &#39;cjs&#39;]
            &#125;
        &#125;,




        plugins: [
            vue(),
            dts(&#123;
                //æŒ‡å®šä½¿ç”¨çš„tsconfig.jsonä¸ºæˆ‘ä»¬æ•´ä¸ªé¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰,å¦‚æœä¸é…ç½®,ä½ ä¹Ÿå¯ä»¥åœ¨componentsä¸‹æ–°å»ºtsconfig.json
                tsConfigFilePath: &#39;../../tsconfig.json&#39;
            &#125;),
            //å› ä¸ºè¿™ä¸ªæ’ä»¶é»˜è®¤æ‰“åŒ…åˆ°esä¸‹ï¼Œæˆ‘ä»¬æƒ³è®©libç›®å½•ä¸‹ä¹Ÿç”Ÿæˆå£°æ˜æ–‡ä»¶éœ€è¦å†é…ç½®ä¸€ä¸ª
            dts(&#123;
                outputDir: &#39;lib&#39;,
                tsConfigFilePath: &#39;../../tsconfig.json&#39;
            &#125;),

            &#123;
                name: &#39;style&#39;,
                generateBundle(config, bundle) &#123;
                    //è¿™é‡Œå¯ä»¥è·å–æ‰“åŒ…åçš„æ–‡ä»¶ç›®å½•ä»¥åŠä»£ç code
                    const keys = Object.keys(bundle)

                    for (const key of keys) &#123;
                        const bundler: any = bundle[key as any]
                        //rollupå†…ç½®æ–¹æ³•,å°†æ‰€æœ‰è¾“å‡ºæ–‡ä»¶codeä¸­çš„.lessæ¢æˆ.css,å› ä¸ºæˆ‘ä»¬å½“æ—¶æ²¡æœ‰æ‰“åŒ…lessæ–‡ä»¶

                        this.emitFile(&#123;
                            type: &#39;asset&#39;,
                            fileName: key,//æ–‡ä»¶ååä¸å˜
                            source: bundler.code.replace(/\.less/g, &#39;.css&#39;)
                        &#125;)
                    &#125;
                &#125;
            &#125;

        ]
    &#125;
)
</code></pre>
<p>æœ€åæˆ‘ä»¬å°†æ‰“åŒ…lessä¸æ‰“åŒ…ç»„ä»¶åˆæˆä¸€ä¸ªå‘½ä»¤(package.json):</p>
<pre><code class="erlang">...
&quot;scripts&quot;: &#123;
     &quot;build&quot;:&quot;vite build&quot;,
    &quot;build:less&quot;: &quot;esno build/buildLess&quot;
  &#125;,
...
</code></pre>
<p>åç»­ç›´æ¥æ‰§è¡Œpnpm run build å³å¯å®Œæˆæ‰€æœ‰æ‰“åŒ…å•¦</p>
<h3 id="ä¸‰ã€å¼•ç”¨uiåŒ…"><a href="#ä¸‰ã€å¼•ç”¨uiåŒ…" class="headerlink" title="ä¸‰ã€å¼•ç”¨uiåŒ…"></a>ä¸‰ã€å¼•ç”¨uiåŒ…</h3><p>åšäº†é‚£ä¹ˆå¤šç»ˆäºåˆ°å‘å¸ƒçš„é˜¶æ®µäº†ï¼›å…¶å®npmå‘åŒ…æ˜¯å¾ˆå®¹æ˜“çš„ï¼Œå°±æ‹¿æˆ‘ä»¬çš„ç»„ä»¶alanmfä¸¾ä¾‹å§</p>
<p>å‘å¸ƒä¹‹å‰è®°å¾—åˆ°<a href="https://www.npmjs.com/">npm</a>å®˜ç½‘æ³¨å†Œä¸ªè´¦æˆ·,å¦‚æœä½ è¦å‘å¸ƒ@xx&#x2F;xxè¿™ç§åŒ…çš„è¯éœ€è¦åœ¨npmæ–°å»ºä¸ªç»„ç»‡ç»„ç»‡ç»„ç»‡åå°±æ˜¯@åé¢çš„ï¼Œæ¯”å¦‚æˆ‘å»ºçš„ç»„ç»‡å°±æ˜¯kitty-ui,æ³¨å†Œå®Œä¹‹åä½ å°±å¯ä»¥å‘å¸ƒäº†</p>
<p>é¦–å…ˆè¦å°†æˆ‘ä»¬ä»£ç æäº¤åˆ°gitä»“åº“ï¼Œä¸ç„¶pnpmå‘å¸ƒæ— æ³•é€šè¿‡ï¼Œåé¢æ¯æ¬¡å‘ç‰ˆè®°å¾—åœ¨å¯¹åº”åŒ…ä¸‹æ‰§è¡Œ <strong>pnpm version patch</strong>ä½ å°±ä¼šå‘ç°è¿™ä¸ªåŒ…çš„ç‰ˆæœ¬å·patch(ç‰ˆæœ¬å·ç¬¬ä¸‰ä¸ªæ•°) +1 äº†</p>
<p>å¦‚æœä½ å‘å¸ƒçš„æ˜¯å…¬å…±åŒ…çš„è¯ï¼Œåœ¨å¯¹åº”åŒ…ä¸‹æ‰§è¡Œ</p>
<pre><code class="cpp">pnpm publish --access public
</code></pre>
<p>è¾“å…¥ä½ çš„è´¦æˆ·å’Œå¯†ç ï¼ˆè®°å¾—è¾“å…¥å¯†ç çš„æ—¶å€™æ˜¯ä¸æ˜¾ç¤ºçš„ï¼Œä¸è¦ä»¥ä¸ºå¡äº†ï¼‰æ­£å¸¸æƒ…å†µä¸‹åº”è¯¥æ˜¯å‘å¸ƒæˆåŠŸäº†</p>
<p><strong>æ³¨æ„</strong></p>
<p>å‘å¸ƒçš„æ—¶å€™è¦å°†npmçš„æºåˆ‡æ¢åˆ°npmçš„å®˜æ–¹åœ°å€(<a href="https://registry.npmjs.org/">https://registry.npmjs.org/</a>); å¦‚æœä½ ä½¿ç”¨äº†å…¶å®ƒé•œåƒæºçš„è¯</p>
]]></content>
      <categories>
        <category>å·¥ç¨‹æŠ€æœ¯</category>
        <category>Vite+Vue3+Tsæ­å»ºç§æœ‰ç»„ä»¶åº“2</category>
      </categories>
      <tags>
        <tag>ç§æœ‰ç»„ä»¶åº“</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue-eventBus</title>
    <url>/2022/12/23/Vue-eventBus/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Vue-eventBus"><a href="#Vue-eventBus" class="headerlink" title="Vue-eventBus"></a>Vue-eventBus</h1><p>çˆ¶å­ç»„ä»¶é€šä¿¡ä¸å…„å¼Ÿç»„ä»¶é€šä¿¡</p>
<p>vueç»„ä»¶éå¸¸å¸¸è§çš„æœ‰çˆ¶å­ç»„ä»¶é€šä¿¡ï¼Œå…„å¼Ÿç»„ä»¶é€šä¿¡ã€‚</p>
<pre><code>çˆ¶å­ç»„ä»¶é€šä¿¡ï¼šæ–¹æ³•æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ï¼šçˆ¶ç»„ä»¶é€šè¿‡ props å‘ä¸‹ä¼ æ•°æ®ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶é€šè¿‡ $emit å‘Šè¯‰çˆ¶ç»„ä»¶ã€‚
å…„å¼Ÿç»„ä»¶é€šä¿¡ï¼šå¦‚æœä¸¤ä¸ªé¡µé¢æ²¡æœ‰ä»»ä½•å¼•å…¥å’Œè¢«å¼•å…¥å…³ç³»ï¼Œéœ€è¦é¢å¤–çš„ç»„ä»¶æ¥é€šä¿¡ï¼Œå¦‚ï¼šäº‹ä»¶æ€»çº¿ã€Vuexã€‚
</code></pre>
<h3 id="ä¸€ã€äº‹ä»¶æ€»çº¿æ˜¯ä»€ä¹ˆ"><a href="#ä¸€ã€äº‹ä»¶æ€»çº¿æ˜¯ä»€ä¹ˆ" class="headerlink" title="ä¸€ã€äº‹ä»¶æ€»çº¿æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€äº‹ä»¶æ€»çº¿æ˜¯ä»€ä¹ˆ</h3><p>EventBus åˆç§°ä¸ºäº‹ä»¶æ€»çº¿ã€‚åœ¨Vueä¸­å¯ä»¥ä½¿ç”¨ EventBus æ¥ä½œä¸ºæ²Ÿé€šæ¡¥æ¢çš„æ¦‚å¿µï¼Œå°±åƒæ˜¯æ‰€æœ‰ç»„ä»¶å…±ç”¨ç›¸åŒçš„äº‹ä»¶ä¸­å¿ƒï¼Œå¯ä»¥å‘è¯¥ä¸­å¿ƒæ³¨å†Œå‘é€äº‹ä»¶æˆ–æ¥æ”¶äº‹ä»¶ï¼Œæ‰€ä»¥ç»„ä»¶éƒ½å¯ä»¥ä¸Šä¸‹å¹³è¡Œåœ°é€šçŸ¥å…¶ä»–ç»„ä»¶ã€‚</p>
<pre><code>EventBusè‹¥ä½¿ç”¨ä¸æ…ï¼Œå°±ä¼šé€ æˆéš¾ä»¥ç»´æŠ¤çš„â€œç¾éš¾â€ï¼Œå› æ­¤æ‰éœ€è¦æ›´å®Œå–„çš„Vuexä½œä¸ºçŠ¶æ€ç®¡ç†ä¸­å¿ƒï¼Œå°†é€šçŸ¥çš„æ¦‚å¿µä¸Šå‡åˆ°å…±äº«çŠ¶æ€å±‚æ¬¡ã€‚ 
</code></pre>
<h4 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><p>è§£å†³äº†å¤šå±‚ç»„ä»¶ä¹‹é—´ç¹ççš„äº‹ä»¶ä¼ æ’­ã€‚<br>ä½¿ç”¨åŸç†ååˆ†ç®€å•ï¼Œä»£ç é‡å°‘</p>
<h4 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><p>å¤§å®¶éƒ½çŸ¥é“vueæ˜¯å•é¡µåº”ç”¨ï¼Œå¦‚æœä½ åœ¨æŸä¸€ä¸ªé¡µé¢åˆ·æ–°äº†ä¹‹åï¼Œä¸ä¹‹ç›¸å…³çš„EventBusä¼šè¢«ç§»é™¤ï¼Œè¿™æ ·å°±å¯¼è‡´ä¸šåŠ¡èµ°ä¸ä¸‹å»ã€‚<br>å¦‚æœä¸šåŠ¡æœ‰åå¤æ“ä½œçš„é¡µé¢ï¼ŒEventBusåœ¨ç›‘å¬çš„æ—¶å€™å°±ä¼šè§¦å‘å¾ˆå¤šæ¬¡ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸å¤§çš„éšæ‚£ã€‚è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦å¥½å¥½å¤„ç†EventBusåœ¨é¡¹ç›®ä¸­çš„å…³ç³»ã€‚é€šå¸¸åœ¨vueé¡µé¢é”€æ¯æ—¶ï¼ŒåŒæ—¶ç§»é™¤EventBusäº‹ä»¶ç›‘å¬ã€‚</p>
<p>ç”±äºæ˜¯éƒ½ä½¿ç”¨ä¸€ä¸ªVueå®ä¾‹ï¼Œæ‰€ä»¥å®¹æ˜“å‡ºç°é‡å¤è§¦å‘çš„æƒ…æ™¯ï¼šä¸¤ä¸ªé¡µé¢éƒ½å®šä¹‰äº†åŒä¸€ä¸ªäº‹ä»¶åï¼Œå¹¶ä¸”æ²¡æœ‰ç”¨$offé”€æ¯ï¼ˆå¸¸å‡ºç°åœ¨è·¯ç”±åˆ‡æ¢æ—¶ï¼‰ã€‚</p>
<h3 id="äºŒã€ä½¿ç”¨"><a href="#äºŒã€ä½¿ç”¨" class="headerlink" title="äºŒã€ä½¿ç”¨"></a>äºŒã€ä½¿ç”¨</h3><h4 id="1-åˆ›å»ºäº‹ä»¶"><a href="#1-åˆ›å»ºäº‹ä»¶" class="headerlink" title="1.åˆ›å»ºäº‹ä»¶"></a>1.åˆ›å»ºäº‹ä»¶</h4><p>é¦–å…ˆéœ€è¦åˆ›å»ºäº‹ä»¶æ€»çº¿å¹¶å°†å…¶å¯¼å‡ºï¼Œä»¥ä¾¿å…¶å®ƒæ¨¡å—å¯ä»¥ä½¿ç”¨æˆ–è€…ç›‘å¬å®ƒã€‚</p>
<p>æ–¹æ³•1ã€éå…¨å±€äº‹ä»¶ç»„ä»¶</p>
<p> æ–°å»ºEventBus.js</p>
<pre><code class="javascript">import Vue from &#39;vue&#39;
export const EventBus = new Vue()
</code></pre>
<p>æ³•2ã€å…¨å±€äº‹ä»¶ç»„ä»¶</p>
<p>åœ¨é¡¹ç›®ä¸­çš„ main.js åˆå§‹åŒ– EventBusã€‚åœ¨main.jsæ·»åŠ å¦‚ä¸‹ä¸€è¡Œï¼š</p>
<pre><code class="javascript">Vue.prototype.$EventBus = new Vue()
</code></pre>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="vue">import Vue from &#39;vue&#39;
import App from &#39;./App&#39;
import router from &#39;./router&#39;

Vue.config.productionTip = false

Vue.prototype.$EventBus = new Vue();

/* eslint-disable no-new */
new Vue(&#123;
  el: &#39;#app&#39;,
  router,
  components: &#123; App &#125;,
  template: &#39;&lt;App/&gt;&#39;
&#125;)
</code></pre>
<p>ç»„ä»¶å‘é€äº‹ä»¶ï¼šthis.$EventBus.$emit(â€¦)</p>
<p>ç»„ä»¶æ¥æ”¶äº‹ä»¶ï¼šthis.$EventBus.$on(â€¦)</p>
<p>ç§»é™¤äº‹ä»¶</p>
<p>ä¸€èˆ¬åœ¨é”€æ¯ç»„ä»¶ï¼ˆä¹Ÿå°±æ˜¯ç¦»å¼€ç»„ä»¶ï¼‰æ—¶ç§»é™¤äº‹ä»¶ã€‚</p>
<pre><code class="javascript">beforeDestroy()&#123;
  EventBus.$off(&quot;eventName&quot;)
&#125;
</code></pre>
<p>EventBus.$off()                           &#x2F;&#x2F;ç§»é™¤EventBusæ‰€æœ‰äº‹ä»¶ç›‘å¬å™¨</p>
<p>EventBus.$off(â€˜eventNameâ€™)       &#x2F;&#x2F;ç§»é™¤â€™eventNameâ€™äº‹ä»¶æ‰€æœ‰ç›‘å¬å™¨</p>
<p>EventBus.$off(â€˜eventNameâ€™, callback)    &#x2F;&#x2F;åªç§»é™¤è¿™ä¸ªå›è°ƒçš„ç›‘å¬å™¨ã€‚</p>
<h4 id="2-äº‹ä»¶è¿ç”¨"><a href="#2-äº‹ä»¶è¿ç”¨" class="headerlink" title="2.äº‹ä»¶è¿ç”¨"></a>2.äº‹ä»¶è¿ç”¨</h4><p>æœ¬æ–‡çˆ¶ç»„ä»¶ï¼šCompA.vueï¼Œå­ç»„ä»¶1ï¼šChildOne.vueï¼Œå­ç»„ä»¶2ï¼šChildTwo.vueã€‚å­ç»„ä»¶1å‘é€äº‹ä»¶ç»™çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶2ã€‚</p>
<pre><code class="javascript">router/index.js

import Vue from &#39;vue&#39;
import Router from &#39;vue-router&#39;
import CompA from &quot;@/components/CompA&quot;;

Vue.use(Router)

export default new Router(&#123;
  routes: [
    &#123;
      path: &#39;/compA&#39;,
      name: &#39;compA&#39;,
      component: CompA,
    &#125;
  ],
&#125;)
</code></pre>
<p>1.åˆ›å»ºEventBus</p>
<p> æ–°å»ºEventBus.js</p>
<pre><code class="javascript">import Vue from &#39;vue&#39;
export const EventBus = new Vue()
</code></pre>
<p>2.å‘é€äº‹ä»¶</p>
<p> components&#x2F;ChildOne.vue</p>
<pre><code class="javascript">&lt;template&gt;
  &lt;div class=&quot;childOne&quot;&gt;
    &lt;h1&gt;childOne&lt;/h1&gt;
    &lt;button @click=&quot;sendEvent2CompA&quot;&gt;å‘é€äº‹ä»¶ç»™çˆ¶ç»„ä»¶ï¼ˆCompAï¼‰&lt;/button&gt;
    &lt;button @click=&quot;sendEvent2ChildTwo&quot;&gt;å‘é€äº‹ä»¶ç»™å…„å¼Ÿç»„ä»¶ï¼ˆChildTwoï¼‰&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import &#123;EventBus&#125; from &quot;./EventBus&quot;

export default &#123;
  data() &#123;
    return &#123;
      count1: 0,
      count2: 0,
    &#125;
  &#125;,
  methods:&#123;
    sendEvent2CompA() &#123;
      this.count1++;
      EventBus.$emit(&quot;compA&quot;, &quot;compAäº‹ä»¶è§¦å‘æ¬¡æ•°ï¼š&quot; + this.count1)
    &#125;,
    sendEvent2ChildTwo() &#123;
      this.count2++;
      EventBus.$emit(&quot;childTwo&quot;, &quot;childTwoäº‹ä»¶è§¦å‘æ¬¡æ•°ï¼š&quot; + this.count2)
    &#125;
  &#125;
&#125;
&lt;/script&gt;

&lt;style scoped&gt;
&lt;/style&gt;
</code></pre>
<p>3.æ¥æ”¶äº‹ä»¶</p>
<p>çˆ¶ç»„ä»¶ï¼šcomponents&#x2F;CompA.vue</p>
<pre><code class="javascript">&lt;template&gt;
  &lt;div class=&quot;compA&quot;&gt;
    &lt;h1&gt;compA&lt;/h1&gt;
    compAæ”¶åˆ°çš„äº‹ä»¶å†…å®¹ï¼š&#123;&#123;msg&#125;&#125;&lt;hr&gt;
    &lt;child-one&gt;&lt;/child-one&gt;&lt;hr&gt;
    &lt;child-two&gt;&lt;/child-two&gt;

  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import &#123;EventBus&#125; from &quot;./EventBus&quot;
import ChildOne from &quot;@/components/ChildOne&quot;;
import ChildTwo from &quot;@/components/ChildTwo&quot;;

export default &#123;
  components: &#123;ChildOne, ChildTwo&#125;,
  data() &#123;
    return &#123;
      msg: &quot;&quot;,
    &#125;
  &#125;,
  mounted() &#123;
    EventBus.$on(&quot;compA&quot;, (payload1)=&gt; &#123;
      this.msg = payload1;
    &#125;)
  &#125;
&#125;
&lt;/script&gt;

&lt;style scoped&gt;

&lt;/style&gt;
</code></pre>
<p>å­ç»„ä»¶2ï¼šcomponents&#x2F;ChildTwo.vue</p>
<pre><code class="javascript">&lt;template&gt;
  &lt;div class=&quot;childTwo&quot;&gt;
    &lt;h1&gt;childTwo&lt;/h1&gt;
    childTwoæ”¶åˆ°çš„äº‹ä»¶å†…å®¹ï¼š&#123;&#123;msg&#125;&#125;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import &#123;EventBus&#125; from &quot;./EventBus&quot;

export default &#123;
  data() &#123;
    return &#123;
      msg: &quot;&quot;,
    &#125;
  &#125;,
  mounted() &#123;
    EventBus.$on(&quot;childTwo&quot;, (payload1)=&gt; &#123;
      this.msg = payload1;
    &#125;)
  &#125;
&#125;
&lt;/script&gt;

&lt;style scoped&gt;

&lt;/style&gt;
</code></pre>
<p>äº‹ç‰©éƒ½æœ‰ä¸¤é¢æ€§ï¼Œæ²¡æœ‰å¥½åä¹‹åˆ†ï¼Œä¸”å…¨åœ¨äºä½¿ç”¨è€…ï¼Œå¥½é’¢ç”¨åœ¨åˆ€åˆƒä¸Šï¼Œä¸æ»¥ç”¨å³å¯ã€‚æœ‰å…¶ä»–æ›´å¥½çš„æ–¹å¼åˆ™ä¼˜å…ˆä½¿ç”¨ã€‚</p>
]]></content>
      <categories>
        <category>uniapp</category>
        <category>Vue-eventBus</category>
      </categories>
      <tags>
        <tag>eventBus</tag>
      </tags>
  </entry>
  <entry>
    <title>blenderåŸºæœ¬æ“ä½œ</title>
    <url>/2022/12/05/blender%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="BlenderåŸºæœ¬æ“ä½œ"><a href="#BlenderåŸºæœ¬æ“ä½œ" class="headerlink" title="BlenderåŸºæœ¬æ“ä½œ"></a>BlenderåŸºæœ¬æ“ä½œ</h1><blockquote>
<p>è™½ç„¶æˆ‘ä»¬æ˜¯ç¨‹åºå‘˜ä¸€æšï¼Œä½†æ˜¯ï¼Œæ—¢ç„¶å­¦äº†3Dé‚£ä¹ˆæˆ‘ä»¬å°±è¦æ‹“å±•æˆ‘ä»¬çš„æŠ€èƒ½</p>
<p>é‚£ä¹ˆè¿™ç¯‡æ–‡ç« å°±æ¥è®²è®²è¿™æ¬¾å…è´¹çš„3ç»´è½¯ä»¶<a href="https://www.blender.org/">Blender</a>ï¼ˆè‹±æ–‡ç‰ˆï¼‰</p>
<p>ä½ è¦é—®æˆ‘C4då’ŒBlenderå“ªä¸ªå¥½ï¼ˆBlenderæ˜¯å…è´¹çš„ï¼Œä¸è¦é’±ï¼‰è¦æ˜¯ä¸å·®é’±ä¹Ÿå¯ä»¥ç©ç©ocæ¸²æŸ“å™¨ï¼ˆæ¯”è¾ƒé¦™ï¼‰</p>
<p>å…·ä½“æ“ä½œè¿˜å¾—çœ‹è§†é¢‘ï¼Œæˆ‘ä»Šå¤©å°±æ€»ç»“ä¸€äº›å¿«æ·é”®</p>
</blockquote>
<h3 id="ä¸€ã€å®‰è£…è½¯ä»¶"><a href="#ä¸€ã€å®‰è£…è½¯ä»¶" class="headerlink" title="ä¸€ã€å®‰è£…è½¯ä»¶"></a>ä¸€ã€å®‰è£…è½¯ä»¶</h3><p>ä¸‹è½½â€”å®‰è£…</p>
<p><img src="/2022/12/05/blender%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/image-20221205093244288.png" alt="image-20221205093244288"></p>
<p><img src="/2022/12/05/blender%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/image-20221205094355133.png"></p>
<h3 id="äºŒã€æ›´æ”¹é…ç½®"><a href="#äºŒã€æ›´æ”¹é…ç½®" class="headerlink" title="äºŒã€æ›´æ”¹é…ç½®"></a>äºŒã€æ›´æ”¹é…ç½®</h3><p>æ›´æ”¹é¡µé¢è¯­è¨€ï¼Œå¦‚æœéœ€è¦æ›´æ”¹ä¸ºç®€ä½“ä¸­æ–‡çš„è¯ï¼ˆå¦‚æœæ‰¾ä¸åˆ°é…ç½®äº†ï¼Œæ”¹ä¸ºç®€ä½“ä¸­æ–‡åå°±æ–¹ä¾¿äº†ï¼‰</p>
<p><img src="/2022/12/05/blender%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/image-20221205094539463.png"></p>
<h3 id="ä¸‰ã€ç•Œé¢å¿«æ·é”®"><a href="#ä¸‰ã€ç•Œé¢å¿«æ·é”®" class="headerlink" title="ä¸‰ã€ç•Œé¢å¿«æ·é”®"></a>ä¸‰ã€ç•Œé¢å¿«æ·é”®</h3><p>è¿™äº›å¿«æ·é”®æœ‰ç‚¹å¤šï¼ŒåŠ æ²¹ï¼ˆå½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥æ ¹æ®ä½ çš„ä¹ æƒ¯å»ä¿®æ”¹ä½ çš„å¿«æ·é”®ï¼‰</p>
<p>å…·ä½“æ­¥éª¤å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/12/05/blender%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/image-20221205094948395.png"></p>
<blockquote>
<p>æˆ‘å»ºè®®ï¼Œåœ¨ä½ é€‰æ‹©ç›´æ¥ä½¿ç”¨å¿«æ·é”®çš„æ—¶å€™ï¼Œå°½é‡å…ˆå»äº†è§£ç•Œé¢ï¼Œå¿«æ·é”®æ˜¯æé«˜å·¥ä½œæ•ˆç‡çš„é¦–é€‰ï¼Œä½†åˆå­¦è€…è¿˜æ˜¯è¦å…ˆç†Ÿæ‚‰è½¯ä»¶çš„ç•Œé¢æ“ä½œï¼Œå†é€æ­¥çš„å»ç†Ÿæ‚‰æˆ‘ä»¬å¤§é‡çš„å¿«æ·é”®æ¥æé«˜æˆ‘ä»¬çš„å·¥ä½œæ•ˆç‡ã€‚</p>
<p>åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œå¿«æ·é”®å´ä¼šè®©ä½ è¡Œäº‘æµæ°´çš„æ“ä½œå˜å¾—ç”Ÿç¡¬</p>
</blockquote>
<p><img src="/2022/12/05/blender%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/image-20221205094730873.png"></p>
<p><img src="/2022/12/05/blender%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/image-20221205101434727.png"></p>
<p><img src="/2022/12/05/blender%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/image-20221205104621343.png"></p>
<p><img src="/2022/12/05/blender%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/image-20221205142035840.png"></p>
<blockquote>
<p>å…¶ä»–å¿«æ·é”®æˆ‘ä»¬éƒ½å¯ä»¥å»è§†é¢‘ç»ƒä¹ å“¦</p>
<p>æœ€åï¼Œä¸€æ¬¾åŒè¯­åˆ‡æ¢æ’ä»¶ç»™ä½ ä»¬</p>
</blockquote>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><p>[blenderåŸºç¡€æ“ä½œ]: 	â€œ<a href="https://www.youtube.com/watch?v=prQj0xVwMeo&amp;list=PL3bztmH9zKvv4sjPb6PJyLgULvQYJ8e0f&amp;index=4&quot;">https://www.youtube.com/watch?v=prQj0xVwMeo&amp;list=PL3bztmH9zKvv4sjPb6PJyLgULvQYJ8e0f&amp;index=4&quot;</a><br>[åŒè¯­åˆ‡æ¢]: 	â€œ<a href="https://github.com/Mister-Kin/ToggleLanguage/releases/tag/v1.1&quot;">https://github.com/Mister-Kin/ToggleLanguage/releases/tag/v1.1&quot;</a><br>[åŒè¯­åˆ‡æ¢]: 	â€œ<a href="https://mister-kin.github.io/manuals/toggle-language/">https://mister-kin.github.io/manuals/toggle-language/</a> â€œ</p>
]]></content>
      <categories>
        <category>Web3D</category>
        <category>blender</category>
        <category>blenderåŸºæœ¬æ“ä½œ</category>
      </categories>
      <tags>
        <tag>blender</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue3+Ts+Vite+Piniaç»„åˆçš„é«˜æ•ˆå¼€å‘å¥—ä»¶</title>
    <url>/2022/11/19/Vue3-Ts-Vite-Pinia%E7%BB%84%E5%90%88%E7%9A%84%E9%AB%98%E6%95%88%E5%BC%80%E5%8F%91%E5%A5%97%E4%BB%B6/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Vue3-Ts-Vite-Piniaç»„åˆçš„é«˜æ•ˆå¼€å‘å¥—ä»¶"><a href="#Vue3-Ts-Vite-Piniaç»„åˆçš„é«˜æ•ˆå¼€å‘å¥—ä»¶" class="headerlink" title="Vue3+Ts+Vite+Piniaç»„åˆçš„é«˜æ•ˆå¼€å‘å¥—ä»¶"></a>Vue3+Ts+Vite+Piniaç»„åˆçš„é«˜æ•ˆå¼€å‘å¥—ä»¶</h1><p>2022å¹´æœ€å—æ¬¢è¿çš„ç»„åˆ</p>
<h3 id="ä¸€ã€Viteå’ŒWebpackåŒºåˆ«"><a href="#ä¸€ã€Viteå’ŒWebpackåŒºåˆ«" class="headerlink" title="ä¸€ã€Viteå’ŒWebpackåŒºåˆ«"></a>ä¸€ã€Viteå’ŒWebpackåŒºåˆ«</h3><ul>
<li>webpackæ˜¯ä¸€ä¸ªJavaScriptåº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å·¥å…·ï¼Œå®ƒä¼šå¯¹æ•´ä¸ªåº”ç”¨ç¨‹åºè¿›è¡Œä¾èµ–å…³ç³»å›¾æ„å»ºã€‚</li>
<li>viteæ˜¯æ„å»ºå·¥å…·çš„é«˜é˜¶å°è£…ï¼Œä½¿ç”¨ç®€å•ï¼Œå¿«ï¼ˆå¼€å‘çš„æ—¶å€™æ„Ÿè§‰æ²¡æœ‰ç¼–è¯‘è¿‡ç¨‹ï¼‰ï¼Œä¾¿äºæ‰©å±•ã€‚è€Œä»–é›†æˆçš„esbuild(Go ç¼–å†™) é¢„æ„å»ºä¾èµ–ï¼Œæ¯”nodeå¿« 10-100 å€ã€‚</li>
</ul>
<p>åŒºåˆ«ï¼š</p>
<h4 id="1-å…³æ³¨å±‚çº§ä¸åŒ"><a href="#1-å…³æ³¨å±‚çº§ä¸åŒ" class="headerlink" title="1.å…³æ³¨å±‚çº§ä¸åŒ"></a>1.å…³æ³¨å±‚çº§ä¸åŒ</h4><p>viteå…³æ³¨çš„å±‚çº§æ›´é«˜ï¼šviteæ˜¯ high level apiï¼Œå…³æ³¨çš„æ˜¯å¦‚ä½•å¿«é€Ÿæ–¹ä¾¿çš„æ­å»ºé¡¹ç›®ï¼Œç›¸æ¯”webpackï¼Œå‡å°‘äº†å¾ˆå¤šé…ç½®é‡ã€‚</p>
<p>webpackå…³æ³¨çš„å±‚çº§æ›´ä½ï¼šwebpackæ˜¯low level apiï¼Œå› ä¸ºwebpackæ›´å…³æ³¨çš„æ˜¯å„ç§åŠŸèƒ½çš„å®ç°ï¼Œé‡ç‚¹æ”¾åœ¨æ„å»ºä¸Šã€‚</p>
<h4 id="2-viteè‡ªå·±ä¸åŒ…å«ç¼–è¯‘èƒ½åŠ›ã€‚"><a href="#2-viteè‡ªå·±ä¸åŒ…å«ç¼–è¯‘èƒ½åŠ›ã€‚" class="headerlink" title="2.viteè‡ªå·±ä¸åŒ…å«ç¼–è¯‘èƒ½åŠ›ã€‚"></a>2.viteè‡ªå·±ä¸åŒ…å«ç¼–è¯‘èƒ½åŠ›ã€‚</h4><p>å®ƒæœ¬èº«å¹¶ä¸å‚ä¸ç¼–è¯‘ï¼Œå®ƒçš„ç¼–è¯‘èƒ½åŠ›åªæ˜¯é›†æˆäº†rollupå’ŒESbuildçš„åŠŸèƒ½.</p>
<h4 id="3-å¯åŠ¨é¡¹ç›®viteæ›´å¿«ï¼Œå¯ä»¥è¯´æ˜¯è¶…çº§å¿«ã€‚"><a href="#3-å¯åŠ¨é¡¹ç›®viteæ›´å¿«ï¼Œå¯ä»¥è¯´æ˜¯è¶…çº§å¿«ã€‚" class="headerlink" title="3.å¯åŠ¨é¡¹ç›®viteæ›´å¿«ï¼Œå¯ä»¥è¯´æ˜¯è¶…çº§å¿«ã€‚"></a>3.å¯åŠ¨é¡¹ç›®viteæ›´å¿«ï¼Œå¯ä»¥è¯´æ˜¯è¶…çº§å¿«ã€‚</h4><p>å¯¹æ¯”webpackåœ¨dev-serveçš„æ—¶å€™ï¼Œä¼šæäº¤æ‰€æœ‰ç¼–è¯‘çš„æ–‡ä»¶ï¼Œè€Œviteåœ¨dev-serveçš„æ—¶å€™åˆ©ç”¨äº†æµè§ˆå™¨çš„native ES moduleåŠŸèƒ½ï¼Œåœ¨æµè§ˆå™¨è¯·æ±‚å¯¹åº”çš„urlæ—¶æ‰æä¾›æ–‡ä»¶ï¼Œå®ç°äº†æ ¹æ®è·¯ç”±çš„æ‡’åŠ è½½ï¼Œæ‰€ä»¥å¯åŠ¨çš„æ—¶å€™æ˜¯è¶…å¿«çš„ã€‚</p>
<h4 id="4-viteçš„çƒ­æ›´æ–°æ›´å¿«ã€‚"><a href="#4-viteçš„çƒ­æ›´æ–°æ›´å¿«ã€‚" class="headerlink" title="4.viteçš„çƒ­æ›´æ–°æ›´å¿«ã€‚"></a>4.viteçš„çƒ­æ›´æ–°æ›´å¿«ã€‚</h4><p>å¯¹æ¯”webpackçš„çƒ­æ›´æ–°ï¼Œçƒ­æ›´æ–°æ—¶ï¼ŒæŠŠæ”¹åŠ¨è¿‡æ¨¡å—çš„ç›¸å…³ä¾èµ–æ¨¡å—å…¨éƒ¨ç¼–è¯‘ä¸€æ¬¡ã€‚è€Œviteçƒ­æ›´æ–°æ—¶ï¼Œä»…è®©æµè§ˆå™¨é‡æ–°è¯·æ±‚æ”¹åŠ¨è¿‡çš„æ¨¡å—ã€‚</p>
<p>ç°åœ¨å…¬å¸é¡¹ç›®ä»webpackè¿‡æ¸¡åˆ°vite,è¿˜åœ¨ä¸æ–­æ‘¸ç´¢çˆ¬å‘ä¸­ï¼Œè™½ç„¶ç›®å‰viteçš„ç”Ÿæ€ä¸å¦‚webpackä¸°å¯Œï¼Œä¸”å®ç”¨çš„å¼€å‘è€…ä¹Ÿä¸åŠwebpackã€‚<br>ä½†æ˜¯ä¸å¯å¦è®¤çš„æ˜¯ï¼Œç›¸æ¯”äºwebpack, viteéå¸¸é€‚åˆé¡¹ç›®çš„å¼€å‘ï¼Œwebpacké€‚åˆå·¥å…·çš„å¼€å‘ã€‚</p>
<ul>
<li><p>viteä¸ºæ„å»ºé¡¹ç›®è€Œç”Ÿ</p>
</li>
<li><p>webpackä¸ºæ„å»ºå·¥å…·è€Œç”Ÿ</p>
</li>
</ul>
<h3 id="äºŒã€Piniaå’ŒVuex"><a href="#äºŒã€Piniaå’ŒVuex" class="headerlink" title="äºŒã€Piniaå’ŒVuex"></a>äºŒã€Piniaå’ŒVuex</h3><p>Piniaæ˜¯Vueç”Ÿæ€é‡ŒVuexçš„ä»£æ›¿è€…ï¼Œä¸€ä¸ªå…¨æ–°Vueçš„çŠ¶æ€ç®¡ç†åº“ã€‚åœ¨Vue3æˆä¸ºæ­£å¼ç‰ˆä»¥åï¼Œå°¤é›¨æºªå¼ºåŠ¿æ¨èçš„é¡¹ç›®å°±æ˜¯Piniaã€‚</p>
<p>Pinia æ˜¯ Vue.js çš„è½»é‡çº§çŠ¶æ€ç®¡ç†åº“ï¼Œå®ƒä½¿ç”¨ Vue 3 ä¸­çš„æ–°ååº”ç³»ç»Ÿæ¥æ„å»ºä¸€ä¸ªç›´è§‚ä¸”å®Œå…¨ç±»å‹åŒ–çš„çŠ¶æ€ç®¡ç†åº“ã€‚<br>Vuexä¹Ÿæ˜¯ä¸ºVueæ¡†æ¶å»ºç«‹çš„ä¸€ä¸ªæµè¡Œçš„çŠ¶æ€ç®¡ç†åº“ï¼Œå®ƒä¹Ÿæ˜¯Vueæ ¸å¿ƒå›¢é˜Ÿæ¨èçš„çŠ¶æ€ç®¡ç†åº“ã€‚ Vuexé«˜åº¦å…³æ³¨åº”ç”¨ç¨‹åºçš„å¯æ‰©å±•æ€§ã€å¼€å‘äººå‘˜çš„å·¥æ•ˆå’Œä¿¡å¿ƒã€‚å®ƒåŸºäºä¸reduxç›¸åŒçš„æµé‡æ¶æ„ã€‚Pinia å®Œæ•´çš„ç¬¦åˆäº†å½“æ—¶ Vuex5 ææ¡ˆæ‰€æåˆ°çš„åŠŸèƒ½ç‚¹ã€‚</p>
<h4 id="Pinia-å’Œ-Vuex"><a href="#Pinia-å’Œ-Vuex" class="headerlink" title="Pinia å’Œ Vuex"></a>Pinia å’Œ Vuex</h4><p>Vuexï¼š <code>State</code>ã€<code>Gettes</code>ã€<code>Mutations</code>(åŒæ­¥)ã€<code>Actions</code>(å¼‚æ­¥)</p>
<p>Piniaï¼š <code>State</code>ã€<code>Gettes</code>ã€<code>Actions</code>(åŒæ­¥å¼‚æ­¥éƒ½æ”¯æŒ)</p>
<h4 id="Pinia-æ ¸å¿ƒç‰¹æ€§"><a href="#Pinia-æ ¸å¿ƒç‰¹æ€§" class="headerlink" title="Pinia æ ¸å¿ƒç‰¹æ€§"></a>Pinia æ ¸å¿ƒç‰¹æ€§</h4><ul>
<li><p>Pinia æ²¡æœ‰ <code>Mutations</code></p>
</li>
<li><p><code>Actions</code> æ”¯æŒåŒæ­¥å’Œå¼‚æ­¥</p>
</li>
<li><p>æ²¡æœ‰æ¨¡å—çš„åµŒå¥—ç»“æ„</p>
</li>
<li><ul>
<li>Pinia é€šè¿‡è®¾è®¡æä¾›æ‰å¹³ç»“æ„ï¼Œå°±æ˜¯è¯´æ¯ä¸ª store éƒ½æ˜¯äº’ç›¸ç‹¬ç«‹çš„ï¼Œè°ä¹Ÿä¸å±äºè°ï¼Œä¹Ÿå°±æ˜¯æ‰å¹³åŒ–äº†ï¼Œæ›´å¥½çš„ä»£ç åˆ†å‰²ä¸”æ²¡æœ‰å‘½åç©ºé—´ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥é€šè¿‡åœ¨ä¸€ä¸ªæ¨¡å—ä¸­å¯¼å…¥å¦ä¸€ä¸ªæ¨¡å—æ¥éšå¼åµŒå¥— storeï¼Œç”šè‡³å¯ä»¥æ‹¥æœ‰ store çš„å¾ªç¯ä¾èµ–å…³ç³»</li>
</ul>
</li>
<li><p>æ›´å¥½çš„ <code>TypeScript</code> æ”¯æŒ </p>
</li>
<li><ul>
<li>ä¸éœ€è¦å†åˆ›å»ºè‡ªå®šä¹‰çš„å¤æ‚åŒ…è£…å™¨æ¥æ”¯æŒ TypeScript æ‰€æœ‰å†…å®¹éƒ½ç±»å‹åŒ–ï¼Œå¹¶ä¸” API çš„è®¾è®¡æ–¹å¼ä¹Ÿå°½å¯èƒ½çš„ä½¿ç”¨ TS ç±»å‹æ¨æ–­</li>
</ul>
</li>
<li><p>ä¸éœ€è¦æ³¨å…¥ã€å¯¼å…¥å‡½æ•°ã€è°ƒç”¨å®ƒä»¬ï¼Œäº«å—è‡ªåŠ¨è¡¥å…¨ï¼Œè®©æˆ‘ä»¬å¼€å‘æ›´åŠ æ–¹ä¾¿</p>
</li>
<li><p>æ— éœ€æ‰‹åŠ¨æ·»åŠ  storeï¼Œå®ƒçš„æ¨¡å—é»˜è®¤æƒ…å†µä¸‹åˆ›å»ºå°±è‡ªåŠ¨æ³¨å†Œçš„</p>
</li>
<li><p>Vue2 å’Œ Vue3 éƒ½æ”¯æŒ </p>
</li>
<li><ul>
<li>é™¤äº†åˆå§‹åŒ–å®‰è£…å’ŒSSRé…ç½®ä¹‹å¤–ï¼Œä¸¤è€…ä½¿ç”¨ä¸Šçš„APIéƒ½æ˜¯ç›¸åŒçš„</li>
</ul>
</li>
<li><p>æ”¯æŒ <code>Vue DevTools</code></p>
</li>
<li><ul>
<li>è·Ÿè¸ª actions, mutations çš„æ—¶é—´çº¿</li>
<li>åœ¨ä½¿ç”¨äº†æ¨¡å—çš„ç»„ä»¶ä¸­å°±å¯ä»¥è§‚å¯Ÿåˆ°æ¨¡å—æœ¬èº«</li>
<li>æ”¯æŒ time-travel æ›´å®¹æ˜“è°ƒè¯•</li>
<li>åœ¨ Vue2 ä¸­ Pinia ä¼šä½¿ç”¨ Vuex çš„æ‰€æœ‰æ¥å£ï¼Œæ‰€ä»¥å®ƒä¿©ä¸èƒ½ä¸€èµ·ä½¿ç”¨</li>
<li>ä½†æ˜¯é’ˆå¯¹ Vue3 çš„è°ƒè¯•å·¥å…·æ”¯æŒè¿˜ä¸å¤Ÿå®Œç¾ï¼Œæ¯”å¦‚è¿˜æ²¡æœ‰ time-travel åŠŸèƒ½</li>
</ul>
</li>
<li><p>æ¨¡å—çƒ­æ›´æ–° </p>
</li>
<li><ul>
<li>æ— éœ€é‡æ–°åŠ è½½é¡µé¢å°±å¯ä»¥ä¿®æ”¹æ¨¡å—</li>
<li>çƒ­æ›´æ–°çš„æ—¶å€™ä¼šä¿æŒä»»ä½•ç°æœ‰çŠ¶æ€</li>
</ul>
</li>
<li><p>æ”¯æŒä½¿ç”¨æ’ä»¶æ‰©å±• Pinia åŠŸèƒ½</p>
</li>
<li><p>æ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“</p>
</li>
</ul>
<h3 id="ä¸‰ã€Viteç”ŸæˆVue3è„šæ‰‹æ¶"><a href="#ä¸‰ã€Viteç”ŸæˆVue3è„šæ‰‹æ¶" class="headerlink" title="ä¸‰ã€Viteç”ŸæˆVue3è„šæ‰‹æ¶"></a>ä¸‰ã€Viteç”ŸæˆVue3è„šæ‰‹æ¶</h3><pre><code class="ini">npm create vite@latest //æ„å»ºvite+vue
npm i //ä¸‹è½½ä¾èµ–
npm run dev //å¯åŠ¨é¡¹ç›®
</code></pre>
<p><img src="/2022/11/19/Vue3-Ts-Vite-Pinia%E7%BB%84%E5%90%88%E7%9A%84%E9%AB%98%E6%95%88%E5%BC%80%E5%8F%91%E5%A5%97%E4%BB%B6/image-20221119091852577.png"></p>
<p><img src="/2022/11/19/Vue3-Ts-Vite-Pinia%E7%BB%84%E5%90%88%E7%9A%84%E9%AB%98%E6%95%88%E5%BC%80%E5%8F%91%E5%A5%97%E4%BB%B6/image-20221119101610847.png"></p>
<h3 id="å››ã€é›†æˆpinia"><a href="#å››ã€é›†æˆpinia" class="headerlink" title="å››ã€é›†æˆpinia"></a>å››ã€é›†æˆpinia</h3><pre><code class="ini">npm install pinia //å®‰è£…pinia
</code></pre>
<p>piniaç®€å•ä½¿ç”¨</p>
<p><img src="/2022/11/19/Vue3-Ts-Vite-Pinia%E7%BB%84%E5%90%88%E7%9A%84%E9%AB%98%E6%95%88%E5%BC%80%E5%8F%91%E5%A5%97%E4%BB%B6/image-20221119150910678.png"></p>
<p>1.åœ¨main.tsä¸­æ³¨å†Œpinia</p>
<pre><code class="tsx">//main.ts
import &#123; createApp &#125; from &#39;vue&#39;
import &#39;./style.css&#39;
import App from &#39;./App.vue&#39;
import &#123;createPinia&#125; from &#39;pinia&#39; 

createApp(App).use(createPinia()).mount(&#39;#app&#39;)
</code></pre>
<p>2.åˆ›å»ºsrc&#x2F;type&#x2F;user.d.ts</p>
<pre><code class="tsx">// ç”¨æˆ·çš„ç±»å‹å£°æ˜æ–‡ä»¶
interface IUser &#123;
    name: string;
    age: number;
&#125;  
</code></pre>
<p>3.åˆ›å»ºsrc&#x2F;store&#x2F;user.ts</p>
<pre><code class="tsx">//user.ts
import &#123; defineStore &#125; from &quot;pinia&quot;;
 
export default defineStore(&quot;user&quot;, &#123;
  state() &#123;
    return &#123;
      userList: [] as IUser[],
    &#125;;
  &#125;,
  actions: &#123;
    getList() &#123;
      // æ¨¡æ‹Ÿä»åç«¯è·å–æ•°æ®
      let resList: IUser[] = [
        &#123; name: &quot;å­Ÿå³°&quot;, age: 24 &#125;,
        &#123; name: &quot;å­Ÿä¸€&quot;, age: 19 &#125;
      ];
      this.userList = resList;
    &#125;,
  &#125;,
&#125;);
</code></pre>
<p>4.åˆ›å»ºsrc&#x2F;store&#x2F;index.ts</p>
<pre><code class="tsx">//index.ts
import useUserStore from &quot;./user&quot;;
 
export default function useStore() &#123;
  return &#123;
    user: useUserStore(),
  &#125;;
&#125;
</code></pre>
<p>5.App.vueä½¿ç”¨</p>
<pre><code class="vue">&lt;script setup lang=&quot;ts&quot;&gt;
// ä»çŠ¶æ€å±‚å¯¼å‡ºæŒ‡å®šæ¨¡å—
import useStore from &quot;./store&quot;;
const &#123; user &#125; = useStore();
// è·å–ç”¨æˆ·åˆ—è¡¨
user.getList();
&lt;/script&gt;
 
&lt;template&gt;
  &lt;div&gt;
    &lt;ul&gt;
      &lt;li v-for=&quot;item in user.userList&quot;&gt;
        å§“åï¼š&#123;&#123; item.name &#125;&#125; ---- å¹´é¾„ï¼š&#123;&#123; item.age &#125;&#125;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p><img src="/2022/11/19/Vue3-Ts-Vite-Pinia%E7%BB%84%E5%90%88%E7%9A%84%E9%AB%98%E6%95%88%E5%BC%80%E5%8F%91%E5%A5%97%E4%BB%B6/image-20221119151532682.png"></p>
<h3 id="äº”ã€é›†æˆpretterå’Œeslint"><a href="#äº”ã€é›†æˆpretterå’Œeslint" class="headerlink" title="äº”ã€é›†æˆpretterå’Œeslint"></a>äº”ã€é›†æˆpretterå’Œeslint</h3><pre><code class="ini">npm i prettier -D //å®‰è£…prettier
npm i eslint -D //å®‰è£…eslint
npx eslint --init //åˆå§‹åŒ–eslint
</code></pre>
<p>æ ¹ç›®å½•åˆ›å»º<code>.prettierrc.js</code>æ–‡ä»¶</p>
<pre><code class="javascript">//.prettierrc.js
module.exports = &#123;
    printWidth: 140,// è¶…è¿‡æœ€å¤§å€¼æ¢è¡Œ
    tabWidth: 4, // tabé”®å®½åº¦ï¼Œé»˜è®¤ä¸º4
    useTabs: true,// ä½¿ç”¨tabï¼ˆåˆ¶è¡¨ç¬¦ï¼‰ç¼©è¿›è€Œéç©ºæ ¼
    singleQuote: true,// ç”¨å•å¼•å·ä»£æ›¿åŒå¼•å·
    semi: true,// è¡Œæœ«æ˜¯å¦åŠ åˆ†å·
    trailingComma: &#39;none&#39;,// æœ€åä¸€ä¸ªå¯¹è±¡å…ƒç´ åŠ é€—å·
    bracketSpacing: true,// å¯¹è±¡ï¼Œæ•°ç»„åŠ ç©ºæ ¼
    jsxBracketSameLine: true, // jsx &gt; æ˜¯å¦å¦èµ·ä¸€è¡Œ
  
  &#125;;
</code></pre>
<pre><code class="js">//.eslintrc.cjs
module.exports = &#123;
  root: true,
  env: &#123;
    browser: true,
    node: true,
    es6: true,
    commonjs: true,
    amd: true
  &#125;,
  // ts eslint é…ç½®
  parserOptions: &#123;
    parser:&#39;@typescript-eslint/parser&#39;,
  &#125;,
  plugins: [&#39;@typescript-eslint&#39;],
  extends: [&#39;plugin:vue/vue3-recommended&#39;,&#39;plugin:prettier/recommended&#39;,&#39;prettier/@typescript-eslint&#39;,&#39;plugin:@typescript-eslint/recommended&#39;],
  // js eslint é…ç½®
  // parserOptions: &#123;
  //   parser: &#39;babel-eslint&#39;,
  //   sourceType: &#39;module&#39;
  // &#125;,
  // plugins: [&#39;html&#39;, &#39;vue&#39;],
  // extends: [&#39;plugin:vue/recommended&#39;, &#39;eslint:recommended&#39;],
 
  rules: &#123;
    &#39;max-len&#39;: &#39;off&#39;,
     // ç»Ÿä¸€è±å…è§„åˆ™ï¼ŒåŸå› ï¼šç›´æ¥ä¿®æ”¹å¯èƒ½å¯¹ç°æœ‰åŠŸèƒ½äº§ç”Ÿå½±å“
     &#39;eqeqeq&#39;: 1,
    //  &#39;vue/no-v-html&#39;: 1,
     // å…¶ä¸­ä»£ç æœ¬èº«æœ‰é—®é¢˜çš„è§„åˆ™é”™è¯¯æœ‰
     &#39;no-undef&#39;: 0,
     &#39;import/no-duplicates&#39;: 0,
 
     // å¯èƒ½å¼•èµ·æ ¼å¼åŒ–é—®é¢˜ä½†å»ºè®®æ‰‹åŠ¨ä¿®æ”¹ä»£ç çš„æœ‰
     &#39;no-plusplus&#39;: 0,
     &#39;no-eval&#39;: 0,
     &#39;no-prototype-builtins&#39;: 0,
     &#39;no-multi-assign&#39;: 0,
     &#39;no-unused-vars&#39;: 0,
     &#39;no-useless-escape&#39;: 0,
     &#39;camelcase&#39;: 0,
     &#39;vue/no-unused-components&#39;: 0,
     &#39;vue/return-in-computed-property&#39;: 0,
     &#39;no-param-reassign&#39;: 0,
     &#39;prefer-const&#39;: 0,
     &#39;prefer-destructuring&#39;: 0,
     &#39;no-underscore-dangle&#39;: 0,
     &#39;no-restricted-syntax&#39;: 0,
     &#39;no-nested-ternary&#39;: 0,
     &#39;radix&#39;: 0,
     &#39;vue/no-side-effects-in-computed-properties&#39;: 0,
     &#39;vue/order-in-components&#39;: 0,
     &#39;function-paren-newline&#39;: 0,
  &#125;,
&#125;;
</code></pre>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><p>[gitä»“åº“é¡¹ç›®æºç ]: 	â€œ<a href="https://github.com/mengfeng/vite-vue3-pinia-ts">https://github.com/mengfeng/vite-vue3-pinia-ts</a> â€œ<br>[Viteä¸­æ–‡å®˜ç½‘]: 		â€œ<a href="https://cn.vitejs.dev/">https://cn.vitejs.dev</a> â€œ<br>[piniaä¸­æ–‡å®˜ç½‘]: 	â€œ<a href="https://pinia.web3doc.top/getting-started.html#%E5%AE%89%E8%A3%85">https://pinia.web3doc.top/getting-started.html#å®‰è£…</a> â€œ</p>
]]></content>
      <categories>
        <category>å·¥ç¨‹æŠ€æœ¯</category>
        <category>Vue3+Ts+Vite+Piniaç»„åˆçš„é«˜æ•ˆå¼€å‘å¥—ä»¶</category>
      </categories>
      <tags>
        <tag>æŠ€æœ¯</tag>
      </tags>
  </entry>
  <entry>
    <title>chatGPTæ³¨å†Œ</title>
    <url>/2022/12/14/chatGPT%E6%B3%A8%E5%86%8C/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="chatGPTæ³¨å†Œã€ç™»é™†å…·ä½“æµç¨‹"><a href="#chatGPTæ³¨å†Œã€ç™»é™†å…·ä½“æµç¨‹" class="headerlink" title="chatGPTæ³¨å†Œã€ç™»é™†å…·ä½“æµç¨‹"></a>chatGPTæ³¨å†Œã€ç™»é™†å…·ä½“æµç¨‹</h1><blockquote>
<p>éœ€è¦ç§‘å­¦ä¸Šç½‘</p>
<p>ç”±äºç›®å‰æ¨å¹¿æœŸé—´ï¼ŒchatGPTåªè¦æ³¨å†Œopenaiå°±å¯ä»¥å…è´¹ä½¿ç”¨chatGPT</p>
</blockquote>
<h3 id="ä¸€ã€è¿›å…¥chatGPTçš„æ³¨å†Œé¡µé¢"><a href="#ä¸€ã€è¿›å…¥chatGPTçš„æ³¨å†Œé¡µé¢" class="headerlink" title="ä¸€ã€è¿›å…¥chatGPTçš„æ³¨å†Œé¡µé¢"></a>ä¸€ã€è¿›å…¥chatGPTçš„æ³¨å†Œé¡µé¢</h3><p>[chatGPT]: 	â€œ<a href="https://chat.openai.com/auth/login">https://chat.openai.com/auth/login</a> â€œ</p>
<p><img src="/2022/12/14/chatGPT%E6%B3%A8%E5%86%8C/image-20221214081000882.png"></p>
<h3 id="äºŒã€ç‚¹å‡»Sign-upæ³¨å†Œ"><a href="#äºŒã€ç‚¹å‡»Sign-upæ³¨å†Œ" class="headerlink" title="äºŒã€ç‚¹å‡»Sign upæ³¨å†Œ"></a>äºŒã€ç‚¹å‡»Sign upæ³¨å†Œ</h3><p>æˆ‘æ³¨å†Œçš„æ—¶å€™ç”¨çš„è°·æ­Œé‚®ç®±</p>
<p><img src="/2022/12/14/chatGPT%E6%B3%A8%E5%86%8C/image-20221214081235003.png"></p>
<p><img src="/2022/12/14/chatGPT%E6%B3%A8%E5%86%8C/image-20221214081250319.png"></p>
<p><img src="/2022/12/14/chatGPT%E6%B3%A8%E5%86%8C/image-20221214081403723.png"></p>
<h3 id="ä¸‰ã€è¿›å…¥äº†ç”µè¯å·ç éªŒè¯ç¯èŠ‚"><a href="#ä¸‰ã€è¿›å…¥äº†ç”µè¯å·ç éªŒè¯ç¯èŠ‚" class="headerlink" title="ä¸‰ã€è¿›å…¥äº†ç”µè¯å·ç éªŒè¯ç¯èŠ‚"></a>ä¸‰ã€è¿›å…¥äº†ç”µè¯å·ç éªŒè¯ç¯èŠ‚</h3><p>ä¸€ä¸ªå·ç æ¨¡æ‹Ÿå¹³å° <a href="https://sms-activate.org/cn?ref=2780512">https://sms-activate.org/cn?ref=2780512</a></p>
<p>ç¬¬ä¸€æ­¥å»æ³¨å†Œç™»é™†ï¼ˆè¿™ä¸€æ­¥æ²¡ä»€ä¹ˆé—®é¢˜ï¼‰</p>
<p><img src="/2022/12/14/chatGPT%E6%B3%A8%E5%86%8C/image-20221214081608840.png"></p>
<p>ç¬¬äºŒæ­¥éœ€è¦å­˜é’±äº†å“ˆå“ˆå“ˆ</p>
<p>å½“ç„¶ï¼Œå……å¤šå°‘ä¸€èˆ¬éƒ½å¯ä»¥ï¼Œå¦‚æœåªç”¨è¿™ä¸€æ¬¡çš„è¯å¯ä»¥å……å°‘ä¸€ç‚¹ï¼Œ0.2-0.5ç¾å…ƒ</p>
<p><img src="/2022/12/14/chatGPT%E6%B3%A8%E5%86%8C/image-20221214081921982.png"></p>
<p><img src="/2022/12/14/chatGPT%E6%B3%A8%E5%86%8C/image-20221214081825615.png"></p>
<p>æˆ‘ä»¬å¯ä»¥é€‰æ‹©æ”¯ä»˜å®æ¥å……å€¼ï¼Œå¾ˆæ–¹ä¾¿</p>
<p><img src="/2022/12/14/chatGPT%E6%B3%A8%E5%86%8C/image-20221214082059408.png"></p>
<p>ç­‰åˆ°å……å€¼åˆ°è´¦ï¼ˆå¤§æ¦‚å‡ åˆ†é’Ÿï¼‰</p>
<p>æˆ‘ä»¬å°±å¯ä»¥è´­ä¹°æœåŠ¡äº†ï¼Œç‚¹å‡»è´­ç‰©è½¦ï¼ˆè¿™ä¸ªä¾¿å®œï¼‰</p>
<p><img src="/2022/12/14/chatGPT%E6%B3%A8%E5%86%8C/image-20221214082407157.png"></p>
<p>ç„¶åï¼Œå¯ä»¥åœ¨æ¿€æ´»åŒºçœ‹åˆ°å¾…ä½¿ç”¨çš„ä¸´æ—¶å·ç ï¼Œå°†æ­¤å·ç å¤åˆ¶åˆ° OpenAI çš„éªŒè¯ç æ¥æ”¶åŒºé‡Œé¢ã€‚</p>
<p>å…ˆé€‰æ‹©å¯¹åº”å›½å®¶ï¼Œå†å¡«å·ç ï¼Œç„¶åå‘é€ç”µè¯å·ç ï¼Œæ¿€æ´»åŒºå°±å¯ä»¥çœ‹è§éªŒè¯ç äº†ã€‚</p>
<p><img src="/2022/12/14/chatGPT%E6%B3%A8%E5%86%8C/image-20221214083118069.png"></p>
<p><img src="/2022/12/14/chatGPT%E6%B3%A8%E5%86%8C/image-20221214082913264.png"></p>
<p>ç”µè¯éªŒè¯å®Œï¼Œæ³¨å†Œå®Œæ¯•</p>
<h3 id="å››ã€ç™»é™†chatGPT"><a href="#å››ã€ç™»é™†chatGPT" class="headerlink" title="å››ã€ç™»é™†chatGPT"></a>å››ã€ç™»é™†chatGPT</h3><p><img src="/2022/12/14/chatGPT%E6%B3%A8%E5%86%8C/image-20221214083525980.png"></p>
<p>è¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥å¼€å§‹å’Œå®ƒæ„‰å¿«çš„èŠå¤©äº†</p>
<p>æˆ‘ä»¬ä¸‹ä¸€ç¯‡ä¼šä»‹ç»å®ƒæ˜¯ä»€ä¹ˆï¼Ÿ</p>
]]></content>
      <categories>
        <category>è¶£å‘³æŠ€æœ¯</category>
        <category>chatGPTæ³¨å†Œ</category>
      </categories>
      <tags>
        <tag>chatGPT</tag>
      </tags>
  </entry>
  <entry>
    <title>c4dåŠå…¶ocçš„å®‰è£…å’Œåˆå§‹åŒ–è®¾ç½®</title>
    <url>/2022/12/06/c4d%E5%8F%8A%E5%85%B6oc%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="C4d-amp-amp-OC"><a href="#C4d-amp-amp-OC" class="headerlink" title="C4d &amp;&amp; OC"></a>C4d &amp;&amp; OC</h1><p>æˆ‘ä»¬è¿™ç¯‡æ–‡ç« æ˜¯åŸºäºMac Book Pro M1 MaxèŠ¯ç‰‡æ¡ä»¶ä¸‹è¿è¡Œçš„</p>
<p>ï¼ˆå»ºè®®ç©ä¸‰ç»´ocçš„åŒå­¦è¿˜æ˜¯å†æ‹¥æœ‰ä¸€å°windowsæ¯”è¾ƒå¥½ï¼‰</p>
<blockquote>
<p>ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ å¦ä¸€æ¬¾ä¸‰ç»´è½¯ä»¶C4dï¼Œæˆ‘ä»¬ä¸Šé¢çš„æ–‡ç« ä»‹ç»äº†blenderï¼Œä¹Ÿè¯´äº†C4då’Œblenderçš„åŒºåˆ«ã€‚</p>
<p>C4dè§¦åŠåˆ°äº†ç‰ˆæƒé—®é¢˜å’Œä»˜è´¹æœåŠ¡ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰è®¸å¤šäººçƒ­è¡·äºC4då’Œæˆ‘ä»¬å¤§åé¼é¼çš„ocæ¸²æŸ“å™¨ã€‚</p>
<p>blenderï¼ˆå¼€æºå…è´¹åŠŸèƒ½å…¨ï¼‰</p>
<p>ä¸‹é¢æˆ‘ä»¬å°±æ¥è®²è®²C4då’Œocçš„å®‰è£…åˆå§‹åŒ–è®¾ç½®</p>
</blockquote>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ocæ¸²æŸ“å™¨è¾“å‡ºçš„æ•ˆæœ</p>
<p><img src="/2022/12/06/c4d%E5%8F%8A%E5%85%B6oc%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE/WechatIMG113.jpeg"></p>
<h3 id="ä¸€ã€è½¯ä»¶çš„å®‰è£…"><a href="#ä¸€ã€è½¯ä»¶çš„å®‰è£…" class="headerlink" title="ä¸€ã€è½¯ä»¶çš„å®‰è£…"></a>ä¸€ã€è½¯ä»¶çš„å®‰è£…</h3><blockquote>
<p>C4Dè½¯ä»¶ä¸‹è½½æ–¹å¼äºŒé€‰ä¸€<br>ç½‘é¡µä¸é™é€Ÿä¸‹è½½åœ°å€01ï¼š<a href="https://www.yuque.com/docs/share/42f77525-e323-4343-8b75-947b896f9b99#">https://www.yuque.com/docs/share/42f77525-e323-4343-8b75-947b896f9b99?#</a></p>
<p>ç™¾åº¦ç½‘ç›˜ä¸‹è½½åœ°å€02ï¼š<a href="https://pan.baidu.com/s/14HfYqsok_VNNTpqgM2lisg">https://pan.baidu.com/s/14HfYqsok_VNNTpqgM2lisg</a><br>æå–ç ï¼šocye</p>
</blockquote>
<p>ä¸è¦ä¸‹è½½åˆ°æœ‰ä¸­æ–‡ç›®å½•çš„åœ°æ–¹</p>
<p>ä¸‹è½½å®Œæˆä¹‹åé‡Œé¢æœ‰å®‰è£…çš„æ•™å­¦è§†é¢‘ï¼Œæˆ‘ç®€å•çš„è¡¨è¿°ä¸€ä¸‹</p>
<p>1.ç‚¹è¿›é“¾æ¥ï¼Œé€‰æ‹©æˆ‘ä»¬éœ€è¦çš„ç‰ˆæœ¬ä¸‹è½½å³å¯</p>
<p><img src="/2022/12/06/c4d%E5%8F%8A%E5%85%B6oc%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE/image-20221206150700879.png"></p>
<p><img src="/2022/12/06/c4d%E5%8F%8A%E5%85%B6oc%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE/image-20221206150832632.png"></p>
<p>2.å®‰è£…è½¯ä»¶</p>
<p>æ‰“å¼€ä¹‹åï¼ŒåŒå‡»å®‰è£…Cinema 4D Installerå³å¯ï¼ˆæŒ‰ç…§å¼•å¯¼å®‰è£…ï¼Œå®‰è£…å®Œè¦æ‰“å¼€ä¸€æ¬¡ï¼‰</p>
<p><img src="/2022/12/06/c4d%E5%8F%8A%E5%85%B6oc%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE/wps1.jpg"></p>
<p>æŒ‰Quitå³å¯</p>
<p><img src="/2022/12/06/c4d%E5%8F%8A%E5%85%B6oc%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE/wps2.jpg"></p>
<h3 id="äºŒã€è½¯ä»¶çš„æ±‰åŒ–"><a href="#äºŒã€è½¯ä»¶çš„æ±‰åŒ–" class="headerlink" title="äºŒã€è½¯ä»¶çš„æ±‰åŒ–"></a>äºŒã€è½¯ä»¶çš„æ±‰åŒ–</h3><p>å°†æ±‰åŒ–è¡¥ä¸æ‹–è¿›C4çš„ç•Œé¢å°±å¯ä»¥äº†ï¼ˆè®°å¾—æ‹–åŠ¨çš„æ—¶å€™éœ€è¦æŒ‰ä½shiftï¼‰</p>
<p><img src="/2022/12/06/c4d%E5%8F%8A%E5%85%B6oc%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE/wps3.jpg"></p>
<p>å¦‚æœéœ€è¦æ›´æ–°è½¯ä»¶</p>
<p>å°†Chinese_26010_202204041.c4dupdateæ‹–åˆ°ç•Œé¢æ›´æ–°å³å¯</p>
<p>ç‚¹å‡»è¿›å…¥è½¯ä»¶</p>
<p><img src="/2022/12/06/c4d%E5%8F%8A%E5%85%B6oc%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE/image-20221206151636591.png"></p>
<p>è½¯ä»¶å®‰è£…åŠå…¶æ±‰åŒ–å®Œæˆ</p>
<p><img src="/2022/12/06/c4d%E5%8F%8A%E5%85%B6oc%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE/image-20221206151746346.png"></p>
<h3 id="ä¸‰ã€ocæ¸²æŸ“å™¨çš„ä¸‹è½½å’Œå®‰è£…"><a href="#ä¸‰ã€ocæ¸²æŸ“å™¨çš„ä¸‹è½½å’Œå®‰è£…" class="headerlink" title="ä¸‰ã€ocæ¸²æŸ“å™¨çš„ä¸‹è½½å’Œå®‰è£…"></a>ä¸‰ã€ocæ¸²æŸ“å™¨çš„ä¸‹è½½å’Œå®‰è£…</h3><p>è¿›å…¥è¿™ä¸€æ­¥æˆ‘ä»¬é¦–å…ˆéœ€è¦ç§‘å­¦ä¸Šç½‘ï¼ˆä½ æ‡‚çš„ï¼‰</p>
<p>1.è´¦æˆ·æ³¨å†Œ</p>
<p>æˆ‘ä»¬å…ˆè¦æ³¨å†Œä¸€ä¸ª<a href="https://home.otoy.com/render/octane-render/">ocå®˜ç½‘</a>çš„è´¦æˆ·</p>
<p>è¿™ä¸ªæˆ‘ä»¬æ ¹æ®æç¤ºå¡«å†™ä¿¡æ¯å’Œé‚®ç®±éªŒè¯å°±å¯ä»¥äº†</p>
<p><img src="/2022/12/06/c4d%E5%8F%8A%E5%85%B6oc%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE/image-20221206152135014.png"></p>
<p>2.ä¸‹è½½ocï¼ˆæ­£ç‰ˆçš„å“ˆï¼Œéœ€è¦èŠ±é’±çš„ï¼‰</p>
<p>æˆ‘ä»¬ç‚¹å‡»Downloadsï¼Œè¿›å…¥ä¸‹è½½ç•Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®æˆ‘ä»¬æ‰€ä½¿ç”¨çš„è½¯ä»¶å’Œç³»ç»Ÿæ¥é€‰æ‹©ä¸‹è½½æˆ‘ä»¬çš„è½¯ä»¶</p>
<p>ï¼ˆç›®å‰å¥½åƒM1å¯ä»¥è¯•ç”¨ä¸€å¹´ï¼‰å¦‚æœä¸è¡Œéœ€è¦ä½ ç™»å½•ï¼Œé‚£ä½ å°±äº¤é’±å§å“ˆå“ˆå“ˆ</p>
<p><img src="/2022/12/06/c4d%E5%8F%8A%E5%85%B6oc%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE/image-20221206152728362.png"></p>
<p>ä¸‹è½½ä¹‹åè§£å‹æ–‡ä»¶</p>
<p><img src="/2022/12/06/c4d%E5%8F%8A%E5%85%B6oc%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE/image-20221206153213703.png"></p>
<p>3.å®‰è£…oc</p>
<p>macç”¨æˆ·ä½¿ç”¨è¿™ä¸ªå»ºè®®ä½¿ç”¨ä¸€ä¸ªç¨³å®šçš„è½¯ä»¶ç‰ˆæœ¬ï¼Œè¦ä¸ç„¶ä¼šç»å¸¸å´©æºƒ</p>
<p>è¿™ä¸ªocæ˜¯ä¸ªæ’ä»¶ï¼Œæˆ‘ä»¬ä»¥åå®‰è£…æ’ä»¶å·®ä¸å¤šéƒ½æ˜¯è¿™ä¸ªæµç¨‹</p>
<p>æ‰¾åˆ°æˆ‘ä»¬çš„å®‰è£…ç›®å½•ï¼Œå¦‚æœé‡Œé¢æ²¡æœ‰pluginså°±æ–°å»ºä¸€ä¸ª</p>
<p>å°†æˆ‘ä»¬è§£å‹å¥½çš„ocæ–‡ä»¶å¤¹å¤åˆ¶åˆ°æˆ‘ä»¬çš„pluginsé‡Œé¢</p>
<p><img src="/2022/12/06/c4d%E5%8F%8A%E5%85%B6oc%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE/image-20221206153420489.png"></p>
<p><img src="/2022/12/06/c4d%E5%8F%8A%E5%85%B6oc%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE/image-20221206153443318.png"></p>
<p>ocçš„æ–‡ä»¶å¤¹é‡Œé¢æœ‰é€‚é…çš„c4dç‰ˆæœ¬</p>
<p><img src="/2022/12/06/c4d%E5%8F%8A%E5%85%B6oc%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE/image-20221206153650012.png"></p>
<p>é‡æ–°æ‰“å¼€æˆ‘ä»¬çš„c4dè½¯ä»¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹è§ocäº†</p>
<p><img src="/2022/12/06/c4d%E5%8F%8A%E5%85%B6oc%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE/image-20221206153951543.png"></p>
<h3 id="å››ã€ocæ¸²æŸ“å™¨çš„è®¢é˜…æµç¨‹"><a href="#å››ã€ocæ¸²æŸ“å™¨çš„è®¢é˜…æµç¨‹" class="headerlink" title="å››ã€ocæ¸²æŸ“å™¨çš„è®¢é˜…æµç¨‹"></a>å››ã€ocæ¸²æŸ“å™¨çš„è®¢é˜…æµç¨‹</h3><p>ç™»é™†è¿›æˆ‘ä»¬çš„å®˜ç½‘ï¼Œç‚¹å‡»å¯¼èˆªæ çš„shopï¼Œæˆ‘ä»¬å°±çœ‹åˆ°äº†è´­ä¹°ç•Œé¢ï¼Œæœ‰æŒ‰å¹´æ¥ç®—çš„ï¼Œå’ŒæŒ‰æœˆæ¥ç®—ï¼Œå¦‚æœä½ æ˜¯è¦é•¿æœŸä½¿ç”¨oc</p>
<p>é‚£ä¹ˆå¹´åº¦è®¢é˜…é‚£è‚¯å®šæ˜¯ä¾¿å®œçš„ï¼ˆä¸€ä¸ªæœˆç°åœ¨æ¶¨ä»·äº†ï¼Œä»¥å‰æ˜¯150å¤šï¼Œç°åœ¨170å¤šï¼‰å¯ä»¥ä½¿ç”¨æ”¯ä»˜å®æ”¯ä»˜</p>
<p><img src="/2022/12/06/c4d%E5%8F%8A%E5%85%B6oc%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE/image-20221206154143787.png"></p>
<p>ç„¶åè´­ä¹°å®Œæˆï¼Œæˆ‘ä»¬è¿”å›æˆ‘ä»¬çš„è½¯ä»¶ç•Œé¢ï¼Œç™»é™†è´¦å·ï¼Œå°±å¯ä»¥ä½¿ç”¨ocäº†</p>
<p>æœ‰æ¡ä»¶çš„å†é…ä¸ªå±å¹•å§ï¼Œè¿™ä¸ªå¤ªå°äº†</p>
<p><img src="/2022/12/06/c4d%E5%8F%8A%E5%85%B6oc%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE/image-20221206155104428.png"></p>
<h3 id="äº”ã€ocæ¸²æŸ“å™¨çš„åˆå§‹åŒ–è®¾ç½®"><a href="#äº”ã€ocæ¸²æŸ“å™¨çš„åˆå§‹åŒ–è®¾ç½®" class="headerlink" title="äº”ã€ocæ¸²æŸ“å™¨çš„åˆå§‹åŒ–è®¾ç½®"></a>äº”ã€ocæ¸²æŸ“å™¨çš„åˆå§‹åŒ–è®¾ç½®</h3><p>å®æ—¶æ¸²æŸ“çš„è®¾ç½®å°±è¿™äº›ï¼Œå…¶ä»–çš„å¯ä»¥çœ‹<a href="https://www.bilibili.com/video/BV1944y1Q7zY/?spm_id_from=333.999.0.0&amp;vd_source=e6ad490de8a011714c955dbf8a265e32">è¿™é‡Œ</a></p>
<p>ç›®å‰æ–°ç‰ˆçš„macä¸‹çš„ocæ²¡æœ‰æ±‰åŒ–è¡¥ä¸ï¼Œæ‰€ä»¥çœ‹èµ·æ¥ä¼šä¸ä¹ æƒ¯ä¸€äº›</p>
<p><img src="/2022/12/06/c4d%E5%8F%8A%E5%85%B6oc%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE/image-20221206160326384.png"></p>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><p>[æ–°ç‰ˆocè®¾ç½®]: 	â€œ<a href="https://www.bilibili.com/video/BV1944y1Q7zY/?spm_id_from=333.999.0.0&amp;vd_source=e6ad490de8a011714c955dbf8a265e32&quot;">https://www.bilibili.com/video/BV1944y1Q7zY/?spm_id_from=333.999.0.0&amp;vd_source=e6ad490de8a011714c955dbf8a265e32&quot;</a><br>[ocå®˜ç½‘]: 	â€œ<a href="https://home.otoy.com/render/octane-render/&quot;">https://home.otoy.com/render/octane-render/&quot;</a></p>
]]></content>
      <categories>
        <category>Web3D</category>
        <category>C4d</category>
        <category>c4dåŠå…¶ocçš„å®‰è£…å’Œåˆå§‹åŒ–è®¾ç½®</category>
      </categories>
      <tags>
        <tag>c4d</tag>
        <tag>oc</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue3apiå˜åŒ–</title>
    <url>/2022/12/16/Vue3api%E5%8F%98%E5%8C%96/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Vue3"><a href="#Vue3" class="headerlink" title="Vue3"></a>Vue3</h1><blockquote>
<p>å®˜ç½‘åœ°å€ï¼š<a href="https://cn.vuejs.org/">https://cn.vuejs.org/</a><br>vueæœ€æ–°ç‰ˆåˆ†ä¸ºä¸¤ä¸ªç‰ˆæœ¬ï¼š Vue3.0ï¼ˆ20å¹´9æœˆ18æ—¥ï¼‰ Vue 3.2 ï¼ˆ21å¹´8æœˆ10æ—¥ï¼‰</p>
</blockquote>
<h3 id="Vue-3-2-Vite-volar"><a href="#Vue-3-2-Vite-volar" class="headerlink" title="Vue 3.2 +Vite+volar"></a><strong>Vue 3.2 +Vite+volar</strong></h3><ul>
<li>Vue3 æ¡†æ¶åšäº†å¤§é‡çš„æ€§èƒ½ä¼˜åŒ–ï¼ŒåŒ…æ‹¬è™šæ‹Ÿ DOMï¼Œç¼–è¯‘æ¨¡æ¿ã€ä»£ç†çš„æ–°æ•°æ®ç›‘å¬ï¼Œä½“ç§¯æ›´å°çš„æ‰“åŒ…æ–‡ä»¶ç­‰ã€‚</li>
<li>æ–°çš„ç»„åˆå¼ API ï¼ˆcomposition-apiï¼‰ï¼Œæ›´é€‚åˆå¤§å‹é¡¹ç›®çš„æ„å»ºï¼Œå»é™¤ç¹ççš„ this æ“ä½œï¼›</li>
<li>ç”±äºæ˜¯åŸºäº TypeScript ç¼–å†™ï¼Œå¯¹ TypeScript åŸç”Ÿæ”¯æŒæ›´å¥½ï¼Œæ›´å¼ºå¤§çš„æ™ºèƒ½ç±»å‹æ¨å¯¼åŠŸèƒ½ï¼›</li>
<li>ç”Ÿå‘½å‘¨æœŸçš„ä¸€äº›æ”¹å˜ï¼Œvue2 ä¸­çš„ beforeCreate å’Œ created è¢«ä¸€ä¸ªæ–°å¢çš„ setup ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä»£æ›¿ï¼›</li>
<li>ä¸€äº›å¸¸è§ API å¦‚ v-model çš„å˜åŒ–ï¼Œæ”¯æŒå¯¹ä¸€ä¸ªç»„ä»¶åŒæ—¶è¿›è¡Œå¤šä¸ª v-model çš„æ•°æ®ç»‘å®šã€‚</li>
</ul>
<p>vscode çš„æ’ä»¶ vetur å¯¹vue3 çš„composition APIè¯­æ³•æ”¯æŒåº¦éå¸¸å¼±ï¼Œæ‰€ä»¥å¼€å‘vue3é¡¹ç›®éœ€è¦å°†veturç¦ç”¨ æ›´æ¢å¦ä¸€ä¸ªæ’ä»¶</p>
<p>å¼€å‘vue3å®‰è£…å¹¶ä½¿ç”¨ï¼š volar æ’ä»¶</p>
<h3 id="1-é¡¹ç›®åˆ›å»º"><a href="#1-é¡¹ç›®åˆ›å»º" class="headerlink" title="1.é¡¹ç›®åˆ›å»º"></a>1.é¡¹ç›®åˆ›å»º</h3><p>Vite å®˜ç½‘ï¼š<a href="https://cn.vitejs.dev/">https://cn.vitejs.dev/</a></p>
<pre><code class="json">yarn create vite my-vue-app --template vue     
</code></pre>
<h3 id="2-SFC-å•æ–‡ä»¶ç»„ä»¶"><a href="#2-SFC-å•æ–‡ä»¶ç»„ä»¶" class="headerlink" title="2.SFC å•æ–‡ä»¶ç»„ä»¶"></a>2.SFC å•æ–‡ä»¶ç»„ä»¶</h3><blockquote>
<p>html éƒ¨åˆ†å˜åŒ–ä¸å¤§<br>vue2çš„ template ä¸­åªèƒ½æœ‰ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œvue3çš„ template ä¸­å¯ä»¥å†™å¤šä¸ªå­èŠ‚ç‚¹<br>js éƒ¨åˆ†å†…ç½®tsï¼Œä½†æ˜¯viteåˆ›å»ºçš„é¡¹ç›®æ²¡æœ‰å¼€å¯ ï¼Œ <code>&lt;script lang=&quot;ts&quot; setup&gt;</code> è¿™æ ·å†™å³å¯æ”¯æŒts<br>æ–°å¢setup è¯­æ³•ç³–ï¼Œjsä»£ç å¤§é‡ç®€åŒ–<br>ä»£ç ä¸­ä¸å†å‡ºç° <code>this</code><br>css ä»£ç ä¸­ å¯ä»¥ä½¿ç”¨v-bind æŒ‡ä»¤</p>
</blockquote>
<pre><code class="html">&lt;template&gt;
    &lt;div&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
       let color = &#39;#f60&#39;;
&lt;/script&gt;

&lt;style scoped&gt;
.box&#123;
  width: 100px;
  height: 100px;
  background: v-bind(color);
&#125;
&lt;/style&gt;
</code></pre>
<h3 id="2-setupè¯­æ³•ç³–"><a href="#2-setupè¯­æ³•ç³–" class="headerlink" title="2. setupè¯­æ³•ç³–"></a>2. setupè¯­æ³•ç³–</h3><p>èµ·åˆ Vue3.0 æš´éœ²å˜é‡å¿…é¡» return å‡ºæ¥ï¼Œtemplateä¸­æ‰èƒ½ä½¿ç”¨ï¼› è¿™æ ·ä¼šå¯¼è‡´åœ¨é¡µé¢ä¸Šå˜é‡ä¼šå‡ºç°å¾ˆå¤šæ¬¡ã€‚</p>
<p>vue3.2åªéœ€åœ¨scriptæ ‡ç­¾ä¸­æ·»åŠ setup,å¯ä»¥å¸®åŠ©æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>1.ç»„ä»¶åªéœ€å¼•å…¥ä¸ç”¨æ³¨å†Œï¼Œå±æ€§å’Œæ–¹æ³•ä¹Ÿä¸ç”¨è¿”å›ï¼Œ ä¹Ÿä¸ç”¨å†™setupå‡½æ•°ï¼Œä¹Ÿä¸ç”¨å†™export default ï¼Œ ç”šè‡³æ˜¯è‡ªå®šä¹‰æŒ‡ä»¤ä¹Ÿå¯ä»¥åœ¨æˆ‘ä»¬çš„templateä¸­è‡ªåŠ¨è·å¾—ã€‚</p>
<h2 id="3-data-å®šä¹‰"><a href="#3-data-å®šä¹‰" class="headerlink" title="3.data å®šä¹‰"></a>3.data å®šä¹‰</h2><h3 id="3-1-ç›´æ¥å®šä¹‰-æ— å“åº”å¼"><a href="#3-1-ç›´æ¥å®šä¹‰-æ— å“åº”å¼" class="headerlink" title="3.1 ç›´æ¥å®šä¹‰ æ— å“åº”å¼"></a>3.1 ç›´æ¥å®šä¹‰ æ— å“åº”å¼</h3><pre><code class="html">&lt;template&gt;
  &lt;div&gt;
      &lt;h1&gt;&#123;&#123;name&#125;&#125;&lt;/h1&gt;
      &lt;!-- è¿™é‡ŒåŒå‘ç»‘å®šå¤±æ•ˆï¼Œç›´æ¥å®šä¹‰å˜é‡æ²¡æœ‰å“åº”å¼ç‰¹æ€§ --&gt;
      &lt;input type=&quot;text&quot; v-model=&quot;name&quot;&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
  let name = &#39;å¼ éº»å­&#39;;

&lt;/script&gt;
</code></pre>
<h3 id="3-2-ref-å®šä¹‰åŸºæœ¬æ•°æ®ç±»å‹-æœ‰å“åº”å¼"><a href="#3-2-ref-å®šä¹‰åŸºæœ¬æ•°æ®ç±»å‹-æœ‰å“åº”å¼" class="headerlink" title="3.2 ref å®šä¹‰åŸºæœ¬æ•°æ®ç±»å‹ æœ‰å“åº”å¼"></a>3.2 ref å®šä¹‰åŸºæœ¬æ•°æ®ç±»å‹ æœ‰å“åº”å¼</h3><pre><code class="html">&lt;template&gt;
  &lt;div&gt;
      &lt;h1&gt;&#123;&#123;name&#125;&#125;&lt;/h1&gt;
       &lt;!-- ä¿®æ”¹æ•°æ® æœ‰å“åº”å¼ --&gt;
      &lt;input type=&quot;text&quot; v-model=&quot;name&quot;&gt;
      &lt;button @click=&quot;setData&quot;&gt;ä¿®æ”¹æ•°æ®&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
 import &#123;ref&#125; from &#39;vue&#39;;   
    
 let name = ref(&#39;å¼ éº»å­&#39;);
   //jsä¸­ä¿®æ”¹æ•°æ®æœ‰å“åº”å¼
 const setData = ()=&gt;&#123;
     name.value = &#39;é»„å››éƒ&#39;
 &#125;
     
&lt;/script&gt;
</code></pre>
<h3 id="3-3-reactvie-å®šä¹‰å¼•ç”¨æ•°æ®ç±»å‹-æœ‰å“åº”å¼"><a href="#3-3-reactvie-å®šä¹‰å¼•ç”¨æ•°æ®ç±»å‹-æœ‰å“åº”å¼" class="headerlink" title="3.3 reactvie å®šä¹‰å¼•ç”¨æ•°æ®ç±»å‹ æœ‰å“åº”å¼"></a>3.3 reactvie å®šä¹‰å¼•ç”¨æ•°æ®ç±»å‹ æœ‰å“åº”å¼</h3><pre><code class="javascript">&lt;template&gt;
  &lt;div&gt;
      &lt;h2&gt;&#123;&#123;user.name&#125;&#125;&lt;/h2&gt;
      &lt;!-- ä¿®æ”¹æ•°æ® æœ‰å“åº”å¼ --&gt;
      &lt;input type=&quot;text&quot; v-model=&quot;user.name&quot;&gt;
      &lt;!-- æ–°å¢å±æ€§ --&gt;
      &lt;button @click=&quot;addItem&quot;&gt;æ–°å¢å±æ€§&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import &#123;ref,reactive&#125; from &#39;vue&#39;
let user = reactive(&#123;
  name:&#39;å¼ éº»å­&#39;,
  age:40
&#125;)
// jsä¸­æ–°å¢å¯¹è±¡å±æ€§-å¯ä»¥ç›´æ¥èµ‹å€¼å’Œä¿®æ”¹ï¼ˆæœ‰å“åº”å¼ï¼‰ï¼Œåœ¨tsç¯å¢ƒä¸‹ï¼Œvscodeä¼šæç¤ºé”™è¯¯ï¼Œä½†åœ¨é¡µé¢ä¸­å¯ä»¥æ­£å¸¸æ¸²æŸ“
const addItem = ()=&gt;&#123;
  user.like=&#39;æ‰“è±†è±†&#39;
&#125;

&lt;/script&gt;
</code></pre>
<h2 id="4-methods-æ–¹æ³•å®šä¹‰"><a href="#4-methods-æ–¹æ³•å®šä¹‰" class="headerlink" title="4.methods æ–¹æ³•å®šä¹‰"></a>4.methods æ–¹æ³•å®šä¹‰</h2><pre><code class="javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;!-- å¹´é¾„ + --&gt;
    &lt;h1&gt;&#123;&#123;user.age&#125;&#125;&lt;/h1&gt;
    &lt;!-- è°ƒç”¨æ–¹æ³• --&gt;
    &lt;button @click=&quot;addAge&quot;&gt;å¹´é¾„+&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import &#123; ref, reactive &#125; from &quot;vue&quot;;

let user = reactive(&#123;
  name: &quot;å¼ éº»å­&quot;,
  age: 40,
&#125;);
//æ–¹æ³•
const addAge=()=&gt;&#123;
    user.age++;
&#125;
//æ–¹æ³•è°ƒç”¨æ–¹æ³•
const getUserInfo=()=&gt;&#123;
  addAge()
  console.log(user.age)
&#125;
&lt;/script&gt;
</code></pre>
<h2 id="5-computed-è®¡ç®—å±æ€§"><a href="#5-computed-è®¡ç®—å±æ€§" class="headerlink" title="5.computed è®¡ç®—å±æ€§"></a>5.computed è®¡ç®—å±æ€§</h2><pre><code class="java">&lt;script setup&gt;
import &#123; ref, reactive, computed &#125; from &quot;vue&quot;;

let user = reactive(&#123;
  name: &quot;å¼ éº»å­&quot;,
  age: 40,
&#125;);
//è®¡ç®—å±æ€§
const getAge = computed(()=&gt;&#123;
  return &#39;æˆ‘çš„å¹´é¾„&#39;+user.age
&#125;)
&lt;/script&gt;
</code></pre>
<h2 id="6-watch-ä½¿ç”¨"><a href="#6-watch-ä½¿ç”¨" class="headerlink" title="6.watch ä½¿ç”¨"></a>6.watch ä½¿ç”¨</h2><pre><code class="json">watch(ç›‘å¬æ•°æ®æº,æ‰§è¡Œå‡½æ•°,[é…ç½®å‚æ•°])    
//é…ç½®å‚æ•°ï¼š ç«‹å³æ‰§è¡Œ æ·±åº¦ç›‘å¬
&#123;immediate: true, deep: true &#125;
</code></pre>
<h3 id="6-1-ç›‘å¬åŸºæœ¬æ•°æ®ç±»å‹å•ä¸€æ•°æ®æº"><a href="#6-1-ç›‘å¬åŸºæœ¬æ•°æ®ç±»å‹å•ä¸€æ•°æ®æº" class="headerlink" title="6.1 ç›‘å¬åŸºæœ¬æ•°æ®ç±»å‹å•ä¸€æ•°æ®æº"></a>6.1 ç›‘å¬åŸºæœ¬æ•°æ®ç±»å‹å•ä¸€æ•°æ®æº</h3><pre><code class="javascript">&lt;script setup&gt;
import &#123;ref, watch&#125; from &#39;vue&#39;
 let name = ref(&#39;å¼ éº»å­&#39;)

 //ç›‘å¬å™¨
watch(name,(newVal,oldVal)=&gt;&#123;
    console.log(&#39;å˜é‡å‘ç”Ÿäº†æ”¹å˜...&#39;,newVal);
&#125;)
&lt;/script&gt;
</code></pre>
<h3 id="6-2-ç›‘å¬å¼•ç”¨æ•°æ®ç±»å‹å•ä¸€æ•°æ®æº"><a href="#6-2-ç›‘å¬å¼•ç”¨æ•°æ®ç±»å‹å•ä¸€æ•°æ®æº" class="headerlink" title="6.2 ç›‘å¬å¼•ç”¨æ•°æ®ç±»å‹å•ä¸€æ•°æ®æº"></a>6.2 ç›‘å¬å¼•ç”¨æ•°æ®ç±»å‹å•ä¸€æ•°æ®æº</h3><pre><code class="java">&lt;script setup&gt;
import &#123;reactive, ref, watch&#125; from &#39;vue&#39;
let user = reactive(&#123;name:&#39;å¼ ä¸‰&#39;,age:14&#125;)
 //ç›‘å¬å™¨
watch(()=&gt;user.name,(newVal,oldVal)=&gt;&#123;
  console.log(&#39;å¯¹è±¡userä¸­çš„nameå±æ€§å‘ç”Ÿäº†å˜åŒ–..&#39;,newVal);
&#125;)
&lt;/script&gt;
</code></pre>
<h3 id="6-3-ç›‘å¬å¼•ç”¨æ•°æ®ç±»å‹-å¤šæ•°æ®æº-æ·±åº¦ç›‘å¬"><a href="#6-3-ç›‘å¬å¼•ç”¨æ•°æ®ç±»å‹-å¤šæ•°æ®æº-æ·±åº¦ç›‘å¬" class="headerlink" title="6.3 ç›‘å¬å¼•ç”¨æ•°æ®ç±»å‹ å¤šæ•°æ®æº[æ·±åº¦ç›‘å¬]"></a>6.3 ç›‘å¬å¼•ç”¨æ•°æ®ç±»å‹ å¤šæ•°æ®æº[æ·±åº¦ç›‘å¬]</h3><pre><code class="java">&lt;template&gt;
  &lt;div&gt;
    &lt;button @click=&quot;addNum()&quot;&gt; æ·»åŠ éšæœºæ•°&lt;/button&gt;
    &lt;div v-for=&quot;item in nums&quot; :key=&quot;item&quot;&gt;&#123;&#123; item &#125;&#125;&lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import &#123; reactive, ref, watch &#125; from &#39;vue&#39;
let nums = reactive([]);

//æ·»åŠ éšæœºæ•°
const addNum = () =&gt; &#123;
  let num = Math.ceil(Math.random() * 100);
  nums.push(num);
&#125;
//ç›‘å¬æ•°ç»„å˜åŒ–-æ·±åº¦ç›‘å¬
watch(()=&gt;nums,(newVal,oldVal)=&gt;&#123;
    console.log(&#39;numsæ•°ç»„å‘ç”Ÿäº†å˜åŒ–..&#39;,newVal);
&#125;,&#123;deep:true&#125;)

&lt;/script&gt;
</code></pre>
<h2 id="7-ç”Ÿå‘½å‘¨æœŸ"><a href="#7-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="7.ç”Ÿå‘½å‘¨æœŸ"></a>7.ç”Ÿå‘½å‘¨æœŸ</h2><table>
<thead>
<tr>
<th>vue2</th>
<th>vue3.0</th>
<th>vue3.2</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td>beforeCreate</td>
<td></td>
<td>setup</td>
<td>ç»„ä»¶åˆ›å»ºä¹‹å‰ å¯ä»¥è·å–é¡¶çº§å®ä¾‹å¯¹è±¡</td>
</tr>
<tr>
<td>created</td>
<td></td>
<td>setup</td>
<td>ç»„ä»¶åˆ›å»ºå®Œæˆï¼Œå¯ä»¥è·å–å˜é‡</td>
</tr>
<tr>
<td>beforeMount</td>
<td></td>
<td>onBeforeMount</td>
<td>æŒ‚è½½å‰ï¼ŒVNdomåˆ›å»ºå®Œæˆï¼ŒçœŸå®domæœªæ¸²æŸ“</td>
</tr>
<tr>
<td>mounted</td>
<td></td>
<td>onMounted</td>
<td>æŒ‚è½½å®Œæˆï¼ŒçœŸå®domåˆ›å»ºå®Œæˆï¼Œå¯ä»¥è·å–dom</td>
</tr>
<tr>
<td>beforeUpdate</td>
<td></td>
<td>onBeforeUpdate</td>
<td>domæ›´æ–°å‰è§¦å‘</td>
</tr>
<tr>
<td>updated</td>
<td></td>
<td>onUpdated</td>
<td>domæ›´æ–°å®Œæˆè§¦å‘</td>
</tr>
<tr>
<td>beforedestroyï¼Œdestroyed</td>
<td>beforeUnmount</td>
<td>onBeforeUnmount</td>
<td>ç»„ä»¶å¸è½½åè§¦å‘ æ‰€æœ‰çš„æŒ‚è½½çš„æ•°æ® å­ç»„ä»¶å…¨éƒ¨å¸è½½åè§¦å‘</td>
</tr>
<tr>
<td></td>
<td>errorCaptured</td>
<td>onErrorCaptured</td>
<td>åœ¨æ•è·ä¸€ä¸ªæ¥è‡ªåä»£ç»„ä»¶çš„é”™è¯¯æ—¶è¢«è°ƒç”¨</td>
</tr>
<tr>
<td></td>
<td>renderTracked</td>
<td>onRenderTracked</td>
<td>è·Ÿè¸ªè™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“æ—¶è°ƒç”¨</td>
</tr>
<tr>
<td></td>
<td>renderTriggered</td>
<td>onRenderTriggered</td>
<td>å½“è™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“è¢«è§¦å‘æ—¶è°ƒç”¨</td>
</tr>
<tr>
<td>activated</td>
<td>activated</td>
<td>onActivated</td>
<td>ç¼“å­˜ç»„ä»¶æ¿€æ´»æ—¶è°ƒç”¨</td>
</tr>
<tr>
<td>deactivated</td>
<td>deactivated</td>
<td>onDeactivated</td>
<td>ç¼“å­˜ç»„ä»¶å¤±æ´»æ—¶è°ƒç”¨</td>
</tr>
</tbody></table>
<pre><code class="java">&lt;template&gt;
  &lt;div&gt;
      &lt;div class=&quot;box&quot;&gt;&lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script setup&gt;
import &#123; onMounted &#125; from &#39;vue&#39;;
  //ç”Ÿå‘½å‘¨æœŸé’©å­ç›‘å¬
  onMounted(()=&gt;&#123;
    console.log(document.querySelector(&#39;.box&#39;)); //å¯ä»¥è·å–dom
  &#125;)
&lt;/script&gt;
</code></pre>
<h2 id="8-ç»„ä»¶ä½¿ç”¨"><a href="#8-ç»„ä»¶ä½¿ç”¨" class="headerlink" title="8.ç»„ä»¶ä½¿ç”¨"></a>8.ç»„ä»¶ä½¿ç”¨</h2><ul>
<li>åˆ›å»º src&#x2F;components&#x2F;Son.vue</li>
<li>App.vueä¸­å¯¼å…¥å¹¶ä½¿ç”¨è¯¥ç»„ä»¶</li>
</ul>
<p>vue3.2 ä¸­å½“æˆ‘ä»¬å¯¼å…¥å­ç»„ä»¶æ—¶ï¼Œsetupè¯­æ³•ç³–ä¼šè‡ªåŠ¨å»æ³¨å†Œè¯¥ç»„ä»¶ï¼Œæ‰€ä»¥æ³¨å†Œè¯­å¥ä¸ç”¨å†™äº†ã€‚</p>
<pre><code class="java">&lt;template&gt;
  &lt;div&gt;
    &lt;son&gt;&lt;/son&gt;
  &lt;/div&gt;
&lt;script setup&gt;
import Son from &#39;./components/Son.vue&#39;
&lt;/script&gt;
</code></pre>
<h2 id="9-ç»„ä»¶é€šä¿¡"><a href="#9-ç»„ä»¶é€šä¿¡" class="headerlink" title="9.ç»„ä»¶é€šä¿¡"></a>9.ç»„ä»¶é€šä¿¡</h2><h3 id="9-1-çˆ¶ä¼ å­-defineProps"><a href="#9-1-çˆ¶ä¼ å­-defineProps" class="headerlink" title="9.1 çˆ¶ä¼ å­ defineProps"></a>9.1 çˆ¶ä¼ å­ defineProps</h3><ul>
<li>çˆ¶ç»„ä»¶</li>
</ul>
<pre><code class="java">&lt;template&gt;
  &lt;div&gt;
      &lt;Son class=&quot;box&quot; title=&quot;æˆ‘æ˜¯çˆ¶ç»„ä»¶ä¼ é€’çš„æ ‡é¢˜&quot; :likes=&quot;likes&quot;&gt;&lt;/Son&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
  import Son from &#39;./components/Son.vue&#39;
  let likes = [&#39;å¼ ä¸‰&#39;,&#39;æå››&#39;]
&lt;/script&gt;
</code></pre>
<ul>
<li>å­ç»„ä»¶</li>
</ul>
<pre><code class="java">&lt;script setup&gt;
const props=defineProps(&#123;
    title:&#123;
        type:String,
        default:&#39;&#39;
    &#125;,
    likes:&#123;
        type:Array,
        default:()=&gt;[]
    &#125;
&#125;)
&lt;/script&gt;
</code></pre>
<h3 id="9-2-å­ä¼ çˆ¶-defineEmits"><a href="#9-2-å­ä¼ çˆ¶-defineEmits" class="headerlink" title="9.2 å­ä¼ çˆ¶ defineEmits"></a>9.2 å­ä¼ çˆ¶ defineEmits</h3><ul>
<li>å­ç»„ä»¶</li>
</ul>
<pre><code class="java">&lt;template&gt;
    &lt;div&gt;
        &lt;button @click=&quot;sendData&quot;&gt;ä¼ é€’æ•°æ®&lt;/button&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
//å®šä¹‰è‡ªå®šä¹‰äº‹ä»¶
const emit = defineEmits([&#39;send&#39;])
//è‡ªå·±çš„äº‹ä»¶æ‰§è¡Œå‡½æ•°
const sendData = () =&gt; &#123;
    //æ‰§è¡Œè‡ªå®šä¹‰äº‹ä»¶
    emit(&#39;send&#39;, &#39;æˆ‘æ˜¯å„¿å­ç»„ä»¶ä¼ é€’çš„æ•°æ®&#39;)
&#125;
&lt;/script&gt;
</code></pre>
<ul>
<li>çˆ¶ç»„ä»¶</li>
</ul>
<pre><code class="java">&lt;template&gt;
  &lt;div&gt;
      &lt;Son class=&quot;box&quot;  @send=&quot;getData&quot; &gt;&lt;/Son&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
  import Son from &#39;./components/Son.vue&#39;
  //è§¦å‘è‡ªå®šä¹‰äº‹ä»¶-æ¥æ”¶æ•°æ®
  const getData = (data)=&gt;&#123;
    console.log(data);
  &#125;
&lt;/script&gt;
</code></pre>
]]></content>
      <categories>
        <category>Vue3</category>
        <category>Vue3apiå˜åŒ–</category>
      </categories>
      <tags>
        <tag>vue3</tag>
      </tags>
  </entry>
  <entry>
    <title>chatGPTæ˜¯ä»€ä¹ˆ</title>
    <url>/2022/12/14/chatGPT%E6%98%AF%E4%BB%80%E4%B9%88/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="chatGPTæ˜¯ä»€ä¹ˆ"><a href="#chatGPTæ˜¯ä»€ä¹ˆ" class="headerlink" title="chatGPTæ˜¯ä»€ä¹ˆ"></a>chatGPTæ˜¯ä»€ä¹ˆ</h1><blockquote>
<p>æˆ‘ä»¬éƒ½çŸ¥é“ç›®å‰ç«å‡ºåœˆçš„AIç»˜ç”»å’ŒchatGPT</p>
<p>é‚£ä¹ˆå®ƒä»¬æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
</blockquote>
<h3 id="ä¸€ã€chatGPTæ˜¯ä»€ä¹ˆ"><a href="#ä¸€ã€chatGPTæ˜¯ä»€ä¹ˆ" class="headerlink" title="ä¸€ã€chatGPTæ˜¯ä»€ä¹ˆ"></a>ä¸€ã€chatGPTæ˜¯ä»€ä¹ˆ</h3><p><strong>ChatGPT</strong>æ˜¯ç”±<a href="https://zh.m.wikipedia.org/wiki/OpenAI">OpenAI</a>å¼€å‘çš„ä¸€ä¸ª<a href="https://zh.m.wikipedia.org/wiki/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD">äººå·¥æ™ºèƒ½</a><a href="https://zh.m.wikipedia.org/wiki/%E8%81%8A%E5%A4%A9%E6%A9%9F%E5%99%A8%E4%BA%BA">èŠå¤©æœºå™¨äºº</a>ç¨‹åºï¼Œäº2022å¹´11æœˆæ¨å‡ºã€‚è¯¥ç¨‹åºä½¿ç”¨åŸºäº<a href="https://zh.m.wikipedia.org/wiki/GPT-3">GPT-3.5</a>æ¶æ„çš„<a href="https://zh.m.wikipedia.org/wiki/%E8%AA%9E%E8%A8%80%E6%A8%A1%E5%9E%8B">å¤§å‹è¯­è¨€æ¨¡å‹</a>å¹¶é€šè¿‡<a href="https://zh.m.wikipedia.org/wiki/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0">å¼ºåŒ–å­¦ä¹ </a>è¿›è¡Œè®­ç»ƒã€‚å®ƒä»¥å¯¹è¯æ–¹å¼è¿›è¡Œäº¤äº’ã€‚åœ¨æ¨å¹¿çš„æœŸé—´ä¸­ï¼Œæ‰€æœ‰äººå¯ä»¥å…è´¹æ³¨å†Œï¼Œå¹¶åœ¨ç™»å…¥ååå…è´¹ä½¿ç”¨ ChatGPT å®ç°ä¸ AI æœºå™¨äººå¯¹è¯</p>
<p>æœ‰ä¸–ç•Œé¦–å¯Œâ€”â€”ç”µåŠ¨æ±½è½¦å·¨å¤´ç‰¹æ–¯æ‹‰æŒé—¨äººé©¬æ–¯å…‹ï¼ˆ Elon Muskï¼‰å…¥è‚¡çš„ç ”å‘å…¬å¸OpenAIè¡¨ç¤ºï¼Œæœ€æ–°æ¨å‡ºçš„èŠå¤©æœºå™¨äººChatGPTåœ¨ä¸åˆ°ä¸€å‘¨æ—¶é—´é‡Œå°±æ‹¥æœ‰ç™¾ä¸‡ç”¨æˆ·ã€‚</p>
<p>ChatGPTæ˜¯OpenAIå‘å¸ƒçš„èŠå¤©æœºå™¨äººæ¨¡å‹ï¼Œå®ƒçš„äº¤äº’ç•Œé¢ç®€æ´ï¼Œåªæœ‰ä¸€ä¸ªè¾“å…¥æ¡†ï¼ŒAIå°†æ ¹æ®è¾“å…¥å†…å®¹è¿›è¡Œå›å¤ï¼Œå¹¶å…è®¸åœ¨ä¸€ä¸ªè¯­å¢ƒä¸‹æŒç»­èŠå¤©ã€‚</p>
<p><img src="/2022/12/14/chatGPT%E6%98%AF%E4%BB%80%E4%B9%88/image-20221214085330016.png"></p>
<h3 id="äºŒã€å¦‚ä½•å¼ºå¤§"><a href="#äºŒã€å¦‚ä½•å¼ºå¤§" class="headerlink" title="äºŒã€å¦‚ä½•å¼ºå¤§"></a>äºŒã€å¦‚ä½•å¼ºå¤§</h3><p>æ®æµ™å•†å’Œå›½ç››è¯åˆ¸ç ”æŠ¥ï¼ŒChatGPTç›¸æ¯”ä»¥å¾€çš„ä¸»è¦æå‡ç‚¹åœ¨äºè®°å¿†èƒ½åŠ›ï¼ŒChatGPTå¯ä»¥å‚¨å­˜å¯¹è¯ä¿¡æ¯ï¼Œå»¶ç»­ä¸Šä¸‹æ–‡ï¼Œä»è€Œå®ç°è¿ç»­å¯¹è¯ï¼Œè¿™åœ¨å¯¹è¯åœºæ™¯ä¸­è‡³å…³é‡è¦ï¼Œæå¤§åœ°æå‡äº†å¯¹è¯äº¤äº’æ¨¡å¼ä¸‹çš„ç”¨æˆ·ä½“éªŒã€‚</p>
<p>å…·ä½“è€Œè¨€ï¼Œæ­¤æ¬¡æ–°åŠ å…¥çš„è®­ç»ƒæ–¹å¼è¢«ç§°ä¸ºâ€œä»äººç±»åé¦ˆä¸­å¼ºåŒ–å­¦ä¹ â€ï¼ˆReinforcementLearning from Human Feedbackï¼ŒRLHFï¼‰ã€‚è¿™ä¸€è®­ç»ƒæ–¹æ³•å¢åŠ äº†äººç±»å¯¹æ¨¡å‹è¾“å‡ºç»“æœçš„æ¼”ç¤ºï¼Œå¹¶ä¸”å¯¹ç»“æœè¿›è¡Œäº†æ’åºã€‚å…·ä½“æ“ä½œä¸Šï¼Œäººå·¥æ™ºèƒ½è®­ç»ƒè€…æ‰®æ¼”å¯¹è¯çš„åŒæ–¹ï¼Œå³ç”¨æˆ·å’Œäººå·¥æ™ºèƒ½åŠ©æ‰‹ï¼Œæä¾›å¯¹è¯æ ·æœ¬ã€‚åœ¨äººç±»æ‰®æ¼”èŠå¤©æœºå™¨äººçš„æ—¶å€™ï¼Œä¼šè®©æ¨¡å‹ç”Ÿæˆä¸€äº›å»ºè®®è¾…åŠ©è®­ç»ƒå¸ˆæ’°å†™å›å¤ï¼Œè®­ç»ƒå¸ˆä¼šå¯¹å›å¤é€‰é¡¹æ‰“åˆ†æ’åï¼Œå°†æ›´å¥½çš„ç»“æœè¾“å›åˆ°æ¨¡å‹ä¸­ï¼Œé€šè¿‡ä»¥ä¸Šå¥–åŠ±ç­–ç•¥å¯¹æ¨¡å‹è¿›è¡Œå¾®è°ƒå¹¶æŒç»­è¿­ä»£ã€‚</p>
<p><strong>æ­¤å¤–ï¼ŒChatGPTçš„èƒŒåç¦»ä¸å¼€å¤§æ¨¡å‹ã€å¤§æ•°æ®ã€å¤§ç®—åŠ›ã€‚</strong></p>
<p>ChatGPTæˆä¸ºAIGCé‡Œç¨‹ç¢‘çš„èƒŒåï¼Œæ˜¯ç®—åŠ›å‘å±•å’Œæ•°å­—æ—¶ä»£å½¢æˆçš„å¤§æ•°æ®æ‰€å…±åŒæ”¯æŒçš„å¤§æ¨¡å‹è®­ç»ƒï¼Œæ‰èƒ½å®ç°ç›®å‰çš„æ•ˆæœã€‚ç”±OpenAIç ”å‘çš„ChatGPTæ˜¯å¾®è°ƒåçš„GPT-3.5ç³»åˆ—æ¨¡å‹ï¼Œæœ‰ç€å¤šè¾¾1750äº¿ä¸ªæ¨¡å‹å‚æ•°ï¼Œå¹¶åœ¨ä»Šå¹´å¹´åˆè®­ç»ƒå®Œæˆã€‚æ¨¡å‹è®­ç»ƒçš„èƒŒåç¦»ä¸å¼€å¤§æ•°æ®çš„æ”¯æŒï¼ŒOpenAIä¸»è¦ä½¿ç”¨çš„å…¬å…±çˆ¬è™«æ•°æ®é›†æœ‰ç€è¶…è¿‡ä¸‡äº¿å•è¯çš„äººç±»è¯­è¨€æ•°æ®é›†ã€‚åœ¨ç®—åŠ›æ–¹é¢ï¼ŒGPT-3.5åœ¨Azure AIè¶…ç®—åŸºç¡€è®¾æ–½ï¼ˆç”±V100GPUç»„æˆçš„é«˜å¸¦å®½é›†ç¾¤ï¼‰ä¸Šè¿›è¡Œè®­ç»ƒï¼Œæ€»ç®—åŠ›æ¶ˆè€—çº¦3640PF-daysï¼ˆå³æ¯ç§’ä¸€åƒä¸‡äº¿æ¬¡è®¡ç®—ï¼Œè¿è¡Œ3640ä¸ªæ•´æ—¥ï¼‰ã€‚</p>
<p><strong>AIGCé‡Œç¨‹ç¢‘çº§åº”ç”¨</strong></p>
<p><a href="https://www.8btc.com/article/6787780">AIGC</a> å°†æ˜¯ Web3 æ—¶ä»£çš„ç”Ÿäº§åŠ›å·¥å…·ã€‚å½“æˆ‘ä»¬è¿ˆå…¥ Web3.0 æ—¶ä»£ï¼Œäººå·¥æ™ºèƒ½ã€å…³è”æ•°æ®å’Œè¯­ä¹‰ç½‘ç»œæ„å»ºï¼Œå½¢æˆäººä¸ç½‘ç»œçš„å…¨æ–°é“¾æ¥ï¼Œå†…å®¹æ¶ˆè´¹éœ€æ±‚é£é€Ÿå¢é•¿ã€‚UGC\PGC è¿™æ ·çš„å†…å®¹ç”Ÿæˆæ–¹å¼å°†éš¾ä»¥åŒ¹é…æ‰©å¼ çš„éœ€æ±‚ã€‚AIGC å°†æ˜¯æ–°çš„å…ƒå®‡å®™å†…å®¹ç”Ÿæˆè§£å†³æ–¹æ¡ˆã€‚AIGC çš„ç”Ÿæˆåˆ©ç”¨äººå·¥æ™ºèƒ½å­¦ä¹ çŸ¥è¯†å›¾è°±ã€è‡ªåŠ¨ç”Ÿæˆï¼Œåœ¨å†…å®¹çš„åˆ›ä½œä¸ºäººç±»æä¾›ååŠ©æˆ–æ˜¯å®Œå…¨ç”± AI äº§ç”Ÿå†…å®¹ã€‚ä¸ä»…èƒ½å¸®åŠ©æé«˜å†…å®¹ç”Ÿæˆçš„æ•ˆç‡ï¼Œè¿˜èƒ½æé«˜å†…å®¹çš„å¤šæ ·æ€§ã€‚éšç€ NLPï¼ˆNatural Language Processingï¼Œè‡ªç„¶è¯­è¨€å¤„ç†ï¼‰æŠ€æœ¯å’Œæ‰©æ•£æ¨¡å‹ï¼ˆDiffusion Modelï¼‰çš„å‘å±•ï¼ŒAI ä¸å†ä»…ä½œä¸ºå†…å®¹åˆ›é€ çš„è¾…åŠ©å·¥å…·ï¼Œåˆ›é€ ç”Ÿæˆå†…å®¹æˆä¸ºäº†å¯èƒ½ã€‚ç”±æ­¤ï¼Œå°†æ¥æ–‡å­—ç”Ÿæˆã€å›¾ç‰‡ç»˜åˆ¶ã€è§†é¢‘å‰ªè¾‘ã€æ¸¸æˆå†…å®¹ç”Ÿæˆçš†å¯ç”± AI æ›¿ä»£ã€‚</p>
<p>å›½ç››è¯åˆ¸è¡¨ç¤ºï¼ŒAIGCä¸ä»…æ”¹å˜åˆ›ä½œï¼Œè¿˜å°†æ”¹å˜è·å–ä¿¡æ¯çš„ä¸»è¦æ–¹å¼ã€‚è€Œåœ¨æ­¤ä¹‹ä¸Šï¼ŒChatGPTæ‰€å±•ç¤ºäº†ä½œä¸ºç”Ÿäº§åŠ›çš„å­˜åœ¨ï¼ŒChatGPTåœ¨å¯»æ‰¾ç­”æ¡ˆã€è§£å†³é—®é¢˜çš„æ•ˆç‡ä¸Šå·²ç»éƒ¨åˆ†çš„è¶…è¶Šäº†å¦‚ä»Šçš„æœç´¢å¼•æ“ï¼ŒChatGPTæˆ–è®¸åœ¨æœªæ¥ä¼šæ”¹å˜æˆ‘ä»¬è·å–ä¿¡æ¯ã€è¾“å‡ºå†…å®¹çš„æ–¹å¼ï¼ŒAIGCæœ‰æœ›æˆä¸ºæ•°å­—ç»æµæ—¶ä»£é©±åŠ¨éœ€æ±‚çˆ†å‘çš„æ€æ‰‹çº§åº”ç”¨ã€‚</p>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><p>[ç»´åŸºç™¾ç§‘]: 	â€œ<a href="https://zh.m.wikipedia.org/zh-hans/ChatGPT">https://zh.m.wikipedia.org/zh-hans/ChatGPT</a> â€œ</p>
]]></content>
      <categories>
        <category>è¶£å‘³æŠ€æœ¯</category>
        <category>chatGPTæ˜¯ä»€ä¹ˆ</category>
      </categories>
      <tags>
        <tag>chatGPT</tag>
      </tags>
  </entry>
  <entry>
    <title>electron-vue3-vite</title>
    <url>/2022/11/28/electron-vue3-vite/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Electron-Vue3-Vite"><a href="#Electron-Vue3-Vite" class="headerlink" title="Electron-Vue3-Vite"></a>Electron-Vue3-Vite</h1><blockquote>
<p>ä»Šå¤©è¿™ä¸€ç¯‡æ–‡ç« ç®—æ˜¯electronçš„ä¸€ä¸ªçŸ­æš‚çš„ç»“å°¾ï¼Œä»¥åæˆ‘ä»¬å†æ›´æ–°electron çš„çŸ¥è¯†ã€‚</p>
<p>ä»Šå¤©çš„å†…å®¹æ˜¯é¡¹ç›®çš„vue3+electroné¡¹ç›®æ­å»ºå’Œæ‰“åŒ…éƒ¨ç½²</p>
</blockquote>
<h3 id="ä¸€ã€Electron-Vue3-Viteæ­å»º"><a href="#ä¸€ã€Electron-Vue3-Viteæ­å»º" class="headerlink" title="ä¸€ã€Electron-Vue3-Viteæ­å»º"></a>ä¸€ã€Electron-Vue3-Viteæ­å»º</h3><h4 id="1-åˆ›å»ºæ¨¡æ¿"><a href="#1-åˆ›å»ºæ¨¡æ¿" class="headerlink" title="1.åˆ›å»ºæ¨¡æ¿"></a>1.åˆ›å»ºæ¨¡æ¿</h4><blockquote>
<p>ï¼ï¼ï¼å…¼å®¹æ€§æ³¨æ„</p>
<p>Vite éœ€è¦ Node.jsç‰ˆæœ¬ 14.18+ï¼Œ16+ã€‚ç„¶è€Œï¼Œæœ‰äº›æ¨¡æ¿éœ€è¦ä¾èµ–æ›´é«˜çš„ Node ç‰ˆæœ¬æ‰èƒ½æ­£å¸¸è¿è¡Œï¼Œå½“ä½ çš„åŒ…ç®¡ç†å™¨å‘å‡ºè­¦å‘Šæ—¶ï¼Œè¯·æ³¨æ„å‡çº§ä½ çš„ Node ç‰ˆæœ¬ã€‚</p>
</blockquote>
<pre><code class="ini">//ä½¿ç”¨npm
npm create vite@latest
//ä½¿ç”¨yarn
yarn create vite
//ä½¿ç”¨pnpm
pnpm create vite
</code></pre>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ï¼š</p>
<pre><code class="ini">npm i //å®‰è£…ä¾èµ–
npm run dev //å¯åŠ¨é¡¹ç›®
</code></pre>
<p><img src="/2022/11/28/electron-vue3-vite/image-20221127082439543.png"></p>
<p><img src="/2022/11/28/electron-vue3-vite/image-20221127082625854.png"></p>
<h4 id="2-å®‰è£…electron"><a href="#2-å®‰è£…electron" class="headerlink" title="2.å®‰è£…electron"></a>2.å®‰è£…electron</h4><pre><code class="ini">npm i electron -D 
</code></pre>
<p>ç›®å‰åšä¸»é‡åˆ°äº†ä¸€ä¸ªå°é—®é¢˜ï¼Œå°±æ˜¯ä¸‹è½½electronä¼šä¸€ç›´å¡ä½ï¼Œè¿™é‡Œä½¿ç”¨å¦‚ä¸‹æ–¹æ³•å°±å¯ä»¥è§£å†³äº†ã€‚</p>
<pre><code class="ini">npm install cnpm -g --registry=https://registry.npm.taobao.org //åˆ‡æ¢å›½å†…é•œåƒæº
cnpm isntall electron --save-dev
</code></pre>
<p><img src="/2022/11/28/electron-vue3-vite/image-20221128081646599.png"></p>
<h4 id="3-åˆ›å»ºå…¥å£æ–‡ä»¶"><a href="#3-åˆ›å»ºå…¥å£æ–‡ä»¶" class="headerlink" title="3.åˆ›å»ºå…¥å£æ–‡ä»¶"></a>3.åˆ›å»ºå…¥å£æ–‡ä»¶</h4><p>æ ¹ç›®å½•ä¸‹åˆ›å»º</p>
<p>Main.jså…¥å£æ–‡ä»¶</p>
<pre><code class="javascript">//main.js
const &#123; app,BrowserWindow &#125; = require(&#39;electron&#39;)
const path = require(&#39;path&#39;)
const WinState = require(&#39;electron-win-state&#39;).default //ä¿å­˜çª—å£çŠ¶æ€çš„åŒ…ï¼ˆçª—å£å¯ä»¥ä¿å­˜ç¼©æ”¾ã€ä½ç½®çŠ¶æ€ï¼‰

const createWindow = () =&gt; &#123;
  const winState = new WinState(&#123; 
    defaultWidth: 1000,
    defaultHeight: 800,
    // other winState options, see below
  &#125;)
    const win = new BrowserWindow(&#123;
      ...winState.winOptions,
      // width: 800,
      // height: 600,
      webPreferences: &#123;
        preload: path.join(__dirname, &#39;preload.js&#39;)
      &#125;
    &#125;)
    win.loadURL(&#39;http://127.0.0.1:5173/&#39;) //åŠ è½½æœ¬åœ°ç«¯å£ï¼Œéƒ¨ç½²çš„æ—¶å€™å¯ä»¥æ¢æˆæˆ‘ä»¬çš„åŸŸå
    win.webContents.openDevTools() //æ‰“å¼€æ§åˆ¶å°è°ƒè¯•
    winState.manage(win)
  &#125;

  app.whenReady().then(() =&gt; &#123;
    createWindow()
    app.on(&#39;activate&#39;, () =&gt; &#123;
      if (BrowserWindow.getAllWindows().length === 0) createWindow()
    &#125;)
  &#125;) 

  app.on(&#39;window-all-closed&#39;, () =&gt; &#123;
    if (process.platform !== &#39;darwin&#39;) app.quit()
  &#125;)
</code></pre>
<p>Preload.jsé¢„åŠ è½½æ–‡ä»¶</p>
<pre><code class="javascript">//ç›®å‰å…ˆä¸å†™å†…å®¹ï¼Œå…ˆæ­ä¸ªæ¶å­
</code></pre>
<p>é…ç½®package.json</p>
<pre><code class="javascript">//package.json
&#123;
  &quot;name&quot;: &quot;vite-project&quot;,
  &quot;private&quot;: true,
  &quot;version&quot;: &quot;0.0.0&quot;,
  &quot;main&quot;: &quot;main.js&quot;,
  &quot;scripts&quot;: &#123;
    &quot;dev&quot;: &quot;vite&quot;,
    &quot;build&quot;: &quot;vite build&quot;,
    &quot;preview&quot;: &quot;vite preview&quot;,
    &quot;start&quot;: &quot;nodemon --exec electron . --watch ./ --ext .js,.html,.vue,.css&quot;,
  &#125;,
  &quot;dependencies&quot;: &#123;
    &quot;electron-win-state&quot;: &quot;^1.1.22&quot;,
    &quot;vue&quot;: &quot;^3.2.41&quot;
  &#125;,
  &quot;devDependencies&quot;: &#123;
    &quot;@vitejs/plugin-vue&quot;: &quot;^3.2.0&quot;,
    &quot;electron&quot;: &quot;^21.3.1&quot;,
    &quot;electron-builder&quot;: &quot;^23.6.0&quot;,
    &quot;nodemon&quot;: &quot;^2.0.20&quot;,
    &quot;vite&quot;: &quot;^3.2.3&quot;
  &#125;
&#125;

</code></pre>
<h4 id="4-å®‰è£…å…¶ä»–ä¾èµ–"><a href="#4-å®‰è£…å…¶ä»–ä¾èµ–" class="headerlink" title="4.å®‰è£…å…¶ä»–ä¾èµ–"></a>4.å®‰è£…å…¶ä»–ä¾èµ–</h4><pre><code class="ini">cnpm install nodemon --save-dev //å®‰è£…nodemon
cnpm install electron-win-state --save-dev //å®‰è£…electron-win-state
</code></pre>
<h4 id="5-è¿è¡Œé¡¹ç›®"><a href="#5-è¿è¡Œé¡¹ç›®" class="headerlink" title="5.è¿è¡Œé¡¹ç›®"></a>5.è¿è¡Œé¡¹ç›®</h4><pre><code class="ini">npm run dev //å¯åŠ¨vueé¡¹ç›®
npm start //å¯åŠ¨electron
</code></pre>
<p><img src="/2022/11/28/electron-vue3-vite/image-20221128085457686.png"></p>
<p>æˆ‘ä»¬ç°åœ¨å°±å¯ä»¥å»å¼€å‘æˆ‘ä»¬çš„é¡¹ç›®äº†</p>
<p><img src="/2022/11/28/electron-vue3-vite/image-20221128085520887.png"></p>
<h3 id="äºŒã€æ‰“åŒ…ä¸éƒ¨ç½²"><a href="#äºŒã€æ‰“åŒ…ä¸éƒ¨ç½²" class="headerlink" title="äºŒã€æ‰“åŒ…ä¸éƒ¨ç½²"></a>äºŒã€æ‰“åŒ…ä¸éƒ¨ç½²</h3><p>å®˜ç½‘æ¨èæˆ‘ä»¬çš„æ˜¯<a href="https://www.electronjs.org/docs/latest/tutorial/forge-overview">Electron Forge</a>æ¥åˆ†å‘æˆ‘ä»¬çš„åº”ç”¨ç¨‹åº</p>
<blockquote>
<p>electron-forge å¯ä»¥è‡ªåŠ¨æ£€æµ‹ä½ çš„ç³»ç»Ÿï¼Œç„¶åæ‰“åŒ…æˆå¯¹åº”çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚<br>å®ƒå¯ä»¥å®ç° package æˆæœ€ç»ˆå¯ç”¨çš„ç‹¬ç«‹é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œ<br>è¿˜å¯ä»¥ make æˆèƒ½å¤Ÿå®‰è£…çš„ zip åŒ…</p>
</blockquote>
<p>ç›®å‰è¿™ä¸ªæ–¹æ³•æœ‰ä¸€äº›é—®é¢˜ï¼Œæˆ‘ä»¬å…ˆç”¨å¦ä¸€ç§æ–¹æ³•æ¥è¿›è¡Œæ‰“åŒ…<a href="https://www.electron.build/">electron-build</a></p>
<p>æ ¹æ®æ–‡æ¡£æˆ‘ä»¬ä¹Ÿå¯ä»¥å¾ˆå¿«çš„æŒæ¡è¿™ç§æ‰“åŒ…æ–¹å¼</p>
<h4 id="1-å®‰è£…ä¾èµ–"><a href="#1-å®‰è£…ä¾èµ–" class="headerlink" title="1.å®‰è£…ä¾èµ–"></a>1.å®‰è£…ä¾èµ–</h4><pre><code class="ini">cnpm i electron-builder -D //å®‰è£…ä¾èµ–
</code></pre>
<p>é…ç½®ä¸€ä¸‹package.json</p>
<pre><code class="javascript">//package.json+
&quot;scripts&quot;: &#123;
  ...
  &quot;app:dir&quot;: &quot;electron-builder --dir&quot;,
  &quot;app:dist&quot;: &quot;electron-builder&quot;
  ...
&#125;
</code></pre>
<h4 id="2-æ‰“åŒ…"><a href="#2-æ‰“åŒ…" class="headerlink" title="2.æ‰“åŒ…"></a>2.æ‰“åŒ…</h4><pre><code class="ini">cnpm run app:dist  //æ‰§è¡Œæ‰“åŒ…
</code></pre>
<p>ç›®å‰æˆ‘é‡åˆ°æ‰“åŒ…é”™è¯¯çš„é—®é¢˜</p>
<p><img src="/2022/11/28/electron-vue3-vite/image-20221128115215328.png"></p>
<p>å¦‚æœæˆ‘ä»¬é‡åˆ°è¿™ç§é—®é¢˜ï¼Œæˆ‘ä»¬åˆ‡æ¢ä¸€ä¸‹npmé•œåƒæºå°±å¯ä»¥äº†ï¼›</p>
<p><img src="/2022/11/28/electron-vue3-vite/image-20221128115258224.png"></p>
<p>ç°åœ¨æˆ‘ä»¬æ‰“åŒ…å°±æˆåŠŸäº†</p>
<h4 id="3-è¿è¡Œå®‰è£…åŒ…"><a href="#3-è¿è¡Œå®‰è£…åŒ…" class="headerlink" title="3.è¿è¡Œå®‰è£…åŒ…"></a>3.è¿è¡Œå®‰è£…åŒ…</h4><p>æ‰¾åˆ°æˆ‘ä»¬é¡¹ç›®ç›®å½•ä¸‹çš„distæ–‡ä»¶çš„.dmgå®‰è£…åŒ…ï¼ˆæˆ‘çš„æ˜¯macï¼‰</p>
<p>åœ¨è¿è¡Œä¹‹å‰ï¼Œæˆ‘ä»¬åº”è¯¥å…ˆå°†é¡¹ç›® è¿è¡Œ èµ·æ¥ï¼ˆå› ä¸ºæˆ‘ä»¬æ˜¯æœ¬åœ°é¡¹ç›®ï¼Œç­‰éƒ¨ç½²åˆ°æœåŠ¡å™¨å°±ä¸ç”¨äº†ï¼‰</p>
<p><img src="/2022/11/28/electron-vue3-vite/image-20221128115702655.png"></p>
<p>ç‚¹å‡»æ‰§è¡Œå®‰è£…åŒ…</p>
<p><img src="/2022/11/28/electron-vue3-vite/image-20221128115730129.png"></p>
<p><img src="/2022/11/28/electron-vue3-vite/image-20221128115827756.png"></p>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬çš„electronçš„æ­å»º-&gt;å¼€å‘-&gt;æ‰“åŒ…å°±ä¸€æ°”å‘µæˆäº†ï¼Œå½“ç„¶ï¼Œå¼€å‘é¡¹ç›®ä¸­è¿˜æœ‰è®¸å¤šå¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜å’ŒçŸ¥è¯†ç‚¹ï¼Œå°±é å„ä½èªæ˜çš„è„‘ç“œäº†ã€‚ã€‚</p>
<p><img src="/2022/11/28/electron-vue3-vite/tl.webp"></p>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><p>[Electronå®˜ç½‘]: 	â€œ<a href="https://www.electronjs.org/docs/latest/tutorial/forge-overview">https://www.electronjs.org/docs/latest/tutorial/forge-overview</a> â€œ<br>[Vite.jså®˜ç½‘]: 	â€œ<a href="https://cn.vitejs.dev/">https://cn.vitejs.dev/</a> â€œ<br>[electron-builder]: 	â€œ<a href="https://github.com/electron-userland/electron-builder">https://github.com/electron-userland/electron-builder</a> â€œ</p>
]]></content>
      <categories>
        <category>Electron</category>
        <category>electron-vue3-vite</category>
      </categories>
      <tags>
        <tag>electron</tag>
      </tags>
  </entry>
  <entry>
    <title>npmå‘½ä»¤è¯¦è§£</title>
    <url>/2022/11/09/npm%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="npmå‘½ä»¤è¯¦è§£"><a href="#npmå‘½ä»¤è¯¦è§£" class="headerlink" title="npmå‘½ä»¤è¯¦è§£"></a>npmå‘½ä»¤è¯¦è§£</h1><h3 id="ä¸€ã€npmé…ç½®å‘½ä»¤"><a href="#ä¸€ã€npmé…ç½®å‘½ä»¤" class="headerlink" title="ä¸€ã€npmé…ç½®å‘½ä»¤"></a>ä¸€ã€npmé…ç½®å‘½ä»¤</h3><pre><code class="css">npm install -g cnpm --registry=https://registry.npm.taobao.org  #é€šè¿‡cnpmä½¿ç”¨æ·˜å®é•œåƒ
npm config set registry https://registry.npm.taobao.org #å°†npmè®¾ç½®ä¸ºæ·˜å®é•œåƒ
npm config set registry https://registry.npmjs.org #åˆ‡æ¢å›é»˜è®¤å…¨å±€é•œåƒ
npm config get registry #æŸ¥çœ‹npmé•œåƒè®¾ç½®
npm config list #æŸ¥çœ‹npmé…ç½®
cnpm config list #æŸ¥çœ‹cnpmé…ç½®
npm -v #æŸ¥çœ‹npmç‰ˆæœ¬
</code></pre>
<p>æ–¹ä¾¿ç»Ÿä¸€å’Œé˜…è¯»ï¼Œæ–‡ä¸­å…¨éƒ¨ä½¿ç”¨ç®€å†™æ–¹å¼ã€‚</p>
<blockquote>
<p>-gï¼š ä¸º â€“global çš„ç¼©å†™ï¼Œè¡¨ç¤ºå®‰è£…åˆ°å…¨å±€ç›®å½•é‡Œ<br>-Sï¼š ä¸º â€“save çš„ç¼©å†™ï¼Œè¡¨ç¤ºå®‰è£…çš„åŒ…å°†å†™å…¥package.jsoné‡Œé¢çš„dependencies<br>-Dï¼š ä¸º â€“save-dev çš„ç¼©å†™ï¼Œè¡¨ç¤ºå°†å®‰è£…çš„åŒ…å°†å†™å…¥packege.jsoné‡Œé¢çš„devDependencies<br> iï¼š ä¸ºinstallçš„ç¼©å†™ï¼Œè¡¨ç¤ºå®‰è£…</p>
</blockquote>
<h3 id="äºŒã€npmå®‰è£…å‘½ä»¤"><a href="#äºŒã€npmå®‰è£…å‘½ä»¤" class="headerlink" title="äºŒã€npmå®‰è£…å‘½ä»¤"></a>äºŒã€npmå®‰è£…å‘½ä»¤</h3><pre><code class="css">npm init  # npm åˆå§‹åŒ–å½“å‰ç›®å½•
npm i  # å®‰è£…æ‰€æœ‰ä¾èµ–
npm i express  # å®‰è£…æ¨¡å—åˆ°é»˜è®¤dependencies
npm i express -g  # ä¼šå®‰è£…åˆ°é…ç½®çš„å…¨å±€ç›®å½•ä¸‹
npm i express -S  # å®‰è£…åŒ…ä¿¡æ¯å°†åŠ å…¥åˆ°dependenciesç”Ÿäº§ä¾èµ–
npm i express -D  # å®‰è£…åŒ…ä¿¡æ¯å°†åŠ å…¥åˆ°devDependencieså¼€å‘ä¾èµ–
npm i jquery@1.8.3  # å®‰è£…jqueryæŒ‡å®šçš„1.8.3ç‰ˆæœ¬
</code></pre>
<h3 id="ä¸‰ã€npmæ›´æ–°å‘½ä»¤"><a href="#ä¸‰ã€npmæ›´æ–°å‘½ä»¤" class="headerlink" title="ä¸‰ã€npmæ›´æ–°å‘½ä»¤"></a>ä¸‰ã€npmæ›´æ–°å‘½ä»¤</h3><pre><code class="css">npm update jquery  # æ›´æ–°æœ€æ–°ç‰ˆæœ¬çš„jquery
npm update jquery@2.1.0  # æ›´æ–°åˆ°æŒ‡å®šç‰ˆæœ¬å·çš„jquery
npm install jquery@latest  # å¯ä»¥ç›´æ¥æ›´æ–°åˆ°æœ€åä¸€ä¸ªæ–°ç‰ˆæœ¬
</code></pre>
<h3 id="å››ã€npmå¸è½½å‘½ä»¤"><a href="#å››ã€npmå¸è½½å‘½ä»¤" class="headerlink" title="å››ã€npmå¸è½½å‘½ä»¤"></a>å››ã€npmå¸è½½å‘½ä»¤</h3><pre><code class="css">npm uninstall express  # å¸è½½æ¨¡å—ï¼Œä½†ä¸å¸è½½æ¨¡å—ç•™åœ¨package.jsonä¸­çš„å¯¹åº”ä¿¡æ¯
npm uninstall express -g  # å¸è½½å…¨å±€æ¨¡å—
npm uninstall express --save  # å¸è½½æ¨¡å—ï¼ŒåŒæ—¶å¸è½½ç•™åœ¨package.jsonä¸­dependenciesä¸‹çš„ä¿¡æ¯
npm uninstall express --save-dev  # å¸è½½æ¨¡å—ï¼ŒåŒæ—¶å¸è½½ç•™åœ¨package.jsonä¸­devDependenciesä¸‹çš„ä¿¡æ¯
</code></pre>
<h3 id="äº”ã€npmæŸ¥çœ‹å‘½ä»¤"><a href="#äº”ã€npmæŸ¥çœ‹å‘½ä»¤" class="headerlink" title="äº”ã€npmæŸ¥çœ‹å‘½ä»¤"></a>äº”ã€npmæŸ¥çœ‹å‘½ä»¤</h3><pre><code class="css">npm root  # æŸ¥çœ‹é¡¹ç›®ä¸­æ¨¡å—æ‰€åœ¨çš„ç›®å½•
npm root -g  # æŸ¥çœ‹å…¨å±€å®‰è£…çš„æ¨¡å—æ‰€åœ¨ç›®å½•
npm list æˆ–è€… npm ls  # æŸ¥çœ‹æœ¬åœ°å·²å®‰è£…æ¨¡å—çš„æ¸…å•åˆ—è¡¨
npm view jquery dependencies  # æŸ¥çœ‹æŸä¸ªåŒ…å¯¹äºå„ç§åŒ…çš„ä¾èµ–å…³ç³»
npm view jquery version  # æŸ¥çœ‹jqueryæœ€æ–°çš„ç‰ˆæœ¬å·
npm view jquery versions  # æŸ¥çœ‹æ‰€æœ‰jqueryå†å²ç‰ˆæœ¬å·ï¼ˆå¾ˆå®ç”¨ï¼‰
npm view jquery  # æŸ¥çœ‹æœ€æ–°çš„jqueryç‰ˆæœ¬çš„ä¿¡æ¯
npm info jquery  # æŸ¥çœ‹jqueryçš„è¯¦ç»†ä¿¡æ¯ï¼Œç­‰åŒäºä¸Šé¢çš„npm view jquery
npm list jquery æˆ– npm ls jquery  # æŸ¥çœ‹æœ¬åœ°å·²å®‰è£…çš„jqueryçš„è¯¦ç»†ä¿¡æ¯
npm view jquery repository.url  # æŸ¥çœ‹jqueryåŒ…çš„æ¥æºåœ°å€
</code></pre>
<h3 id="å…­ã€å…¶ä»–å‘½ä»¤"><a href="#å…­ã€å…¶ä»–å‘½ä»¤" class="headerlink" title="å…­ã€å…¶ä»–å‘½ä»¤"></a>å…­ã€å…¶ä»–å‘½ä»¤</h3><pre><code class="css">npm cache clean  # æ¸…é™¤npmçš„ç¼“å­˜
npm prune  # æ¸…é™¤é¡¹ç›®ä¸­æ²¡æœ‰è¢«ä½¿ç”¨çš„åŒ…
npm outdated  # æ£€æŸ¥æ¨¡å—æ˜¯å¦å·²ç»è¿‡æ—¶
npm repo jquery  # ä¼šæ‰“å¼€é»˜è®¤æµè§ˆå™¨è·³è½¬åˆ°githubä¸­jqueryçš„é¡µé¢
npm docs jquery  # ä¼šæ‰“å¼€é»˜è®¤æµè§ˆå™¨è·³è½¬åˆ°githubä¸­jqueryçš„README.MDæ–‡ä»¶ä¿¡æ¯
npm home jquery  # ä¼šæ‰“å¼€é»˜è®¤æµè§ˆå™¨è·³è½¬åˆ°githubä¸­jqueryçš„ä¸»é¡µ
</code></pre>
<h3 id="ä¸ƒã€package-jsonå­—æ®µ"><a href="#ä¸ƒã€package-jsonå­—æ®µ" class="headerlink" title="ä¸ƒã€package.jsonå­—æ®µ"></a>ä¸ƒã€package.jsonå­—æ®µ</h3><p>[package.jsonå­—æ®µè¯¦è§£]: 	â€œ<a href="https://docs.npmjs.com/cli/v8/configuring-npm/package-json">https://docs.npmjs.com/cli/v8/configuring-npm/package-json</a> â€œ</p>
<h3 id="é“¾æ¥ï¼š"><a href="#é“¾æ¥ï¼š" class="headerlink" title="é“¾æ¥ï¼š"></a>é“¾æ¥ï¼š</h3><p>[npmå®˜ç½‘]: 	â€œ<a href="https://www.npmjs.com/">https://www.npmjs.com/</a> â€œ</p>
]]></content>
      <categories>
        <category>npm&amp;yarn</category>
        <category>npmå¸¸ç”¨å‘½ä»¤</category>
      </categories>
      <tags>
        <tag>npm</tag>
      </tags>
  </entry>
  <entry>
    <title>pinia</title>
    <url>/2022/11/23/pinia/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="pinia"><a href="#pinia" class="headerlink" title="pinia"></a>pinia</h1><h3 id="ä¸€ã€Vuex-ä¸-Pinia-æ ¸å¿ƒæ€æƒ³ä¸ç”¨æ³•"><a href="#ä¸€ã€Vuex-ä¸-Pinia-æ ¸å¿ƒæ€æƒ³ä¸ç”¨æ³•" class="headerlink" title="ä¸€ã€Vuex ä¸ Pinia æ ¸å¿ƒæ€æƒ³ä¸ç”¨æ³•"></a>ä¸€ã€Vuex ä¸ Pinia æ ¸å¿ƒæ€æƒ³ä¸ç”¨æ³•</h3><h4 id="Flux-æ¶æ„"><a href="#Flux-æ¶æ„" class="headerlink" title="Flux æ¶æ„"></a>Flux æ¶æ„</h4><p>Flux æ˜¯ Facebook åœ¨æ„å»ºå¤§å‹ Web åº”ç”¨ç¨‹åºæ—¶ä¸ºäº†è§£å†³æ•°æ®ä¸€è‡´æ€§é—®é¢˜è€Œè®¾è®¡å‡ºçš„ä¸€ç§æ¶æ„ï¼Œå®ƒæ˜¯ä¸€ç§æè¿°çŠ¶æ€ç®¡ç†çš„è®¾è®¡æ¨¡å¼ã€‚ç»å¤§å¤šæ•°å‰ç«¯é¢†åŸŸçš„çŠ¶æ€ç®¡ç†å·¥å…·éƒ½éµå¾ªè¿™ç§æ¶æ„ï¼Œæˆ–è€…ä»¥å®ƒä¸ºå‚è€ƒåŸå‹ã€‚</p>
<p>Flux æ¶æ„ä¸»è¦æœ‰å››ä¸ªç»„æˆéƒ¨åˆ†ï¼š</p>
<ul>
<li>ğŸ“¦ <strong>store</strong>ï¼šçŠ¶æ€æ•°æ®çš„å­˜å‚¨ç®¡ç†ä¸­å¿ƒï¼Œå¯ä»¥æœ‰å¤šä¸ªï¼Œå¯ä»¥æ¥å— action åšå‡ºå“åº”ã€‚</li>
<li>ğŸ–¼ <strong>view</strong>ï¼šè§†å›¾ï¼Œæ ¹æ® store ä¸­çš„æ•°æ®æ¸²æŸ“ç”Ÿæˆé¡µé¢ï¼Œä¸ store ä¹‹é—´å­˜åœ¨å‘å¸ƒè®¢é˜…å…³ç³»ã€‚</li>
<li>ğŸ›  <strong>action</strong>ï¼šä¸€ç§æè¿°åŠ¨ä½œè¡Œä¸ºçš„æ•°æ®å¯¹è±¡ï¼Œé€šå¸¸ä¼šåŒ…å«åŠ¨ä½œç±»å‹ type å’Œéœ€è¦ä¼ é€’çš„å‚æ•° payload ç­‰å±æ€§ã€‚</li>
<li>ğŸ“® <strong>dispatcher</strong>ï¼šè°ƒåº¦å™¨ï¼Œæ¥æ”¶ action å¹¶åˆ†å‘è‡³ storeã€‚</li>
</ul>
<p><img src="/2022/11/23/pinia/b55512a3f1be47b2.png"></p>
<p>æ•´ä¸ªæ•°æ®æµåŠ¨å…³ç³»ä¸ºï¼š</p>
<p>1ã€view è§†å›¾ä¸­çš„äº¤äº’è¡Œä¸ºä¼šåˆ›å»º actionï¼Œäº¤ç”± dispatcher è°ƒåº¦å™¨ã€‚</p>
<p>2ã€dispatcher æ¥æ”¶åˆ° action åä¼šåˆ†å‘è‡³å¯¹åº”çš„ storeã€‚</p>
<p>3ã€store æ¥æ”¶åˆ° action ååšå‡ºå“åº”åŠ¨ä½œï¼Œå¹¶è§¦å‘ change äº‹ä»¶ï¼Œé€šçŸ¥ä¸å…¶å…³è”çš„ view é‡æ–°æ¸²æŸ“å†…å®¹ã€‚</p>
<p>è¿™å°±æ˜¯ Flux æ¶æ„æœ€æ ¸å¿ƒçš„ç‰¹ç‚¹ï¼šå•å‘æ•°æ®æµã€‚</p>
<p>ä¸ä¼ ç»Ÿçš„ MVC æ¶æ„ç›¸æ¯”ï¼Œå•å‘æ•°æ®æµä¹Ÿå¸¦æ¥äº†ä¸€ä¸ªå¥½å¤„ï¼šå¯é¢„æµ‹æ€§ã€‚</p>
<p>æ‰€æœ‰å¯¹äºçŠ¶æ€çš„ä¿®æ”¹éƒ½éœ€è¦ç»è¿‡ dispatcher æ´¾å‘çš„ action æ¥è§¦å‘çš„ï¼Œæ¯ä¸€ä¸ª action éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„æ•°æ®å¯¹è±¡å®ä½“ï¼Œå¯åºåˆ—åŒ–ï¼Œæ“ä½œè®°å½•å¯è¿½è¸ªï¼Œæ›´æ˜“äºè°ƒè¯•ã€‚</p>
<p>Vuex ä¸ Pinia å¤§ä½“ä¸Šæ²¿ç”¨ Flux çš„æ€æƒ³ï¼Œå¹¶é’ˆå¯¹ Vue æ¡†æ¶å•ç‹¬è¿›è¡Œäº†ä¸€äº›è®¾è®¡ä¸Šçš„ä¼˜åŒ–ã€‚</p>
<h4 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h4><p><img src="/2022/11/23/pinia/f9ae36a64955b220.png"></p>
<ul>
<li>ğŸ“¦ <strong>state</strong>ï¼šæ•´ä¸ªåº”ç”¨çš„çŠ¶æ€ç®¡ç†å•ä¾‹ï¼Œç­‰æ•ˆäº Vue ç»„ä»¶ä¸­çš„ dataï¼Œå¯¹åº”äº† Flux æ¶æ„ä¸­çš„ storeã€‚</li>
<li>ğŸ§® <strong>getter</strong>ï¼šå¯ä»¥ç”± state ä¸­çš„æ•°æ®æ´¾ç”Ÿè€Œæˆï¼Œç­‰æ•ˆäº Vue ç»„ä»¶ä¸­çš„è®¡ç®—å±æ€§ã€‚å®ƒä¼šè‡ªåŠ¨æ”¶é›†ä¾èµ–ï¼Œä»¥å®ç°è®¡ç®—å±æ€§çš„ç¼“å­˜ã€‚</li>
<li>ğŸ›  <strong>mutation</strong>ï¼šç±»ä¼¼äºäº‹ä»¶ï¼ŒåŒ…å«ä¸€ä¸ªç±»å‹åå’Œå¯¹åº”çš„å›è°ƒå‡½æ•°ï¼Œåœ¨å›è°ƒå‡½æ•°ä¸­å¯ä»¥å¯¹ state ä¸­çš„æ•°æ®è¿›è¡ŒåŒæ­¥ä¿®æ”¹ã€‚<ul>
<li>Vuex ä¸å…è®¸ç›´æ¥è°ƒç”¨è¯¥å‡½æ•°ï¼Œè€Œæ˜¯éœ€è¦é€šè¿‡ <code>store.commit</code> æ–¹æ³•æäº¤ä¸€ä¸ªæ“ä½œï¼Œå¹¶å°†å‚æ•°ä¼ å…¥å›è°ƒå‡½æ•°ã€‚</li>
<li>commit çš„å‚æ•°ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ•°æ®å¯¹è±¡ï¼Œæ­£å¦‚ Flux æ¶æ„ä¸­çš„ action å¯¹è±¡ä¸€æ ·ï¼Œå®ƒåŒ…å«äº†ç±»å‹å <code>type</code> å’Œè´Ÿè½½ <code>payload</code>ã€‚</li>
<li>è¿™é‡Œè¦æ±‚ mutation ä¸­å›è°ƒå‡½æ•°çš„æ“ä½œä¸€å®šæ˜¯åŒæ­¥çš„ï¼Œè¿™æ˜¯å› ä¸ºåŒæ­¥çš„ã€å¯åºåˆ—åŒ–çš„æ“ä½œæ­¥éª¤èƒ½ä¿è¯ç”Ÿæˆå”¯ä¸€çš„æ—¥å¿—è®°å½•ï¼Œæ‰èƒ½ä½¿å¾— devtools èƒ½å¤Ÿå®ç°å¯¹çŠ¶æ€çš„è¿½è¸ªï¼Œå®ç° time-travelã€‚</li>
</ul>
</li>
<li>ğŸ”¨ <strong>action</strong>ï¼šaction å†…éƒ¨çš„æ“ä½œä¸å—é™åˆ¶ï¼Œå¯ä»¥è¿›è¡Œä»»æ„çš„å¼‚æ­¥æ“ä½œã€‚æˆ‘ä»¬éœ€è¦é€šè¿‡ <code>dispatch</code> æ–¹æ³•æ¥è§¦å‘ action æ“ä½œï¼ŒåŒæ ·çš„ï¼Œå‚æ•°åŒ…å«äº†ç±»å‹å <code>type</code> å’Œè´Ÿè½½ <code>payload</code>ã€‚<ul>
<li>action çš„æ“ä½œæœ¬è´¨ä¸Šå·²ç»è„±ç¦»äº† Vuex æœ¬èº«ï¼Œå‡å¦‚å°†å®ƒå‰¥ç¦»å‡ºæ¥ï¼Œä»…ä»…åœ¨ç”¨æˆ·ï¼ˆå¼€å‘è€…ï¼‰ä»£ç ä¸­è°ƒç”¨ <code>commit</code> æ¥æäº¤ mutation ä¹Ÿèƒ½è¾¾åˆ°ä¸€æ ·çš„æ•ˆæœã€‚</li>
</ul>
</li>
<li>ğŸ“ <strong>module</strong>ï¼šstore çš„åˆ†å‰²ï¼Œæ¯ä¸ª module éƒ½å…·æœ‰ç‹¬ç«‹çš„ stateã€getterã€mutation å’Œ actionã€‚<ul>
<li>å¯ä»¥ä½¿ç”¨ <code>module.registerModule</code> åŠ¨æ€æ³¨å†Œæ¨¡å—ã€‚</li>
<li>æ”¯æŒæ¨¡å—ç›¸äº’åµŒå¥—ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®å‘½åç©ºé—´æ¥è¿›è¡Œæ•°æ®å’Œæ“ä½œéš”ç¦»ã€‚</li>
</ul>
</li>
</ul>
<h4 id="Pinia"><a href="#Pinia" class="headerlink" title="Pinia"></a>Pinia</h4><p><img src="/2022/11/23/pinia/image-20221123084525884.png"></p>
<p>ä¿ç•™ï¼š</p>
<ul>
<li>ğŸ“¦ <strong>state</strong>ï¼šstore çš„æ ¸å¿ƒï¼Œä¸ Vue ä¸­çš„ data ä¸€è‡´ï¼Œå¯ä»¥ç›´æ¥å¯¹å…¶ä¸­çš„æ•°æ®è¿›è¡Œè¯»å†™ã€‚</li>
<li>ğŸ§® <strong>getters</strong>ï¼šä¸ Vue ä¸­çš„è®¡ç®—å±æ€§ç›¸åŒï¼Œæ”¯æŒç¼“å­˜ã€‚</li>
<li>ğŸ”¨ <strong>actions</strong>ï¼šæ“ä½œä¸å—é™åˆ¶ï¼Œå¯ä»¥åˆ›å»ºå¼‚æ­¥ä»»åŠ¡ï¼Œå¯ä»¥ç›´æ¥è¢«è°ƒç”¨ï¼Œä¸å†éœ€è¦ commitã€dispatch ç­‰æ–¹æ³•ã€‚</li>
</ul>
<p>èˆå¼ƒï¼š</p>
<ul>
<li>ğŸ›  <strong>mutation</strong>ï¼šPinia å¹¶éå®Œå…¨æŠ›å¼ƒäº† mutationï¼Œè€Œæ˜¯å°†å¯¹ state ä¸­å•ä¸ªæ•°æ®è¿›è¡Œä¿®æ”¹çš„æ“ä½œå°è£…ä¸ºä¸€ä¸ª mutationï¼Œä½†ä¸å¯¹å¤–å¼€æ”¾æ¥å£ã€‚å¯ä»¥åœ¨ devtools ä¸­è§‚å¯Ÿåˆ° mutationã€‚</li>
<li>ğŸ“ <strong>module</strong>ï¼šPinia é€šè¿‡åœ¨åˆ›å»º store æ—¶æŒ‡å®š name æ¥åŒºåˆ†ä¸åŒçš„ storeï¼Œä¸å†éœ€è¦ moduleã€‚</li>
</ul>
<h3 id="äºŒã€ä½¿ç”¨Pinia"><a href="#äºŒã€ä½¿ç”¨Pinia" class="headerlink" title="äºŒã€ä½¿ç”¨Pinia"></a>äºŒã€ä½¿ç”¨Pinia</h3><h4 id="1-å®‰è£…pinia"><a href="#1-å®‰è£…pinia" class="headerlink" title="1.å®‰è£…pinia"></a>1.å®‰è£…pinia</h4><pre><code class="ini">npm i pinia -S //å®‰è£…piniaä¾èµ–
</code></pre>
<h4 id="2-main-jsç»„å†Œ"><a href="#2-main-jsç»„å†Œ" class="headerlink" title="2.main.jsç»„å†Œ"></a>2.main.jsç»„å†Œ</h4><pre><code class="javascript">//main.js
import &#123; createApp &#125; from &#39;vue&#39;
import &#39;./style.css&#39;
import App from &#39;./App.vue&#39;
import &#123; createPinia &#125; from &#39;pinia&#39;

createApp(App)
.use(createPinia())
.mount(&#39;#app&#39;)
</code></pre>
<h4 id="3-åˆ›å»ºstore"><a href="#3-åˆ›å»ºstore" class="headerlink" title="3.åˆ›å»ºstore"></a>3.åˆ›å»ºstore</h4><p><img src="/2022/11/23/pinia/image-20221123090656211.png"></p>
<pre><code class="javascript">//countStore.js
import &#123; defineStore &#125; from &#39;pinia&#39;
const useCountStore = defineStore(&#39;countStore&#39;,&#123;
    state()&#123;
        return &#123;
            count:0
        &#125;
    &#125;
&#125; )
export default useCountStore; //å¯¼å‡º
</code></pre>
<h4 id="4-æ–°å»ºç»„ä»¶ä½¿ç”¨state"><a href="#4-æ–°å»ºç»„ä»¶ä½¿ç”¨state" class="headerlink" title="4.æ–°å»ºç»„ä»¶ä½¿ç”¨state"></a>4.æ–°å»ºç»„ä»¶ä½¿ç”¨state</h4><pre><code class="vue">//components/Count.vue
&lt;script setup&gt;
import useCountStore from &#39;../store/countStore&#39;
const countStore = useCountStore();
console.log(countStore)
&lt;/script&gt;
&lt;template&gt;
  &lt;div&gt;
    &#123;&#123;countStore.count&#125;&#125;
  &lt;/div&gt;
&lt;/template&gt;
&lt;style lang=&quot;css&quot;&gt;
div&#123;
    width: 100px;
    height: 30px;
    border:1px solid black;
    border-radius: 5px;
&#125;
&lt;/style&gt;
</code></pre>
<pre><code class="vue">//App.vue
&lt;script setup&gt;
// This starter template is using Vue 3 &lt;script setup&gt; SFCs
// Check out https://vuejs.org/api/sfc-script-setup.html#script-setup
import Count from &#39;./components/Count.vue&#39;
&lt;/script&gt;

&lt;template&gt;
  &lt;div&gt;
    &lt;Count/&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
.logo &#123;
  height: 6em;
  padding: 1.5em;
  will-change: filter;
&#125;
.logo:hover &#123;
  filter: drop-shadow(0 0 2em #646cffaa);
&#125;
.logo.vue:hover &#123;
  filter: drop-shadow(0 0 2em #42b883aa);
&#125;
&lt;/style&gt;
</code></pre>
<p><img src="/2022/11/23/pinia/image-20221123091224524.png" alt="countStore"></p>
<p>æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨å°±å¯ä»¥äº†ï¼Œæ ¹æ®ä¸Šé¢æ§åˆ¶å°è¾“å‡ºå¯ä»¥çœ‹æ¸…æ¥šcountStore</p>
<p>åˆ°ç°åœ¨å·²ç»å®ç°äº†åˆ›å»ºstoreåŠä½¿ç”¨</p>
<h4 id="5-æ›´æ–°store"><a href="#5-æ›´æ–°store" class="headerlink" title="5.æ›´æ–°store"></a>5.æ›´æ–°store</h4><p>1.æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªactionæ–¹æ³•</p>
<pre><code class="javascript">//countStore.js
import &#123; defineStore &#125; from &#39;pinia&#39;

const useCountStore = defineStore(&#39;countStore&#39;,&#123;
    //å®šä¹‰state
    state()&#123;
        return &#123;
            count:0
        &#125;
    &#125;,
    //å®šä¹‰actionæ–¹æ³•
    actions:&#123;
        add()&#123;
            this.count++
        &#125;
    &#125;
&#125; )

export default useCountStore;
</code></pre>
<p>2.è§£æ„æ–¹æ³•å’Œstate</p>
<pre><code class="vue">//Count.vue
&lt;script setup&gt;
import &#123; storeToRefs &#125; from &#39;pinia&#39;
import useCountStore from &#39;../store/countStore&#39;
const &#123;count,add&#125; = storeToRefs(useCountStore());
&lt;/script&gt;
&lt;template&gt;
  &lt;div&gt;
    &#123;&#123;count&#125;&#125;
  &lt;/div&gt;
  &lt;button @click=&quot;add()&quot;&gt;Add&lt;/button&gt;
&lt;/template&gt;
&lt;style lang=&quot;css&quot;&gt;
div&#123;
    width: 100px;
    height: 30px;
    border:1px solid black;
    border-radius: 5px;
    text-align: center;
&#125;
button&#123;
    position: relative;
    bottom: -30px;
&#125;
&lt;/style&gt; 
</code></pre>
<p>å¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨ storeToRefs æ¥è½¬å‘ï¼Œé‚£ä¹ˆé¡µé¢å°†ä¸ä¼šæœ‰ä»»ä½•å“åº”</p>
<p>ä½†æ˜¯æˆ‘ä»¬åŒ…è£¹äº†useCountStore()å¹¶ä¸”è§£æ„äº†ï¼Œå‘ç°æ§åˆ¶å°è¾“å‡ºé”™è¯¯error</p>
<p><img src="/2022/11/23/pinia/image-20221123094109387.png"></p>
<p>ç»è¿‡ä¿®æ”¹å‘ç°ï¼Œactionsæ–¹æ³•ä¸å¯ä»¥é€šè¿‡è§£æ„æ¥ä½¿ç”¨ï¼Œåªèƒ½é€šè¿‡å¦ä¸€ç§æ–¹æ³•</p>
<p><img src="/2022/11/23/pinia/image-20221123094416363.png"> </p>
<h3 id="å‚è€ƒæ–‡æ¡£ï¼š"><a href="#å‚è€ƒæ–‡æ¡£ï¼š" class="headerlink" title="å‚è€ƒæ–‡æ¡£ï¼š"></a>å‚è€ƒæ–‡æ¡£ï¼š</h3><p>[Piniaä¸­æ–‡æ–‡æ¡£]: 	â€œ<a href="https://pinia.web3doc.top/">https://pinia.web3doc.top/</a> â€œ<br>[Viteä¸­æ–‡æ–‡æ¡£]: 	â€œ<a href="https://vitejs.cn/">https://vitejs.cn/</a> â€œ</p>
]]></content>
      <categories>
        <category>Electron</category>
        <category>Pinia</category>
      </categories>
      <tags>
        <tag>Pinia</tag>
      </tags>
  </entry>
  <entry>
    <title>playcanvasåˆçº§</title>
    <url>/2022/12/04/playcanvas%E5%88%9D%E7%BA%A7/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="playcanvasåˆçº§"><a href="#playcanvasåˆçº§" class="headerlink" title="playcanvasåˆçº§"></a>playcanvasåˆçº§</h1><blockquote>
<p>æˆ‘ä»¬åœ¨å¼€å§‹æœ¬æ–‡ç« ä¹‹å‰ï¼Œæ¨èå¤§å®¶ä¸€ä¸ªå°å·¥å…·ï¼Œæ–¹ä¾¿æˆ‘ä»¬åœ¨æ²¹ç®¡ä¸Šçœ‹è‹±æ–‡è§†é¢‘</p>
<p>YouTubeâ„¢ åŒå­—å¹•</p>
<p>æˆ‘ä»¬é€šè¿‡YouTubeä¸Š<a href="https://www.youtube.com/watch?v=fXc-JjH2nNo&list=PLGmYIROty-5ZX-a88X8ztUeYSPeuBj7rG">Daniel Wood</a>åšä¸»çš„playcanvasè§†é¢‘æ¥æµ…å…¥ä¸€ä¸‹ï¼ˆçœ‹ç€æ–‡ç« æ¥æ¢³ç†è§†é¢‘å†…å®¹é£Ÿç”¨æ›´ä½³å“¦ï¼ï¼‰</p>
</blockquote>
<h3 id="startï¼šå·¥å…·ä¸‹è½½"><a href="#startï¼šå·¥å…·ä¸‹è½½" class="headerlink" title="startï¼šå·¥å…·ä¸‹è½½"></a>startï¼šå·¥å…·ä¸‹è½½</h3><blockquote>
<p>YouTubeâ„¢ åŒå­—å¹•å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ·»åŠ åŒè¯­å­—å¹•</p>
<p>å®‰è£…æ­¥éª¤ï¼šè°·æ­Œæµè§ˆå™¨-&gt;è®¾ç½®-&gt;æ‰©å±•ç¨‹åº-&gt;æ‰“å¼€åº”ç”¨å•†åº—-&gt;æŸ¥æ‰¾-&gt;å®‰è£…</p>
</blockquote>
<p><img src="/2022/12/04/playcanvas%E5%88%9D%E7%BA%A7/image-20221204161502349.png"></p>
<p><img src="/2022/12/04/playcanvas%E5%88%9D%E7%BA%A7/image-20221204161617072.png"></p>
<p><img src="/2022/12/04/playcanvas%E5%88%9D%E7%BA%A7/image-20221204161720108.png"></p>
<blockquote>
<p>ä¸‹è½½å®Œæˆä¹‹åï¼Œæˆ‘ä»¬åœ¨æ‰©å±•ç¨‹åºå›¾æ ‡ä¸Šå°±å¯ä»¥ä½¿ç”¨äº†ï¼Œå¦‚æœä¸èµ·æ•ˆæœï¼Œè¯·é‡æ–°æ‰“å¼€æµè§ˆå™¨</p>
</blockquote>
<p><img src="/2022/12/04/playcanvas%E5%88%9D%E7%BA%A7/image-20221204162049453.png"></p>
<h3 id="ä¸€ã€ç¬¬ä¸€è¯¾ï¼ˆGetting-started-with-PlayCanvasï¼‰"><a href="#ä¸€ã€ç¬¬ä¸€è¯¾ï¼ˆGetting-started-with-PlayCanvasï¼‰" class="headerlink" title="ä¸€ã€ç¬¬ä¸€è¯¾ï¼ˆGetting started with PlayCanvasï¼‰"></a>ä¸€ã€ç¬¬ä¸€è¯¾ï¼ˆGetting started with PlayCanvasï¼‰</h3><blockquote>
<p>æˆ‘ä»¬ç¬¬ä¸€è¯¾å…ˆæ¥ç®€å•ä½¿ç”¨ä¸€ä¸‹æˆ‘ä»¬çš„å¯è§†åŒ–å¹³å°</p>
</blockquote>
<p>ç¬¬ä¸€èŠ‚è¯¾ä¸»è¦æ˜¯ç†Ÿæ‚‰æˆ‘ä»¬çš„å¯è§†åŒ–é¢æ¿ï¼Œä¸Šä¸€ç¯‡<a href="https://mengfeng.github.io/2022/12/03/playcanvas%E5%88%9D%E8%AF%86/">playcanvasåˆè¯†</a>æœ‰è®²è§£ï¼Œå¦‚æœæ„Ÿå…´è¶£ï¼Œæˆ‘ä»¬è¿˜æ˜¯å¯ä»¥çœ‹çœ‹æˆ‘ä»¬çš„ç¬¬ä¸€è¯¾çš„è§†é¢‘çš„</p>
<p><img src="/2022/12/04/playcanvas%E5%88%9D%E7%BA%A7/image-20221204174020956.png"></p>
<h3 id="äºŒã€ç¬¬äºŒè¯¾ï¼ˆEntities-and-materialsï¼‰"><a href="#äºŒã€ç¬¬äºŒè¯¾ï¼ˆEntities-and-materialsï¼‰" class="headerlink" title="äºŒã€ç¬¬äºŒè¯¾ï¼ˆEntities and materialsï¼‰"></a>äºŒã€ç¬¬äºŒè¯¾ï¼ˆEntities and materialsï¼‰</h3><blockquote>
<p>å®ä½“å’Œæè´¨æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>å®ä½“å°±æ˜¯æˆ‘ä»¬ç¼–è¾‘å™¨é‡Œé¢çš„æ–¹å—ã€å¹³é¢ç­‰å‡ ä½•ä½“</p>
<p>æè´¨æ˜¯æˆ‘ä»¬å®ä½“éœ€è¦ç»“åˆçš„å±æ€§</p>
</blockquote>
<p>1.å½“æˆ‘ä»¬åˆ›å»ºæè´¨èµ„æºçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶åˆ†æˆä¸€ä¸ªç»„ï¼Œæ–¹ä¾¿æˆ‘ä»¬ä»¥åå»ç®¡ç†æˆ‘ä»¬çš„æè´¨</p>
<p>2.æˆ‘ä»¬çš„è´´å›¾ï¼Œé‚£äº›å±æ€§ï¼Œæˆ‘å»ºè®®å…ˆå»çœ‹çœ‹Three.jsçš„æ•™ç¨‹å§ï¼Œæˆ–è€…æœ‰ä¸‰ç»´è½¯ä»¶çš„ä½¿ç”¨åŸºç¡€ä¹Ÿæ˜¯å®¹æ˜“ç†è§£çš„ï¼Œå¦‚æœä¸å…·å¤‡è¿™äº›åŸºç¡€æ¦‚å¿µå¯ä»¥çœ‹çœ‹æˆ‘ä¹‹å‰çš„<a href="https://mengfeng.github.io/categories/">threejs</a>çš„æ–‡ç« </p>
<p>3.ç®€å•çš„èµ‹äºˆå®ä½“æè´¨çš„æ­¥éª¤å°±æ˜¯å¦‚ä¸‹å›¾ï¼ˆè¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“çš„ï¼‰</p>
<p><img src="/2022/12/04/playcanvas%E5%88%9D%E7%BA%A7/image-20221204175100109.png"></p>
<p>4.è¿™èŠ‚è¯¾è§†é¢‘ä¸»è¦è®²çš„æ˜¯è´´å›¾å’Œæè´¨å’Œæˆ‘ä»¬æè´¨çš„ä¸€ç³»åˆ—å±æ€§ï¼ˆä¸æ˜¯apiï¼‰</p>
<p>5.ç‚¹å‡»æˆ‘ä»¬çš„Cameraï¼ˆæ‘„åƒæœºï¼‰è°ƒèŠ‚è§’åº¦ï¼Œç‚¹å‡»ç•Œé¢å³ä¸Šè§’çš„Launchå°±å¯ä»¥æ¸²æŸ“æˆ‘ä»¬çš„ç”»é¢äº†</p>
<p><img src="/2022/12/04/playcanvas%E5%88%9D%E7%BA%A7/image-20221204180337214.png"></p>
<h3 id="ä¸‰ã€ç¬¬ä¸‰è¯¾ï¼ˆLightingï¼‰"><a href="#ä¸‰ã€ç¬¬ä¸‰è¯¾ï¼ˆLightingï¼‰" class="headerlink" title="ä¸‰ã€ç¬¬ä¸‰è¯¾ï¼ˆLightingï¼‰"></a>ä¸‰ã€ç¬¬ä¸‰è¯¾ï¼ˆLightingï¼‰</h3><blockquote>
<p>æˆ‘ä»¬çš„ç¯å…‰ä¹Ÿæ˜¯æœ‰3ç§ï¼Œå¹³è¡Œå…‰ã€ç‚¹å…‰æºã€èšå…‰ç¯</p>
<p>è¿™èŠ‚è¯¾é™¤äº†è®²è§£å‡ ç§ç¯å…‰çš„å±æ€§ä¹‹å¤–ï¼Œä¹Ÿæœ‰ç¯å…‰ä¸é˜´å½±çš„å…³ç³»</p>
</blockquote>
<p><img src="/2022/12/04/playcanvas%E5%88%9D%E7%BA%A7/image-20221204181635026.png"></p>
<p>èšå…‰ç¯æ•ˆæœï¼Œæˆ‘ä»¬åœ¨å³è¾¹çš„å±æ€§æ ä¹Ÿå¯ä»¥å»ä¿®æ”¹æˆ‘ä»¬èšå…‰ç¯çš„å…¶ä»–å±æ€§</p>
<p><img src="/2022/12/04/playcanvas%E5%88%9D%E7%BA%A7/image-20221204183234836.png"></p>
<p>ç‚¹å…‰æºæ•ˆæœï¼ˆå¯ä»¥çœ‹æˆä¸€ä¸ªç¯æ³¡ï¼‰</p>
<p><img src="/2022/12/04/playcanvas%E5%88%9D%E7%BA%A7/image-20221204183435845.png"></p>
<h3 id="å››ã€ç¬¬å››è¯¾ï¼ˆSkyboxes-in-PlayCanvasï¼‰"><a href="#å››ã€ç¬¬å››è¯¾ï¼ˆSkyboxes-in-PlayCanvasï¼‰" class="headerlink" title="å››ã€ç¬¬å››è¯¾ï¼ˆSkyboxes in PlayCanvasï¼‰"></a>å››ã€ç¬¬å››è¯¾ï¼ˆSkyboxes in PlayCanvasï¼‰</h3><blockquote>
<p>ä¸»è¦å±•ç¤ºå¦‚ä½•æ·»åŠ å¤©ç©ºè´´å›¾</p>
<p>æˆ‘ä»¬çš„è´´å›¾å°±æ˜¯ä»è¿™é‡Œä¸‹è½½çš„ï¼Œå¯ä»¥å»è¯•è¯•</p>
<p>[è´´å›¾çº¹ç†]: 	â€œ<a href="http://www.humus.name/index.php?page=Textures">http://www.humus.name/index.php?page=Textures</a> â€œ</p>
</blockquote>
<p>å…·ä½“çš„æ­¥éª¤æ€»ç»“ï¼š</p>
<p>âš ï¸æ³¨æ„ï¼šè¿˜æ˜¯çœ‹è§†é¢‘è¯¦ç»†ï¼Œè¿™åªæ˜¯æ€»ç»“ä¸€ä¸‹å“ˆå“ˆå“ˆ</p>
<p><img src="/2022/12/04/playcanvas%E5%88%9D%E7%BA%A7/image-20221204184930487.png"></p>
<p><img src="/2022/12/04/playcanvas%E5%88%9D%E7%BA%A7/image-20221204185140511.png"></p>
<h3 id="äº”ã€ç¬¬äº”è¯¾ï¼ˆParticle-systems-in-PlayCanvasï¼‰"><a href="#äº”ã€ç¬¬äº”è¯¾ï¼ˆParticle-systems-in-PlayCanvasï¼‰" class="headerlink" title="äº”ã€ç¬¬äº”è¯¾ï¼ˆParticle systems in PlayCanvasï¼‰"></a>äº”ã€ç¬¬äº”è¯¾ï¼ˆParticle systems in PlayCanvasï¼‰</h3><blockquote>
<p>è¿™èŠ‚è¯¾çš„ä¸œè¥¿æˆ‘æ¯”è¾ƒå–œæ¬¢ï¼Œç²’å­ç³»ç»Ÿï¼ˆä¼šç”Ÿæˆç²’å­å’Œç²’å­åŠ¨ç”»ï¼‰</p>
</blockquote>
<p>å…·ä½“çš„æ­¥éª¤æ€»ç»“ï¼š</p>
<p>è¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œåˆ°äº†åé¢ï¼Œè¿™ä¸ªä¼šç”Ÿæˆå¾ˆå¤šæƒŠè‰³çš„åŠ¨ç”»æ•ˆæœ</p>
<p>âš ï¸æ³¨æ„ï¼šè¿™ä¸ªå±æ€§æ¯”è¾ƒå¤šï¼Œè®¤çœŸçœ‹</p>
<p><img src="/2022/12/04/playcanvas%E5%88%9D%E7%BA%A7/image-20221204185753349.png"></p>
<h3 id="å…­ã€ç¬¬å…­è¯¾ï¼ˆOverview-of-scripts-in-PlayCanvasï¼‰"><a href="#å…­ã€ç¬¬å…­è¯¾ï¼ˆOverview-of-scripts-in-PlayCanvasï¼‰" class="headerlink" title="å…­ã€ç¬¬å…­è¯¾ï¼ˆOverview of scripts in PlayCanvasï¼‰"></a>å…­ã€ç¬¬å…­è¯¾ï¼ˆOverview of scripts in PlayCanvasï¼‰</h3><blockquote>
<p>è¿™èŠ‚è¯¾æ²¡ä»€ä¹ˆä¸œè¥¿ï¼Œå°±æ˜¯è®²è§£ä¸€ä¸‹æˆ‘ä»¬scriptèµ„æºæ–‡ä»¶çš„æ„é€ ï¼ˆç»™æ²¡æœ‰javaScriptåŸºç¡€çš„åŒå­¦è®²çš„ï¼‰</p>
<p>æœ‰åŸºç¡€çš„åŒå­¦å¯ä»¥å¿«é€Ÿç•¥è¿‡äº†</p>
</blockquote>
<p>å…·ä½“çš„æ­¥éª¤æ€»ç»“ï¼š</p>
<p>ä¸»è¦æ˜¯è®²ä¸€ä¸‹scriptèµ„æºçš„æ“ä½œ</p>
<p><img src="/2022/12/04/playcanvas%E5%88%9D%E7%BA%A7/image-20221204190611547.png"></p>
<p><img src="/2022/12/04/playcanvas%E5%88%9D%E7%BA%A7/image-20221204190818807.png"></p>
<p><img src="/2022/12/04/playcanvas%E5%88%9D%E7%BA%A7/image-20221204191338719.png"></p>
<p><img src="/2022/12/04/playcanvas%E5%88%9D%E7%BA%A7/image-20221204191641346.png"></p>
<h3 id="ä¸ƒã€ç¬¬ä¸ƒè¯¾ï¼ˆMake-a-3D-object-move-with-codeï¼‰"><a href="#ä¸ƒã€ç¬¬ä¸ƒè¯¾ï¼ˆMake-a-3D-object-move-with-codeï¼‰" class="headerlink" title="ä¸ƒã€ç¬¬ä¸ƒè¯¾ï¼ˆMake a 3D object move with codeï¼‰"></a>ä¸ƒã€ç¬¬ä¸ƒè¯¾ï¼ˆMake a 3D object move with codeï¼‰</h3><blockquote>
<p>è¿™èŠ‚è¯¾å¼€å§‹å°±è¦ç¼–å†™jsè„šæœ¬æ–‡ä»¶äº†</p>
<p>é€šè¿‡æˆ‘ä»¬ä¸‹é¢çš„è„šæ­¥ç¼–è¯‘ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¸²æŸ“å‡ºæ–¹å—æ¸è¡Œæ¸è¿œçš„åŠ¨ç”»äº†</p>
<p>å…·ä½“çš„APIæˆ‘ä»¬å¯ä»¥æŸ¥è¯¢<a href="https://developer.playcanvas.com/api/pc.Entity.html">æ–‡æ¡£</a>äº†</p>
</blockquote>
<pre><code class="javascript">//test.js
var Test = pc.createScript(&#39;test&#39;);
var Move = function(entity)&#123;
  this.entity = entity;
&#125;
// initialize code called once per entity
Test.prototype.initialize = function() &#123;
    
&#125;;

// update code called every frame
Test.prototype.update = function(dt) &#123;
    this.entity.translateLocal(-0.01,0,0);
&#125;;

// swap method called for script hot-reloading
// inherit your script state here
// Test.prototype.swap = function(old) &#123; &#125;;

// to learn more about script anatomy, please read:
// https://developer.playcanvas.com/en/user-manual/scripting/
</code></pre>
<p><img src="/2022/12/04/playcanvas%E5%88%9D%E7%BA%A7/image-20221204192521888.png"></p>
<h3 id="å…«ã€ç¬¬å…«è¯¾ï¼ˆMoving-objects-with-keyboard-inputï¼‰"><a href="#å…«ã€ç¬¬å…«è¯¾ï¼ˆMoving-objects-with-keyboard-inputï¼‰" class="headerlink" title="å…«ã€ç¬¬å…«è¯¾ï¼ˆMoving objects with keyboard inputï¼‰"></a>å…«ã€ç¬¬å…«è¯¾ï¼ˆMoving objects with keyboard inputï¼‰</h3><blockquote>
<p>åˆ©ç”¨é”®ç›˜çš„æŒ‰é”®æ¥æ§åˆ¶æˆ‘ä»¬å®ä½“çš„ç§»åŠ¨ã€æ—‹è½¬ç­‰</p>
<p>å»ºè®®ä¸è¦è·Ÿç€è§†é¢‘çš„å†™æ³•æ¥ç»ƒä¹ ï¼Œè¦è‡ªå·±å»æŸ¥æ–‡æ¡£ï¼Œå› ä¸ºè§†é¢‘å·²ç»æœ‰ç‚¹é™ˆæ—§äº†</p>
<p>apiéƒ½æœ‰æ‰€å˜åŒ–</p>
</blockquote>
<p>æˆ‘ä»¬çš„è„šæœ¬å®ç°çš„æ˜¯åˆ©ç”¨é”®ç›˜çš„ä¸Šä¸‹å·¦å³æ¥æ§åˆ¶å®ä½“çš„ä¸Šä¸‹å·¦å³</p>
<pre><code class="javascript">//test.js
var Test = pc.createScript(&#39;test&#39;);
var keyboard = new pc.Keyboard(window);
var Move = function(entity)&#123;
  this.entity = entity;
&#125;
// initialize code called once per entity
Test.prototype.initialize = function() &#123;
    
&#125;;

// update code called every frame
Test.prototype.update = function(dt) &#123;
   if(keyboard.isPressed(pc.KEY_RIGHT))&#123;
       this.entity.translate(0.01,0,0);
   &#125;
    if(keyboard.isPressed(pc.KEY_LEFT))&#123;
       this.entity.translate(-0.01,0,0);
   &#125;
    if(keyboard.isPressed(pc.KEY_UP))&#123;
       this.entity.translate(0,0,-0.01);
   &#125;
    if(keyboard.isPressed(pc.KEY_DOWN))&#123;
       this.entity.translate(0,0,0.01);
   &#125;
&#125;;

// swap method called for script hot-reloading
// inherit your script state here
// Test.prototype.swap = function(old) &#123; &#125;;

// to learn more about script anatomy, please read:
// https://developer.playcanvas.com/en/user-manual/scripting/
</code></pre>
<h3 id="ä¹ã€ç¬¬ä¹è¯¾ï¼ˆRotating-objects-with-keyboard-inputï¼‰"><a href="#ä¹ã€ç¬¬ä¹è¯¾ï¼ˆRotating-objects-with-keyboard-inputï¼‰" class="headerlink" title="ä¹ã€ç¬¬ä¹è¯¾ï¼ˆRotating objects with keyboard inputï¼‰"></a>ä¹ã€ç¬¬ä¹è¯¾ï¼ˆRotating objects with keyboard inputï¼‰</h3><blockquote>
<p>è¿™èŠ‚è¯¾å’Œä¸ŠèŠ‚è¯¾çš„å†…å®¹å·®ä¸å¤šï¼Œå°±æ˜¯åˆ©ç”¨é”®ç›˜æŒ‰é”®å»æ§åˆ¶å®ä½“çš„å…¶ä»–å±æ€§</p>
<p>æ•™jsé›¶åŸºç¡€çš„åŒå­¦ä¸€ä¸‹å˜é‡çš„åŸºç¡€å†™æ³•ï¼ˆå¯ä»¥å¿«é€Ÿç•¥è¿‡äº†å“ˆå“ˆå“ˆï¼Œè¿˜å¾—æ‰«ä¸€çœ¼å“ˆï¼‰</p>
</blockquote>
<h3 id="åã€ç¬¬åè¯¾ï¼ˆRigid-Bodies-and-Collision-in-PlayCanvasï¼‰"><a href="#åã€ç¬¬åè¯¾ï¼ˆRigid-Bodies-and-Collision-in-PlayCanvasï¼‰" class="headerlink" title="åã€ç¬¬åè¯¾ï¼ˆRigid Bodies and Collision in PlayCanvasï¼‰"></a>åã€ç¬¬åè¯¾ï¼ˆRigid Bodies and Collision in PlayCanvasï¼‰</h3><blockquote>
<p>PlayCanvasä¸­çš„åˆšä½“å’Œç¢°æ’è¿™èŠ‚è¯¾çš„çŸ¥è¯†ç‚¹è¿˜æ˜¯å¯ä»¥çš„</p>
<p>å¤§ä½“æ˜¯è®²ç‰©ä½“ç¢°æ’çš„å±æ€§å’Œè¿åŠ¨</p>
</blockquote>
<p>æ ¹æ®æ­¥éª¤å¯ä»¥å®ç°ç¢°æ’</p>
<p><img src="/2022/12/04/playcanvas%E5%88%9D%E7%BA%A7/image-20221204204506027.png"></p>
<h3 id="åä¸€ã€ç¬¬åä¸€è¯¾ï¼ˆAdding-sound-to-your-gameï¼‰"><a href="#åä¸€ã€ç¬¬åä¸€è¯¾ï¼ˆAdding-sound-to-your-gameï¼‰" class="headerlink" title="åä¸€ã€ç¬¬åä¸€è¯¾ï¼ˆAdding sound to your gameï¼‰"></a>åä¸€ã€ç¬¬åä¸€è¯¾ï¼ˆAdding sound to your gameï¼‰</h3><blockquote>
<p>æˆ‘ä»¬çš„æ¸¸æˆè¿›å»æ˜¯ä¸æ˜¯æœ‰èƒŒæ™¯éŸ³ä¹å‘€ï¼Œè¿™èŠ‚è¯¾å°±æ˜¯å°†èƒŒæ™¯éŸ³ä¹åŠ è½½è¿›æ¥</p>
<p>Audio Listenerå¯ä»¥ç®€å•çš„è¯´åƒè€³æœµä¸€æ ·ï¼Œå¯ä»¥å¬è§é™„è¿‘çš„å£°éŸ³</p>
</blockquote>
<p>å¤§ä½“æ­¥éª¤å¦‚ä¸‹ï¼Œå…·ä½“å¯ä»¥çœ‹è§†é¢‘äº†ï¼ˆè¿˜æœ‰è®¸å¤šç»†èŠ‚ï¼‰</p>
<p><img src="/2022/12/04/playcanvas%E5%88%9D%E7%BA%A7/image-20221204205445304.png"></p>
<h3 id="åäºŒã€ç¬¬åäºŒè¯¾ï¼ˆControlling-audio-with-scriptsï¼‰"><a href="#åäºŒã€ç¬¬åäºŒè¯¾ï¼ˆControlling-audio-with-scriptsï¼‰" class="headerlink" title="åäºŒã€ç¬¬åäºŒè¯¾ï¼ˆControlling audio with scriptsï¼‰"></a>åäºŒã€ç¬¬åäºŒè¯¾ï¼ˆControlling audio with scriptsï¼‰</h3><blockquote>
<p>è¿™èŠ‚è¯¾å°±æ˜¯å»¶ç»­ä¸Šé¢çš„ï¼Œå¯¹äºaudioçš„å±æ€§è®²è§£å’Œè„šæœ¬ç¼–å†™äº†ï¼Œ</p>
<p>è¿™ä¸ªä»»åŠ¡äº¤ç»™ä½ ä»¬äº†ï¼Œå†™å¥½è¯„è®ºï¼Œç»™ä½ ç‚¹å¤§èµğŸ‘</p>
</blockquote>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><p>[playcanvasåˆçº§æ•™ç¨‹]: 	â€œ<a href="https://www.youtube.com/watch?v=fXc-JjH2nNo&amp;list=PLGmYIROty-5ZX-a88X8ztUeYSPeuBj7rG">https://www.youtube.com/watch?v=fXc-JjH2nNo&amp;list=PLGmYIROty-5ZX-a88X8ztUeYSPeuBj7rG</a> â€œ<br>[playcanvaså®˜ç½‘API]: 	â€œ<a href="https://developer.playcanvas.com/en/api/">https://developer.playcanvas.com/en/api/</a> â€œ<br>[playcanvasä¸­æ–‡]: 	â€œ<a href="https://developer.playcanvas.com/zh/">https://developer.playcanvas.com/zh/</a> â€œ</p>
]]></content>
      <categories>
        <category>Web3D</category>
        <category>playcanvas</category>
        <category>playcanvasåˆçº§</category>
      </categories>
      <tags>
        <tag>playcanvas</tag>
      </tags>
  </entry>
  <entry>
    <title>react-nativeç¯å¢ƒæ­å»º</title>
    <url>/2022/12/08/react-native%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="react-nativeç¯å¢ƒæ­å»ºï¼ˆMac-M1ï¼‰"><a href="#react-nativeç¯å¢ƒæ­å»ºï¼ˆMac-M1ï¼‰" class="headerlink" title="react-nativeç¯å¢ƒæ­å»ºï¼ˆMac M1ï¼‰"></a>react-nativeç¯å¢ƒæ­å»ºï¼ˆMac M1ï¼‰</h1><h3 id="ä¸€ã€æœ¬æœºå®‰è£…ç¯å¢ƒ"><a href="#ä¸€ã€æœ¬æœºå®‰è£…ç¯å¢ƒ" class="headerlink" title="ä¸€ã€æœ¬æœºå®‰è£…ç¯å¢ƒ"></a>ä¸€ã€æœ¬æœºå®‰è£…ç¯å¢ƒ</h3><p><img src="/2022/12/08/react-native%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20221207175048319.png"></p>
<p><img src="/2022/12/08/react-native%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20221207175217956.png"></p>
<p>å®‰è£…å®˜æ–¹çš„è¯´æ³•ï¼Œéœ€è¦å…·å¤‡çš„ç¯å¢ƒæ¡ä»¶</p>
<p><img src="/2022/12/08/react-native%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20221207175323650.png"></p>
<p>nodeå’Œnpmçš„å®‰è£…å°±ä¸è¯´äº†</p>
<p>ä¸‹è½½yarnï¼š</p>
<pre><code class="ini">npm install -g yarn
</code></pre>
<p>react-nativeï¼š</p>
<pre><code class="ini">yarn add react-native --exact
</code></pre>
<pre><code class="ini">//Mac m1 å®‰è£… Homebrew
/bin/bash -c &quot;$(curl -fsSL https://gitee.com/ineo6/homebrew-install/raw/master/install.sh)&quot;

ç¯å¢ƒå˜é‡ï¼š
 echo &#39;eval &quot;$(/opt/homebrew/bin/brew shellenv)&quot;&#39; &gt;&gt; /Users/mengfeng/.zprofile
   eval &quot;$(/opt/homebrew/bin/brew shellenv)&quot;
</code></pre>
<blockquote>
<p>å»ºè®®åŒå­¦ä»¬æ—©ä¸Šå»ä¸‹è½½ï¼ˆç½‘å¥½ï¼‰ï¼Œå½“ç„¶ï¼Œä¸å¯é¿å…çš„è¿˜æ˜¯è¦å‡ºç°ä¸€ç³»åˆ—çš„é—®é¢˜ï¼Œæˆ‘ä»¬æ ¹æ®é”™è¯¯æç¤ºå»æŸ¥è¯¢ç›¸åº”çš„è§£å†³æ–¹æ¡ˆå°±è¡Œï¼ˆå› ä¸ºæ¯ä¸ªåŒå­¦çš„é—®é¢˜éƒ½ä¸å¤ªä¸€æ ·ï¼‰</p>
</blockquote>
<p>ä¸‹è½½watchmanï¼š</p>
<pre><code class="ini">brew install watchman
</code></pre>
<p>ä¸‹è½½podï¼ˆcocoapodsï¼‰ï¼š</p>
<pre><code class="ini">brew install cocoapods
</code></pre>
<p><img src="/2022/12/08/react-native%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20221208082020782.png"></p>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»å®‰è£…äº† Nodeã€Homebrewã€watchmanã€cocoapods</p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥å®‰è£…xcode</p>
<h3 id="äºŒã€xcodeå®‰è£…æ¨¡æ‹Ÿå™¨"><a href="#äºŒã€xcodeå®‰è£…æ¨¡æ‹Ÿå™¨" class="headerlink" title="äºŒã€xcodeå®‰è£…æ¨¡æ‹Ÿå™¨"></a>äºŒã€xcodeå®‰è£…æ¨¡æ‹Ÿå™¨</h3><p>æˆ‘ä»¬åœ¨app storeä¸‹è½½å°±å¯ä»¥ï¼Œå½“ç„¶ç‰ˆæœ¬å†å²è®°å½•å¯ä»¥æŸ¥çœ‹ä»¥å‰çš„xcodeç‰ˆæœ¬</p>
<p><img src="/2022/12/08/react-native%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20221208082606954.png"></p>
<p>å½“æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªé¡¹ç›®ï¼Œç‚¹å‡»å°ä¸‰è§’ï¼Œæ¨¡æ‹Ÿå™¨å®Œç¾è¿è¡Œ</p>
<p><img src="/2022/12/08/react-native%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20221208083302861.png"></p>
<h3 id="ä¸‰ã€react-nativeåˆ›å»ºé¡¹ç›®"><a href="#ä¸‰ã€react-nativeåˆ›å»ºé¡¹ç›®" class="headerlink" title="ä¸‰ã€react-nativeåˆ›å»ºé¡¹ç›®"></a>ä¸‰ã€react-nativeåˆ›å»ºé¡¹ç›®</h3><p>åˆ›å»ºé¡¹ç›®</p>
<pre><code class="ini">npx react-native init testapp
</code></pre>
<blockquote>
<p>å‡ºç°æŠ¥é”™</p>
</blockquote>
<p><img src="/2022/12/08/react-native%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20221208084024802.png"></p>
<blockquote>
<p>è§£å†³ä»¥ä¸Šé—®é¢˜çš„ç¬¬ä¸€ä¸ªerror</p>
<p>æŠ¥äº†ä¸€ä¸ªè­¦å‘Šï¼Œå¤§æ¦‚æ„æ€æ˜¯ä¸å®‰å…¨çš„å†™æƒé™ï¼Œç›®å½•æ˜¯ &#x2F;opt&#x2F;homebrew&#x2F;bin<br>äºæ˜¯æˆ‘ä»¬æŠŠè¿™ä¸ªç›®å½•çš„å†™æƒé™å»æ‰</p>
<pre><code class="ini">sudo chmod -R go-w /opt/homebrew/bin
sudo chmod -R go-w /opt/homebrew
</code></pre>
</blockquote>
<p><img src="/2022/12/08/react-native%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20221208085035978.png"></p>
<blockquote>
<p>è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜</p>
<p>æˆ‘ä»¬éœ€è¦ä¸‹è½½ruby 2.7.5å¹¶å°†rubyç‰ˆæœ¬æŒ‡å‘2.7.5</p>
</blockquote>
<p>å¦‚æœä½ æœ‰æ¡ä»¶çš„è¯è¯·è¯•è¯•<a href="https://www.rubyonmac.dev/?utm_campaign=install-ruby-guide">macruby</a>109ç¾å…ƒç»ˆèº«ï¼Œrubyä¸å¤ªå‹å¥½</p>
<p>ä¸‹ç¯‡æ–‡ç« ç»§ç»­</p>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><p>[Macä¸‹çš„ç¯å¢ƒæ­å»º]: 	â€œ<a href="https://juejin.cn/post/7119039164074426375">https://juejin.cn/post/7119039164074426375</a> â€œ<br>[rbenvä¸‹è½½ç¼“æ…¢è§£å†³]: 	â€œ<a href="https://blog.csdn.net/shine_a/article/details/103927374">https://blog.csdn.net/shine_a/article/details/103927374</a> â€œ<br>[macä¸‹è½½rbenv]: 	â€œ<a href="https://juejin.cn/post/6899650892313100302">https://juejin.cn/post/6899650892313100302</a> â€œ<br>[CocoaPodså®‰è£…æ–¹æ³•]: 	â€œ<a href="https://blog.csdn.net/Wulitc/article/details/115682720&quot;">https://blog.csdn.net/Wulitc/article/details/115682720&quot;</a></p>
]]></content>
      <categories>
        <category>å·¥ç¨‹æŠ€æœ¯</category>
        <category>react-nativeç¯å¢ƒæ­å»º</category>
      </categories>
      <tags>
        <tag>ç¯å¢ƒæ­å»º</tag>
      </tags>
  </entry>
  <entry>
    <title>playcanvasåˆè¯†</title>
    <url>/2022/12/03/playcanvas%E5%88%9D%E8%AF%86/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="playcanvasï¼ˆåŸºäºWebGLçš„æ¸¸æˆå¼•æ“ï¼‰"><a href="#playcanvasï¼ˆåŸºäºWebGLçš„æ¸¸æˆå¼•æ“ï¼‰" class="headerlink" title="playcanvasï¼ˆåŸºäºWebGLçš„æ¸¸æˆå¼•æ“ï¼‰"></a>playcanvasï¼ˆåŸºäºWebGLçš„æ¸¸æˆå¼•æ“ï¼‰</h1><p>PlayCanvas æ˜¯ä¸€æ¬¾ä½¿ç”¨ HTML5 å’Œ WebGL æŠ€æœ¯è¿è¡Œæ¸¸æˆä»¥åŠå…¶ä»– 3D å†…å®¹çš„å¼€æºæ¸¸æˆå¼•æ“ï¼ŒPlayCanvas ä»¥å…¶ç‹¬ç‰¹çš„æ€§èƒ½å®ç°äº†åœ¨ä»»ä½•æ‰‹æœºç§»åŠ¨ç«¯å’Œæ¡Œé¢æµè§ˆå™¨ç«¯å‡å¯ä»¥æµç•…è¿è¡Œã€‚</p>
<p>PlayCanvas å¼•æ“æ˜¯ä¸€æ¬¾å¯ä»¥åŸºäºæµè§ˆå™¨çš„ç”¨äºåˆ¶ä½œæ¸¸æˆä»¥åŠ 3D å¯è§†åŒ–çš„å¼€æºå¼•æ“ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¼€å‘äº†<a href="https://playcanvas.com/">PlayCanvas å¼€å‘å¹³å°</a>ï¼Œ ä¸ºç”¨æˆ·æä¾›äº†å¯è§†åŒ–ç¼–è¾‘å™¨ï¼Œèµ„æºç®¡ç†ï¼Œä»£ç ç¼–è¾‘ï¼Œä»£ç æ‰˜ç®¡ä»¥åŠå‘å¸ƒç­‰æœåŠ¡ã€‚</p>
<blockquote>
<p>ç›®å‰ä¸­æ–‡çš„æ•™ç¨‹å¾ˆå°‘ï¼Œæ‰€ä»¥è‹±è¯­å¥½çš„åŒå­¦å¯ä»¥å»çœ‹ä¸€ä¸‹å›½å¤–çš„é‚£äº›æ•™ç¨‹ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰<a href="https://developer.playcanvas.com/zh/">ä¸­æ–‡æ–‡æ¡£</a>çš„ã€‚</p>
</blockquote>
<p>å¯è§†åŒ–å¹³å°æ“ä½œä¸Šå€’æ˜¯æ²¡ä»€ä¹ˆéš¾åº¦ï¼Œå°±æ˜¯å’Œæ­£å¸¸çš„å»ºæ¨¡æ“ä½œå¤§åŒå°å¼‚ï¼Œä¸€ä¸ªå¯è§†åŒ–çš„ä¸€ä¸ªæ“ä½œå¹³å°ï¼Œå¯ä»¥è¿›ä¸€æ­¥çš„æé«˜æˆ‘ä»¬å·¥ä½œçš„æ•ˆç‡å§ã€‚</p>
<h3 id="ä¸€ã€æ³¨å†Œè´¦æˆ·"><a href="#ä¸€ã€æ³¨å†Œè´¦æˆ·" class="headerlink" title="ä¸€ã€æ³¨å†Œè´¦æˆ·"></a>ä¸€ã€æ³¨å†Œè´¦æˆ·</h3><blockquote>
<p>æ³¨å†Œè´¦æˆ·çš„æ–¹å¼å¾ˆç®€å•ï¼Œæ ¹æ®æç¤ºå»æ³¨å†Œå°±å¯ä»¥äº†</p>
</blockquote>
<p><img src="/2022/12/03/playcanvas%E5%88%9D%E8%AF%86/image-20221203152809943.png"></p>
<h3 id="äºŒã€æ–°å»ºé¡¹ç›®"><a href="#äºŒã€æ–°å»ºé¡¹ç›®" class="headerlink" title="äºŒã€æ–°å»ºé¡¹ç›®"></a>äºŒã€æ–°å»ºé¡¹ç›®</h3><blockquote>
<p>1.æˆ‘ä»¬ç‚¹å‡»NEWï¼Œå³å¯åˆ›å»ºæ–°é¡¹ç›®</p>
<p>2.ç‚¹å‡»æˆ‘ä»¬çš„é¡¹ç›®å°±å¯ä»¥è¿›å…¥é¡¹ç›®ç•Œé¢</p>
<p>3.ç‚¹å‡»EDITORå°±å¯ä»¥è¿›å…¥å¯è§†åŒ–æ“ä½œå¹³å°ï¼Œå»æ“ä½œæˆ‘ä»¬çš„é¡¹ç›®</p>
</blockquote>
<p><img src="/2022/12/03/playcanvas%E5%88%9D%E8%AF%86/image-20221203153658606.png"></p>
<p><img src="/2022/12/03/playcanvas%E5%88%9D%E8%AF%86/image-20221203153755107.png"></p>
<p><img src="/2022/12/03/playcanvas%E5%88%9D%E8%AF%86/image-20221203152450815.png"></p>
<h3 id="ä¸‰ã€å¯¼å‡ºé¡¹ç›®"><a href="#ä¸‰ã€å¯¼å‡ºé¡¹ç›®" class="headerlink" title="ä¸‰ã€å¯¼å‡ºé¡¹ç›®"></a>ä¸‰ã€å¯¼å‡ºé¡¹ç›®</h3><blockquote>
<p>1.å¯¼å‡ºé¡¹ç›®å‰ï¼Œæˆ‘ä»¬å¾—å…ˆpulish</p>
<p>2.ç‚¹å‡»ä¸‹è½½ .zip åŒ…</p>
<p>3.å°†åŒ…ç”¨vsCodeæ‰“å¼€ï¼Œè¿è¡Œindex.html</p>
</blockquote>
<p><img src="/2022/12/03/playcanvas%E5%88%9D%E8%AF%86/image-20221203155914469.png"></p>
<p><img src="/2022/12/03/playcanvas%E5%88%9D%E8%AF%86/image-20221203160109159.png"></p>
<p><img src="/2022/12/03/playcanvas%E5%88%9D%E8%AF%86/image-20221203160208211.png"></p>
<h3 id="å››ã€å…¶ä»–ç•Œé¢èœå•"><a href="#å››ã€å…¶ä»–ç•Œé¢èœå•" class="headerlink" title="å››ã€å…¶ä»–ç•Œé¢èœå•"></a>å››ã€å…¶ä»–ç•Œé¢èœå•</h3><p><img src="/2022/12/03/playcanvas%E5%88%9D%E8%AF%86/image-20221203160737778.png"></p>
<h4 id="1-å·¥å…·æ å’Œèœå•æ "><a href="#1-å·¥å…·æ å’Œèœå•æ " class="headerlink" title="1.å·¥å…·æ å’Œèœå•æ "></a>1.å·¥å…·æ å’Œèœå•æ </h4><blockquote>
<p>ç‚¹å‡» PLAYCANVAS å›¾æ ‡ä¼šæ˜¾ç¤ºæ‰€æœ‰çš„å¯ç”¨åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨è¿™äº›åŠŸèƒ½ç¼–è¾‘åœºæ™¯ã€‚å¦‚æœæ‰¾ä¸åˆ°æŸä¸ªæŒ‰é’®æˆ–è€…å¿«æ·é”®ï¼Œè‚¯å®šæ˜¯èƒ½åœ¨èœå•é‡Œæ‰¾åˆ°å¯¹åº”åŠŸèƒ½çš„ã€‚</p>
<p>å·¥å…·æ æä¾›å¿«æ·è®¿é—®çš„å¸¸ç”¨åŠŸèƒ½ï¼Œå…¶ä¸­åŒ…å«æœ€é‡è¦çš„è¿è¡ŒæŒ‰é’®ã€‚è¿è¡ŒæŒ‰é’®ä¼šåœ¨ä¸€ä¸ªç‹¬ç«‹çš„æµè§ˆå™¨çª—å£ä¸­å¯åŠ¨æ¸¸æˆå¹¶ä¸”åŠ è½½å½“å‰çš„åœºæ™¯ï¼Œå¯ä»¥ç«‹å³å¼€å§‹æ¸¸æˆæµ‹è¯•ã€‚å¯ä»¥ä»å±æ€§ç¼–è¾‘æ ä¸­çœ‹åˆ°è¿è¡Œä¸­æ¸¸æˆçš„å®æ—¶å‚æ•°å˜åŒ–ã€‚</p>
</blockquote>
<p><img src="/2022/12/03/playcanvas%E5%88%9D%E8%AF%86/image-20221203161229021.png"></p>
<h4 id="2-å±‚çº§æ ‘"><a href="#2-å±‚çº§æ ‘" class="headerlink" title="2.å±‚çº§æ ‘"></a>2.å±‚çº§æ ‘</h4><blockquote>
<p>åœºæ™¯æ˜¯ç”±å±‚çº§ç»“æ„çš„å®ä½“ç»„æˆï¼Œåœºæ™¯å±‚çº§æ ‘æ˜¾ç¤ºäº†å½“å‰æ•´ä¸ªåœºæ™¯çš„æ ‘å½¢ç»“æ„ã€‚ä¸€ä¸ªåœºæ™¯æ°¸è¿œåŒ…å«ä¸€ä¸ªæ ¹èŠ‚ç‚¹å®ä½“ï¼Œä½äºå±‚çº§æ ‘çš„æœ€é¡¶ç«¯ã€‚æ‰€æœ‰å…¶ä»–çš„å®ä½“éƒ½æ˜¯ç”±å¼€å‘è€…é€æ­¥åŠ å…¥çš„ã€‚</p>
<p>å±‚çº§æ ‘é¢æ¿åŒ…å«äº†åœºæ™¯ä¸­çš„å…¨éƒ¨å®ä½“ï¼Œå¯ä»¥åœ¨å…¶ä¸­å¿«é€Ÿå®šä½å®ä½“ï¼Œè€Œä¸å¿…åœ¨åœºæ™¯ä¸­æœå¯»ã€‚ç‚¹å‡»å±‚çº§æ ‘ä¸Šçš„å®ä½“å°†ä¼šé€‰ä¸­å®ƒã€‚</p>
<h2 id="åˆ›å»ºå’Œåˆ é™¤å®ä½“"><a href="#åˆ›å»ºå’Œåˆ é™¤å®ä½“" class="headerlink" title="åˆ›å»ºå’Œåˆ é™¤å®ä½“"></a>åˆ›å»ºå’Œåˆ é™¤å®ä½“</h2><p>å½“åœ¨å±‚çº§æ ‘ä¸­é€‰ä¸­ä¸€ä¸ªå®ä½“æ—¶ï¼Œç”¨æˆ·å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä½“æˆ–è€…é€‰å‡ºè¿™ä¸ªæ‰€é€‰ä¸­çš„é€‰é¡¹ã€‚æˆ–è€…ä½¿ç”¨ä½äºå±‚çº§æ ‘é¢æ¿å·¦ä¸Šè§’çš„å„ç§æŒ‰é’®ï¼Œåˆæˆ–è€…é€šè¿‡ç‚¹å‡»æ“ä½œæ‰“å¼€å†…å®¹ç›®å½•æ¥è¿›è¡Œæ“ä½œã€‚</p>
</blockquote>
<p><img src="/2022/12/03/playcanvas%E5%88%9D%E8%AF%86/image-20221203161304494.png"></p>
<h4 id="3-æ£€æµ‹å™¨"><a href="#3-æ£€æµ‹å™¨" class="headerlink" title="3.æ£€æµ‹å™¨"></a>3.æ£€æµ‹å™¨</h4><blockquote>
<p>æ£€æŸ¥å™¨é¢æ¿ä¼šæ˜¾ç¤ºå½“å‰é€‰å®šå¯¹è±¡çš„å±æ€§å€¼ã€‚</p>
<p>æ ¹æ®é€‰æ‹©çš„ä¸åŒï¼Œä¼šç°å®ä¸åŒçš„æ£€æŸ¥å™¨é¢æ¿ã€‚ç›®å‰æœ‰</p>
<ul>
<li><strong>å®ä½“&#x2F;ç»„ä»¶æ£€æŸ¥å™¨</strong></li>
<li><strong>çº¹ç†æ£€æŸ¥å™¨</strong></li>
<li><strong>æè´¨æ£€æŸ¥å™¨</strong></li>
<li><strong>Cubemapæ£€æŸ¥å™¨</strong></li>
</ul>
<p>ä¿®æ”¹è¿™äº›æ•°å€¼ç”¨ä»¥ç‰¹åˆ¶åŒ–å®ä½“çš„è¡Œä¸ºã€‚è­¬å¦‚å¯ä»¥è®¾ç½® Model ç»„ä»¶æ‰€æ¸²æŸ“çš„æ¨¡å‹ï¼Œæˆ–ç¯å…‰çš„é¢œè‰²ç­‰ç¯ã€‚</p>
<p>æœ‰äº›å‚æ•°æ˜¯ç®€å•çš„æ–‡å­—æˆ–æ•°å€¼ï¼Œé€šè¿‡æ ‡å‡†çš„æ–‡å­—æ¡†å’Œæ»‘åŠ¨æ¡æ¥è¿›è¡Œä¿®æ”¹ã€‚æœ‰äº›å€¼éœ€è¦ç‰¹æ®Šçš„ç¼–è¾‘æ–¹å¼ï¼Œè­¬å¦‚ä»èµ„æºé¢æ¿ä¸­é€‰å–ä¸€ä¸ªé«˜äº®çš„èµ„æºä¹‹ç±»ï¼ˆé€‰å–çº¹ç†ç­‰ï¼‰ã€‚æœ‰äº›å€¼å¯ä»¥é€šè¿‡è§†å£è¿›è¡Œå¯è§†åŒ–ç¼–è¾‘ï¼Œè­¬å¦‚å¯ä»¥ç›´æ¥åœ¨è§†å£ä¸­ç”¨Gizmoå¹³ç§»æ—‹è½¬ç¼©æ”¾ä¸€ä¸ªå®ä½“çš„å˜æ¢å±æ€§.</p>
<p>åœ¨åº”ç”¨å’Œç¼–è¾‘å™¨åŒæ—¶è¿è¡Œçš„æƒ…å†µä¸‹ï¼Œå¯¹å®ä½“å±æ€§çš„ä¿®æ”¹å°†ä¼šä¼ é€’åˆ°è¿è¡Œä¸­çš„åº”ç”¨ä¸­ã€‚ä¸€ä¸ªç»ä½³çš„è¿­ä»£æ–¹å¼æ˜¯åœ¨åº”ç”¨è¿è¡Œèµ·æ¥ä¹‹åï¼Œå¹¶æ’æ‰“å¼€ç¼–è¾‘å™¨å’Œåº”ç”¨çª—å£ï¼Œå®æ—¶çš„å¯¹æƒ³è¦çš„è°ƒæ•´çš„å€¼è¿›è¡Œä¿®æ­£ã€‚</p>
</blockquote>
<p><img src="/2022/12/03/playcanvas%E5%88%9D%E8%AF%86/image-20221203161602442.png"></p>
<h4 id="4-è§†å£"><a href="#4-è§†å£" class="headerlink" title="4.è§†å£"></a>4.è§†å£</h4><blockquote>
<p>è§†å£å±•ç¤ºäº†å½“å‰åœºæ™¯çš„å¯è§†åŒ–çŠ¶æ€ã€‚ä½ å¯ä»¥é€šè¿‡ç§»åŠ¨æ‘„å½±æœºåœ¨åœºæ™¯ä¸­è‡ªç”±æ¼«æ¸¸ã€‚</p>
</blockquote>
<p><img src="/2022/12/03/playcanvas%E5%88%9D%E8%AF%86/image-20221203161643712.png"></p>
<blockquote>
<h2 id="æ‘„å½±æœº"><a href="#æ‘„å½±æœº" class="headerlink" title="æ‘„å½±æœº"></a>æ‘„å½±æœº</h2><p>åˆå§‹æƒ…å†µä¸‹ï¼Œç¼–è¾‘å™¨ä¼šé‡‡ç”¨ <strong>é€è§†</strong> æ‘„å½±æœºã€‚è¿™ç§æ‘„å½±æœºå¦‚åŒç”µå½±æ‘„å½±æœºä¸€èˆ¬æ¼‚æµ®åœ¨åœºæ™¯ä¹‹ä¸­ã€‚å¯ä»¥ä½¿ç”¨æ‘„å½±æœºé€‰æ‹©èœå•é€‰æ‹©åœºæ™¯ä¸­çš„ä¸åŒæ‘„å½±æœºã€‚ <strong>æ­£äº¤</strong> æ‘„å½±æœºåŒ…å«å‡ ä¸ªç¡®å®šçš„æœºä½ï¼šé¡¶è§†å›¾ï¼Œåº•è§†å›¾ï¼Œå‰è§†å›¾ï¼Œåè§†å›¾ï¼Œå·¦è§†å›¾ï¼Œå³è§†å›¾ã€‚é€šè¿‡è¿™äº›æœºä½å¯ä»¥æ— é€è§†çš„è§‚å¯Ÿåœºæ™¯ï¼Œç‰¹åˆ«æ–¹ä¾¿ç”¨æ¥è°ƒæ•´åœºæ™¯ä¸­çš„å®ä½“ä½ç½®ä¹‹ç±»ã€‚</p>
<p>åœ¨æ‘„å½±æœºèœå•ä¸­é€‰æ‹©æ‘„å½±æœºçš„åŒæ—¶ï¼Œåœºæ™¯ä¸­çš„æ‘„å½±æœºå®ä½“ä¼šè¢«æ˜¾ç¤ºä¸ºé«˜äº®çŠ¶æ€ã€‚å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ç²¾ç¡®çš„è®¾ç½®æ‘„å½±æœºä½ç½®ã€‚</p>
</blockquote>
<p><img src="/2022/12/03/playcanvas%E5%88%9D%E8%AF%86/image-20221203161804927.png"></p>
<h4 id="5-èµ„æº"><a href="#5-èµ„æº" class="headerlink" title="5.èµ„æº"></a>5.èµ„æº</h4><blockquote>
<p>èµ„æºé¢æ¿ç®¡ç†äº†æ‰€æœ‰çš„é¡¹ç›®ä¸­çš„å¯ç”¨èµ„æºã€‚ä»è¿™ä¸ªé¢æ¿å¯ä»¥åˆ›å»ºï¼Œä¸Šä¼ ï¼Œåˆ é™¤ï¼ŒæŸ¥çœ‹å’Œç¼–è¾‘ä»»ä½•èµ„æº</p>
</blockquote>
<p><img src="/2022/12/03/playcanvas%E5%88%9D%E8%AF%86/image-20221203161917993.png"></p>
<h3 id="äº”ã€å°ç»“"><a href="#äº”ã€å°ç»“" class="headerlink" title="äº”ã€å°ç»“"></a>äº”ã€å°ç»“</h3><blockquote>
<p>three.jsè¿˜æ˜¯æ¯”PlayCanvasæ´»è·ƒçš„ï¼Œå½“ç„¶ï¼Œå¦‚æœæ„Ÿå…´è¶£å¹¶ä¸”æœ‰ç²¾åŠ›çš„è¯ï¼Œè¿˜æ˜¯å»ºè®®éƒ½äº†è§£äº†è§£</p>
<p>æ¯•ç«ŸçŸ¥è¯†æ˜¯æ— ç©·æ— å°½çš„</p>
</blockquote>
<p><img src="/2022/12/03/playcanvas%E5%88%9D%E8%AF%86/image-20221203162850169.png"></p>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><p>[playcanvas-github]: 	â€œ<a href="https://github.com/playcanvas/engine/blob/main/README-zh.md">https://github.com/playcanvas/engine/blob/main/README-zh.md</a> â€œ<br>[playcanvasä¸­æ–‡]: 	â€œ<a href="https://developer.playcanvas.com/zh/">https://developer.playcanvas.com/zh/</a> â€œ</p>
]]></content>
      <categories>
        <category>Web3D</category>
        <category>playcanvas</category>
        <category>playcanvasåˆè¯†</category>
      </categories>
      <tags>
        <tag>playcanvas</tag>
      </tags>
  </entry>
  <entry>
    <title>threejs-d-2.0</title>
    <url>/2022/11/29/threejs-d-2-0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="threejs-d-2-0"><a href="#threejs-d-2-0" class="headerlink" title="threejs-d-2.0"></a>threejs-d-2.0</h1><h3 id="ä¸€ã€åˆ›å»ºç¬¬ä¸€ä¸ªthreejsåº”ç”¨"><a href="#ä¸€ã€åˆ›å»ºç¬¬ä¸€ä¸ªthreejsåº”ç”¨" class="headerlink" title="ä¸€ã€åˆ›å»ºç¬¬ä¸€ä¸ªthreejsåº”ç”¨"></a>ä¸€ã€åˆ›å»ºç¬¬ä¸€ä¸ªthreejsåº”ç”¨</h3><p>ä»£ç æ±‡æ€»ï¼š</p>
<pre><code class="javascript">//main.js
import * as THREE from &#39;three&#39;

const scene = new THREE.Scene();//åˆ›å»ºåœºæ™¯
const camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );//åˆ›å»ºé€è§†ç›¸æœºï¼ˆç›¸æœºä¸­çš„ä¸€ç§ï¼‰
const renderer = new THREE.WebGLRenderer();//åˆ›å»ºæ¸²æŸ“å™¨
renderer.setSize( window.innerWidth, window.innerHeight );//å°†è¾“å‡ºcanvasçš„å¤§å°è°ƒæ•´ä¸º(width, height)å¹¶è€ƒè™‘è®¾å¤‡åƒç´ æ¯”ï¼Œä¸”å°†è§†å£ä»(0, 0)å¼€å§‹è°ƒæ•´åˆ°é€‚åˆå¤§å°
document.body.appendChild( renderer.domElement );//å°†rendererï¼ˆæ¸²æŸ“å™¨ï¼‰çš„domå…ƒç´ ï¼ˆrenderer.domElementï¼‰æ·»åŠ åˆ°æˆ‘ä»¬çš„HTMLæ–‡æ¡£ä¸­

const geometry = new THREE.BoxGeometry( 1, 1, 1 );//åˆ›å»ºå‡ ä½•ä½“
const material = new THREE.MeshBasicMaterial( &#123; color: 0x00ff00 &#125; );//åˆ›å»ºåŸºç¡€ç½‘æ ¼æè´¨
const cube = new THREE.Mesh( geometry, material );//ä½¿ç”¨æ„é€ å™¨
scene.add( cube );//å°†å‡ ä½•ä½“æ·»åŠ åˆ°åœºæ™¯
camera.position.z = 5;//è°ƒæ•´ç›¸æœºä½ç½®ï¼ˆé»˜è®¤0ï¼Œ0ï¼Œ0ï¼‰

//å‡ ä½•ä½“å¾ªç¯æ—‹è½¬åŠ¨ç”»
function animate() &#123;
    requestAnimationFrame( animate );
  //æ—‹è½¬åæ ‡å˜æ¢
    cube.rotation.x += 0.01;
    cube.rotation.y += 0.01;
  //é‡æ–°æ¸²æŸ“å‡ ä½•ä½“
    renderer.render( scene, camera );
&#125;
animate();
</code></pre>
<h4 id="1-åˆ›å»ºåœºæ™¯ã€ç›¸æœºã€æ¸²æŸ“å™¨"><a href="#1-åˆ›å»ºåœºæ™¯ã€ç›¸æœºã€æ¸²æŸ“å™¨" class="headerlink" title="1.åˆ›å»ºåœºæ™¯ã€ç›¸æœºã€æ¸²æŸ“å™¨"></a>1.åˆ›å»ºåœºæ™¯ã€ç›¸æœºã€æ¸²æŸ“å™¨</h4><blockquote>
<p>å¦‚æœæˆ‘ä»¬æœ‰ç©è¿‡ä¸‰ç»´è½¯ä»¶çš„åŒå­¦åº”è¯¥ä¸ä¼šé™Œç”Ÿè¿™å‡ ä¸ªæ¦‚å¿µ</p>
<p>æˆ‘ä»¬ä¸‹é¢ä»¥ä¸‰ç»´è½¯ä»¶C4Dæ¥ç®€å•è®¤è¯†ä¸€ä¸‹å§</p>
</blockquote>
<p><img src="/2022/11/29/threejs-d-2-0/image-20221129085326176.png"></p>
<p>æˆ‘ä»¬èŠ±ä¸€ç‚¹ç‚¹æ—¶é—´æ¥è§£é‡Šä¸€ä¸‹è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆã€‚æˆ‘ä»¬ç°åœ¨å»ºç«‹äº†åœºæ™¯ã€ç›¸æœºå’Œæ¸²æŸ“å™¨ã€‚</p>
<pre><code class="javascript">const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
const renderer = new THREE.WebGLRenderer();
renderer.setSize( window.innerWidth, window.innerHeight );
document.body.appendChild( renderer.domElement );
</code></pre>
<p>three.jsé‡Œæœ‰å‡ ç§ä¸åŒçš„ç›¸æœºï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯<strong>PerspectiveCamera</strong>ï¼ˆé€è§†æ‘„åƒæœºï¼‰ã€‚</p>
<p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<strong>è§†é‡è§’åº¦ï¼ˆFOVï¼‰</strong>ã€‚è§†é‡è§’åº¦å°±æ˜¯æ— è®ºåœ¨ä»€ä¹ˆæ—¶å€™ï¼Œä½ æ‰€èƒ½åœ¨æ˜¾ç¤ºå™¨ä¸Šçœ‹åˆ°çš„åœºæ™¯çš„èŒƒå›´ï¼Œå®ƒçš„å•ä½æ˜¯è§’åº¦(ä¸å¼§åº¦åŒºåˆ†å¼€)ã€‚</p>
<p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯<strong>é•¿å®½æ¯”ï¼ˆaspect ratioï¼‰</strong>ã€‚ ä¹Ÿå°±æ˜¯ä½ ç”¨ä¸€ä¸ªç‰©ä½“çš„å®½é™¤ä»¥å®ƒçš„é«˜çš„å€¼ã€‚æ¯”å¦‚è¯´ï¼Œå½“ä½ åœ¨ä¸€ä¸ªå®½å±ç”µè§†ä¸Šæ’­æ”¾è€ç”µå½±æ—¶ï¼Œå¯ä»¥çœ‹åˆ°å›¾åƒä»¿ä½›æ˜¯è¢«å‹æ‰çš„ã€‚</p>
<p>æ¥ä¸‹æ¥çš„ä¸¤ä¸ªå‚æ•°æ˜¯<strong>è¿‘æˆªé¢</strong>ï¼ˆnearï¼‰å’Œ<strong>è¿œæˆªé¢</strong>ï¼ˆfarï¼‰ã€‚ å½“ç‰©ä½“æŸäº›éƒ¨åˆ†æ¯”æ‘„åƒæœºçš„<strong>è¿œæˆªé¢</strong>è¿œæˆ–è€…æ¯”<strong>è¿‘æˆªé¢</strong>è¿‘çš„æ—¶å€™ï¼Œè¯¥è¿™äº›éƒ¨åˆ†å°†ä¸ä¼šè¢«æ¸²æŸ“åˆ°åœºæ™¯ä¸­ã€‚æˆ–è®¸ç°åœ¨ä½ ä¸ç”¨æ‹…å¿ƒè¿™ä¸ªå€¼çš„å½±å“ï¼Œä½†æœªæ¥ä¸ºäº†è·å¾—æ›´å¥½çš„æ¸²æŸ“æ€§èƒ½ï¼Œä½ å°†å¯ä»¥åœ¨ä½ çš„åº”ç”¨ç¨‹åºé‡Œå»è®¾ç½®å®ƒã€‚</p>
<p>æ¥ä¸‹æ¥æ˜¯æ¸²æŸ“å™¨ã€‚è¿™é‡Œæ˜¯æ–½å±•é­”æ³•çš„åœ°æ–¹ã€‚é™¤äº†æˆ‘ä»¬åœ¨è¿™é‡Œç”¨åˆ°çš„WebGLRendereræ¸²æŸ“å™¨ä¹‹å¤–ï¼ŒThree.jsåŒæ—¶æä¾›äº†å…¶ä»–å‡ ç§æ¸²æŸ“å™¨ï¼Œå½“ç”¨æˆ·æ‰€ä½¿ç”¨çš„æµè§ˆå™¨è¿‡äºè€æ—§ï¼Œæˆ–è€…ç”±äºå…¶ä»–åŸå› ä¸æ”¯æŒWebGLæ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¿™å‡ ç§æ¸²æŸ“å™¨è¿›è¡Œé™çº§ã€‚</p>
<p>é™¤äº†åˆ›å»ºä¸€ä¸ªæ¸²æŸ“å™¨çš„å®ä¾‹ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºé‡Œè®¾ç½®ä¸€ä¸ªæ¸²æŸ“å™¨çš„å°ºå¯¸ã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ‰€éœ€è¦çš„æ¸²æŸ“åŒºåŸŸçš„å®½é«˜ï¼Œæ¥è®©æ¸²æŸ“å™¨æ¸²æŸ“å‡ºçš„åœºæ™¯å¡«å……æ»¡æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ¸²æŸ“å™¨å®½é«˜è®¾ç½®ä¸ºæµè§ˆå™¨çª—å£å®½é«˜ã€‚å¯¹äºæ€§èƒ½æ¯”è¾ƒæ•æ„Ÿçš„åº”ç”¨ç¨‹åºæ¥è¯´ï¼Œä½ å¯ä»¥ä½¿ç”¨<strong>setSize</strong>ä¼ å…¥ä¸€ä¸ªè¾ƒå°çš„å€¼ï¼Œä¾‹å¦‚<strong>window.innerWidth&#x2F;2</strong>å’Œ<strong>window.innerHeight&#x2F;2</strong>ï¼Œè¿™å°†ä½¿å¾—åº”ç”¨ç¨‹åºåœ¨æ¸²æŸ“æ—¶ï¼Œä»¥ä¸€åŠçš„é•¿å®½å°ºå¯¸æ¸²æŸ“åœºæ™¯ã€‚</p>
<p>å¦‚æœä½ å¸Œæœ›ä¿æŒä½ çš„åº”ç”¨ç¨‹åºçš„å°ºå¯¸ï¼Œä½†æ˜¯ä»¥è¾ƒä½çš„åˆ†è¾¨ç‡æ¥æ¸²æŸ“ï¼Œä½ å¯ä»¥åœ¨è°ƒç”¨<strong>setSize</strong>æ—¶ï¼Œå°†<strong>updateStyle</strong>ï¼ˆç¬¬ä¸‰ä¸ªå‚æ•°ï¼‰è®¾ä¸ºfalseã€‚ä¾‹å¦‚ï¼Œå‡è®¾ä½ çš„<canvas> æ ‡ç­¾ç°åœ¨å·²ç»å…·æœ‰äº†100%çš„å®½å’Œé«˜ï¼Œè°ƒç”¨**setSize(window.innerWidth&#x2F;2, window.innerHeight&#x2F;2, false)**å°†ä½¿å¾—ä½ çš„åº”ç”¨ç¨‹åºä»¥ä¸€åŠçš„åˆ†è¾¨ç‡æ¥è¿›è¡Œæ¸²æŸ“ã€‚</p>
<pre><code class="javascript">document.body.appendChild( renderer.domElement );
</code></pre>
<p>æœ€åä¸€æ­¥å¾ˆé‡è¦ï¼Œæˆ‘ä»¬å°†<strong>renderer</strong>ï¼ˆæ¸²æŸ“å™¨ï¼‰çš„domå…ƒç´ ï¼ˆrenderer.domElementï¼‰æ·»åŠ åˆ°æˆ‘ä»¬çš„HTMLæ–‡æ¡£ä¸­ã€‚è¿™å°±æ˜¯æ¸²æŸ“å™¨ç”¨æ¥æ˜¾ç¤ºåœºæ™¯ç»™æˆ‘ä»¬çœ‹çš„<canvas>å…ƒç´ ã€‚</p>
<h4 id="2-åˆ›å»ºå‡ ä½•ä½“ã€æè´¨"><a href="#2-åˆ›å»ºå‡ ä½•ä½“ã€æè´¨" class="headerlink" title="2.åˆ›å»ºå‡ ä½•ä½“ã€æè´¨"></a>2.åˆ›å»ºå‡ ä½•ä½“ã€æè´¨</h4><blockquote>
<p>å¯¹äºæè´¨è¿™å—ï¼Œå°±æ˜¯ç»™ä¸€ä¸ªæ²¡æœ‰ä»»ä½•å±æ€§çš„ç‰©ä½“æ·»åŠ å±æ€§ï¼Œç»ç’ƒã€é‡‘å±ã€ç‰ã€æœ‰é¢œè‰²çš„ç«‹æ–¹ä½“ã€‚</p>
</blockquote>
<p><img src="/2022/11/29/threejs-d-2-0/image-20221129090339038.png"></p>
<p>è¦åˆ›å»ºä¸€ä¸ªç«‹æ–¹ä½“ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ª<strong>BoxGeometry</strong>ï¼ˆç«‹æ–¹ä½“ï¼‰å¯¹è±¡. è¿™ä¸ªå¯¹è±¡åŒ…å«äº†ä¸€ä¸ªç«‹æ–¹ä½“ä¸­æ‰€æœ‰çš„é¡¶ç‚¹ï¼ˆ<strong>vertices</strong>ï¼‰å’Œé¢ï¼ˆ<strong>faces</strong>ï¼‰ã€‚æœªæ¥æˆ‘ä»¬å°†åœ¨è¿™æ–¹é¢è¿›è¡Œæ›´å¤šçš„æ¢ç´¢ã€‚</p>
<pre><code class="javascript">const geometry = new THREE.BoxGeometry( 1, 1, 1 );
const material = new THREE.MeshBasicMaterial( &#123; color: 0x00ff00 &#125; );
const cube = new THREE.Mesh( geometry, material );
scene.add( cube );
camera.position.z = 5;
</code></pre>
<p>æ¥ä¸‹æ¥ï¼Œå¯¹äºè¿™ä¸ªç«‹æ–¹ä½“ï¼Œæˆ‘ä»¬éœ€è¦ç»™å®ƒä¸€ä¸ªæè´¨ï¼Œæ¥è®©å®ƒæœ‰é¢œè‰²ã€‚Three.jsè‡ªå¸¦äº†å‡ ç§æè´¨ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯<strong>MeshBasicMaterial</strong>ã€‚æ‰€æœ‰çš„æè´¨éƒ½å­˜æœ‰åº”ç”¨äºä»–ä»¬çš„å±æ€§çš„å¯¹è±¡ã€‚åœ¨è¿™é‡Œä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬åªè®¾ç½®ä¸€ä¸ªcolorå±æ€§ï¼Œå€¼ä¸º<strong>0x00ff00</strong>ï¼Œä¹Ÿå°±æ˜¯ç»¿è‰²ã€‚è¿™é‡Œæ‰€åšçš„äº‹æƒ…ï¼Œå’Œåœ¨CSSæˆ–è€…Photoshopä¸­ä½¿ç”¨åå…­è¿›åˆ¶(<strong>hex colors</strong>)é¢œè‰²æ ¼å¼æ¥è®¾ç½®é¢œè‰²çš„æ–¹å¼ä¸€è‡´ã€‚</p>
<p>ç¬¬ä¸‰æ­¥ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ª<strong>Mesh</strong>ï¼ˆç½‘æ ¼ï¼‰ã€‚ ç½‘æ ¼åŒ…å«ä¸€ä¸ªå‡ ä½•ä½“ä»¥åŠä½œç”¨åœ¨æ­¤å‡ ä½•ä½“ä¸Šçš„æè´¨ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å°†ç½‘æ ¼å¯¹è±¡æ”¾å…¥åˆ°æˆ‘ä»¬çš„åœºæ™¯ä¸­ï¼Œå¹¶è®©å®ƒåœ¨åœºæ™¯ä¸­è‡ªç”±ç§»åŠ¨ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬è°ƒç”¨**scene.add()<strong>çš„æ—¶å€™ï¼Œç‰©ä½“å°†ä¼šè¢«æ·»åŠ åˆ°</strong>(0,0,0)**åæ ‡ã€‚ä½†å°†ä½¿å¾—æ‘„åƒæœºå’Œç«‹æ–¹ä½“å½¼æ­¤åœ¨ä¸€èµ·ã€‚ä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µçš„å‘ç”Ÿï¼Œæˆ‘ä»¬åªéœ€è¦å°†æ‘„åƒæœºç¨å¾®å‘å¤–ç§»åŠ¨ä¸€äº›å³å¯ã€‚</p>
<h4 id="3-åˆ›å»ºæ¸²æŸ“"><a href="#3-åˆ›å»ºæ¸²æŸ“" class="headerlink" title="3.åˆ›å»ºæ¸²æŸ“"></a>3.åˆ›å»ºæ¸²æŸ“</h4><blockquote>
<p>è¿™ä¸ªå°±æ¯”è¾ƒå¥½ç†è§£äº†ï¼Œæ·»åŠ xï¼Œyï¼Œzæ–¹å‘çš„ä½ç½®å˜åŒ–</p>
</blockquote>
<p>ç°åœ¨ï¼Œå¦‚æœå°†ä¹‹å‰å†™å¥½çš„ä»£ç å¤åˆ¶åˆ°HTMLæ–‡ä»¶ä¸­ï¼Œä½ ä¸ä¼šåœ¨é¡µé¢ä¸­çœ‹åˆ°ä»»ä½•ä¸œè¥¿ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰å¯¹å®ƒè¿›è¡ŒçœŸæ­£çš„æ¸²æŸ“ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ä¸ªè¢«å«åšâ€œ<strong>æ¸²æŸ“å¾ªç¯</strong>â€ï¼ˆrender loopï¼‰æˆ–è€…â€œ<strong>åŠ¨ç”»å¾ªç¯</strong>â€ï¼ˆanimate loopï¼‰çš„ä¸œè¥¿ã€‚</p>
<pre><code class="javascript">function animate() &#123; 
requestAnimationFrame( animate ); 
renderer.render( scene, camera ); 
&#125; 
animate();
</code></pre>
<p>åœ¨è¿™é‡Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªä½¿æ¸²æŸ“å™¨èƒ½å¤Ÿåœ¨æ¯æ¬¡å±å¹•åˆ·æ–°æ—¶å¯¹åœºæ™¯è¿›è¡Œç»˜åˆ¶çš„å¾ªç¯ï¼ˆåœ¨å¤§å¤šæ•°å±å¹•ä¸Šï¼Œåˆ·æ–°ç‡ä¸€èˆ¬æ˜¯60æ¬¡&#x2F;ç§’ï¼‰ã€‚å¦‚æœä½ æ˜¯ä¸€ä¸ªæµè§ˆå™¨æ¸¸æˆå¼€å‘çš„æ–°æ‰‹ï¼Œä½ æˆ–è®¸ä¼šè¯´<em>â€œä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸ç›´æ¥ç”¨setIntervalæ¥å®ç°åˆ·æ–°çš„åŠŸèƒ½å‘¢ï¼Ÿâ€</em>å½“ç„¶å•¦ï¼Œæˆ‘ä»¬çš„ç¡®å¯ä»¥ç”¨setIntervalï¼Œä½†æ˜¯ï¼Œ<strong>requestAnimationFrame</strong>æœ‰å¾ˆå¤šçš„ä¼˜ç‚¹ã€‚æœ€é‡è¦çš„ä¸€ç‚¹æˆ–è®¸å°±æ˜¯å½“ç”¨æˆ·åˆ‡æ¢åˆ°å…¶å®ƒçš„æ ‡ç­¾é¡µæ—¶ï¼Œå®ƒä¼šæš‚åœï¼Œå› æ­¤ä¸ä¼šæµªè´¹ç”¨æˆ·å®è´µçš„å¤„ç†å™¨èµ„æºï¼Œä¹Ÿä¸ä¼šæŸè€—ç”µæ± çš„ä½¿ç”¨å¯¿å‘½ã€‚</p>
<p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œå¦‚æœä½ å·²ç»å°†ä¸Šé¢çš„ä»£ç å†™å…¥åˆ°äº†ä½ æ‰€åˆ›å»ºçš„æ–‡ä»¶ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°ä¸€ä¸ªç»¿è‰²çš„æ–¹å—ã€‚è®©æˆ‘ä»¬æ¥åšä¸€äº›æ›´åŠ æœ‰è¶£çš„äº‹ â€”â€” è®©å®ƒæ—‹è½¬èµ·æ¥ã€‚</p>
<p>å°†ä¸‹åˆ—ä»£ç æ·»åŠ åˆ°animate()å‡½æ•°ä¸­<strong>renderer.render</strong>è°ƒç”¨çš„ä¸Šæ–¹ï¼š</p>
<pre><code class="javascript">cube.rotation.x += 0.01; 
cube.rotation.y += 0.01;
</code></pre>
<p>è¿™æ®µä»£ç æ¯å¸§éƒ½ä¼šæ‰§è¡Œï¼ˆæ­£å¸¸æƒ…å†µä¸‹æ˜¯60æ¬¡&#x2F;ç§’ï¼‰ï¼Œè¿™å°±è®©ç«‹æ–¹ä½“æœ‰äº†ä¸€ä¸ªçœ‹èµ·æ¥å¾ˆä¸é”™çš„æ—‹è½¬åŠ¨ç”»ã€‚åŸºæœ¬ä¸Šæ¥è¯´ï¼Œå½“åº”ç”¨ç¨‹åºè¿è¡Œæ—¶ï¼Œå¦‚æœä½ æƒ³è¦ç§»åŠ¨æˆ–è€…æ”¹å˜ä»»ä½•åœºæ™¯ä¸­çš„ä¸œè¥¿ï¼Œéƒ½å¿…é¡»è¦ç»è¿‡è¿™ä¸ªåŠ¨ç”»å¾ªç¯ã€‚å½“ç„¶ï¼Œä½ å¯ä»¥åœ¨è¿™ä¸ªåŠ¨ç”»å¾ªç¯é‡Œè°ƒç”¨åˆ«çš„å‡½æ•°ï¼Œè¿™æ ·ä½ å°±ä¸ä¼šå†™å‡ºæœ‰ä¸Šç™¾è¡Œä»£ç çš„<strong>animate</strong>å‡½æ•°ã€‚</p>
<h4 id="æ•ˆæœæ¼”ç¤ºï¼š"><a href="#æ•ˆæœæ¼”ç¤ºï¼š" class="headerlink" title="æ•ˆæœæ¼”ç¤ºï¼š"></a>æ•ˆæœæ¼”ç¤ºï¼š</h4><p><img src="/2022/11/29/threejs-d-2-0/image-20221129090831716.png"></p>
<h3 id="äºŒã€æ§åˆ¶å™¨ï¼ˆè½¨é“æ§åˆ¶å™¨ï¼‰"><a href="#äºŒã€æ§åˆ¶å™¨ï¼ˆè½¨é“æ§åˆ¶å™¨ï¼‰" class="headerlink" title="äºŒã€æ§åˆ¶å™¨ï¼ˆè½¨é“æ§åˆ¶å™¨ï¼‰"></a>äºŒã€æ§åˆ¶å™¨ï¼ˆè½¨é“æ§åˆ¶å™¨ï¼‰</h3><blockquote>
<p>æ§åˆ¶å™¨æœ‰è®¸å¤šï¼Œæˆ‘ä»¬è¿™å…ˆè¯´è¿™ä¸€ç§</p>
<p>è½¨é“æ§åˆ¶å™¨æ˜¯ä»¥ç‰©ä½“ä¸ºä¸­å¿ƒï¼Œå¯¹ç‰©ä½“åšç¯ç»•è¿åŠ¨</p>
</blockquote>
<p>ä»£ç æ±‡æ€»ï¼š</p>
<pre><code class="javascript">//main.js
import * as THREE from &#39;three&#39;
import &#123; OrbitControls &#125; from &#39;three/examples/jsm/controls/OrbitControls&#39; //å¯¼å…¥è½¨é“æ§åˆ¶å™¨

const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 1, 10000 );
const renderer = new THREE.WebGLRenderer();
renderer.setSize( window.innerWidth, window.innerHeight );
document.body.appendChild( renderer.domElement );

const geometry = new THREE.BoxGeometry( 5, 5, 5 );
const material = new THREE.MeshBasicMaterial( &#123; color: 0x00ff00 &#125; );
const cube = new THREE.Mesh( geometry, material );
scene.add( cube );
const controls = new OrbitControls( camera,renderer.domElement  );
camera.position.set(0,20,100);
controls.update();//æ›´æ–°æ§åˆ¶å™¨ã€‚å¿…é¡»åœ¨æ‘„åƒæœºçš„å˜æ¢å‘ç”Ÿä»»ä½•æ‰‹åŠ¨æ”¹å˜åè°ƒç”¨
function animate() &#123;
    requestAnimationFrame( animate );
    controls.update();//å¾ªç¯æ›´æ–°è½¨é“æ§åˆ¶å™¨
    renderer.render( scene, camera );
&#125;
animate();
</code></pre>
<p>OrbitControls( object : Camera, domElement : HTMLDOMElement )</p>
<p>object: ï¼ˆå¿…é¡»ï¼‰å°†è¦è¢«æ§åˆ¶çš„ç›¸æœºã€‚è¯¥ç›¸æœºä¸å…è®¸æ˜¯å…¶ä»–ä»»ä½•å¯¹è±¡çš„å­çº§ï¼Œé™¤éè¯¥å¯¹è±¡æ˜¯åœºæ™¯è‡ªèº«ã€‚</p>
<p>domElement: ç”¨äºäº‹ä»¶ç›‘å¬çš„HTMLå…ƒç´ ã€‚</p>
<p>é‚£æˆ‘ä»¬ç°åœ¨å°±å¯ä»¥ç§»åŠ¨æˆ‘ä»¬çš„ç›¸æœºæ¥è§‚å¯Ÿæˆ‘ä»¬çš„ç‰©ä½“äº†ã€‚</p>
<h3 id="ä¸‰ã€æ·»åŠ è¾…åŠ©å™¨"><a href="#ä¸‰ã€æ·»åŠ è¾…åŠ©å™¨" class="headerlink" title="ä¸‰ã€æ·»åŠ è¾…åŠ©å™¨"></a>ä¸‰ã€æ·»åŠ è¾…åŠ©å™¨</h3><blockquote>
<p>è¿™ä¸ªæ¥è‡ªä¸æˆ‘ä»¬helpé‡Œé¢çš„ä¸œè¥¿ï¼Œæ–‡æ¡£é‡ŒæŸ¥å°±å¯ä»¥äº†</p>
<p>æ·»åŠ è¾…åŠ©å™¨çš„ç”¨å¤„æ˜¯ä¸ºäº†æ›´å¥½çš„å»å¼€å‘</p>
</blockquote>
<h4 id="1-åæ ‡è¾…åŠ©å™¨"><a href="#1-åæ ‡è¾…åŠ©å™¨" class="headerlink" title="1.åæ ‡è¾…åŠ©å™¨"></a>1.åæ ‡è¾…åŠ©å™¨</h4><blockquote>
<p>ç”¨äºç®€å•æ¨¡æ‹Ÿ3ä¸ªåæ ‡è½´çš„å¯¹è±¡.<br>çº¢è‰²ä»£è¡¨ X è½´. ç»¿è‰²ä»£è¡¨ Y è½´. è“è‰²ä»£è¡¨ Z è½´.</p>
</blockquote>
<pre><code class="javascript">const axesHelper = new THREE.AxesHelper( 5 );//è½´çš„çº¿æ®µé•¿åº¦. é»˜è®¤ä¸º 1.
scene.add( axesHelper );//æ·»åŠ åˆ°åœºæ™¯
</code></pre>
<p><img src="/2022/11/29/threejs-d-2-0/image-20221129155031932.png"></p>
<h4 id="2-ç›¸æœºè¾…åŠ©å™¨"><a href="#2-ç›¸æœºè¾…åŠ©å™¨" class="headerlink" title="2.ç›¸æœºè¾…åŠ©å™¨"></a>2.ç›¸æœºè¾…åŠ©å™¨</h4><blockquote>
<p>ç”¨äºæ¨¡æ‹Ÿç›¸æœºè§†é”¥ä½“çš„è¾…åŠ©å¯¹è±¡.<br>å®ƒä½¿ç”¨ LineSegments æ¥æ¨¡æ‹Ÿç›¸æœºè§†é”¥ä½“.</p>
</blockquote>
<pre><code class="javascript">const camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
const helper = new THREE.CameraHelper( camera );
scene.add( helper );
</code></pre>
<p><img src="/2022/11/29/threejs-d-2-0/image-20221129155852737.png"></p>
<p>CameraHelper( camera : Camera )</p>
<p>camera â€“ è¢«æ¨¡æ‹Ÿçš„ç›¸æœº.</p>
<p>ä¸ºæŒ‡å®šç›¸æœºåˆ›å»ºä¸€ä¸ªæ–°çš„ç›¸æœºè¾…åŠ©å¯¹è±¡ CameraHelper .</p>
<h4 id="3-å¹³é¢è¾…åŠ©å™¨"><a href="#3-å¹³é¢è¾…åŠ©å™¨" class="headerlink" title="3.å¹³é¢è¾…åŠ©å™¨"></a>3.å¹³é¢è¾…åŠ©å™¨</h4><blockquote>
<p>ç”¨äºæ¨¡æ‹Ÿå¹³é¢ Plane çš„è¾…åŠ©å¯¹è±¡.</p>
</blockquote>
<pre><code class="javascript">const plane = new THREE.Plane( new THREE.Vector3( 1, 1, 0.2 ), 3 );
const helper = new THREE.PlaneHelper( plane, 100, 0xffff00 );
scene.add( helper );
</code></pre>
<p><img src="/2022/11/29/threejs-d-2-0/image-20221129160213446.png"></p>
<p>PlaneHelper( plane : Plane, size : Float, hex : Color )</p>
<p>plane â€“ è¢«æ¨¡æ‹Ÿçš„å¹³é¢.<br>size â€“ (å¯é€‰çš„) è¾…åŠ©å¯¹è±¡çš„å•è¾¹é•¿åº¦. é»˜è®¤ä¸º 1.<br>color â€“ (å¯é€‰çš„) è¾…åŠ©å¯¹è±¡çš„é¢œè‰². é»˜è®¤ä¸º 0xffff00.</p>
<p>åˆ›å»ºä¸€ä¸ªçº¿æ¡†è¾…åŠ©å¯¹è±¡æ¥è¡¨ç¤ºæŒ‡å®šå¹³é¢.</p>
<h4 id="ç»ˆç»“ï¼š"><a href="#ç»ˆç»“ï¼š" class="headerlink" title="ç»ˆç»“ï¼š"></a>ç»ˆç»“ï¼š</h4><p>å…¶ä»–çš„è¾…åŠ©å™¨ï¼Œæˆ‘ä»¬å°±è‡ªå·±æŒ‰ç…§éœ€æ±‚å»åŠ å§ï¼Œè¿™ä¸ªå°±æ˜¯åšä¸€ä¸ªå‚ç…§</p>
<h3 id="å››ã€ç‰©ä½“çš„å±æ€§"><a href="#å››ã€ç‰©ä½“çš„å±æ€§" class="headerlink" title="å››ã€ç‰©ä½“çš„å±æ€§"></a>å››ã€ç‰©ä½“çš„å±æ€§</h3><blockquote>
<p>ç‰©ä½“çš„å±æ€§ï¼Œé‚£æˆ‘ä»¬è¦çœ‹ä¸€ä¸‹cubeæ˜¯ä»€ä¹ˆäº†</p>
<p>æ ¹æ®æ§åˆ¶å°æ‰“å°ï¼Œå®ƒæ˜¯ä¸ªMeshç±»ï¼Œä¸‹é¢æœ‰è®¸å¤šå±æ€§</p>
</blockquote>
<pre><code class="javascript">const geometry = new THREE.BoxGeometry( 5, 5, 5 );
const material = new THREE.MeshBasicMaterial( &#123; color: 0x00ff00 &#125; );
const cube = new THREE.Mesh( geometry, material );
scene.add( cube );
</code></pre>
<p><img src="/2022/11/29/threejs-d-2-0/image-20221129160944920.png"></p>
<h4 id="1-ç‰©ä½“çš„ä½ç§»"><a href="#1-ç‰©ä½“çš„ä½ç§»" class="headerlink" title="1.ç‰©ä½“çš„ä½ç§»"></a>1.ç‰©ä½“çš„ä½ç§»</h4><blockquote>
<p>æ§åˆ¶ç‰©ä½“çš„ä½ç½®</p>
</blockquote>
<pre><code class="javascript">cube.position.set(10,0,0)//é»˜è®¤ä¸ºxï¼Œyï¼Œzæ–¹å‘
</code></pre>
<p><img src="/2022/11/29/threejs-d-2-0/image-20221129161420179.png"></p>
<h4 id="2-ç‰©ä½“çš„æ—‹è½¬"><a href="#2-ç‰©ä½“çš„æ—‹è½¬" class="headerlink" title="2.ç‰©ä½“çš„æ—‹è½¬"></a>2.ç‰©ä½“çš„æ—‹è½¬</h4><blockquote>
<p>æ§åˆ¶é—®é¢˜çš„æ—‹è½¬è§’åº¦</p>
<p>è¿™ä¸ªä¸æ˜¯å•çº¯çš„ä¸‰ç»´å‘é‡äº†</p>
<p>æ˜¯ä¸€ä¸ªEulerç±»</p>
</blockquote>
<pre><code class="javascript">cube.rotation.set(Math.PI/4,0,0,&#39;XYZ&#39;)//é»˜è®¤ä¸ºâ€˜xyzâ€™
</code></pre>
<p><img src="/2022/11/29/threejs-d-2-0/image-20221129162730828.png"></p>
<p>Euler( x : Float, y : Float, z : Float, order : String )</p>
<p>x - (optional) ç”¨å¼§åº¦è¡¨ç¤ºxè½´æ—‹è½¬é‡ã€‚ é»˜è®¤å€¼æ˜¯ <strong>0</strong>ã€‚<br>y - (optional) ç”¨å¼§åº¦è¡¨ç¤ºyè½´æ—‹è½¬é‡ã€‚ é»˜è®¤å€¼æ˜¯ <strong>0</strong>ã€‚<br>z - (optional) ç”¨å¼§åº¦è¡¨ç¤ºzè½´æ—‹è½¬é‡ã€‚ é»˜è®¤å€¼æ˜¯ <strong>0</strong>ã€‚<br>order - (optional) è¡¨ç¤ºæ—‹è½¬é¡ºåºçš„å­—ç¬¦ä¸²ï¼Œé»˜è®¤ä¸ºâ€™XYZâ€™ï¼ˆå¿…é¡»æ˜¯å¤§å†™ï¼‰ã€‚</p>
<h4 id="3-ç‰©ä½“çš„ç¼©æ”¾"><a href="#3-ç‰©ä½“çš„ç¼©æ”¾" class="headerlink" title="3.ç‰©ä½“çš„ç¼©æ”¾"></a>3.ç‰©ä½“çš„ç¼©æ”¾</h4><blockquote>
<p>æ§åˆ¶ç‰©ä½“ç¼©æ”¾</p>
</blockquote>
<pre><code class="javascript">cube.scale.set(3,2,1)
</code></pre>
<p><img src="/2022/11/29/threejs-d-2-0/image-20221129161943968.png"></p>
]]></content>
      <categories>
        <category>Web3D</category>
        <category>Three.js</category>
        <category>threejs-d-2.0</category>
      </categories>
      <tags>
        <tag>threejs</tag>
      </tags>
  </entry>
  <entry>
    <title>threejs-d-1.0</title>
    <url>/2022/11/27/threejs-d-1-0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="threejs-d-1-0"><a href="#threejs-d-1-0" class="headerlink" title="threejs-d-1.0"></a>threejs-d-1.0</h1><blockquote>
<p>d-1.0ä¸»è¦æ˜¯å‡†å¤‡æˆ‘ä»¬å¼€å‘ç¯å¢ƒå’Œå…¶ä»–çš„ä¸€äº›å‡†å¤‡ï¼Œä¸ºäº†æˆ‘ä»¬æ›´å¥½çš„å»è¿›å…¥threeçš„ä¸–ç•Œ</p>
</blockquote>
<h3 id="ä¸€ã€æ­å»ºthree-jsæœ¬åœ°ç½‘ç«™"><a href="#ä¸€ã€æ­å»ºthree-jsæœ¬åœ°ç½‘ç«™" class="headerlink" title="ä¸€ã€æ­å»ºthree.jsæœ¬åœ°ç½‘ç«™"></a>ä¸€ã€æ­å»ºthree.jsæœ¬åœ°ç½‘ç«™</h3><blockquote>
<p>æ­å»ºæœ¬åœ°ç½‘ç«™çš„åŸå› ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬è®¿é—®å®˜ç½‘çš„æ—¶å€™ï¼Œç”±äºç½‘é€Ÿé™åˆ¶ï¼Œå¯¼è‡´æˆ‘ä»¬çš„ä½“éªŒæ„Ÿä¸‹é™ï¼Œæ­å»ºæœ¬åœ°æœåŠ¡å™¨ï¼Œå¿«å¾ˆå¤šäº†ã€‚</p>
</blockquote>
<p>æˆ‘ä»¬æ‰“å¼€å®˜ç½‘<a href="https://threejs.org/">Three.js</a>ç‚¹å‡»githubå°±è¿›å…¥äº†threejsä»“åº“äº†</p>
<p><img src="/2022/11/27/threejs-d-1-0/image-20221127171040581.png"></p>
<p>æˆ‘ä»¬ä¸‹è½½ä»“åº“çš„devå¼€å‘åŒ…</p>
<p>git clone å’Œ ä¸‹è½½å‹ç¼©åŒ…éƒ½å¯ä»¥ï¼</p>
<p><img src="/2022/11/27/threejs-d-1-0/image-20221127171152583.png"></p>
<p>æ‰§è¡Œå‘½ä»¤è¿è¡Œï¼š</p>
<pre><code class="ini">npm i //å®‰è£…ä¾èµ–
npm start //è¿è¡Œé¡¹ç›®
</code></pre>
<p><img src="/2022/11/27/threejs-d-1-0/image-20221127171346283.png"></p>
<p><img src="/2022/11/27/threejs-d-1-0/image-20221127171325067.png"></p>
<p>æˆ‘ä»¬ç°åœ¨è®¿é—®æœ¬åœ°é¡¹ç›®å°±å¿«å¤šäº†ï¼Œæˆ‘ä»¬æƒ³çŸ¥é“ä»»ä½•ä¸€ä¸ªä¾‹å­ä¹Ÿå¯ä»¥æŸ¥çœ‹å…¶å…·ä½“çš„æ–‡ä»¶äº†ã€‚</p>
<h3 id="äºŒã€ä½¿ç”¨parcelæ­å»ºthreejså¼€å‘ç¯å¢ƒ"><a href="#äºŒã€ä½¿ç”¨parcelæ­å»ºthreejså¼€å‘ç¯å¢ƒ" class="headerlink" title="äºŒã€ä½¿ç”¨parcelæ­å»ºthreejså¼€å‘ç¯å¢ƒ"></a>äºŒã€ä½¿ç”¨<a href="https://parceljs.org/">parcel</a>æ­å»ºthreejså¼€å‘ç¯å¢ƒ</h3><pre><code class="ini">npm init -y //åˆå§‹åŒ–é¡¹ç›®
npm install  parcel-bundler -D //å®‰è£…parcel
</code></pre>
<p>è®¾ç½®å…¥å£æ–‡ä»¶main.jså’Œindex.html</p>
<p><img src="/2022/11/27/threejs-d-1-0/image-20221127173957450.png"></p>
<p>é…ç½®package.json</p>
<pre><code class="javascript">//package.json
&#123;
  &quot;name&quot;: &quot;threejs&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: &#123;
    &quot;dev&quot;: &quot;parcel ./src/index.html&quot;,
    &quot;build&quot;: &quot;parcel build ./src/index.html&quot;
  &#125;,
  &quot;keywords&quot;: [],
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;devDependencies&quot;: &#123;
    &quot;parcel-bundler&quot;: &quot;^1.12.5&quot;
  &#125;
&#125;
</code></pre>
<p>ä¸‹è½½threejsä¾èµ–</p>
<pre><code class="ini">npm install three --save //å®‰è£…ä¾èµ–
</code></pre>
<pre><code class="javascript">//main.js
import * as THREE from &#39;three&#39;
console.log(THREE)
</code></pre>
<p>è¿è¡Œé¡¹ç›®ï¼Œæ‰“åŒ…é¡¹ç›®</p>
<pre><code class="ini">npm run dev //è¿è¡Œé¡¹ç›®
npm run build //æ‰“åŒ…é¡¹ç›®
</code></pre>
<p><img src="/2022/11/27/threejs-d-1-0/image-20221127174654769.png"></p>
<p><img src="/2022/11/27/threejs-d-1-0/image-20221127174742984.png"></p>
<p>è¿è¡ŒæˆåŠŸï¼ï¼ï¼</p>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><p>[Three.jså®˜ç½‘]: 	â€œ<a href="https://threejs.org/">https://threejs.org/</a> â€œ<br>[Three.js-github]: 	â€œ<a href="https://github.com/mrdoob/three.js/">https://github.com/mrdoob/three.js/</a> â€œ<br>[parcelå®˜ç½‘]: 	â€œ<a href="https://parceljs.org/&quot;">https://parceljs.org/&quot;</a><br>[parcelä¸­æ–‡å®˜ç½‘]: 	â€œ<a href="https://www.parceljs.cn/">https://www.parceljs.cn/</a> â€œ</p>
]]></content>
      <categories>
        <category>Web3D</category>
        <category>Three.js</category>
        <category>threejs-d-1.0</category>
      </categories>
      <tags>
        <tag>three.js</tag>
      </tags>
  </entry>
  <entry>
    <title>threejs-d-3.0</title>
    <url>/2022/11/30/threejs-d-3-0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="threejs-d-3-0"><a href="#threejs-d-3-0" class="headerlink" title="threejs-d-3.0"></a>threejs-d-3.0</h1><h3 id="ä¸€ã€é€šè¿‡Clockè·Ÿè¸ªæ—¶é—´å¤„ç†åŠ¨ç”»"><a href="#ä¸€ã€é€šè¿‡Clockè·Ÿè¸ªæ—¶é—´å¤„ç†åŠ¨ç”»" class="headerlink" title="ä¸€ã€é€šè¿‡Clockè·Ÿè¸ªæ—¶é—´å¤„ç†åŠ¨ç”»"></a>ä¸€ã€é€šè¿‡Clockè·Ÿè¸ªæ—¶é—´å¤„ç†åŠ¨ç”»</h3><blockquote>
<p>æˆ‘ä»¬é€šè¿‡æ—¶é—´å±æ€§å»æ§åˆ¶ç‰©ä½“åŠ¨ç”»ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¯¹è±¡ç”¨äºè·Ÿè¸ªæ—¶é—´</p>
</blockquote>
<pre><code class="javascript">const clock = THREE.Clock();
const time = clock.getElapsedTime();//è·å–æ—¶é’Ÿè¿è¡Œçš„æ€»æ—¶é•¿
const getDelta = clock.getDelta();//è·å–ä¸¤æ¬¡æ¸²æŸ“çš„é—´éš”æ—¶é•¿
</code></pre>
<p>Clock( autoStart : Boolean )</p>
<p>autoStart â€” (å¯é€‰) æ˜¯å¦è¦åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨ .getDelta() æ—¶è‡ªåŠ¨å¼€å¯æ—¶é’Ÿã€‚é»˜è®¤å€¼æ˜¯ <strong>true</strong>ã€‚</p>
<h4 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h4><p>.autoStart : Boolean</p>
<p>å¦‚æœè®¾ç½®ä¸º trueï¼Œåˆ™åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨ .getDelta() æ—¶å¼€å¯æ—¶é’Ÿã€‚é»˜è®¤å€¼æ˜¯ <strong>true</strong>ã€‚</p>
<p>.startTime : Float</p>
<p>å­˜å‚¨æ—¶é’Ÿæœ€åä¸€æ¬¡è°ƒç”¨ start æ–¹æ³•çš„æ—¶é—´ã€‚é»˜è®¤å€¼æ˜¯ <strong>0</strong>ã€‚</p>
<p>.oldTime : Float</p>
<p>å­˜å‚¨æ—¶é’Ÿæœ€åä¸€æ¬¡è°ƒç”¨ start, .getElapsedTime() æˆ– .getDelta() æ–¹æ³•çš„æ—¶é—´ã€‚é»˜è®¤å€¼æ˜¯ <strong>0</strong>ã€‚</p>
<p>.elapsedTime : Float</p>
<p>ä¿å­˜æ—¶é’Ÿè¿è¡Œçš„æ€»æ—¶é•¿ã€‚é»˜è®¤å€¼æ˜¯ <strong>0</strong>ã€‚</p>
<p>.running : Boolean</p>
<p>åˆ¤æ–­æ—¶é’Ÿæ˜¯å¦åœ¨è¿è¡Œã€‚é»˜è®¤å€¼æ˜¯ <strong>false</strong>ã€‚</p>
<h4 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h4><p>.start () : undefined</p>
<p>å¯åŠ¨æ—¶é’Ÿã€‚åŒæ—¶å°† startTime å’Œ oldTime è®¾ç½®ä¸ºå½“å‰æ—¶é—´ã€‚ è®¾ç½® elapsedTime ä¸º <strong>0</strong>ï¼Œå¹¶ä¸”è®¾ç½® running ä¸º <strong>true</strong>.</p>
<p>.stop () : undefined</p>
<p>åœæ­¢æ—¶é’Ÿã€‚åŒæ—¶å°† oldTime è®¾ç½®ä¸ºå½“å‰æ—¶é—´ã€‚</p>
<p>.getElapsedTime () : Float</p>
<p>è·å–è‡ªæ—¶é’Ÿå¯åŠ¨åçš„ç§’æ•°ï¼ŒåŒæ—¶å°† .oldTime è®¾ç½®ä¸ºå½“å‰æ—¶é—´ã€‚<br>å¦‚æœ .autoStart è®¾ç½®ä¸º <strong>true</strong> ä¸”æ—¶é’Ÿå¹¶æœªè¿è¡Œï¼Œåˆ™è¯¥æ–¹æ³•åŒæ—¶å¯åŠ¨æ—¶é’Ÿã€‚</p>
<p>.getDelta () : Float</p>
<p>è·å–è‡ª .oldTime è®¾ç½®ååˆ°å½“å‰çš„ç§’æ•°ã€‚ åŒæ—¶å°† .oldTime è®¾ç½®ä¸ºå½“å‰æ—¶é—´ã€‚<br>å¦‚æœ .autoStart è®¾ç½®ä¸º <strong>true</strong> ä¸”æ—¶é’Ÿå¹¶æœªè¿è¡Œï¼Œåˆ™è¯¥æ–¹æ³•åŒæ—¶å¯åŠ¨æ—¶é’Ÿã€‚</p>
<h3 id="äºŒã€GsapåŠ¨ç”»åº“çš„åŸºæœ¬ä½¿ç”¨"><a href="#äºŒã€GsapåŠ¨ç”»åº“çš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="äºŒã€GsapåŠ¨ç”»åº“çš„åŸºæœ¬ä½¿ç”¨"></a>äºŒã€GsapåŠ¨ç”»åº“çš„åŸºæœ¬ä½¿ç”¨</h3><blockquote>
<p>è¿™ä¸ªåŠ¨ç”»åº“çš„APIéƒ½æœ‰ç›¸å…³çš„åŠ¨ç”»ç¤ºä¾‹ï¼Œæ‰€ä»¥å³ä½¿çœ‹ä¸æ‡‚æ–‡æ¡£çš„åŒå­¦ä½¿ç”¨ä¹Ÿæ˜¯å¯ä»¥æ˜ç™½çš„</p>
</blockquote>
<p><img src="/2022/11/30/threejs-d-3-0/image-20221130085026756.png"></p>
<h4 id="1-å®‰è£…å¹¶ä½¿ç”¨"><a href="#1-å®‰è£…å¹¶ä½¿ç”¨" class="headerlink" title="1.å®‰è£…å¹¶ä½¿ç”¨"></a>1.å®‰è£…å¹¶ä½¿ç”¨</h4><pre><code class="ini">npm install gsap //å®‰è£…gsap
</code></pre>
<pre><code class="javascript">//main.js
import gsap from &#39;gsap&#39;
gsap.to(cube.position,&#123;x:20,duration:5&#125;)//åŠ¨ç”»å±æ€§ï¼Œæ§åˆ¶ç‰©ä½“ä½ç½®å’Œè¿åŠ¨æ—¶é—´ï¼ˆdurationï¼‰
gsap.to(cube.rotation,&#123;x:Math.PI/4,duration:5&#125;)//åŠ¨ç”»å±æ€§ï¼Œæ§åˆ¶ç‰©ä½“æ—‹è½¬å’Œè¿åŠ¨æ—¶é—´ï¼ˆdurationï¼‰
</code></pre>
<p>å½“ç„¶æˆ‘ä»¬çš„åŠ¨ç”»è¿åŠ¨è‚¯å®šä¸åªæ˜¯åŒ€é€Ÿè¿åŠ¨ï¼Œä¹Ÿæ˜¯å¯ä»¥é…ç½®æˆ‘ä»¬çš„ç¼“å†²å™¨ï¼ˆå’Œ<a href="https://cubic-bezier.com/#.17,.67,.83,.67">è´èµ›å°”æ›²çº¿</a>å·®ä¸å¤šï¼‰</p>
<pre><code class="javascript">gsap.to(cube.position,&#123;x:20,duration:5,ease: &quot;elastic.out(1, 0.2)&quot;&#125;)
</code></pre>
<p><img src="/2022/11/30/threejs-d-3-0/image-20221130085456408.png"></p>
<h4 id="2-å…¶ä»–å±æ€§ä½¿ç”¨"><a href="#2-å…¶ä»–å±æ€§ä½¿ç”¨" class="headerlink" title="2.å…¶ä»–å±æ€§ä½¿ç”¨"></a>2.å…¶ä»–å±æ€§ä½¿ç”¨</h4><blockquote>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨åŠ¨ç”»å¼€å§‹ã€æ›´æ–°ã€ç»“æŸå»æ‰§è¡Œå›è°ƒ</p>
<p>æˆ‘ä»¬<a href="https://greensock.com/docs/v3/GSAP/gsap.to()">gsap.to()</a>è¿˜æœ‰å…¶ä»–åŠ¨ç”»çš„å±æ€§ï¼Œæ¯”å¦‚å¾€è¿”è¿åŠ¨ã€å®šä¹‰å…³é”®å¸§ã€å¾ªç¯ç­‰ç­‰</p>
</blockquote>
<pre><code class="javascript">//main.js
import gsap from &#39;gsap&#39;
gsap.to(cube.position,&#123;
    x:20,
    duration:5,
    ease: &quot;elastic.out(1, 0.2)&quot;,
    onStart:()=&gt;&#123;console.log(&#39;åŠ¨ç”»å¼€å§‹&#39;)&#125;,
    onComplete:()=&gt;&#123;console.log(&#39;åŠ¨ç”»ç»“æŸ&#39;)&#125;,
    onUpdate:()=&gt;&#123;console.log(&#39;æ›´æ–°åŠ¨ç”»&#39;)&#125;
&#125;)
</code></pre>
<p><img src="/2022/11/30/threejs-d-3-0/image-20221130090823212.png"></p>
<p>æˆ‘ä»¬è¿˜å¯ä»¥æ ¹æ®è¿”å›å¯¹è±¡å®ç°å¯¹åŠ¨ç”»çš„æ§åˆ¶</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;threejs&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class=&quot;nav&quot;&gt;
        &lt;button id=&quot;play&quot;&gt;play()&lt;/button&gt;
        &lt;button id=&quot;pause&quot;&gt;pause()&lt;/button&gt;
        &lt;button id=&quot;resume&quot;&gt;resume()&lt;/button&gt;
        &lt;button id=&quot;reverse&quot;&gt;reverse()&lt;/button&gt;
        &lt;button id=&quot;restart&quot;&gt;restart()&lt;/button&gt;
      &lt;/div&gt;
    &lt;script src=&quot;./main.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<pre><code class="javascript">const tween = gsap.to(cube.position,&#123;
    x:20,
    duration:5,
    ease: &quot;elastic.out(1, 0.2)&quot;,
    onStart:()=&gt;&#123;console.log(&#39;åŠ¨ç”»å¼€å§‹&#39;)&#125;,
    onComplete:()=&gt;&#123;console.log(&#39;åŠ¨ç”»ç»“æŸ&#39;)&#125;,
    onUpdate:()=&gt;&#123;console.log(&#39;æ›´æ–°åŠ¨ç”»&#39;)&#125;
&#125;)

document.querySelector(&quot;#play&quot;).onclick = () =&gt; tween.play();//å¼€å¯åŠ¨ç”»
document.querySelector(&quot;#pause&quot;).onclick = () =&gt; tween.pause();//æš‚åœåŠ¨ç”»
document.querySelector(&quot;#resume&quot;).onclick = () =&gt; tween.resume();//ç»§ç»­æ’­æ”¾åŠ¨ç”»
document.querySelector(&quot;#reverse&quot;).onclick = () =&gt; tween.reverse();//åè½¬åŠ¨ç”»
document.querySelector(&quot;#restart&quot;).onclick = () =&gt; tween.restart();//é‡æ–°å¼€å§‹
</code></pre>
<p><img src="/2022/11/30/threejs-d-3-0/image-20221130092808802.png"></p>
<h3 id="ä¸‰ã€è‡ªé€‚åº”æ›´æ”¹"><a href="#ä¸‰ã€è‡ªé€‚åº”æ›´æ”¹" class="headerlink" title="ä¸‰ã€è‡ªé€‚åº”æ›´æ”¹"></a>ä¸‰ã€è‡ªé€‚åº”æ›´æ”¹</h3><blockquote>
<p>æˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„ç”»é¢èƒ½å¤Ÿé€‚åº”æˆ‘ä»¬å±å¹•çš„æ›´æ”¹</p>
</blockquote>
<pre><code class="javascript">//main.js+
//ç›‘å¬å±å¹•å˜åŒ–
window.addEventListener(&#39;resize&#39;,()=&gt;&#123;
  //æ›´æ–°æ‘„å½±æœº
    camera.aspect = window.innerWidth/window.innerHeight;
  //æ›´æ–°æ‘„å½±æœºçš„æŠ•å½±çŸ©é˜µ
    camera.updateProjectionMatrix();
  //æ›´æ–°æ¸²æŸ“å™¨
    renderer.setSize(window.innerWidth,window.innerHeight);
  //æ›´æ–°æ¸²æŸ“å™¨çš„åƒç´ æ¯”
    renderer.setPixelRatio(window.devicePixelRatio);
&#125;)
</code></pre>
<h3 id="å››ã€å¯è§†åŒ–è°ƒèŠ‚"><a href="#å››ã€å¯è§†åŒ–è°ƒèŠ‚" class="headerlink" title="å››ã€å¯è§†åŒ–è°ƒèŠ‚"></a>å››ã€å¯è§†åŒ–è°ƒèŠ‚</h3><blockquote>
<p>æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå„ç§å‚æ•°æ¯”è¾ƒå¤šï¼Œæˆ‘ä»¬éœ€è¦æ”¹ä¸€ä¸‹çœ‹ä¸€ä¸‹æ•ˆæœæ˜¯å¦ç¬¦åˆæˆ‘ä»¬çš„éœ€è¦ï¼Œè¿™æ ·æˆ‘ä»¬çš„æ•ˆç‡å°±ä¼šé™ä½ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€æ¬¾èƒ½å¿«é€Ÿè°ƒèŠ‚å‚æ•°çš„å¯è§†åŒ–å·¥å…·<a href="https://www.npmjs.com/package/dat.gui">dat.gui</a></p>
</blockquote>
<h4 id="1-å®‰è£…"><a href="#1-å®‰è£…" class="headerlink" title="1.å®‰è£…"></a>1.å®‰è£…</h4><pre><code class="ini">npm install --save dat.gui
</code></pre>
<h4 id="2-ä½¿ç”¨"><a href="#2-ä½¿ç”¨" class="headerlink" title="2.ä½¿ç”¨"></a>2.ä½¿ç”¨</h4><p>ä¿®æ”¹æ•°å€¼</p>
<pre><code class="javascript">import dat from &#39;dat.gui&#39;//å¼•å…¥
const gui = new dat.GUI();//åˆå§‹åŒ–

gui.add(cube.position,&#39;x&#39;)//æ·»åŠ è¦æ§åˆ¶çš„å±æ€§
.min(0)//æœ€å°å€¼
.max(20)//æœ€å¤§å€¼
.name(&#39;ç§»åŠ¨xåæ ‡&#39;)//æ§åˆ¶å™¨åç§°
.step(0.1)//æ”¹å˜åˆ»åº¦
.onChange(value=&gt;console.log(&#39;xåæ ‡æ”¹å˜äº†ï¼š&#39;+value))//åæ ‡æ”¹å˜è§¦å‘
.onFinishChange(value=&gt;console.log(&#39;xåæ ‡åœæ­¢æ”¹å˜äº†ï¼š&#39;+value))//åæ ‡åœæ­¢æ”¹å˜è§¦å‘
</code></pre>
<p><img src="/2022/11/30/threejs-d-3-0/image-20221130103244105.png"></p>
<p>ä¿®æ”¹é¢œè‰²</p>
<pre><code class="javascript">const parm = &#123;
    color:&#39;#ffffff&#39;
&#125;
gui.addColor(parm,&#39;color&#39;)
.name(&#39;ç‰©ä½“é¢œè‰²&#39;)
.onChange(value=&gt;&#123;
    cube.material.color.set(value)
&#125;)
</code></pre>
<p><img src="/2022/11/30/threejs-d-3-0/image-20221130105101668.png"></p>
<blockquote>
<p>æˆ‘ä»¬çš„dat.guiè¿˜æœ‰è®¸å¤šAPIå¯ä»¥è°ƒç”¨ï¼Œå…·ä½“çš„æˆ‘ä»¬å¯ä»¥çœ‹<a href="https://github.com/dataarts/dat.gui/blob/master/API.md">dat.gui-api</a></p>
</blockquote>
<h3 id="äº”ã€BufferGeometryåˆ›å»ºé¡¶ç‚¹åˆ›å»ºçŸ©å½¢"><a href="#äº”ã€BufferGeometryåˆ›å»ºé¡¶ç‚¹åˆ›å»ºçŸ©å½¢" class="headerlink" title="äº”ã€BufferGeometryåˆ›å»ºé¡¶ç‚¹åˆ›å»ºçŸ©å½¢"></a>äº”ã€BufferGeometryåˆ›å»ºé¡¶ç‚¹åˆ›å»ºçŸ©å½¢</h3><blockquote>
<p>æˆ‘ä»¬æ‰€è§çš„ç«‹æ–¹ä½“ï¼Œæ˜¯ç”±é¡¶ç‚¹åæ ‡åˆ›å»ºçš„é¢å½¢æˆçš„</p>
<p>ä¹Ÿå¯ä»¥çœ‹<a href="https://mengfeng.github.io/2022/11/18/webgl/">webgl</a>é‡Œæœ‰ä¸€äº›åŸºç¡€çš„çŸ¥è¯†å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç†è§£ç‚¹ä¸é¢çš„å…³ç³»</p>
<p>å®˜æ–¹æè¿°ï¼šæ˜¯é¢ç‰‡ã€çº¿æˆ–ç‚¹å‡ ä½•ä½“çš„æœ‰æ•ˆè¡¨è¿°ã€‚åŒ…æ‹¬é¡¶ç‚¹ä½ç½®ï¼Œé¢ç‰‡ç´¢å¼•ã€æ³•ç›¸é‡ã€é¢œè‰²å€¼ã€UV åæ ‡å’Œè‡ªå®šä¹‰ç¼“å­˜å±æ€§å€¼ã€‚ä½¿ç”¨ BufferGeometry å¯ä»¥æœ‰æ•ˆå‡å°‘å‘ GPU ä¼ è¾“ä¸Šè¿°æ•°æ®æ‰€éœ€çš„å¼€é”€ã€‚</p>
</blockquote>
<pre><code class="javascript">//main.js
import * as THREE from &#39;three&#39;
import &#123; OrbitControls &#125; from &#39;three/examples/jsm/controls/OrbitControls&#39; 


const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 0.1, 1000 );
const renderer = new THREE.WebGLRenderer();
renderer.setSize( window.innerWidth, window.innerHeight );
document.body.appendChild( renderer.domElement );

const axesHelper = new THREE.AxesHelper( 30 );//è½´çš„çº¿æ®µé•¿åº¦. é»˜è®¤ä¸º 1.
scene.add( axesHelper );//æ·»åŠ åˆ°åœºæ™¯

const geometry = new THREE.BufferGeometry();
// åˆ›å»ºä¸€ä¸ªç®€å•çš„çŸ©å½¢. åœ¨è¿™é‡Œæˆ‘ä»¬å·¦ä¸Šå’Œå³ä¸‹é¡¶ç‚¹è¢«å¤åˆ¶äº†ä¸¤æ¬¡ã€‚
// å› ä¸ºåœ¨ä¸¤ä¸ªä¸‰è§’é¢ç‰‡é‡Œï¼Œè¿™ä¸¤ä¸ªé¡¶ç‚¹éƒ½éœ€è¦è¢«ç”¨åˆ°ã€‚
const vertices = new Float32Array( [
    -1.0, -1.0,  1.0,
     1.0, -1.0,  1.0,
     1.0,  1.0,  1.0,

     1.0,  1.0,  1.0,
    -1.0,  1.0,  1.0,
    -1.0, -1.0,  1.0
] );
// itemSize = 3 å› ä¸ºæ¯ä¸ªé¡¶ç‚¹éƒ½æ˜¯ä¸€ä¸ªä¸‰å…ƒç»„ã€‚
geometry.setAttribute( &#39;position&#39;, new THREE.BufferAttribute( vertices, 3 ) );
const material = new THREE.MeshBasicMaterial( &#123; color: 0x00ff00 &#125; );
const cube = new THREE.Mesh( geometry, material );
console.log(cube)

 
scene.add( cube );
const controls = new OrbitControls( camera,renderer.domElement  );
camera.position.set(0,20,100);
controls.update();
function animate() &#123;
   
    requestAnimationFrame( animate );
    controls.update();
    renderer.render( scene, camera );
&#125;
animate();

window.addEventListener(&#39;resize&#39;,()=&gt;&#123;
    // console.log(&#39;å±å¹•å˜åŒ–äº†&#39;)
    camera.aspect = window.innerWidth/window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth,window.innerHeight);
    renderer.setPixelRatio(window.devicePixelRatio);
&#125;)
</code></pre>
<p><img src="/2022/11/30/threejs-d-3-0/image-20221130162558717.png"></p>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><p>[GSAP]: 	â€œ<a href="https://github.com/greensock/GSAP">https://github.com/greensock/GSAP</a> â€œ<br>[gsap]: 	â€œ<a href="https://greensock.com/gsap/">https://greensock.com/gsap/</a> â€œ<br>[Cubic Bezier]: 	â€œ<a href="https://cubic-bezier.com/#.17,.67,.83,.67">https://cubic-bezier.com/#.17,.67,.83,.67</a> â€œ<br>[dat.gui]: 	â€œ<a href="https://www.npmjs.com/package/dat.gui">https://www.npmjs.com/package/dat.gui</a> â€œ<br>[dat.gui-api]: 	â€œ<a href="https://github.com/dataarts/dat.gui/blob/master/API.md">https://github.com/dataarts/dat.gui/blob/master/API.md</a> â€œ</p>
]]></content>
      <categories>
        <category>Web3D</category>
        <category>Three.js</category>
        <category>threejs-d-3.0</category>
      </categories>
      <tags>
        <tag>threejs</tag>
      </tags>
  </entry>
  <entry>
    <title>uniappå®‰è£…åŠè°ƒè¯•</title>
    <url>/2022/12/18/uniapp%E5%AE%89%E8%A3%85%E5%8F%8A%E8%B0%83%E8%AF%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="uniappå®‰è£…åŠè°ƒè¯•"><a href="#uniappå®‰è£…åŠè°ƒè¯•" class="headerlink" title="uniappå®‰è£…åŠè°ƒè¯•"></a>uniappå®‰è£…åŠè°ƒè¯•</h1><blockquote>
<p>æˆ‘ä»¬æœ¬ç¯‡æ–‡ç« ä¸»è¦è®²è§£uniappçš„é¡¹ç›®åˆ›å»º</p>
<p>çœŸæœºè°ƒè¯•ã€iosæ¨¡æ‹Ÿå™¨è°ƒè¯•ã€å¾®ä¿¡å°ç¨‹åºè°ƒè¯•</p>
</blockquote>
<h3 id="ä¸€ã€ä¸‹è½½HBuilder-X"><a href="#ä¸€ã€ä¸‹è½½HBuilder-X" class="headerlink" title="ä¸€ã€ä¸‹è½½HBuilder X"></a>ä¸€ã€ä¸‹è½½HBuilder X</h3><p>[HBuilder X]: 	â€œ<a href="https://www.dcloud.io/hbuilderx.html">https://www.dcloud.io/hbuilderx.html</a> â€œ</p>
<p>æˆ‘ä»¬å¯ä»¥ä¸‹è½½æˆ‘ä»¬éœ€è¦çš„ç‰ˆæœ¬</p>
<p><img src="/2022/12/18/uniapp%E5%AE%89%E8%A3%85%E5%8F%8A%E8%B0%83%E8%AF%95/image-20221218095304650.png"></p>
<h3 id="äºŒã€å®‰è£…è¿è¡Œå¹¶åˆ›å»ºé¡¹ç›®"><a href="#äºŒã€å®‰è£…è¿è¡Œå¹¶åˆ›å»ºé¡¹ç›®" class="headerlink" title="äºŒã€å®‰è£…è¿è¡Œå¹¶åˆ›å»ºé¡¹ç›®"></a>äºŒã€å®‰è£…è¿è¡Œå¹¶åˆ›å»ºé¡¹ç›®</h3><p>ç¬¬ä¸€æ¬¡æ‰“å¼€HBuilder Xï¼Œæˆ‘ä»¬å¯ä»¥å»å®šä¹‰ä¸€ä¸‹æˆ‘ä»¬çš„é…ç½®ï¼Œmacosæ˜¯å»åå¥½è®¾ç½®ï¼Œwindowsçš„åœ¨å·¥å…·-&gt;è®¾ç½®</p>
<p><img src="/2022/12/18/uniapp%E5%AE%89%E8%A3%85%E5%8F%8A%E8%B0%83%E8%AF%95/image-20221218095514743.png"></p>
<p>æˆ‘ä»¬å¯ä»¥å»æ–°å»ºé¡¹ç›®å¼¹å‡ºçª—å£é…ç½®æˆ‘ä»¬é¡¹ç›®ä¿¡æ¯ï¼Œé¡¹ç›®åç§°å’Œvueç‰ˆæœ¬ï¼Œè¿™é‡Œæˆ‘ç°åœ¨çš„æ˜¯vue3ï¼Œvue3çš„ç»‘å®šé¢„è®¾æ˜¯viteã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å»é€‰æ‹©ä¸ä¸€æ ·çš„æ¨¡æ¿ã€‚</p>
<p><img src="/2022/12/18/uniapp%E5%AE%89%E8%A3%85%E5%8F%8A%E8%B0%83%E8%AF%95/image-20221218095735225.png"></p>
<h3 id="ä¸‰ã€è¿è¡Œé¡¹ç›®"><a href="#ä¸‰ã€è¿è¡Œé¡¹ç›®" class="headerlink" title="ä¸‰ã€è¿è¡Œé¡¹ç›®"></a>ä¸‰ã€è¿è¡Œé¡¹ç›®</h3><p>å½“æˆ‘ä»¬æ‰“å¼€é¡¹ç›®çš„æ—¶å€™ï¼Œå‡†å¤‡è¿è¡Œçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©å°†æˆ‘ä»¬çš„é¡¹ç›®è¿è¡Œåˆ°å“ªé‡Œï¼Œå®ƒä¼šæç¤ºä½ å®‰è£…ç›¸å¯¹åº”çš„æ’ä»¶ï¼Œå¦‚æœå®‰è£…å®Œæ’ä»¶ï¼Œæˆ‘ä»¬çš„è½¯ä»¶æ²¡æœ‰è¯†åˆ«åˆ°æˆ‘ä»¬çš„æ’ä»¶ï¼Œé‚£æˆ‘ä»¬å¯ä»¥é€‰æ‹©é‡å¯æˆ‘ä»¬çš„è½¯ä»¶ã€‚</p>
<p><img src="/2022/12/18/uniapp%E5%AE%89%E8%A3%85%E5%8F%8A%E8%B0%83%E8%AF%95/image-20221218100111748.png"></p>
<p>è¿™é‡Œå…ˆæ¼”ç¤ºä¸€ä¸‹è¿è¡Œåˆ°å†…ç½®æµè§ˆå™¨ï¼ˆç¬¬ä¸€æ¬¡è¿è¡Œæˆ‘ä»¬å¯èƒ½è¦ç¨ç­‰ä¸€ä¸‹ï¼‰</p>
<p><img src="/2022/12/18/uniapp%E5%AE%89%E8%A3%85%E5%8F%8A%E8%B0%83%E8%AF%95/image-20221218100428208.png"></p>
<h3 id="å››ã€è°ƒè¯•"><a href="#å››ã€è°ƒè¯•" class="headerlink" title="å››ã€è°ƒè¯•"></a>å››ã€è°ƒè¯•</h3><h4 id="1-iosæ¨¡æ‹Ÿå™¨è°ƒè¯•"><a href="#1-iosæ¨¡æ‹Ÿå™¨è°ƒè¯•" class="headerlink" title="1.iosæ¨¡æ‹Ÿå™¨è°ƒè¯•"></a>1.iosæ¨¡æ‹Ÿå™¨è°ƒè¯•</h4><blockquote>
<p>å½“ç„¶ï¼Œåœ¨iosæ¨¡æ‹Ÿå™¨è°ƒè¯•çš„å‰ææ˜¯è¦æ˜¯macosç¯å¢ƒï¼Œå¹¶ä¸”ä¸‹è½½äº†xcodeï¼ˆæå‰å‡†å¤‡ä¸€ä¸‹å“¦ï¼‰å› ä¸ºæˆ‘æ²¡æœ‰iosæ‰‹æœºğŸ« </p>
</blockquote>
<p><img src="/2022/12/18/uniapp%E5%AE%89%E8%A3%85%E5%8F%8A%E8%B0%83%E8%AF%95/image-20221218100850001.png"></p>
<p>æˆ‘ä»¬é€‰æ‹©è¿è¡Œåˆ°iosæ¨¡æ‹Ÿå™¨ AppåŸºåº§ï¼ˆloadingâ€¦ï¼‰</p>
<p>é€‰æ‹©æˆ‘ä»¬çš„æ¨¡æ‹Ÿå™¨æ‰‹æœºå‹å·</p>
<p><img src="/2022/12/18/uniapp%E5%AE%89%E8%A3%85%E5%8F%8A%E8%B0%83%E8%AF%95/image-20221218101003209.png"></p>
<p>ç°åœ¨æˆ‘å°±å¯ä»¥çœ‹åˆ°ç¨‹åºè¿è¡Œåˆ°äº†æˆ‘ä»¬çš„iPhone 14 Pro Maxï¼ˆé¦™å¾—å˜ï¼‰</p>
<p><img src="/2022/12/18/uniapp%E5%AE%89%E8%A3%85%E5%8F%8A%E8%B0%83%E8%AF%95/image-20221218101115311.png"></p>
<p>å½“æˆ‘ä»¬ä¿®æ”¹æˆ‘ä»¬çš„ç¨‹åºä»£ç å¹¶ä¿å­˜ï¼Œå°±å¯ä»¥çœ‹è§æˆ‘ä»¬çš„è§†å›¾æ›´æ–°äº†</p>
<h4 id="2-Androidæ‰‹æœºçœŸæœºè°ƒè¯•"><a href="#2-Androidæ‰‹æœºçœŸæœºè°ƒè¯•" class="headerlink" title="2.Androidæ‰‹æœºçœŸæœºè°ƒè¯•"></a>2.Androidæ‰‹æœºçœŸæœºè°ƒè¯•</h4><blockquote>
<p>å½“ç„¶ï¼Œæ²¡æœ‰Androidæ‰‹æœºçš„ä¹Ÿå¯ä»¥å€Ÿå…¶ä»–åŒå­¦çš„ï¼ˆAndroidæ¨¡æ‹Ÿå™¨é…ç½®æœ‰ç‚¹éº»çƒ¦ï¼Œå°±å…ˆä¸é…ç½®äº†ï¼Œæƒ³é…ç½®çš„åŒå­¦å…ˆè‡ªè¡Œæ‰“å¼€æœç´¢ğŸ”ï¼‰</p>
</blockquote>
<p>æ‰‹æœºçœŸæœºè°ƒè¯•çš„å‰ææ˜¯è¦æ‰“å¼€ä½ çš„æ‰‹æœºçš„å¼€å‘è€…æ¨¡å¼ï¼Œä¸åŒçš„æ‰‹æœºå¼€å¯çš„æ–¹å¼ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼Œæˆ‘çš„æ‰‹æœºæ˜¯çº¢ç±³K20 pro</p>
<p>å…·ä½“æ‰“å¼€æµç¨‹ä¸ºè®¾ç½®-&gt;æˆ‘çš„è®¾å¤‡-&gt;å…¨éƒ¨å‚æ•°-&gt;ç‚¹å‡»MIUIç‰ˆæœ¬3ä¸‹ï¼ˆè¿å‡»ï¼‰ç³»ç»Ÿæç¤ºè¿›å…¥å¼€å‘è€…æ¨¡å¼-&gt;è¿”å›åˆ°æ›´å¤šè®¾ç½®-&gt;å¼€å‘è€…é€‰é¡¹-&gt;æ‰“å¼€usbè°ƒè¯•</p>
<p>å½“æˆ‘ä»¬é€‰æ‹©è¿è¡Œåˆ°Android AppåŸºåº§ï¼Œå°±ä¼šè¯†åˆ«ä½ çš„æ‰‹æœºï¼ˆè®°å¾—ç”¨æ•°æ®çº¿å°†æ‰‹æœºè¿æ¥åˆ°ç”µè„‘ï¼‰ï¼Œç‚¹å‡»è¿è¡Œ</p>
<p><img src="/2022/12/18/uniapp%E5%AE%89%E8%A3%85%E5%8F%8A%E8%B0%83%E8%AF%95/image-20221218102154748.png"></p>
<p>ç¬¬ä¸€æ¬¡è¿è¡Œï¼Œæ‰‹æœºä¼šè®©ä½ å®‰è£…ï¼Œç‚¹å‡»å®‰è£…å°±å¯ä»¥äº†</p>
<p><img src="/2022/12/18/uniapp%E5%AE%89%E8%A3%85%E5%8F%8A%E8%B0%83%E8%AF%95/WechatIMG125.jpeg"></p>
<h4 id="3-å¾®ä¿¡å°ç¨‹åºå¼€å‘è€…å·¥å…·è°ƒè¯•"><a href="#3-å¾®ä¿¡å°ç¨‹åºå¼€å‘è€…å·¥å…·è°ƒè¯•" class="headerlink" title="3.å¾®ä¿¡å°ç¨‹åºå¼€å‘è€…å·¥å…·è°ƒè¯•"></a>3.å¾®ä¿¡å°ç¨‹åºå¼€å‘è€…å·¥å…·è°ƒè¯•</h4><blockquote>
<p>è¿™ä¸ªè°ƒè¯•çš„æ–¹å¼çš„å‰ææ˜¯è¦æœ‰ä¸€ä¸ªå¼€å‘è€…è´¦å·ï¼Œæ²¡æœ‰çš„åŒå­¦è¦å…ˆå»æ³¨å†Œä¸€ä¸ª</p>
<p>[æ³¨å†Œ]: 	â€œ<a href="https://mp.weixin.qq.com/cgi-bin/wx?token=&amp;lang=zh_CN">https://mp.weixin.qq.com/cgi-bin/wx?token=&amp;lang=zh_CN</a> â€œ</p>
<p>ç„¶ååˆ©ç”¨æ³¨å†Œç»‘å®šçš„å¾®ä¿¡ç™»é™†æˆ‘ä»¬çš„å¾®ä¿¡å…¬ä¼—å¹³å°</p>
<p>æ²¡æœ‰ä¸‹è½½å¾®ä¿¡å¼€å‘è€…å·¥å…·çš„åŒå­¦ä¹Ÿè¦ä¸‹è½½ä¸€ä¸ª</p>
</blockquote>
<p>ç„¶ååœ¨æˆ‘ä»¬çš„å¼€å‘-&gt;å¼€å‘ç®¡ç†-&gt;å¼€å‘è®¾ç½®ä¸‹é¢æœ‰æˆ‘ä»¬çš„å¼€å‘è€…IDï¼ˆç­‰ä¼šè¦ç”¨ï¼‰</p>
<p><img src="/2022/12/18/uniapp%E5%AE%89%E8%A3%85%E5%8F%8A%E8%B0%83%E8%AF%95/image-20221218102931643.png"></p>
<p>å½“æˆ‘ä»¬ç‚¹å‡»å‘è¡Œ-&gt;å°ç¨‹åº-å¾®ä¿¡çš„æ—¶å€™ï¼Œä¼šè®©ä½ é…ç½®ä½ çš„å¼€å‘è€…IDï¼Œç„¶åé¡¹ç›®å°±ä¼šè‡ªåŠ¨æ‰“åŒ…</p>
<p><img src="/2022/12/18/uniapp%E5%AE%89%E8%A3%85%E5%8F%8A%E8%B0%83%E8%AF%95/image-20221218103403063.png"></p>
<p><img src="/2022/12/18/uniapp%E5%AE%89%E8%A3%85%E5%8F%8A%E8%B0%83%E8%AF%95/image-20221218103530235.png"></p>
<p>ç¬¬ä¸€æ¬¡ç¼–è¯‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®ç¼–è¯‘å®Œæˆçš„é¡¹ç›®è·¯å¾„å»æ‰‹åŠ¨å¯¼å…¥æˆ‘ä»¬çš„å¾®ä¿¡å¼€å‘è€…å·¥å…·å»è°ƒè¯•</p>
<p>æ³¨æ„ï¼šä¸è¦åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·å»ä¿®æ”¹æˆ‘ä»¬çš„ä»£ç ï¼Œå› ä¸ºä¸‹ä¸€æ¬¡å‘è¡Œç¼–è¯‘ä¼šè¦†ç›–æ‰æˆ‘ä»¬çš„ä¿®æ”¹</p>
<p><img src="/2022/12/18/uniapp%E5%AE%89%E8%A3%85%E5%8F%8A%E8%B0%83%E8%AF%95/image-20221218103710649.png"></p>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬è¿˜æœ‰å¦ä¸€ç§å¯¼å…¥æ–¹æ³•ï¼Œé‚£å°±æ˜¯è‡ªåŠ¨å¯¼å…¥</p>
<p>é¦–å…ˆæˆ‘ä»¬è¦å°†å¾®ä¿¡å¼€å‘è€…å·¥å…·çš„å®‰å…¨è®¾ç½®çš„æœåŠ¡ç«¯å£æ‰“å¼€</p>
<p><img src="/2022/12/18/uniapp%E5%AE%89%E8%A3%85%E5%8F%8A%E8%B0%83%E8%AF%95/image-20221218104049483.png"></p>
<p>å†åˆ°HBuilder Xå»é…ç½®å¾®ä¿¡å¼€å‘è€…å·¥å…·çš„è·¯å¾„ï¼ˆè¿™é‡Œçš„è·¯å¾„å¯ä»¥æŸ¥çœ‹è‡ªå·±çš„å®‰è£…è·¯å¾„ï¼‰</p>
<p><img src="/2022/12/18/uniapp%E5%AE%89%E8%A3%85%E5%8F%8A%E8%B0%83%E8%AF%95/image-20221218104502864.png"></p>
<p>åˆ°è¿™æˆ‘ä»¬çš„é…ç½®å°±å®Œæˆäº†</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å†å‘è¡Œå¾®ä¿¡å°ç¨‹åº</p>
<p>æˆ‘ä»¬å°±å¯ä»¥çœ‹è§å¾®ä¿¡å¼€å‘è€…å·¥å…·è‡ªåŠ¨æ‰“å¼€å¹¶è¿è¡Œæˆ‘ä»¬çš„é¡¹ç›®äº†</p>
<p><img src="/2022/12/18/uniapp%E5%AE%89%E8%A3%85%E5%8F%8A%E8%B0%83%E8%AF%95/image-20221218104719407.png"></p>
<h3 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h3><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å¼€å‘æ—¶å€™çš„è°ƒè¯•å°±å¯ä»¥è½»æ¾æŒæ¡äº†</p>
]]></content>
      <categories>
        <category>uniapp</category>
        <category>uniappå®‰è£…åŠè°ƒè¯•</category>
      </categories>
      <tags>
        <tag>uniapp</tag>
      </tags>
  </entry>
  <entry>
    <title>webgl</title>
    <url>/2022/11/18/webgl/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="webgl"><a href="#webgl" class="headerlink" title="webgl"></a>webgl</h1><h2 id="ç¬¬ä¸€ç« -webglç»˜å›¾æµç¨‹"><a href="#ç¬¬ä¸€ç« -webglç»˜å›¾æµç¨‹" class="headerlink" title="ç¬¬ä¸€ç«   webglç»˜å›¾æµç¨‹"></a>ç¬¬ä¸€ç«   webglç»˜å›¾æµç¨‹</h2><hr>
<h3 id="ä¸€ã€åˆ›å»ºcanvasç”»å¸ƒ"><a href="#ä¸€ã€åˆ›å»ºcanvasç”»å¸ƒ" class="headerlink" title="ä¸€ã€åˆ›å»ºcanvasç”»å¸ƒ"></a>ä¸€ã€åˆ›å»ºcanvasç”»å¸ƒ</h3><pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;style&gt;
        body&#123;
            margin: 0;
            overflow: hidden;
        &#125;
        #canvas&#123;
            background-color: pink;
        &#125;
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;canvas id=&quot;canvas&quot;&gt;&lt;/canvas&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="äºŒã€jsè·å–canvasç”»å¸ƒ"><a href="#äºŒã€jsè·å–canvasç”»å¸ƒ" class="headerlink" title="äºŒã€jsè·å–canvasç”»å¸ƒ"></a>äºŒã€jsè·å–canvasç”»å¸ƒ</h3><pre><code class="javascript">const canvas = document.querySelector(&#39;#canvas&#39;)
        canvas.width = window.innerWidth
        canvas.height = window.innerHeight
</code></pre>
<h3 id="ä¸‰ã€ä½¿ç”¨canvasè·å–webglç»˜å›¾ä¸Šä¸‹æ–‡"><a href="#ä¸‰ã€ä½¿ç”¨canvasè·å–webglç»˜å›¾ä¸Šä¸‹æ–‡" class="headerlink" title="ä¸‰ã€ä½¿ç”¨canvasè·å–webglç»˜å›¾ä¸Šä¸‹æ–‡"></a>ä¸‰ã€ä½¿ç”¨canvasè·å–webglç»˜å›¾ä¸Šä¸‹æ–‡</h3><pre><code class="javascript"> const gl = canvas.getContext(&quot;webgl&quot;)
        gl.clearColor(1,0,0,1)
        gl.clear(gl.COLOR_BUFFER_BIT)
</code></pre>
<h3 id="å››ã€åœ¨scriptä¸­å»ºç«‹é¡¶ç‚¹ç€è‰²å™¨å’Œé¡¶ç‚¹ç€è‰²å™¨-glsl-esè¯­è¨€"><a href="#å››ã€åœ¨scriptä¸­å»ºç«‹é¡¶ç‚¹ç€è‰²å™¨å’Œé¡¶ç‚¹ç€è‰²å™¨-glsl-esè¯­è¨€" class="headerlink" title="å››ã€åœ¨scriptä¸­å»ºç«‹é¡¶ç‚¹ç€è‰²å™¨å’Œé¡¶ç‚¹ç€è‰²å™¨(glsl esè¯­è¨€)"></a>å››ã€åœ¨scriptä¸­å»ºç«‹é¡¶ç‚¹ç€è‰²å™¨å’Œé¡¶ç‚¹ç€è‰²å™¨(glsl esè¯­è¨€)</h3><pre><code class="javascript">&lt;!-- é¡¶ç‚¹ç€è‰²å™¨ --&gt;
&lt;script id=&quot;vertexShader&quot; type=&quot;x-shader/x-vertex&quot;&gt;
        void main()&#123;
            gl_Position = vec4(0,0,0,1);
            gl_PointSize = 50.0;
        &#125;
&lt;/script&gt;
    &lt;!-- ç‰‡å…ƒç€è‰²å™¨ --&gt;
&lt;script id=&quot;fragmentShader&quot; type=&quot;x-shader/x-fragment&quot;&gt;
        void main()&#123;
            gl_FragColor = vec4(1,1,1,1);
        &#125;
&lt;/script&gt;
</code></pre>
<h3 id="äº”ã€åœ¨jsä¸­è·å–é¡¶ç‚¹ç€è‰²å™¨å’Œç‰‡å…ƒç€è‰²å™¨"><a href="#äº”ã€åœ¨jsä¸­è·å–é¡¶ç‚¹ç€è‰²å™¨å’Œç‰‡å…ƒç€è‰²å™¨" class="headerlink" title="äº”ã€åœ¨jsä¸­è·å–é¡¶ç‚¹ç€è‰²å™¨å’Œç‰‡å…ƒç€è‰²å™¨"></a>äº”ã€åœ¨jsä¸­è·å–é¡¶ç‚¹ç€è‰²å™¨å’Œç‰‡å…ƒç€è‰²å™¨</h3><pre><code class="javascript">//é¡¶ç‚¹ç€è‰²å™¨æ–‡æœ¬
const vsSource = document.getElementById(&#39;vertexShader&#39;).innerText;
//ç‰‡å…ƒèˆè‰²å™¨æ–‡æœ¬
const fsSourse = document.getElementById(&#39;fragmentShader&#39;).innerText;
</code></pre>
<h3 id="å…­ã€åˆå§‹åŒ–èŠ‚ç‚¹"><a href="#å…­ã€åˆå§‹åŒ–èŠ‚ç‚¹" class="headerlink" title="å…­ã€åˆå§‹åŒ–èŠ‚ç‚¹"></a>å…­ã€åˆå§‹åŒ–èŠ‚ç‚¹</h3><pre><code class="javascript"> //åˆå§‹åŒ–ç€è‰²å™¨
 initShaders(gl,vsSource,fsSourse);
</code></pre>
<h3 id="ä¸ƒã€æŒ‡å®šå°†æ¥ç”¨æ¥æ¸…ç©ºç»˜å›¾åŒºçš„é¢œè‰²"><a href="#ä¸ƒã€æŒ‡å®šå°†æ¥ç”¨æ¥æ¸…ç©ºç»˜å›¾åŒºçš„é¢œè‰²" class="headerlink" title="ä¸ƒã€æŒ‡å®šå°†æ¥ç”¨æ¥æ¸…ç©ºç»˜å›¾åŒºçš„é¢œè‰²"></a>ä¸ƒã€æŒ‡å®šå°†æ¥ç”¨æ¥æ¸…ç©ºç»˜å›¾åŒºçš„é¢œè‰²</h3><pre><code class="javascript">//æŒ‡å®šå°†è¦ç”¨æ¥æ¸…ç†ç»˜å›¾åŒºçš„é¢œè‰²
gl.clearColor(0,0,0,1);
</code></pre>
<h3 id="å…«ã€ä½¿ç”¨æŒ‡å®šé¢œè‰²æ¸…ç©ºç»˜å›¾åŒº"><a href="#å…«ã€ä½¿ç”¨æŒ‡å®šé¢œè‰²æ¸…ç©ºç»˜å›¾åŒº" class="headerlink" title="å…«ã€ä½¿ç”¨æŒ‡å®šé¢œè‰²æ¸…ç©ºç»˜å›¾åŒº"></a>å…«ã€ä½¿ç”¨æŒ‡å®šé¢œè‰²æ¸…ç©ºç»˜å›¾åŒº</h3><pre><code class="javascript">//æ¸…ç†ç»˜å›¾åŒº
gl.clear(gl.COLOR_BUFFER_BIT);
</code></pre>
<h3 id="ä¹ã€ç»˜åˆ¶é¡¶ç‚¹"><a href="#ä¹ã€ç»˜åˆ¶é¡¶ç‚¹" class="headerlink" title="ä¹ã€ç»˜åˆ¶é¡¶ç‚¹"></a>ä¹ã€ç»˜åˆ¶é¡¶ç‚¹</h3><pre><code class="javascript">//ç»˜åˆ¶é¡¶ç‚¹(ç‚¹æ¨¡å¼)
gl.drawArrays(gl.POINTS,0,1);
</code></pre>
<h3 id="åã€åˆå§‹åŒ–èŠ‚ç‚¹å…·ä½“ä»£ç å®ç°"><a href="#åã€åˆå§‹åŒ–èŠ‚ç‚¹å…·ä½“ä»£ç å®ç°" class="headerlink" title="åã€åˆå§‹åŒ–èŠ‚ç‚¹å…·ä½“ä»£ç å®ç°"></a>åã€åˆå§‹åŒ–èŠ‚ç‚¹å…·ä½“ä»£ç å®ç°</h3><pre><code class="javascript">function initShaders(gl,vsSource,fsSourse)&#123;
//åˆ›å»ºç¨‹åºå¯¹è±¡
const program = gl.createProgram();
//å»ºç«‹ç€è‰²å¯¹è±¡
const vertexShader = loadShader(gl,gl.VERTEX_SHADER,vsSource);
const fragmentShader = loadShader(gl,gl.FRAGMENT_SHADER,fsSourse);
//å°†é¡¶ç‚¹ç€è‰²å¯¹è±¡è£…è¿›ç¨‹åºå¯¹è±¡ä¸­
gl.attachShader(program, vertexShader);
//å°†ç‰‡å…ƒç€è‰²å¯¹è±¡è£…è¿›ç¨‹åºå¯¹è±¡ä¸­
         gl.attachShader(program,fragmentShader);
//è¿æ¥webglä¸Šä¸‹æ–‡å¯¹è±¡å’Œç¨‹åºå¯¹è±¡
gl.linkProgram(program);
//å¯åŠ¨ç¨‹åºå¯¹è±¡
gl.useProgram(program);
//å°†ç¨‹åºå¯¹è±¡æŒ‚åˆ°ä¸Šä¸‹æ–‡å¯¹è±¡
gl.program = program;
return true;
&#125;

function loadShader(gl,type,source)&#123;
//æ ¹æ®ç€è‰²å™¨çš„ç±»å‹ï¼Œå»ºç«‹ç€è‰²å™¨å¯¹è±¡
const shader = gl.createShader(type);
//å°†ç€è‰²å™¨æºæ–‡ä»¶ä¼ å…¥ç€è‰²å™¨å¯¹è±¡ä¸­
gl.shaderSource(shader, source);
//ç¼–è¯‘ç€è‰²å™¨å¯¹è±¡
gl.compileShader(shader);
//è¿”å›ç€è‰²å™¨å¯¹è±¡
return shader;
&#125;
</code></pre>
<h2 id="ç¬¬äºŒç« -ç”¨jsæ§åˆ¶ç‚¹ä½"><a href="#ç¬¬äºŒç« -ç”¨jsæ§åˆ¶ç‚¹ä½" class="headerlink" title="ç¬¬äºŒç«   ç”¨jsæ§åˆ¶ç‚¹ä½"></a>ç¬¬äºŒç«   ç”¨jsæ§åˆ¶ç‚¹ä½</h2><h3 id="ä¸€ã€jsä¸­å£°æ˜attributeå˜é‡"><a href="#ä¸€ã€jsä¸­å£°æ˜attributeå˜é‡" class="headerlink" title="ä¸€ã€jsä¸­å£°æ˜attributeå˜é‡"></a>ä¸€ã€jsä¸­å£°æ˜attributeå˜é‡</h3><pre><code class="javascript">&lt;script id=&quot;vertexShader&quot; type=&quot;x-shader/x-vertex&quot;&gt;
//å£°æ˜å˜é‡ç±»å‹vec4ï¼Œå¯¼å‡ºå˜é‡a_Position
        attribute vec4 a_Position;
//ä¿®æ”¹é¡¶ç‚¹å°ºå¯¸å’Œä¿®æ”¹é¡¶ç‚¹ä½ç½®æ˜¯ä¸€æ ·çš„åŸç†ï¼Œåªæ˜¯ç±»å‹ä¸ºfloat
        void main()&#123;
            gl_Position = a_Position;
            gl_PointSize = 50.0;
        &#125;
    &lt;/script&gt;
</code></pre>
<h3 id="äºŒã€jsè·å–attributeå˜é‡"><a href="#äºŒã€jsè·å–attributeå˜é‡" class="headerlink" title="äºŒã€jsè·å–attributeå˜é‡"></a>äºŒã€jsè·å–attributeå˜é‡</h3><pre><code class="javascript">//è®¾ç½®attributeå˜é‡
const a_Position = gl.getAttribLocation(gl.program, &#39;a_Position&#39;);
</code></pre>
<h3 id="ä¸‰ã€åœ¨jsä¸­ä¿®æ”¹attributeå˜é‡"><a href="#ä¸‰ã€åœ¨jsä¸­ä¿®æ”¹attributeå˜é‡" class="headerlink" title="ä¸‰ã€åœ¨jsä¸­ä¿®æ”¹attributeå˜é‡"></a>ä¸‰ã€åœ¨jsä¸­ä¿®æ”¹attributeå˜é‡</h3><pre><code class="javascript">//ä¿®æ”¹attributeå˜é‡å€¼
gl.vertexAttrib3f(a_Position,0,0,0)
//å‚æ•°ï¼ˆå˜é‡å,x,y,zï¼‰
//ä¹Ÿæœ‰è®¸å¤šåŒæ—å‡½æ•°
gl.vertexAttrib1f(a_Position,0)
gl.vertexAttrib2f(a_Position,0,0)
gl.vertexAttrib3f(a_Position,0,0,0)
gl.vertexAttrib4f(a_Position,0,0,0,0)
</code></pre>
<h3 id="æ¡ˆä¾‹å°èŠ‚ï¼ˆé¼ æ ‡æ§åˆ¶ç‚¹ä½ï¼‰"><a href="#æ¡ˆä¾‹å°èŠ‚ï¼ˆé¼ æ ‡æ§åˆ¶ç‚¹ä½ï¼‰" class="headerlink" title="æ¡ˆä¾‹å°èŠ‚ï¼ˆé¼ æ ‡æ§åˆ¶ç‚¹ä½ï¼‰"></a>æ¡ˆä¾‹å°èŠ‚ï¼ˆé¼ æ ‡æ§åˆ¶ç‚¹ä½ï¼‰</h3><h4 id="1-è·å–é¼ æ ‡åœ¨canvasä¸­çš„ä½ç½®"><a href="#1-è·å–é¼ æ ‡åœ¨canvasä¸­çš„ä½ç½®" class="headerlink" title="1.è·å–é¼ æ ‡åœ¨canvasä¸­çš„ä½ç½®"></a>1.è·å–é¼ æ ‡åœ¨canvasä¸­çš„ä½ç½®</h4><pre><code class="javascript">//è·å–é¼ æ ‡ç‚¹åœ¨canvasä¸­çš„ä½ç½®
canvas.addEventListener(&#39;click&#39;,(event)=&gt;&#123;
const &#123;clientX,clientY&#125; = event;
const &#123;left,top&#125; = canvas.getBoundingClientRect();
const [cssX,cssY]=[clientX - left,clientY - top];
        &#125;)
</code></pre>
<p><img src="/2022/11/18/webgl/image-20220922115516857.png"></p>
<pre><code class="javascript">//è§£å†³canvaså’Œwebglå·®å¼‚
//1.è§£å†³åŸç‚¹å·®å¼‚
const [halfWidth,halfHeight] = [width/2,height/2];
const [xBaseCenter,yBaseCenter] = [cssX - halfWidth,cssY - halfHeight];
//2.è§£å†³yè½´è½´å‘å·®å¼‚
const yBaseCenterTop = -yBaseCenter;
//3.è§£å†³åŸºåº•å·®å¼‚
const [x,y] = [xBaseCenter/halfWidth,yBaseCenterTop/halfHeight];
</code></pre>
<h4 id="2-ç»˜åˆ¶å›¾å±‚"><a href="#2-ç»˜åˆ¶å›¾å±‚" class="headerlink" title="2.ç»˜åˆ¶å›¾å±‚"></a>2.ç»˜åˆ¶å›¾å±‚</h4><pre><code class="javascript">gl.vertexAttrib2f(a_Position,x,y);
gl.clear(gl.COLOR_BUFFER_BIT);
gl.drawArrays(gl.POINTS,0,1);
</code></pre>
<h3 id="å››ã€webglåŒæ­¥ç»˜å›¾åŸç†"><a href="#å››ã€webglåŒæ­¥ç»˜å›¾åŸç†" class="headerlink" title="å››ã€webglåŒæ­¥ç»˜å›¾åŸç†"></a>å››ã€webglåŒæ­¥ç»˜å›¾åŸç†</h3><p>â€‹       webgl çš„åŒæ­¥ç»˜å›¾çš„ç°è±¡,å…¶å®æ˜¯ç”±äº webgl åº•å±‚å†…ç½®é¢œè‰²ç¼“å†²åŒºå¯¼è‡´çš„.å®ƒåœ¨ç”µè„‘ä¸­ä¼šå ç”¨ä¸€å—å†…å­˜,åœ¨æˆ‘ä»¬ä½¿ç”¨ webgl ç»˜å›¾çš„æ—¶å€™,æ˜¯åœ¨é¢œè‰²ç¼“å†²åŒºä¸­ç”»å‡ºæ¥,ä½†æ˜¯å›¾ç‰‡æš‚æ—¶è¿˜æœªæ¸²æŸ“å‡ºæ¥.åªæœ‰ webgl è‡ªå·±çŸ¥é“.å¦‚æœæˆ‘ä»¬æƒ³è¦å°†å›¾åƒçš„æ—¶å€™,é‚£å°±ç…§ç€ç¼“å†²åŒºçš„å›¾åƒå»ç”»,è¿™ä¸ªæ­¥éª¤æ˜¯ webgl å†…éƒ¨è‡ªå·±å®Œæˆçš„,æˆ‘ä»¬åªéœ€è¦æ‰§è¡Œç»˜å›¾å‘½ä»¤å°±è¡Œäº†,é¢œè‰²ç¼“å†²åŒºå­˜å‚¨çš„å›¾åƒ,åªæœ‰å½“å‰çº¿ç¨‹æœ‰æ•ˆ,æ¯”å¦‚æˆ‘ä»¬å…ˆåœ¨ js ä¸»çº¿ç¨‹ç»˜å›¾çš„æ—¶å€™,ä¸»çº¿ç¨‹ç»“æŸå,ä¼šåœ¨æ‰§è¡Œä¿¡æ¯é˜Ÿåˆ—çš„å¼‚æ­¥çº¿ç¨‹,å­å•Šæ‰§è¡Œå¼‚æ­¥çº¿ç¨‹æ—¶,é¢œè‰²ç¼“å†²åŒºä¼šè¢« webgl é‡ç½®,å¯¼è‡´é¢œè‰²ç¼“å†²å™¨ç»˜åˆ¶çš„å›¾å½¢è¢«æ¸…é™¤,å¯¼è‡´ä»¥å‰ç»˜åˆ¶çš„å›¾åƒä¹Ÿä¼šæ¶ˆå¤±.</p>
<h2 id="ç¬¬ä¸‰ç« -ç”¨jsæ§åˆ¶é¡¶ç‚¹é¢œè‰²"><a href="#ç¬¬ä¸‰ç« -ç”¨jsæ§åˆ¶é¡¶ç‚¹é¢œè‰²" class="headerlink" title="ç¬¬ä¸‰ç«   ç”¨jsæ§åˆ¶é¡¶ç‚¹é¢œè‰²"></a>ç¬¬ä¸‰ç«   ç”¨jsæ§åˆ¶é¡¶ç‚¹é¢œè‰²</h2><h3 id="ä¸€ã€jsä¸­å£°æ˜uniformå˜é‡"><a href="#ä¸€ã€jsä¸­å£°æ˜uniformå˜é‡" class="headerlink" title="ä¸€ã€jsä¸­å£°æ˜uniformå˜é‡"></a>ä¸€ã€jsä¸­å£°æ˜uniformå˜é‡</h3><pre><code class="javascript">&lt;script id=&quot;fragmentShader&quot; type=&quot;x-shader/x-fragment&quot;&gt;
 //å°†floatç²¾åº¦è®¾ç½®ä¸ºä¸­ç­‰
 precision mediump float;
 uniform vec4 u_FragColor;
 void main()&#123;
    gl_FragColor = u_FragColor;
 &#125;
&lt;/script&gt;
</code></pre>
<h3 id="äºŒã€jsè·å–uniformå˜é‡"><a href="#äºŒã€jsè·å–uniformå˜é‡" class="headerlink" title="äºŒã€jsè·å–uniformå˜é‡"></a>äºŒã€jsè·å–uniformå˜é‡</h3><pre><code class="javascript">const u_FragColor = gl.getUniformLocation(gl.program, &#39;u_FragColor&#39;);
</code></pre>
<h3 id="ä¸‰ã€åœ¨jsä¸­ä¿®æ”¹uniformå˜é‡å€¼"><a href="#ä¸‰ã€åœ¨jsä¸­ä¿®æ”¹uniformå˜é‡å€¼" class="headerlink" title="ä¸‰ã€åœ¨jsä¸­ä¿®æ”¹uniformå˜é‡å€¼"></a>ä¸‰ã€åœ¨jsä¸­ä¿®æ”¹uniformå˜é‡å€¼</h3><pre><code class="javascript">//ä¸€ä¸ªä¸€ä¸ªä¼ é€’å‚æ•°
gl.uniform4f(u_FragColor, 0.0, 1.0, 0.0, 1.0);
//å¯ä»¥ä»¥æ•°ç»„çš„å½¢å¼ä¼ é€’å‚æ•°
//Float32Arrayä¸ºä¸€ç§32ä½æµ®ç‚¹å‹æ•°ç»„ï¼Œåœ¨æµè§ˆå™¨ä¸­çš„è¿è¡Œæ•ˆç‡æ¯”Arrayè¦é«˜çš„å¤š
const color = new Float32Array([1.0,1.0,0.0,1.0]);
gl.uniform4v(u_FragColor,color);
</code></pre>
<h3 id="å››ã€ç‰‡å…ƒç€è‰²å™¨çš„ç»˜å›¾åŸç†"><a href="#å››ã€ç‰‡å…ƒç€è‰²å™¨çš„ç»˜å›¾åŸç†" class="headerlink" title="å››ã€ç‰‡å…ƒç€è‰²å™¨çš„ç»˜å›¾åŸç†"></a>å››ã€ç‰‡å…ƒç€è‰²å™¨çš„ç»˜å›¾åŸç†</h3><p>â€‹     æˆ‘ä»¬æ‰€çœ‹åˆ°çš„å›¾å½¢éƒ½æ˜¯ç”±å¤šä¸ªç‰‡å…ƒç»„æˆçš„ï¼Œé‚£ä¹ˆæƒ³è¦ç»˜åˆ¶ç›¸åº”å›¾å½¢ï¼Œåªéœ€è¦æ¸²æŸ“èŒƒå›´å†…çš„ç‰‡å…ƒå°±å¯ä»¥äº†</p>
<p><img src="/2022/11/18/webgl/image-20220922162314987.png"></p>
<p>å…·ä½“ä»£ç å®ç°ï¼š</p>
<pre><code class="javascript">&lt;script id=&quot;fragmentShader&quot; type=&quot;x-shader/x-fragment&quot;&gt;
precision mediump float;
uniform vec4 u_FragColor;
void main()&#123;
  //distanceä¸ºè®¡ç®—ä¸¤ä¸ªç‚¹çš„è·ç¦» distance(p1,p2)
  //gl_PointCoordç‰‡å…ƒåœ¨ä¸€ä¸ªç‚¹ä¸­çš„ä½ç½®æ˜¯ç»Ÿä¸€åŒ–çš„
  //discardä¸¢å¼ƒï¼Œä¸ä¼šè¿›è¡Œæ¸²æŸ“
float dist = distance(gl_PointCoord,vec2(0.5,0.5));
if(dist &lt; 0.5)&#123;
  //è¿›å…¥èŒƒå›´å°±æ¸²æŸ“
    gl_FragColor = u_FragColor;
&#125;else&#123;
    discard;
&#125;
&#125;
&lt;/script&gt;
</code></pre>
<h3 id="äº”ã€ç‰‡å…ƒç€è‰²å™¨åˆæˆåŠŸèƒ½"><a href="#äº”ã€ç‰‡å…ƒç€è‰²å™¨åˆæˆåŠŸèƒ½" class="headerlink" title="äº”ã€ç‰‡å…ƒç€è‰²å™¨åˆæˆåŠŸèƒ½"></a>äº”ã€ç‰‡å…ƒç€è‰²å™¨åˆæˆåŠŸèƒ½</h3><p>å¼€å¯ç€è‰²å™¨åˆæˆåŠŸèƒ½å’Œå£°æ˜åˆæˆæ–¹å¼æ‰å¯ä»¥ç”Ÿæ•ˆ</p>
<pre><code class="javascript">//å¼€å¯ç‰‡å…ƒç€è‰²å™¨åˆæˆåŠŸèƒ½
gl.enable(gl.BLEND);
//è®¾ç½®ç‰‡å…ƒç€è‰²å™¨åˆæˆæ–¹å¼
gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);
</code></pre>
<h2 id="ç¬¬å››ç« -æ¶æ„è¡¥é—´åŠ¨ç”»"><a href="#ç¬¬å››ç« -æ¶æ„è¡¥é—´åŠ¨ç”»" class="headerlink" title="ç¬¬å››ç«  æ¶æ„è¡¥é—´åŠ¨ç”»"></a>ç¬¬å››ç«  æ¶æ„è¡¥é—´åŠ¨ç”»</h2><p>å®Œæˆé€æ˜åº¦åŠ¨ç”»</p>
<h3 id="ä¸€ã€å»ºç«‹åˆæˆå¯¹è±¡"><a href="#ä¸€ã€å»ºç«‹åˆæˆå¯¹è±¡" class="headerlink" title="ä¸€ã€å»ºç«‹åˆæˆå¯¹è±¡"></a>ä¸€ã€å»ºç«‹åˆæˆå¯¹è±¡</h3><pre><code class="javascript">export default class Compose &#123;
    constructor()&#123;
//parent çˆ¶å¯¹è±¡ï¼Œåˆæˆå¯¹è±¡å¯ä»¥åµŒå¥—
        this.parent = null;
//children å­å¯¹è±¡é›†åˆï¼Œå…¶é›†åˆå¯ä»¥æ˜¯æ—¶é—´è½¨ï¼Œä¹Ÿå¯ä»¥æ˜¯åˆæˆå¯¹è±¡
        this.children = [];
    &#125;
//æ·»åŠ å­å¯¹è±¡æ–¹æ³•
    add(obj)&#123;
        obj.parent = this;
        this.children.push(obj);
    &#125;
//åŸºäºå½“å‰æ—¶é—´æ›´æ–°å­å¯¹è±¡çŠ¶æ€çš„æ–¹æ³•
    update(t) &#123;
        this.children.forEach((ele)=&gt;&#123;
            ele.update(t);
        &#125;)
    &#125;
&#125;
</code></pre>
<h3 id="äºŒã€å»ºç«‹æ—¶é—´è½¨"><a href="#äºŒã€å»ºç«‹æ—¶é—´è½¨" class="headerlink" title="äºŒã€å»ºç«‹æ—¶é—´è½¨"></a>äºŒã€å»ºç«‹æ—¶é—´è½¨</h3><pre><code class="javascript">export default class Track&#123;
    constructor(target)&#123;
        this.target = target;
        this.parent = null;
        this.start = 0;
        this.timeLen = 5;
        this.loop = false;
        this.keyMap = new Map();
    &#125;
    update(t) &#123;
        const &#123;target,start,timeLen,loop,keyMap&#125; = this;
        //æœ¬åœ°æ—¶é—´
        let time = t - start;
        if(loop)&#123;
            time = time % timeLen;
        &#125;
        //éå†å…³é”®å¸§é›†åˆï¼Œåˆ¤æ–­åœ¨ä¸¤ä¸ªå…³é”®å¸§ä¹‹å‰è¿˜æ˜¯ä¹‹å
        for(const [key,fms] of keyMap)&#123;
            const last = fms.length - 1;
            if(time &lt; fms[0][0])&#123;
                target[key] = fms[0][1]; 
            &#125;else if(time &gt; fms[0][1])&#123;
                target[key] = fms[last][0];
            &#125;else&#123;
                target[key] = getValBetweenFms(time,fms,last);
            &#125;
        &#125;
    &#125;
&#125;

//è·å–ä¸¤ä¸ªå…³é”®å¸§ä¹‹é—´çš„è¡¥é—´çŠ¶æ€çš„æ–¹æ³•
function getValBetweenFms(time,fms,last)&#123;
    for(let i = 0;i &lt; last;i++)&#123;
        //ä¸¤ä¸ªå…³é”®å¸§fm1å’Œfm2
        const fm1 = fms[i];
        const fm2 = fms[i + 1];
        //å¦‚æœåœ¨ä¸¤ä¸ªå…³é”®å¸§ä¹‹é—´ï¼ŒåŸºäºä¸¤ä¸ªå…³é”®å¸§çš„æ—¶é—´å’ŒçŠ¶æ€æ±‚ç‚¹æ–œå¼
        if(time &gt;= fm1[0] &amp;&amp; time &lt;= fm2[0])&#123;
            const delta = &#123;
                x: fm2[0] - fm1[0],
                y: fm2[1] - fm1[1],
            &#125;;
            //è·å–æ–œç‡kå’Œæˆªè·b
            const k = delta.y / delta.x;
            const b = fm1[1] - fm1[0] * k;
            //æ ¹æ®ç‚¹æ–œå¼æ±‚å½“å‰æ—¶é—´å¯¹åº”çš„çŠ¶æ€
            return k * time + b;
        &#125;
    &#125;
&#125;
</code></pre>
<p><img src="/2022/11/18/webgl/image-20220922181506452.png"></p>
<h3 id="ä¸‰ã€ä½¿ç”¨åˆæˆå¯¹è±¡å’Œè½¨é“å¯¹è±¡åˆ¶ä½œè¡¥é—´åŠ¨ç”»"><a href="#ä¸‰ã€ä½¿ç”¨åˆæˆå¯¹è±¡å’Œè½¨é“å¯¹è±¡åˆ¶ä½œè¡¥é—´åŠ¨ç”»" class="headerlink" title="ä¸‰ã€ä½¿ç”¨åˆæˆå¯¹è±¡å’Œè½¨é“å¯¹è±¡åˆ¶ä½œè¡¥é—´åŠ¨ç”»"></a>ä¸‰ã€ä½¿ç”¨åˆæˆå¯¹è±¡å’Œè½¨é“å¯¹è±¡åˆ¶ä½œè¡¥é—´åŠ¨ç”»</h3><pre><code class="javascript">//å¼•å…¥åˆæˆå¯¹è±¡Composeå’Œè½¨é“å¯¹è±¡Track
import Compose from &#39;./utils/Compose.js&#39;
import Track from &#39;./utils/ComposeOne.js&#39;
</code></pre>
<pre><code class="javascript">const compose = new Compose();
</code></pre>
<pre><code class="javascript">const obj = &#123;x,y,size&#125;;
starts.push(obj);
//å»ºç«‹è½¨é“å¯¹è±¡
const track = new Track(obj);
track.start = new Date();
track.timeLen = 2000;
track.loop = true;
track.keyMap = new Map([
            [
                &#39;size&#39;,
                [
                    [500,size],
                    [1000,0],
                    [1500,size]
                ]
            ]
           ])
compose.add(track);
</code></pre>
<pre><code class="javascript">//è¿ç»­æ¸²æŸ“
!(function ani()&#123;
            compose.update(new Date());
            render();
            requestAnimationFrame(ani);
 &#125;)()
 //æ¸²æŸ“æ–¹æ³•
 function render()&#123;
gl.clear(gl.COLOR_BUFFER_BIT);
starts.forEach((&#123;x,y,size&#125;)=&gt;&#123;
   gl.vertexAttrib2f(a_Position,x,y);
   gl.vertexAttrib1f(a_PointSize,size);
   gl.uniform4f(u_FragColor, 1.0, 1.0,1.0, Math.random()*1);
   
  gl.drawArrays(gl.POINTS,0,1);
            &#125;)
        &#125;
</code></pre>
<h2 id="ç¬¬äº”ç« -ç»˜åˆ¶å¤šç‚¹å›¾å½¢"><a href="#ç¬¬äº”ç« -ç»˜åˆ¶å¤šç‚¹å›¾å½¢" class="headerlink" title="ç¬¬äº”ç«  ç»˜åˆ¶å¤šç‚¹å›¾å½¢"></a>ç¬¬äº”ç«  ç»˜åˆ¶å¤šç‚¹å›¾å½¢</h2><h3 id="ä¸€ã€ç»˜åˆ¶å¤šç‚¹æ­¥éª¤"><a href="#ä¸€ã€ç»˜åˆ¶å¤šç‚¹æ­¥éª¤" class="headerlink" title="ä¸€ã€ç»˜åˆ¶å¤šç‚¹æ­¥éª¤"></a>ä¸€ã€ç»˜åˆ¶å¤šç‚¹æ­¥éª¤</h3><p>å’Œä¹‹å‰çš„webglç»˜å›¾æµç¨‹æ˜¯ä¸€æ ·çš„åªæ˜¯èµ‹å€¼attributeä¸ä¸€æ ·</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;webglå¤šç‚¹ç»˜åˆ¶&lt;/title&gt;
    &lt;style&gt;
        body&#123;
            margin: 0;
            overflow: hidden;
        &#125;
        #canvas&#123;
            background-color: antiquewhite;
        &#125;
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;canvas id=&quot;canvas&quot;&gt;&lt;/canvas&gt;
    &lt;!-- é¡¶ç‚¹ç€è‰²å™¨ --&gt;
    &lt;script id=&quot;vertexShader&quot; type=&quot;x-shader/x-vertex&quot;&gt;
        attribute vec4 a_Position;
        void main()&#123;
            gl_Position = a_Position;
            gl_PointSize = 50.0;
        &#125;
    &lt;/script&gt;
    &lt;!-- ç‰‡å…ƒç€è‰²å™¨ --&gt;
    &lt;script id=&quot;fragmentShader&quot; type=&quot;x-shader/x-fragment&quot;&gt;
        void main()&#123;
            gl_FragColor = vec4(1,1,1,1);
        &#125;
    &lt;/script&gt;
    &lt;script type=&quot;module&quot;&gt;
        import &#123;initShaders&#125; from &#39;./utils/index.js&#39;
        //canvasç”»å¸ƒï¼Œè·å–ä¸Šä¸‹æ–‡å¯¹è±¡
        const canvas = document.querySelector(&#39;#canvas&#39;);
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        //webglç”»ç¬”
        const gl = canvas.getContext(&quot;webgl&quot;);
        //é¡¶ç‚¹ç€è‰²å™¨æ–‡æœ¬
        const vsSource = document.getElementById(&#39;vertexShader&#39;).innerText;
        //ç‰‡å…ƒèˆè‰²å™¨æ–‡æœ¬
        const fsSourse = document.getElementById(&#39;fragmentShader&#39;).innerText;
        //åˆå§‹åŒ–ç€è‰²å™¨
        initShaders(gl,vsSource,fsSourse);
      //è®¾ç½®attributeå˜é‡
        const a_Position =                        gl.getAttribLocation(gl.program, &#39;a_Position&#39;);
        //åœ¨è¿™å¼€å§‹ä¿®æ”¹

        //æŒ‡å®šå°†è¦ç”¨æ¥æ¸…ç†ç»˜å›¾åŒºçš„é¢œè‰²
        gl.clearColor(0,0,0,1);
        //æ¸…ç†ç»˜å›¾åŒº
        gl.clear(gl.COLOR_BUFFER_BIT);
        //ç»˜åˆ¶é¡¶ç‚¹
        gl.drawArrays(gl.POINTS,0,1);
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="äºŒã€ç»˜åˆ¶å¤šç‚¹"><a href="#äºŒã€ç»˜åˆ¶å¤šç‚¹" class="headerlink" title="äºŒã€ç»˜åˆ¶å¤šç‚¹"></a>äºŒã€ç»˜åˆ¶å¤šç‚¹</h3><p><img src="/2022/11/18/webgl/image-20220923105127932.png"></p>
<pre><code class="javascript">//å¦‚ä½•å‘attributeå˜é‡ä¸­å†™å…¥å¤šç‚¹ï¼Œå¹¶ç»˜åˆ¶å¤šç‚¹
//åˆ›å»ºé¡¶ç‚¹æ•°æ®
const vertices =new Float32Array([0.0,0.1,-0.1,-0.1,0.1,-0.1])
//å»ºç«‹ç¼“å­˜å¯¹è±¡ï¼Œç‹¬ç«‹ç¼“å­˜åŒº
const vertexBuffer = gl.createBuffer();
//ç»‘å®šç¼“å­˜å¯¹è±¡
gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);
//å†™å…¥æ•°æ®
gl.bufferData(gl.ARRAY_BUFFER,vertices,gl.STATIC_DRAW);
//è·å–attributeå˜é‡
gl.vertexAttribPointer(a_Position, 2, gl.FLOAT, false, 0, 0);
//å¼€å¯æ‰¹å¤„ç†åŠŸèƒ½
gl.enableVertexAttribArray(a_Position);
</code></pre>
<pre><code class="javascript">//æ·»åŠ é¡¶ç‚¹çš„æ—¶å€™ï¼Œä¹Ÿè¦ä¿®æ”¹ç»˜åˆ¶é¡¶ç‚¹çš„æ•°é‡ 
//ç»˜åˆ¶é¡¶ç‚¹
 gl.drawArrays(gl.POINTS,0,3);
</code></pre>
<h3 id="ä¸‰ã€ç»˜åˆ¶ä¸‰è§’é¢"><a href="#ä¸‰ã€ç»˜åˆ¶ä¸‰è§’é¢" class="headerlink" title="ä¸‰ã€ç»˜åˆ¶ä¸‰è§’é¢"></a>ä¸‰ã€ç»˜åˆ¶ä¸‰è§’é¢</h3><pre><code class="javascript">//ä¸éœ€è¦é¡¶ç‚¹å¤§å°äº†
//ä¿®æ”¹ç»˜å›¾æ–¹å¼å°±å¯ä»¥äº†
gl.drawArrays(gl.TRIANGLES,0,3);
</code></pre>
<h3 id="å››ã€ç»˜åˆ¶çº¿"><a href="#å››ã€ç»˜åˆ¶çº¿" class="headerlink" title="å››ã€ç»˜åˆ¶çº¿"></a>å››ã€ç»˜åˆ¶çº¿</h3><p>ç»˜åˆ¶çº¿çš„æ–¹å¼ä¸»è¦æ˜¯ä¿®æ”¹é¡¶ç‚¹ä¸ªæ•°å’Œç»˜å›¾æ–¹å¼gl.drawArrays(mode,first,count);</p>
<ul>
<li>POINTS å¯è§†çš„ç‚¹</li>
<li>LINES å•ç‹¬çº¿æ®µ</li>
<li>LINE_STRIP çº¿æ¡</li>
<li>LINE_LOOPé—­åˆçº¿æ¡</li>
<li>TRIANGLES å•ç‹¬ä¸‰è§’å½¢</li>
<li>TRIANGLE_STRIP ä¸‰è§’å¸¦</li>
<li>TRIANGLE_FAN ä¸‰è§’æ‰‡</li>
</ul>
<h3 id="äº”ã€ä¸‰è§’å¸¦å’Œä¸‰è§’æ‰‡çš„è§„åˆ™"><a href="#äº”ã€ä¸‰è§’å¸¦å’Œä¸‰è§’æ‰‡çš„è§„åˆ™" class="headerlink" title="äº”ã€ä¸‰è§’å¸¦å’Œä¸‰è§’æ‰‡çš„è§„åˆ™"></a>äº”ã€ä¸‰è§’å¸¦å’Œä¸‰è§’æ‰‡çš„è§„åˆ™</h3><p><img src="/2022/11/18/webgl/image-20220923120827422.png"></p>
<p><img src="/2022/11/18/webgl/image-20220923122032402.png"></p>
]]></content>
      <categories>
        <category>WebGl</category>
        <category>webgl</category>
      </categories>
      <tags>
        <tag>webgl</tag>
      </tags>
  </entry>
  <entry>
    <title>yarnå‘½ä»¤è¯¦è§£</title>
    <url>/2022/11/09/yarn%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="yarnå‘½ä»¤è¯¦è§£"><a href="#yarnå‘½ä»¤è¯¦è§£" class="headerlink" title="yarnå‘½ä»¤è¯¦è§£"></a>yarnå‘½ä»¤è¯¦è§£</h1><h3 id="ä¸€ã€yarnå®‰è£…åˆå§‹åŒ–"><a href="#ä¸€ã€yarnå®‰è£…åˆå§‹åŒ–" class="headerlink" title="ä¸€ã€yarnå®‰è£…åˆå§‹åŒ–"></a>ä¸€ã€yarnå®‰è£…åˆå§‹åŒ–</h3><pre><code class="css">npm i yarn -g #yarnå®‰è£…
yarn -v #æŸ¥çœ‹ç‰ˆæœ¬
yarn init ï½œ yarn #åˆå§‹åŒ–ï¼Œåˆ›å»ºpackage.jsonæ–‡ä»¶
yarn init --yes #ç®€å†™ -y è·³è¿‡ä¼šè¯ï¼Œç›´æ¥é€šè¿‡é»˜è®¤å€¼ç”Ÿæˆ package.json
</code></pre>
<h3 id="äºŒã€yarnå®‰è£…ä¾èµ–"><a href="#äºŒã€yarnå®‰è£…ä¾èµ–" class="headerlink" title="äºŒã€yarnå®‰è£…ä¾èµ–"></a>äºŒã€yarnå®‰è£…ä¾èµ–</h3><pre><code class="css">yarn add webpack@2.3.3 # yarn --save æ˜¯ yarn é»˜è®¤çš„ï¼Œé»˜è®¤è®°å½•åœ¨ package.json dependencies ä¸­
</code></pre>
<pre><code class="css">yarn add webpack --dev # yarn ç®€å†™ -D  devDependencies ä¸­
</code></pre>
<pre><code class="css">yarn global add webpack # yarn å®‰è£…å…¨å±€ä¾èµ–
</code></pre>
<h3 id="ä¸‰ã€yarnæ›´æ–°ä¾èµ–"><a href="#ä¸‰ã€yarnæ›´æ–°ä¾èµ–" class="headerlink" title="ä¸‰ã€yarnæ›´æ–°ä¾èµ–"></a>ä¸‰ã€yarnæ›´æ–°ä¾èµ–</h3><pre><code class="css">yarn upgrade # å‡çº§æ‰€æœ‰ä¾èµ–é¡¹ï¼Œä¸è®°å½•åœ¨ package.json ä¸­
yarn upgrade webpack # å‡çº§æŒ‡å®šåŒ…
yarn upgrade --latest # å¿½ç•¥ç‰ˆæœ¬è§„åˆ™ï¼Œå‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶ä¸”æ›´æ–° package.json
</code></pre>
<h3 id="å››ã€yarnç§»é™¤ä¾èµ–"><a href="#å››ã€yarnç§»é™¤ä¾èµ–" class="headerlink" title="å››ã€yarnç§»é™¤ä¾èµ–"></a>å››ã€yarnç§»é™¤ä¾èµ–</h3><pre><code class="css">yarn remove webpack # yarn
</code></pre>
<h3 id="äº”ã€å…¶ä»–å‘½ä»¤"><a href="#äº”ã€å…¶ä»–å‘½ä»¤" class="headerlink" title="äº”ã€å…¶ä»–å‘½ä»¤"></a>äº”ã€å…¶ä»–å‘½ä»¤</h3><pre><code class="css">yarn install # æˆ–è€… yarn åœ¨ node_modules ç›®å½•å®‰è£… package.json ä¸­åˆ—å‡ºçš„æ‰€æœ‰ä¾èµ–
yarn install --force # å¼ºåˆ¶ä¸‹è½½å®‰è£…
yarn start # yarn  æ‰§è¡Œ scripts ä¸‹ start å¯¹åº”çš„è„šæœ¬

###ç”¨æ¥æŸ¥çœ‹æŸä¸ªæ¨¡å—çš„æœ€æ–°ç‰ˆæœ¬ä¿¡æ¯
yarn info webpack # yarn
yarn info webpack --json # è¾“å‡º json æ ¼å¼
yarn info webpack readme # è¾“å‡º README éƒ¨åˆ†

yarn list # åˆ—å‡ºå½“å‰é¡¹ç›®çš„ä¾èµ–
yarn list --depth=0 # é™åˆ¶ä¾èµ–çš„æ·±åº¦
sudo yarn global list # åˆ—å‡ºå…¨å±€å®‰è£…çš„æ¨¡å—

###yarné…ç½®æ–‡ä»¶
yarn config set key value # è®¾ç½®
yarn config get key # è¯»å–å€¼
yarn config delete key # åˆ é™¤
yarn config list # æ˜¾ç¤ºå½“å‰é…ç½®
yarn config set registry [https://registry.npm.taobao.org](https://links.jianshu.com/go?to=https%3A%2F%2Fregistry.npm.taobao.org) # è®¾ç½®æ·˜å®é•œåƒ

###ç¼“å­˜
sudo yarn cache list # åˆ—å‡ºå·²ç¼“å­˜çš„æ¯ä¸ªåŒ…
sudo yarn cache dir # è¿”å› å…¨å±€ç¼“å­˜ä½ç½®
sudo yarn cache clean # æ¸…é™¤ç¼“å­˜
</code></pre>
]]></content>
      <categories>
        <category>npm&amp;yarn</category>
        <category>yarnå¸¸ç”¨å‘½ä»¤</category>
      </categories>
      <tags>
        <tag>yarn</tag>
      </tags>
  </entry>
  <entry>
    <title>viteé…ç½®</title>
    <url>/2022/11/22/vite%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="viteé…ç½®"><a href="#viteé…ç½®" class="headerlink" title="viteé…ç½®"></a>viteé…ç½®</h1><p>æœ€ç›´è§‚çš„ä½“éªŒæ˜¯â€œå¿«é€Ÿâ€ã€â€œæ¸…çˆ½â€ï¼Œå¼€å‘æ•ˆç‡ä¹Ÿå¾—åˆ°æ˜æ˜¾æå‡ï¼ˆè§£å†³æ‰äº†webpackå¼€å‘æœåŠ¡å™¨å­˜åœ¨çš„ç—›ç‚¹ï¼‰ã€‚</p>
<p>åˆå§‹åŒ–å®Œæˆåï¼Œå·¥ç¨‹ç›®å½•å¦‚ä¸‹ï¼š</p>
<p><img src="/2022/11/22/vite%E9%85%8D%E7%BD%AE/image-20221122094453903.png"></p>
<p>VS Codeæ’ä»¶ï¼šVite</p>
<p>é…ç½®è¯¦æƒ…ï¼š</p>
<p>vite.config.ts</p>
<pre><code class="javascript">import &#123; defineConfig, loadEnv &#125; from &#39;vite&#39;;
import vue from &#39;@vitejs/plugin-vue&#39;;
import vueJSX from &#39;@vitejs/plugin-vue-jsx&#39;;
import Components from &#39;unplugin-vue-components/vite&#39;;
import &#123; AntDesignVueResolver &#125; from &#39;unplugin-vue-components/resolvers&#39;;
import &#123; resolve &#125; from &#39;path&#39;;
import &#123; initDevProxy &#125; from &#39;./http-proxy&#39;;

// https://vitejs.dev/config/
export default defineConfig((&#123; mode &#125;) =&gt; &#123;
  const env = loadEnv(mode, process.cwd(), &#39;&#39;);
  return &#123;
    // è‡ªå®šä¹‰å…¬å…±åŸºç¡€è·¯å¾„ï¼ˆå–è‡ª .env(.*) æ–‡ä»¶ï¼‰
    base: env.VITE_BASE_PATH,
    // å®šä¹‰å…¨å±€å¸¸é‡æ›¿æ¢æ–¹å¼
    define: &#123;
      // å–æ¶ˆå¯ç”¨Vue.2xä¸­é€‰é¡¹å¼apiï¼ˆè¿™éƒ¨åˆ†ä¸ä¼šè¢«æ‰“åŒ…ï¼‰
      &#39;__VUE_OPTIONS_API__&#39;: false,
    &#125;,
    // é…ç½®viteæ’ä»¶
    plugins: [
      vue(),
      vueJSX(),
      // è‡ªåŠ¨åŒ–çš„ç»„ä»¶æŒ‰éœ€å¼•å…¥é…ç½®
      Components(&#123;
        extensions: [&#39;vue&#39;, &#39;tsx&#39;],
        resolvers: [
          AntDesignVueResolver(&#123; resolveIcons: true &#125;),
        ],
        include: [/\.vue$/, /\.vue\?vue/, /\.tsx$/],
      &#125;),
    ],
    // é…ç½®è§£æé¡¹
    resolve: &#123;
      // è·¯å¾„åˆ«å
      alias: &#123;
        &#39;@/&#39;: resolve(__dirname, &#39;src&#39;) + &#39;/&#39;,
      &#125;,
    &#125;,
    // æ ·å¼å¤„ç†é…ç½®é¡¹
    css: &#123;
      // CSS module
      modules: &#123;
        generateScopedName: `_[name]_[local]_[hash:base64:6]_`,
      &#125;,
      // ä¼ é€’ç»™ç‰¹å®šcssæ ·å¼é¢„å¤„ç†å™¨çš„é…ç½®
      preprocessorOptions: &#123;
        less: &#123;
          javascriptEnabled: true,
        &#125;,
      &#125;,
    &#125;,
    // é…ç½®å¼€å‘æœåŠ¡å™¨
    server: &#123;
      open: true,
      proxy: initDevProxy(),
    &#125;,
    // è‡ªå®šä¹‰æ‰“åŒ…é¡¹é…ç½®
    build: &#123;
      // å¤§æ–‡ä»¶å‘Šè­¦é˜ˆå€¼(kb)
      chunkSizeWarningLimit: 400,
    &#125;,
  &#125;;
&#125;);
</code></pre>
<p>http-proxy.ts</p>
<pre><code class="javascript">import type &#123; ProxyOptions &#125; from &#39;vite&#39;;

/**
 * åˆå§‹åŒ–å¼€å‘æœåŠ¡å™¨ä»£ç†
 */
export const initDevProxy = (): Record&lt;string, string | ProxyOptions&gt; =&gt; &#123;
  return &#123;
    // ä¸´æ—¶ç¤ºä¾‹
    &#39;/api&#39;: &#123;
      target: &#39;&#39;,
      changeOrigin: true,
    &#125;,
  &#125;;
&#125;;
</code></pre>
<p>ä»¥ä¸Šçš„é…ç½®æ˜¯é¡¹ç›®é…ç½®çš„ä¸€éƒ¨åˆ†ï¼Œå…¶ä»–æ‰€éœ€è¦çš„é…ç½®æŒ‰ç…§è‡ªå·±çš„éœ€è¦å»å®˜ç½‘æŸ¥è¯¢å°±å¯ä»¥ï¼Œå®˜ç½‘åŸºäºæ²¡ä¸ªé…ç½®éƒ½æœ‰è¯¦ç»†è®²è§£ã€‚</p>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><p>[Viteä¸­æ–‡å®˜ç½‘]: 	â€œ<a href="https://cn.vitejs.dev/guide/">https://cn.vitejs.dev/guide/</a> â€œ</p>
]]></content>
      <categories>
        <category>å·¥ç¨‹æŠ€æœ¯</category>
        <category>viteé…ç½®</category>
      </categories>
      <tags>
        <tag>vite</tag>
      </tags>
  </entry>
  <entry>
    <title>uniappç”Ÿå‘½å‘¨æœŸ</title>
    <url>/2022/12/20/uniapp%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="uniappç”Ÿå‘½å‘¨æœŸ"><a href="#uniappç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="uniappç”Ÿå‘½å‘¨æœŸ"></a>uniappç”Ÿå‘½å‘¨æœŸ</h1><h3 id="ä¸€ã€åº”ç”¨ç”Ÿå‘½å‘¨æœŸ"><a href="#ä¸€ã€åº”ç”¨ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ä¸€ã€åº”ç”¨ç”Ÿå‘½å‘¨æœŸ"></a>ä¸€ã€åº”ç”¨ç”Ÿå‘½å‘¨æœŸ</h3><p>uni-app æ”¯æŒå¦‚ä¸‹åº”ç”¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼š</p>
<p><img src="/2022/12/20/uniapp%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/image-20221220094520002.png"></p>
<p>è¿™å‡ ä¸ªå‡½æ•°ä¸»è¦è¿˜æ˜¯åœ¨App.vueè¿™ä¸ªæ–‡ä»¶è¿›è¡Œå®šä¹‰ï¼Œæ³¨æ„ï¼š</p>
<p>åº”ç”¨ç”Ÿå‘½å‘¨æœŸä»…å¯åœ¨App.vueä¸­ç›‘å¬ï¼Œåœ¨å…¶å®ƒé¡µé¢ç›‘å¬æ— æ•ˆã€‚<br>onlaunché‡Œè¿›è¡Œé¡µé¢è·³è½¬</p>
<p>onPageNotFound é¡µé¢å®é™…ä¸Šå·²ç»æ‰“å¼€äº†ï¼ˆæ¯”å¦‚é€šè¿‡åˆ†äº«å¡ç‰‡ã€å°ç¨‹åºç ï¼‰ä¸”å‘ç°é¡µé¢ä¸å­˜åœ¨ï¼Œæ‰ä¼šè§¦å‘ï¼Œapi è·³è½¬ä¸å­˜åœ¨çš„é¡µé¢ä¸ä¼šè§¦å‘ï¼ˆå¦‚ uni.navigateToï¼‰</p>
<h3 id="äºŒã€é¡µé¢ç”Ÿå‘½å‘¨æœŸ"><a href="#äºŒã€é¡µé¢ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="äºŒã€é¡µé¢ç”Ÿå‘½å‘¨æœŸ"></a>äºŒã€é¡µé¢ç”Ÿå‘½å‘¨æœŸ</h3><p><code>uni-app</code> æ”¯æŒå¦‚ä¸‹é¡µé¢ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼š</p>
<table>
<thead>
<tr>
<th align="left">å‡½æ•°å</th>
<th align="left">è¯´æ˜</th>
<th align="left">å¹³å°å·®å¼‚è¯´æ˜</th>
<th align="left">æœ€ä½ç‰ˆæœ¬</th>
</tr>
</thead>
<tbody><tr>
<td align="left">onInit</td>
<td align="left">ç›‘å¬é¡µé¢åˆå§‹åŒ–ï¼Œå…¶å‚æ•°åŒ onLoad å‚æ•°ï¼Œä¸ºä¸Šä¸ªé¡µé¢ä¼ é€’çš„æ•°æ®ï¼Œå‚æ•°ç±»å‹ä¸º Objectï¼ˆç”¨äºé¡µé¢ä¼ å‚ï¼‰ï¼Œè§¦å‘æ—¶æœºæ—©äº onLoad</td>
<td align="left">ç™¾åº¦å°ç¨‹åº</td>
<td align="left">3.1.0+</td>
</tr>
<tr>
<td align="left">onLoad</td>
<td align="left">ç›‘å¬é¡µé¢åŠ è½½ï¼Œå…¶å‚æ•°ä¸ºä¸Šä¸ªé¡µé¢ä¼ é€’çš„æ•°æ®ï¼Œå‚æ•°ç±»å‹ä¸º Objectï¼ˆç”¨äºé¡µé¢ä¼ å‚ï¼‰ï¼Œå‚è€ƒ<a href="https://zh.uniapp.dcloud.io/api/router#navigateto">ç¤ºä¾‹</a></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onShow</td>
<td align="left">ç›‘å¬é¡µé¢æ˜¾ç¤ºã€‚é¡µé¢æ¯æ¬¡å‡ºç°åœ¨å±å¹•ä¸Šéƒ½è§¦å‘ï¼ŒåŒ…æ‹¬ä»ä¸‹çº§é¡µé¢ç‚¹è¿”å›éœ²å‡ºå½“å‰é¡µé¢</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onReady</td>
<td align="left">ç›‘å¬é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆã€‚æ³¨æ„å¦‚æœæ¸²æŸ“é€Ÿåº¦å¿«ï¼Œä¼šåœ¨é¡µé¢è¿›å…¥åŠ¨ç”»å®Œæˆå‰è§¦å‘</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onHide</td>
<td align="left">ç›‘å¬é¡µé¢éšè—</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onUnload</td>
<td align="left">ç›‘å¬é¡µé¢å¸è½½</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onResize</td>
<td align="left">ç›‘å¬çª—å£å°ºå¯¸å˜åŒ–</td>
<td align="left">Appã€å¾®ä¿¡å°ç¨‹åºã€å¿«æ‰‹å°ç¨‹åº</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onPullDownRefresh</td>
<td align="left">ç›‘å¬ç”¨æˆ·ä¸‹æ‹‰åŠ¨ä½œï¼Œä¸€èˆ¬ç”¨äºä¸‹æ‹‰åˆ·æ–°ï¼Œå‚è€ƒ<a href="https://zh.uniapp.dcloud.io/api/ui/pulldown">ç¤ºä¾‹</a></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onReachBottom</td>
<td align="left">é¡µé¢æ»šåŠ¨åˆ°åº•éƒ¨çš„äº‹ä»¶ï¼ˆä¸æ˜¯scroll-viewæ»šåˆ°åº•ï¼‰ï¼Œå¸¸ç”¨äºä¸‹æ‹‰ä¸‹ä¸€é¡µæ•°æ®ã€‚å…·ä½“è§ä¸‹æ–¹æ³¨æ„äº‹é¡¹</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onTabItemTap</td>
<td align="left">ç‚¹å‡» tab æ—¶è§¦å‘ï¼Œå‚æ•°ä¸ºObjectï¼Œå…·ä½“è§ä¸‹æ–¹æ³¨æ„äº‹é¡¹</td>
<td align="left">å¾®ä¿¡å°ç¨‹åºã€QQå°ç¨‹åºã€æ”¯ä»˜å®å°ç¨‹åºã€ç™¾åº¦å°ç¨‹åºã€H5ã€Appã€å¿«æ‰‹å°ç¨‹åºã€äº¬ä¸œå°ç¨‹åº</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onShareAppMessage</td>
<td align="left">ç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’åˆ†äº«</td>
<td align="left">å¾®ä¿¡å°ç¨‹åºã€QQå°ç¨‹åºã€æ”¯ä»˜å®å°ç¨‹åºã€å­—èŠ‚å°ç¨‹åºã€é£ä¹¦å°ç¨‹åºã€å¿«æ‰‹å°ç¨‹åºã€äº¬ä¸œå°ç¨‹åº</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onPageScroll</td>
<td align="left">ç›‘å¬é¡µé¢æ»šåŠ¨ï¼Œå‚æ•°ä¸ºObject</td>
<td align="left">nvueæš‚ä¸æ”¯æŒ</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onNavigationBarButtonTap</td>
<td align="left">ç›‘å¬åŸç”Ÿæ ‡é¢˜æ æŒ‰é’®ç‚¹å‡»äº‹ä»¶ï¼Œå‚æ•°ä¸ºObject</td>
<td align="left">Appã€H5</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onBackPress</td>
<td align="left">ç›‘å¬é¡µé¢è¿”å›ï¼Œè¿”å› event &#x3D; {from:backbuttonã€ navigateBack} ï¼Œbackbutton è¡¨ç¤ºæ¥æºæ˜¯å·¦ä¸Šè§’è¿”å›æŒ‰é’®æˆ– android è¿”å›é”®ï¼›navigateBackè¡¨ç¤ºæ¥æºæ˜¯ uni.navigateBack ï¼›è¯¦ç»†è¯´æ˜åŠä½¿ç”¨ï¼š<a href="http://ask.dcloud.net.cn/article/35120">onBackPress è¯¦è§£</a>ã€‚æ”¯ä»˜å®å°ç¨‹åºåªæœ‰çœŸæœºèƒ½è§¦å‘ï¼Œåªèƒ½ç›‘å¬énavigateBackå¼•èµ·çš„è¿”å›ï¼Œä¸å¯é˜»æ­¢é»˜è®¤è¡Œä¸ºã€‚</td>
<td align="left">appã€H5ã€æ”¯ä»˜å®å°ç¨‹åº</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">onNavigationBarSearchInputChanged</td>
<td align="left">ç›‘å¬åŸç”Ÿæ ‡é¢˜æ æœç´¢è¾“å…¥æ¡†è¾“å…¥å†…å®¹å˜åŒ–äº‹ä»¶</td>
<td align="left">Appã€H5</td>
<td align="left">1.6.0</td>
</tr>
<tr>
<td align="left">onNavigationBarSearchInputConfirmed</td>
<td align="left">ç›‘å¬åŸç”Ÿæ ‡é¢˜æ æœç´¢è¾“å…¥æ¡†æœç´¢äº‹ä»¶ï¼Œç”¨æˆ·ç‚¹å‡»è½¯é”®ç›˜ä¸Šçš„â€œæœç´¢â€æŒ‰é’®æ—¶è§¦å‘ã€‚</td>
<td align="left">Appã€H5</td>
<td align="left">1.6.0</td>
</tr>
<tr>
<td align="left">onNavigationBarSearchInputClicked</td>
<td align="left">ç›‘å¬åŸç”Ÿæ ‡é¢˜æ æœç´¢è¾“å…¥æ¡†ç‚¹å‡»äº‹ä»¶ï¼ˆpages.json ä¸­çš„ searchInput é…ç½® disabled ä¸º true æ—¶æ‰ä¼šè§¦å‘ï¼‰</td>
<td align="left">Appã€H5</td>
<td align="left">1.6.0</td>
</tr>
<tr>
<td align="left">onShareTimeline</td>
<td align="left">ç›‘å¬ç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’è½¬å‘åˆ°æœ‹å‹åœˆ</td>
<td align="left">å¾®ä¿¡å°ç¨‹åº</td>
<td align="left">2.8.1+</td>
</tr>
<tr>
<td align="left">onAddToFavorites</td>
<td align="left">ç›‘å¬ç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’æ”¶è—</td>
<td align="left">å¾®ä¿¡å°ç¨‹åºã€QQå°ç¨‹åº</td>
<td align="left">2.8.1+</td>
</tr>
</tbody></table>
<p><code>onInit</code>ä½¿ç”¨æ³¨æ„</p>
<ul>
<li>ä»…ç™¾åº¦å°ç¨‹åºåŸºç¡€åº“ 3.260 ä»¥ä¸Šæ”¯æŒ onInit ç”Ÿå‘½å‘¨æœŸ</li>
<li>å…¶ä»–ç‰ˆæœ¬æˆ–å¹³å°å¯ä»¥åŒæ—¶ä½¿ç”¨ onLoad ç”Ÿå‘½å‘¨æœŸè¿›è¡Œå…¼å®¹ï¼Œæ³¨æ„é¿å…é‡å¤æ‰§è¡Œç›¸åŒé€»è¾‘</li>
<li>ä¸ä¾èµ–é¡µé¢ä¼ å‚çš„é€»è¾‘å¯ä»¥ç›´æ¥ä½¿ç”¨ created ç”Ÿå‘½å‘¨æœŸæ›¿ä»£</li>
</ul>
<p><code>onReachBottom</code>ä½¿ç”¨æ³¨æ„ å¯åœ¨pages.jsoné‡Œå®šä¹‰å…·ä½“é¡µé¢åº•éƒ¨çš„è§¦å‘è·ç¦»<a href="https://zh.uniapp.dcloud.io/collocation/pages#globalstyle">onReachBottomDistance</a>ï¼Œæ¯”å¦‚è®¾ä¸º50ï¼Œé‚£ä¹ˆæ»šåŠ¨é¡µé¢åˆ°è·ç¦»åº•éƒ¨50pxæ—¶ï¼Œå°±ä¼šè§¦å‘onReachBottomäº‹ä»¶ã€‚</p>
<p>å¦‚ä½¿ç”¨scroll-viewå¯¼è‡´é¡µé¢æ²¡æœ‰æ»šåŠ¨ï¼Œåˆ™è§¦åº•äº‹ä»¶ä¸ä¼šè¢«è§¦å‘ã€‚scroll-viewæ»šåŠ¨åˆ°åº•éƒ¨çš„äº‹ä»¶è¯·å‚è€ƒscroll-viewçš„æ–‡æ¡£</p>
<p><code>onPageScroll</code> ï¼ˆç›‘å¬æ»šåŠ¨ã€æ»šåŠ¨ç›‘å¬ã€æ»šåŠ¨äº‹ä»¶ï¼‰å‚æ•°è¯´æ˜ï¼š</p>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>scrollTop</td>
<td>Number</td>
<td>é¡µé¢åœ¨å‚ç›´æ–¹å‘å·²æ»šåŠ¨çš„è·ç¦»ï¼ˆå•ä½pxï¼‰</td>
</tr>
</tbody></table>
<p><strong>æ³¨æ„</strong></p>
<ul>
<li><code>onPageScroll</code>é‡Œä¸è¦å†™äº¤äº’å¤æ‚çš„jsï¼Œæ¯”å¦‚é¢‘ç¹ä¿®æ”¹é¡µé¢ã€‚å› ä¸ºè¿™ä¸ªç”Ÿå‘½å‘¨æœŸæ˜¯åœ¨æ¸²æŸ“å±‚è§¦å‘çš„ï¼Œåœ¨éh5ç«¯ï¼Œjsæ˜¯åœ¨é€»è¾‘å±‚æ‰§è¡Œçš„ï¼Œä¸¤å±‚ä¹‹é—´é€šä¿¡æ˜¯æœ‰æŸè€—çš„ã€‚å¦‚æœåœ¨æ»šåŠ¨è¿‡ç¨‹ä¸­ï¼Œé¢‘å‘è§¦å‘ä¸¤å±‚ä¹‹é—´çš„æ•°æ®äº¤æ¢ï¼Œå¯èƒ½ä¼šé€ æˆå¡é¡¿ã€‚</li>
<li>å¦‚æœæƒ³å®ç°æ»šåŠ¨æ—¶æ ‡é¢˜æ é€æ˜æ¸å˜ï¼Œåœ¨Appå’ŒH5ä¸‹ï¼Œå¯åœ¨pages.jsonä¸­é…ç½®titleNViewä¸‹çš„typeä¸ºtransparentï¼Œ<a href="https://uniapp.dcloud.io/collocation/pages?id=app-titlenview">å‚è€ƒ</a>ã€‚</li>
<li>å¦‚æœéœ€è¦æ»šåŠ¨å¸é¡¶å›ºå®šæŸäº›å…ƒç´ ï¼Œæ¨èä½¿ç”¨cssçš„ç²˜æ€§å¸ƒå±€ï¼Œå‚è€ƒ<a href="https://ext.dcloud.net.cn/plugin?id=715">æ’ä»¶å¸‚åœº</a>ã€‚æ’ä»¶å¸‚åœºä¹Ÿæœ‰å…¶ä»–jså®ç°çš„å¸é¡¶æ’ä»¶ï¼Œä½†æ€§èƒ½ä¸ä½³ï¼Œéœ€è¦æ—¶å¯è‡ªè¡Œæœç´¢ã€‚</li>
<li>åœ¨Appã€å¾®ä¿¡å°ç¨‹åºã€H5ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨wxsç›‘å¬æ»šåŠ¨ï¼Œ<a href="https://uniapp.dcloud.io/tutorial/miniprogram-subject#wxs">å‚è€ƒ</a>ï¼›åœ¨app-nvueä¸­ï¼Œå¯ä»¥ä½¿ç”¨bindingxç›‘å¬æ»šåŠ¨ï¼Œ<a href="https://uniapp.dcloud.io/tutorial/nvue-api#nvue-%E9%87%8C%E4%BD%BF%E7%94%A8-bindingx">å‚è€ƒ</a>ã€‚</li>
<li><code>onBackPress</code>ä¸Šä¸å¯ä½¿ç”¨<code>async</code>ï¼Œä¼šå¯¼è‡´æ— æ³•é˜»æ­¢é»˜è®¤è¿”å›</li>
</ul>
<pre><code class="js">onPageScroll : function(e) &#123; //nvueæš‚ä¸æ”¯æŒæ»šåŠ¨ç›‘å¬ï¼Œå¯ç”¨bindingxä»£æ›¿
    console.log(&quot;æ»šåŠ¨è·ç¦»ä¸ºï¼š&quot; + e.scrollTop);
&#125;,
</code></pre>
<p><code>onTabItemTap</code> è¿”å›çš„jsonå¯¹è±¡è¯´æ˜ï¼š</p>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>index</td>
<td>Number</td>
<td>è¢«ç‚¹å‡»tabItemçš„åºå·ï¼Œä»0å¼€å§‹</td>
</tr>
<tr>
<td>pagePath</td>
<td>String</td>
<td>è¢«ç‚¹å‡»tabItemçš„é¡µé¢è·¯å¾„</td>
</tr>
<tr>
<td>text</td>
<td>String</td>
<td>è¢«ç‚¹å‡»tabItemçš„æŒ‰é’®æ–‡å­—</td>
</tr>
</tbody></table>
<p><strong>æ³¨æ„</strong></p>
<ul>
<li>onTabItemTapå¸¸ç”¨äºç‚¹å‡»å½“å‰tabitemï¼Œæ»šåŠ¨æˆ–åˆ·æ–°å½“å‰é¡µé¢ã€‚å¦‚æœæ˜¯ç‚¹å‡»ä¸åŒçš„tabitemï¼Œä¸€å®šä¼šè§¦å‘é¡µé¢åˆ‡æ¢ã€‚</li>
<li>å¦‚æœæƒ³åœ¨Appç«¯å®ç°ç‚¹å‡»æŸä¸ªtabitemä¸è·³è½¬é¡µé¢ï¼Œä¸èƒ½ä½¿ç”¨onTabItemTapï¼Œå¯ä»¥ä½¿ç”¨<a href="http://www.html5plus.org/doc/zh_cn/nativeobj.html">plus.nativeObj.view</a>æ”¾ä¸€ä¸ªåŒºå—ç›–ä½åŸå…ˆçš„tabitemï¼Œå¹¶æ‹¦æˆªç‚¹å‡»äº‹ä»¶ã€‚</li>
<li>æ”¯ä»˜å®å°ç¨‹åºå¹³å°onTabItemTapè¡¨ç°ä¸ºç‚¹å‡»éå½“å‰tabitemåè§¦å‘ï¼Œå› æ­¤ä¸èƒ½ç”¨äºå®ç°ç‚¹å‡»è¿”å›é¡¶éƒ¨è¿™ç§æ“ä½œ</li>
</ul>
<pre><code class="js">onTabItemTap : function(e) &#123;
    console.log(e);
    // eçš„è¿”å›æ ¼å¼ä¸ºjsonå¯¹è±¡ï¼š &#123;&quot;index&quot;:0,&quot;text&quot;:&quot;é¦–é¡µ&quot;,&quot;pagePath&quot;:&quot;pages/index/index&quot;&#125;
&#125;,
</code></pre>
<p><code>onNavigationBarButtonTap</code> å‚æ•°è¯´æ˜ï¼š</p>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>index</td>
<td>Number</td>
<td>åŸç”Ÿæ ‡é¢˜æ æŒ‰é’®æ•°ç»„çš„ä¸‹æ ‡</td>
</tr>
</tbody></table>
<pre><code class="js">onNavigationBarButtonTap : function (e) &#123;
    console.log(e);
    // eçš„è¿”å›æ ¼å¼ä¸ºjsonå¯¹è±¡ï¼š&#123;&quot;text&quot;:&quot;æµ‹è¯•&quot;,&quot;index&quot;:0&#125;
&#125;
</code></pre>
<p><code>onBackPress</code> å›è°ƒå‚æ•°å¯¹è±¡è¯´æ˜ï¼š</p>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>from</td>
<td>String</td>
<td>è§¦å‘è¿”å›è¡Œä¸ºçš„æ¥æºï¼šâ€™backbuttonâ€™â€”â€”å·¦ä¸Šè§’å¯¼èˆªæ æŒ‰é’®åŠå®‰å“è¿”å›é”®ï¼›â€™navigateBackâ€™â€”â€”uni.navigateBack() æ–¹æ³•ã€‚<strong>æ”¯ä»˜å®å°ç¨‹åºç«¯ä¸æ”¯æŒè¿”å›æ­¤å­—æ®µ</strong></td>
</tr>
</tbody></table>
<pre><code class="javascript">export default &#123;
    data() &#123;
        return &#123;&#125;;
    &#125;,
    onBackPress(options) &#123;
        console.log(&#39;from:&#39; + options.from)
    &#125;
&#125;
</code></pre>
<p><strong>æ³¨æ„</strong></p>
<ul>
<li>nvue é¡µé¢weexç¼–è¯‘æ¨¡å¼æ”¯æŒçš„ç”Ÿå‘½å‘¨æœŸåŒweexï¼Œå…·ä½“å‚è€ƒï¼š<a href="https://uniapp.dcloud.io/tutorial/nvue-outline?id=%E7%BC%96%E8%AF%91%E6%A8%A1%E5%BC%8F">weexç”Ÿå‘½å‘¨æœŸä»‹ç»</a>ã€‚</li>
<li>æ”¯ä»˜å®å°ç¨‹åºçœŸæœºå¯ä»¥ç›‘å¬åˆ°é<code>navigateBack</code>å¼•å‘çš„è¿”å›äº‹ä»¶ï¼ˆä½¿ç”¨å°ç¨‹åºå¼€å‘å·¥å…·æ—¶ä¸ä¼šè§¦å‘<code>onBackPress</code>ï¼‰ï¼Œä¸å¯ä»¥é˜»æ­¢é»˜è®¤è¿”å›è¡Œä¸º</li>
</ul>
<h3 id="ä¸‰ã€ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"><a href="#ä¸‰ã€ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ä¸‰ã€ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"></a>ä¸‰ã€ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</h3><p><code>uni-app</code> ç»„ä»¶æ”¯æŒçš„ç”Ÿå‘½å‘¨æœŸï¼Œä¸vueæ ‡å‡†ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸç›¸åŒã€‚è¿™é‡Œæ²¡æœ‰é¡µé¢çº§çš„onLoadç­‰ç”Ÿå‘½å‘¨æœŸï¼š</p>
<table>
<thead>
<tr>
<th align="left">å‡½æ•°å</th>
<th align="left">è¯´æ˜</th>
<th align="left">å¹³å°å·®å¼‚è¯´æ˜</th>
<th align="left">æœ€ä½ç‰ˆæœ¬</th>
</tr>
</thead>
<tbody><tr>
<td align="left">beforeCreate</td>
<td align="left">åœ¨å®ä¾‹åˆå§‹åŒ–ä¹‹å‰è¢«è°ƒç”¨ã€‚<a href="https://v2.cn.vuejs.org/v2/api/#beforeCreate">è¯¦è§</a></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">created</td>
<td align="left">åœ¨å®ä¾‹åˆ›å»ºå®Œæˆåè¢«ç«‹å³è°ƒç”¨ã€‚<a href="https://v2.cn.vuejs.org/v2/api/#created">è¯¦è§</a></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">beforeMount</td>
<td align="left">åœ¨æŒ‚è½½å¼€å§‹ä¹‹å‰è¢«è°ƒç”¨ã€‚<a href="https://v2.cn.vuejs.org/v2/api/#beforeMount">è¯¦è§</a></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">mounted</td>
<td align="left">æŒ‚è½½åˆ°å®ä¾‹ä¸Šå»ä¹‹åè°ƒç”¨ã€‚<a href="https://v2.cn.vuejs.org/v2/api/#mounted">è¯¦è§</a> æ³¨æ„ï¼šæ­¤å¤„å¹¶ä¸èƒ½ç¡®å®šå­ç»„ä»¶è¢«å…¨éƒ¨æŒ‚è½½ï¼Œå¦‚æœéœ€è¦å­ç»„ä»¶å®Œå…¨æŒ‚è½½ä¹‹ååœ¨æ‰§è¡Œæ“ä½œå¯ä»¥ä½¿ç”¨<code>$nextTick</code><a href="https://v2.cn.vuejs.org/v2/api/#vm-nextTick">Vueå®˜æ–¹æ–‡æ¡£</a></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">beforeUpdate</td>
<td align="left">æ•°æ®æ›´æ–°æ—¶è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹Ÿ DOM æ‰“è¡¥ä¸ä¹‹å‰ã€‚<a href="https://v2.cn.vuejs.org/v2/api/#beforeUpdate">è¯¦è§</a></td>
<td align="left">ä»…H5å¹³å°æ”¯æŒ</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">updated</td>
<td align="left">ç”±äºæ•°æ®æ›´æ”¹å¯¼è‡´çš„è™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸ï¼Œåœ¨è¿™ä¹‹åä¼šè°ƒç”¨è¯¥é’©å­ã€‚<a href="https://v2.cn.vuejs.org/v2/api/#updated">è¯¦è§</a></td>
<td align="left">ä»…H5å¹³å°æ”¯æŒ</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">beforeDestroy</td>
<td align="left">å®ä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥ï¼Œå®ä¾‹ä»ç„¶å®Œå…¨å¯ç”¨ã€‚<a href="https://v2.cn.vuejs.org/v2/api/#beforeDestroy">è¯¦è§</a></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">destroyed</td>
<td align="left">Vue å®ä¾‹é”€æ¯åè°ƒç”¨ã€‚è°ƒç”¨åï¼ŒVue å®ä¾‹æŒ‡ç¤ºçš„æ‰€æœ‰ä¸œè¥¿éƒ½ä¼šè§£ç»‘å®šï¼Œæ‰€æœ‰çš„äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»é™¤ï¼Œæ‰€æœ‰çš„å­å®ä¾‹ä¹Ÿä¼šè¢«é”€æ¯ã€‚<a href="https://v2.cn.vuejs.org/v2/api/#destroyed">è¯¦è§</a></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><p>[uniapp]: 	â€œ<a href="https://zh.uniapp.dcloud.io/tutorial/page.html#lifecycle">https://zh.uniapp.dcloud.io/tutorial/page.html#lifecycle</a> â€œ</p>
]]></content>
      <categories>
        <category>uniapp</category>
        <category>uniappç”Ÿå‘½å‘¨æœŸ</category>
      </categories>
      <tags>
        <tag>uniapp</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»€ä¹ˆæ˜¯CI/CD</title>
    <url>/2022/11/12/%E4%BB%80%E4%B9%88%E6%98%AFCI-CD/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="CI-x2F-CDæ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ç†è§£æŒç»­é›†æˆã€æŒç»­äº¤ä»˜å’ŒæŒç»­éƒ¨ç½²"><a href="#CI-x2F-CDæ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ç†è§£æŒç»­é›†æˆã€æŒç»­äº¤ä»˜å’ŒæŒç»­éƒ¨ç½²" class="headerlink" title="CI&#x2F;CDæ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ç†è§£æŒç»­é›†æˆã€æŒç»­äº¤ä»˜å’ŒæŒç»­éƒ¨ç½²"></a>CI&#x2F;CDæ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ç†è§£æŒç»­é›†æˆã€æŒç»­äº¤ä»˜å’ŒæŒç»­éƒ¨ç½²</h1><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p>CI&#x2F;CD æ˜¯ä¸€ç§é€šè¿‡åœ¨åº”ç”¨å¼€å‘é˜¶æ®µå¼•å…¥è‡ªåŠ¨åŒ–æ¥é¢‘ç¹å‘å®¢æˆ·äº¤ä»˜åº”ç”¨çš„æ–¹æ³•ã€‚CI&#x2F;CD çš„æ ¸å¿ƒæ¦‚å¿µæ˜¯æŒç»­é›†æˆã€æŒç»­äº¤ä»˜å’ŒæŒç»­éƒ¨ç½²ã€‚ä½œä¸ºä¸€ä¸ªé¢å‘å¼€å‘å’Œè¿è¥å›¢é˜Ÿçš„è§£å†³æ–¹æ¡ˆï¼ŒCI&#x2F;CD ä¸»è¦é’ˆå¯¹åœ¨é›†æˆæ–°ä»£ç æ—¶æ‰€å¼•å‘çš„é—®é¢˜ï¼ˆäº¦ç§°ï¼šâ€é›†æˆåœ°ç‹±â€ï¼‰ã€‚</p>
<p>å…·ä½“è€Œè¨€ï¼ŒCI&#x2F;CD å¯è®©æŒç»­è‡ªåŠ¨åŒ–å’ŒæŒç»­ç›‘æ§è´¯ç©¿äºåº”ç”¨çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸï¼ˆä»é›†æˆå’Œæµ‹è¯•é˜¶æ®µï¼Œåˆ°äº¤ä»˜å’Œéƒ¨ç½²ï¼‰ã€‚è¿™äº›å…³è”çš„äº‹åŠ¡é€šå¸¸è¢«ç»Ÿç§°ä¸ºâ€CI&#x2F;CD ç®¡é“â€ï¼Œç”±å¼€å‘å’Œè¿ç»´å›¢é˜Ÿä»¥æ•æ·æ–¹å¼ååŒæ”¯æŒã€‚</p>
<h3 id="CI-æ˜¯ä»€ä¹ˆï¼ŸCI-å’Œ-CD-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#CI-æ˜¯ä»€ä¹ˆï¼ŸCI-å’Œ-CD-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="CI æ˜¯ä»€ä¹ˆï¼ŸCI å’Œ CD æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>CI æ˜¯ä»€ä¹ˆï¼ŸCI å’Œ CD æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p>ç¼©ç•¥è¯ CI &#x2F; CD å…·æœ‰å‡ ä¸ªä¸åŒçš„å«ä¹‰ã€‚CI&#x2F;CD ä¸­çš„â€CIâ€å§‹ç»ˆæŒ‡æŒç»­é›†æˆï¼Œå®ƒå±äºå¼€å‘äººå‘˜çš„è‡ªåŠ¨åŒ–æµç¨‹ã€‚æˆåŠŸçš„ CI æ„å‘³ç€åº”ç”¨ä»£ç çš„æ–°æ›´æ”¹ä¼šå®šæœŸæ„å»ºã€æµ‹è¯•å¹¶åˆå¹¶åˆ°å…±äº«å­˜å‚¨åº“ä¸­ã€‚è¯¥è§£å†³æ–¹æ¡ˆå¯ä»¥è§£å†³åœ¨ä¸€æ¬¡å¼€å‘ä¸­æœ‰å¤ªå¤šåº”ç”¨åˆ†æ”¯ï¼Œä»è€Œå¯¼è‡´ç›¸äº’å†²çªçš„é—®é¢˜ã€‚</p>
<p>CI&#x2F;CD ä¸­çš„â€CDâ€æŒ‡çš„æ˜¯æŒç»­äº¤ä»˜å’Œ&#x2F;æˆ–æŒç»­éƒ¨ç½²ï¼Œè¿™äº›ç›¸å…³æ¦‚å¿µæœ‰æ—¶ä¼šäº¤å‰ä½¿ç”¨ã€‚ä¸¤è€…éƒ½äº‹å…³ç®¡é“åç»­é˜¶æ®µçš„è‡ªåŠ¨åŒ–ï¼Œä½†å®ƒä»¬æœ‰æ—¶ä¹Ÿä¼šå•ç‹¬ä½¿ç”¨ï¼Œç”¨äºè¯´æ˜è‡ªåŠ¨åŒ–ç¨‹åº¦ã€‚</p>
<p>æŒç»­<em>äº¤ä»˜</em>é€šå¸¸æ˜¯æŒ‡å¼€å‘äººå‘˜å¯¹åº”ç”¨çš„æ›´æ”¹ä¼šè‡ªåŠ¨è¿›è¡Œé”™è¯¯æµ‹è¯•å¹¶ä¸Šä¼ åˆ°å­˜å‚¨åº“ï¼ˆå¦‚ GitHubæˆ–å®¹å™¨æ³¨å†Œè¡¨ï¼‰ï¼Œç„¶åç”±è¿ç»´å›¢é˜Ÿå°†å…¶éƒ¨ç½²åˆ°å®æ—¶ç”Ÿäº§ç¯å¢ƒä¸­ã€‚è¿™æ—¨åœ¨è§£å†³å¼€å‘å’Œè¿ç»´å›¢é˜Ÿä¹‹é—´å¯è§æ€§åŠæ²Ÿé€šè¾ƒå·®çš„é—®é¢˜ã€‚å› æ­¤ï¼ŒæŒç»­äº¤ä»˜çš„ç›®çš„å°±æ˜¯ç¡®ä¿å°½å¯èƒ½å‡å°‘éƒ¨ç½²æ–°ä»£ç æ—¶æ‰€éœ€çš„å·¥ä½œé‡ã€‚</p>
<p>æŒç»­<em>éƒ¨ç½²</em>ï¼ˆå¦ä¸€ç§â€CDâ€ï¼‰æŒ‡çš„æ˜¯è‡ªåŠ¨å°†å¼€å‘äººå‘˜çš„æ›´æ”¹ä»å­˜å‚¨åº“å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒï¼Œä»¥ä¾›å®¢æˆ·ä½¿ç”¨ã€‚å®ƒä¸»è¦ä¸ºäº†è§£å†³å› æ‰‹åŠ¨æµç¨‹é™ä½åº”ç”¨äº¤ä»˜é€Ÿåº¦ï¼Œä»è€Œä½¿è¿ç»´å›¢é˜Ÿè¶…è´Ÿè·çš„é—®é¢˜ã€‚æŒç»­éƒ¨ç½²ä»¥æŒç»­äº¤ä»˜çš„ä¼˜åŠ¿ä¸ºæ ¹åŸºï¼Œå®ç°äº†ç®¡é“åç»­é˜¶æ®µçš„è‡ªåŠ¨åŒ–ã€‚</p>
<p><img src="/2022/11/12/%E4%BB%80%E4%B9%88%E6%98%AFCI-CD/ci-cd-flow-desktop_edited_0.png" alt="CI/CD flow"></p>
<p>CI&#x2F;CD æ—¢å¯èƒ½ä»…æŒ‡æŒç»­é›†æˆå’ŒæŒç»­äº¤ä»˜æ„æˆçš„å…³è”ç¯èŠ‚ï¼Œä¹Ÿå¯ä»¥æŒ‡æŒç»­é›†æˆã€æŒç»­äº¤ä»˜å’ŒæŒç»­éƒ¨ç½²è¿™ä¸‰é¡¹æ„æˆçš„å…³è”ç¯èŠ‚ã€‚æ›´ä¸ºå¤æ‚çš„æ˜¯ï¼Œæœ‰æ—¶â€æŒç»­äº¤ä»˜â€ä¹ŸåŒ…å«äº†æŒç»­éƒ¨ç½²æµç¨‹ã€‚</p>
<p>å½’æ ¹ç»“åº•ï¼Œæˆ‘ä»¬æ²¡å¿…è¦çº ç»“äºè¿™äº›è¯­ä¹‰ï¼Œæ‚¨åªéœ€è®°å¾— CI&#x2F;CD å…¶å®å°±æ˜¯ä¸€ä¸ªæµç¨‹ï¼ˆé€šå¸¸å½¢è±¡åœ°è¡¨è¿°ä¸ºç®¡é“ï¼‰ï¼Œç”¨äºå®ç°åº”ç”¨å¼€å‘ä¸­çš„é«˜åº¦æŒç»­è‡ªåŠ¨åŒ–å’ŒæŒç»­ç›‘æ§ã€‚å› æ¡ˆä¾‹è€Œå¼‚ï¼Œè¯¥æœ¯è¯­çš„å…·ä½“å«ä¹‰å–å†³äº CI&#x2F;CD ç®¡é“çš„è‡ªåŠ¨åŒ–ç¨‹åº¦ã€‚è®¸å¤šä¼ä¸šæœ€å¼€å§‹å…ˆæ·»åŠ  CIï¼Œç„¶åé€æ­¥å®ç°äº¤ä»˜å’Œéƒ¨ç½²çš„è‡ªåŠ¨åŒ–ï¼ˆä¾‹å¦‚ä½œä¸ºäº‘åŸç”Ÿåº”ç”¨çš„ä¸€éƒ¨åˆ†ï¼‰ã€‚</p>
<h3 id="CI-æŒç»­é›†æˆï¼ˆContinuous-Integrationï¼‰"><a href="#CI-æŒç»­é›†æˆï¼ˆContinuous-Integrationï¼‰" class="headerlink" title="CI æŒç»­é›†æˆï¼ˆContinuous Integrationï¼‰"></a>CI æŒç»­é›†æˆï¼ˆContinuous Integrationï¼‰</h3><p>ç°ä»£åº”ç”¨å¼€å‘çš„ç›®æ ‡æ˜¯è®©å¤šä½å¼€å‘äººå‘˜åŒæ—¶å¤„ç†åŒä¸€åº”ç”¨çš„ä¸åŒåŠŸèƒ½ã€‚ä½†æ˜¯ï¼Œå¦‚æœä¼ä¸šå®‰æ’åœ¨ä¸€å¤©å†…å°†æ‰€æœ‰åˆ†æ”¯æºä»£ç åˆå¹¶åœ¨ä¸€èµ·ï¼ˆç§°ä¸ºâ€åˆå¹¶æ—¥â€ï¼‰ï¼Œæœ€ç»ˆå¯èƒ½é€ æˆå·¥ä½œç¹çã€è€—æ—¶ï¼Œè€Œä¸”éœ€è¦æ‰‹åŠ¨å®Œæˆã€‚è¿™æ˜¯å› ä¸ºå½“ä¸€ä½ç‹¬ç«‹å·¥ä½œçš„å¼€å‘äººå‘˜å¯¹åº”ç”¨è¿›è¡Œæ›´æ”¹æ—¶ï¼Œæœ‰å¯èƒ½ä¼šä¸å…¶ä»–å¼€å‘äººå‘˜åŒæ—¶è¿›è¡Œçš„æ›´æ”¹å‘ç”Ÿå†²çªã€‚å¦‚æœæ¯ä¸ªå¼€å‘äººå‘˜éƒ½è‡ªå®šä¹‰è‡ªå·±çš„æœ¬åœ°é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰ï¼Œè€Œä¸æ˜¯è®©å›¢é˜Ÿå°±ä¸€ä¸ªåŸºäºäº‘çš„ IDE è¾¾æˆä¸€è‡´ï¼Œé‚£ä¹ˆå°±ä¼šè®©é—®é¢˜æ›´åŠ é›ªä¸ŠåŠ éœœã€‚</p>
<p>æŒç»­é›†æˆï¼ˆCIï¼‰å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜æ›´åŠ é¢‘ç¹åœ°ï¼ˆæœ‰æ—¶ç”šè‡³æ¯å¤©ï¼‰å°†ä»£ç æ›´æ”¹åˆå¹¶åˆ°å…±äº«åˆ†æ”¯æˆ–â€ä¸»å¹²â€ä¸­ã€‚ä¸€æ—¦å¼€å‘äººå‘˜å¯¹åº”ç”¨æ‰€åšçš„æ›´æ”¹è¢«åˆå¹¶ï¼Œç³»ç»Ÿå°±ä¼šé€šè¿‡è‡ªåŠ¨æ„å»ºåº”ç”¨å¹¶è¿è¡Œä¸åŒçº§åˆ«çš„è‡ªåŠ¨åŒ–æµ‹è¯•ï¼ˆé€šå¸¸æ˜¯å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ï¼‰æ¥éªŒè¯è¿™äº›æ›´æ”¹ï¼Œç¡®ä¿è¿™äº›æ›´æ”¹æ²¡æœ‰å¯¹åº”ç”¨é€ æˆç ´åã€‚è¿™æ„å‘³ç€æµ‹è¯•å†…å®¹æ¶µç›–äº†ä»ç±»å’Œå‡½æ•°åˆ°æ„æˆæ•´ä¸ªåº”ç”¨çš„ä¸åŒæ¨¡å—ã€‚å¦‚æœè‡ªåŠ¨åŒ–æµ‹è¯•å‘ç°æ–°ä»£ç å’Œç°æœ‰ä»£ç ä¹‹é—´å­˜åœ¨å†²çªï¼ŒCI å¯ä»¥æ›´åŠ è½»æ¾åœ°å¿«é€Ÿä¿®å¤è¿™äº›é”™è¯¯ã€‚</p>
<h3 id="CD-æŒç»­äº¤ä»˜ï¼ˆContinuous-Deliveryï¼‰"><a href="#CD-æŒç»­äº¤ä»˜ï¼ˆContinuous-Deliveryï¼‰" class="headerlink" title="CD æŒç»­äº¤ä»˜ï¼ˆContinuous Deliveryï¼‰"></a>CD æŒç»­äº¤ä»˜ï¼ˆContinuous Deliveryï¼‰</h3><p>å®Œæˆ CI ä¸­æ„å»ºåŠå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•çš„è‡ªåŠ¨åŒ–æµç¨‹åï¼ŒæŒç»­äº¤ä»˜å¯è‡ªåŠ¨å°†å·²éªŒè¯çš„ä»£ç å‘å¸ƒåˆ°å­˜å‚¨åº“ã€‚ä¸ºäº†å®ç°é«˜æ•ˆçš„æŒç»­äº¤ä»˜æµç¨‹ï¼ŒåŠ¡å¿…è¦ç¡®ä¿ CI å·²å†…ç½®äºå¼€å‘ç®¡é“ã€‚æŒç»­äº¤ä»˜çš„ç›®æ ‡æ˜¯æ‹¥æœ‰ä¸€ä¸ªå¯éšæ—¶éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒçš„ä»£ç åº“ã€‚</p>
<p>åœ¨æŒç»­äº¤ä»˜ä¸­ï¼Œæ¯ä¸ªé˜¶æ®µï¼ˆä»ä»£ç æ›´æ”¹çš„åˆå¹¶ï¼Œåˆ°ç”Ÿäº§å°±ç»ªå‹æ„å»ºç‰ˆæœ¬çš„äº¤ä»˜ï¼‰éƒ½æ¶‰åŠæµ‹è¯•è‡ªåŠ¨åŒ–å’Œä»£ç å‘å¸ƒè‡ªåŠ¨åŒ–ã€‚åœ¨æµç¨‹ç»“æŸæ—¶ï¼Œè¿ç»´å›¢é˜Ÿå¯ä»¥å¿«é€Ÿã€è½»æ¾åœ°å°†åº”ç”¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒä¸­ã€‚</p>
<h3 id="CD-æŒç»­éƒ¨ç½²ï¼ˆContinuous-Deploymentï¼‰"><a href="#CD-æŒç»­éƒ¨ç½²ï¼ˆContinuous-Deploymentï¼‰" class="headerlink" title="CD æŒç»­éƒ¨ç½²ï¼ˆContinuous Deploymentï¼‰"></a>CD æŒç»­éƒ¨ç½²ï¼ˆContinuous Deploymentï¼‰</h3><p>å¯¹äºä¸€ä¸ªæˆç†Ÿçš„ CI&#x2F;CD ç®¡é“æ¥è¯´ï¼Œæœ€åçš„é˜¶æ®µæ˜¯æŒç»­éƒ¨ç½²ã€‚ä½œä¸ºæŒç»­äº¤ä»˜â€”â€”è‡ªåŠ¨å°†ç”Ÿäº§å°±ç»ªå‹æ„å»ºç‰ˆæœ¬å‘å¸ƒåˆ°ä»£ç å­˜å‚¨åº“â€”â€”çš„å»¶ä¼¸ï¼ŒæŒç»­éƒ¨ç½²å¯ä»¥è‡ªåŠ¨å°†åº”ç”¨å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒã€‚ç”±äºåœ¨ç”Ÿäº§ä¹‹å‰çš„ç®¡é“é˜¶æ®µæ²¡æœ‰æ‰‹åŠ¨é—¨æ§ï¼Œå› æ­¤æŒç»­éƒ¨ç½²åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šéƒ½å¾—ä¾èµ–ç²¾å¿ƒè®¾è®¡çš„æµ‹è¯•è‡ªåŠ¨åŒ–ã€‚</p>
<p>å®é™…ä¸Šï¼ŒæŒç»­éƒ¨ç½²æ„å‘³ç€å¼€å‘äººå‘˜å¯¹åº”ç”¨çš„æ›´æ”¹åœ¨ç¼–å†™åçš„å‡ åˆ†é’Ÿå†…å°±èƒ½ç”Ÿæ•ˆï¼ˆå‡è®¾å®ƒé€šè¿‡äº†è‡ªåŠ¨åŒ–æµ‹è¯•ï¼‰ã€‚è¿™æ›´åŠ ä¾¿äºæŒç»­æ¥æ”¶å’Œæ•´åˆç”¨æˆ·åé¦ˆã€‚æ€»è€Œè¨€ä¹‹ï¼Œæ‰€æœ‰è¿™äº› CI&#x2F;CD çš„å…³è”æ­¥éª¤éƒ½æœ‰åŠ©äºé™ä½åº”ç”¨çš„éƒ¨ç½²é£é™©ï¼Œå› æ­¤æ›´ä¾¿äºä»¥å°ä»¶çš„æ–¹å¼ï¼ˆè€Œéä¸€æ¬¡æ€§ï¼‰å‘å¸ƒå¯¹åº”ç”¨çš„æ›´æ”¹ã€‚ä¸è¿‡ï¼Œç”±äºè¿˜éœ€è¦ç¼–å†™è‡ªåŠ¨åŒ–æµ‹è¯•ä»¥é€‚åº” CI&#x2F;CD ç®¡é“ä¸­çš„å„ç§æµ‹è¯•å’Œå‘å¸ƒé˜¶æ®µï¼Œå› æ­¤å‰æœŸæŠ•èµ„è¿˜æ˜¯ä¼šå¾ˆå¤§ã€‚</p>
]]></content>
      <categories>
        <category>CI/CD</category>
        <category>ä»€ä¹ˆæ˜¯CI/CD</category>
      </categories>
      <tags>
        <tag>CI/CD</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»0åˆ°1æ­å»ºè‡ªå·±çš„è„šæ‰‹æ¶vue3</title>
    <url>/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="æ­å»ºvueé¡¹ç›®è„šæ‰‹æ¶"><a href="#æ­å»ºvueé¡¹ç›®è„šæ‰‹æ¶" class="headerlink" title="æ­å»ºvueé¡¹ç›®è„šæ‰‹æ¶"></a>æ­å»ºvueé¡¹ç›®è„šæ‰‹æ¶</h1><h3 id="1-æ‰€ä»¥çš„ç½‘ç«™éƒ½éœ€è¦ä¸€ä¸ªé¡µé¢ï¼Œæ‰€ä»¥åˆ›å»ºç¬¬ä¸€ä¸ª-htmlæ–‡ä»¶ï¼ˆindex-htmlï¼‰"><a href="#1-æ‰€ä»¥çš„ç½‘ç«™éƒ½éœ€è¦ä¸€ä¸ªé¡µé¢ï¼Œæ‰€ä»¥åˆ›å»ºç¬¬ä¸€ä¸ª-htmlæ–‡ä»¶ï¼ˆindex-htmlï¼‰" class="headerlink" title="1.æ‰€ä»¥çš„ç½‘ç«™éƒ½éœ€è¦ä¸€ä¸ªé¡µé¢ï¼Œæ‰€ä»¥åˆ›å»ºç¬¬ä¸€ä¸ª.htmlæ–‡ä»¶ï¼ˆindex.htmlï¼‰"></a>1.æ‰€ä»¥çš„ç½‘ç«™éƒ½éœ€è¦ä¸€ä¸ªé¡µé¢ï¼Œæ‰€ä»¥åˆ›å»ºç¬¬ä¸€ä¸ª.htmlæ–‡ä»¶ï¼ˆindex.htmlï¼‰</h3><pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;vue-cli-start&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;
   &lt;!-- å¼•å…¥æ‰“åŒ…åçš„jsæ–‡ä»¶ --&gt;
    &lt;script src=&quot;bundle.js&quot;&gt;&lt;/script&gt; 
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="2-åˆ›å»ºsrcå’Œdistæ–‡ä»¶å¤¹"><a href="#2-åˆ›å»ºsrcå’Œdistæ–‡ä»¶å¤¹" class="headerlink" title="2.åˆ›å»ºsrcå’Œdistæ–‡ä»¶å¤¹"></a>2.åˆ›å»ºsrcå’Œdistæ–‡ä»¶å¤¹</h3><p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107081630590.png"></p>
<p>å› ä¸ºindex.htmléœ€è¦å¼•å…¥æ‰“åŒ…åçš„bundle.jsæ–‡ä»¶ï¼Œæ‰€ä»¥å°†index.jsæ”¾åˆ°äº†distç›®å½•ä¸‹</p>
<h3 id="3-åˆ›å»ºå…¥å£æ–‡ä»¶main-js"><a href="#3-åˆ›å»ºå…¥å£æ–‡ä»¶main-js" class="headerlink" title="3.åˆ›å»ºå…¥å£æ–‡ä»¶main.js"></a>3.åˆ›å»ºå…¥å£æ–‡ä»¶main.js</h3><p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107082550022.png"></p>
<p>æˆ‘ä»¬éœ€è¦å¼•å…¥vueå®ä¾‹ï¼Œä½†æ˜¯ç°åœ¨æˆ‘ä»¬æ²¡æœ‰vueåŒ…ï¼Œæ‰€ä»¥è¦å…ˆä¸‹è½½vue</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸€æ¬¡æ€§ä¸‹è½½vueæ‰€éœ€è¦çš„ä¾èµ–</p>
<pre><code class="ini">npm i vue element-ui axios
</code></pre>
<p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107083055837.png"></p>
<h3 id="4-å®‰è£…å¼€å‘ä¾èµ–"><a href="#4-å®‰è£…å¼€å‘ä¾èµ–" class="headerlink" title="4.å®‰è£…å¼€å‘ä¾èµ–"></a>4.å®‰è£…å¼€å‘ä¾èµ–</h3><pre><code class="ini">npm i -D webpack webpack-cli vue-loader vue-template-compiler sass sass-loader css-loader style-loader babel-loader @babel/core @babel/preset-env
</code></pre>
<p>å¦‚æœé¡¹ç›®æ–‡ä»¶æ²¡æœ‰package.json,é‚£ä¹ˆ</p>
<pre><code class="ini">npm init -y
</code></pre>
<h3 id="5-åˆ›å»ºwebpack-config-jså¹¶é…ç½®-æ ¹ç›®å½•ä¸‹å’Œpackage-jsonåŒä¸€ç›®å½•åˆ›å»º"><a href="#5-åˆ›å»ºwebpack-config-jså¹¶é…ç½®-æ ¹ç›®å½•ä¸‹å’Œpackage-jsonåŒä¸€ç›®å½•åˆ›å»º" class="headerlink" title="5.åˆ›å»ºwebpack.config.jså¹¶é…ç½®(æ ¹ç›®å½•ä¸‹å’Œpackage.jsonåŒä¸€ç›®å½•åˆ›å»º)"></a>5.åˆ›å»ºwebpack.config.jså¹¶é…ç½®(æ ¹ç›®å½•ä¸‹å’Œpackage.jsonåŒä¸€ç›®å½•åˆ›å»º)</h3><pre><code class="javascript">//webpack.config.jsåŸºæœ¬é…ç½®æ¨¡æ¿
module.exports = &#123;
    //å…¥å£ï¼Œè¡¨ç¤ºä»é‚£ä¸ªæ–‡ä»¶å¼€å§‹è§£æ
    entry:&#39;&#39;,
    //å‡ºå£ï¼Œè¡¨ç¤ºè¾“å‡ºæ–‡ä»¶ä½ç½®å’Œä¿¡æ¯
    output:&#123;
        path:&#39;&#39;,
        filename:&#39;&#39;
    &#125;,
    //æ¨¡å—ï¼Œå®šä¹‰åŒ¹é…è§„åˆ™å’Œè½¬æ¢loader
    module:&#123;
        rules:[
            &#123;test:/\.vue$/,use:&#39;vue-loader&#39;&#125;,
            &#123;&#125;
        ]
    &#125;,
    //æ’ä»¶,ç»™äºˆwebpackæ›´ä¸°å¯Œçš„åŠŸèƒ½
    plugins:[
        //å®ä¾‹åŒ–
        new PluginA()
    ]

&#125;
</code></pre>
<p>åŸºæœ¬é…ç½®å®Œæˆçš„webpack.config.js</p>
<pre><code class="javascript">const path = require(&#39;path&#39;)
const &#123;VueLoaderPlugin&#125; = require(&#39;vue-loader&#39;)
module.exports = &#123;
    entry:&#39;./src/main.js&#39;,
    output:&#123;
        path:path.resolve(__dirname,&#39;dist&#39;),
        filename:&#39;bundle.js&#39;
    &#125;,
    module:&#123;
        rules:[
            &#123;test:/\.vue$/,use:&#39;vue-loader&#39;&#125;,
            &#123;test:/\.s[ca]ss$/,use:[&#39;style-loader&#39;,&#39;css-loader&#39;,&#39;sass-loader&#39;]&#125;,
            &#123;
                test:/\.m?js$/,
                use:&#123;
                    loader:&#39;babel-loader&#39;,
                    options:&#123;
                        presets:[&#39;@babel/preset-env&#39;],
                    &#125;
                &#125;
            &#125;,
            //è€è¯­æ³•
            // &#123;test:/\.(png|jpe?g|svg|gif|webp)$/,use:&#123;loader:&#39;file-loader&#39;,options:&#123;esModule:&#39;false&#39;&#125;&#125;&#125;
            &#123;test:/\.(png|jpe?g|svg|gif|webp)$/,type:&#39;asset/resource&#39;&#125;,
        ]
    &#125;,
    plugins:[
        new VueLoaderPlugin()
    ]
&#125;
</code></pre>
<h3 id="6-ç¼–è¾‘ä¹¦å†™main-jsæ–‡ä»¶å’ŒApp-vue"><a href="#6-ç¼–è¾‘ä¹¦å†™main-jsæ–‡ä»¶å’ŒApp-vue" class="headerlink" title="6.ç¼–è¾‘ä¹¦å†™main.jsæ–‡ä»¶å’ŒApp.vue"></a>6.ç¼–è¾‘ä¹¦å†™main.jsæ–‡ä»¶å’ŒApp.vue</h3><pre><code class="javascript">//main.js
import &#123; createApp &#125; from &#39;vue&#39;
import App from &#39;./App.vue&#39;
createApp(App).mount(&#39;#app&#39;)
</code></pre>
<pre><code class="vue">//App.vue
&lt;template&gt;
    &lt;div&gt;
        è‰ºæœ¯ç ç•œåšå®¢â€˜https://mengfeng.github.io/â€™
    &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default &#123;&#125;
&lt;/script&gt;
&lt;style lang=&quot;scss&quot; scoped&gt;
&lt;/style&gt;
</code></pre>
<h3 id="7-é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨åº”è¯¥å¯ä»¥è¿è¡Œæ‰€é…ç½®çš„ä»£ç äº†"><a href="#7-é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨åº”è¯¥å¯ä»¥è¿è¡Œæ‰€é…ç½®çš„ä»£ç äº†" class="headerlink" title="7.é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨åº”è¯¥å¯ä»¥è¿è¡Œæ‰€é…ç½®çš„ä»£ç äº†"></a>7.é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨åº”è¯¥å¯ä»¥è¿è¡Œæ‰€é…ç½®çš„ä»£ç äº†</h3><p>ç°åœ¨å‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œç›´æ¥æ‰§è¡Œwebpackå‘½ä»¤ä¼šæ‰¾ä¸åˆ°webpackå‘½ä»¤ï¼Œè™½ç„¶æˆ‘ä»¬ä¸‹è½½äº†webpack-cliï¼Œä½†æ˜¯åªæ˜¯å­˜åœ¨äº.&#x2F;node_modules&#x2F;.biné‡Œé¢</p>
<p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107100606449.png"></p>
<p>é‚£æˆ‘ä»¬æ‰§è¡Œ.&#x2F;node_modules&#x2F;.bin&#x2F;webpackä¹Ÿæ˜¯å¯ä»¥æ‰“åŒ…çš„ï¼Œä½†æ˜¯æˆ‘ä»¬æ¯æ¬¡æ‰§è¡Œè¿™ä¹ˆé•¿çš„å‘½ä»¤ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œæ‰€ä»¥é€šè¿‡é…ç½®package.jsonæ–‡ä»¶æ¥ç®€åŒ–å‘½ä»¤</p>
<pre><code class="json">&#123;
  &quot;name&quot;: &quot;vue-cli-start&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;:&#123;
    //--mode=developmentä¸ºå¼€å‘ç¯å¢ƒï¼Œé€Ÿåº¦è¾ƒå¿«ï¼Œä¸Šçº¿å¯ä»¥é…ç½®ä¸ºç”Ÿäº§ç¯å¢ƒï¼Œä¼šå‹ç¼©ï¼Œä¼˜åŒ–ä»£ç 
    //--watchä¸ºç›‘å¬ä»£ç å˜åŒ–ï¼Œåªè¦ä»£ç å˜åŒ–ï¼Œä¼šé‡æ–°ç¼–è¯‘
    //buildæ˜¯ç”Ÿäº§ç¯å¢ƒçš„æ‰“åŒ…
    &quot;serve&quot;:&quot;webpack --mode=development --watch&quot;,
    &quot;build&quot;:&quot;webpack --mode=production&quot;
  &#125;,
 &quot;dependencies&quot;: &#123;
    &quot;axios&quot;: &quot;^1.1.3&quot;,
    &quot;element-ui&quot;: &quot;^2.15.10&quot;,
    &quot;vue&quot;: &quot;^3.2.41&quot;
  &#125;,
  &quot;devDependencies&quot;: &#123;
    &quot;@babel/core&quot;: &quot;^7.20.2&quot;,
    &quot;@babel/preset-env&quot;: &quot;^7.20.2&quot;,
    &quot;babel-loader&quot;: &quot;^9.1.0&quot;,
    &quot;css-loader&quot;: &quot;^6.7.1&quot;,
    &quot;sass&quot;: &quot;^1.56.0&quot;,
    &quot;sass-loader&quot;: &quot;^13.1.0&quot;,
    &quot;style-loader&quot;: &quot;^3.3.1&quot;,
    &quot;vue-loader&quot;: &quot;^17.0.1&quot;,
    &quot;vue-template-compiler&quot;: &quot;^2.7.13&quot;,
    &quot;webpack&quot;: &quot;^5.74.0&quot;,
    &quot;webpack-cli&quot;: &quot;^4.10.0&quot;
  &#125;,
  &quot;keywords&quot;: [],
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;
&#125;
</code></pre>
<p>å½“æˆ‘ä»¬æ‰§è¡Œnpm run serve</p>
<pre><code class="ini">npm run serve
</code></pre>
<p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107110605226.png"></p>
<p>è¡¨ç¤ºæˆ‘ä»¬ç¼–è¯‘æˆåŠŸäº†ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥è¯•ç€è¿è¡Œä¸€ä¸‹index.html</p>
<p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107110725484.png"></p>
<p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107110748068.png"></p>
<p>æ­å–œï¼Œç›®å‰ä¸ºæ­¢å·²ç»æ²¡æœ‰ä»€ä¹ˆé—®é¢˜äº†ï¼ï¼ï¼åŸºç¡€çš„vueè„šæ‰‹æ¶å°±å®Œæˆäº†ï¼ˆç›®å‰åªæ˜¯ä¸€ä¸ªé¡µé¢ï¼‰</p>
<h3 id="8-æˆ‘ä»¬éœ€è¦å¤šä¸ªé¡µé¢çš„æ—¶å€™ï¼Œå°±éœ€è¦å…¶ä»–ä¾èµ–äº†"><a href="#8-æˆ‘ä»¬éœ€è¦å¤šä¸ªé¡µé¢çš„æ—¶å€™ï¼Œå°±éœ€è¦å…¶ä»–ä¾èµ–äº†" class="headerlink" title="8.æˆ‘ä»¬éœ€è¦å¤šä¸ªé¡µé¢çš„æ—¶å€™ï¼Œå°±éœ€è¦å…¶ä»–ä¾èµ–äº†"></a>8.æˆ‘ä»¬éœ€è¦å¤šä¸ªé¡µé¢çš„æ—¶å€™ï¼Œå°±éœ€è¦å…¶ä»–ä¾èµ–äº†</h3><p>æ ¹æ®ä¸‹é¢çš„é…ç½®æ¥ä¿®æ”¹è‡ªå·±çš„ä»£ç ï¼Œå¯èƒ½ä¸‹é¢çš„ä»£ç äºä¸Šé¢çš„ä¸åŒï¼Œä½†æ•ˆæœæ˜¯ä¸€æ ·çš„</p>
<pre><code class="ini">npm i vue-router
</code></pre>
<h3 id="9-åˆ›å»ºrouteæ–‡ä»¶å¤¹å’Œpagesæ–‡ä»¶å¤¹"><a href="#9-åˆ›å»ºrouteæ–‡ä»¶å¤¹å’Œpagesæ–‡ä»¶å¤¹" class="headerlink" title="9.åˆ›å»ºrouteæ–‡ä»¶å¤¹å’Œpagesæ–‡ä»¶å¤¹"></a>9.åˆ›å»ºrouteæ–‡ä»¶å¤¹å’Œpagesæ–‡ä»¶å¤¹</h3><p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107143307837.png"></p>
<h3 id="10-ç¼–è¾‘App-vueå’Œrouteä¸‹çš„index-jsæ–‡ä»¶"><a href="#10-ç¼–è¾‘App-vueå’Œrouteä¸‹çš„index-jsæ–‡ä»¶" class="headerlink" title="10.ç¼–è¾‘App.vueå’Œrouteä¸‹çš„index.jsæ–‡ä»¶"></a>10.ç¼–è¾‘App.vueå’Œrouteä¸‹çš„index.jsæ–‡ä»¶</h3><pre><code class="vue">//App.vue
&lt;template&gt;
    &lt;div id=&quot;nav&quot;&gt;
        &lt;router-link to=&quot;/&quot;&gt; home &lt;/router-link&gt; |
        &lt;router-link to=&quot;/food&quot;&gt; food &lt;/router-link&gt; |
        &lt;router-link to=&quot;/banner&quot;&gt; banner &lt;/router-link&gt;
    &lt;/div&gt;
    &lt;router-view /&gt;
&lt;/template&gt;
</code></pre>
<p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯historyï¼Œä¹Ÿå¯ä»¥ç”¨hash</p>
<pre><code class="javascript">//route/index.js
import &#123; createRouter, createWebHashHistory &#125; from &quot;vue-router&quot;
//æ³¨å†Œ
import home from &#39;../pages/Home.vue&#39;
import food from &#39;../pages/Food.vue&#39;
import banner from &#39;../pages/Banner.vue&#39;

const routes = [
  &#123; path: &quot;/&quot;, redirect: &quot;/home&quot; &#125;,
  &#123;
    path: &quot;/home&quot;,
    name: &quot;home&quot;,
    component: home
  &#125;,
  &#123;
    path: &quot;/food&quot;,
    name: &quot;food&quot;,
    component: food
  &#125;,
  &#123;
    path: &quot;/banner&quot;,
    name: &quot;banner&quot;,
    component: banner
  &#125;
]
//å¯¼å‡º
const router = createRouter(&#123;
    history: createWebHashHistory(),
    routes: routes
  &#125;)

  export default router;
</code></pre>
<h3 id="11-éœ€è¦åœ¨main-jsé‡Œé¢å»æ³¨å†Œ"><a href="#11-éœ€è¦åœ¨main-jsé‡Œé¢å»æ³¨å†Œ" class="headerlink" title="11.éœ€è¦åœ¨main.jsé‡Œé¢å»æ³¨å†Œ"></a>11.éœ€è¦åœ¨main.jsé‡Œé¢å»æ³¨å†Œ</h3><pre><code class="javascript">import &#123; createApp &#125; from &#39;vue&#39;
import App from &#39;./App.vue&#39;
import router from &#39;./route&#39;

const app = createApp(App)
app.use(router)
app.mount(&#39;#app&#39;)
</code></pre>
<h3 id="12-è¿™ä¸ªæ—¶å€™å†å»è·‘æˆ‘ä»¬çš„ä»£ç å°±å¯ä»¥äº†"><a href="#12-è¿™ä¸ªæ—¶å€™å†å»è·‘æˆ‘ä»¬çš„ä»£ç å°±å¯ä»¥äº†" class="headerlink" title="12.è¿™ä¸ªæ—¶å€™å†å»è·‘æˆ‘ä»¬çš„ä»£ç å°±å¯ä»¥äº†"></a>12.è¿™ä¸ªæ—¶å€™å†å»è·‘æˆ‘ä»¬çš„ä»£ç å°±å¯ä»¥äº†</h3><pre><code class="ini">npm run serve
</code></pre>
<p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107143925345.png"></p>
<h3 id="13-é¡µé¢ä¹‹é—´çš„routeè·³è½¬"><a href="#13-é¡µé¢ä¹‹é—´çš„routeè·³è½¬" class="headerlink" title="13.é¡µé¢ä¹‹é—´çš„routeè·³è½¬"></a>13.é¡µé¢ä¹‹é—´çš„routeè·³è½¬</h3><pre><code class="vue">//Food.vue
&lt;template&gt;
    &lt;p&gt;food&lt;/p&gt;
    &lt;button @click=&quot;toHome&quot;&gt;toHome&lt;/button&gt;
     &lt;!-- router-linkç»„ä»¶è·³è½¬ --&gt;
    &lt;router-link to=&quot;/home&quot;&gt;toHome&lt;/router-link&gt;
  &lt;/template&gt;
  &lt;script&gt;
  import &#123; useRouter &#125; from &#39;vue-router&#39;
  export default &#123;
    setup () &#123;
      //ç¼–ç¨‹å¼è·³è½¬
      const router = useRouter()
      const toHome = (() =&gt; &#123;
        router.push(&#123;
          name: &#39;home&#39;
        &#125;)
      &#125;)
      return &#123;
        toHome
      &#125;
    &#125;,
  &#125;
  &lt;/script&gt;
</code></pre>
<p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107145442966.png"></p>
<p>å½“æˆ‘ä»¬ç‚¹å‡»toHomeæŒ‰é’®å°±å¯ä»¥è·³è½¬åˆ°homeé¡µäº†,ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥è·³è½¬</p>
<h3 id="14-é…ç½®ESLintå’ŒPrettier"><a href="#14-é…ç½®ESLintå’ŒPrettier" class="headerlink" title="14.é…ç½®ESLintå’ŒPrettier"></a>14.é…ç½®ESLintå’ŒPrettier</h3><p>å®‰è£…ESLint</p>
<pre><code class="ini">//æœ¬åœ°å®‰è£…
npm install eslint --save-dev
//å…¨å±€å®‰è£…
npm install -g eslint
</code></pre>
<p>è¿è¡Œeslint â€“initï¼Œé€‰æ‹©å·¥ç¨‹ä½¿ç”¨äº†vueï¼Œè‡ªåŠ¨ç”Ÿæˆ.eslintrc.jsæ–‡ä»¶</p>
<pre><code class="ini">eslint --init
</code></pre>
<p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107151858584.png"></p>
<p>æˆ‘ä»¬æŒ‰ç…§éœ€æ±‚å»é€‰æ‹©å°±å¯ä»¥äº†</p>
<p>å®‰è£…prettier</p>
<pre><code class="ini">//æœ¬åœ°
npm i -D --save-exact prettier
//å…¨å±€
npm i --global prettier
</code></pre>
<p>å®‰è£…eslint-config-prettieræ’ä»¶ï¼ˆç¦ç”¨ eslint é£æ ¼æ ¡éªŒ)</p>
<pre><code class="ini">npm i -D eslint-config-prettier
</code></pre>
<p>å®‰è£…eslint-plugin-prettieræ’ä»¶ï¼ˆä½¿eslinté‡‡ç”¨prettierçš„é£æ ¼æ ¡éªŒï¼‰</p>
<pre><code class="ini">npm i -D eslint-plugin-prettier
</code></pre>
<p>é…ç½®eslintrc.jsæ–‡ä»¶</p>
<pre><code class="javascript">module.exports = &#123;
    &quot;env&quot;: &#123;
        &quot;browser&quot;: true,
        &quot;es2021&quot;: true,
        &quot;node&quot;:true,
    &#125;,
    &quot;extends&quot;: [
        &quot;eslint:recommended&quot;,
        &quot;plugin:vue/vue3-essential&quot;
    ],
    &quot;overrides&quot;: [
    ],
    &quot;parserOptions&quot;: &#123;
        &quot;ecmaVersion&quot;: &quot;latest&quot;
    &#125;,
    &quot;plugins&quot;: [
        &quot;vue&quot;
    ],
    &quot;rules&quot;: &#123;
      &#39;no-console&#39;: process.env.NODE_ENV === &#39;production&#39; ? &#39;warn&#39; : &#39;off&#39;,
      &#39;no-debugger&#39;: process.env.NODE_ENV === &#39;production&#39; ? &#39;warn&#39; : &#39;off&#39;,
       //åœ¨rulesä¸­æ·»åŠ è‡ªå®šä¹‰è§„åˆ™
       //å…³é—­ç»„ä»¶å‘½åè§„åˆ™
       &quot;vue/multi-word-component-names&quot;:&quot;off&quot;,
    &#125;
&#125;
</code></pre>
<p>åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º.prettierrc æˆ– prettier.config.jsæ–‡ä»¶</p>
<pre><code class="javascript">module.exports = &#123;
    endOfLine: &#39;auto&#39;, // ä¸æ£€æµ‹æ£€æµ‹æ–‡ä»¶æ¯è¡Œç»“æŸçš„æ ¼å¼
    semi: true, // ä½¿ç”¨åˆ†å·, é»˜è®¤true
    singleQuote: true // ä½¿ç”¨å•å¼•å·, é»˜è®¤false(åœ¨jsxä¸­é…ç½®æ— æ•ˆ, é»˜è®¤éƒ½æ˜¯åŒå¼•å·)
  &#125;
</code></pre>
<p>å®‰è£…vscodeæ’ä»¶ï¼šPrettier ESLint</p>
<p><img src="/2022/11/07/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6vue3/image-20221107154026317.png"></p>
<p>è¯¥æ’ä»¶ä¼šæ ¹æ®å·¥ç¨‹æ ¹ç›®å½•ä¸‹çš„eslintrc.jså’Œprettier.config.jsæ–‡ä»¶æ ¼å¼åŒ–ä»£ç ã€‚å¯ä»¥è¿›ä¸€æ­¥è®¾ç½®ä¸ºvscodeé»˜è®¤formaterå’Œè‡ªåŠ¨æ ¼å¼åŒ–ã€‚</p>
<p>Prettieré…ç½®å¸¸ç”¨çš„å‚æ•°å¯ä»¥æ ¹æ®å›¢é˜Ÿéœ€æ±‚åˆ¶å®š</p>
<h3 id="é“¾æ¥ï¼š"><a href="#é“¾æ¥ï¼š" class="headerlink" title="é“¾æ¥ï¼š"></a>é“¾æ¥ï¼š</h3><p>[ESLintä¸­æ–‡æ–‡æ¡£]: 	â€œ<a href="https://eslint.bootcss.com/">https://eslint.bootcss.com</a> â€œ<br>[Prettierä¸­æ–‡ç½‘]: 	â€œ<a href="https://www.prettier.cn/">https://www.prettier.cn</a> â€œ</p>
<h3 id="æºç ä»“åº“åœ°å€ï¼š"><a href="#æºç ä»“åº“åœ°å€ï¼š" class="headerlink" title="æºç ä»“åº“åœ°å€ï¼š"></a>æºç ä»“åº“åœ°å€ï¼š</h3><p><a href="https://github.com/mengfeng/vue-cli-start">https://github.com/mengfeng/vue-cli-start</a></p>
]]></content>
      <categories>
        <category>å·¥ç¨‹æŠ€æœ¯</category>
        <category>ä»0åˆ°1æ­å»ºè‡ªå·±çš„è„šæ‰‹æ¶vue3</category>
      </categories>
      <tags>
        <tag>å·¥ç¨‹æŠ€æœ¯</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯å¼‚å¸¸æ•è·é—®é¢˜</title>
    <url>/2022/11/05/%E5%89%8D%E7%AB%AF%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆå¼‚å¸¸æ•è·ï¼‰"><a href="#å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆå¼‚å¸¸æ•è·ï¼‰" class="headerlink" title="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆå¼‚å¸¸æ•è·ï¼‰"></a>å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆå¼‚å¸¸æ•è·ï¼‰</h1><p>å‰ç«¯é¢è¯•é¢˜ç±»ç›®åˆ†ç±»</p>
<ul>
<li>HTML5 + CSS3</li>
<li>JavaScript</li>
<li>Vue + Vue3</li>
<li>React</li>
<li>Webpack</li>
<li>æœåŠ¡ç«¯</li>
</ul>
<hr>
<p>è€ƒç‚¹é¢‘ç‡ ï¼šâ™¥ï¸ ã€ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸</p>
<h3 id="å¼‚å¸¸æ•è·"><a href="#å¼‚å¸¸æ•è·" class="headerlink" title="å¼‚å¸¸æ•è·"></a>å¼‚å¸¸æ•è·</h3><h4 id="ä»€ä¹ˆæ˜¯å¼‚å¸¸æ•°æ®ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å¼‚å¸¸æ•°æ®ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å¼‚å¸¸æ•°æ®ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å¼‚å¸¸æ•°æ®ï¼Ÿ</h4><p>å¼‚å¸¸æ•°æ®ï¼Œæ˜¯æŒ‡å‰ç«¯åœ¨æ“ä½œé¡µé¢çš„è¿‡ç¨‹ä¸­ï¼Œè§¦å‘çš„æ‰§è¡Œå¼‚å¸¸æˆ–åŠ è½½å¼‚å¸¸ï¼Œæ­¤æ—¶æµè§ˆå™¨ä¼šæŠ›å‡ºæ¥æŠ¥é”™ä¿¡æ¯ã€‚</p>
<p>æ¯”å¦‚è¯´ä½ çš„å‰ç«¯ä»£ç ç”¨äº†ä¸ªæœªå£°æ˜çš„å˜é‡ï¼Œæ­¤æ—¶æ§åˆ¶å°ä¼šæ‰“å°å‡ºçº¢è‰²é”™è¯¯ï¼Œå‘Šè¯‰ä½ æŠ¥é”™åŸå› ã€‚æˆ–è€…æ˜¯æ¥å£è¯·æ±‚å‡ºé”™äº†ï¼Œåœ¨ç½‘ç»œé¢æ¿å†…ä¹Ÿèƒ½æŸ¥åˆ°å¼‚å¸¸æƒ…å†µï¼Œæ˜¯è¯·æ±‚å‘é€çš„å¼‚å¸¸ï¼Œè¿˜æ˜¯æ¥å£å“åº”çš„å¼‚å¸¸ã€‚</p>
<p>åœ¨æˆ‘ä»¬å®é™…çš„å¼€å‘åœºæ™¯ä¸­ï¼Œå‰ç«¯æ•è·çš„å¼‚å¸¸ä¸»è¦æ˜¯åˆ†ä¸¤ä¸ªå¤§ç±»ï¼Œæ¥å£å¼‚å¸¸ å’Œ å‰ç«¯å¼‚å¸¸ï¼Œæˆ‘ä»¬åˆ†åˆ«çœ‹ä¸‹è¿™ä¸¤å¤§ç±»å¼‚å¸¸æ€ä¹ˆæ•è·ã€‚</p>
<h4 id="æ¥å£å¼‚å¸¸"><a href="#æ¥å£å¼‚å¸¸" class="headerlink" title="æ¥å£å¼‚å¸¸"></a>æ¥å£å¼‚å¸¸</h4><p>æ¥å£å¼‚å¸¸ä¸€å®šæ˜¯åœ¨è¯·æ±‚çš„æ—¶å€™è§¦å‘ã€‚å‰ç«¯ç›®å‰å¤§éƒ¨åˆ†çš„è¯·æ±‚æ˜¯ç”¨ axios å‘èµ·çš„ï¼Œæ‰€ä»¥åªè¦è·å– axios å¯èƒ½å‘ç”Ÿçš„å¼‚å¸¸å³å¯ã€‚</p>
<p>å¦‚æœä½ ç”¨ Promise çš„å†™æ³•ï¼Œåˆ™ç”¨ .catch æ•è·ï¼š</p>
<pre><code class="javascript">axios
  .post(&#39;/test&#39;)
  .then((res) =&gt; &#123;
    console.log(res);
  &#125;)
  .catch((err) =&gt; &#123;
    // err å°±æ˜¯æ•è·åˆ°çš„é”™è¯¯å¯¹è±¡
    handleError(err);
  &#125;);
</code></pre>
<p>å¦‚æœä½ ç”¨ async&#x2F;await çš„å†™æ³•ï¼Œåˆ™ç”¨ try..catch.. æ•è·ï¼š</p>
<pre><code class="javascript">async () =&gt; &#123;
  try &#123;
    let res = await axios.post(&#39;/test&#39;);
    console.log(res);
  &#125; catch (err) &#123;
    // err å°±æ˜¯æ•è·åˆ°çš„é”™è¯¯å¯¹è±¡
    handleError(err);
  &#125;
&#125;;
</code></pre>
<p>å½“æ•è·åˆ°å¼‚å¸¸ä¹‹åï¼Œç»Ÿä¸€äº¤ç»™ handleError å‡½æ•°å¤„ç†ï¼Œè¿™ä¸ªå‡½æ•°ä¼šå°†æ¥æ”¶åˆ°çš„å¼‚å¸¸è¿›è¡Œå¤„ç†ï¼Œå¹¶è°ƒç”¨ ä¸ŠæŠ¥æ¥å£ å°†å¼‚å¸¸æ•°æ®ä¼ åˆ°æœåŠ¡å™¨ï¼Œä»è€Œå®Œæˆé‡‡é›†ã€‚</p>
<p>ä¸Šé¢æˆ‘ä»¬å†™çš„å¼‚å¸¸æ•è·ï¼Œé€»è¾‘ä¸Šæ˜¯æ²¡é—®é¢˜çš„ï¼Œå®æ“èµ·æ¥å°±ä¼šå‘ç°ç¬¬ä¸€é“åï¼šé¡µé¢è¿™ä¹ˆå¤šï¼Œéš¾é“æ¯ä¸ªè¯·æ±‚éƒ½è¦åŒ…ä¸€å±‚ catch å—ï¼Ÿ</p>
<p>æ˜¯å•Šï¼Œå¦‚æœæˆ‘ä»¬æ˜¯æ–°å¼€å‘ä¸€ä¸ªé¡¹ç›®ï¼Œåœ¨å¼€å§‹çš„æ—¶å€™å°±è§„å®šæ¯ä¸ªè¯·æ±‚è¦åŒ…ä¸€å±‚ catch ä¹Ÿæ— å¯åšéï¼Œä½†æ˜¯å¦‚æœæ˜¯åœ¨ä¸€ä¸ªå·²æœ‰çš„è§„æ¨¡è¿˜ä¸å°çš„é¡¹ç›®ä¸­æ¥å…¥å‰ç«¯ç›‘æ§ï¼Œè¿™æ—¶å€™åœ¨æ¯ä¸ªé¡µé¢æˆ–æ¯ä¸ªè¯·æ±‚ catch æ˜¾ç„¶æ˜¯ä¸ç°å®çš„ã€‚</p>
<p>æ‰€ä»¥ï¼Œä¸ºäº†æœ€å¤§ç¨‹åº¦åœ°é™ä½æ¥å…¥æˆæœ¬ï¼Œå‡å°‘ä¾µå…¥æ€§ï¼Œæˆ‘ä»¬æ˜¯ç”¨ç¬¬äºŒç§æ–¹æ¡ˆï¼šåœ¨ axios æ‹¦æˆªå™¨ä¸­æ•è·å¼‚å¸¸ã€‚</p>
<p>å‰ç«¯é¡¹ç›®ï¼Œä¸ºäº†ç»Ÿä¸€å¤„ç†è¯·æ±‚ï¼Œæ¯”å¦‚ 401 çš„è·³è½¬ï¼Œæˆ–è€…å…¨å±€é”™è¯¯æç¤ºï¼Œéƒ½ä¼šåœ¨å…¨å±€å†™ä¸€ä¸ª axios å®ä¾‹ï¼Œä¸ºè¿™ä¸ªå®ä¾‹æ·»åŠ æ‹¦æˆªå™¨ï¼Œç„¶ååœ¨å…¶ä»–é¡µé¢ä¸­ç›´æ¥å¯¼å…¥è¿™ä¸ªå®ä¾‹ä½¿ç”¨ï¼Œæ¯”å¦‚ï¼š</p>
<pre><code class="javascript">// å…¨å±€è¯·æ±‚ï¼šsrc/request/axios.js
const instance = axios.create(&#123;
  baseURL: &#39;https://api.test.com&#39;
  timeout: 15000,
  headers: &#123;
    &#39;Content-Type&#39;: &#39;application/json&#39;,
  &#125;,
&#125;)
export default instance1
</code></pre>
<p>ç„¶ååœ¨å…·ä½“çš„é¡µé¢ä¸­è¿™æ ·å‘èµ·è¯·æ±‚ï¼š</p>
<pre><code class="javascript">// a é¡µé¢ï¼šsrc/page/a.jsx
import http from &#39;@/src/request/axios.js&#39;;
async () =&gt; &#123;
  let res = await http.post(&#39;/test&#39;);
  console.log(res);
&#125;;
</code></pre>
<p>è¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬å‘ç°æ¯ä¸ªé¡µé¢çš„è¯·æ±‚éƒ½ä¼šèµ°å…¨å±€ axios å®ä¾‹ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦åœ¨å…¨å±€è¯·æ±‚çš„ä½ç½®æ•è·å¼‚å¸¸å³å¯ï¼Œå°±ä¸éœ€è¦åœ¨æ¯ä¸ªé¡µé¢æ•è·äº†ï¼Œè¿™æ ·æ¥å…¥æˆæœ¬ä¼šå¤§å¤§é™ä½ã€‚</p>
<p>æŒ‰ç…§è¿™ä¸ªæ–¹æ¡ˆï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åœ¨ src&#x2F;request&#x2F;axios.js è¿™ä¸ªæ–‡ä»¶ä¸­åŠ¨æ‰‹å®æ–½ã€‚</p>
<h4 id="æ‹¦æˆªå™¨ä¸­æ•è·å¼‚å¸¸"><a href="#æ‹¦æˆªå™¨ä¸­æ•è·å¼‚å¸¸" class="headerlink" title="æ‹¦æˆªå™¨ä¸­æ•è·å¼‚å¸¸"></a>æ‹¦æˆªå™¨ä¸­æ•è·å¼‚å¸¸</h4><p>é¦–å…ˆæˆ‘ä»¬ä¸º axios æ·»åŠ å“åº”æ‹¦æˆªå™¨ï¼š</p>
<pre><code class="javascript">// å“åº”æ‹¦æˆªå™¨
instance.interceptors.response.use(
  (response) =&gt; &#123;
    return response.data;
  &#125;,
  (error) =&gt; &#123;
    // å‘ç”Ÿå¼‚å¸¸ä¼šèµ°åˆ°è¿™é‡Œ
    if (error.response) &#123;
      let response = error.response;
      if (response.status &gt;= 400) &#123;
        handleError(response);
      &#125;
    &#125; else &#123;
      handleError(null);
    &#125;
    return Promise.reject(error);
  &#125;,
);
</code></pre>
<p>å“åº”æ‹¦æˆªå™¨çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯åœ¨å‘ç”Ÿé”™è¯¯æ—¶æ‰§è¡Œçš„å‡½æ•°ï¼Œå‚æ•°å°±æ˜¯å¼‚å¸¸ã€‚æˆ‘ä»¬é¦–å…ˆè¦åˆ¤æ–­æ˜¯å¦å­˜åœ¨ error.responseï¼Œå­˜åœ¨å°±è¯´æ˜æ¥å£æœ‰å“åº”ï¼Œä¹Ÿå°±æ˜¯æ¥å£é€šäº†ï¼Œä½†æ˜¯è¿”å›é”™è¯¯ï¼›ä¸å­˜åœ¨åˆ™è¯´æ˜æ¥å£æ²¡é€šï¼Œè¯·æ±‚ä¸€ç›´æŒ‚èµ·ï¼Œå¤šæ•°æ˜¯æ¥å£å´©æºƒäº†ã€‚</p>
<p>å¦‚æœæœ‰å“åº”ï¼Œé¦–å…ˆè·å–çŠ¶æ€ç ï¼Œæ ¹æ®çŠ¶æ€ç æ¥åˆ¤æ–­ä»€ä¹ˆæ—¶å€™éœ€è¦æ”¶é›†å¼‚å¸¸ã€‚ä¸Šé¢çš„åˆ¤æ–­æ–¹å¼ç®€å•ç²—æš´ï¼Œåªè¦çŠ¶æ€ç å¤§äº 400 å°±è§†ä¸ºä¸€ä¸ªå¼‚å¸¸ï¼Œæ‹¿åˆ°å“åº”æ•°æ®ï¼Œå¹¶æ‰§è¡Œä¸ŠæŠ¥é€»è¾‘ã€‚</p>
<p>å¦‚æœæ²¡æœ‰å“åº”ï¼Œå¯ä»¥çœ‹ä½œæ˜¯æ¥å£è¶…æ—¶å¼‚å¸¸ï¼Œè°ƒç”¨å¼‚å¸¸å¤„ç†å‡½æ•°æ—¶ä¼ ä¸€ä¸ª null å³å¯ã€‚</p>
<h3 id="å‰ç«¯å¼‚å¸¸"><a href="#å‰ç«¯å¼‚å¸¸" class="headerlink" title="å‰ç«¯å¼‚å¸¸"></a>å‰ç«¯å¼‚å¸¸</h3><p>ä¸Šé¢æˆ‘ä»¬ä»‹ç»äº†åœ¨ axios æ‹¦æˆªå™¨ä¸­å¦‚ä½•æ•è·æ¥å£å¼‚å¸¸ï¼Œè¿™éƒ¨åˆ†æˆ‘ä»¬å†ä»‹ç»å¦‚ä½•æ•è·å‰ç«¯å¼‚å¸¸ã€‚</p>
<p>å‰ç«¯ä»£ç æ•è·å¼‚å¸¸ï¼Œæœ€å¸¸ç”¨çš„æ–¹å¼å°±æ˜¯ç”¨ try..catch.. äº†ï¼Œä»»æ„åŒæ­¥ä»£ç å—éƒ½å¯ä»¥æ”¾åˆ° try å—ä¸­ï¼Œåªè¦å‘ç”Ÿå¼‚å¸¸å°±ä¼šæ‰§è¡Œ catchï¼š</p>
<pre><code class="javascript">try &#123;
  // ä»»æ„åŒæ­¥ä»£ç 
&#125; catch (err) &#123;
  console.log(err);
&#125;
</code></pre>
<p>ä¸Šé¢è¯´â€œä»»æ„åŒæ­¥ä»£ç â€è€Œä¸æ˜¯â€œä»»æ„ä»£ç â€ï¼Œä¸»è¦æ˜¯æ™®é€šçš„ Promise å†™æ³• try..catch.. æ˜¯æ•è·ä¸åˆ°çš„ï¼Œåªèƒ½ç”¨ .catch() æ•è·ï¼Œå¦‚ï¼š</p>
<pre><code class="javascript">try &#123;
  Promise.reject(new Error(&#39;å‡ºé”™äº†&#39;)).catch((err) =&gt; console.log(&#39;1ï¼š&#39;, err));
&#125; catch (err) &#123;
  console.log(&#39;2ï¼š&#39;, err);
&#125;
</code></pre>
<p>æŠŠè¿™æ®µä»£ç ä¸¢è¿›æµè§ˆå™¨ï¼Œæ‰“å°ç»“æœæ˜¯ï¼š</p>
<pre><code class="javascript">1ï¼š Error: å‡ºé”™äº†1.
</code></pre>
<p>å¾ˆæ˜æ˜¾åªæ˜¯ .catch æ•è·åˆ°äº†å¼‚å¸¸ã€‚ä¸è¿‡ä¸ä¸Šé¢æ¥å£å¼‚å¸¸çš„é€»è¾‘ä¸€æ ·ï¼Œè¿™ç§æ–¹å¼å¤„ç†å½“å‰é¡µé¢å¼‚å¸¸æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†ä»æ•´ä¸ªåº”ç”¨æ¥çœ‹ï¼Œè¿™æ ·æ•è·å¼‚å¸¸ä¾µå…¥æ€§å¼ºï¼Œæ¥å…¥æˆæœ¬é«˜ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æ€è·¯ä¾ç„¶æ˜¯å…¨å±€æ•è·ã€‚</p>
<p>å…¨å±€æ•è· js çš„å¼‚å¸¸ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œç”¨ window.addEventLinstener(â€˜errorâ€™) å³å¯ï¼š</p>
<pre><code class="javascript">// js é”™è¯¯æ•è·
window.addEventListener(&#39;error&#39;, (error) =&gt; &#123;
  // error å°±æ˜¯jsçš„å¼‚å¸¸
&#125;);
</code></pre>
<h4 id="ä¸ºå•¥ä¸ç”¨-window-onerror-ï¼Ÿ"><a href="#ä¸ºå•¥ä¸ç”¨-window-onerror-ï¼Ÿ" class="headerlink" title="ä¸ºå•¥ä¸ç”¨ window.onerror ï¼Ÿ"></a>ä¸ºå•¥ä¸ç”¨ window.onerror ï¼Ÿ</h4><p>è¿™é‡Œå¾ˆå¤šå°ä¼™ä¼´æœ‰ç–‘é—®ï¼Œä¸ºä»€ä¹ˆä¸ç”¨ window.onerror å…¨å±€ç›‘å¬å‘¢ï¼Ÿwindow.addEventLinstener(â€˜errorâ€™) å’Œ window.onerror æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p>
<p>é¦–å…ˆè¿™ä¸¤ä¸ªå‡½æ•°åŠŸèƒ½åŸºæœ¬ä¸€è‡´ï¼Œéƒ½å¯ä»¥å…¨å±€æ•è· js å¼‚å¸¸ã€‚ä½†æ˜¯æœ‰ä¸€ç±»å¼‚å¸¸å«åš èµ„æºåŠ è½½å¼‚å¸¸ï¼Œå°±æ˜¯åœ¨ä»£ç ä¸­å¼•ç”¨äº†ä¸å­˜åœ¨çš„å›¾ç‰‡ï¼Œjsï¼Œcss ç­‰é™æ€èµ„æºå¯¼è‡´çš„å¼‚å¸¸ï¼Œæ¯”å¦‚:</p>
<pre><code class="javascript">const loadCss = ()=&gt; &#123;
  let link = document.createElement(&#39;link&#39;)
  link.type = &#39;text/css&#39;
  link.rel = &#39;stylesheet&#39;
  link.href = &#39;https://baidu.com/15.css&#39;
  document.getElementsByTagName(&#39;head&#39;)[10].append(link)
&#125;
render() &#123;
  return &lt;div&gt;
    &lt;img src=&#39;./bbb.png&#39;/&gt;
    &lt;button onClick=&#123;loadCss&#125;&gt;åŠ è½½æ ·å¼&lt;button/&gt;
  &lt;/div&gt;
&#125;
</code></pre>
<p>ä¸Šè¿°ä»£ç ä¸­çš„ baidu.com&#x2F;15.css å’Œ bbb.png æ˜¯ä¸å­˜åœ¨çš„ï¼ŒJS æ‰§è¡Œåˆ°è¿™é‡Œè‚¯å®šä¼šæŠ¥ä¸€ä¸ªèµ„æºæ‰¾ä¸åˆ°çš„é”™è¯¯ã€‚ä½†æ˜¯é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸Šé¢ä¸¤ç§ window å¯¹è±¡ä¸Šçš„å…¨å±€ç›‘å¬å‡½æ•°éƒ½ç›‘å¬ä¸åˆ°è¿™ç±»å¼‚å¸¸ã€‚</p>
<p>å› ä¸ºèµ„æºåŠ è½½çš„å¼‚å¸¸åªä¼šåœ¨å½“å‰å…ƒç´ è§¦å‘ï¼Œå¼‚å¸¸ä¸ä¼šå†’æ³¡åˆ° windowï¼Œå› æ­¤ç›‘å¬ window ä¸Šçš„å¼‚å¸¸æ˜¯æ•æ‰ä¸åˆ°çš„ã€‚é‚£æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>å¦‚æœä½ ç†Ÿæ‚‰ DOM äº‹ä»¶ä½ å°±ä¼šæ˜ç™½ï¼Œæ—¢ç„¶å†’æ³¡é˜¶æ®µç›‘å¬ä¸åˆ°ï¼Œé‚£ä¹ˆåœ¨æ•è·é˜¶æ®µä¸€å®šèƒ½ç›‘å¬åˆ°ã€‚</p>
<p>æ–¹æ³•å°±æ˜¯ç»™ window.addEventListene å‡½æ•°æŒ‡å®šç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œå¾ˆç®€å•å°±æ˜¯ trueï¼Œè¡¨ç¤ºè¯¥ç›‘å¬å‡½æ•°ä¼šåœ¨æ•è·é˜¶æ®µæ‰§è¡Œï¼Œè¿™æ ·å°±èƒ½ç›‘å¬åˆ°èµ„æºåŠ è½½å¼‚å¸¸äº†ã€‚</p>
<pre><code class="javascript">// æ•è·é˜¶æ®µå…¨å±€ç›‘å¬
window.addEventListene(
  &#39;error&#39;,
  (error) =&gt; &#123;
    if (error.target != window) &#123;
      console.log(error.target.tagName, error.target.src);
    &#125;
    handleError(error);
  &#125;,
  true,
);
</code></pre>
<p>ä¸Šè¿°æ–¹å¼å¯ä»¥å¾ˆè½»æ¾çš„ç›‘å¬åˆ°å›¾ç‰‡åŠ è½½å¼‚å¸¸ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ›´æ¨è window.addEventListene çš„åŸå› ã€‚ä¸è¿‡è¦è®°å¾—ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°è®¾ä¸º trueï¼Œç›‘å¬äº‹ä»¶æ•è·ï¼Œå°±å¯ä»¥å…¨å±€æ•è·åˆ° JS å¼‚å¸¸å’Œèµ„æºåŠ è½½å¼‚å¸¸ã€‚</p>
<p>éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼Œwindow.addEventListene åŒæ ·ä¸èƒ½æ•è· Promise å¼‚å¸¸ã€‚ä¸ç®¡æ˜¯ Promise.then() å†™æ³•è¿˜æ˜¯ async&#x2F;await å†™æ³•ï¼Œå‘ç”Ÿå¼‚å¸¸æ—¶éƒ½ä¸èƒ½æ•è·ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å…¨å±€ç›‘å¬ä¸€ä¸ª unhandledrejection å‡½æ•°æ¥æ•è·æœªå¤„ç†çš„ Promise å¼‚å¸¸ã€‚</p>
<pre><code class="javascript">// promise é”™è¯¯æ•è·
window.addEventListener(&#39;unhandledrejection&#39;, (error) =&gt; &#123;
  // æ‰“å°å¼‚å¸¸åŸå› 
  console.log(error.reason);
  handleError(error);
  // é˜»æ­¢æ§åˆ¶å°æ‰“å°
  error.preventDefault();
&#125;);
</code></pre>
<p>unhandledrejection äº‹ä»¶ä¼šåœ¨ Promise å‘ç”Ÿå¼‚å¸¸å¹¶ä¸”æ²¡æœ‰æŒ‡å®š catch çš„æ—¶å€™è§¦å‘ï¼Œç›¸å½“äºä¸€ä¸ªå…¨å±€çš„ Promise å¼‚å¸¸å…œåº•æ–¹æ¡ˆã€‚è¿™ä¸ªå‡½æ•°ä¼šæ•æ‰åˆ°è¿è¡Œæ—¶æ„å¤–å‘ç”Ÿçš„ Promise å¼‚å¸¸ï¼Œè¿™å¯¹æˆ‘ä»¬æ’é”™éå¸¸æœ‰ç”¨ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒPromise å‘ç”Ÿå¼‚å¸¸ä¸”æœªè¢« catch æ—¶ï¼Œä¼šåœ¨æ§åˆ¶å°æ‰“å°å¼‚å¸¸ã€‚å¦‚æœæˆ‘ä»¬æƒ³é˜»æ­¢å¼‚å¸¸æ‰“å°ï¼Œå¯ä»¥ç”¨ä¸Šé¢çš„ error.preventDefault() æ–¹æ³•ã€‚</p>
<h4 id="å¼‚å¸¸å¤„ç†å‡½æ•°"><a href="#å¼‚å¸¸å¤„ç†å‡½æ•°" class="headerlink" title="å¼‚å¸¸å¤„ç†å‡½æ•°"></a>å¼‚å¸¸å¤„ç†å‡½æ•°</h4><p>å‰é¢æˆ‘ä»¬åœ¨æ•è·åˆ°å¼‚å¸¸æ—¶è°ƒç”¨äº†ä¸€ä¸ªå¼‚å¸¸å¤„ç†å‡½æ•° handleErrorï¼Œæ‰€æœ‰çš„å¼‚å¸¸å’Œä¸ŠæŠ¥é€»è¾‘ç»Ÿä¸€åœ¨è¿™ä¸ªå‡½æ•°å†…å¤„ç†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å®ç°è¿™ä¸ªå‡½æ•°ã€‚</p>
<pre><code class="javascript">const handleError = (error: any, type: 1 | 2) &#123;
  if(type == 1) &#123;
    // å¤„ç†æ¥å£å¼‚å¸¸
  &#125;
  if(type == 2) &#123;
    // å¤„ç†å‰ç«¯å¼‚å¸¸
  &#125;
&#125;
</code></pre>
<p>ä¸ºäº†åŒºåˆ†å¼‚å¸¸ç±»å‹ï¼Œå‡½æ•°æ–°åŠ äº†ç¬¬äºŒä¸ªå‚æ•° type è¡¨ç¤ºå½“å‰å¼‚å¸¸å±äºå‰ç«¯è¿˜æ˜¯æ¥å£ã€‚åœ¨ä¸åŒçš„åœºæ™¯ä¸­ä½¿ç”¨å¦‚ä¸‹ï¼š</p>
<ul>
<li>å¤„ç†å‰ç«¯å¼‚å¸¸ï¼šhandleError(error, 1)ã€‚</li>
<li>å¤„ç†æ¥å£å¼‚å¸¸ï¼šhandleError(error, 2)ã€‚</li>
</ul>
<h3 id="å¤„ç†æ¥å£å¼‚å¸¸"><a href="#å¤„ç†æ¥å£å¼‚å¸¸" class="headerlink" title="å¤„ç†æ¥å£å¼‚å¸¸"></a>å¤„ç†æ¥å£å¼‚å¸¸</h3><p>å¤„ç†æ¥å£å¼‚å¸¸ï¼Œæˆ‘ä»¬éœ€è¦å°†æ‹¿åˆ°çš„ error å‚æ•°è§£æï¼Œç„¶åå–åˆ°éœ€è¦çš„æ•°æ®ã€‚æ¥å£å¼‚å¸¸ä¸€èˆ¬éœ€è¦çš„æ•°æ®å­—æ®µå¦‚ä¸‹ï¼š</p>
<ul>
<li>codeï¼šhttp çŠ¶æ€ç ã€‚</li>
<li>urlï¼šæ¥å£è¯·æ±‚åœ°å€ã€‚</li>
<li>methodï¼šæ¥å£è¯·æ±‚æ–¹æ³•ã€‚</li>
<li>paramsï¼šæ¥å£è¯·æ±‚å‚æ•°ã€‚</li>
<li>errorï¼šæ¥å£æŠ¥é”™ä¿¡æ¯ã€‚</li>
</ul>
<p>è¿™äº›å­—æ®µéƒ½å¯ä»¥åœ¨ error å‚æ•°ä¸­è·å–ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const handleError = (error: any, type: 1 | 2) &#123;
  if(type == 1) &#123;
    // æ­¤æ—¶çš„ error å“åº”ï¼Œå®ƒçš„ config å­—æ®µä¸­åŒ…å«è¯·æ±‚ä¿¡æ¯
    let &#123; url, method, params, data &#125; = error.config
    let err_data = &#123;
       url, method,
       params: &#123; query: params, body: data &#125;,
       error: error.data?.message || JSON.stringify(error.data),
    &#125;)
  &#125;
&#125;
</code></pre>
<p>config å¯¹è±¡ä¸­çš„ params è¡¨ç¤º GET è¯·æ±‚çš„ query å‚æ•°ï¼Œdata è¡¨ç¤º POST è¯·æ±‚çš„ body å‚æ•°ï¼Œæ‰€ä»¥æˆ‘åœ¨å¤„ç†å‚æ•°çš„æ—¶å€™ï¼Œå°†è¿™ä¸¤ä¸ªå‚æ•°åˆå¹¶ä¸ºä¸€ä¸ªï¼Œç”¨ä¸€ä¸ªå±æ€§ params æ¥è¡¨ç¤ºã€‚</p>
<pre><code class="javascript">params: &#123; query: params, body: data &#125;
</code></pre>
<p>è¿˜æœ‰ä¸€ä¸ª error å±æ€§è¡¨ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œè¿™ä¸ªè·å–æ–¹å¼è¦æ ¹æ®ä½ çš„æ¥å£è¿”å›æ ¼å¼æ¥æ‹¿ã€‚è¦é¿å…è·å–åˆ°æ¥å£å¯èƒ½è¿”å›çš„è¶…é•¿é”™è¯¯ä¿¡æ¯ï¼Œå¤šåŠæ˜¯æ¥å£æ²¡å¤„ç†ï¼Œè¿™æ ·å¯èƒ½ä¼šå¯¼è‡´å†™å…¥æ•°æ®å¤±è´¥ï¼Œè¦æå‰ä¸åå°è§„å®šå¥½ã€‚</p>
<h3 id="å¤„ç†å‰ç«¯å¼‚å¸¸"><a href="#å¤„ç†å‰ç«¯å¼‚å¸¸" class="headerlink" title="å¤„ç†å‰ç«¯å¼‚å¸¸"></a>å¤„ç†å‰ç«¯å¼‚å¸¸</h3><p>å‰ç«¯å¼‚å¸¸å¼‚å¸¸å¤§å¤šæ•°å°±æ˜¯ js å¼‚å¸¸ï¼Œå¼‚å¸¸å¯¹åº”åˆ° js çš„ Error å¯¹è±¡ï¼Œåœ¨å¤„ç†ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹ Error æœ‰å“ªå‡ ç§ç±»å‹ï¼š</p>
<ul>
<li>ReferenceErrorï¼šå¼•ç”¨é”™è¯¯ã€‚</li>
<li>RangeErrorï¼šè¶…å‡ºæœ‰æ•ˆèŒƒå›´ã€‚</li>
<li>TypeErrorï¼šç±»å‹é”™è¯¯ã€‚</li>
<li>URIErrorï¼šURI è§£æé”™è¯¯ã€‚</li>
</ul>
<p>è¿™å‡ ç±»å¼‚å¸¸çš„å¼•ç”¨å¯¹è±¡éƒ½æ˜¯ Errorï¼Œå› æ­¤å¯ä»¥è¿™æ ·è·å–ï¼š</p>
<pre><code class="javascript">const handleError = (error: any, type: 1 | 2) &#123;
  if(type == 2) &#123;
    let err_data = null
    // ç›‘æµ‹ error æ˜¯å¦æ˜¯æ ‡å‡†ç±»å‹
    if(error instanceof Error) &#123;
      let &#123; name, message &#125; = error
      err_data = &#123;
        type: name,
        error: message
      &#125;
    &#125; else &#123;
      err_data = &#123;
        type: &#39;other&#39;,
        error: JSON.strigify(error)
      &#125;
    &#125;
  &#125;
&#125;
</code></pre>
<p>ä¸Šè¿°åˆ¤æ–­ä¸­ï¼Œé¦–å…ˆåˆ¤æ–­å¼‚å¸¸æ˜¯å¦æ˜¯ Error çš„å®ä¾‹ã€‚äº‹å®ä¸Šç»å¤§éƒ¨åˆ†çš„ä»£ç å¼‚å¸¸éƒ½æ˜¯æ ‡å‡†çš„ JS Errorï¼Œä½†æˆ‘ä»¬è¿™é‡Œè¿˜æ˜¯åˆ¤æ–­ä¸€ä¸‹ï¼Œå¦‚æœæ˜¯çš„è¯ç›´æ¥è·å–å¼‚å¸¸ç±»å‹å’Œå¼‚å¸¸ä¿¡æ¯ï¼Œä¸æ˜¯çš„è¯å°†å¼‚å¸¸ç±»å‹è®¾ç½®ä¸º other å³å¯ã€‚</p>
<p>æˆ‘ä»¬éšä¾¿å†™ä¸€ä¸ªå¼‚å¸¸ä»£ç ï¼Œçœ‹ä¸€ä¸‹æ•è·çš„ç»“æœï¼š</p>
<pre><code class="javascript">function test() &#123;
  console.aaa(&#39;ccc&#39;);
&#125;
test();
</code></pre>
<p>ç„¶åæ•è·åˆ°çš„å¼‚å¸¸æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="javascript">const handleError = (error: any) =&gt; &#123;
  if (error instanceof Error) &#123;
    let &#123; name, message &#125; = error;
    console.log(name, message);
    // æ‰“å°ç»“æœï¼šTypeError console.aaa is not a function
  &#125;
&#125;;
</code></pre>
<h4 id="è·å–ç¯å¢ƒæ•°æ®"><a href="#è·å–ç¯å¢ƒæ•°æ®" class="headerlink" title="è·å–ç¯å¢ƒæ•°æ®"></a>è·å–ç¯å¢ƒæ•°æ®</h4><p>è·å–ç¯å¢ƒæ•°æ®çš„æ„æ€æ˜¯ï¼Œä¸ç®¡æ˜¯æ¥å£å¼‚å¸¸è¿˜æ˜¯å‰ç«¯å¼‚å¸¸ï¼Œé™¤äº†å¼‚å¸¸æœ¬èº«çš„æ•°æ®ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€äº›å…¶ä»–ä¿¡æ¯æ¥å¸®åŠ©æˆ‘ä»¬æ›´å¿«æ›´å‡†çš„å®šä½åˆ°å“ªé‡Œå‡ºé”™äº†ã€‚</p>
<p>è¿™ç±»æ•°æ®æˆ‘ä»¬ç§°ä¹‹ä¸º â€œç¯å¢ƒæ•°æ®â€ï¼Œå°±æ˜¯è§¦å‘å¼‚å¸¸æ—¶æ‰€åœ¨çš„ç¯å¢ƒã€‚æ¯”å¦‚æ˜¯è°åœ¨å“ªä¸ªé¡µé¢çš„å“ªä¸ªåœ°æ–¹è§¦å‘çš„é”™è¯¯ï¼Œæœ‰äº†è¿™äº›ï¼Œæˆ‘ä»¬å°±èƒ½é©¬ä¸Šæ‰¾åˆ°é”™è¯¯æ¥æºï¼Œå†æ ¹æ®å¼‚å¸¸ä¿¡æ¯è§£å†³é”™è¯¯ã€‚</p>
<p>ç¯å¢ƒæ•°æ®è‡³å°‘åŒ…æ‹¬ä¸‹é¢è¿™äº›ï¼š</p>
<ul>
<li>appï¼šåº”ç”¨çš„åç§°&#x2F;æ ‡è¯†ã€‚</li>
<li>envï¼šåº”ç”¨ç¯å¢ƒï¼Œä¸€èˆ¬æ˜¯å¼€å‘ï¼Œæµ‹è¯•ï¼Œç”Ÿäº§ã€‚</li>
<li>versionï¼šåº”ç”¨çš„ç‰ˆæœ¬å·ã€‚</li>
<li>user_idï¼šè§¦å‘å¼‚å¸¸çš„ç”¨æˆ· IDã€‚</li>
<li>user_nameï¼šè§¦å‘å¼‚å¸¸çš„ç”¨æˆ·åã€‚</li>
<li>page_routeï¼šå¼‚å¸¸çš„é¡µé¢è·¯ç”±ã€‚</li>
<li>page_titleï¼šå¼‚å¸¸çš„é¡µé¢åç§°ã€‚</li>
</ul>
<p>app å’Œ version éƒ½æ˜¯åº”ç”¨é…ç½®ï¼Œå¯ä»¥åˆ¤æ–­å¼‚å¸¸å‡ºç°åœ¨å“ªä¸ªåº”ç”¨çš„å“ªä¸ªç‰ˆæœ¬ã€‚è¿™ä¸¤ä¸ªå­—æ®µæˆ‘å»ºè®®ç›´æ¥è·å– package.json ä¸‹çš„ name å’Œ version å±æ€§ï¼Œåœ¨åº”ç”¨å‡çº§çš„æ—¶å€™ï¼ŒåŠæ—¶ä¿®æ”¹ version ç‰ˆæœ¬å·å³å¯ã€‚</p>
<h3 id="Vueå’ŒReactå¼‚å¸¸å¤„ç†"><a href="#Vueå’ŒReactå¼‚å¸¸å¤„ç†" class="headerlink" title="Vueå’ŒReactå¼‚å¸¸å¤„ç†"></a>Vueå’ŒReactå¼‚å¸¸å¤„ç†</h3><blockquote>
<p>ç°åœ¨è¶Šæ¥è¶Šå¤šçš„é¡¹ç›®å¼€å§‹ä½¿ç”¨å‰ç«¯æ¡†æ¶ï¼Œåœ¨MVVMæ¡†æ¶ä¸­å¦‚æœä½ ä¸€å¦‚æ—¢å¾€çš„æƒ³ä½¿ç”¨window.onerroræ¥æ•è·å¼‚å¸¸ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½ä¼šç«¹ç¯®æ‰“æ°´ä¸€åœºç©ºï¼Œæˆ–è®¸æ ¹æœ¬æ•è·ä¸åˆ°ï¼Œå› ä¸ºä½ çš„å¼‚å¸¸ä¿¡æ¯è¢«æ¡†æ¶è‡ªèº«çš„å¼‚å¸¸æœºåˆ¶æ•è·äº†ã€‚</p>
</blockquote>
<p>æ¯”å¦‚Vue 2.xä¸­æˆ‘ä»¬åº”è¯¥è¿™æ ·æ•è·å…¨å±€å¼‚å¸¸ï¼š</p>
<pre><code class="js">Vue.config.errorHandler = function (err, vm, info) &#123;
    let &#123; 
        message, // å¼‚å¸¸ä¿¡æ¯
        name, // å¼‚å¸¸åç§°
        script,  // å¼‚å¸¸è„šæœ¬url
        line,  // å¼‚å¸¸è¡Œå·
        column,  // å¼‚å¸¸åˆ—å·
        stack  // å¼‚å¸¸å †æ ˆä¿¡æ¯
    &#125; = err;

    // vmä¸ºæŠ›å‡ºå¼‚å¸¸çš„ Vue å®ä¾‹
    // infoä¸º Vue ç‰¹å®šçš„é”™è¯¯ä¿¡æ¯ï¼Œæ¯”å¦‚é”™è¯¯æ‰€åœ¨çš„ç”Ÿå‘½å‘¨æœŸé’©å­
&#125;
</code></pre>
<blockquote>
<p>ç›®å‰scriptã€lineã€columnè¿™3ä¸ªä¿¡æ¯æ‰“å°å‡ºæ¥æ˜¯undefinedï¼Œä¸è¿‡è¿™äº›ä¿¡æ¯åœ¨stackä¸­éƒ½å¯ä»¥æ‰¾åˆ°ï¼Œå¯ä»¥é€šè¿‡æ­£åˆ™åŒ¹é…å»è¿›è¡Œè·å–ï¼Œç„¶åè¿›è¡Œä¸ŠæŠ¥ã€‚</p>
<p>åŒæ ·çš„åœ¨reactä¹Ÿæä¾›äº†å¼‚å¸¸å¤„ç†çš„æ–¹å¼ï¼Œåœ¨ React 16.x ç‰ˆæœ¬ä¸­å¼•å…¥äº† Error Boundaryï¼š</p>
</blockquote>
<pre><code class="js">class ErrorBoundary extends React.Component &#123;
    constructor(props) &#123;
        super(props);
        this.state = &#123; hasError: false &#125;;
    &#125;

    componentDidCatch(error, info) &#123;
        this.setState(&#123; hasError: true &#125;);

        // å°†å¼‚å¸¸ä¿¡æ¯ä¸ŠæŠ¥ç»™æœåŠ¡å™¨
        logErrorToMyService(error, info); 
    &#125;

    render() &#123;
        if (this.state.hasError) &#123;
            return &#39;å‡ºé”™äº†&#39;;
        &#125;

        return this.props.children;
    &#125;
&#125;
</code></pre>
<p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥è¿™æ ·ä½¿ç”¨è¯¥ç»„ä»¶ï¼š</p>
<h3 id="å‚è€ƒæ–‡çŒ®ï¼š"><a href="#å‚è€ƒæ–‡çŒ®ï¼š" class="headerlink" title="å‚è€ƒæ–‡çŒ®ï¼š"></a>å‚è€ƒæ–‡çŒ®ï¼š</h3><p><a href="https://www.51cto.com/article/711309.html">https://www.51cto.com/article/711309.html</a></p>
<p><a href="https://juejin.cn/post/7072179884247744526">https://juejin.cn/post/7072179884247744526</a></p>
]]></content>
      <categories>
        <category>æŠ€æœ¯é¢è¯•</category>
        <category>å‰ç«¯å¼‚å¸¸æ•è·</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯é¢è¯•å¤§å…¨ä¹‹æ‰‹å†™ä»£ç ä¸€</title>
    <url>/2022/11/17/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E4%B9%8B%E6%89%8B%E5%86%99%E4%BB%A3%E7%A0%81%E4%B8%80/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å‰ç«¯é¢è¯•å¤§å…¨ä¹‹æ‰‹å†™ä»£ç ï¼ˆä¸€ï¼‰"><a href="#å‰ç«¯é¢è¯•å¤§å…¨ä¹‹æ‰‹å†™ä»£ç ï¼ˆä¸€ï¼‰" class="headerlink" title="å‰ç«¯é¢è¯•å¤§å…¨ä¹‹æ‰‹å†™ä»£ç ï¼ˆä¸€ï¼‰"></a>å‰ç«¯é¢è¯•å¤§å…¨ä¹‹æ‰‹å†™ä»£ç ï¼ˆä¸€ï¼‰</h1><p>æ¯æ—¥12é¢˜ï¼ˆé«˜é¢‘åŸºç¡€ï¼‰</p>
<h3 id="1-æ„é€ å‡½æ•°ç»§æ‰¿"><a href="#1-æ„é€ å‡½æ•°ç»§æ‰¿" class="headerlink" title="1.æ„é€ å‡½æ•°ç»§æ‰¿"></a>1.æ„é€ å‡½æ•°ç»§æ‰¿</h3><pre><code class="javascript">function Super(name,age)&#123;
    this.name = name;
    this.age = age;
    this.color = [&#39;red&#39;,&#39;yellow&#39;,&#39;blue&#39;];
    this.sayHi = function()&#123;
        console.log(&#39;hi&#39;)
    &#125;
    console.log(this)
&#125;
function Sub()&#123;
    Super.apply(this,arguments)
    this.height = 180;
&#125;

var instance1 = new Sub(&#39;mengfeng&#39;,25);
var instance2 = new Sub(&#39;mengfeng123&#39;,24);
instance1.sayHi();
</code></pre>
<h3 id="2-è®¡æ—¶å™¨"><a href="#2-è®¡æ—¶å™¨" class="headerlink" title="2.è®¡æ—¶å™¨"></a>2.è®¡æ—¶å™¨</h3><pre><code class="javascript">var i = 10;
let fn = () =&gt; &#123;
    console.log(i--);
&#125;
function mySetInterval(fn, delay, times) &#123;
    let timer = setTimeout(function a() &#123;
        fn()
        times--
        timer = setTimeout(a, delay)
        if (times &lt;= 0) &#123;
            clearTimeout(timer)
        &#125;
    &#125;, delay)
&#125;
mySetInterval(fn, 1000, 10)
</code></pre>
<h3 id="3-å¯„ç”Ÿç»„åˆç»§æ‰¿"><a href="#3-å¯„ç”Ÿç»„åˆç»§æ‰¿" class="headerlink" title="3.å¯„ç”Ÿç»„åˆç»§æ‰¿"></a>3.å¯„ç”Ÿç»„åˆç»§æ‰¿</h3><pre><code class="javascript"> function inheritPrototype(Sub,Super)&#123;
    var subPrototype=Object.create(Super.prototype)
    subPrototype.constructor=Sub
    Sub.prototype=subPrototype
    
  &#125;
  function Super(name)&#123;
    this.name=name
  &#125;
  Super.prototype.sayHi=function()&#123;
    console.log(this.name)//ccdida
  &#125;
  function Sub(name)&#123;
    Super.call(this,name)
  &#125;
  inheritPrototype(Sub,Super)

  Sub.prototype.sayHello=function()&#123;
    console.log(&#39;sayHello&#39;)
  &#125;

  var instance1=new Sub(&#39;ccdida&#39;)
  console.log(instance1.__proto__)
  console.log(instance1.__proto__.__proto__)
</code></pre>
<h3 id="4-æŸ¯é‡ŒåŒ–å‡½æ•°"><a href="#4-æŸ¯é‡ŒåŒ–å‡½æ•°" class="headerlink" title="4.æŸ¯é‡ŒåŒ–å‡½æ•°"></a>4.æŸ¯é‡ŒåŒ–å‡½æ•°</h3><pre><code class="javascript">function add() &#123;
    const _args = [...arguments];
    function fn() &#123;
      _args.push(...arguments);
      return fn; //ä¸€ç›´é‡å¤æ”¶é›†å‚æ•°
    &#125;
    fn.toString = function() &#123;
      return _args.reduce((sum, cur) =&gt; sum + cur);
    &#125;
    return fn;
  &#125;
console.log(add(1)(2)(3)(4).toString())
console.log(add(1,2)(1, 2, 3)(2).toString())
</code></pre>
<h3 id="5-åƒä½ç¬¦"><a href="#5-åƒä½ç¬¦" class="headerlink" title="5.åƒä½ç¬¦"></a>5.åƒä½ç¬¦</h3><pre><code class="javascript">// å°†é‡‘é¢ç±»å‹è½¬ä¸ºæ•°å­—ç±»å‹
function toNum(str) &#123;
    return str.replace(/\,|\ï¿¥/g, &quot;&quot;);
&#125;

// ä¿ç•™ä¸¤ä½å°æ•°ï¼ˆå››èˆäº”å…¥ï¼‰
function toPrice(num) &#123;
    num = parseFloat(toNum(num)).toFixed(2).toString().split(&quot;.&quot;);
    num[0] = num[0].replace(new RegExp(&#39;(\\d)(?=(\\d&#123;3&#125;)+$)&#39;,&#39;ig&#39;),&quot;$1,&quot;);
    return &quot;ï¿¥&quot; + num.join(&quot;.&quot;);
&#125;

// ä¿ç•™ä¸¤ä½å°æ•°ï¼ˆä¸å››èˆäº”å…¥ï¼‰
function toPrice1(num) &#123;
    num = parseFloat(toNum(num).replace(/(\.\d&#123;2&#125;)\d+$/,&quot;$1&quot;)).toFixed(2).toString().split(&quot;.&quot;);
    num[0] = num[0].replace(new RegExp(&#39;(\\d)(?=(\\d&#123;3&#125;)+$)&#39;,&#39;ig&#39;),&quot;$1,&quot;);
    return &quot;ï¿¥&quot; + num.join(&quot;.&quot;);;
&#125;

// ä¸å¤„ç†å°æ•°éƒ¨åˆ†
function toPrice2(num) &#123;
    var source = toNum(num).split(&quot;.&quot;);
    source[0] = source[0].replace(new RegExp(&#39;(\\d)(?=(\\d&#123;3&#125;)+$)&#39;,&#39;ig&#39;),&quot;$1,&quot;);
    return &quot;ï¿¥&quot; + source.join(&quot;.&quot;)
&#125;

console.log(toPrice(&#39;12312.236&#39;)) //ï¿¥12,312.24
console.log(toPrice1(&#39;12312.234&#39;)) //ï¿¥12,312.23
console.log(toPrice2(&#39;1232342312.234&#39;)) //ï¿¥1,232,342,312.234
</code></pre>
<h3 id="6-æ·±æ‹·è´"><a href="#6-æ·±æ‹·è´" class="headerlink" title="6.æ·±æ‹·è´"></a>6.æ·±æ‹·è´</h3><pre><code class="javascript">function deepClone(obj,hash = new WeakMap())&#123;
    if(obj == null) return obj;
    if(obj instanceof Date) return new Date(obj);
    if(obj instanceof RegExp) return new RegExp(obj);
    if(typeof obj !== &#39;object&#39;) return obj;
    if(hash.get(obj)) return hash.get(obj);
    let cloneObj = new obj.constructor;
    hash.set(obj,cloneObj);
    for(let key in obj)&#123;
        if(obj.hasOwnProperty(key))&#123;
            cloneObj[key] = deepClone(obj[key],hash);
        &#125;
    &#125;
    return cloneObj;
&#125;

let obj = &#123;name:1,address:&#123;x:1000&#125;&#125;;
let d = deepClone(obj);
obj.address.x = 200;
console.log(d); //&#123;name:1,address:&#123;x:1000&#125;&#125;
</code></pre>
<h3 id="7-æ•°ç»„æ‰å¹³åŒ–"><a href="#7-æ•°ç»„æ‰å¹³åŒ–" class="headerlink" title="7.æ•°ç»„æ‰å¹³åŒ–"></a>7.æ•°ç»„æ‰å¹³åŒ–</h3><pre><code class="javascript">//é€’å½’å®ç°
var arr = [1,2,[3,4,[5,6]]]
function flatten(arr)&#123;
    let result = []
    arr.forEach(item =&gt; &#123;
        if(Array.isArray(item))&#123;
            result = result.concat(flatten(item))
        &#125;else&#123;
            result.push(item)
        &#125;
    &#125;);
    return result
&#125;
console.log(flatten(arr)) //[ 1, 2, 3, 4, 5, 6 ]

//åˆ©ç”¨reduceå‡½æ•°è¿­ä»£
var arr1 = [1,2,[3,4,[5,6]]]
function flatten1(arr)&#123;
    return arr.reduce((res,next) =&gt; &#123;
        return res.concat(Array.isArray(next) ? flatten1(next) : next)
    &#125;,[])
&#125;
console.log(flatten1(arr1)) //[ 1, 2, 3, 4, 5, 6 ]
</code></pre>
<h3 id="8-åŸå‹é“¾ç»§æ‰¿"><a href="#8-åŸå‹é“¾ç»§æ‰¿" class="headerlink" title="8.åŸå‹é“¾ç»§æ‰¿"></a>8.åŸå‹é“¾ç»§æ‰¿</h3><pre><code class="javascript">//1.åŸå‹é“¾ç»§æ‰¿
function Super()&#123;
    this.color = [&#39;red&#39;,&#39;yellow&#39;,&#39;black&#39;]
&#125;
function Sub()&#123;
&#125;

Sub.prototype = new Super();
const instance1 = new Sub();
const instance2 = new Sub();
console.log(instance1.__proto__.color === instance2.__proto__.color)//true
</code></pre>
<h3 id="9-ç»„åˆç»§æ‰¿"><a href="#9-ç»„åˆç»§æ‰¿" class="headerlink" title="9.ç»„åˆç»§æ‰¿"></a>9.ç»„åˆç»§æ‰¿</h3><pre><code class="javascript">function Super(name,age)&#123;
    this.name = name;
    this.age = age;
    this.color = [&#39;red&#39;,&#39;yellow&#39;,&#39;blue&#39;]
&#125;

Super.prototype.sayHi = function()&#123;
    console.log(&#39;hi&#39;)
&#125;

function Sub(name,age,height)&#123;
    Super.apply(this,arguments)
    this.height = height;
&#125;

Sub.prototype = new Super(&#39;w&#39;,22);
Sub.prototype.constructor = Sub;
console.log(Sub.prototype)
Sub.prototype.sayHello = function()&#123;
    console.log(&#39;hello&#39;)
&#125;

var instance1 = new Sub(&#39;mengfeng&#39;,23,180);
var instance2 = new Sub(&#39;mengfeng123&#39;,24,181);
console.log(instance1)
</code></pre>
<h3 id="10-instanceof"><a href="#10-instanceof" class="headerlink" title="10.instanceof"></a>10.instanceof</h3><pre><code class="javascript">function new_instance_of(leftValue,rightValue)&#123;
    let rightProto = rightValue.prototype;//å–å³è¾¹è¡¨è¾¾å¼çš„ prototype å€¼
    leftValue = leftValue.__proto__;//å–å·¦è¡¨è¾¾å¼çš„ __proto__ å€¼
    while(true)&#123;
        if(leftValue == null)&#123;
            return false;
        &#125;
        if(leftValue === rightProto)&#123;
            return true;
        &#125;
        leftValue = leftValue.__proto__;
    &#125;
&#125;
function Foo()&#123;&#125;
console.log(new_instance_of(Foo,Object))//true
</code></pre>
<h3 id="11-promise-all"><a href="#11-promise-all" class="headerlink" title="11.promise.all"></a>11.promise.all</h3><pre><code class="javascript">Promise.prototype.all = function(promises)&#123;
    let results = [];
    let promiseCount = 0;
    let promisesLength = promises.length;
    return new Promise(function(resolve,reject)&#123;
        for(let val of promises)&#123;
            Promise.resolve(val).then(function(res)&#123;
                promiseCount++;
                results[i] = res;
                if(promiseCount === promisesLength)&#123;
                    return resolve(results);
                &#125;
            &#125;,function(err)&#123;
                return reject(err);
            &#125;)
        &#125;
    &#125;)
&#125;

let promise1 = new Promise(function(resolve) &#123;
    resolve(1);
  &#125;);
  let promise2 = new Promise(function(resolve) &#123;
    resolve(2);
  &#125;);
  let promise3 = new Promise(function(resolve) &#123;
    resolve(3);
  &#125;);
  
  let promiseAll = Promise.all([promise1, promise2, promise3]);
  promiseAll.then(function(res) &#123;
    console.log(res);
  &#125;);
</code></pre>
<h3 id="12-promise-race"><a href="#12-promise-race" class="headerlink" title="12.promise.race"></a>12.promise.race</h3><pre><code class="javascript">Promise.race = function(promises)&#123;
    //å°†å¯è¿­ä»£å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„
    promises = Array.from(promises);
    return new Promise((resolve,reject)=&gt;&#123;
        if(promises.length === 0)&#123;
            //ç©ºçš„å¯è¿­ä»£å¯¹è±¡ï¼Œç”¨äºpendingçŠ¶æ€
        &#125;else&#123;
            for(let i = 0;i &lt; promises.length;i++)&#123;
                Promise.resolve(promises[i]).then((data)=&gt;&#123;
                    resolve(data);
                &#125;).catch((reason)=&gt;&#123;
                    reject(reason)
                &#125;)
            &#125;
        &#125;
    &#125;)
&#125;

let p1 = new Promise(function(resolve,reject)&#123;
    setTimeout(function()&#123;
     resolve(&#39;success&#39;)
    &#125;,1000)
&#125;)

let p2 = new Promise(function(resolve,reject)&#123;
    setTimeout(function()&#123;
     resolve(&#39;faild&#39;)
    &#125;,500)
&#125;)

Promise.race([p1,p2]).then(result=&gt;&#123;
console.log(result)             //  faild    faildè€—æ—¶çŸ­
&#125;)
</code></pre>
]]></content>
      <categories>
        <category>æŠ€æœ¯é¢è¯•</category>
        <category>å‰ç«¯é¢è¯•å¤§å…¨ä¹‹æ‰‹å†™ä»£ç ä¸€</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯é¢è¯•å¤§å…¨ç½‘ç»œæ”»é˜²</title>
    <url>/2022/11/01/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%BD%91%E7%BB%9C%E6%94%BB%E9%98%B2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆç½‘ç»œæ”»é˜²ï¼‰"><a href="#å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆç½‘ç»œæ”»é˜²ï¼‰" class="headerlink" title="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆç½‘ç»œæ”»é˜²ï¼‰"></a>å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆç½‘ç»œæ”»é˜²ï¼‰</h1><p>å‰ç«¯é¢è¯•é¢˜ç±»ç›®åˆ†ç±»</p>
<ul>
<li>HTML5 + CSS3</li>
<li>JavaScript</li>
<li>Vue + Vue3</li>
<li>React</li>
<li>Webpack</li>
<li>æœåŠ¡ç«¯</li>
</ul>
<hr>
<p>è€ƒç‚¹é¢‘ç‡ ï¼šâ™¥ï¸ ã€ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸</p>
<h2 id="ç½‘ç»œæ”»é˜²"><a href="#ç½‘ç»œæ”»é˜²" class="headerlink" title="ç½‘ç»œæ”»é˜²"></a>ç½‘ç»œæ”»é˜²</h2><h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-XSSæ”»å‡»"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-XSSæ”»å‡»" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ XSSæ”»å‡»"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ XSSæ”»å‡»</h3><p><a href="https://tech.meituan.com/2018/09/27/fe-security.html">ç¾å›¢æŠ€æœ¯è°ˆXSSæ”»é˜²</a></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-CSRFæ”»å‡»"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-CSRFæ”»å‡»" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ CSRFæ”»å‡»"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ CSRFæ”»å‡»</h3><p><a href="https://tech.meituan.com/2018/10/11/fe-security-csrf.html">ç¾å›¢æŠ€æœ¯è°ˆCSRFæ”»å‡»</a></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-ä¸­é—´äººæ”»å‡»"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-ä¸­é—´äººæ”»å‡»" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ ä¸­é—´äººæ”»å‡»"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ ä¸­é—´äººæ”»å‡»</h3><p><a href="https://cloud.tencent.com/developer/article/1900287">ä¸­é—´äººæ”»å‡»</a></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-SQLæ³¨å…¥"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-SQLæ³¨å…¥" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ SQLæ³¨å…¥"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ SQLæ³¨å…¥</h3><p><a href="https://blog.csdn.net/github_36032947/article/details/78442189">ç†è§£SQLæ³¨å…¥</a></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-DDoSæ”»å‡»"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-DDoSæ”»å‡»" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ DDoSæ”»å‡»"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ DDoSæ”»å‡»</h3><p>DDoSæ”»å‡»â€”â€”å¸¸è§çš„å…·æœ‰ç ´åæ€§çš„å®‰å…¨æ€§é—®é¢˜(å¦‚æœæ˜¯åˆ†å¸ƒå¼æ”»å‡»çš„è¯å°±æ˜¯DDosæ”»å‡»)</p>
<p>æ”»å‡»æ–¹å¼ï¼šPing Floodæ”»å‡»å³åˆ©ç”¨pingå‘½ä»¤ä¸åœçš„å‘é€çš„æ•°æ®åŒ…åˆ°æœåŠ¡å™¨ã€‚</p>
<p><a href="https://www.cloudflare.com/zh-cn/learning/ddos/what-is-a-ddos-attack/">DDoSæ”»å‡» </a></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-DNSç¼“å­˜æ±¡æŸ“"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-DNSç¼“å­˜æ±¡æŸ“" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ DNSç¼“å­˜æ±¡æŸ“"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ DNSç¼“å­˜æ±¡æŸ“</h3><p>DNSç¼“å­˜æ±¡æŸ“â€”â€”å¸¸è§çš„ç½‘ç«™ä¸å¯è®¿é—®çš„é—®é¢˜</p>
<p>æ”»å‡»æ–¹å¼ï¼šç¬¬ä¸‰æ–¹å¯ä¿¡èµ–çš„åŸŸåæœåŠ¡å™¨ç¼“å­˜äº†ä¸€äº›DNSè§£æï¼Œä½†è¢«åˆ«äººåˆ¶é€ ä¸€äº›å‡åŸŸåæœåŠ¡å™¨å°åŒ…æ±¡æŸ“äº†ï¼ŒæŒ‡å‘é”™è¯¯ç½‘å€ã€‚</p>
]]></content>
      <categories>
        <category>æŠ€æœ¯é¢è¯•</category>
        <category>ç½‘ç»œæ”»å‡»</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•æ­å»ºä¸€ä¸ªè‡ªå·±çš„åšå®¢å¹³å°ï¼ˆgithub+hexoï¼‰</title>
    <url>/2022/08/27/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E5%B9%B3%E5%8F%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å¦‚ä½•æ­å»ºä¸€ä¸ªè‡ªå·±çš„åšå®¢å¹³å°ï¼ˆgithub-hexoï¼‰"><a href="#å¦‚ä½•æ­å»ºä¸€ä¸ªè‡ªå·±çš„åšå®¢å¹³å°ï¼ˆgithub-hexoï¼‰" class="headerlink" title="å¦‚ä½•æ­å»ºä¸€ä¸ªè‡ªå·±çš„åšå®¢å¹³å°ï¼ˆgithub+hexoï¼‰"></a>å¦‚ä½•æ­å»ºä¸€ä¸ªè‡ªå·±çš„åšå®¢å¹³å°ï¼ˆgithub+hexoï¼‰</h1><h2 id="ä¸€ã€ä¸‹è½½node-js"><a href="#ä¸€ã€ä¸‹è½½node-js" class="headerlink" title="ä¸€ã€ä¸‹è½½node.js"></a>ä¸€ã€ä¸‹è½½node.js</h2><p>ç›´æ¥åˆ°<a href="https://nodejs.org/zh-cn/">node.jså®˜ç½‘</a>ä¸‹è½½å°±å¯ä»¥äº†</p>
<h2 id="äºŒã€ä¸‹è½½cnpm"><a href="#äºŒã€ä¸‹è½½cnpm" class="headerlink" title="äºŒã€ä¸‹è½½cnpm"></a>äºŒã€ä¸‹è½½cnpm</h2><pre><code class="linux">//å¾—è¿›å…¥åˆ°ç®¡ç†å‘˜æƒé™ä¸­ï¼Œè¦ä¸ç„¶æƒé™ä¸å¤Ÿ
sudo su
//è¾“å…¥è‡ªå·±çš„å¯†ç å°±å¯ä»¥äº†
//ç„¶åæŸ¥çœ‹è‡ªå·±nodeæ˜¯å¦å®‰è£…æˆåŠŸ
node -v
npm -v
//åˆ©ç”¨npmä¸‹è½½cnpm
npm install -g cnpm 
//æŸ¥çœ‹cnpmæ˜¯å¦å®‰è£…æˆåŠŸ
cnpm -v
</code></pre>
<h2 id="ä¸‰ã€ä¸‹è½½hexoåšå®¢æ¡†æ¶"><a href="#ä¸‰ã€ä¸‹è½½hexoåšå®¢æ¡†æ¶" class="headerlink" title="ä¸‰ã€ä¸‹è½½hexoåšå®¢æ¡†æ¶"></a>ä¸‰ã€ä¸‹è½½hexoåšå®¢æ¡†æ¶</h2><pre><code class="linux">//åˆ©ç”¨cnpmæ¥ä¸‹è½½hexoæ¡†æ¶
cnpm install -g hexo-cli
//éªŒè¯hexoæ¡†æ¶æ˜¯å¦ä¸‹è½½
hexo -v
</code></pre>
<h2 id="å››ã€æ­å»ºhexoåšå®¢"><a href="#å››ã€æ­å»ºhexoåšå®¢" class="headerlink" title="å››ã€æ­å»ºhexoåšå®¢"></a>å››ã€æ­å»ºhexoåšå®¢</h2><h3 id="1-åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹blog"><a href="#1-åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹blog" class="headerlink" title="1.åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹blog"></a>1.åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹blog</h3><pre><code class="linux">mkdir blog
</code></pre>
<h3 id="2-è¿›å…¥blogæ–‡ä»¶å¤¹å¹¶ä¸”åˆå§‹åŒ–ä¸€hexoåšå®¢"><a href="#2-è¿›å…¥blogæ–‡ä»¶å¤¹å¹¶ä¸”åˆå§‹åŒ–ä¸€hexoåšå®¢" class="headerlink" title="2.è¿›å…¥blogæ–‡ä»¶å¤¹å¹¶ä¸”åˆå§‹åŒ–ä¸€hexoåšå®¢"></a>2.è¿›å…¥blogæ–‡ä»¶å¤¹å¹¶ä¸”åˆå§‹åŒ–ä¸€hexoåšå®¢</h3><pre><code class="linux">//1.è¿›å…¥blog
cd blog
//2.åˆå§‹åŒ–hexoåšå®¢
sudo hexo init
</code></pre>
<h3 id="3-åˆå§‹åŒ–å®Œæˆä¹‹åï¼Œé‚£ä¹ˆå°±å¯ä»¥å¯åŠ¨hexoåšå®¢è¿›è¡Œé¢„è§ˆäº†"><a href="#3-åˆå§‹åŒ–å®Œæˆä¹‹åï¼Œé‚£ä¹ˆå°±å¯ä»¥å¯åŠ¨hexoåšå®¢è¿›è¡Œé¢„è§ˆäº†" class="headerlink" title="3.åˆå§‹åŒ–å®Œæˆä¹‹åï¼Œé‚£ä¹ˆå°±å¯ä»¥å¯åŠ¨hexoåšå®¢è¿›è¡Œé¢„è§ˆäº†"></a>3.åˆå§‹åŒ–å®Œæˆä¹‹åï¼Œé‚£ä¹ˆå°±å¯ä»¥å¯åŠ¨hexoåšå®¢è¿›è¡Œé¢„è§ˆäº†</h3><pre><code class="linux">//å¯åŠ¨hexoåšå®¢
hexo s
//æµè§ˆå™¨æ‰“å¼€ http://localhost:4000/ ç«¯å£å·å°±å¯ä»¥äº†
</code></pre>
<p><img src="/2022/08/27/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E5%B9%B3%E5%8F%B0/image-20220826092046998.png"></p>
<h3 id="4-æ–°å»ºä¸€ç¯‡åšå®¢"><a href="#4-æ–°å»ºä¸€ç¯‡åšå®¢" class="headerlink" title="4.æ–°å»ºä¸€ç¯‡åšå®¢"></a>4.æ–°å»ºä¸€ç¯‡åšå®¢</h3><pre><code class="linux">//1.æ–°å»ºä¸€ç¯‡åšå®¢
hexo n &quot;æˆ‘çš„ç¬¬ä¸€ç¯‡hexoåšå®¢&quot;
//2.æ£€æµ‹åšå®¢æ˜¯å¦è¢«åˆ›å»º
//æŸ¥çœ‹å½“å‰è·¯å¾„
pwd 
//è¿›å…¥åšå®¢ç›®å½•æ–‡ä»¶å¤¹
cd source/_posts
//æŸ¥çœ‹æ–‡ä»¶
ls -l
</code></pre>
<p><img src="/2022/08/27/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E5%B9%B3%E5%8F%B0/image-20220826092538004.png"></p>
<h3 id="5-ç¼–è¾‘ç©ºç™½åšå®¢"><a href="#5-ç¼–è¾‘ç©ºç™½åšå®¢" class="headerlink" title="5.ç¼–è¾‘ç©ºç™½åšå®¢"></a>5.ç¼–è¾‘ç©ºç™½åšå®¢</h3><pre><code class="linux">//å¦‚æœå¤§å®¶ç†Ÿæ‚‰mdè¯­æ³•ï¼Œå°±å¯ä»¥åœ¨ç»ˆç«¯ç›´æ¥ç¼–å†™åšå®¢
vim +åšå®¢çš„åå­—
//ä¾‹å¦‚ vim æˆ‘çš„ç¬¬ä¸€ç¯‡hexoåšå®¢
//å¦‚æœå¤§å®¶ä¸ç†Ÿæ‚‰mdè¯­æ³•ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–å¯ç¼–è¾‘mdæ–‡ä»¶çš„å¿«æ·ç¼–è¾‘å™¨ã€‚ä¾‹å¦‚ï¼šTyporaç­‰
</code></pre>
<h3 id="6-ç”Ÿæˆhexoåšå®¢"><a href="#6-ç”Ÿæˆhexoåšå®¢" class="headerlink" title="6.ç”Ÿæˆhexoåšå®¢"></a>6.ç”Ÿæˆhexoåšå®¢</h3><pre><code class="linux//è¿”å›blogç›®å½•ï¼Œå½“å‰ç›®å½•ä¸ºsource/_posts">cd ../..
//æ¸…ç†ä¸€ä¸‹ç¼“å­˜
hexo clean
//ç„¶åç”Ÿæˆhexoåšå®¢
hexo g
</code></pre>
<p><img src="/2022/08/27/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E5%B9%B3%E5%8F%B0/image-20220826094128755.png"></p>
<h3 id="7-æŸ¥çœ‹hexoåšå®¢å†…å®¹æ˜¯å¦æ›´æ–°"><a href="#7-æŸ¥çœ‹hexoåšå®¢å†…å®¹æ˜¯å¦æ›´æ–°" class="headerlink" title="7.æŸ¥çœ‹hexoåšå®¢å†…å®¹æ˜¯å¦æ›´æ–°"></a>7.æŸ¥çœ‹hexoåšå®¢å†…å®¹æ˜¯å¦æ›´æ–°</h3><pre><code class="linux">//å¯åŠ¨åšå®¢
hexo s 
//æµè§ˆå™¨è¾“å…¥ç«¯å£å·
//åšå®¢æ›´æ–°æˆåŠŸ
//åˆ°ç›®å‰ä¸ºæ­¢ï¼Œhexoåšå®¢æœ¬åœ°éƒ¨ç½²å°±å®Œæˆäº†ï¼ŒåæœŸæˆ‘ä»¬å¯ä»¥é€šè¿‡æœ¬åœ°æ¥æµ‹è¯•å’Œä¿®æ”¹æˆ‘ä»¬å³å°†å‘å¸ƒè¿œç«¯çš„åšå®¢
</code></pre>
<h2 id="äº”ã€å°†æœ¬åœ°çš„åšå®¢éƒ¨ç½²åˆ°è¿œç«¯githubä¸Šé¢"><a href="#äº”ã€å°†æœ¬åœ°çš„åšå®¢éƒ¨ç½²åˆ°è¿œç«¯githubä¸Šé¢" class="headerlink" title="äº”ã€å°†æœ¬åœ°çš„åšå®¢éƒ¨ç½²åˆ°è¿œç«¯githubä¸Šé¢"></a>äº”ã€å°†æœ¬åœ°çš„åšå®¢éƒ¨ç½²åˆ°è¿œç«¯githubä¸Šé¢</h2><h3 id="1-åˆ›å»ºè‡ªå·±çš„githubä»“åº“"><a href="#1-åˆ›å»ºè‡ªå·±çš„githubä»“åº“" class="headerlink" title="1.åˆ›å»ºè‡ªå·±çš„githubä»“åº“"></a>1.åˆ›å»ºè‡ªå·±çš„githubä»“åº“</h3><p>ä»“åº“åœ°å€å¿…é¡»æ˜¯xxxx.github.io,è€Œä¸”xxxxå¿…é¡»æ˜¯å’Œä½ çš„ç”¨æˆ·åä¸€æ ·çš„ï¼Œå¦åˆ™è®¿é—®ä¸äº†ã€‚ä»¥åæˆ‘ä»¬åªéœ€è¦è®¿é—®è¿™ä¸ªåœ°å€å°±å¯ä»¥è®¿é—®æˆ‘ä»¬çš„åšå®¢äº†</p>
<p><img src="/2022/08/27/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E5%B9%B3%E5%8F%B0/image-20220826100648264.png"></p>
<h3 id="2-å®‰è£…ä¸€ä¸ªhexoçš„gitæ’ä»¶"><a href="#2-å®‰è£…ä¸€ä¸ªhexoçš„gitæ’ä»¶" class="headerlink" title="2.å®‰è£…ä¸€ä¸ªhexoçš„gitæ’ä»¶"></a>2.å®‰è£…ä¸€ä¸ªhexoçš„gitæ’ä»¶</h3><pre><code class="linux">cnpm install --save hexo-deployer-git
</code></pre>
<h3 id="3-é‡ç‚¹ï¼Œé…ç½®-config-yml"><a href="#3-é‡ç‚¹ï¼Œé…ç½®-config-yml" class="headerlink" title="3.!!!!é‡ç‚¹ï¼Œé…ç½®_config.yml"></a>3.!!!!é‡ç‚¹ï¼Œé…ç½®_config.yml</h3><pre><code class="linux">//æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶
ls
//é…ç½®_config.ymlæ–‡ä»¶
vim _config.yml
</code></pre>
<p><img src="/2022/08/27/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E5%B9%B3%E5%8F%B0/image-20220826101717108.png"></p>
<pre><code class="yml">//åœ¨é…ç½®æ–‡ä»¶çš„æœ€åº•éƒ¨deployé…ç½®
//repo:æ›¿æ¢æˆä½ è‡ªå·±çš„gitä»“åº“åœ°å€
deploy:
type: git
repo:https://github.com/mengfeng/mengfeng.github.io.git
branch:master
</code></pre>
<h3 id="4-é…ç½®å®Œæˆä¹‹åå°±å¯ä»¥éƒ¨ç½²äº†"><a href="#4-é…ç½®å®Œæˆä¹‹åå°±å¯ä»¥éƒ¨ç½²äº†" class="headerlink" title="4.é…ç½®å®Œæˆä¹‹åå°±å¯ä»¥éƒ¨ç½²äº†"></a>4.é…ç½®å®Œæˆä¹‹åå°±å¯ä»¥éƒ¨ç½²äº†</h3><pre><code class="linux">hexo d
</code></pre>
<h3 id="5-è¿™æ—¶å€™å¯èƒ½ä¼šå‡ºç°ä¸‹é¢çš„é—®é¢˜ï¼ˆæ²¡é—®é¢˜å¯ä»¥çœç•¥ï¼‰"><a href="#5-è¿™æ—¶å€™å¯èƒ½ä¼šå‡ºç°ä¸‹é¢çš„é—®é¢˜ï¼ˆæ²¡é—®é¢˜å¯ä»¥çœç•¥ï¼‰" class="headerlink" title="5.è¿™æ—¶å€™å¯èƒ½ä¼šå‡ºç°ä¸‹é¢çš„é—®é¢˜ï¼ˆæ²¡é—®é¢˜å¯ä»¥çœç•¥ï¼‰"></a>5.è¿™æ—¶å€™å¯èƒ½ä¼šå‡ºç°ä¸‹é¢çš„é—®é¢˜ï¼ˆæ²¡é—®é¢˜å¯ä»¥çœç•¥ï¼‰</h3><p><img src="/2022/08/27/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E5%B9%B3%E5%8F%B0/image-20220827093736440.png"></p>
<p>å‡ºç°è¿™ä¸ªé—®é¢˜çš„åŸå› åº”è¯¥æ˜¯ä½ ä½¿ç”¨äº†githubå¯†ç å»éƒ¨ç½²äº†ï¼Œåº”è¯¥ä½¿ç”¨å¯†é’¥å»éƒ¨ç½²ï¼Œå…·ä½“è¯·çœ‹ä¸‹é¢çš„åšä¸»ä»‹ç»</p>
<p><a href="https://zhuanlan.zhihu.com/p/401978754">åˆ›å»ºè‡ªå·±çš„å¯†é’¥éƒ¨ç½²</a></p>
<p><img src="/2022/08/27/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E5%B9%B3%E5%8F%B0/image-20220827094139470.png"></p>
<p>å‡ºç°ä¸Šå›¾çš„ç»“æœï¼Œé‚£ä¹ˆè¯´æ˜ä½ çš„hexoåšå®¢å·²ç»éƒ¨ç½²åˆ°äº†githubä¸Šé¢å»äº†,è®¿é—® xxxx.github.io å°±å¯ä»¥äº†ã€‚</p>
<h2 id="å…­ã€æ›¿æ¢åšå®¢ä¸»é¢˜"><a href="#å…­ã€æ›¿æ¢åšå®¢ä¸»é¢˜" class="headerlink" title="å…­ã€æ›¿æ¢åšå®¢ä¸»é¢˜"></a>å…­ã€æ›¿æ¢åšå®¢ä¸»é¢˜</h2><p>å› ä¸ºé»˜è®¤çš„ä¸»é¢˜å¯èƒ½æ²¡æœ‰é•¿åœ¨åšä¸»çš„å®¡ç¾ä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬æ¢ä¸€ä¸ªå¥½çœ‹ä¸€ç‚¹çš„ï¼Œè‡ªå·±å–œæ¬¢çš„åšå®¢ä¸»é¢˜ä¹Ÿæ˜¯å¯ä»¥æ»´ã€‚</p>
<h3 id="1-ä½ å¯ä»¥åœ¨HEXOå®˜ç½‘é€‰æ‹©ä½ å–œæ¬¢çš„åšå®¢ä¸»é¢˜"><a href="#1-ä½ å¯ä»¥åœ¨HEXOå®˜ç½‘é€‰æ‹©ä½ å–œæ¬¢çš„åšå®¢ä¸»é¢˜" class="headerlink" title="1.ä½ å¯ä»¥åœ¨HEXOå®˜ç½‘é€‰æ‹©ä½ å–œæ¬¢çš„åšå®¢ä¸»é¢˜"></a>1.ä½ å¯ä»¥åœ¨<a href="https://hexo.io/zh-cn/">HEXOå®˜ç½‘</a>é€‰æ‹©ä½ å–œæ¬¢çš„åšå®¢ä¸»é¢˜</h3><h3 id="2-æ›¿æ¢åšå®¢ä¸»é¢˜"><a href="#2-æ›¿æ¢åšå®¢ä¸»é¢˜" class="headerlink" title="2.æ›¿æ¢åšå®¢ä¸»é¢˜"></a>2.æ›¿æ¢åšå®¢ä¸»é¢˜</h3><p>æ‰€æœ‰çš„åšå®¢ä¸»é¢˜éƒ½å¯ä»¥åœ¨blog&#x2F;themesé‡Œé¢æ›¿æ¢</p>
<pre><code>//ä¸‹è½½åšå®¢æºç åˆ°themesæ–‡ä»¶ä¸­ï¼Œç”¨æˆ‘ç”¨çš„åšå®¢ä¸»é¢˜ä¸¾ä¾‹å§
git clone https://github.com/Shen-Yu/hexo-theme-ayer.git themes/ayer
//ä¿®æ”¹_config.ymlé…ç½® ayerä¸ºåšå®¢ä¸»é¢˜çš„åå­—
themeï¼šayer
//æƒ³è¦æ›´æ–°åšå®¢çš„è¯åªéœ€è¦
cd themes/ayer
git pull
//æœ€åé‡æ–°éƒ¨ç½²å°±å¯ä»¥äº†
hexo clean &amp;&amp; hexo g &amp;&amp; hexo d
</code></pre>
<p>åæœŸä¿®æ”¹åšå®¢é…ç½®è¯·çœ‹gitä»“åº“çš„é…ç½®ä»‹ç»</p>
]]></content>
      <categories>
        <category>å·¥ç¨‹æŠ€æœ¯</category>
        <category>æ­å»ºè‡ªå·±çš„hexoåšå®¢</category>
      </categories>
      <tags>
        <tag>å¼€å§‹</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•è®¾è®¡ä¸€ä¸ªç»„ä»¶</title>
    <url>/2022/12/09/%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E7%BB%84%E4%BB%B6/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å¦‚ä½•è®¾è®¡ä¸€ä¸ªç»„ä»¶"><a href="#å¦‚ä½•è®¾è®¡ä¸€ä¸ªç»„ä»¶" class="headerlink" title="å¦‚ä½•è®¾è®¡ä¸€ä¸ªç»„ä»¶"></a>å¦‚ä½•è®¾è®¡ä¸€ä¸ªç»„ä»¶</h1><blockquote>
<p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°ç°æœ‰ç»„ä»¶åº“æ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œéœ€è¦è‡ªå·±è®¾è®¡å’Œå®ç°ç»„ä»¶çš„æƒ…å†µã€‚é‚£ä¹ˆï¼Œå¦‚ä½•æ‰èƒ½è®¾è®¡ä¸€ä¸ªæ—¢æ»¡è¶³äº§å“éœ€æ±‚ï¼Œåˆæ˜“äºå¼€å‘äººå‘˜ä½¿ç”¨çš„ç»„ä»¶å‘¢ï¼Ÿæœ¬æ–‡å°±ä»¥ä¸€ä¸ªçº§è”ç»„ä»¶çš„è®¾è®¡ä¸ºä¾‹ï¼Œæ¢è®¨ä¸€ä¸‹å¦‚ä½•è®¾è®¡ä¸€ä¸ªä¼˜è´¨ç»„ä»¶ã€‚</p>
</blockquote>
<h2 id="ç»„ä»¶è®¾è®¡"><a href="#ç»„ä»¶è®¾è®¡" class="headerlink" title="ç»„ä»¶è®¾è®¡"></a>ç»„ä»¶è®¾è®¡</h2><h3 id="éœ€æ±‚åˆ†æ"><a href="#éœ€æ±‚åˆ†æ" class="headerlink" title="éœ€æ±‚åˆ†æ"></a>éœ€æ±‚åˆ†æ</h3><p>å¼€å‘è¿™ä¸ªç»„ä»¶çš„åŸå› æ˜¯æ¥è‡ªå·¥ä½œä¸­é‡åˆ°çš„ä¸€ä¸ªéœ€æ±‚ã€‚</p>
<p>äº§å“æå‡ºçš„ä¸šåŠ¡éœ€æ±‚æ˜¯å®ç°ä¸€ä¸ªåœ°åŒºçš„çº§è”é€‰æ‹©ï¼Œå¹¶ä¸”åº”è®¾è®¡å¸ˆè¦æ±‚ï¼Œä¸èƒ½ä½¿ç”¨ Ant Design çš„Cascader çº§è”é€‰æ‹©ï¼Œå› æ­¤éœ€è¦è‡ªå·±å®ç°ä¸€ä¸ªçº§è”é€‰æ‹©ã€‚</p>
<p>é€šå¸¸éœ€è¦ä» 4 ä¸ªè§’åº¦å¯¹éœ€æ±‚è¿›è¡Œåˆ†æï¼š</p>
<ol>
<li>ä¸šåŠ¡éœ€æ±‚è§’åº¦</li>
<li>UI è®¾è®¡è§’åº¦</li>
<li>å¼€å‘äººå‘˜è§’åº¦</li>
<li>ä¸å…¶ä»–ç»„ä»¶é…åˆè§’åº¦</li>
</ol>
<h4 id="ä¸šåŠ¡éœ€æ±‚è§’åº¦"><a href="#ä¸šåŠ¡éœ€æ±‚è§’åº¦" class="headerlink" title="ä¸šåŠ¡éœ€æ±‚è§’åº¦"></a>ä¸šåŠ¡éœ€æ±‚è§’åº¦</h4><p>åœ¨æ‹¿åˆ°ä¸€ä¸ªéœ€æ±‚ä¹‹åï¼Œæˆ‘ä»¬ä¸åº”å½“ç›´æ¥è€ƒè™‘å¦‚ä½•å®ç°ï¼Œè€Œè¦å…ˆæ€è€ƒä¸€ä¸‹ï¼Œè¿™ä¸ªéœ€æ±‚æ˜¯ä¸æ˜¯çœŸæ­£çš„éœ€æ±‚ã€‚æˆ–è€…è¯´ï¼Œè¿™ä¸ªéœ€æ±‚èƒŒåï¼Œæ˜¯å¦è¿˜æœ‰æ›´åŠ åŸºç¡€å’Œæ ¸å¿ƒçš„éœ€æ±‚ã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬æ‹¿åˆ°äº†ä¸€ä¸ª<strong>åœ°åŒºçº§è”é€‰æ‹©</strong>çš„éœ€æ±‚ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥<strong>ä»…ä»…å®ç°</strong>åœ°åŒºçº§è”é€‰æ‹©å—ï¼Ÿæˆ‘è®¤ä¸ºä¸æ˜¯çš„ï¼Œä»Šå¤©æˆ‘ä»¬æ‹¿åˆ°çš„æ˜¯åœ°åŒºé€‰æ‹©çš„éœ€æ±‚ï¼Œæ˜å¤©å°±å¯èƒ½å˜æˆèŒä¸šé€‰æ‹©ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬å®é™…éœ€è¦å®ç°çš„ï¼Œåº”è¯¥æ˜¯ä¸€ä¸ªæ”¯æŒ<strong>N çº§</strong>çš„çº§è”é€‰æ‹©æ¡†ã€‚</p>
<h4 id="UI-è®¾è®¡è§’åº¦"><a href="#UI-è®¾è®¡è§’åº¦" class="headerlink" title="UI è®¾è®¡è§’åº¦"></a>UI è®¾è®¡è§’åº¦</h4><p>æ—¢ç„¶å·²ç»ç¡®å®šäº†è¦å®ç° N çº§çº§è”é€‰æ‹©æ¡†ï¼Œå°±éœ€è¦è€ƒè™‘å…¶åœ¨å„ä¸ªå±å¹•å°ºå¯¸çš„å…¼å®¹æƒ…å†µï¼Œäºæ˜¯æˆ‘åœ¨ç»„ä»¶ä¸­å¼•å…¥äº† Grid æ …æ ¼ ã€‚å¹¶é»˜è®¤è®¾ç½®äº† 3 çº§çº§è”çš„æ ·å¼ï¼ŒåŒæ—¶ä¸ºä½¿ç”¨è€…æä¾›äº†ç›¸åº”çš„é…ç½®é€‰é¡¹ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="yaml">&lt;Cascade
  rowProps=&#123;&#123;
    gutter: 10,
  &#125;&#125;
  colProps=&#123;&#123;
    xs: 24,
    sm: 24,
    md: 8,
    lg: 8,
    xl: 8,
  &#125;&#125;
/&gt;
</code></pre>
<h4 id="å¼€å‘äººå‘˜è§’åº¦"><a href="#å¼€å‘äººå‘˜è§’åº¦" class="headerlink" title="å¼€å‘äººå‘˜è§’åº¦"></a>å¼€å‘äººå‘˜è§’åº¦</h4><p>æˆ‘ä»¬å¼€å‘çš„ç»„ä»¶ï¼Œä¸æ­¢ä¼šè¢«æˆ‘ä»¬çš„å›¢é˜Ÿæˆå‘˜ä½¿ç”¨ï¼Œç”šè‡³ä¼šå¼€æºç»™å…¶ä»–å¼€å‘è€…ä½¿ç”¨ã€‚é‚£ä¹ˆï¼Œæä¾›ç»™å¼€å‘è€…æ›´å¥½çš„ä½“éªŒå°±å°¤ä¸ºé‡è¦ã€‚</p>
<p>ä¸ºäº†èŠ‚çœå¼€å‘äººå‘˜çš„å­¦ä¹ æˆæœ¬ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ€è·¯è€ƒè™‘ï¼š</p>
<ol>
<li>åœ¨æ»¡è¶³åŸºæœ¬éœ€æ±‚çš„å‰æä¸‹ï¼Œæä¾›å°½é‡å°‘çš„ APIã€‚</li>
<li>ä¸º API é€‰é¡¹æä¾›å°½é‡å°‘çš„é…ç½®é¡¹ã€‚</li>
<li>ä¸ºä»£ç ï¼Œç‰¹åˆ«æ˜¯ API æä¾›å°½é‡å¥½çš„æ–‡æ¡£æˆ–æ³¨é‡Šã€‚</li>
</ol>
<p>å®šä¹‰çš„ <code>Cascade</code> ç»„ä»¶ <code>Props</code> ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="less">interface Props&lt;T&gt; &#123;
  cascadeKeys?: CascadeKeys; // è‡ªå®šä¹‰ dataSource ä¸­ value label children çš„å­—æ®µ
  value?: T[]; // æŒ‡å®šå½“å‰é€‰ä¸­çš„æ¡ç›®
  onChange?: (value: T[], level: number) =&gt; void; // é€‰ä¸­é€‰é¡¹æ—¶ï¼Œè°ƒç”¨æ­¤å‡½æ•°
  rowProps?: RowProps; // è¡Œæ’åˆ—æ–¹å¼ï¼Œå¯å‚è€ƒhttps://ant.design/components/grid-cn/
  colProps?: ColProps; // åˆ—æ’åˆ—æ–¹å¼
  loading?: boolean[]; // é€‰æ‹©æ¡†loadingè£…å¡«
  dataSource?: T[] | CascadeData&lt;T&gt; | T[][]; // å¯é€‰é¡¹æ•°æ®æº
&#125;
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ <code>Props</code> ä¸­åªæœ‰ <code>dataSource</code> æ˜¯å¿…é¡»çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ å¯¹é…ç½®é¡¹å¹¶ä¸äº†è§£ï¼Œç»„ä»¶ä¹Ÿåªéœ€è¦æœ€ç®€å•çš„é…ç½®ï¼Œå°±å¯ä»¥æ­£å¸¸å·¥ä½œäº†ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="ini">&lt;Cascade
  dataSource=&#123;pcaCascadeData&#125;
/&gt;
</code></pre>
<ol>
<li><p>åœ¨ä½¿ç”¨ TypeScript æ—¶ï¼Œè¿˜éœ€è¦ç‰¹åˆ«è€ƒè™‘ç±»å‹åŒ¹é…çš„é—®é¢˜ã€‚ä¾‹å¦‚å¯ä»¥åœ¨ä½¿ç”¨ç»„ä»¶æ—¶ï¼Œä¼ å…¥ä¸€ä¸ªç±»å‹ï¼Œå¹¶ä¸”åœ¨ <code>onChange</code> äº‹ä»¶ä¸­å¦‚æœä½¿ç”¨äº†å…¶ä»–ç±»å‹ï¼Œ TypeScript æ£€æŸ¥å°±ä¼šæç¤ºé”™è¯¯ï¼Œå¦‚ä¸‹é¢ä¾‹å­ä¸­çš„ <code>PCAItem</code> ã€‚</p>
<pre><code class="ini">&lt;Cascade&lt;PCAItem&gt;
  dataSource=&#123;pcaCascadeData&#125;
  cascadeKeys=&#123;pcaCascadeKeys&#125;
  onChange=&#123;async (value: PCAItem[], level: number) =&gt; &#123;
    setPCAData(value);
    setPCAIndex(level);
  &#125;&#125;
/&gt;
</code></pre>
</li>
<li><p>å¯¹äºçº§è”ç»„ä»¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘ dataSource çš„æ•°æ®æ¥æºå¯èƒ½æœ‰ä¸¤ç§ã€‚</p>
<ul>
<li>ç»„ä»¶åˆå§‹åŒ–æ—¶ï¼Œå°±ä¼ å…¥äº†æ‰€æœ‰çš„çº§è”æ•°æ®ï¼Œä¾‹å¦‚ çœ&#x2F;åœ°&#x2F;å¿&#x2F;ä¹¡å±‚çº§æ•°æ® ã€‚å¯¹åº” Demo ä¸­çš„â€œåŒæ­¥çº§è”æ•°æ®â€ï¼Œä»¥åŠ <code>Props</code> ä¸­ <code>dataSource</code> ç±»å‹å®šä¹‰çš„ <code>CascadeData&lt;T&gt; | T[][]</code> ã€‚<ul>
<li>åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œè™½ç„¶æ²¡æœ‰çº§è”é€‰æ‹©æ¡†å­˜åœ¨ï¼Œä½†ä¹Ÿéœ€è¦å¤„ç†æ ‘å½¢æ•°æ®ï¼ŒåŒ…æ‹¬æ•°æ®çš„æŸ¥è¯¢å’Œæ ¡éªŒç­‰åŠŸèƒ½ï¼Œå› æ­¤å°†è¯¥æ–¹æ³•å°è£…åˆ° <code>CascadeData</code> ç±»ä¸­ã€‚</li>
<li>è€ƒè™‘åˆ°æ ‘çš„æ•°æ®é‡å¯èƒ½éå¸¸åºå¤§ï¼Œå¦‚æœåœ¨æ¯æ¬¡é€‰æ‹©æ—¶éƒ½åœ¨æ ‘ä¸­æœç´¢æ•ˆç‡è¾ƒä½ã€‚å› æ­¤è®¾è®¡æˆåœ¨ç»„ä»¶åˆ›å»ºæ—¶ï¼Œç›´æ¥éå†æ ‘ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œç„¶åå°†æ¯ä¸ªå±‚çº§æ‰€æœ‰èŠ‚ç‚¹çš„æ•°æ®éƒ½å­˜å‚¨åœ¨ç›¸åº”çš„ <code>Map</code> ä¸­ï¼Œä¹‹åå°±èƒ½å¾ˆæ–¹ä¾¿åœ°æŸ¥è¯¢æ•°æ®ã€‚</li>
<li>è™½ç„¶åœ¨ç»„ä»¶åˆå§‹åŒ–æ—¶éå†æ‰€æœ‰èŠ‚ç‚¹æ¯”è¾ƒè€—æ—¶ï¼Œä½†è€ƒè™‘åˆ°ç”¨æˆ·ä»è¿›å…¥é¡µé¢åˆ°æ“ä½œç»„ä»¶æœ‰ä¸€å®šæ—¶é—´å·®ï¼Œå› æ­¤æˆ‘è®¤ä¸ºè¿™ä¸ªé—®é¢˜å¯ä»¥å¿½ç•¥ã€‚</li>
<li>åŸºäºä»¥ä¸Šè€ƒè™‘ï¼Œä½ åœ¨ <code>Props</code> ä¸­ <code>dataSource</code> ç±»å‹ä¸­çœ‹åˆ°çš„ <code>CascadeData&lt;T&gt;</code> ï¼Œå°±è¡¨ç¤ºç›´æ¥ä¼ å…¥äº†ä¸€ä¸ª <code>new CascadeData(treeData)</code> ã€‚è€Œ<code>T[][]</code>å°±è¡¨ç¤ºç›´æ¥ä¼ å…¥æ ‘å½¢æ•°æ®ï¼Œç”±ç»„ä»¶å†…éƒ¨è¿›è¡Œ <code>new CascadeData(treeData) </code> ã€‚</li>
</ul>
</li>
<li>ç»„ä»¶åˆå§‹åŒ–æ—¶ï¼Œåªä¼ å…¥äº†ç¬¬ä¸€çº§çš„é€‰é¡¹ï¼Œä¹‹åæ¯çº§çš„é€‰é¡¹é€šè¿‡å‰ä¸€çº§æ‰€é€‰æ‹©çš„å‚æ•°ï¼Œä»æœåŠ¡ç«¯è·å–ã€‚å¯¹åº” Demo ä¸­çš„â€œå¼‚æ­¥çº§è”æ•°æ®â€ï¼Œå¯¹åº” <code>dataSource</code> ç±»å‹ä¸­çš„ <code>T[]</code> ã€‚<ul>
<li>ç»„ä»¶åˆå§‹åŒ–æ—¶ï¼Œåªä¼ å…¥ç¬¬ä¸€çº§çš„æ•°æ®ï¼Œå…¶ä»–çº§åˆ«ä¼ å…¥ç©ºæ•°ç»„ï¼Œå¦‚ï¼š<code>[[&#123;&quot;code&quot;:110000,&quot;name&quot;:&quot;åŒ—äº¬å¸‚&quot;&#125;],[],[]]</code>ï¼Œç»„ä»¶ä¼šæ¸²æŸ“å‡º 3 å±‚çº§è”é€‰é¡¹ã€‚</li>
<li>å½“è¿›è¡Œé€‰æ‹©æ—¶ï¼Œéœ€è¦ä½¿ç”¨è€…é€šè¿‡ <code>onChange</code> äº‹ä»¶è‡ªè¡Œæ›´æ–°ä¸‹ä¸€çº§çš„æ•°æ®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç»„ä»¶å®Œå…¨æ”¾å¼ƒäº†å¯¹æ•°æ®çš„æ§åˆ¶ã€‚</li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 id="ä¸å…¶ä»–ç»„ä»¶é…åˆè§’åº¦"><a href="#ä¸å…¶ä»–ç»„ä»¶é…åˆè§’åº¦" class="headerlink" title="ä¸å…¶ä»–ç»„ä»¶é…åˆè§’åº¦"></a>ä¸å…¶ä»–ç»„ä»¶é…åˆè§’åº¦</h4><p>ç”±äºè¯¥ç»„ä»¶éœ€è¦ä¸ Ant Design å…¶ä»–ç»„ä»¶é…åˆä½¿ç”¨ï¼Œå¦‚å‰é¢è®¨è®ºè¿‡çš„ UI éƒ¨åˆ†ï¼Œè¯¥ç»„ä»¶å°±ç»“åˆäº† Grid æ …æ ¼ ç»„ä»¶ã€‚æ—¢ä¿è¯äº†è¯¥ç»„ä»¶åœ¨å„å±å¹•å®½åº¦ä¸‹æ­£å¸¸æ˜¾ç¤ºï¼Œåˆä¿è¯äº†ä¸å…¶ä»–ç»„ä»¶çš„æ˜¾ç¤ºä¸€è‡´ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜éœ€è¦è€ƒè™‘ä¸ Form è¡¨å• ç»„ä»¶çš„é…åˆï¼Œç‰¹åˆ«æ˜¯å…¼å®¹è¡¨å•æ ¡éªŒåŠŸèƒ½ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ¬æ–‡é€šè¿‡ä¸€ä¸ªçº§è”ç»„ä»¶çš„è®¾è®¡æ¡ˆä¾‹ï¼Œæ¢è®¨äº†å¦‚ä½•ä»å››ä¸ªè§’åº¦åˆ†æï¼Œè¿›è€Œè®¾è®¡ä¸€ä¸ªä¼˜ç§€çš„ç»„ä»¶ã€‚è¿™ 4 ä¸ªè§’åº¦åˆ†åˆ«æ˜¯ï¼š</p>
<ol>
<li>ä¸šåŠ¡éœ€æ±‚è§’åº¦</li>
<li>UI è®¾è®¡è§’åº¦</li>
<li>å¼€å‘äººå‘˜è§’åº¦</li>
<li>ä¸å…¶ä»–ç»„ä»¶é…åˆè§’åº¦</li>
</ol>
<p>æˆ‘è®¤ä¸ºå¾ˆå¤šæ—¶å€™ç»„ä»¶çš„è®¾è®¡å¹¶æ²¡æœ‰æœ€ä¼˜è§£ï¼Œæ€»æ˜¯éœ€è¦æ ¹æ®éœ€æ±‚åœ¨å„ç§æ–¹æ¡ˆä¸­å–èˆã€‚ä½†åªè¦æŒ‰ç…§æœ¬æ–‡æåˆ°çš„ 4 ä¸ªè§’åº¦è¿›è¡Œåˆ†æï¼Œå°±èƒ½è®¾è®¡å‡ºä¼˜ç§€çš„ç»„ä»¶ã€‚</p>
]]></content>
      <categories>
        <category>å·¥ç¨‹æŠ€æœ¯</category>
        <category>å¦‚ä½•è®¾è®¡ä¸€ä¸ªç»„ä»¶</category>
      </categories>
      <tags>
        <tag>ç»„ä»¶è®¾è®¡</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•ä¸Šä¼ npmåŒ…</title>
    <url>/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å¦‚ä½•ä¸Šä¼ è‡ªå·±çš„npmåŒ…"><a href="#å¦‚ä½•ä¸Šä¼ è‡ªå·±çš„npmåŒ…" class="headerlink" title="å¦‚ä½•ä¸Šä¼ è‡ªå·±çš„npmåŒ…"></a>å¦‚ä½•ä¸Šä¼ è‡ªå·±çš„npmåŒ…</h1><h3 id="ä¸€ã€åˆ›å»ºè‡ªå·±çš„npmè´¦å·"><a href="#ä¸€ã€åˆ›å»ºè‡ªå·±çš„npmè´¦å·" class="headerlink" title="ä¸€ã€åˆ›å»ºè‡ªå·±çš„npmè´¦å·"></a>ä¸€ã€åˆ›å»ºè‡ªå·±çš„npmè´¦å·</h3><p>[npmå®˜ç½‘]: 	â€œ<a href="https://www.npmjs.com/">https://www.npmjs.com/</a> â€œ</p>
<h3 id="äºŒã€åˆ›å»ºnpmåŒ…ç›®å½•"><a href="#äºŒã€åˆ›å»ºnpmåŒ…ç›®å½•" class="headerlink" title="äºŒã€åˆ›å»ºnpmåŒ…ç›®å½•"></a>äºŒã€åˆ›å»ºnpmåŒ…ç›®å½•</h3><pre><code class="ini">mkdir npm-me // åœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œnpm-meä¸ºåŒ…çš„ç›®å½•ï¼Œå¯ä»¥è‡ªå·±ä»»æ„å–å
cd npm-me // è¿›å…¥åŒ…ç›®å½•
</code></pre>
<h3 id="ä¸‰ã€-ç¼–å†™æ¨¡å—"><a href="#ä¸‰ã€-ç¼–å†™æ¨¡å—" class="headerlink" title="ä¸‰ã€ ç¼–å†™æ¨¡å—"></a>ä¸‰ã€ ç¼–å†™æ¨¡å—</h3><p>åœ¨npm-meç›®å½•ä¸‹åˆ›å»º ifYes.jsæ–‡ä»¶</p>
<pre><code class="javascript">//ifYes.js
exports.ifYes = function() &#123;
    return &quot;If you&#39;re late, your wages will be docked&quot;
&#125;
</code></pre>
<h3 id="å››ã€-åˆå§‹åŒ–åŒ…æè¿°æ–‡ä»¶"><a href="#å››ã€-åˆå§‹åŒ–åŒ…æè¿°æ–‡ä»¶" class="headerlink" title="å››ã€ åˆå§‹åŒ–åŒ…æè¿°æ–‡ä»¶"></a>å››ã€ åˆå§‹åŒ–åŒ…æè¿°æ–‡ä»¶</h3><pre><code class="ini">npm init //åˆå§‹åŒ–ä¼šç”Ÿæˆpackage.jsonæ–‡ä»¶
</code></pre>
<p>åˆå§‹åŒ–çš„è¿‡ç¨‹ä¼šå‡ºç°ä¸€ç³»åˆ—çš„é—®é¢˜ï¼Œæ ¹æ®æˆ‘ä»¬è‡ªå·±çš„æƒ…å†µå»é€‰æ‹©å°±å¯ä»¥ï¼Œå¦‚æœæ²¡æœ‰å…¶ä»–è¦æ±‚ï¼Œå›è½¦å°±å¯å“Ÿ</p>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110143318339.png"></p>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110143450471.png"></p>
<h3 id="äº”ã€æ³¨å†ŒåŒ…ä»“åº“è´¦å·"><a href="#äº”ã€æ³¨å†ŒåŒ…ä»“åº“è´¦å·" class="headerlink" title="äº”ã€æ³¨å†ŒåŒ…ä»“åº“è´¦å·"></a>äº”ã€æ³¨å†ŒåŒ…ä»“åº“è´¦å·</h3><pre><code class="ini">npm adduser
</code></pre>
<p>å½“ä½ æ²¡æœ‰åˆ›å»ºnpmè´¦æˆ·æˆ–è€…è¾“å…¥é”™è¯¯çš„è´¦æˆ·å’Œå¯†ç ï¼Œéƒ½ä¼šå‡ºç°ä¸‹é¢çš„error</p>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110143800873.png"></p>
<p>è¿™æ˜¯å¤„ç†æ­£ç¡®çš„ç»“æœï¼ˆç¡®è®¤çš„æ—¶å€™éœ€è¦æ¥æ”¶éªŒè¯ç ï¼šä¾‹30466554ï¼‰</p>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110144117450.png"></p>
<h3 id="å…­ã€ä¸Šä¼ åŒ…"><a href="#å…­ã€ä¸Šä¼ åŒ…" class="headerlink" title="å…­ã€ä¸Šä¼ åŒ…"></a>å…­ã€ä¸Šä¼ åŒ…</h3><pre><code class="ini">npm publish åŒ…æ–‡ä»¶å¤¹åå­— //ä¸Šä¼ npmå‘½ä»¤æ ¼å¼
</code></pre>
<p>1.ä¸ºäº†ä¸å‡ºç°npmå‘½åå†²çªï¼Œç¬¬ä¸€ä¸ªæ–¹æ³•æ˜¯åœ¨npmå®˜ç½‘æŸ¥ä¸€ä¸‹ï¼Œå¦‚æœé‡å¤å°±éœ€è¦é‡æ–°ä¿®æ”¹ä¸€ä¸‹ï¼ˆç°åœ¨æˆ‘çš„npmåŒ…å°±å†²çªäº†ï¼‰</p>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110144658634.png"></p>
<p>2.å½“ä½ ä¸Šä¼ npmåŒ…çš„æ—¶å€™å¯èƒ½æ‰ä¼šå‘ç°npmå‘½åå†²çª</p>
<pre><code class="ini">npm publish . //ä¸Šä¼ npmåŒ…
</code></pre>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110145002168.png"></p>
<p>ä¿®æ”¹åä¸Šä¼ </p>
<pre><code class="javascript">//package.json
&#123;
  &quot;name&quot;: &quot;alan-npm-me&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;If you&#39;re late, your wages will be docked&quot;,
  &quot;main&quot;: &quot;ifYes.js&quot;,
  &quot;scripts&quot;: &#123;
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  &#125;,
  &quot;keywords&quot;: [
    &quot;ifYes&quot;
  ],
  &quot;author&quot;: &quot;alan_mf&quot;,
  &quot;license&quot;: &quot;ISC&quot;
&#125;
</code></pre>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110145126857.png"></p>
<p>ä¸Šä¼ æˆåŠŸå•¦å•¦å•¦</p>
<p>npmè´¦æˆ·ä¸Šå¯ä»¥çœ‹åˆ°æˆ‘ä»¬ä¸Šä¼ çš„åŒ…</p>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110151414170.png"></p>
<h3 id="ä¸ƒã€-æ›´æ–°npmåŒ…"><a href="#ä¸ƒã€-æ›´æ–°npmåŒ…" class="headerlink" title="ä¸ƒã€ æ›´æ–°npmåŒ…"></a>ä¸ƒã€ æ›´æ–°npmåŒ…</h3><p>npmåŒ…ä¿®æ”¹åï¼Œæ‰‹åŠ¨æŠŠpackage.jsoné‡Œçš„versionç‰ˆæœ¬å·ä¿®æ”¹äº†ï¼Œæˆ–è€…ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è‡ªåŠ¨æ›´æ–°ç‰ˆæœ¬å·ï¼Œå†æ‰§è¡Œnpm publish . å‘½ä»¤å°±å¯ä»¥äº†ã€‚</p>
<ul>
<li>å‡çº§è¡¥ä¸ç‰ˆæœ¬å·(ä¿®æ”¹bug)ï¼šnpm version patch</li>
<li>å‡çº§å°ç‰ˆæœ¬å·(æ–°å¢åŠŸèƒ½)ï¼šnpm version minor</li>
<li>å‡çº§å¤§ç‰ˆæœ¬å·(è¾ƒå¤§æ”¹ç‰ˆ)ï¼šnpm version major</li>
</ul>
<pre><code class="ini">npm version patch //è¡¥ä¸
npm publish . //æ›´æ–°npmåŒ…
</code></pre>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110151715232.png"></p>
<p>æ›´æ–°æˆåŠŸç‰ˆæœ¬1.0.1</p>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110151928908.png"></p>
<h3 id="å…«ã€-å¯¹ä¸Šä¼ çš„npmè¿›è¡Œæµ‹è¯•"><a href="#å…«ã€-å¯¹ä¸Šä¼ çš„npmè¿›è¡Œæµ‹è¯•" class="headerlink" title="å…«ã€ å¯¹ä¸Šä¼ çš„npmè¿›è¡Œæµ‹è¯•"></a>å…«ã€ å¯¹ä¸Šä¼ çš„npmè¿›è¡Œæµ‹è¯•</h3><pre><code class="ini">mkdir npm-me-test //æ–°å»ºç›®å½•
cd  npm-me-test //è¿›å…¥ç›®å½•
</code></pre>
<p>ä¸‹è½½æˆ‘ä»¬ä¸Šä¼ çš„npmåŒ…</p>
<pre><code class="ini">npm init -y //åˆå§‹åŒ–ç”Ÿæˆpackage.jsonæ–‡ä»¶
npm install alan-npm-me -D
</code></pre>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110153117681.png"></p>
<p>åˆ›å»ºtest.jsæ–‡ä»¶å¹¶ç¼–å†™ä»£ç </p>
<pre><code class="javascript">//test.js
const demo = require(&#39;alan-npm-me&#39;);
const res = demo.ifYes();
console.log(res);
</code></pre>
<p><img src="/2022/11/10/%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0npm%E5%8C%85/image-20221110153427301.png"></p>
<p>ç›®å‰æˆ‘ä»¬æ‰€å¼€å‘çš„éƒ½æ˜¯å…±äº«çš„npmåŒ…ï¼Œå…·æœ‰ä¸€å®šçš„å®‰å…¨æ€§é£é™©ï¼Œå¦‚æœç”¨äºä¼ä¸šï¼Œå°±ä¼šå…·æœ‰ä¸€å®šçš„é£é™©ã€‚ä¼ä¸šçš„é™åˆ¶åœ¨äºï¼Œä¸€æ–¹é¢éœ€è¦äº«å—æ¨¡å—å¼€å‘å¸¦æ¥çš„ä½è€¦åˆå’Œé¡¹ç›®ç»„ç»‡ä¸Šçš„å¥½å¤„ï¼Œå¦ä¸€æ–¹é¢å´è¦è€ƒè™‘åˆ°æ¨¡å—ä¿å¯†æ€§çš„é—®é¢˜ã€‚æ‰€ä»¥ï¼Œé€šè¿‡NPMå…±äº«å’Œå‘å¸ƒå­˜åœ¨æ½œåœ¨çš„é£é™©ã€‚</p>
<p>ä¸ºäº†åŒæ—¶èƒ½å¤Ÿäº«å—åˆ°NPMä¸Šä¼—å¤šçš„åŒ…ï¼ŒåŒæ—¶å¯¹è‡ªå·±çš„åŒ…è¿›è¡Œä¿å¯†å’Œé™åˆ¶ï¼Œç°æœ‰çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ä¼ä¸šæ­å»ºè‡ªå·±çš„NPMä»“åº“ã€‚å±€åŸŸNPMä»“åº“çš„æ­å»ºæ–¹æ³•ä¸æ­å»ºé•œåƒç«™çš„æ–¹å¼å‡ ä¹ä¸€æ ·ï¼Œä¸é•œåƒä»“åº“ä¸åŒçš„åœ°æ–¹åœ¨äºï¼Œä¼ä¸šå±€åŸŸNPMå¯ä»¥é€‰æ‹©ä¸åŒæ­¥å®˜æ–¹æºä»“åº“ä¸­çš„åŒ…ï¼Œå³ä¼ä¸šå¯æ··åˆä½¿ç”¨å®˜æ–¹ä»“åº“å’Œå±€åŸŸä»“åº“ã€‚</p>
<p>å¯¹äºä¼ä¸šå†…éƒ¨è€Œè¨€ï¼Œç§æœ‰çš„å¯é‡ç”¨æ¨¡å—å¯ä»¥æ‰“åŒ…åˆ°å±€åŸŸNPMä»“åº“ä¸­ï¼Œè¿™æ ·å¯ä»¥ä¿æŒæ›´æ–°çš„ä¸­å¿ƒåŒ–ï¼Œä¸è‡³äºè®©å„ä¸ªå°é¡¹ç›®å„è‡ªç»´æŠ¤ç›¸åŒåŠŸèƒ½çš„æ¨¡å—ï¼Œæœç»é€šè¿‡å¤åˆ¶ç²˜è´´å®ç°ä»£ç å…±äº«çš„è¡Œä¸ºã€‚</p>
<p>é“¾æ¥ï¼š</p>
<p>[npmå®˜ç½‘]: 	â€œ<a href="https://www.npmjs.com/">https://www.npmjs.com/</a> â€œ</p>
]]></content>
      <categories>
        <category>npm&amp;yarn</category>
        <category>ä¸Šä¼ è‡ªå·±çš„npmåŒ…</category>
      </categories>
      <tags>
        <tag>npm</tag>
      </tags>
  </entry>
  <entry>
    <title>å¾®ä¿¡å…¬ä¼—æµ‹è¯•å·æµªæ¼«æ—©å®‰</title>
    <url>/2022/10/10/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E6%B5%8B%E8%AF%95%E5%8F%B7%E6%B5%AA%E6%BC%AB%E6%97%A9%E5%AE%89/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="å¾®ä¿¡å…¬ä¼—æµ‹è¯•å·æµªæ¼«æ—©å®‰ï¼ˆå…¬ä¼—å·ï¼‰"><a href="#å¾®ä¿¡å…¬ä¼—æµ‹è¯•å·æµªæ¼«æ—©å®‰ï¼ˆå…¬ä¼—å·ï¼‰" class="headerlink" title="å¾®ä¿¡å…¬ä¼—æµ‹è¯•å·æµªæ¼«æ—©å®‰ï¼ˆå…¬ä¼—å·ï¼‰"></a>å¾®ä¿¡å…¬ä¼—æµ‹è¯•å·æµªæ¼«æ—©å®‰ï¼ˆå…¬ä¼—å·ï¼‰</h2><p>å»å…¬ä¼—å·æŸ¥çœ‹å§ï¼Œå˜¿å˜¿<br>æµªæ¼«ä¸ä½ åŒåœ¨<br>å‹‡æ•¢çš„å°‘å¹´</p>
<p><a href="https://mp.weixin.qq.com/s?__biz=Mzg4OTg0NDY0Ng==&amp;mid=2247483683&amp;idx=1&amp;sn=06dc7ea6b771925d6fe70d67b21d67a9&amp;chksm=cfe4e7eaf8936efcb39dfdfce911f6b530a665040a98c4c740bc0099f70caa1c25a549fe0678#rd">https://mp.weixin.qq.com/s?__biz=Mzg4OTg0NDY0Ng==&amp;mid=2247483683&amp;idx=1&amp;sn=06dc7ea6b771925d6fe70d67b21d67a9&amp;chksm=cfe4e7eaf8936efcb39dfdfce911f6b530a665040a98c4c740bc0099f70caa1c25a549fe0678#rd</a></p>
]]></content>
      <categories>
        <category>è¶£å‘³æŠ€æœ¯</category>
        <category>æµªæ¼«æ—©å®‰</category>
      </categories>
      <tags>
        <tag>demo</tag>
      </tags>
  </entry>
  <entry>
    <title>æ­å»ºç§æœ‰çš„npmä»“åº“</title>
    <url>/2022/11/12/%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E7%9A%84npm%E4%BB%93%E5%BA%93/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="ä½¿ç”¨dockerå’Œverdaccioæ­å»ºnpmç§æœ‰åº“"><a href="#ä½¿ç”¨dockerå’Œverdaccioæ­å»ºnpmç§æœ‰åº“" class="headerlink" title="ä½¿ç”¨dockerå’Œverdaccioæ­å»ºnpmç§æœ‰åº“"></a>ä½¿ç”¨dockerå’Œverdaccioæ­å»ºnpmç§æœ‰åº“</h1><p>æœ¬æ–‡ç« dockerç¯å¢ƒä¸ºmacos</p>
<h3 id="1-ä½¿ç”¨-docker-é•œåƒå®‰è£…verdaccio"><a href="#1-ä½¿ç”¨-docker-é•œåƒå®‰è£…verdaccio" class="headerlink" title="1.ä½¿ç”¨ docker é•œåƒå®‰è£…verdaccio"></a>1.ä½¿ç”¨ docker é•œåƒå®‰è£…verdaccio</h3><pre><code class="ini">docker pull verdaccio/verdaccio //å®‰è£…verdaccioé•œåƒ
</code></pre>
<h3 id="2-å¯åŠ¨ç«¯å£æ˜ å°„verdaccioå®¹å™¨"><a href="#2-å¯åŠ¨ç«¯å£æ˜ å°„verdaccioå®¹å™¨" class="headerlink" title="2.å¯åŠ¨ç«¯å£æ˜ å°„verdaccioå®¹å™¨"></a>2.å¯åŠ¨ç«¯å£æ˜ å°„verdaccioå®¹å™¨</h3><pre><code class="ini">docker run -it --name verdaccio -p 4873:4873 verdaccio/verdaccio //è¿è¡Œ verdaccioï¼Œä½¿ç”¨ docker å‘½ä»¤è¿è¡Œé•œåƒï¼Œåˆ›å»º verdaccio å®¹å™¨ ï¼Œç«¯å£4873
</code></pre>
<p><img src="/2022/11/12/%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E7%9A%84npm%E4%BB%93%E5%BA%93/image-20221112095140709.png"></p>
<h3 id="3-ç§æœ‰éƒ¨ç½²npmä»“åº“æˆåŠŸ"><a href="#3-ç§æœ‰éƒ¨ç½²npmä»“åº“æˆåŠŸ" class="headerlink" title="3.ç§æœ‰éƒ¨ç½²npmä»“åº“æˆåŠŸ"></a>3.ç§æœ‰éƒ¨ç½²npmä»“åº“æˆåŠŸ</h3><p>è®¿é—®<a href="http://localhost:4873/">http://localhost:4873/</a></p>
<p><img src="/2022/11/12/%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E7%9A%84npm%E4%BB%93%E5%BA%93/image-20221112095258155.png"></p>
<p><img src="/2022/11/12/%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E7%9A%84npm%E4%BB%93%E5%BA%93/image-20221112095230480.png"></p>
<h3 id="4-æ·»åŠ æƒé™ç”¨æˆ·"><a href="#4-æ·»åŠ æƒé™ç”¨æˆ·" class="headerlink" title="4.æ·»åŠ æƒé™ç”¨æˆ·"></a>4.æ·»åŠ æƒé™ç”¨æˆ·</h3><pre><code class="ini">npm adduser --registry http://localhost:4873/ //æ ¹æ®æç¤ºæ·»åŠ ç”¨æˆ·
</code></pre>
<p><img src="/2022/11/12/%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E7%9A%84npm%E4%BB%93%E5%BA%93/image-20221112095338495.png"></p>
<h3 id="5-ç™»é™†"><a href="#5-ç™»é™†" class="headerlink" title="5.ç™»é™†"></a>5.ç™»é™†</h3><p><img src="/2022/11/12/%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E7%9A%84npm%E4%BB%93%E5%BA%93/image-20221112095621194.png"></p>
<h3 id="6-å‘å¸ƒnpmåŒ…"><a href="#6-å‘å¸ƒnpmåŒ…" class="headerlink" title="6.å‘å¸ƒnpmåŒ…"></a>6.å‘å¸ƒnpmåŒ…</h3><p>å½“æˆ‘ä»¬çš„ç§æœ‰ä»“åº“æ­å»ºå¥½ä¹‹åï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å‘ä»“åº“å‘å¸ƒnpmåŒ…äº†ï¼Œåˆ°æˆ‘ä»¬npmåŒ…ç›®å½•ä¸‹ä¸Šä¼ å°±å¯ä»¥äº†</p>
<pre><code class="css">1.åˆ›å»ºnpm-meåŒ…ç›®å½•
2.npm init åˆå§‹åŒ–ç›®å½•
3.ç¼–å†™åŠŸèƒ½æ–‡ä»¶
4.å¦‚æœæ˜¯æ”¹ç‰ˆå‘å¸ƒï¼Œæ›´æ–°ç‰ˆæœ¬å·
5.ç™»é™†ç§æœ‰ä»“åº“
6.å‘ç§æœ‰ä»“åº“å‘å¸ƒnpmåŒ…
</code></pre>
<pre><code class="javascript">//ifYes.js
exports.ifYes = function() &#123;
    return &quot;If you&#39;re late, your wages will be docked version newï¼ˆregistryï¼‰&quot;
&#125;
</code></pre>
<pre><code class="json">//package.json
&#123;
  &quot;name&quot;: &quot;alan-npm-me&quot;,
  &quot;version&quot;: &quot;1.0.3&quot;,
  &quot;description&quot;: &quot;If you&#39;re late, your wages will be docked&quot;,
  &quot;main&quot;: &quot;ifYes.js&quot;,
  &quot;scripts&quot;: &#123;
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  &#125;,
  &quot;keywords&quot;: [
    &quot;ifYes&quot;
  ],
  &quot;author&quot;: &quot;alan_mf&quot;,
  &quot;license&quot;: &quot;ISC&quot;
&#125;
</code></pre>
<pre><code class="ini">npm version patch  //è¡¥ä¸ç‰ˆæœ¬æ›´æ–°
</code></pre>
<p><img src="/2022/11/12/%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E7%9A%84npm%E4%BB%93%E5%BA%93/image-20221112101529827.png"></p>
<pre><code class="ini">npm-me % npm publish --registry http://localhost:4873/ //å‘å¸ƒ
</code></pre>
<p><img src="/2022/11/12/%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E7%9A%84npm%E4%BB%93%E5%BA%93/image-20221112102102928.png"></p>
<p>è¿™æ—¶å€™åˆ·æ–°æˆ‘ä»¬çš„ç§æœ‰ä»“åº“é¡µé¢å°±å¯ä»¥çœ‹åˆ°äº†<a href="http://localhost:4873/">http://localhost:4873/</a></p>
<p><img src="/2022/11/12/%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E7%9A%84npm%E4%BB%93%E5%BA%93/image-20221112102228314.png"></p>
<h3 id="7-ä¸‹è½½ç§æœ‰ä»“åº“çš„åŒ…"><a href="#7-ä¸‹è½½ç§æœ‰ä»“åº“çš„åŒ…" class="headerlink" title="7.ä¸‹è½½ç§æœ‰ä»“åº“çš„åŒ…"></a>7.ä¸‹è½½ç§æœ‰ä»“åº“çš„åŒ…</h3><pre><code class="css">1.åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ç›®å½•
2.åˆå§‹åŒ– npm init -y
3.ç¼–è¾‘æµ‹è¯•ä»£ç 
4. npm install --registry http://localhost:4873 alan-npm-me //ä¸‹è½½ç§æœ‰ä»“åº“npmåŒ…
5.æ‰§è¡Œæµ‹è¯•ä»£ç 
</code></pre>
<p><img src="/2022/11/12/%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E7%9A%84npm%E4%BB%93%E5%BA%93/image-20221112105324344.png"></p>
<h3 id="8-ä¿®æ”¹verdaccioæƒé™"><a href="#8-ä¿®æ”¹verdaccioæƒé™" class="headerlink" title="8.ä¿®æ”¹verdaccioæƒé™"></a>8.ä¿®æ”¹verdaccioæƒé™</h3><p>å› ä¸ºæˆ‘æ˜¯dockerå®‰è£…çš„verdaccioï¼Œæ‰€ä»¥æŸ¥æ‰¾é…ç½®æ–‡ä»¶è·¯å¾„æ˜¯è¿™æ ·çš„</p>
<pre><code class="ini">1. docker exec --user root -it verdaccio sh
2. cd /verdaccio
3. cd conf
4. vi config.yaml
</code></pre>
<p><img src="/2022/11/12/%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E7%9A%84npm%E4%BB%93%E5%BA%93/image-20221112125337815.png"></p>
<p><img src="/2022/11/12/%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E7%9A%84npm%E4%BB%93%E5%BA%93/image-20221112125352787.png"></p>
<p>é‡Œé¢å°±å¯ä»¥é…ç½®ä½ ä»¬çš„æ–‡ä»¶äº†ï¼Œé‡å¯å®¹å™¨å°±ç”Ÿæ•ˆäº†</p>
]]></content>
      <categories>
        <category>npm&amp;yarn</category>
        <category>æ­å»ºç§æœ‰çš„npmä»“åº“</category>
      </categories>
      <tags>
        <tag>npm</tag>
      </tags>
  </entry>
  <entry>
    <title>å®å¡”Linuxéƒ¨ç½²</title>
    <url>/2022/11/15/%E5%AE%9D%E5%A1%94Linux%E9%83%A8%E7%BD%B2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å®å¡”Linuxéƒ¨ç½²"><a href="#å®å¡”Linuxéƒ¨ç½²" class="headerlink" title="å®å¡”Linuxéƒ¨ç½²"></a>å®å¡”Linuxéƒ¨ç½²</h1><h3 id="ä¸€ã€è´­ä¹°äº‘æœåŠ¡å™¨"><a href="#ä¸€ã€è´­ä¹°äº‘æœåŠ¡å™¨" class="headerlink" title="ä¸€ã€è´­ä¹°äº‘æœåŠ¡å™¨"></a>ä¸€ã€è´­ä¹°äº‘æœåŠ¡å™¨</h3><p>[é˜¿é‡Œäº‘å®˜ç½‘]: 	â€œ<a href="https://cn.aliyun.com/?from_alibabacloud=&amp;utm_content=se_1013083955">https://cn.aliyun.com/?from_alibabacloud=&amp;utm_content=se_1013083955</a> â€œ</p>
<p><img src="/2022/11/15/%E5%AE%9D%E5%A1%94Linux%E9%83%A8%E7%BD%B2/image-20221115100233843.png"></p>
<p><img src="/2022/11/15/%E5%AE%9D%E5%A1%94Linux%E9%83%A8%E7%BD%B2/image-20221115100305806.png"></p>
<p><img src="/2022/11/15/%E5%AE%9D%E5%A1%94Linux%E9%83%A8%E7%BD%B2/image-20221115100353042.png"></p>
<p>å½“æˆ‘è´­ä¹°äº†äº‘æœåŠ¡å™¨ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥ç™»é™†æˆ‘ä»¬çš„æœåŠ¡å™¨å»ä¸‹è½½macçš„å®å¡”é¢æ¿ï¼ˆé€šè¿‡å¤–ç½‘åœ°å€è®¿é—®æµè§ˆå™¨ï¼‰</p>
<h3 id="äºŒã€ç™»é™†äº‘æœåŠ¡å™¨"><a href="#äºŒã€ç™»é™†äº‘æœåŠ¡å™¨" class="headerlink" title="äºŒã€ç™»é™†äº‘æœåŠ¡å™¨"></a>äºŒã€ç™»é™†äº‘æœåŠ¡å™¨</h3><p>åˆå§‹åŒ–ï¼ˆé‡ç½®ï¼‰å®ä¾‹å¯†ç </p>
<p><img src="/2022/11/15/%E5%AE%9D%E5%A1%94Linux%E9%83%A8%E7%BD%B2/image-20221115101533088.png"></p>
<p>è¾“å…¥Passwordå¯†ç å’Œå®ä¾‹å¯†ç </p>
<p><img src="/2022/11/15/%E5%AE%9D%E5%A1%94Linux%E9%83%A8%E7%BD%B2/image-20221115100757824.png"></p>
<h3 id="ä¸‰ã€å®‰è£…å®å¡”"><a href="#ä¸‰ã€å®‰è£…å®å¡”" class="headerlink" title="ä¸‰ã€å®‰è£…å®å¡”"></a>ä¸‰ã€å®‰è£…å®å¡”</h3><p>ç„¶åå¯ä»¥çœ‹åˆ°å·²ç»è¿›äº†æœåŠ¡å™¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹å®‰è£…äº†</p>
<pre><code class="php">yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh fa1f2600
</code></pre>
<p>ç¨ç­‰ç‰‡åˆ»åï¼Œè¾“å…¥â€œyâ€ç»§ç»­</p>
<p>ä¸‹è½½æˆåŠŸä¹‹åï¼Œå°±ä¼šå‡ºç°è´¦æˆ·å’Œå¯†ç å’Œè®¿é—®åœ°å€</p>
<p>æˆ‘ä»¬é€šè¿‡å¤–ç½‘é¢æ¿åœ°å€è®¿é—®</p>
<p><img src="/2022/11/15/%E5%AE%9D%E5%A1%94Linux%E9%83%A8%E7%BD%B2/image-20221115101323474.png"></p>
<p>å¦‚æœç°åœ¨æ— æ³•è®¿é—®çš„è¯ï¼Œå°±å»é˜¿é‡Œäº‘æœåŠ¡å™¨å®ä¾‹å®‰å…¨ç»„æ·»åŠ æç¤ºç«¯å£</p>
<p><img src="/2022/11/15/%E5%AE%9D%E5%A1%94Linux%E9%83%A8%E7%BD%B2/image-20221115101750883.png"></p>
<p><img src="/2022/11/15/%E5%AE%9D%E5%A1%94Linux%E9%83%A8%E7%BD%B2/image-20221115101826756.png"></p>
<p>ç°åœ¨åº”è¯¥å¯ä»¥è®¿é—®äº†ï¼Œå¦‚æœè¿˜ä¸è¡Œå°±æ·»åŠ 8888ç«¯å£</p>
<h3 id="å››ã€é…ç½®å®å¡”"><a href="#å››ã€é…ç½®å®å¡”" class="headerlink" title="å››ã€é…ç½®å®å¡”"></a>å››ã€é…ç½®å®å¡”</h3><p>å½“æˆ‘ä»¬è®¿é—®æˆåŠŸï¼Œæ ¹æ®æç¤ºå®‰è£…å®å¡”é¢æ¿æ‰€éœ€è¦çš„åˆ›å»ºå°±å¯ä»¥äº†</p>
<p><img src="/2022/11/15/%E5%AE%9D%E5%A1%94Linux%E9%83%A8%E7%BD%B2/image-20221115102042938.png"></p>
<p>å¦‚æœæˆ‘ä»¬ä¸‹è½½æ’ä»¶æ—¶é—´è¿‡é•¿ï¼Œé‡å¯å®å¡”é¢æ¿</p>
<h3 id="äº”ã€åˆ›å»ºç«™ç‚¹"><a href="#äº”ã€åˆ›å»ºç«™ç‚¹" class="headerlink" title="äº”ã€åˆ›å»ºç«™ç‚¹"></a>äº”ã€åˆ›å»ºç«™ç‚¹</h3><p>æˆ‘ä»¬æ¥åˆ›å»ºæˆ‘ä»¬ç¬¬ä¸€ä¸ªç«™ç‚¹</p>
<p><img src="/2022/11/15/%E5%AE%9D%E5%A1%94Linux%E9%83%A8%E7%BD%B2/image-20221115102605290.png"></p>
<p>æäº¤çš„æ—¶å€™æˆ‘ä»¬å¯èƒ½é‡è§ä¸‹é¢çš„æç¤ºï¼Œé…ç½®é”™è¯¯</p>
<pre><code class="ini">nginx: [emerg] open() &quot;/www/server/nginx/conf/enable-php.conf&quot; failed (2: No such file or directory) in /www/server/nginx/conf/nginx.conf:79 nginx: configuration file /www/server/nginx/conf/nginx.conf test failed
</code></pre>
<p>æœ‰ä¸€ä¸ªæœ€ç®€å•çš„æ–¹æ¡ˆå°±æ˜¯ï¼Œæ›¿æ¢nginx çš„ç‰ˆæœ¬ï¼Œæ¢ä¸€ä¸ªæ›´ä½ä¸€ç‚¹çš„ç‰ˆæœ¬</p>
<p><img src="/2022/11/15/%E5%AE%9D%E5%A1%94Linux%E9%83%A8%E7%BD%B2/image-20221115102833852.png"></p>
<p>é‡å¯å®å¡”é¢æ¿å°±å¯ä»¥äº†</p>
<p><img src="/2022/11/15/%E5%AE%9D%E5%A1%94Linux%E9%83%A8%E7%BD%B2/image-20221115102931757.png"></p>
<h3 id="å…­ã€ä¸Šä¼ ç«™ç‚¹éƒ¨ç½²æ–‡ä»¶"><a href="#å…­ã€ä¸Šä¼ ç«™ç‚¹éƒ¨ç½²æ–‡ä»¶" class="headerlink" title="å…­ã€ä¸Šä¼ ç«™ç‚¹éƒ¨ç½²æ–‡ä»¶"></a>å…­ã€ä¸Šä¼ ç«™ç‚¹éƒ¨ç½²æ–‡ä»¶</h3><p>é€‰æ‹©è¦ä¸Šä¼ æ–‡ä»¶çš„ç«™ç‚¹</p>
<p><img src="/2022/11/15/%E5%AE%9D%E5%A1%94Linux%E9%83%A8%E7%BD%B2/image-20221115103700868.png"></p>
<p>é€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶ï¼Œå¯ä»¥æ‹–æ‹½</p>
<p><img src="/2022/11/15/%E5%AE%9D%E5%A1%94Linux%E9%83%A8%E7%BD%B2/image-20221115103850298.png"></p>
<p><img src="/2022/11/15/%E5%AE%9D%E5%A1%94Linux%E9%83%A8%E7%BD%B2/image-20221115104445278.png"></p>
<p>é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨è®¿é—®ç½‘ç«™å°±å¯ä»¥äº†</p>
<p>å¦‚æœè¿˜æ˜¯è®¿é—®ä¸åˆ°çš„è¯ï¼ˆé˜¿é‡Œäº‘è´­ä¹°çš„åŸŸåï¼‰ï¼Œå»ºè®®å…ˆè¿›è¡Œå¤‡æ¡ˆï¼Œç„¶åå†éƒ¨ç½²ç½‘ç«™</p>
<p><img src="/2022/11/15/%E5%AE%9D%E5%A1%94Linux%E9%83%A8%E7%BD%B2/image-20221115132138765.png"></p>
]]></content>
      <categories>
        <category>CI/CD</category>
        <category>å®å¡”Linuxéƒ¨ç½²</category>
      </categories>
      <tags>
        <tag>CD</tag>
      </tags>
  </entry>
  <entry>
    <title>ç§‹å¤©çš„ç¬¬ä¸€ä¸ªçƒ¤çº¢è–¯</title>
    <url>/2022/10/31/%E7%A7%8B%E5%A4%A9%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%83%A4%E7%BA%A2%E8%96%AF/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="ç§‹å¤©çš„ç¬¬ä¸€ä¸ªçƒ¤çº¢è–¯"><a href="#ç§‹å¤©çš„ç¬¬ä¸€ä¸ªçƒ¤çº¢è–¯" class="headerlink" title="ç§‹å¤©çš„ç¬¬ä¸€ä¸ªçƒ¤çº¢è–¯"></a>ç§‹å¤©çš„ç¬¬ä¸€ä¸ªçƒ¤çº¢è–¯</h1><h2 id="ç¾ä¸½çš„ä¸åªæ˜¯é£æ™¯"><a href="#ç¾ä¸½çš„ä¸åªæ˜¯é£æ™¯" class="headerlink" title="ç¾ä¸½çš„ä¸åªæ˜¯é£æ™¯"></a>ç¾ä¸½çš„ä¸åªæ˜¯é£æ™¯</h2><p><img src="/2022/10/31/%E7%A7%8B%E5%A4%A9%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%83%A4%E7%BA%A2%E8%96%AF/IMG_20220923_174805.jpg"></p>
]]></content>
      <categories>
        <category>æ—…è¡Œ</category>
        <category>ç§‹å¤©</category>
      </categories>
      <tags>
        <tag>æ—…è¡Œ</tag>
        <tag>ç§‹å¤©</tag>
        <tag>å­£èŠ‚</tag>
      </tags>
  </entry>
  <entry>
    <title>è¡¨ç™½çˆ±å¿ƒbiu</title>
    <url>/2022/11/11/%E8%A1%A8%E7%99%BD%E7%88%B1%E5%BF%83biu/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="çˆ±å¿ƒä»£ç ï¼ˆcanvasï¼‰"><a href="#çˆ±å¿ƒä»£ç ï¼ˆcanvasï¼‰" class="headerlink" title="çˆ±å¿ƒä»£ç ï¼ˆcanvasï¼‰"></a>çˆ±å¿ƒä»£ç ï¼ˆcanvasï¼‰</h1><p>æ¯å¤©æµªæ¼«ä¸€ç‚¹ç‚¹</p>
<p>å‘ç»™ä½ å¥³æœ‹å‹ï¼Œæœ‰å¥–åŠ±ğŸ¥³</p>
<p><img src="/2022/11/11/%E8%A1%A8%E7%99%BD%E7%88%B1%E5%BF%83biu/image-20221111095138378.png"></p>
<pre><code class="javascript">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot; /&gt;
    &lt;title&gt;ç¥å°å…¬ä¸»çˆ±å¿ƒ&lt;/title&gt;

    &lt;style&gt;
      html,
      body &#123;
        height: 100%;
        padding: 0;
        margin: 0;
        background: #000;
      &#125;
      canvas &#123;
        width: 100%;
        height: 100%;
      &#125;
    &lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;canvas id=&quot;pinkboard&quot;&gt;&lt;/canvas&gt;
    &lt;script&gt;
      /*
       * å‚æ•°é…ç½®
       */
      var settings = &#123;
        particles: &#123;
          length: 500, // æœ€å¤§é¢—ç²’é‡
          duration: 2, // ç²’å­æŒç»­æ—¶é—´ï¼ˆç§’ï¼‰
          velocity: 110, // ç²’å­èŒƒå›´ï¼ˆåƒç´ /ç§’ï¼‰
          effect: -1.0, // å†…è½®å»“
          size: 35, // é¢—ç²’å¤§å°ï¼ˆåƒç´ ï¼‰
        &#125;,
      &#125;;

      /*
       * Point class
       */
      var Point = (function () &#123;
        function Point(x, y) &#123;
          this.x = typeof x !== &quot;undefined&quot; ? x : 0;
          this.y = typeof y !== &quot;undefined&quot; ? y : 0;
        &#125;
        Point.prototype.clone = function () &#123;
          return new Point(this.x, this.y);
        &#125;;
        Point.prototype.length = function (length) &#123;
          if (typeof length == &quot;undefined&quot;)
            return Math.sqrt(this.x * this.x + this.y * this.y);
          this.normalize();
          this.x *= length;
          this.y *= length;
          return this;
        &#125;;
        Point.prototype.normalize = function () &#123;
          var length = this.length();
          this.x /= length;
          this.y /= length;
          return this;
        &#125;;
        return Point;
      &#125;)();

      /*
       * Particle class
       */
      var Particle = (function () &#123;
        function Particle() &#123;
          this.position = new Point();
          this.velocity = new Point();
          this.acceleration = new Point();
          this.age = 0;
        &#125;
        Particle.prototype.initialize = function (x, y, dx, dy) &#123;
          this.position.x = x;
          this.position.y = y;
          this.velocity.x = dx;
          this.velocity.y = dy;
          this.acceleration.x = dx * settings.particles.effect;
          this.acceleration.y = dy * settings.particles.effect;
          this.age = 0;
        &#125;;
        Particle.prototype.update = function (deltaTime) &#123;
          this.position.x += this.velocity.x * deltaTime;
          this.position.y += this.velocity.y * deltaTime;
          this.velocity.x += this.acceleration.x * deltaTime;
          this.velocity.y += this.acceleration.y * deltaTime;
          this.age += deltaTime;
        &#125;;
        Particle.prototype.draw = function (context, image) &#123;
          function ease(t) &#123;
            return --t * t * t + 1;
          &#125;
          var size = image.width * ease(this.age / settings.particles.duration);
          context.globalAlpha = 1 - this.age / settings.particles.duration;
          context.drawImage(
            image,
            this.position.x - size / 2,
            this.position.y - size / 2,
            size,
            size
          );
        &#125;;
        return Particle;
      &#125;)();

      /*
       * ParticlePool class
       */
      var ParticlePool = (function () &#123;
        var particles,
          firstActive = 0,
          firstFree = 0,
          duration = settings.particles.duration;

        function ParticlePool(length) &#123;
          // create and populate particle pool
          particles = new Array(length);
          for (var i = 0; i &lt; particles.length; i++)
            particles[i] = new Particle();
        &#125;
        ParticlePool.prototype.add = function (x, y, dx, dy) &#123;
          particles[firstFree].initialize(x, y, dx, dy);

          // handle circular queue
          firstFree++;
          if (firstFree == particles.length) firstFree = 0;
          if (firstActive == firstFree) firstActive++;
          if (firstActive == particles.length) firstActive = 0;
        &#125;;
        ParticlePool.prototype.update = function (deltaTime) &#123;
          var i;

          // update active particles
          if (firstActive &lt; firstFree) &#123;
            for (i = firstActive; i &lt; firstFree; i++)
              particles[i].update(deltaTime);
          &#125;
          if (firstFree &lt; firstActive) &#123;
            for (i = firstActive; i &lt; particles.length; i++)
              particles[i].update(deltaTime);
            for (i = 0; i &lt; firstFree; i++) particles[i].update(deltaTime);
          &#125;

          // remove inactive particles
          while (
            particles[firstActive].age &gt;= duration &amp;&amp;
            firstActive != firstFree
          ) &#123;
            firstActive++;
            if (firstActive == particles.length) firstActive = 0;
          &#125;
        &#125;;
        ParticlePool.prototype.draw = function (context, image) &#123;
          // draw active particles
          if (firstActive &lt; firstFree) &#123;
            for (i = firstActive; i &lt; firstFree; i++)
              particles[i].draw(context, image);
          &#125;
          if (firstFree &lt; firstActive) &#123;
            for (i = firstActive; i &lt; particles.length; i++)
              particles[i].draw(context, image);
            for (i = 0; i &lt; firstFree; i++) particles[i].draw(context, image);
          &#125;
        &#125;;
        return ParticlePool;
      &#125;)();

      /*
       * Putting it all together
       */
      (function (canvas) &#123;
        var context = canvas.getContext(&quot;2d&quot;),
          particles = new ParticlePool(settings.particles.length),
          particleRate =
            settings.particles.length / settings.particles.duration, // particles/sec
          time;

        // get point on heart with -PI &lt;= t &lt;= PI
        function pointOnHeart(t) &#123;
          return new Point(
            160 * Math.pow(Math.sin(t), 3),
            130 * Math.cos(t) -
              50 * Math.cos(2 * t) -
              20 * Math.cos(3 * t) -
              10 * Math.cos(4 * t) +
              25
          );
        &#125;

        // ä½¿ç”¨è™šæ‹Ÿç”»å¸ƒåˆ›å»ºç²’å­å›¾åƒ
        var image = (function () &#123;
          var canvas = document.createElement(&quot;canvas&quot;),
            context = canvas.getContext(&quot;2d&quot;);
          canvas.width = settings.particles.size;
          canvas.height = settings.particles.size;
          // helper function to create the path
          function to(t) &#123;
            var point = pointOnHeart(t);
            point.x =
              settings.particles.size / 2 +
              (point.x * settings.particles.size) / 450;
            point.y =
              settings.particles.size / 2 -
              (point.y * settings.particles.size) / 450;
            return point;
          &#125;
          // create the path
          context.beginPath();
          var t = -Math.PI;
          var point = to(t);
          context.moveTo(point.x, point.y);
          while (t &lt; Math.PI) &#123;
            t += 0.03; // baby steps!
            point = to(t);
            context.lineTo(point.x, point.y);
          &#125;
          context.closePath();
          // create the fill ï¼ˆæ›´æ¢çˆ±å¿ƒé¢œè‰²ï¼‰
          context.fillStyle = &quot;#ea80b0&quot;;
          context.fill();
          // create the image
          var image = new Image();
          image.src = canvas.toDataURL();
          return image;
        &#125;)();

        // render that thing!
        function render() &#123;
          // next animation frame
          requestAnimationFrame(render);

          // update timeï¼ˆç²’å­é€Ÿåº¦ï¼‰
          var newTime = new Date().getTime() / 1000,
            deltaTime = newTime - (time || newTime);
          time = newTime;

          // clear canvas
          context.clearRect(0, 0, canvas.width, canvas.height);

          // create new particles
          var amount = particleRate * deltaTime;
          for (var i = 0; i &lt; amount; i++) &#123;
            var pos = pointOnHeart(Math.PI - 2 * Math.PI * Math.random());
            var dir = pos.clone().length(settings.particles.velocity);
            particles.add(
              canvas.width / 2 + pos.x,
              canvas.height / 2 - pos.y,
              dir.x,
              -dir.y
            );
          &#125;

          // update and draw particles
          particles.update(deltaTime);
          particles.draw(context, image);
        &#125;

        // handle (re-)sizing of the canvas
        function onResize() &#123;
          canvas.width = canvas.clientWidth;
          canvas.height = canvas.clientHeight;
        &#125;
        window.onresize = onResize;

        // delay rendering bootstrap
        setTimeout(function () &#123;
          onResize();
          render();
        &#125;, 10);
      &#125;)(document.getElementById(&quot;pinkboard&quot;));
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
]]></content>
      <categories>
        <category>è¶£å‘³æŠ€æœ¯</category>
        <category>è¡¨ç™½çˆ±å¿ƒbiu</category>
      </categories>
      <tags>
        <tag>æµªæ¼«ä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®åŸ‹ç‚¹ç›‘æ§ç³»ç»Ÿè®¾è®¡</title>
    <url>/2022/11/06/%E6%95%B0%E6%8D%AE%E5%9F%8B%E7%82%B9%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="æ•°æ®ç›‘æ§å’Œæ•°æ®åŸ‹ç‚¹"><a href="#æ•°æ®ç›‘æ§å’Œæ•°æ®åŸ‹ç‚¹" class="headerlink" title="æ•°æ®ç›‘æ§å’Œæ•°æ®åŸ‹ç‚¹"></a>æ•°æ®ç›‘æ§å’Œæ•°æ®åŸ‹ç‚¹</h1><h3 id="ä¸€ã€æ•°æ®ç›‘æ§åˆ†ç±»"><a href="#ä¸€ã€æ•°æ®ç›‘æ§åˆ†ç±»" class="headerlink" title="ä¸€ã€æ•°æ®ç›‘æ§åˆ†ç±»"></a>ä¸€ã€æ•°æ®ç›‘æ§åˆ†ç±»</h3><h4 id="1-æ•°æ®ç›‘æ§"><a href="#1-æ•°æ®ç›‘æ§" class="headerlink" title="(1)æ•°æ®ç›‘æ§"></a>(1)æ•°æ®ç›‘æ§</h4><p>æ•°æ®ç›‘æ§ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯ç›‘å¬ç”¨æˆ·çš„è¡Œä¸ºã€‚å¸¸è§çš„æ•°æ®ç›‘æ§åŒ…æ‹¬ï¼š</p>
<ul>
<li>PV&#x2F;UV:PV(page view)ï¼Œå³é¡µé¢æµè§ˆé‡æˆ–ç‚¹å‡»é‡ã€‚UV:æŒ‡è®¿é—®æŸä¸ªç«™ç‚¹æˆ–ç‚¹å‡»æŸæ¡æ–°é—»çš„ä¸åŒIPåœ°å€çš„äººæ•°</li>
<li>ç”¨æˆ·åœ¨æ¯ä¸€ä¸ªé¡µé¢çš„åœç•™æ—¶é—´</li>
<li>ç”¨æˆ·é€šè¿‡ä»€ä¹ˆå…¥å£æ¥è®¿é—®è¯¥ç½‘é¡µ</li>
<li>ç”¨æˆ·åœ¨ç›¸åº”çš„é¡µé¢ä¸­è§¦å‘çš„è¡Œä¸º</li>
</ul>
<p>ç»Ÿè®¡è¿™äº›æ•°æ®æ˜¯æœ‰æ„ä¹‰çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬çŸ¥é“äº†ç”¨æˆ·æ¥æºçš„æ¸ é“ï¼Œå¯ä»¥ä¿ƒè¿›äº§å“çš„æ¨å¹¿ï¼ŒçŸ¥é“ç”¨æˆ·åœ¨æ¯ä¸€ä¸ªé¡µé¢åœç•™çš„æ—¶é—´ï¼Œå¯ä»¥é’ˆå¯¹åœç•™è¾ƒé•¿çš„é¡µé¢ï¼Œå¢åŠ å¹¿å‘Šæ¨é€ç­‰ç­‰ã€‚</p>
<h4 id="2-æ€§èƒ½ç›‘æ§"><a href="#2-æ€§èƒ½ç›‘æ§" class="headerlink" title="(2)æ€§èƒ½ç›‘æ§"></a>(2)æ€§èƒ½ç›‘æ§</h4><p>æ€§èƒ½ç›‘æ§æŒ‡çš„æ˜¯ç›‘å¬å‰ç«¯çš„æ€§èƒ½ï¼Œä¸»è¦åŒ…æ‹¬ç›‘å¬ç½‘é¡µæˆ–è€…è¯´äº§å“åœ¨ç”¨æˆ·ç«¯çš„ä½“éªŒã€‚å¸¸è§çš„æ€§èƒ½ç›‘æ§æ•°æ®åŒ…æ‹¬ï¼š</p>
<ul>
<li>ä¸åŒç”¨æˆ·ï¼Œä¸åŒæœºå‹å’Œä¸åŒç³»ç»Ÿä¸‹çš„é¦–å±åŠ è½½æ—¶é—´</li>
<li>ç™½å±æ—¶é—´</li>
<li>httpç­‰è¯·æ±‚çš„å“åº”æ—¶é—´</li>
<li>é™æ€èµ„æºæ•´ä½“ä¸‹è½½æ—¶é—´</li>
<li>é¡µé¢æ¸²æŸ“æ—¶é—´</li>
<li>é¡µé¢äº¤äº’åŠ¨ç”»å®Œæˆæ—¶é—´</li>
</ul>
<p>è¿™äº›æ€§èƒ½ç›‘æ§çš„ç»“æœï¼Œå¯ä»¥å±•ç¤ºå‰ç«¯æ€§èƒ½çš„å¥½åï¼Œæ ¹æ®æ€§èƒ½ç›‘æµ‹çš„ç»“æœå¯ä»¥è¿›ä¸€æ­¥çš„å»ä¼˜åŒ–å‰ç«¯æ€§èƒ½ï¼Œæ¯”å¦‚å…¼å®¹ä½ç‰ˆæœ¬æµè§ˆå™¨çš„åŠ¨ç”»æ•ˆæœï¼ŒåŠ å¿«é¦–å±åŠ è½½ç­‰ç­‰ã€‚</p>
<h4 id="3-å¼‚å¸¸ç›‘æ§"><a href="#3-å¼‚å¸¸ç›‘æ§" class="headerlink" title="(3)å¼‚å¸¸ç›‘æ§"></a>(3)å¼‚å¸¸ç›‘æ§</h4><p>æ­¤å¤–ï¼Œäº§å“çš„å‰ç«¯ä»£ç åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¹Ÿä¼šå‘ç”Ÿå¼‚å¸¸ï¼Œå› æ­¤éœ€è¦å¼•å…¥å¼‚å¸¸ç›‘æ§ã€‚åŠæ—¶çš„ä¸ŠæŠ¥å¼‚å¸¸æƒ…å†µï¼Œå¯ä»¥é¿å…çº¿ä¸Šæ•…éšœçš„å‘ä¸Šã€‚è™½ç„¶å¤§éƒ¨åˆ†å¼‚å¸¸å¯ä»¥é€šè¿‡try catchçš„æ–¹å¼æ•è·ï¼Œä½†æ˜¯æ¯”å¦‚å†…å­˜æ³„æ¼ä»¥åŠå…¶ä»–å¶ç°çš„å¼‚å¸¸éš¾ä»¥æ•è·ã€‚å¸¸è§çš„éœ€è¦ç›‘æ§çš„å¼‚å¸¸åŒ…æ‹¬ï¼š</p>
<ul>
<li>Javascriptçš„å¼‚å¸¸ç›‘æ§</li>
<li>æ ·å¼ä¸¢å¤±çš„å¼‚å¸¸ç›‘æ§</li>
</ul>
<h3 id="äºŒã€å¸¸è§çš„åŸ‹ç‚¹æ–¹æ¡ˆ"><a href="#äºŒã€å¸¸è§çš„åŸ‹ç‚¹æ–¹æ¡ˆ" class="headerlink" title="äºŒã€å¸¸è§çš„åŸ‹ç‚¹æ–¹æ¡ˆ"></a>äºŒã€å¸¸è§çš„åŸ‹ç‚¹æ–¹æ¡ˆ</h3><h4 id="1-ä»£ç åŸ‹ç‚¹"><a href="#1-ä»£ç åŸ‹ç‚¹" class="headerlink" title="1. ä»£ç åŸ‹ç‚¹"></a>1. ä»£ç åŸ‹ç‚¹</h4><p>ä»£ç åŸ‹ç‚¹æ˜¯æœ€æ—©çš„åŸ‹ç‚¹æ–¹å¼ï¼Œæ ¹æ®ä¸šåŠ¡çš„åˆ†æéœ€æ±‚ï¼Œå°†åŸ‹ç‚¹çš„é‡‡é›†ä»£ç åŠ å…¥åˆ°åº”ç”¨ç«¯ã€‚æŒ‰ç…§åŸ‹ç‚¹å®æ–½æ–¹ï¼Œåˆåˆ†ä¸ºå‰ç«¯(å®¢æˆ·ç«¯)åŸ‹ç‚¹å’Œåç«¯(æœåŠ¡ç«¯)åŸ‹ç‚¹ä¸¤ç§ç±»å‹ã€‚</p>
<h5 id="1ï¼‰å®¢æˆ·ç«¯åŸ‹ç‚¹"><a href="#1ï¼‰å®¢æˆ·ç«¯åŸ‹ç‚¹" class="headerlink" title="1ï¼‰å®¢æˆ·ç«¯åŸ‹ç‚¹"></a>1ï¼‰å®¢æˆ·ç«¯åŸ‹ç‚¹</h5><p>ç”±å‰ç«¯å¼€å‘æ‰‹åŠ¨å®šä¹‰æ•°æ®é‡‡é›†æ—¶æœºã€å†…å®¹ç­‰å°†æ•°æ®é‡‡é›†çš„ä»£ç ä»£ç æ®µåŠ å…¥åˆ°å‰ç«¯ä¸šåŠ¡ä»£ç ä¸­ï¼Œå½“ç”¨æˆ·åœ¨å‰ç«¯äº§ç”Ÿå¯¹åº”è¡Œä¸ºæ—¶ï¼Œè§¦å‘æ•°æ®é‡‡é›†ä»£ç ã€‚</p>
<h6 id="ä¼˜ç‚¹ï¼š"><a href="#ä¼˜ç‚¹ï¼š" class="headerlink" title="ä¼˜ç‚¹ï¼š"></a>ä¼˜ç‚¹ï¼š</h6><ul>
<li>æŒ‰éœ€åŸ‹ç‚¹ï¼Œé‡‡é›†æ•°æ®æ›´å…¨é¢ï¼Œå‡ ä¹å¯è¦†ç›–æ‰€æœ‰æ•°æ®é‡‡é›†åœºæ™¯</li>
<li>è¡Œä¸ºæ•°æ®å’Œä¸šåŠ¡æ•°æ®å¯å……åˆ†è”åˆåˆ†æ</li>
</ul>
<h6 id="ç¼ºç‚¹ï¼š"><a href="#ç¼ºç‚¹ï¼š" class="headerlink" title="ç¼ºç‚¹ï¼š"></a>ç¼ºç‚¹ï¼š</h6><ul>
<li>å»¶è¿Ÿä¸ŠæŠ¥ï¼Œæ•°æ®ä¸¢å¤±ç‡é«˜(5%-10%)</li>
<li>éœ€è¦å®¢æˆ·ç«¯å‘ç‰ˆï¼Œç”¨æˆ·ç«¯æ›´æ–°App</li>
<li>åŸ‹ç‚¹å¼€å‘å·¥ä½œé‡å¤§</li>
<li>åŸ‹ç‚¹æµç¨‹éœ€è¦å¤šæ–¹åä½œï¼Œå®¹æ˜“æ¼åŸ‹ã€é”™åŸ‹</li>
</ul>
<h6 id="é€‚ç”¨åœºæ™¯ï¼š"><a href="#é€‚ç”¨åœºæ™¯ï¼š" class="headerlink" title="é€‚ç”¨åœºæ™¯ï¼š"></a>é€‚ç”¨åœºæ™¯ï¼š</h6><p>å…¨é¢åˆ†æç”¨æˆ·åœ¨å®¢æˆ·ç«¯çš„æ“ä½œè¡Œä¸ºï¼Œå¯¹äºä¸€äº›ç”µå•†äº¤æ˜“ç±»çš„äº§å“ï¼Œéœ€è¦æŠŠè¡Œä¸ºå’Œä¸šåŠ¡æ•°æ®å……åˆ†ç»“åˆåˆ†æ</p>
<h5 id="2ï¼‰æœåŠ¡ç«¯åŸ‹ç‚¹"><a href="#2ï¼‰æœåŠ¡ç«¯åŸ‹ç‚¹" class="headerlink" title="2ï¼‰æœåŠ¡ç«¯åŸ‹ç‚¹"></a>2ï¼‰æœåŠ¡ç«¯åŸ‹ç‚¹</h5><p>ç”±æœåŠ¡ç«¯å¼€å‘å°†åŸ‹ç‚¹é‡‡é›†ä»£ç åŠ å…¥åˆ°åç«¯æœåŠ¡è¯·æ±‚ä¸­ï¼Œå½“ç”¨æˆ·å‰ç«¯æ“ä½œè¯·æ±‚æœåŠ¡ç«¯æ•°æ®æ—¶ï¼ŒæŒ‰ç…§çº¦å®šè§„åˆ™è§¦å‘åŸ‹ç‚¹ä»£ç </p>
<h6 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h6><ul>
<li>æŒ‰éœ€åŸ‹ç‚¹ï¼Œé‡‡é›†æ•°æ®æ›´å…¨é¢ï¼Œå‡ ä¹å¯è¦†ç›–æ‰€æœ‰æ•°æ®é‡‡é›†åœºæ™¯</li>
<li>è¡Œä¸ºæ•°æ®å’Œä¸šåŠ¡æ•°æ®å¯å……åˆ†è”åˆåˆ†æ</li>
<li>æ•°æ®é‡‡é›†å®æ—¶ä¸ŠæŠ¥ï¼Œå‡†ç¡®æ€§é«˜ï¼Œä¸¢å¤±ç‡ä½</li>
<li>æœåŠ¡ç«¯æ›´æ–°ï¼Œä¸éœ€è¦å®¢æˆ·ç«¯å‘ç‰ˆæˆ–ç”¨æˆ·æ›´æ–°ç‰ˆæœ¬</li>
</ul>
<h6 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h6><ul>
<li>çº¯å‰ç«¯æ“ä½œä¸è§¦å‘æœåŠ¡è¯·æ±‚çš„æŒ‰é’®ç‚¹å‡»æ— æ³•é‡‡é›†æ•°æ®</li>
<li>åŸ‹ç‚¹å¼€å‘å·¥ä½œé‡å¤§</li>
<li>åŸ‹ç‚¹æµç¨‹éœ€è¦å¤šæ–¹åä½œï¼Œå®¹æ˜“æ¼åŸ‹ã€é”™åŸ‹</li>
</ul>
<h6 id="é€‚ç”¨åœºæ™¯ï¼š-1"><a href="#é€‚ç”¨åœºæ™¯ï¼š-1" class="headerlink" title="é€‚ç”¨åœºæ™¯ï¼š"></a>é€‚ç”¨åœºæ™¯ï¼š</h6><p>å¯¹äºä¸€äº›éç‚¹å‡»ã€ä¸å¯è§çš„è¡Œä¸ºï¼Œæˆ–è€…è¦è·å–ç”¨æˆ·èº«ä»½ä¿¡æ¯ã€æ›´å¤šçš„ä¸šåŠ¡ç›¸å…³çš„å±æ€§ä¿¡æ¯ã€‚å¦‚æœå‰åç«¯éƒ½å¯ä»¥é‡‡é›†åˆ°ï¼Œä¼˜å…ˆåç«¯åŸ‹ç‚¹</p>
<h4 id="2-å…¨åŸ‹ç‚¹"><a href="#2-å…¨åŸ‹ç‚¹" class="headerlink" title="2. å…¨åŸ‹ç‚¹"></a>2. å…¨åŸ‹ç‚¹</h4><p>å…¨åŸ‹ç‚¹ä¹Ÿæœ‰ç§°ä¹‹ä¸ºæ— åŸ‹ç‚¹æˆ–æ— ç—•åŸ‹ç‚¹çš„ï¼Œä¸»è¦æ˜¯å°†åŸ‹ç‚¹é‡‡é›†ä»£ç å°è£…æˆæ ‡å‡†çš„SDKï¼Œåº”ç”¨ç«¯æ¥å…¥åï¼ŒæŒ‰ç…§SDKçš„é‡‡é›†è§„åˆ™è‡ªåŠ¨åŒ–åœ°è¿›è¡Œæ•°æ®é‡‡é›†å’Œä¸ŠæŠ¥</p>
<h6 id="ä¼˜ç‚¹ï¼š-1"><a href="#ä¼˜ç‚¹ï¼š-1" class="headerlink" title="ä¼˜ç‚¹ï¼š"></a>ä¼˜ç‚¹ï¼š</h6><ul>
<li>æ¥å…¥SDKåï¼Œå¯è‡ªåŠ¨é‡‡é›†æ•°æ®ï¼Œæ— éœ€æŒ‰éœ€å¼€å‘ï¼ŒèŠ‚çœå¼€å‘æˆæœ¬</li>
<li>é¡µé¢å¯è§å…ƒç´ å‡å¯è‡ªåŠ¨é‡‡é›†ï¼Œæ•°æ®æ›´å…¨é¢</li>
<li>åŸ‹ç‚¹æµç¨‹ç®€å•ï¼Œä¸šåŠ¡ä½¿ç”¨åŸ‹ç‚¹ç³»ç»Ÿè‡ªåŠ©å®šä¹‰äº‹ä»¶ï¼Œæ–°å¢åŸ‹ç‚¹éœ€æ±‚æ— éœ€ä¸šåŠ¡å¼€å‘å‚ä¸</li>
</ul>
<h6 id="ç¼ºç‚¹-1"><a href="#ç¼ºç‚¹-1" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h6><ul>
<li>åŠ¨æ€é¡µé¢æˆ–é¡µé¢ä¸å¯è§è¡Œä¸ºæ•°æ®æ— æ³•é‡‡é›†</li>
<li>å’Œä¸šåŠ¡å¼ºç›¸å…³çš„å±æ€§ä¿¡æ¯é‡‡é›†å›°éš¾</li>
<li>æ•°æ®å…¨éƒ¨é‡‡é›†ï¼Œæ•°æ®å­˜å‚¨å‹åŠ›å¤§</li>
</ul>
<h6 id="é€‚ç”¨åœºæ™¯ï¼š-2"><a href="#é€‚ç”¨åœºæ™¯ï¼š-2" class="headerlink" title="é€‚ç”¨åœºæ™¯ï¼š"></a>é€‚ç”¨åœºæ™¯ï¼š</h6><p>ä¸šåŠ¡åœºæ™¯ç®€å•ï¼Œå¦‚å·¥å…·ã€åº”ç”¨ç±»çš„äº§å“ï¼Œæˆ–è€…ä¸šåŠ¡å‘å±•åˆæœŸï¼Œäº§å“å¿«é€Ÿè¿­ä»£éœ€æ±‚æ¯”ç²¾ç»†åŒ–åˆ†æä¼˜å…ˆçº§æ›´é«˜ï¼Œåªéœ€è¦åˆ†æç®€å•çš„PVã€UV</p>
<h4 id="3-å¯è§†åŒ–åŸ‹ç‚¹"><a href="#3-å¯è§†åŒ–åŸ‹ç‚¹" class="headerlink" title="3. å¯è§†åŒ–åŸ‹ç‚¹"></a>3. å¯è§†åŒ–åŸ‹ç‚¹</h4><p>é»˜è®¤ä¸é‡‡é›†æ•°æ®ï¼Œå½“æ•°æ®åˆ†æäººå‘˜é€šè¿‡è®¾å¤‡è¿æ¥ç”¨æˆ·è¡Œä¸ºåˆ†æå·¥å…·çš„æ•°æ®æ¥å…¥ç®¡ç†ç•Œé¢ï¼Œåœ¨é¡µé¢å¯è§†åŒ–å®šä¹‰éœ€è¦é‡‡é›†çš„ä½ç‚¹åä¸‹å‘é‡‡é›†è¯·æ±‚ï¼Œé‡‡é›†ä»£ç ç”Ÿæ•ˆ</p>
<h6 id="ä¼˜ç‚¹ï¼š-2"><a href="#ä¼˜ç‚¹ï¼š-2" class="headerlink" title="ä¼˜ç‚¹ï¼š"></a>ä¼˜ç‚¹ï¼š</h6><ul>
<li>é»˜è®¤ä¸ä¸ŠæŠ¥æ•°æ®ï¼Œå¯è§†åŒ–åœˆé€‰æ‰æŒ‰éœ€è§¦å‘åŸ‹ç‚¹ï¼ŒèŠ‚çº¦å­˜å‚¨å’Œä¼ è¾“æˆæœ¬</li>
<li>ä¸šåŠ¡å¯è§†åŒ–åœˆé€‰ï¼ŒåŸ‹ç‚¹æ“ä½œç®€å•æ–¹ä¾¿</li>
</ul>
<h6 id="ç¼ºç‚¹-2"><a href="#ç¼ºç‚¹-2" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h6><ul>
<li>æ•°æ®åªåœ¨åŸ‹ç‚¹åœˆé€‰å®šä¹‰ä¹‹åæ‰æœ‰ï¼Œå†å²æ•°æ®æ— æ³•å›æº¯</li>
<li>åªèƒ½è¦†ç›–åŸºæœ¬çš„ç‚¹å‡»ã€å±•ç¤ºç­‰ç”¨æˆ·è¡Œä¸ºï¼Œå’Œä¸šåŠ¡å¼ºç›¸å…³çš„å±æ€§ä¿¡æ¯é‡‡é›†å›°éš¾</li>
</ul>
<h6 id="é€‚ç”¨åœºæ™¯ï¼š-3"><a href="#é€‚ç”¨åœºæ™¯ï¼š-3" class="headerlink" title="é€‚ç”¨åœºæ™¯ï¼š"></a>é€‚ç”¨åœºæ™¯ï¼š</h6><p>ä¸šåŠ¡åœºæ™¯ç®€å•ï¼Œå¦‚å·¥å…·ã€åº”ç”¨ç±»çš„äº§å“ï¼Œæˆ–è€…ä¸šåŠ¡å‘å±•åˆæœŸï¼Œäº§å“å¿«é€Ÿè¿­ä»£éœ€æ±‚æ¯”ç²¾ç»†åŒ–åˆ†æä¼˜å…ˆçº§æ›´é«˜ï¼Œåªéœ€è¦åˆ†æç®€å•çš„PVã€UV</p>
<h3 id="ä¸‰ã€sdkè®¾è®¡"><a href="#ä¸‰ã€sdkè®¾è®¡" class="headerlink" title="ä¸‰ã€sdkè®¾è®¡"></a>ä¸‰ã€sdkè®¾è®¡</h3><h4 id="SDKçš„è®¾è®¡"><a href="#SDKçš„è®¾è®¡" class="headerlink" title="SDKçš„è®¾è®¡"></a>SDKçš„è®¾è®¡</h4><p>åœ¨å¼€å§‹è®¾è®¡ä¹‹å‰ï¼Œå…ˆçœ‹ä¸€ä¸‹SDKæ€ä¹ˆä½¿ç”¨ã€‚</p>
<pre><code class="javascript">import StatisticSDK from &#39;StatisticSDK&#39;;
// å…¨å±€åˆå§‹åŒ–ä¸€æ¬¡
window.insSDK = new StatisticSDK(&#39;uuid-12345&#39;);
&lt;button onClick=&#123;()=&gt;&#123;
  window.insSDK.event(&#39;click&#39;,&#39;confirm&#39;);
  ...// å…¶ä»–ä¸šåŠ¡ä»£ç 
&#125;&#125;&gt;ç¡®è®¤&lt;/button&gt;
</code></pre>
<p>é¦–å…ˆæŠŠSDKå®ä¾‹æŒ‚è½½åˆ°å…¨å±€ï¼Œä¹‹ååœ¨ä¸šåŠ¡ä»£ç ä¸­è°ƒç”¨ï¼Œè¿™é‡Œçš„æ–°å»ºå®ä¾‹æ—¶éœ€è¦ä¼ å…¥ä¸€ä¸ªidï¼Œå› ä¸ºè¿™ä¸ªåŸ‹ç‚¹ç›‘æ§ç³»ç»Ÿå¾€å¾€æ˜¯ç»™å¤šä¸ªä¸šåŠ¡å»ä½¿ç”¨çš„ï¼Œé€šè¿‡idå»åŒºåˆ†ä¸åŒçš„æ•°æ®æ¥æºã€‚</p>
<p>é¦–å…ˆå®ç°å®ä¾‹åŒ–éƒ¨åˆ†ï¼š</p>
<pre><code class="javascript">class StatisticSDK &#123;
  constructor(productID)&#123;
    this.productID = productID;
  &#125;
&#125;
</code></pre>
<h4 id="æ•°æ®å‘é€"><a href="#æ•°æ®å‘é€" class="headerlink" title="æ•°æ®å‘é€"></a>æ•°æ®å‘é€</h4><p>æ•°æ®å‘é€æ˜¯ä¸€ä¸ªæœ€åŸºç¡€çš„apiï¼Œåé¢çš„åŠŸèƒ½éƒ½è¦åŸºäºæ­¤è¿›è¡Œã€‚é€šå¸¸è¿™ç§å‰åç«¯åˆ†ç¦»çš„åœºæ™¯ä¼šä½¿ç”¨AJAXçš„æ–¹å¼å‘é€æ•°æ®ï¼Œä½†æ˜¯è¿™é‡Œä½¿ç”¨å›¾ç‰‡çš„srcå±æ€§ã€‚åŸå› æœ‰ä¸¤ç‚¹ï¼š</p>
<ol>
<li>æ²¡æœ‰è·¨åŸŸçš„é™åˆ¶ï¼Œåƒsrciptæ ‡ç­¾ã€imgæ ‡ç­¾éƒ½å¯ä»¥ç›´æ¥å‘é€è·¨åŸŸçš„GETè¯·æ±‚ï¼Œä¸ç”¨åšç‰¹æ®Šå¤„ç†ã€‚</li>
<li>å…¼å®¹æ€§å¥½ï¼Œä¸€äº›é™æ€é¡µé¢å¯èƒ½ç¦ç”¨äº†è„šæœ¬ï¼Œè¿™æ—¶scriptæ ‡ç­¾å°±ä¸èƒ½ä½¿ç”¨äº†ã€‚</li>
</ol>
<p>ä½†è¦æ³¨æ„ï¼Œè¿™ä¸ªå›¾ç‰‡ä¸æ˜¯ç”¨æ¥å±•ç¤ºçš„ï¼Œæˆ‘ä»¬çš„ç›®çš„æ˜¯å»ã€Œä¼ é€’æ•°æ®ã€ï¼Œåªæ˜¯å€ŸåŠ©imgæ ‡ç­¾çš„çš„srcå±æ€§ï¼Œåœ¨å…¶urlåé¢æ‹¼æ¥ä¸Šå‚æ•°ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°å†å»è§£æã€‚</p>
<pre><code class="javascript">class StatisticSDK &#123;
  constructor(productID)&#123;
    this.productID = productID;
  &#125;
  send(baseURL,query=&#123;&#125;)&#123;
    query.productID = this.productID;
    let queryStr = Object.entries(query).map(([key, value]) =&gt; `$&#123;key&#125;=$&#123;value&#125;`).join(&#39;&amp;&#39;)
    let img = new Image();
    img.src = `$&#123;baseURL&#125;?$&#123;queryStr&#125;`
  &#125;
&#125;
</code></pre>
<p>imgæ ‡ç­¾çš„ä¼˜ç‚¹æ˜¯ä¸éœ€è¦å°†å…¶appendåˆ°æ–‡æ¡£ï¼Œåªéœ€è®¾ç½®srcå±æ€§ä¾¿èƒ½æˆåŠŸå‘èµ·è¯·æ±‚ã€‚</p>
<p>é€šå¸¸è¯·æ±‚çš„è¿™ä¸ªurlä¼šæ˜¯ä¸€å¼ 1X1pxçš„GIFå›¾ç‰‡ï¼Œç½‘ä¸Šçš„æ–‡ç« å¯¹äºè¿™é‡Œä¸ºä»€ä¹ˆè¿”å›å›¾ç‰‡çš„æ˜¯ä¸€å¼ GIFéƒ½æ˜¯å«ç³Šå¸¦è¿‡ï¼Œè¿™é‡ŒæŸ¥é˜…äº†ä¸€äº›èµ„æ–™å¹¶æµ‹è¯•äº†ï¼š</p>
<p>1.åŒæ ·å¤§å°ï¼Œä¸åŒæ ¼å¼çš„çš„å›¾ç‰‡ä¸­GIFå¤§å°æ˜¯æœ€å°çš„ï¼Œæ‰€ä»¥é€‰æ‹©è¿”å›ä¸€å¼ GIFï¼Œè¿™æ ·å¯¹æ€§èƒ½çš„æŸè€—æ›´å°ã€‚</p>
<p>2.å¦‚æœè¿”å›204ï¼Œä¼šèµ°åˆ°imgçš„onerroräº‹ä»¶ï¼Œå¹¶æŠ›å‡ºä¸€ä¸ªå…¨å±€é”™è¯¯;å¦‚æœè¿”å›200å’Œä¸€ä¸ªç©ºå¯¹è±¡ä¼šæœ‰ä¸€ä¸ªCORBçš„å‘Šè­¦ã€‚</p>
<p><img src="/2022/11/06/%E6%95%B0%E6%8D%AE%E5%9F%8B%E7%82%B9%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/346cd16826c82e6bd7a2246d22d56fc478dfc3.png"></p>
<p>3.å½“ç„¶å¦‚æœä¸åœ¨æ„è¿™ä¸ªæŠ¥é”™å¯ä»¥é‡‡å–è¿”å›ç©ºå¯¹è±¡ï¼Œäº‹å®ä¸Šä¹Ÿæœ‰ä¸€äº›å·¥å…·æ˜¯è¿™æ ·åšçš„ã€‚</p>
<p>æœ‰ä¸€äº›åŸ‹ç‚¹éœ€è¦çœŸå®çš„åŠ åˆ°é¡µé¢ä¸Šï¼Œæ¯”å¦‚åƒåœ¾é‚®ä»¶çš„å‘é€è€…ä¼šæ·»åŠ è¿™æ ·ä¸€ä¸ªéšè—æ ‡å¿—æ¥éªŒè¯é‚®ä»¶æ˜¯å¦è¢«æ‰“å¼€ï¼Œå¦‚æœè¿”å›204æˆ–è€…æ˜¯200ç©ºå¯¹è±¡ä¼šå¯¼è‡´ä¸€ä¸ªæ˜æ˜¾å›¾ç‰‡å ä½ç¬¦ã€‚</p>
<pre><code>&lt;img src=&quot;http://www.example.com/logger?event_id=1234&quot;&gt;1.
</code></pre>
<p><img src="/2022/11/06/%E6%95%B0%E6%8D%AE%E5%9F%8B%E7%82%B9%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/77236ef50e0237529c0080434f48bd20be8ce5.png"></p>
<h4 id="æ›´ä¼˜é›…çš„web-beacon"><a href="#æ›´ä¼˜é›…çš„web-beacon" class="headerlink" title="æ›´ä¼˜é›…çš„web beacon"></a>æ›´ä¼˜é›…çš„web beacon</h4><p>è¿™ç§æ‰“ç‚¹æ ‡è®°çš„æ–¹å¼è¢«ç§°web beacon(ç½‘ç»œä¿¡æ ‡)ã€‚é™¤äº†gifå›¾ç‰‡ï¼Œä»2014å¹´å¼€å§‹ï¼Œæµè§ˆå™¨é€æ¸å®ç°ä¸“é—¨çš„APIï¼Œæ¥æ›´ä¼˜é›…çš„å®Œæˆè¿™ä»¶äº‹ï¼šNavigator.sendBeaconã€‚</p>
<p>ä½¿ç”¨å¾ˆç®€å•ã€‚</p>
<pre><code class="javascript">Navigator.sendBeacon(url,data)
</code></pre>
<p>ç›¸è¾ƒäºå›¾ç‰‡çš„srcï¼Œè¿™ç§æ–¹å¼çš„æ›´æœ‰ä¼˜åŠ¿ï¼š</p>
<ul>
<li>ä¸ä¼šå’Œä¸»è¦ä¸šåŠ¡ä»£ç æŠ¢å èµ„æºï¼Œè€Œæ˜¯åœ¨æµè§ˆå™¨ç©ºé—²æ—¶å»åšå‘é€ã€‚</li>
<li>å¹¶ä¸”åœ¨é¡µé¢å¸è½½æ—¶ä¹Ÿèƒ½ä¿è¯è¯·æ±‚æˆåŠŸå‘é€ï¼Œä¸é˜»å¡é¡µé¢åˆ·æ–°å’Œè·³è½¬ã€‚</li>
</ul>
<p>ç°åœ¨çš„åŸ‹ç‚¹ç›‘æ§å·¥å…·é€šå¸¸ä¼šä¼˜å…ˆä½¿ç”¨sendBeaconï¼Œä½†ç”±äºæµè§ˆå™¨å…¼å®¹æ€§ï¼Œè¿˜æ˜¯éœ€è¦ç”¨å›¾ç‰‡çš„srcå…œåº•ã€‚</p>
<h4 id="ç”¨æˆ·è¡Œä¸ºç›‘æ§"><a href="#ç”¨æˆ·è¡Œä¸ºç›‘æ§" class="headerlink" title="ç”¨æˆ·è¡Œä¸ºç›‘æ§"></a>ç”¨æˆ·è¡Œä¸ºç›‘æ§</h4><p>ä¸Šé¢å®ç°äº†æ•°æ®å‘é€çš„apiï¼Œç°åœ¨å¯ä»¥åŸºäºå®ƒå»å®ç°ç”¨æˆ·è¡Œä¸ºç›‘æ§çš„apiã€‚</p>
<pre><code class="javascript">class StatisticSDK &#123;
  constructor(productID)&#123;
    this.productID = productID;
  &#125;
  // æ•°æ®å‘é€
  send(baseURL,query=&#123;&#125;)&#123;
    query.productID = this.productID;
      let queryStr = Object.entries(query).map(([key, value]) =&gt; `$&#123;key&#125;=$&#123;value&#125;`).join(&#39;&amp;&#39;)
      let img = new Image();
      img.src = `$&#123;baseURL&#125;?$&#123;queryStr&#125;`
  &#125;
  // è‡ªå®šä¹‰äº‹ä»¶
  event(key, val=&#123;&#125;) &#123;
    let eventURL = &#39;http://demo/&#39;
    this.send(eventURL,&#123;event:key,...val&#125;)
  &#125;
  // pvæ›å…‰
  pv() &#123;
    this.event(&#39;pv&#39;)
  &#125;
&#125;
</code></pre>
<p>ç”¨æˆ·è¡Œä¸ºåŒ…æ‹¬è‡ªå®šä¹‰äº‹ä»¶å’Œpvæ›å…‰ï¼Œä¹Ÿå¯ä»¥æŠŠpvæ›å…‰çœ‹ä½œæ˜¯ä¸€ç§ç‰¹æ®Šçš„è‡ªå®šä¹‰è¡Œä¸ºäº‹ä»¶ã€‚</p>
<h4 id="é¡µé¢æ€§èƒ½ç›‘æ§"><a href="#é¡µé¢æ€§èƒ½ç›‘æ§" class="headerlink" title="é¡µé¢æ€§èƒ½ç›‘æ§"></a>é¡µé¢æ€§èƒ½ç›‘æ§</h4><p>é¡µé¢çš„æ€§èƒ½æ•°æ®å¯ä»¥é€šè¿‡performance.timingè¿™ä¸ªAPIè·å–åˆ°ï¼Œè·å–çš„æ•°æ®æ˜¯å•ä½ä¸ºæ¯«ç§’çš„æ—¶é—´æˆ³ã€‚</p>
<p><img src="/2022/11/06/%E6%95%B0%E6%8D%AE%E5%9F%8B%E7%82%B9%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/272519802405fa2531a97471630d64ab493783.png"></p>
<p><img src="/2022/11/06/%E6%95%B0%E6%8D%AE%E5%9F%8B%E7%82%B9%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/95d45e432d6684cc4ab527d2ac28bddad1a98e.png" alt="img">ä¸Šé¢çš„ä¸éœ€è¦å…¨éƒ¨äº†è§£ï¼Œä½†æ¯”è¾ƒå…³é”®çš„æ•°æ®æœ‰ä¸‹é¢å‡ ä¸ªï¼Œæ ¹æ®å®ƒä»¬å¯ä»¥è®¡ç®—å‡ºFP&#x2F;DCL&#x2F;Loadç­‰å…³é”®äº‹ä»¶çš„æ—¶é—´ç‚¹ï¼š</p>
<ol>
<li>é¡µé¢é¦–æ¬¡æ¸²æŸ“æ—¶é—´ï¼šFP(firstPaint)&#x3D;domLoading-navigationStartã€‚</li>
<li>DOMåŠ è½½å®Œæˆï¼šDCL(DOMContentEventLoad)&#x3D;domContentLoadedEventEnd-navigationStartã€‚</li>
<li>å›¾ç‰‡ã€æ ·å¼ç­‰å¤–é“¾èµ„æºåŠ è½½å®Œæˆï¼šL(Load)&#x3D;loadEventEnd-navigationStartã€‚</li>
</ol>
<p>ä¸Šé¢çš„æ•°å€¼å¯ä»¥è·Ÿperformanceé¢æ¿é‡Œçš„ç»“æœå¯¹åº”ã€‚</p>
<p>å›åˆ°SDKï¼Œæˆ‘ä»¬åªç”¨å®ç°ä¸€ä¸ªä¸Šä¼ æ‰€æœ‰æ€§èƒ½æ•°æ®çš„apiå°±å¯ä»¥äº†ï¼š</p>
<pre><code class="javascript">class StatisticSDK &#123;
  constructor(productID)&#123;
    this.productID = productID;
    // åˆå§‹åŒ–è‡ªåŠ¨è°ƒç”¨æ€§èƒ½ä¸ŠæŠ¥
    this.initPerformance()
  &#125;
  // æ•°æ®å‘é€
  send(baseURL,query=&#123;&#125;)&#123;
    query.productID = this.productID;
      let queryStr = Object.entries(query).map(([key, value]) =&gt; `$&#123;key&#125;=$&#123;value&#125;`).join(&#39;&amp;&#39;)
      let img = new Image();
      img.src = `$&#123;baseURL&#125;?$&#123;queryStr&#125;`
  &#125;
  // æ€§èƒ½ä¸ŠæŠ¥
  initPerformance()&#123;
    let performanceURL = &#39;http://performance/&#39;
    this.send(performanceURL,performance.timing)
  &#125;
&#125;
</code></pre>
<p>å¹¶ä¸”ï¼Œåœ¨æ„é€ å‡½æ•°é‡Œè‡ªåŠ¨è°ƒç”¨ï¼Œå› ä¸ºæ€§èƒ½æ•°æ®æ˜¯å¿…é¡»è¦ä¸Šä¼ çš„ï¼Œå°±ä¸éœ€è¦ç”¨æˆ·æ¯æ¬¡éƒ½æ‰‹åŠ¨è°ƒç”¨äº†ã€‚</p>
<h4 id="é”™è¯¯å‘Šè­¦ç›‘æ§"><a href="#é”™è¯¯å‘Šè­¦ç›‘æ§" class="headerlink" title="é”™è¯¯å‘Šè­¦ç›‘æ§"></a>é”™è¯¯å‘Šè­¦ç›‘æ§</h4><p>é”™è¯¯æŠ¥è­¦ç›‘æ§åˆ†ä¸ºJSåŸç”Ÿé”™è¯¯å’ŒReact&#x2F;Vueçš„ç»„ä»¶é”™è¯¯çš„å¤„ç†ã€‚</p>
<h5 id="JSåŸç”Ÿé”™è¯¯"><a href="#JSåŸç”Ÿé”™è¯¯" class="headerlink" title="JSåŸç”Ÿé”™è¯¯"></a>JSåŸç”Ÿé”™è¯¯</h5><p>é™¤äº†try catchä¸­æ•è·ä½çš„é”™è¯¯ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸ŠæŠ¥æ²¡æœ‰è¢«æ•è·ä½çš„é”™è¯¯â€”â€”é€šè¿‡erroräº‹ä»¶å’Œunhandledrejectionäº‹ä»¶å»ç›‘å¬ã€‚</p>
<h5 id="error"><a href="#error" class="headerlink" title="error"></a>error</h5><p>erroräº‹ä»¶æ˜¯ç”¨æ¥ç›‘å¬DOMæ“ä½œé”™è¯¯DOMExceptionå’ŒJSé”™è¯¯å‘Šè­¦çš„ï¼Œå…·ä½“æ¥è¯´ï¼ŒJSé”™è¯¯åˆ†ä¸ºä¸‹é¢8ç±»ï¼š</p>
<ol>
<li>InternalError: å†…éƒ¨é”™è¯¯ï¼Œæ¯”å¦‚å¦‚é€’å½’çˆ†æ ˆã€‚</li>
<li>RangeError: èŒƒå›´é”™è¯¯ï¼Œæ¯”å¦‚new Array(-1)ã€‚</li>
<li>EvalError: ä½¿ç”¨eval()æ—¶é”™è¯¯ã€‚</li>
<li>ReferenceError: å¼•ç”¨é”™è¯¯ï¼Œæ¯”å¦‚ä½¿ç”¨æœªå®šä¹‰å˜é‡ã€‚</li>
<li>SyntaxError: è¯­æ³•é”™è¯¯ï¼Œæ¯”å¦‚var a &#x3D; ã€‚</li>
<li>TypeError: ç±»å‹é”™è¯¯ï¼Œæ¯”å¦‚[1,2].split(â€˜.â€™)ã€‚</li>
<li>URIError: ç»™ encodeURIæˆ– decodeURl()ä¼ é€’çš„å‚æ•°æ— æ•ˆï¼Œæ¯”å¦‚decodeURI(â€˜%2â€™)ã€‚</li>
<li>Error: ä¸Šé¢7ç§é”™è¯¯çš„åŸºç±»ï¼Œé€šå¸¸æ˜¯å¼€å‘è€…æŠ›å‡ºã€‚</li>
</ol>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä»£ç è¿è¡Œæ—¶å‘ç”Ÿçš„ä¸Šè¿°8ç±»é”™è¯¯ï¼Œéƒ½å¯ä»¥è¢«æ£€æµ‹åˆ°ã€‚</p>
<h5 id="unhandledrejection"><a href="#unhandledrejection" class="headerlink" title="unhandledrejection"></a>unhandledrejection</h5><p>Promiseå†…éƒ¨æŠ›å‡ºçš„é”™è¯¯æ˜¯æ— æ³•è¢«erroræ•è·åˆ°çš„ï¼Œè¿™æ—¶éœ€è¦ç”¨unhandledrejectionäº‹ä»¶ã€‚</p>
<p>å›åˆ°SDKçš„å®ç°ï¼Œå¤„ç†é”™è¯¯æŠ¥è­¦çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">class StatisticSDK &#123;
  constructor(productID)&#123;
    this.productID = productID;
    // åˆå§‹åŒ–é”™è¯¯ç›‘æ§
    this.initError()
  &#125;
  // æ•°æ®å‘é€
  send(baseURL,query=&#123;&#125;)&#123;
    query.productID = this.productID;
      let queryStr = Object.entries(query).map(([key, value]) =&gt; `$&#123;key&#125;=$&#123;value&#125;`).join(&#39;&amp;&#39;)
      let img = new Image();
      img.src = `$&#123;baseURL&#125;?$&#123;queryStr&#125;`
  &#125;
  // è‡ªå®šä¹‰é”™è¯¯ä¸ŠæŠ¥
  error(err, etraInfo=&#123;&#125;) &#123;
    const errorURL = &#39;http://error/&#39;
    const &#123; message, stack &#125; = err;
    this.send(errorURL, &#123; message, stack, ...etraInfo&#125;)
  &#125;
  // åˆå§‹åŒ–é”™è¯¯ç›‘æ§
  initError()&#123;
    window.addEventListener(&#39;error&#39;, event=&gt;&#123;
      this.error(error);
    &#125;)
    window.addEventListener(&#39;unhandledrejection&#39;, event=&gt;&#123;
      this.error(new Error(event.reason), &#123; type: &#39;unhandledrejection&#39;&#125;)
    &#125;)
  &#125;
&#125;
</code></pre>
<p>å’Œåˆå§‹åŒ–æ€§èƒ½ç›‘æ§ä¸€æ ·ï¼Œåˆå§‹åŒ–é”™è¯¯ç›‘æ§ä¹Ÿæ˜¯ä¸€å®šè¦åšçš„ï¼Œæ‰€ä»¥éœ€è¦åœ¨æ„é€ å‡½æ•°ä¸­è°ƒç”¨ã€‚åç»­å¼€å‘äººå‘˜åªç”¨åœ¨ä¸šåŠ¡ä»£ç çš„try catchä¸­è°ƒç”¨erroræ–¹æ³•å³å¯ã€‚</p>
<h3 id="React-x2F-Vueç»„ä»¶é”™è¯¯"><a href="#React-x2F-Vueç»„ä»¶é”™è¯¯" class="headerlink" title="React&#x2F;Vueç»„ä»¶é”™è¯¯"></a>React&#x2F;Vueç»„ä»¶é”™è¯¯</h3><p>æˆç†Ÿçš„æ¡†æ¶åº“éƒ½ä¼šæœ‰é”™è¯¯å¤„ç†æœºåˆ¶ï¼ŒReactå’ŒVueä¹Ÿä¸ä¾‹å¤–ã€‚</p>
<h5 id="Reactçš„é”™è¯¯è¾¹ç•Œ"><a href="#Reactçš„é”™è¯¯è¾¹ç•Œ" class="headerlink" title="Reactçš„é”™è¯¯è¾¹ç•Œ"></a>Reactçš„é”™è¯¯è¾¹ç•Œ</h5><p>é”™è¯¯è¾¹ç•Œæ˜¯å¸Œæœ›å½“åº”ç”¨å†…éƒ¨å‘ç”Ÿæ¸²æŸ“é”™è¯¯æ—¶ï¼Œä¸ä¼šæ•´ä¸ªé¡µé¢å´©æºƒã€‚æˆ‘ä»¬æå‰ç»™å®ƒè®¾ç½®ä¸€ä¸ªå…œåº•ç»„ä»¶ï¼Œå¹¶ä¸”å¯ä»¥ç»†åŒ–ç²’åº¦ï¼Œåªæœ‰å‘ç”Ÿé”™è¯¯çš„éƒ¨åˆ†è¢«æ›¿æ¢æˆè¿™ä¸ªã€Œå…œåº•ç»„ä»¶ã€ï¼Œä¸è‡³äºæ•´ä¸ªé¡µé¢éƒ½ä¸èƒ½æ­£å¸¸å·¥ä½œã€‚</p>
<p><img src="/2022/11/06/%E6%95%B0%E6%8D%AE%E5%9F%8B%E7%82%B9%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/562c10735609456ff5d155aa6880f7ca2598a4.png"></p>
<p>å®ƒçš„ä½¿ç”¨å¾ˆç®€å•ï¼Œå°±æ˜¯ä¸€ä¸ªå¸¦æœ‰ç‰¹æ®Šç”Ÿå‘½å‘¨æœŸçš„ç±»ç»„ä»¶ï¼Œç”¨å®ƒæŠŠä¸šåŠ¡ç»„ä»¶åŒ…è£¹èµ·æ¥ã€‚</p>
<p>è¿™ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸæ˜¯getDerivedStateFromErrorå’ŒcomponentDidCatchã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">// å®šä¹‰é”™è¯¯è¾¹ç•Œ
class ErrorBoundary extends React.Component &#123;
  state = &#123; error: null &#125;
  static getDerivedStateFromError(error) &#123;
    return &#123; error &#125;
  &#125;
  componentDidCatch(error, errorInfo) &#123;
    // è°ƒç”¨æˆ‘ä»¬å®ç°çš„SDKå®ä¾‹
    insSDK.error(error, errorInfo)
  &#125;
  render() &#123;
    if (this.state.error) &#123;
      return &lt;h2&gt;Something went wrong.&lt;/h2&gt;
    &#125;
    return this.props.children
  &#125;
&#125;
...
&lt;ErrorBoundary&gt;
  &lt;BuggyCounter /&gt;
&lt;/ErrorBoundary&gt;1.2.3.4.5.6.7.8.9.10.11.12.13.14.15.16.17.18.19.20.21.
</code></pre>
<p>å›åˆ°SDKçš„æ•´åˆä¸Šï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œè¢«é”™è¯¯è¾¹ç•ŒåŒ…è£¹çš„ç»„ä»¶ï¼Œå¦‚æœå†…éƒ¨æŠ›å‡ºé”™è¯¯ï¼Œå…¨å±€çš„erroräº‹ä»¶æ˜¯æ— æ³•ç›‘å¬åˆ°çš„ï¼Œå› ä¸ºè¿™ä¸ªé”™è¯¯è¾¹ç•Œæœ¬èº«å°±ç›¸å½“äºä¸€ä¸ªtry catchã€‚æ‰€ä»¥éœ€è¦åœ¨é”™è¯¯è¾¹ç•Œè¿™ä¸ªç»„ä»¶å†…éƒ¨å»åšä¸ŠæŠ¥å¤„ç†ã€‚ä¹Ÿå°±æ˜¯ä¸Šé¢ä»£ç ä¸­çš„componentDidCatchç”Ÿå‘½å‘¨æœŸã€‚</p>
<h3 id="Vueçš„é”™è¯¯è¾¹ç•Œ"><a href="#Vueçš„é”™è¯¯è¾¹ç•Œ" class="headerlink" title="Vueçš„é”™è¯¯è¾¹ç•Œ"></a>Vueçš„é”™è¯¯è¾¹ç•Œ</h3><p>vueä¹Ÿæœ‰ä¸€ä¸ªç±»ä¼¼çš„ç”Ÿå‘½å‘¨æœŸæ¥åšè¿™ä»¶äº‹ï¼Œä¸å†èµ˜è¿°ï¼šerrorCapturedã€‚</p>
<pre><code class="javascript">Vue.component(&#39;ErrorBoundary&#39;, &#123;
  data: () =&gt; (&#123; error: null &#125;),
  errorCaptured (err, vm, info) &#123;
    this.error = `$&#123;err.stack&#125;\n\nfound in $&#123;info&#125; of component`
    // è°ƒç”¨æˆ‘ä»¬çš„SDKï¼Œä¸ŠæŠ¥é”™è¯¯ä¿¡æ¯
    insSDK.error(err,info)
    return false
  &#125;,
  render (h) &#123;
    if (this.error) &#123;
      return h(&#39;pre&#39;, &#123; style: &#123; color: &#39;red&#39; &#125;&#125;, this.error)
    &#125;
    return this.$slots.default[0]
  &#125;
&#125;)
...
&lt;error-boundary&gt;
  &lt;buggy-counter /&gt;
&lt;/error-boundary&gt;
</code></pre>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»å®ç°äº†ä¸€ä¸ªå®Œæ•´çš„SDKçš„éª¨æ¶ï¼Œå¹¶ä¸”å¤„ç†äº†åœ¨å®é™…å¼€å‘æ—¶ï¼Œreact&#x2F;vueé¡¹ç›®åº”è¯¥æ€ä¹ˆæ¥å…¥ã€‚</p>
<h3 id="å‚è€ƒæ–‡çŒ®ï¼š"><a href="#å‚è€ƒæ–‡çŒ®ï¼š" class="headerlink" title="å‚è€ƒæ–‡çŒ®ï¼š"></a>å‚è€ƒæ–‡çŒ®ï¼š</h3><p><a href="https://www.51cto.com/article/706364.html">https://www.51cto.com/article/706364.html</a></p>
]]></content>
      <categories>
        <category>å·¥ç¨‹æŠ€æœ¯</category>
        <category>æ•°æ®åŸ‹ç‚¹ç›‘æ§ç³»ç»Ÿè®¾è®¡</category>
      </categories>
      <tags>
        <tag>å·¥ç¨‹æŠ€æœ¯</tag>
      </tags>
  </entry>
  <entry>
    <title>Electron-d-2.0</title>
    <url>/2022/11/25/Electron-d-2-0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Electron"><a href="#Electron" class="headerlink" title="Electron"></a>Electron</h1><p>æœ¬ç¯‡æ–‡ç« æ¥ä¸Šä¸€ç¯‡æ–‡ç« ï¼Œè¯¦ç»†è®²è§£ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹ä¸€äº›å¸¸ç”¨çš„API</p>
<h3 id="ä¸»è¿›ç¨‹API"><a href="#ä¸»è¿›ç¨‹API" class="headerlink" title="ä¸»è¿›ç¨‹API"></a>ä¸»è¿›ç¨‹API</h3><h4 id="1-App-BrowserWindow"><a href="#1-App-BrowserWindow" class="headerlink" title="1.App+BrowserWindow"></a>1.App+BrowserWindow</h4><h5 id="Appäº‹ä»¶ï¼š"><a href="#Appäº‹ä»¶ï¼š" class="headerlink" title="Appäº‹ä»¶ï¼š"></a>Appäº‹ä»¶ï¼š</h5><h6 id="ï¼ˆ1ï¼‰Before-quit"><a href="#ï¼ˆ1ï¼‰Before-quit" class="headerlink" title="ï¼ˆ1ï¼‰Before-quit"></a>ï¼ˆ1ï¼‰Before-quit</h6><ul>
<li><code>event</code> Event #è¿”å›</li>
</ul>
<p> åœ¨ç¨‹åºå…³é—­çª—å£å‰è§¦å‘ï¼ˆmacOSä¸æ˜¯å…³é—­çª—å£è§¦å‘ï¼Œè€Œæ˜¯å…³é—­ç¨‹åºï¼‰</p>
<p>**æ³¨:**åœ¨ Windows ç³»ç»Ÿä¸­ï¼Œå¦‚æœåº”ç”¨ç¨‹åºå› ç³»ç»Ÿå…³æœº&#x2F;é‡å¯æˆ–ç”¨æˆ·æ³¨é”€è€Œå…³é—­ï¼Œé‚£ä¹ˆè¿™ä¸ªäº‹ä»¶ä¸ä¼šè¢«è§¦å‘ã€‚</p>
<p>ä»£ç ä»¥åŠç¨‹åºæ¼”ç¤ºï¼š</p>
<p><img src="/2022/11/25/Electron-d-2-0/image-20221125085755781.png"></p>
<h6 id="ï¼ˆ2ï¼‰browser-window-blur"><a href="#ï¼ˆ2ï¼‰browser-window-blur" class="headerlink" title="ï¼ˆ2ï¼‰browser-window-blur"></a>ï¼ˆ2ï¼‰browser-window-blur</h6><ul>
<li><code>event</code> Event #è¿”å›</li>
<li><code>window</code> BrowserWindow #è¿”å›</li>
</ul>
<p>å½“ä¸€ä¸ª browserWindow ï¼ˆçª—å£ï¼‰å¤±å»ç„¦ç‚¹æ—¶è§¦å‘ã€‚å½“æˆ‘ä»¬é¼ æ ‡ç‚¹å‡»çª—å£ä»¥å¤–çš„åœ°æ–¹å°±ä¼šå¤±ç„¦ã€‚</p>
<p>ä»£ç ä»¥åŠç¨‹åºæ¼”ç¤ºï¼š</p>
<p><img src="/2022/11/25/Electron-d-2-0/image-20221125090204480.png"></p>
<h6 id="ï¼ˆ3ï¼‰browser-window-focus"><a href="#ï¼ˆ3ï¼‰browser-window-focus" class="headerlink" title="ï¼ˆ3ï¼‰browser-window-focus"></a>ï¼ˆ3ï¼‰browser-window-focus</h6><ul>
<li><code>event</code> Event #è¿”å›</li>
<li><code>window</code> BrowserWindow #è¿”å›</li>
</ul>
<p>å½“ä¸€ä¸ª browserWindow è·å¾—ç„¦ç‚¹æ—¶è§¦å‘ã€‚</p>
<p>ä»£ç ä»¥åŠç¨‹åºæ¼”ç¤ºï¼š</p>
<p><img src="/2022/11/25/Electron-d-2-0/image-20221125090450485.png"></p>
<h6 id="ï¼ˆ4ï¼‰quit"><a href="#ï¼ˆ4ï¼‰quit" class="headerlink" title="ï¼ˆ4ï¼‰quit"></a>ï¼ˆ4ï¼‰quit</h6><ul>
<li><code>event</code> Event #è¿”å›</li>
<li><code>exitCode</code> Integer #è¿”å›</li>
</ul>
<p>åœ¨åº”ç”¨ç¨‹åºé€€å‡ºæ—¶å‘å‡ºã€‚</p>
<p>**æ³¨:**åœ¨ Windows ç³»ç»Ÿä¸­ï¼Œå¦‚æœåº”ç”¨ç¨‹åºå› ç³»ç»Ÿå…³æœº&#x2F;é‡å¯æˆ–ç”¨æˆ·æ³¨é”€è€Œå…³é—­ï¼Œé‚£ä¹ˆè¿™ä¸ªäº‹ä»¶ä¸ä¼šè¢«è§¦å‘ã€‚</p>
<p>ä»£ç ä»¥åŠç¨‹åºæ¼”ç¤ºï¼š</p>
<p><img src="/2022/11/25/Electron-d-2-0/image-20221125090654139.png"></p>
<h6 id="ï¼ˆ5ï¼‰window-all-closed"><a href="#ï¼ˆ5ï¼‰window-all-closed" class="headerlink" title="ï¼ˆ5ï¼‰window-all-closed"></a>ï¼ˆ5ï¼‰window-all-closed</h6><p>å½“æ‰€æœ‰çš„çª—å£éƒ½è¢«å…³é—­æ—¶è§¦å‘ã€‚</p>
<p>å¦‚æœä½ æ²¡æœ‰ç›‘å¬æ­¤äº‹ä»¶å¹¶ä¸”æ‰€æœ‰çª—å£éƒ½å…³é—­äº†ï¼Œé»˜è®¤çš„è¡Œä¸ºæ˜¯æ§åˆ¶é€€å‡ºç¨‹åºï¼›ä½†å¦‚æœä½ ç›‘å¬äº†æ­¤äº‹ä»¶ï¼Œä½ å¯ä»¥æ§åˆ¶æ˜¯å¦é€€å‡ºç¨‹åºã€‚ å¦‚æœç”¨æˆ·æŒ‰ä¸‹äº† <code>Cmd + Q</code>ï¼Œæˆ–è€…å¼€å‘è€…è°ƒç”¨äº† <code>app.quit()</code>ï¼ŒElectron ä¼šé¦–å…ˆå…³é—­æ‰€æœ‰çš„çª—å£ç„¶åè§¦å‘ <code>will-quit</code> äº‹ä»¶ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ <code>window-all-closed</code>äº‹ä»¶ä¸ä¼šè¢«è§¦å‘ã€‚</p>
<p>ä»£ç ä»¥åŠç¨‹åºæ¼”ç¤ºï¼š</p>
<p><img src="/2022/11/25/Electron-d-2-0/image-20221125090909458.png"></p>
<h5 id="æ–¹æ³•ï¼š"><a href="#æ–¹æ³•ï¼š" class="headerlink" title="æ–¹æ³•ï¼š"></a>æ–¹æ³•ï¼š</h5><p>ç”±äºå„ç§app.æ–¹æ³•ä½¿ç”¨é¢‘ç‡éƒ½å·®ä¸å¤šï¼Œé‚£ä¹ˆæˆ‘ä»¬æ ¹æ®éœ€è¦çœ‹å®˜æ–¹æ–‡æ¡£å§ï¼ˆä¹Ÿæ¯”è¾ƒå®¹æ˜“çœ‹æ‡‚ï¼‰</p>
<p>[App.æ–¹æ³• æ–‡æ¡£]: 	â€œ<a href="https://www.electronjs.org/zh/docs/latest/api/app#%E6%96%B9%E6%B3%95">https://www.electronjs.org/zh/docs/latest/api/app#æ–¹æ³•</a> â€œ</p>
<h5 id="BrowserWindowï¼š"><a href="#BrowserWindowï¼š" class="headerlink" title="BrowserWindowï¼š"></a>BrowserWindowï¼š</h5><p><code>BrowserWindow</code> ç±»æš´éœ²äº†å„ç§æ–¹æ³•æ¥ä¿®æ”¹åº”ç”¨çª—å£çš„å¤–è§‚å’Œè¡Œä¸º</p>
<h6 id="ï¼ˆ1ï¼‰ä¼˜é›…çš„æ‰“å¼€çª—å£"><a href="#ï¼ˆ1ï¼‰ä¼˜é›…çš„æ‰“å¼€çª—å£" class="headerlink" title="ï¼ˆ1ï¼‰ä¼˜é›…çš„æ‰“å¼€çª—å£"></a>ï¼ˆ1ï¼‰ä¼˜é›…çš„æ‰“å¼€çª—å£</h6><p><code>ready-to-show</code> äº‹ä»¶</p>
<p>åœ¨åŠ è½½é¡µé¢æ—¶ï¼Œæ¸²æŸ“è¿›ç¨‹ç¬¬ä¸€æ¬¡å®Œæˆç»˜åˆ¶æ—¶ï¼Œå¦‚æœçª—å£è¿˜æ²¡æœ‰è¢«æ˜¾ç¤ºï¼Œæ¸²æŸ“è¿›ç¨‹ä¼šå‘å‡º <code>ready-to-show</code> äº‹ä»¶ ã€‚ åœ¨æ­¤äº‹ä»¶åæ˜¾ç¤ºçª—å£å°†æ²¡æœ‰è§†è§‰é—ªçƒï¼šï¼ˆä¸ä¼šæœ‰ç™½å±å‡ºç°ï¼Œä½†å¦‚æœç»˜åˆ¶æ²¡æœ‰å®Œæˆï¼Œçª—å£å‡ºç°çš„æ—¶é—´ä¹Ÿä¼šå»¶é•¿ï¼Œæ ¹æ®ä¸šåŠ¡éœ€æ±‚æ¥é€‰æ‹©æ˜¯å¦è¦é€‰æ‹©è¿™ç§ä¼˜é›…çš„æ‰“å¼€çª—å£æ–¹å¼ï¼‰</p>
<p><img src="/2022/11/25/Electron-d-2-0/image-20221125093133167.png"></p>
<p>è¿™ä¸ªäº‹ä»¶é€šå¸¸åœ¨ <code>did-finish-load</code> äº‹ä»¶ä¹‹åå‘å‡ºï¼Œä½†æ˜¯é¡µé¢æœ‰è®¸å¤šè¿œç¨‹èµ„æºæ—¶ï¼Œå®ƒå¯èƒ½ä¼šåœ¨ <code>did-finish-load</code>ä¹‹å‰å‘å‡ºäº‹ä»¶ã€‚</p>
<p><code>backgroundColor</code>å±æ€§</p>
<p>å¯¹äºä¸€ä¸ªå¤æ‚çš„åº”ç”¨ï¼Œ<code>ready-to-show</code> å¯èƒ½å‘å‡ºçš„å¤ªæ™šï¼Œä¼šè®©åº”ç”¨æ„Ÿè§‰ç¼“æ…¢ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå»ºè®®ç«‹åˆ»æ˜¾ç¤ºçª—å£ï¼Œå¹¶ä½¿ç”¨æ¥è¿‘åº”ç”¨ç¨‹åºèƒŒæ™¯çš„ <code>backgroundColor</code></p>
<p><img src="/2022/11/25/Electron-d-2-0/image-20221125093813389.png"></p>
<p><img src="/2022/11/25/Electron-d-2-0/image-20221125093827541.png"></p>
<p>å»ºè®® è®¾ç½® <code>backgroundColor</code>å’Œ <code>ready-to-show</code> äº‹ä»¶ä¸€èµ·ç”¨ï¼Œä»¥ä½¿åº”ç”¨æ„Ÿè§‰æ›´æ¥è¿‘åŸç”Ÿã€‚</p>
<pre><code class="javascript">//backgroundColoræœ‰æ•ˆå€¼
const win = new BrowserWindow()
win.setBackgroundColor(&#39;hsl(230, 100%, 50%)&#39;)
win.setBackgroundColor(&#39;rgb(255, 145, 145)&#39;)
win.setBackgroundColor(&#39;#ff00a3&#39;)
win.setBackgroundColor(&#39;blueviolet&#39;)
</code></pre>
<h6 id="ï¼ˆ2ï¼‰çˆ¶å­çª—å£-amp-amp-æ¨¡æ€çª—å£"><a href="#ï¼ˆ2ï¼‰çˆ¶å­çª—å£-amp-amp-æ¨¡æ€çª—å£" class="headerlink" title="ï¼ˆ2ï¼‰çˆ¶å­çª—å£&amp;&amp;æ¨¡æ€çª—å£"></a>ï¼ˆ2ï¼‰çˆ¶å­çª—å£&amp;&amp;æ¨¡æ€çª—å£</h6><p>çˆ¶å­çª—å£ï¼š</p>
<p>é€šè¿‡ä½¿ç”¨ <code>parent</code> é€‰é¡¹ï¼Œä½ å¯ä»¥åˆ›å»ºå­çª—å£ï¼š</p>
<pre><code class="javascript">const &#123; BrowserWindow &#125; = require(&#39;electron&#39;)

const top = new BrowserWindow()
const child = new BrowserWindow(&#123; parent: top &#125;)
child.show()
top.show()
</code></pre>
<p><code>child</code> çª—å£å°†æ€»æ˜¯æ˜¾ç¤ºåœ¨ <code>top</code> çª—å£çš„é¡¶éƒ¨.</p>
<p><img src="/2022/11/25/Electron-d-2-0/image-20221125094829288.png"></p>
<p>æ¨¡æ€çª—å£</p>
<p>æ¨¡æ€çª—å£æ˜¯ç¦ç”¨çˆ¶çª—å£çš„å­çª—å£ï¼Œåˆ›å»ºæ¨¡æ€çª—å£å¿…é¡»è®¾ç½® <code>parent</code> å’Œ <code>modal</code> é€‰é¡¹ï¼š</p>
<pre><code class="javascript">const &#123; BrowserWindow &#125; = require(&#39;electron&#39;)

const child = new BrowserWindow(&#123; parent: top, modal: true, show: false &#125;)
child.loadURL(&#39;https://github.com&#39;)
child.once(&#39;ready-to-show&#39;, () =&gt; &#123;
  child.show()
&#125;)
</code></pre>
<p><img src="/2022/11/25/Electron-d-2-0/image-20221125095057232.png"></p>
<h6 id="ï¼ˆ3ï¼‰BrowserWindowå±æ€§"><a href="#ï¼ˆ3ï¼‰BrowserWindowå±æ€§" class="headerlink" title="ï¼ˆ3ï¼‰BrowserWindowå±æ€§"></a>ï¼ˆ3ï¼‰BrowserWindowå±æ€§</h6><p>è¿™ä¸ªBrowserWindowå±æ€§ æ¯”è¾ƒå¤šï¼Œè€Œä¸”éƒ½æ˜¯è®¾ç½®çª—å£çš„ä¸€äº›å±æ€§ï¼Œä¹Ÿæ˜¯ä¸éš¾ç†è§£ï¼Œæˆ‘ä»¬å°±å¯¹ç…§æˆ‘ä»¬çš„å®˜æ–¹æ–‡æ¡£æ¥å­¦ä¹ å§ï¼</p>
<p>[BrowserWindowå±æ€§]: 	â€œ<a href="https://www.electronjs.org/zh/docs/latest/api/browser-window#new-browserwindowoptions">https://www.electronjs.org/zh/docs/latest/api/browser-window#new-browserwindowoptions</a> â€œ</p>
<h6 id="ï¼ˆ4ï¼‰webContents"><a href="#ï¼ˆ4ï¼‰webContents" class="headerlink" title="ï¼ˆ4ï¼‰webContents"></a>ï¼ˆ4ï¼‰webContents</h6><p><code>did-finish-load</code> äº‹ä»¶</p>
<p>å¯¼èˆªå®Œæˆæ—¶è§¦å‘ï¼Œå³é€‰é¡¹å¡çš„æ—‹è½¬å™¨å°†åœæ­¢æ—‹è½¬ï¼Œå¹¶æŒ‡æ´¾<code>onload</code>äº‹ä»¶åã€‚</p>
<p>[webContentsç±»å®ä¾‹äº‹ä»¶]: 	â€œ<a href="https://www.electronjs.org/zh/docs/latest/api/web-contents#%E7%B1%BB-webcontents">https://www.electronjs.org/zh/docs/latest/api/web-contents#ç±»-webcontents</a> â€œ</p>
<h6 id="ï¼ˆ5ï¼‰ä¿å­˜çª—å£çŠ¶æ€"><a href="#ï¼ˆ5ï¼‰ä¿å­˜çª—å£çŠ¶æ€" class="headerlink" title="ï¼ˆ5ï¼‰ä¿å­˜çª—å£çŠ¶æ€"></a>ï¼ˆ5ï¼‰ä¿å­˜çª—å£çŠ¶æ€</h6><p>å½“æˆ‘ä»¬ä½¿ç”¨æ¡Œé¢ç¨‹åºçš„æ—¶å€™ï¼Œé‚£ä¹ˆæˆ‘ä»¬æœ‰æ—¶å€™å¸Œæœ›æˆ‘ä»¬å…³é—­ç¨‹åºå†æ¬¡æ‰“å¼€ç¨‹åºçš„æ—¶å€™ï¼Œç¨‹åºçš„ç•Œé¢å’ŒçŠ¶æ€èƒ½å¤Ÿæ˜¯æˆ‘ä»¬å…³é—­å‰çš„æ ·å­ï¼Œä¸å¸Œæœ›å†å»é‡æ–°è®¾ç½®ã€‚é‚£æˆ‘ä»¬å°±éœ€è¦ä¸€ä¸ªåŒ…<code>electron-win-state</code> </p>
<p>å®‰è£…è¿™ä¸ªåŒ…</p>
<pre><code class="ini">npm i electron-win-state -S
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥åœ¨npmjså®˜ç½‘ä¸Šæ‰¾åˆ°è¿™ä¸ªåŒ…ï¼Œå»çœ‹å®ƒçš„è¯´æ˜æ–‡æ¡£</p>
<p><img src="/2022/11/25/Electron-d-2-0/image-20221125101014250.png"></p>
<p>æ ¹æ®ä½¿ç”¨è¯´æ˜ï¼Œæˆ‘ä»¬ä»£ç å¦‚ä¸‹ï¼š</p>
<p><img src="/2022/11/25/Electron-d-2-0/image-20221125101245297.png"></p>
<p>æˆ‘ä»¬å‘ç°æŠ¥é”™äº†ï¼ŒWinState is not a constructor</p>
<p>å½“æˆ‘ä»¬æ‰“å°ä¸€ä¸‹WinStateçœ‹çœ‹ä»€ä¹ˆæƒ…å†µ</p>
<pre><code class="javascript">const WinState = require(&#39;electron-win-state&#39;)
console.log(WinState)
</code></pre>
<p><img src="/2022/11/25/Electron-d-2-0/image-20221125101446532.png"></p>
<p>å‘ç°æ²¡æœ‰ç›´æ¥å¼•å…¥WinStateï¼Œæˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹</p>
<pre><code class="javascript">const WinState = require(&#39;electron-win-state&#39;).default 
</code></pre>
<p>ç°åœ¨å°±æ²¡æŠ¥é”™äº†ã€‚</p>
<p>ä½†æ˜¯æˆ‘ä»¬å‘ç°ï¼Œè™½ç„¶å®‰è£…äº†è¿™ä¸ªåŒ…ï¼Œä½†æ˜¯æˆ‘ä»¬ç¨‹åºçš„çŠ¶æ€è¿˜æ˜¯æ²¡æœ‰æ”¹å˜ï¼Œè¿™å°±å¾ˆå¥‡æ€ªäº†ï¼Œå…¶å®ï¼Œæ˜¯æˆ‘ä»¬è‡ªå·±å·²ç»ç»™çª—å£è®¾ç½®äº†è‡ªå®šä¹‰å®½é«˜ï¼Œè¦†ç›–äº†ã€‚æˆ‘ä»¬ä¹Ÿç¼ºäº†ä¸€å¥ä»£ç ï¼›</p>
<pre><code class="javascript"> winState.manage(win)
</code></pre>
<p><img src="/2022/11/25/Electron-d-2-0/image-20221125102737449.png"></p>
<p>ç°åœ¨æˆ‘ä»¬çš„çŠ¶æ€ä¿å­˜å°±æ²¡é—®é¢˜äº†ã€‚å½“æˆ‘ä»¬å…³é—­çª—å£å†æ¬¡æ‰“å¼€çš„æ—¶å€™å°±æ˜¯å…³é—­ä¹‹å‰çš„æ ·å­äº†ã€‚</p>
<h4 id="2-dialog"><a href="#2-dialog" class="headerlink" title="2.dialog"></a>2.dialog</h4><p>è¿™äº›å…·ä½“å‚æ•°è¯·çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œä¸‹é¢å‡ ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ªpromiseå¯¹è±¡</p>
<h6 id="ï¼ˆ1ï¼‰dialog-showOpenDialog-browserWindow-options"><a href="#ï¼ˆ1ï¼‰dialog-showOpenDialog-browserWindow-options" class="headerlink" title="ï¼ˆ1ï¼‰dialog.showOpenDialog([browserWindow, ]options)"></a>ï¼ˆ1ï¼‰<code>dialog.showOpenDialog([browserWindow, ]options)</code></h6><h6 id="ï¼ˆ2ï¼‰dialog-showSaveDialog-browserWindow-options"><a href="#ï¼ˆ2ï¼‰dialog-showSaveDialog-browserWindow-options" class="headerlink" title="ï¼ˆ2ï¼‰dialog.showSaveDialog([browserWindow, ]options)"></a>ï¼ˆ2ï¼‰<code>dialog.showSaveDialog([browserWindow, ]options)</code></h6><h6 id="ï¼ˆ3ï¼‰dialog-showMessageBox-browserWindow-options"><a href="#ï¼ˆ3ï¼‰dialog-showMessageBox-browserWindow-options" class="headerlink" title="ï¼ˆ3ï¼‰dialog.showMessageBox([browserWindow, ]options)"></a>ï¼ˆ3ï¼‰<code>dialog.showMessageBox([browserWindow, ]options)</code></h6><p>[dialogæ–‡æ¡£]: 	â€œ<a href="https://www.electronjs.org/zh/docs/latest/api/dialog#dialogshowopendialogsyncbrowserwindow-options">https://www.electronjs.org/zh/docs/latest/api/dialog#dialogshowopendialogsyncbrowserwindow-options</a> â€œ</p>
<h4 id="3-å¿«æ·é”®ï¼ˆglobalShortcutï¼‰"><a href="#3-å¿«æ·é”®ï¼ˆglobalShortcutï¼‰" class="headerlink" title="3.å¿«æ·é”®ï¼ˆglobalShortcutï¼‰"></a>3.å¿«æ·é”®ï¼ˆglobalShortcutï¼‰</h4><blockquote>
<p>åœ¨åº”ç”¨ç¨‹åºæ²¡æœ‰é”®ç›˜ç„¦ç‚¹æ—¶ï¼Œç›‘å¬é”®ç›˜äº‹ä»¶ã€‚</p>
</blockquote>
<p><code>globalShortcut</code> æ¨¡å—å¯ä»¥åœ¨æ“ä½œç³»ç»Ÿä¸­æ³¨å†Œ&#x2F;æ³¨é”€å…¨å±€å¿«æ·é”®, ä»¥ä¾¿å¯ä»¥ä¸ºæ“ä½œå®šåˆ¶å„ç§å¿«æ·é”®ã€‚</p>
<p><strong>æ³¨æ„:</strong> å¿«æ·æ–¹å¼æ˜¯å…¨å±€çš„; å³ä½¿åº”ç”¨ç¨‹åºæ²¡æœ‰é”®ç›˜ç„¦ç‚¹, å®ƒä¹Ÿä»ç„¶åœ¨æŒç»­ç›‘å¬é”®ç›˜äº‹ä»¶ã€‚ åœ¨ app æ¨¡å—çš„ <code>ready</code> äº‹ä»¶å°±ç»ªä¹‹å‰ï¼Œè¿™ä¸ªæ¨¡å—ä¸èƒ½ä½¿ç”¨ã€‚</p>
<pre><code class="javascript">const &#123; app, globalShortcut &#125; = require(&#39;electron&#39;)

app.whenReady().then(() =&gt; &#123;
  // æ³¨å†Œä¸€ä¸ª&#39;CommandOrControl+X&#39; å¿«æ·é”®ç›‘å¬å™¨
  const ret = globalShortcut.register(&#39;CommandOrControl+X&#39;, () =&gt; &#123;
    console.log(&#39;CommandOrControl+X is pressed&#39;)
  &#125;)

  if (!ret) &#123;
    console.log(&#39;registration failed&#39;)
  &#125;

  // æ£€æŸ¥å¿«æ·é”®æ˜¯å¦æ³¨å†ŒæˆåŠŸ
  console.log(globalShortcut.isRegistered(&#39;CommandOrControl+X&#39;))
&#125;)

app.on(&#39;will-quit&#39;, () =&gt; &#123;
  // æ³¨é”€å¿«æ·é”®
  globalShortcut.unregister(&#39;CommandOrControl+X&#39;)

  // æ³¨é”€æ‰€æœ‰å¿«æ·é”®
  globalShortcut.unregisterAll()
&#125;)
</code></pre>
<p>æ–¹æ³•</p>
<p><code>globalShortcut</code> æ¨¡å—å…·æœ‰ä»¥ä¸‹æ–¹æ³•:</p>
<h6 id="ï¼ˆ1ï¼‰globalShortcut-register-accelerator-callback"><a href="#ï¼ˆ1ï¼‰globalShortcut-register-accelerator-callback" class="headerlink" title="ï¼ˆ1ï¼‰globalShortcut.register(accelerator, callback)"></a>ï¼ˆ1ï¼‰<code>globalShortcut.register(accelerator, callback)</code></h6><ul>
<li><code>accelerator</code> Accelerator</li>
<li><code>callback</code> Function</li>
</ul>
<p>è¿”å›<code>boolean</code> - å¿«æ·é”®æ³¨å†Œæ˜¯å¦æˆåŠŸ</p>
<p>æ³¨å†Œ <code>accelerator</code> çš„å…¨å±€å¿«æ·é”®ã€‚ å½“ç”¨æˆ·æŒ‰ä¸‹æ³¨å†Œå¿«æ·é”®æ—¶ï¼Œ <code>callback</code> ä¼šè¢«è°ƒç”¨ã€‚</p>
<p>å¦‚æœæŒ‡å®šçš„å¿«æ·é”®å·²ç»è¢«å…¶ä»–åº”ç”¨ç¨‹åºæ³¨å†Œæ‰, è°ƒç”¨ä¼šé»˜é»˜å¤±è´¥ã€‚ è¯¥ç‰¹æ€§ç”±æ“ä½œç³»ç»Ÿå®šä¹‰ï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿä¸å¸Œæœ›å¤šä¸ªç¨‹åºçš„å…¨å±€å¿«æ·é”®äº’ç›¸å†²çªã€‚</p>
<p>åœ¨ macOS 10.14 Mojave ä¸‹é¢ï¼Œå¦‚æœ app æ²¡æœ‰è¢«æˆæƒä¸ºå¯ä¿¡ä»»ä½¿ç”¨çš„å®¢æˆ·ç«¯ï¼Œé‚£ä¹ˆä¸‹åˆ—å¿«æ·é”®ä¼šæ³¨å†Œå¤±è´¥ï¼š</p>
<ul>
<li>â€œMedia Play&#x2F;Pauseâ€</li>
<li>â€œMedia Next Trackâ€</li>
<li>â€œMedia Previous Trackâ€</li>
<li>â€œMedia Stopâ€</li>
</ul>
<h6 id="ï¼ˆ2ï¼‰globalShortcut-registerAll-accelerators-callback"><a href="#ï¼ˆ2ï¼‰globalShortcut-registerAll-accelerators-callback" class="headerlink" title="ï¼ˆ2ï¼‰globalShortcut.registerAll(accelerators, callback)"></a>ï¼ˆ2ï¼‰<code>globalShortcut.registerAll(accelerators, callback)</code></h6><ul>
<li><code>accelerators</code> string[] - an array of Accelerators.</li>
<li><code>callback</code> Function</li>
</ul>
<p>æ³¨å†Œå¤šä¸ªå…¨å±€å¿«æ·é”®ã€‚ å½“ç”¨æˆ·æŒ‰ä¸‹æ³¨å†Œå¿«æ·é”®æ—¶ï¼Œ <code>callback</code> ä¼šè¢«è°ƒç”¨ã€‚</p>
<p>å¦‚æœå®šä¹‰çš„å¿«æ·é”®å·²ç»è¢«å…¶ä»–åº”ç”¨å ç”¨ï¼Œè¿™ä¸ªè°ƒç”¨ä¼šå¤±æ•ˆã€‚ è¯¥ç‰¹æ€§ç”±æ“ä½œç³»ç»Ÿå®šä¹‰ï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿä¸å¸Œæœ›å¤šä¸ªç¨‹åºçš„å…¨å±€å¿«æ·é”®äº’ç›¸å†²çªã€‚</p>
<p>åœ¨ macOS 10.14 Mojave ä¸‹é¢ï¼Œå¦‚æœ app æ²¡æœ‰è¢«æˆæƒä¸ºå¯ä¿¡ä»»ä½¿ç”¨çš„å®¢æˆ·ç«¯ï¼Œé‚£ä¹ˆä¸‹åˆ—å¿«æ·é”®ä¼šæ³¨å†Œå¤±è´¥ï¼š</p>
<ul>
<li>â€œMedia Play&#x2F;Pauseâ€</li>
<li>â€œMedia Next Trackâ€</li>
<li>â€œMedia Previous Trackâ€</li>
<li>â€œMedia Stopâ€</li>
</ul>
<h6 id="ï¼ˆ3ï¼‰globalShortcut-isRegistered-accelerator"><a href="#ï¼ˆ3ï¼‰globalShortcut-isRegistered-accelerator" class="headerlink" title="ï¼ˆ3ï¼‰globalShortcut.isRegistered(accelerator)"></a>ï¼ˆ3ï¼‰<code>globalShortcut.isRegistered(accelerator)</code></h6><ul>
<li><code>accelerator</code> Accelerator</li>
</ul>
<p>Returns <code>boolean</code> - è¡¨ç¤º <code>accelerator</code> å…¨å±€å¿«æ·é”®æ˜¯å¦æ³¨å†ŒæˆåŠŸ</p>
<p>å½“å¿«æ·é”®å·²ç»è¢«å…¶ä»–åº”ç”¨ç¨‹åºæ³¨å†Œæ—¶, æ­¤è°ƒç”¨ä¾ç„¶å°†è¿”å› <code>false</code>ã€‚ è¯¥ç‰¹æ€§ç”±æ“ä½œç³»ç»Ÿå®šä¹‰ï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿä¸å¸Œæœ›å¤šä¸ªç¨‹åºçš„å…¨å±€å¿«æ·é”®äº’ç›¸å†²çªã€‚</p>
<h6 id="ï¼ˆ4ï¼‰globalShortcut-unregister-accelerator"><a href="#ï¼ˆ4ï¼‰globalShortcut-unregister-accelerator" class="headerlink" title="ï¼ˆ4ï¼‰globalShortcut.unregister(accelerator)"></a>ï¼ˆ4ï¼‰<code>globalShortcut.unregister(accelerator)</code></h6><ul>
<li><code>accelerator</code> Accelerator</li>
</ul>
<p>æ³¨é”€ <code>accelerator</code> çš„å…¨å±€å¿«æ·é”®ã€‚</p>
<h6 id="ï¼ˆ5ï¼‰globalShortcut-unregisterAll"><a href="#ï¼ˆ5ï¼‰globalShortcut-unregisterAll" class="headerlink" title="ï¼ˆ5ï¼‰globalShortcut.unregisterAll()"></a>ï¼ˆ5ï¼‰<code>globalShortcut.unregisterAll()</code></h6><p>æ³¨é”€æ‰€æœ‰çš„å…¨å±€å¿«æ·é”®ï¼ˆæ¸…ç©ºè¯¥åº”ç”¨ç¨‹åºçš„æ‰€æœ‰å…¨å±€å¿«æ·é”®ï¼‰ã€‚</p>
<h4 id="4-èœå•ï¼ˆMenuï¼‰"><a href="#4-èœå•ï¼ˆMenuï¼‰" class="headerlink" title="4.èœå•ï¼ˆMenuï¼‰"></a>4.èœå•ï¼ˆMenuï¼‰</h4><p>æˆ‘ä»¬è¿™ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre><code class="javascript">//ä¸€ä¸ªç®€å•çš„èœå•æ¨¡æ¿
const &#123; app, Menu &#125; = require(&#39;electron&#39;)

const isMac = process.platform === &#39;darwin&#39;//åˆ¤æ–­æ˜¯ä¸æ˜¯macOS
//roleï¼šèœå•é€‰é¡¹
const template = [
  // &#123; role: &#39;appMenu&#39; &#125;
  ...(isMac ? [&#123;
    label: app.name,//æˆ‘ä»¬ç¨‹åºåç§°
    submenu: [
      &#123; role: &#39;about&#39; &#125;,
      &#123; type: &#39;separator&#39; &#125;,//åˆ†å‰²çº¿
      &#123; role: &#39;services&#39; &#125;,
      &#123; type: &#39;separator&#39; &#125;,//åˆ†å‰²çº¿
      &#123; role: &#39;hide&#39; &#125;,
      &#123; role: &#39;hideOthers&#39; &#125;,
      &#123; role: &#39;unhide&#39; &#125;,
      &#123; type: &#39;separator&#39; &#125;,//åˆ†å‰²çº¿
      &#123; role: &#39;quit&#39; &#125;
    ]
  &#125;] : []),
  // &#123; role: &#39;fileMenu&#39; &#125;
  &#123;
    label: &#39;File&#39;,
    submenu: [
      isMac ? &#123; role: &#39;close&#39; &#125; : &#123; role: &#39;quit&#39; &#125;
    ]
  &#125;,
  // &#123; role: &#39;editMenu&#39; &#125;
  &#123;
    label: &#39;Edit&#39;,
    submenu: [
      &#123; role: &#39;undo&#39; &#125;,
      &#123; role: &#39;redo&#39; &#125;,
      &#123; type: &#39;separator&#39; &#125;,//åˆ†å‰²çº¿
      &#123; role: &#39;cut&#39; &#125;,
      &#123; role: &#39;copy&#39; &#125;,
      &#123; role: &#39;paste&#39; &#125;,
      ...(isMac ? [
        &#123; role: &#39;pasteAndMatchStyle&#39; &#125;,
        &#123; role: &#39;delete&#39; &#125;,
        &#123; role: &#39;selectAll&#39; &#125;,
        &#123; type: &#39;separator&#39; &#125;,//åˆ†å‰²çº¿
        &#123;
          label: &#39;Speech&#39;,
          submenu: [
            &#123; role: &#39;startSpeaking&#39; &#125;,
            &#123; role: &#39;stopSpeaking&#39; &#125;
          ]
        &#125;
      ] : [
        &#123; role: &#39;delete&#39; &#125;,
        &#123; type: &#39;separator&#39; &#125;,//åˆ†å‰²çº¿
        &#123; role: &#39;selectAll&#39; &#125;
      ])
    ]
  &#125;,
  // &#123; role: &#39;viewMenu&#39; &#125;
  &#123;
    label: &#39;View&#39;,
    submenu: [
      &#123; role: &#39;reload&#39; &#125;,
      &#123; role: &#39;forceReload&#39; &#125;,
      &#123; role: &#39;toggleDevTools&#39; &#125;,
      &#123; type: &#39;separator&#39; &#125;,//åˆ†å‰²çº¿
      &#123; role: &#39;resetZoom&#39; &#125;,
      &#123; role: &#39;zoomIn&#39; &#125;,
      &#123; role: &#39;zoomOut&#39; &#125;,
      &#123; type: &#39;separator&#39; &#125;,//åˆ†å‰²çº¿
      &#123; role: &#39;togglefullscreen&#39; &#125;
    ]
  &#125;,
  // &#123; role: &#39;windowMenu&#39; &#125;
  &#123;
    label: &#39;Window&#39;,
    submenu: [
      &#123; role: &#39;minimize&#39; &#125;,
      &#123; role: &#39;zoom&#39; &#125;,
      ...(isMac ? [
        &#123; type: &#39;separator&#39; &#125;,//åˆ†å‰²çº¿
        &#123; role: &#39;front&#39; &#125;,
        &#123; type: &#39;separator&#39; &#125;,//åˆ†å‰²çº¿
        &#123; role: &#39;window&#39; &#125;
      ] : [
        &#123; role: &#39;close&#39; &#125;
      ])
    ]
  &#125;,
  &#123;
    role: &#39;help&#39;,
    submenu: [
      &#123;
        label: &#39;Learn More&#39;,
        click: async () =&gt; &#123;
          //å®šä¹‰è‡ªå·±çš„èœå•æ–¹æ³•
          const &#123; shell &#125; = require(&#39;electron&#39;)
          await shell.openExternal(&#39;https://electronjs.org&#39;)
        &#125;
      &#125;,
      &#123;
        label:&#39;alanmf&#39;,
          click:()=&gt;&#123;console.log(&#39;shift+G&#39;)&#125;,
          accelerator:&#39;shift+G&#39;//å®šä¹‰å¿«æ·é”®
      &#125;
    ]
  &#125;
]

const menu = Menu.buildFromTemplate(template)//ä¸€èˆ¬æ¥è¯´ï¼Œ templateæ˜¯ä¸€ä¸ªoptionsç±»å‹çš„æ•°ç»„ï¼Œç”¨äºæ„å»ºMenuItemã€‚ ä½¿ç”¨æ–¹æ³•å¯å‚è€ƒå‰æ–‡ã€‚è¿˜å¯ä»¥å°†å…¶ä»–å­—æ®µé™„åŠ åˆ°templateï¼Œå®ƒä»¬å°†æˆä¸ºèœå•é¡¹çš„å±æ€§ã€‚
Menu.setApplicationMenu(menu)//åœ¨macOSä¸Šå°† menuè®¾ç½®æˆåº”ç”¨å†…èœå• åœ¨windowså’ŒLinuxä¸Šï¼Œmenu å°†ä¼šè¢«è®¾ç½®æˆçª—å£é¡¶éƒ¨èœå•åœ¨Windowså’ŒLinuxä¸­
</code></pre>
<p><img src="/2022/11/25/Electron-d-2-0/image-20221125155603331.png"></p>
<p>[Menuèœå•æ–‡æ¡£]: 	â€œ<a href="https://www.electronjs.org/zh/docs/latest/api/menu">https://www.electronjs.org/zh/docs/latest/api/menu</a> â€œ<br>[roleçš„å±æ€§å€¼]: 	â€œ<a href="https://www.electronjs.org/zh/docs/latest/api/menu-item#%E8%A7%92%E8%89%B2">https://www.electronjs.org/zh/docs/latest/api/menu-item#è§’è‰²</a> â€œ</p>
<h4 id="5-ç³»ç»Ÿæ‰˜ç›˜ï¼ˆTrayï¼‰"><a href="#5-ç³»ç»Ÿæ‰˜ç›˜ï¼ˆTrayï¼‰" class="headerlink" title="5.ç³»ç»Ÿæ‰˜ç›˜ï¼ˆTrayï¼‰"></a>5.ç³»ç»Ÿæ‰˜ç›˜ï¼ˆTrayï¼‰</h4><blockquote>
<p>æ·»åŠ å›¾æ ‡å’Œä¸Šä¸‹æ–‡èœå•åˆ°ç³»ç»Ÿé€šçŸ¥åŒº</p>
</blockquote>
<pre><code class="javascript">const &#123; app, Menu, Tray &#125; = require(&#39;electron&#39;)

let tray = null
app.whenReady().then(() =&gt; &#123;
  tray = new Tray(&#39;/path/to/my/icon&#39;) //å®šä¹‰iconçš„è·¯å¾„
  const contextMenu = Menu.buildFromTemplate([
    &#123; label: &#39;Item1&#39;, type: &#39;radio&#39; &#125;,
    &#123; label: &#39;Item2&#39;, type: &#39;radio&#39; &#125;,
    &#123; label: &#39;Item3&#39;, type: &#39;radio&#39;, checked: true &#125;,
    &#123; label: &#39;Item4&#39;, type: &#39;radio&#39; &#125;
  ])
  tray.setToolTip(&#39;This is my application.&#39;)//è®¾ç½®é¼ æ ‡æŒ‡é’ˆåœ¨æ‰˜ç›˜å›¾æ ‡ä¸Šæ‚¬åœæ—¶æ˜¾ç¤ºçš„æ–‡æœ¬
  tray.setContextMenu(contextMenu)//è®¾ç½®ä¸Šä¸‹æ–‡èœå•åˆ°æ‰˜ç›˜
&#125;)
</code></pre>
<p>å…¶å®è¿™ä¸ªTrayè·ŸMenuæ˜¯å¸ƒå±€å·®ä¸å¤ªå¤šçš„ï¼Œæ‰€ä»¥å­¦ä¹ èµ·æ¥ä¹Ÿä¸æ˜¯å¾ˆéš¾ç†è§£äº†ã€‚å…·ä½“äº‹ä»¶å’Œæ–¹æ³•ä¹Ÿä¸æ˜¯ç‰¹åˆ«å¤šï¼Œæˆ‘ä»¬å°±ç›´æ¥çœ‹å®˜æ–¹APIæ–‡æ¡£å§ï¼</p>
<p>[Trayæ–‡æ¡£]: 	â€œ<a href="https://www.electronjs.org/zh/docs/latest/api/tray">https://www.electronjs.org/zh/docs/latest/api/tray</a> â€œ</p>
<h4 id="6-è§¦æ§æ¿ï¼ˆTouchBarï¼‰"><a href="#6-è§¦æ§æ¿ï¼ˆTouchBarï¼‰" class="headerlink" title="6.è§¦æ§æ¿ï¼ˆTouchBarï¼‰"></a>6.è§¦æ§æ¿ï¼ˆTouchBarï¼‰</h4><p><strong>æ³¨æ„:</strong> TouchBar APIç›®å‰ä¸ºå®éªŒæ€§è´¨ï¼Œå¯èƒ½ä¼šæ›´æ”¹æˆ–åˆ é™¤ã€‚</p>
<p>å¦‚æœå®˜ç½‘æ¨èçš„TouchBaræ¨¡æ‹Ÿå™¨ä¸‹è½½å¤±è´¥ï¼Œè‡ªå·±æœç´¢ä¸€ä¸‹å³å¯ã€‚ï¼ˆå¦‚æœä¸‹è½½çš„æ‰“ä¸å¼€ï¼Œé‚£å°±åœ¨åº”ç”¨ç¨‹åº-&gt;å³é”®æ˜¾ç¤ºåŒ…å†…å®¹-&gt;å¦‚ä¸‹ï¼‰æ‰§è¡Œå°±å¯ä»¥äº†</p>
<p><img src="/2022/11/25/Electron-d-2-0/image-20221125172856290.png"></p>
<pre><code class="javascript">//touchbar.js
const &#123; app, BrowserWindow, TouchBar &#125; = require(&#39;electron&#39;)

const &#123; TouchBarLabel, TouchBarButton, TouchBarSpacer &#125; = TouchBar

let spinning = false

// ç±»ä¼¼è€è™æœºçš„æ»šè½´æ ‡ç­¾
const reel1 = new TouchBarLabel()
const reel2 = new TouchBarLabel()
const reel3 = new TouchBarLabel()

// æ—‹è½¬ç»“æœæ ‡ç­¾
const result = new TouchBarLabel()

// æ—‹è½¬æŒ‰é’®
const spin = new TouchBarButton(&#123;
  label: &#39;ğŸ° Spin&#39;,
  backgroundColor: &#39;#7851A9&#39;,
  click: () =&gt; &#123;
    // Ignore clicks if already spinning
    if (spinning) &#123;
      return
    &#125;

    spinning = true
    result.label = &#39;&#39;

    let timeout = 10
    const spinLength = 4 * 1000 // 4 seconds
    const startTime = Date.now()

    const spinReels = () =&gt; &#123;
      updateReels()

      if ((Date.now() - startTime) &gt;= spinLength) &#123;
        finishSpin()
      &#125; else &#123;
        // Slow down a bit on each spin
        timeout *= 1.1
        setTimeout(spinReels, timeout)
      &#125;
    &#125;

    spinReels()
  &#125;
&#125;)

const getRandomValue = () =&gt; &#123;
  const values = [&#39;ğŸ’&#39;, &#39;ğŸ’&#39;, &#39;7ï¸âƒ£&#39;, &#39;ğŸŠ&#39;, &#39;ğŸ””&#39;, &#39;â­&#39;, &#39;ğŸ‡&#39;, &#39;ğŸ€&#39;]
  return values[Math.floor(Math.random() * values.length)]
&#125;

const updateReels = () =&gt; &#123;
  reel1.label = getRandomValue()
  reel2.label = getRandomValue()
  reel3.label = getRandomValue()
&#125;

const finishSpin = () =&gt; &#123;
  const uniqueValues = new Set([reel1.label, reel2.label, reel3.label]).size
  if (uniqueValues === 1) &#123;
    // All 3 values are the same
    result.label = &#39;ğŸ’° Jackpot!&#39;
    result.textColor = &#39;#FDFF00&#39;
  &#125; else if (uniqueValues === 2) &#123;
    // 2ä¸ªå€¼ç›¸åŒ
    result.label = &#39;ğŸ˜ Winner!&#39;
    result.textColor = &#39;#FDFF00&#39;
  &#125; else &#123;
    // æ²¡æœ‰å€¼ç›¸åŒ
    result.label = &#39;ğŸ™ Spin Again&#39;
    result.textColor = null
  &#125;
  spinning = false
&#125;

const touchBar = new TouchBar(&#123;
  items: [
    spin,
    new TouchBarSpacer(&#123; size: &#39;large&#39; &#125;),
    reel1,
    new TouchBarSpacer(&#123; size: &#39;small&#39; &#125;),
    reel2,
    new TouchBarSpacer(&#123; size: &#39;small&#39; &#125;),
    reel3,
    new TouchBarSpacer(&#123; size: &#39;large&#39; &#125;),
    result
  ]
&#125;)

let window

app.whenReady().then(() =&gt; &#123;
  window = new BrowserWindow(&#123;
    frame: false,
    titleBarStyle: &#39;hiddenInset&#39;,
    width: 200,
    height: 200,
    backgroundColor: &#39;#000&#39;
  &#125;)
  window.loadURL(&#39;about:blank&#39;)
  window.setTouchBar(touchBar)
&#125;)
</code></pre>
<p>è¿è¡Œå‘½ä»¤ï¼š</p>
<pre><code class="ini">./node_modules/.bin/electron touchbar.js
</code></pre>
<p><img src="/2022/11/25/Electron-d-2-0/image-20221125172447369.png"></p>
<p>[TouchBaræ–‡æ¡£]: 	â€œ<a href="https://www.electronjs.org/zh/docs/latest/api/touch-bar&quot;">https://www.electronjs.org/zh/docs/latest/api/touch-bar&quot;</a></p>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><p>[Electronå®˜æ–¹æ–‡æ¡£]: 	â€œ<a href="https://www.electronjs.org/zh/docs/latest/api/app">https://www.electronjs.org/zh/docs/latest/api/app</a> â€œ<br>[npmjs]: 	â€œ<a href="https://www.npmjs.com/">https://www.npmjs.com/</a> â€œ</p>
]]></content>
      <categories>
        <category>Electron</category>
        <category>Electron-d-2.0</category>
      </categories>
      <tags>
        <tag>electron</tag>
      </tags>
  </entry>
  <entry>
    <title>Electron-d-1.0</title>
    <url>/2022/11/24/Electron-d-1-0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Electron"><a href="#Electron" class="headerlink" title="Electron"></a>Electron</h1><h3 id="ä¸€ã€æ„å»ºç¬¬ä¸€ä¸ªelectronåº”ç”¨"><a href="#ä¸€ã€æ„å»ºç¬¬ä¸€ä¸ªelectronåº”ç”¨" class="headerlink" title="ä¸€ã€æ„å»ºç¬¬ä¸€ä¸ªelectronåº”ç”¨"></a>ä¸€ã€æ„å»ºç¬¬ä¸€ä¸ªelectronåº”ç”¨</h3><h4 id="1-åˆå§‹åŒ–"><a href="#1-åˆå§‹åŒ–" class="headerlink" title="1.åˆå§‹åŒ–"></a>1.åˆå§‹åŒ–</h4><pre><code class="ini">npm init -y //åˆå§‹åŒ–é¡¹ç›®
npm install --save-dev electron //ä¸‹è½½electronåˆ°å¼€å‘ä¾èµ–
</code></pre>
<h4 id="2-åˆ›å»ºå…¥å£index-html"><a href="#2-åˆ›å»ºå…¥å£index-html" class="headerlink" title="2.åˆ›å»ºå…¥å£index.html"></a>2.åˆ›å»ºå…¥å£index.html</h4><pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP --&gt;
    &lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src &#39;self&#39;; script-src &#39;self&#39;&quot;&gt;
    &lt;title&gt;Hello World!&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Hello World!&lt;/h1&gt;
    We are using Node.js &lt;span id=&quot;node-version&quot;&gt;&lt;/span&gt;,
    Chromium &lt;span id=&quot;chrome-version&quot;&gt;&lt;/span&gt;,
    and Electron &lt;span id=&quot;electron-version&quot;&gt;&lt;/span&gt;.
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h4 id="3-åˆ›å»ºå…¥å£æ–‡ä»¶"><a href="#3-åˆ›å»ºå…¥å£æ–‡ä»¶" class="headerlink" title="3.åˆ›å»ºå…¥å£æ–‡ä»¶"></a>3.åˆ›å»ºå…¥å£æ–‡ä»¶</h4><pre><code class="javascript">//main.js
const &#123; app,BrowserWindow &#125; = require(&#39;electron&#39;)

const createWindow = () =&gt; &#123;
    const win = new BrowserWindow(&#123;
      width: 800,
      height: 600
    &#125;)
  
    win.loadFile(&#39;index.html&#39;)
  &#125;

app.whenReady().then(() =&gt; &#123;
    createWindow()
  &#125;)
</code></pre>
<h4 id="4-åˆ›å»ºçª—å£åº”ç”¨"><a href="#4-åˆ›å»ºçª—å£åº”ç”¨" class="headerlink" title="4.åˆ›å»ºçª—å£åº”ç”¨"></a>4.åˆ›å»ºçª—å£åº”ç”¨</h4><p>Package.jsoné…ç½®</p>
<pre><code class="javascript">//Package.json
&#123;
  &quot;name&quot;: &quot;electron-app&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;ä¸€ä¸ªå¤„äºå®éªŒé˜¶æ®µçš„app&quot;,
  &quot;main&quot;: &quot;main.js&quot;,
  &quot;scripts&quot;: &#123;
    &quot;start&quot;: &quot;electron .&quot;
  &#125;,
  &quot;keywords&quot;: [],
  &quot;author&quot;: &quot;alanmf&quot;,
  &quot;license&quot;: &quot;MIT&quot;,
  &quot;devDependencies&quot;: &#123;
    &quot;electron&quot;: &quot;^21.3.0&quot;
  &#125;
&#125;
</code></pre>
<pre><code class="ini">npm start //æ‰§è¡Œ electron .
</code></pre>
<p><img src="/2022/11/24/Electron-d-1-0/image-20221123155226283.png"></p>
<p><img src="/2022/11/24/Electron-d-1-0/image-20221123155133707.png"></p>
<p>ä¸ºäº†æ›´æ–¹ä¾¿é¡µé¢æ›´æ–°æˆ‘ä»¬ä½¿ç”¨nodemon</p>
<p>nodemonæ˜¯ä¸€ä¸ªè‡ªåŠ¨é‡å¯nodeåº”ç”¨çš„å·¥å…·ï¼Œå½“ç›‘å¬çš„æ–‡ä»¶æˆ–ç›‘å¬ç›®å½•ä¸‹çš„æ–‡ä»¶å‘ç”Ÿä¿®æ”¹æ—¶ï¼Œè‡ªåŠ¨é‡å¯åº”ç”¨</p>
<pre><code class="ini">npm i nodemon -D
</code></pre>
<p>æ›´æ”¹package.json</p>
<pre><code class="javascript">//Package.json
&#123;
  &quot;name&quot;: &quot;electron-app&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;ä¸€ä¸ªå¤„äºå®éªŒé˜¶æ®µçš„app&quot;,
  &quot;main&quot;: &quot;main.js&quot;,
  &quot;scripts&quot;: &#123;
    &quot;start&quot;: &quot;nodemon --exec electron .&quot;
  &#125;,
  &quot;keywords&quot;: [],
  &quot;author&quot;: &quot;alanmf&quot;,
  &quot;license&quot;: &quot;MIT&quot;,
  &quot;devDependencies&quot;: &#123;
    &quot;electron&quot;: &quot;^21.3.0&quot;
  &#125;
&#125;
</code></pre>
<h3 id="äºŒã€electronæ ¸å¿ƒ"><a href="#äºŒã€electronæ ¸å¿ƒ" class="headerlink" title="äºŒã€electronæ ¸å¿ƒ"></a>äºŒã€electronæ ¸å¿ƒ</h3><h4 id="1-electronæ ¸å¿ƒæ¦‚å¿µ"><a href="#1-electronæ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="1.electronæ ¸å¿ƒæ¦‚å¿µ"></a>1.electronæ ¸å¿ƒæ¦‚å¿µ</h4><p><strong>ä¸»è¿›ç¨‹</strong>ï¼›å¯åŠ¨é¡¹ç›®æ—¶è¿è¡Œçš„main.jsè„šæœ¬å°±æ˜¯æˆ‘ä»¬è¯´çš„ä¸»è¿›ç¨‹ï¼Œåœ¨ä¸»è¿›ç¨‹è¿è¡Œçš„è„šæ­¥å¯ä»¥åˆ›å»ºwebé¡µé¢çš„å½¢å¼å±•ç¤ºGUIï¼Œä¸»è¿›ç¨‹åªæœ‰ä¸€ä¸ªã€‚</p>
<p><strong>æ¸²æŸ“è¿›ç¨‹</strong>ï¼šæ¯ä¸ªElectronçš„é¡µé¢éƒ½åœ¨è¿è¡Œç€è‡ªå·±çš„è¿›ç¨‹ï¼Œè¿™æ ·çš„è¿›ç¨‹ç§°ä¹‹ä¸ºæ¸²æŸ“è¿›ç¨‹ï¼ˆåŸºäºChromiumçš„å¤šè¿›ç¨‹ç»“æ„ï¼‰ã€‚</p>
<p><img src="/2022/11/24/Electron-d-1-0/image-20221123160858462.png"></p>
<p>ä¸»è¿›ç¨‹ä½¿ç”¨BrowserWindowåˆ›å»ºå®ä¾‹ï¼Œä¸»è¿›ç¨‹é”€æ¯åï¼Œå¯¹åº”çš„æ¸²æŸ“è¿›ç¨‹ä¼šè¢«ç»ˆæ­¢ã€‚ä¸»è¿›ç¨‹ä¸æ¸²æŸ“è¿›ç¨‹é€šè¿‡ IPC çš„æ–¹å¼ï¼ˆäº‹ä»¶é©±åŠ¨ï¼‰è¿›è¡Œé€šä¿¡ã€‚</p>
<h4 id="2-electronçª—å£æ§åˆ¶å°"><a href="#2-electronçª—å£æ§åˆ¶å°" class="headerlink" title="2.electronçª—å£æ§åˆ¶å°"></a>2.electronçª—å£æ§åˆ¶å°</h4><pre><code class="javascript">//æ‰“å¼€å¼€å‘è€…å·¥å…·
win.webContents.openDevTools();
//æš‚æ—¶å…³é—­å®‰å…¨è­¦å‘Šï¼ˆä¸æ¨èï¼‰
process.env[&#39;ELECTRON_DISABLE_SECURITY_WARNINGS&#39;] = &#39;true&#39;
</code></pre>
<pre><code class="javascript">//é…ç½®CSPï¼ˆé˜»æŒ¡ä¸€éƒ¨åˆ†å®‰å…¨è­¦å‘Šï¼‰
&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src &#39;self&#39;; script-src &#39;self&#39;&quot;&gt;
</code></pre>
<p><img src="/2022/11/24/Electron-d-1-0/image-20221123162757926.png"></p>
<h4 id="3-ä¸»è¿›ç¨‹äº‹ä»¶ç”Ÿå‘½å‘¨æœŸ"><a href="#3-ä¸»è¿›ç¨‹äº‹ä»¶ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="3.ä¸»è¿›ç¨‹äº‹ä»¶ç”Ÿå‘½å‘¨æœŸ"></a>3.ä¸»è¿›ç¨‹äº‹ä»¶ç”Ÿå‘½å‘¨æœŸ</h4><p>å…³é—­æ‰€æœ‰çª—å£æ—¶é€€å‡ºåº”ç”¨ <strong>Windows &amp; Linux</strong></p>
<p>åœ¨Windowså’ŒLinuxä¸Šï¼Œå…³é—­æ‰€æœ‰çª—å£é€šå¸¸ä¼šå®Œå…¨é€€å‡ºä¸€ä¸ªåº”ç”¨ç¨‹åºã€‚</p>
<p>ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œä½ éœ€è¦ç›‘å¬ <code>app</code> æ¨¡å—çš„ <code>&#39;window-all-closed&#39;äº‹ä»¶ã€‚å¦‚æœç”¨æˆ·ä¸æ˜¯åœ¨ macOS(</code>darwin<code>) ä¸Šè¿è¡Œç¨‹åºï¼Œåˆ™è°ƒç”¨ </code>app.quit()&#96;ã€‚</p>
<pre><code class="javascript">app.on(&#39;window-all-closed&#39;, () =&gt; &#123;
  //macOSç”¨æˆ·åœ¨å…³é—­çª—å£æ—¶ä¸ä¼šå…³é—­åº”ç”¨
  if (process.platform !== &#39;darwin&#39;) app.quit()
&#125;)
</code></pre>
<p>å½“ Linux å’Œ Windows åº”ç”¨åœ¨æ²¡æœ‰çª—å£æ‰“å¼€æ—¶é€€å‡ºäº†ï¼ŒmacOS åº”ç”¨é€šå¸¸å³ä½¿åœ¨æ²¡æœ‰æ‰“å¼€ä»»ä½•çª—å£çš„æƒ…å†µä¸‹ä¹Ÿç»§ç»­è¿è¡Œï¼Œå¹¶ä¸”åœ¨æ²¡æœ‰çª—å£å¯ç”¨çš„æƒ…å†µä¸‹æ¿€æ´»åº”ç”¨æ—¶ä¼šæ‰“å¼€æ–°çš„çª—å£ã€‚</p>
<p>ä¸ºäº†å®ç°è¿™ä¸€ç‰¹æ€§ï¼Œç›‘å¬ <code>app</code> æ¨¡å—çš„ <code>activate</code> äº‹ä»¶ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•æµè§ˆå™¨çª—å£æ˜¯æ‰“å¼€çš„ï¼Œåˆ™è°ƒç”¨ <code>createWindow()</code> æ–¹æ³•ã€‚</p>
<p>å› ä¸ºçª—å£æ— æ³•åœ¨ <code>ready</code> äº‹ä»¶å‰åˆ›å»ºï¼Œä½ åº”å½“åœ¨ä½ çš„åº”ç”¨åˆå§‹åŒ–åä»…ç›‘å¬ <code>activate</code> äº‹ä»¶ã€‚ é€šè¿‡åœ¨æ‚¨ç°æœ‰çš„ <code>whenReady()</code> å›è°ƒä¸­é™„ä¸Šæ‚¨çš„äº‹ä»¶ç›‘å¬å™¨æ¥å®Œæˆè¿™ä¸ªæ“ä½œã€‚</p>
<pre><code class="javascript">app.whenReady().then(() =&gt; &#123;
  createWindow()
  app.on(&#39;activate&#39;, () =&gt; &#123;
    if (BrowserWindow.getAllWindows().length === 0) createWindow()
  &#125;)
&#125;)
</code></pre>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬çš„çª—å£çš„æ§ä»¶å°±å®Œæ•´äº†ï¼ˆå®ç°macOSç”¨æˆ·-æ²¡æœ‰çª—å£æ‰“å¼€æ—¶åˆ›å»ºæ–°çª—å£-å…³é—­çª—å£ä¸å…³é—­åº”ç”¨ï¼Œç‚¹å‡»ç¨‹åºååº”ç”¨æ‰“å¼€æ–°çª—å£ï¼‰</p>
<h4 id="4-é€šè¿‡é¢„åŠ è½½è„šæœ¬ä»æ¸²æŸ“å™¨è®¿é—®Node-js"><a href="#4-é€šè¿‡é¢„åŠ è½½è„šæœ¬ä»æ¸²æŸ“å™¨è®¿é—®Node-js" class="headerlink" title="4.é€šè¿‡é¢„åŠ è½½è„šæœ¬ä»æ¸²æŸ“å™¨è®¿é—®Node.js"></a>4.é€šè¿‡é¢„åŠ è½½è„šæœ¬ä»æ¸²æŸ“å™¨è®¿é—®Node.js</h4><p>ç°åœ¨ï¼Œæœ€åè¦åšçš„æ˜¯è¾“å‡ºElectronçš„ç‰ˆæœ¬å·å’Œå®ƒçš„ä¾èµ–é¡¹åˆ°ä½ çš„webé¡µé¢ä¸Šã€‚</p>
<p>åœ¨ä¸»è¿›ç¨‹é€šè¿‡Nodeçš„å…¨å±€ <code>process</code> å¯¹è±¡è®¿é—®è¿™ä¸ªä¿¡æ¯æ˜¯å¾®ä¸è¶³é“çš„ã€‚ ç„¶è€Œï¼Œä½ ä¸èƒ½ç›´æ¥åœ¨ä¸»è¿›ç¨‹ä¸­ç¼–è¾‘DOMï¼Œå› ä¸ºå®ƒæ— æ³•è®¿é—®æ¸²æŸ“å™¨ <code>æ–‡æ¡£</code> ä¸Šä¸‹æ–‡ã€‚ å®ƒä»¬å­˜åœ¨äºå®Œå…¨ä¸åŒçš„è¿›ç¨‹ï¼</p>
<p>è¿™æ˜¯å°† <strong>é¢„åŠ è½½</strong> è„šæœ¬è¿æ¥åˆ°æ¸²æŸ“å™¨æ—¶æ´¾ä¸Šç”¨åœºçš„åœ°æ–¹ã€‚ é¢„åŠ è½½è„šæœ¬åœ¨æ¸²æŸ“å™¨è¿›ç¨‹åŠ è½½ä¹‹å‰åŠ è½½ï¼Œå¹¶æœ‰æƒè®¿é—®ä¸¤ä¸ª æ¸²æŸ“å™¨å…¨å±€ (ä¾‹å¦‚ <code>window</code> å’Œ <code>document</code>) å’Œ Node.js ç¯å¢ƒã€‚</p>
<p>åˆ›å»ºä¸€ä¸ªåä¸º <code>preload.js</code> çš„æ–°è„šæœ¬:</p>
<pre><code class="javascript">//preload.js
window.addEventListener(&#39;DOMContentLoaded&#39;, () =&gt; &#123;
  const replaceText = (selector, text) =&gt; &#123;
    const element = document.getElementById(selector)
    if (element) element.innerText = text
  &#125;

  for (const dependency of [&#39;chrome&#39;, &#39;node&#39;, &#39;electron&#39;]) &#123;
    replaceText(`$&#123;dependency&#125;-version`, process.versions[dependency])
  &#125;
&#125;)
</code></pre>
<p>ä¸Šé¢çš„ä»£ç è®¿é—® Node.js <code>process.versions</code> å¯¹è±¡ï¼Œå¹¶è¿è¡Œä¸€ä¸ªåŸºæœ¬çš„ <code>replaceText</code> è¾…åŠ©å‡½æ•°å°†ç‰ˆæœ¬å·æ’å…¥åˆ° HTML æ–‡æ¡£ä¸­ã€‚</p>
<p>è¦å°†æ­¤è„šæœ¬é™„åŠ åˆ°æ¸²æŸ“å™¨æµç¨‹ï¼Œè¯·åœ¨ä½ ç°æœ‰çš„ <code>BrowserWindow</code> æ„é€ å™¨ä¸­å°†è·¯å¾„ä¸­çš„é¢„åŠ è½½è„šæœ¬ä¼ å…¥ <code>webPreferences.preload</code> é€‰é¡¹ã€‚</p>
<pre><code class="javascript">// include the Node.js &#39;path&#39; module at the top of your file
const path = require(&#39;path&#39;)

// modify your existing createWindow() function
const createWindow = () =&gt; &#123;
  const win = new BrowserWindow(&#123;
    width: 800,
    height: 600,
    webPreferences: &#123;
      preload: path.join(__dirname, &#39;preload.js&#39;)
    &#125;
  &#125;)

  win.loadFile(&#39;index.html&#39;)
&#125;
// ...
</code></pre>
<p><img src="/2022/11/24/Electron-d-1-0/image-20221124081539904.png"></p>
<p>è¿™é‡Œä½¿ç”¨äº†ä¸¤ä¸ªNode.jsæ¦‚å¿µï¼š</p>
<ul>
<li><code>__dirname</code>å­—ç¬¦ä¸²æŒ‡å‘å½“å‰æ­£åœ¨æ‰§è¡Œè„šæœ¬çš„è·¯å¾„ (åœ¨æœ¬ä¾‹ä¸­ï¼Œå®ƒæŒ‡å‘ä½ çš„é¡¹ç›®çš„æ ¹æ–‡ä»¶å¤¹)ã€‚</li>
<li><code>path.join</code> API å°†å¤šä¸ªè·¯å¾„è”ç»“åœ¨ä¸€èµ·ï¼Œåˆ›å»ºä¸€ä¸ªè·¨å¹³å°çš„è·¯å¾„å­—ç¬¦ä¸²ã€‚</li>
</ul>
<p>æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç›¸å¯¹å½“å‰æ­£åœ¨æ‰§è¡ŒJavaScriptæ–‡ä»¶çš„è·¯å¾„ï¼Œè¿™æ ·ç›¸å¯¹è·¯å¾„å°†åœ¨å¼€å‘æ¨¡å¼å’Œæ‰“åŒ…æ¨¡å¼ä¸­éƒ½å°†æœ‰æ•ˆã€‚</p>
<h4 id="5-contextBridge"><a href="#5-contextBridge" class="headerlink" title="5.contextBridge"></a>5.contextBridge</h4><p><code>contextBridge</code>æ¨¡å—æœ‰ä»¥ä¸‹æ–¹æ³•:</p>
<p><code>contextBridge.exposeInMainWorld(apiKey, api)</code></p>
<ul>
<li><code>apiKey</code> string - å°† API æ³¨å…¥åˆ° <code>çª—å£</code> çš„é”®ã€‚ API å°†å¯é€šè¿‡ <code>window[apiKey]</code> è®¿é—®ã€‚</li>
<li><code>api</code> any - ä½ çš„ APIå¯ä»¥æ˜¯ä»€ä¹ˆæ ·çš„ä»¥åŠå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ç›¸å…³ä¿¡æ¯å¦‚ä¸‹ã€‚</li>
</ul>
<p>åº”ç”¨å¼€å‘æ¥å£ï¼ˆAPIï¼‰</p>
<p>æä¾›ç»™ <code>exposeInMainWorld</code> çš„ <code>api</code> å¿…é¡»æ˜¯ä¸€ä¸ª <code>Function</code>ï¼Œ <code>string</code>ï¼Œ <code>number</code>ï¼Œ <code>Array</code>ï¼Œ <code>boolean</code>ï¼›æˆ–ä¸€ä¸ªé”®ä¸ºå­—ç¬¦ä¸²ï¼Œå€¼ä¸ºä¸€ä¸ª <code>Function</code>ï¼Œ <code>string</code>ï¼Œ <code>number</code>ï¼Œ <code>Array</code>ï¼Œ <code>boolean</code>çš„å¯¹è±¡ï¼›æˆ–å…¶ä»–ç¬¦åˆç›¸åŒæ¡ä»¶çš„åµŒå¥—å¯¹è±¡ã€‚</p>
<p><code>Function</code> ç±»å‹çš„å€¼è¢«ä»£ç†åˆ°å…¶ä»–ä¸Šä¸‹æ–‡ä¸­ï¼Œæ‰€æœ‰å…¶ä»–ç±»å‹çš„å€¼éƒ½ä¼šè¢« <strong>å¤åˆ¶</strong> å¹¶ <strong>å†»ç»“</strong>ã€‚ åœ¨ API ä¸­å‘é€çš„ä»»ä½•æ•°æ® &#x2F;åŸå§‹æ•°æ®å°†ä¸å¯æ”¹å˜ï¼Œåœ¨æ¡¥æ¥å™¨å…¶ä¸­ä¸€ä¾§çš„æ›´æ–°ä¸ä¼šå¯¼è‡´å¦ä¸€ä¾§çš„æ›´æ–°ã€‚</p>
<p>ä»£ç åº”ç”¨ï¼š</p>
<pre><code class="javascript">//preload.js+
const &#123; contextBridge &#125; = require(&#39;electron&#39;)

contextBridge.exposeInMainWorld(&#39;myApi&#39;,&#123;
    platform:process.platform
  &#125;)
</code></pre>
<p>é‚£æˆ‘ä»¬å°±å¯ä»¥åœ¨é¡µé¢ä¸Šå»è®¿é—®windowä¸Šçš„æ–¹æ³•äº†</p>
<pre><code class="javascript">//app.js
console.log(window.myApi.platform) //darwin
</code></pre>
<p><img src="/2022/11/24/Electron-d-1-0/image-20221124093018081.png"></p>
<h3 id="ä¸‰ã€ä¸»è¿›ç¨‹ä¸æ¸²æŸ“è¿›ç¨‹é€šä¿¡"><a href="#ä¸‰ã€ä¸»è¿›ç¨‹ä¸æ¸²æŸ“è¿›ç¨‹é€šä¿¡" class="headerlink" title="ä¸‰ã€ä¸»è¿›ç¨‹ä¸æ¸²æŸ“è¿›ç¨‹é€šä¿¡"></a>ä¸‰ã€ä¸»è¿›ç¨‹ä¸æ¸²æŸ“è¿›ç¨‹é€šä¿¡</h3><p>è¿›ç¨‹é—´é€šä¿¡ (IPC) æ˜¯åœ¨ Electron ä¸­æ„å»ºåŠŸèƒ½ä¸°å¯Œçš„æ¡Œé¢åº”ç”¨ç¨‹åºçš„å…³é”®éƒ¨åˆ†ä¹‹ä¸€ã€‚ ç”±äºä¸»è¿›ç¨‹å’Œæ¸²æŸ“å™¨è¿›ç¨‹åœ¨ Electron çš„è¿›ç¨‹æ¨¡å‹å…·æœ‰ä¸åŒçš„èŒè´£ï¼Œå› æ­¤ IPC æ˜¯æ‰§è¡Œè®¸å¤šå¸¸è§ä»»åŠ¡çš„å”¯ä¸€æ–¹æ³•ï¼Œä¾‹å¦‚ä» UI è°ƒç”¨åŸç”Ÿ API æˆ–ä»åŸç”Ÿèœå•è§¦å‘ Web å†…å®¹çš„æ›´æ”¹ã€‚</p>
<p>åœ¨ Electron ä¸­ï¼Œè¿›ç¨‹ä½¿ç”¨ <code>ipcMain</code> å’Œ <code>ipcRenderer</code>æ¨¡å—ï¼Œé€šè¿‡å¼€å‘äººå‘˜å®šä¹‰çš„â€œé€šé“â€ä¼ é€’æ¶ˆæ¯æ¥è¿›è¡Œé€šä¿¡ã€‚ è¿™äº›é€šé“æ˜¯ <strong>ä»»æ„</strong> ï¼ˆæ‚¨å¯ä»¥éšæ„å‘½åå®ƒä»¬ï¼‰å’Œ <strong>åŒå‘</strong> ï¼ˆæ‚¨å¯ä»¥åœ¨ä¸¤ä¸ªæ¨¡å—ä¸­ä½¿ç”¨ç›¸åŒçš„é€šé“åç§°ï¼‰çš„ã€‚</p>
<h4 id="1-æ¸²æŸ“å™¨è¿›ç¨‹åˆ°ä¸»è¿›ç¨‹ï¼ˆå•å‘"><a href="#1-æ¸²æŸ“å™¨è¿›ç¨‹åˆ°ä¸»è¿›ç¨‹ï¼ˆå•å‘" class="headerlink" title="1.æ¸²æŸ“å™¨è¿›ç¨‹åˆ°ä¸»è¿›ç¨‹ï¼ˆå•å‘ )"></a>1.æ¸²æŸ“å™¨è¿›ç¨‹åˆ°ä¸»è¿›ç¨‹ï¼ˆå•å‘ )</h4><p>è¦å°†å•å‘ IPC æ¶ˆæ¯ä»æ¸²æŸ“å™¨è¿›ç¨‹å‘é€åˆ°ä¸»è¿›ç¨‹ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ <code>ipcRenderer.send</code>API å‘é€æ¶ˆæ¯ï¼Œç„¶åä½¿ç”¨ <code>ipcMain.on</code>API æ¥æ”¶ã€‚</p>
<p>æˆ‘ä»¬ä¸‹è¾¹å°±æŒ‰ç…§å®˜ç½‘çš„ä¾‹å­æ¥è¯´å§ï¼</p>
<h5 id="1-ä½¿ç”¨-ipcMain-on-ç›‘å¬äº‹ä»¶"><a href="#1-ä½¿ç”¨-ipcMain-on-ç›‘å¬äº‹ä»¶" class="headerlink" title="(1) ä½¿ç”¨ ipcMain.on ç›‘å¬äº‹ä»¶"></a>(1) ä½¿ç”¨ <code>ipcMain.on</code> ç›‘å¬äº‹ä»¶</h5><p>åœ¨ä¸»è¿›ç¨‹ï¼ˆmain.jsï¼‰ä¸­ï¼Œä½¿ç”¨ <code>ipcMain.on</code> API åœ¨ <code>set-title</code> é€šé“ä¸Šè®¾ç½®ä¸€ä¸ª IPC ç›‘å¬å™¨:</p>
<pre><code class="javascript">//main.js+
const &#123; ipcMain &#125; = require(&#39;electron&#39;)
 ipcMain.on(&#39;set-title&#39;, (event, title) =&gt; &#123;
      const webContents = event.sender
      const win = BrowserWindow.fromWebContents(webContents)
      win.setTitle(title)
    &#125;)
</code></pre>
<h5 id="2-é€šè¿‡é¢„åŠ è½½è„šæœ¬æš´éœ²-ipcRenderer-send"><a href="#2-é€šè¿‡é¢„åŠ è½½è„šæœ¬æš´éœ²-ipcRenderer-send" class="headerlink" title="(2) é€šè¿‡é¢„åŠ è½½è„šæœ¬æš´éœ² ipcRenderer.send"></a>(2) é€šè¿‡é¢„åŠ è½½è„šæœ¬æš´éœ² <code>ipcRenderer.send</code></h5><p>è¦å°†æ¶ˆæ¯å‘é€åˆ°ä¸Šé¢åˆ›å»ºçš„ IPC ç›‘å¬å™¨ï¼Œå¯ä»¥ä½¿ç”¨ <code>ipcRenderer.send</code> APIã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¸²æŸ“å™¨è¿›ç¨‹æ²¡æœ‰æƒé™è®¿é—® Node.js å’Œ Electron æ¨¡å—ã€‚ ä½œä¸ºåº”ç”¨å¼€å‘è€…ï¼Œéœ€è¦ä½¿ç”¨ <code>contextBridge</code> API æ¥é€‰æ‹©è¦ä»é¢„åŠ è½½è„šæœ¬ä¸­æš´éœ²å“ªäº› APIã€‚</p>
<p>åœ¨æ‚¨çš„é¢„åŠ è½½è„šæœ¬ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œå‘æ¸²æŸ“å™¨è¿›ç¨‹æš´éœ²ä¸€ä¸ªå…¨å±€çš„ <code>window.electronAPI</code> å˜é‡ã€‚</p>
<pre><code class="javascript">//preload.js+
const &#123; contextBridge,ipcRenderer &#125; = require(&#39;electron&#39;)
contextBridge.exposeInMainWorld(&#39;electronAPI&#39;, &#123;
    setTitle: (title) =&gt; ipcRenderer.send(&#39;set-title&#39;, title)
&#125;)
</code></pre>
<p>æ­¤æ—¶ï¼Œå°†èƒ½å¤Ÿåœ¨æ¸²æŸ“å™¨è¿›ç¨‹ä¸­ä½¿ç”¨ <code>window.electronAPI.setTitle()</code> å‡½æ•°ã€‚</p>
<h5 id="3-æ„å»ºæ¸²æŸ“å™¨è¿›ç¨‹-UI"><a href="#3-æ„å»ºæ¸²æŸ“å™¨è¿›ç¨‹-UI" class="headerlink" title="(3) æ„å»ºæ¸²æŸ“å™¨è¿›ç¨‹ UI"></a>(3) æ„å»ºæ¸²æŸ“å™¨è¿›ç¨‹ UI</h5><p>åœ¨ BrowserWindow åŠ è½½çš„æˆ‘ä»¬çš„ HTML æ–‡ä»¶ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªç”±æ–‡æœ¬è¾“å…¥æ¡†å’ŒæŒ‰é’®ç»„æˆçš„åŸºæœ¬ç”¨æˆ·ç•Œé¢ï¼š</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP --&gt;
    &lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src &#39;self&#39;; script-src &#39;self&#39;&quot;&gt;
    &lt;title&gt;Hello World!&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    Title: &lt;input id=&quot;title&quot;/&gt;
    &lt;button id=&quot;btn&quot; type=&quot;button&quot;&gt;Set&lt;/button&gt;
    &lt;script src=&quot;./renderer/app.js&quot;&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>å°†åœ¨å¯¼å…¥çš„ <code>renderer.js</code> æ–‡ä»¶ä¸­æ·»åŠ å‡ è¡Œä»£ç ï¼Œä»¥åˆ©ç”¨ä»é¢„åŠ è½½è„šæœ¬ä¸­æš´éœ²çš„ <code>window.electronAPI</code> åŠŸèƒ½ï¼š</p>
<pre><code class="javascript">//app.js
const setButton = document.getElementById(&#39;btn&#39;)
const titleInput = document.getElementById(&#39;title&#39;)
setButton.addEventListener(&#39;click&#39;, () =&gt; &#123;
    const title = titleInput.value
    window.electronAPI.setTitle(title)
&#125;);
</code></pre>
<p>åˆ°ç›®å‰çš„ä»£ç ä¸ºæ­¢ï¼Œæˆ‘ä»¬çš„ä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹åˆ°ä¸»è¿›ç¨‹çš„è¿›ç¨‹é€šä¿¡å°±å·²ç»å®ç°äº†ï¼Œæˆ‘ä»¬å¯ä»¥è¯•ä¸€è¯•æˆ‘ä»¬çš„UIç•Œé¢åŠŸèƒ½</p>
<p><img src="/2022/11/24/Electron-d-1-0/image-20221124100800847.png"></p>
<h5 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h5><p>ï¼ï¼ï¼æˆ‘ä»¬ä¸Šé¢æœ‰ä¸€äº›åœ°æ–¹ä¸ç†è§£çš„æ–¹æ³•å’ŒAPIï¼Œæˆ‘ä»¬ç°åœ¨è®²ä¸€ä¸‹</p>
<p><img src="/2022/11/24/Electron-d-1-0/image-20221124101054114.png"></p>
<p>ä¸Šé¢çš„ å›è°ƒå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ª IpcMainEvent ç»“æ„å’Œä¸€ä¸ª <code>title</code> å­—ç¬¦ä¸²ã€‚ æ¯å½“æ¶ˆæ¯é€šè¿‡ <code>set-title</code> é€šé“ä¼ å…¥æ—¶ï¼Œæ­¤å‡½æ•°æ‰¾åˆ°é™„åŠ åˆ°æ¶ˆæ¯å‘é€æ–¹çš„ BrowserWindow å®ä¾‹ï¼Œå¹¶åœ¨è¯¥å®ä¾‹ä¸Šä½¿ç”¨ <code>win.setTitle</code> APIã€‚</p>
<p>æˆ‘ä»¬åªæ˜¯ä¸ºäº†æ›´ç®€å•çš„ç†è§£è¿›ç¨‹é€šä¿¡ï¼Œå…·ä½“ API è§å®˜æ–¹æ–‡æ¡£å§ï¼</p>
<p><img src="/2022/11/24/Electron-d-1-0/image-20221124101339509.png"></p>
<h4 id="2-æ¸²æŸ“å™¨è¿›ç¨‹åˆ°ä¸»è¿›ç¨‹ï¼ˆåŒå‘ï¼‰"><a href="#2-æ¸²æŸ“å™¨è¿›ç¨‹åˆ°ä¸»è¿›ç¨‹ï¼ˆåŒå‘ï¼‰" class="headerlink" title="2.æ¸²æŸ“å™¨è¿›ç¨‹åˆ°ä¸»è¿›ç¨‹ï¼ˆåŒå‘ï¼‰"></a>2.æ¸²æŸ“å™¨è¿›ç¨‹åˆ°ä¸»è¿›ç¨‹ï¼ˆåŒå‘ï¼‰</h4><p>åŒå‘ IPC çš„ä¸€ä¸ªå¸¸è§åº”ç”¨æ˜¯ä»æ¸²æŸ“å™¨è¿›ç¨‹ä»£ç è°ƒç”¨ä¸»è¿›ç¨‹æ¨¡å—å¹¶ç­‰å¾…ç»“æœã€‚ è¿™å¯ä»¥é€šè¿‡å°† <code>ipcRenderer.invoke</code> ä¸ <code>ipcMain.handle</code> æ­é…ä½¿ç”¨æ¥å®Œæˆã€‚</p>
<h5 id="1-ä½¿ç”¨-ipcMain-handle-ç›‘å¬äº‹ä»¶"><a href="#1-ä½¿ç”¨-ipcMain-handle-ç›‘å¬äº‹ä»¶" class="headerlink" title="(1)ä½¿ç”¨ ipcMain.handle ç›‘å¬äº‹ä»¶"></a>(1)ä½¿ç”¨ <code>ipcMain.handle</code> ç›‘å¬äº‹ä»¶</h5><p>åœ¨ä¸»è¿›ç¨‹(main.js)ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ª <code>handleFileOpen()</code> å‡½æ•°ï¼Œå®ƒè°ƒç”¨ <code>dialog.showOpenDialog</code> å¹¶è¿”å›ç”¨æˆ·é€‰æ‹©çš„æ–‡ä»¶è·¯å¾„å€¼ã€‚ æ¯å½“æ¸²æŸ“å™¨è¿›ç¨‹é€šè¿‡ <code>dialog:openFile</code> é€šé“å‘é€ <code>ipcRender.invoke</code> æ¶ˆæ¯æ—¶ï¼Œæ­¤å‡½æ•°è¢«ç”¨ä½œä¸€ä¸ªå›è°ƒã€‚ ç„¶åï¼Œè¿”å›å€¼å°†ä½œä¸ºä¸€ä¸ª Promise è¿”å›åˆ°æœ€åˆçš„ <code>invoke</code> è°ƒç”¨ã€‚</p>
<pre><code class="javascript">//main.js
const &#123; app,BrowserWindow,ipcMain,dialog &#125; = require(&#39;electron&#39;)
const path = require(&#39;path&#39;)

//å›è°ƒå‡½æ•°
async function handleFileOpen() &#123;
  const &#123; canceled, filePaths &#125; = await dialog.showOpenDialog()
  if (canceled) &#123;
    return
  &#125; else &#123;
    return filePaths[0]
  &#125;
&#125;

const createWindow = () =&gt; &#123;
    const win = new BrowserWindow(&#123;
      width: 800,
      height: 600,
      webPreferences: &#123;
        preload: path.join(__dirname, &#39;preload.js&#39;)
      &#125;
    &#125;)
    win.loadFile(&#39;index.html&#39;) 
    win.webContents.openDevTools()
    
  &#125;

  app.whenReady().then(() =&gt; &#123;
    //ç›‘å¬ï¼Œæ‰§è¡Œå›è°ƒ
    ipcMain.handle(&#39;dialog:openFile&#39;, handleFileOpen)
    createWindow()
    app.on(&#39;activate&#39;, () =&gt; &#123;
      if (BrowserWindow.getAllWindows().length === 0) createWindow()
    &#125;)
  &#125;)
  app.on(&#39;window-all-closed&#39;, () =&gt; &#123;
    if (process.platform !== &#39;darwin&#39;) app.quit()
  &#125;)
</code></pre>
<h5 id="2-é€šè¿‡é¢„åŠ è½½è„šæœ¬æš´éœ²-ipcRenderer-invoke"><a href="#2-é€šè¿‡é¢„åŠ è½½è„šæœ¬æš´éœ²-ipcRenderer-invoke" class="headerlink" title="(2)é€šè¿‡é¢„åŠ è½½è„šæœ¬æš´éœ² ipcRenderer.invoke"></a>(2)é€šè¿‡é¢„åŠ è½½è„šæœ¬æš´éœ² <code>ipcRenderer.invoke</code></h5><p>åœ¨é¢„åŠ è½½è„šæœ¬ä¸­ï¼Œæˆ‘ä»¬æš´éœ²äº†ä¸€ä¸ªå•è¡Œçš„ <code>openFile</code> å‡½æ•°ï¼Œå®ƒè°ƒç”¨å¹¶è¿”å› <code>ipcRenderer.invoke(&#39;dialog:openFile&#39;)</code> çš„å€¼ã€‚ æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€æ­¥ä¸­ä½¿ç”¨æ­¤ API ä»æ¸²æŸ“å™¨çš„ç”¨æˆ·ç•Œé¢è°ƒç”¨åŸç”Ÿå¯¹è¯æ¡†ã€‚</p>
<pre><code class="javascript">//preload.js
const &#123; contextBridge,ipcRenderer &#125; = require(&#39;electron&#39;)
 contextBridge.exposeInMainWorld(&#39;electronAPI&#39;, &#123;
    openFile: () =&gt; ipcRenderer.invoke(&#39;dialog:openFile&#39;)
&#125;)
</code></pre>
<h5 id="3-æ„å»ºæ¸²æŸ“å™¨è¿›ç¨‹-UI-1"><a href="#3-æ„å»ºæ¸²æŸ“å™¨è¿›ç¨‹-UI-1" class="headerlink" title="(3)æ„å»ºæ¸²æŸ“å™¨è¿›ç¨‹ UI"></a>(3)æ„å»ºæ¸²æŸ“å™¨è¿›ç¨‹ UI</h5><p>æœ€åï¼Œè®©æˆ‘ä»¬æ„å»ºåŠ è½½åˆ° BrowserWindow ä¸­çš„ HTML æ–‡ä»¶ã€‚</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP --&gt;
    &lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src &#39;self&#39;; script-src &#39;self&#39;&quot;&gt;
    &lt;title&gt;Dialog&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;button type=&quot;button&quot; id=&quot;btn&quot;&gt;Open a File&lt;/button&gt;
    File path: &lt;strong id=&quot;filePath&quot;&gt;&lt;/strong&gt;
    &lt;script src=&#39;./renderer/app.js&#39;&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>ç”¨æˆ·ç•Œé¢åŒ…å«ä¸€ä¸ª <code>#btn</code> æŒ‰é’®å…ƒç´ ï¼Œå°†ç”¨äºè§¦å‘æˆ‘ä»¬çš„é¢„åŠ è½½ APIï¼Œä»¥åŠä¸€ä¸ª <code>#filePath</code> å…ƒç´ ï¼Œå°†ç”¨äºæ˜¾ç¤ºæ‰€é€‰æ–‡ä»¶çš„è·¯å¾„ã€‚éœ€è¦åœ¨æ¸²æŸ“å™¨è¿›ç¨‹è„šæœ¬ä¸­ç¼–å†™å‡ è¡Œä»£ç </p>
<pre><code class="javascript">//app.js
const btn = document.getElementById(&#39;btn&#39;)
const filePathElement = document.getElementById(&#39;filePath&#39;)

btn.addEventListener(&#39;click&#39;, async () =&gt; &#123;
  const filePath = await window.electronAPI.openFile()
  filePathElement.innerText = filePath
&#125;)
</code></pre>
<p>åˆ°ç›®å‰çš„ä»£ç ä¸ºæ­¢ï¼Œæˆ‘ä»¬çš„ä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹åˆ°ä¸»è¿›ç¨‹çš„åŒå‘è¿›ç¨‹é€šä¿¡å°±å·²ç»å®ç°äº†ï¼Œæˆ‘ä»¬å¯ä»¥è¯•ä¸€è¯•æˆ‘ä»¬çš„UIç•Œé¢åŠŸèƒ½</p>
<p><img src="/2022/11/24/Electron-d-1-0/image-20221124103530122.png"></p>
<h5 id="æ€»ç»“ï¼š-1"><a href="#æ€»ç»“ï¼š-1" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h5><p><code>ipcRenderer.invoke</code> API ï¼ˆè€æ–¹æ³•äº†ï¼Œä½†ä¾ç„¶å¥½ç”¨ï¼‰æ˜¯åœ¨ Electron 7 ä¸­æ·»åŠ çš„ï¼Œä½œä¸ºå¤„ç†æ¸²æŸ“å™¨è¿›ç¨‹ä¸­åŒå‘ IPC çš„ä¸€ç§å¼€å‘äººå‘˜å‹å¥½çš„æ–¹å¼ã€‚ ä½†è¿™ç§ IPC æ¨¡å¼å­˜åœ¨å‡ ç§æ›¿ä»£æ–¹æ³•ã€‚</p>
<p>ä½¿ç”¨ <code>ipcRenderer.send</code>æˆ‘ä»¬ç”¨äºå•å‘é€šä¿¡çš„ <code>ipcRenderer.send</code> API ä¹Ÿå¯ç”¨äºåŒå‘é€šä¿¡ã€‚ è¿™æ˜¯åœ¨ Electron 7 ä¹‹å‰é€šè¿‡ IPC è¿›è¡Œå¼‚æ­¥åŒå‘é€šä¿¡çš„æ¨èæ–¹å¼ã€‚</p>
<pre><code class="javascript">//preload.js
// æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ `contextBridge` API
// å°†è¿™æ®µä»£ç æš´éœ²ç»™æ¸²æŸ“å™¨è¿›ç¨‹
const &#123; ipcRenderer &#125; = require(&#39;electron&#39;)

ipcRenderer.on(&#39;asynchronous-reply&#39;, (_event, arg) =&gt; &#123;
  console.log(arg) // åœ¨ DevTools æ§åˆ¶å°ä¸­æ‰“å°â€œpongâ€
&#125;)
ipcRenderer.send(&#39;asynchronous-message&#39;, &#39;ping&#39;)
</code></pre>
<pre><code class="javascript">//main.js
ipcMain.on(&#39;asynchronous-message&#39;, (event, arg) =&gt; &#123;
  console.log(arg) // åœ¨ Node æ§åˆ¶å°ä¸­æ‰“å°â€œpingâ€
  // ä½œç”¨å¦‚åŒ `send`ï¼Œä½†è¿”å›ä¸€ä¸ªæ¶ˆæ¯
  // åˆ°å‘é€åŸå§‹æ¶ˆæ¯çš„æ¸²æŸ“å™¨
  event.reply(&#39;asynchronous-reply&#39;, &#39;pong&#39;)
&#125;)
</code></pre>
<p>è¿™ç§æ–¹æ³•æœ‰å‡ ä¸ªç¼ºç‚¹ï¼š</p>
<ul>
<li>æ‚¨éœ€è¦è®¾ç½®ç¬¬äºŒä¸ª <code>ipcRenderer.on</code> ç›‘å¬å™¨æ¥å¤„ç†æ¸²æŸ“å™¨è¿›ç¨‹ä¸­çš„å“åº”ã€‚ ä½¿ç”¨ <code>invoke</code>ï¼Œæ‚¨å°†è·å¾—ä½œä¸º Promise è¿”å›åˆ°åŸå§‹ API è°ƒç”¨çš„å“åº”å€¼ã€‚</li>
<li>æ²¡æœ‰æ˜¾è€Œæ˜“è§çš„æ–¹æ³•å¯ä»¥å°† <code>asynchronous-reply</code> æ¶ˆæ¯ä¸åŸå§‹çš„ <code>asynchronous-message</code>æ¶ˆæ¯é…å¯¹ã€‚ å¦‚æœæ‚¨é€šè¿‡è¿™äº›é€šé“éå¸¸é¢‘ç¹åœ°æ¥å›ä¼ é€’æ¶ˆæ¯ï¼Œåˆ™éœ€è¦æ·»åŠ å…¶ä»–åº”ç”¨ä»£ç æ¥å•ç‹¬è·Ÿè¸ªæ¯ä¸ªè°ƒç”¨å’Œå“åº”ã€‚</li>
</ul>
<p>ä½¿ç”¨ <code>ipcRenderer.sendSync</code>APIä¹Ÿæ˜¯å¯ä»¥æ›¿ä»£çš„ï¼Œä½†ä¸æ¨è</p>
<p><code>ipcRenderer.sendSync</code> API å‘ä¸»è¿›ç¨‹å‘é€æ¶ˆæ¯ï¼Œå¹¶ <em>åŒæ­¥</em> ç­‰å¾…å“åº”ã€‚</p>
<pre><code class="javascript">//main.js
const &#123; ipcMain &#125; = require(&#39;electron&#39;)
ipcMain.on(&#39;synchronous-message&#39;, (event, arg) =&gt; &#123;
  console.log(arg) // åœ¨ Node æ§åˆ¶å°ä¸­æ‰“å°â€œpingâ€
  event.returnValue = &#39;pong&#39;
&#125;)
</code></pre>
<pre><code class="javascript">//perload.js
// æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ `contextBridge` API
// å°†è¿™æ®µä»£ç æš´éœ²ç»™æ¸²æŸ“å™¨è¿›ç¨‹
const &#123; ipcRenderer &#125; = require(&#39;electron&#39;)

const result = ipcRenderer.sendSync(&#39;synchronous-message&#39;, &#39;ping&#39;)
console.log(result) // åœ¨ DevTools æ§åˆ¶å°ä¸­æ‰“å°â€œpongâ€
</code></pre>
<p>è¿™ä»½ä»£ç çš„ç»“æ„ä¸ <code>invoke</code> æ¨¡å‹éå¸¸ç›¸ä¼¼ï¼Œä½†å‡ºäºæ€§èƒ½åŸå› ï¼Œæˆ‘ä»¬å»ºè®®<strong>é¿å…ä½¿ç”¨æ­¤ API</strong>ã€‚ å®ƒçš„åŒæ­¥ç‰¹æ€§æ„å‘³ç€å®ƒå°†é˜»å¡æ¸²æŸ“å™¨è¿›ç¨‹ï¼Œç›´åˆ°æ”¶åˆ°å›å¤ä¸ºæ­¢ã€‚(å®¹æ˜“é˜»å¡æ¸²æŸ“å™¨è¿›ç¨‹)</p>
<h4 id="3-ä¸»è¿›ç¨‹åˆ°æ¸²æŸ“å™¨è¿›ç¨‹"><a href="#3-ä¸»è¿›ç¨‹åˆ°æ¸²æŸ“å™¨è¿›ç¨‹" class="headerlink" title="3.ä¸»è¿›ç¨‹åˆ°æ¸²æŸ“å™¨è¿›ç¨‹"></a>3.ä¸»è¿›ç¨‹åˆ°æ¸²æŸ“å™¨è¿›ç¨‹</h4><p>å°†æ¶ˆæ¯ä»ä¸»è¿›ç¨‹å‘é€åˆ°æ¸²æŸ“å™¨è¿›ç¨‹æ—¶ï¼Œéœ€è¦æŒ‡å®šæ˜¯å“ªä¸€ä¸ªæ¸²æŸ“å™¨æ¥æ”¶æ¶ˆæ¯ã€‚ æ¶ˆæ¯éœ€è¦é€šè¿‡å…¶ <code>WebContents</code>å®ä¾‹å‘é€åˆ°æ¸²æŸ“å™¨è¿›ç¨‹ã€‚ æ­¤ WebContents å®ä¾‹åŒ…å«ä¸€ä¸ª <code>send</code> æ–¹æ³•ï¼Œå…¶ä½¿ç”¨æ–¹å¼ä¸ <code>ipcRenderer.send</code> ç›¸åŒã€‚</p>
<h5 id="1-ä½¿ç”¨-webContents-æ¨¡å—å‘é€æ¶ˆæ¯"><a href="#1-ä½¿ç”¨-webContents-æ¨¡å—å‘é€æ¶ˆæ¯" class="headerlink" title="(1)ä½¿ç”¨ webContents æ¨¡å—å‘é€æ¶ˆæ¯"></a>(1)ä½¿ç”¨ <code>webContents</code> æ¨¡å—å‘é€æ¶ˆæ¯</h5><p>æˆ‘ä»¬éœ€è¦é¦–å…ˆä½¿ç”¨ Electron çš„ <code>Menu</code> æ¨¡å—åœ¨ä¸»è¿›ç¨‹ä¸­æ„å»ºä¸€ä¸ªè‡ªå®šä¹‰èœå•ï¼Œè¯¥æ¨¡å—ä½¿ç”¨ <code>webContents.send</code> API å°† IPC æ¶ˆæ¯ä»ä¸»è¿›ç¨‹å‘é€åˆ°ç›®æ ‡æ¸²æŸ“å™¨ã€‚</p>
<pre><code class="javascript">//main.js
const &#123; app,BrowserWindow,ipcMain,Menu &#125; = require(&#39;electron&#39;)
const path = require(&#39;path&#39;)

const createWindow = () =&gt; &#123;
    const win = new BrowserWindow(&#123;
      width: 800,
      height: 600,
      webPreferences: &#123;
        preload: path.join(__dirname, &#39;preload.js&#39;)
      &#125;
    &#125;)

    const menu = Menu.buildFromTemplate([
      &#123;
        label: app.name,
        submenu: [
        &#123;
          click: () =&gt; win.webContents.send(&#39;update-counter&#39;, 1),
          label: &#39;Increment&#39;,
        &#125;,
        &#123;
          click: () =&gt; win.webContents.send(&#39;update-counter&#39;, -1),
          label: &#39;Decrement&#39;,
        &#125;
        ]
      &#125;
  
    ])

    Menu.setApplicationMenu(menu)
    win.loadFile(&#39;index.html&#39;) 
    win.webContents.openDevTools()
    
  &#125;

  app.whenReady().then(() =&gt; &#123;
    ipcMain.on(&#39;counter-value&#39;, (_event, value) =&gt; &#123;
      console.log(value) // will print value to Node console
    &#125;)
    createWindow()
    app.on(&#39;activate&#39;, () =&gt; &#123;
      if (BrowserWindow.getAllWindows().length === 0) createWindow()
    &#125;)
  &#125;)

  app.on(&#39;window-all-closed&#39;, () =&gt; &#123;
    if (process.platform !== &#39;darwin&#39;) app.quit()
  &#125;)
</code></pre>
<h5 id="2-é€šè¿‡é¢„åŠ è½½è„šæœ¬æš´éœ²-ipcRenderer-on"><a href="#2-é€šè¿‡é¢„åŠ è½½è„šæœ¬æš´éœ²-ipcRenderer-on" class="headerlink" title="(2)é€šè¿‡é¢„åŠ è½½è„šæœ¬æš´éœ² ipcRenderer.on"></a>(2)é€šè¿‡é¢„åŠ è½½è„šæœ¬æš´éœ² <code>ipcRenderer.on</code></h5><p>ä¸å‰é¢çš„æ¸²æŸ“å™¨åˆ°ä¸»è¿›ç¨‹çš„ç¤ºä¾‹ä¸€æ ·ï¼Œæˆ‘ä»¬ä½¿ç”¨é¢„åŠ è½½è„šæœ¬ä¸­çš„ <code>contextBridge</code> å’Œ <code>ipcRenderer</code> æ¨¡å—å‘æ¸²æŸ“å™¨è¿›ç¨‹æš´éœ² IPC åŠŸèƒ½ï¼š</p>
<pre><code class="javascript">//preload.js
const &#123; contextBridge,ipcRenderer &#125; = require(&#39;electron&#39;)
contextBridge.exposeInMainWorld(&#39;electronAPI&#39;, &#123;
    handleCounter: (callback) =&gt; ipcRenderer.on(&#39;update-counter&#39;, callback)
&#125;)
</code></pre>
<p>åŠ è½½é¢„åŠ è½½è„šæœ¬åï¼Œæ¸²æŸ“å™¨è¿›ç¨‹åº”æœ‰æƒè®¿é—® <code>window.electronAPI.handleCounter()</code> ç›‘å¬å™¨å‡½æ•°ã€‚</p>
<h5 id="3-æ„å»ºæ¸²æŸ“å™¨è¿›ç¨‹-UI-2"><a href="#3-æ„å»ºæ¸²æŸ“å™¨è¿›ç¨‹-UI-2" class="headerlink" title="(3)æ„å»ºæ¸²æŸ“å™¨è¿›ç¨‹ UI"></a>(3)æ„å»ºæ¸²æŸ“å™¨è¿›ç¨‹ UI</h5><p>æˆ‘ä»¬å°†åœ¨åŠ è½½çš„ HTML æ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªæ¥å£ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª <code>#counter</code>å…ƒç´ ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è¯¥å…ƒç´ æ¥æ˜¾ç¤ºå€¼ï¼š</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP --&gt;
    &lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;default-src &#39;self&#39;; script-src &#39;self&#39;&quot;&gt;
    &lt;title&gt;Menu Counter&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    Current value: &lt;strong id=&quot;counter&quot;&gt;0&lt;/strong&gt;
    &lt;script src=&#39;./renderer/app.js&#39;&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>ä¸ºäº†æ›´æ–° HTML æ–‡æ¡£ä¸­çš„å€¼ï¼Œæˆ‘ä»¬å°†æ·»åŠ å‡ è¡Œ DOM æ“ä½œçš„ä»£ç ï¼Œä»¥ä¾¿åœ¨æ¯æ¬¡è§¦å‘ <code>update-counter</code> äº‹ä»¶æ—¶æ›´æ–° <code>#counter</code> å…ƒç´ çš„å€¼ã€‚</p>
<pre><code class="javascript">//app.js
const counter = document.getElementById(&#39;counter&#39;)
window.electronAPI.handleCounter((event, value) =&gt; &#123;
    const oldValue = Number(counter.innerText)
    const newValue = oldValue + value
    counter.innerText = newValue
    event.sender.send(&#39;counter-value&#39;, newValue)
&#125;)
</code></pre>
<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å°†å›è°ƒä¼ é€’ç»™ä»é¢„åŠ è½½è„šæœ¬ä¸­æš´éœ²çš„ <code>window.electronAPI.onUpdateCounter</code> å‡½æ•°ã€‚ ç¬¬äºŒä¸ª <code>value</code> å‚æ•°å¯¹åº”äºæˆ‘ä»¬ä¼ å…¥ <code>webContents.send</code> å‡½æ•°çš„ <code>1</code> æˆ– <code>-1</code>ï¼Œè¯¥å‡½æ•°æ˜¯ä»åŸç”Ÿèœå•è°ƒç”¨çš„ã€‚</p>
<p>åˆ°ç›®å‰çš„ä»£ç ä¸ºæ­¢ï¼Œæˆ‘ä»¬çš„ä¸€ä¸ªä¸»è¿›ç¨‹åˆ°æ¸²æŸ“å™¨è¿›ç¨‹çš„è¿›ç¨‹é€šä¿¡å°±å·²ç»å®ç°äº†ï¼Œæˆ‘ä»¬å¯ä»¥è¯•ä¸€è¯•æˆ‘ä»¬çš„UIç•Œé¢åŠŸèƒ½</p>
<p><img src="/2022/11/24/Electron-d-1-0/image-20221124161644112.png"></p>
<h5 id="æ€»ç»“ï¼š-2"><a href="#æ€»ç»“ï¼š-2" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h5><p>å¯¹äºä»ä¸»è¿›ç¨‹åˆ°æ¸²æŸ“å™¨è¿›ç¨‹çš„ IPCï¼Œæ²¡æœ‰ä¸ <code>ipcRenderer.invoke</code> ç­‰æ•ˆçš„ APIã€‚ ä¸è¿‡ï¼Œå¯ä»¥ä» <code>ipcRenderer.on</code> å›è°ƒä¸­å°†å›å¤å‘é€å›ä¸»è¿›ç¨‹ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å¯¹å‰é¢ä¾‹å­çš„ä»£ç è¿›è¡Œç•¥å¾®ä¿®æ”¹æ¥æ¼”ç¤ºè¿™ä¸€ç‚¹ã€‚ åœ¨æ¸²æŸ“å™¨è¿›ç¨‹ä¸­ï¼Œä½¿ç”¨ <code>event</code> å‚æ•°ï¼Œé€šè¿‡ <code>counter-value</code> é€šé“å°†å›å¤å‘é€å›ä¸»è¿›ç¨‹ã€‚</p>
<pre><code class="javascript">//app.js
const counter = document.getElementById(&#39;counter&#39;)
window.electronAPI.handleCounter((event, value) =&gt; &#123;
    const oldValue = Number(counter.innerText)
    const newValue = oldValue + value
    counter.innerText = newValue
    event.sender.send(&#39;counter-value&#39;, newValue)
&#125;)
</code></pre>
<p>åœ¨ä¸»è¿›ç¨‹ä¸­ï¼Œç›‘å¬ <code>counter-value</code> äº‹ä»¶å¹¶é€‚å½“åœ°å¤„ç†å®ƒä»¬ã€‚</p>
<pre><code class="javascript">//main.js
ipcMain.on(&#39;counter-value&#39;, (_event, value) =&gt; &#123;
      console.log(value) // will print value to Node console
  &#125;)
</code></pre>
<p><img src="/2022/11/24/Electron-d-1-0/image-20221124162116311.png"></p>
<h4 id="4-æ¸²æŸ“å™¨è¿›ç¨‹åˆ°æ¸²æŸ“å™¨è¿›ç¨‹"><a href="#4-æ¸²æŸ“å™¨è¿›ç¨‹åˆ°æ¸²æŸ“å™¨è¿›ç¨‹" class="headerlink" title="4.æ¸²æŸ“å™¨è¿›ç¨‹åˆ°æ¸²æŸ“å™¨è¿›ç¨‹"></a>4.æ¸²æŸ“å™¨è¿›ç¨‹åˆ°æ¸²æŸ“å™¨è¿›ç¨‹</h4><p>æ²¡æœ‰ç›´æ¥çš„æ–¹æ³•å¯ä»¥ä½¿ç”¨ <code>ipcMain</code> å’Œ <code>ipcRenderer</code> æ¨¡å—åœ¨ Electron ä¸­çš„æ¸²æŸ“å™¨è¿›ç¨‹ä¹‹é—´å‘é€æ¶ˆæ¯ã€‚ ä¸ºæ­¤ï¼Œæœ‰ä¸¤ç§é€‰æ‹©ï¼š</p>
<ul>
<li>å°†ä¸»è¿›ç¨‹ä½œä¸ºæ¸²æŸ“å™¨ä¹‹é—´çš„æ¶ˆæ¯ä»£ç†ã€‚ è¿™éœ€è¦å°†æ¶ˆæ¯ä»ä¸€ä¸ªæ¸²æŸ“å™¨å‘é€åˆ°ä¸»è¿›ç¨‹ï¼Œç„¶åä¸»è¿›ç¨‹å°†æ¶ˆæ¯è½¬å‘åˆ°å¦ä¸€ä¸ªæ¸²æŸ“å™¨ã€‚</li>
<li>ä»ä¸»è¿›ç¨‹å°†ä¸€ä¸ª MessagePort ä¼ é€’åˆ°ä¸¤ä¸ªæ¸²æŸ“å™¨ã€‚ è¿™å°†å…è®¸åœ¨åˆå§‹è®¾ç½®åæ¸²æŸ“å™¨ä¹‹é—´ç›´æ¥è¿›è¡Œé€šä¿¡ã€‚</li>
</ul>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><p>[Electronå®˜ç½‘]: 	â€œ<a href="https://www.electronjs.org/zh/docs/latest/tutorial/quick-start">https://www.electronjs.org/zh/docs/latest/tutorial/quick-start</a> â€œ</p>
]]></content>
      <categories>
        <category>Electron</category>
        <category>Electron-d-1.0</category>
      </categories>
      <tags>
        <tag>electron</tag>
      </tags>
  </entry>
  <entry>
    <title>dockerå…¥é—¨</title>
    <url>/2022/11/11/docker%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="dockerå…¥é—¨"><a href="#dockerå…¥é—¨" class="headerlink" title="dockerå…¥é—¨"></a>dockerå…¥é—¨</h1><h3 id="ä¸€ã€dockerå®‰è£…"><a href="#ä¸€ã€dockerå®‰è£…" class="headerlink" title="ä¸€ã€dockerå®‰è£…"></a>ä¸€ã€dockerå®‰è£…</h3><p>ç›®å‰æˆ‘ä»¬åªæ˜¯åŸºäºmacosç¯å¢ƒä¸‹çš„å®‰è£…å’Œå­¦ä¹ </p>
<p>ï¼ˆå¾ˆå¤šå¹³å°éƒ½æ˜¯windowsçš„ï¼‰</p>
<h4 id="1-dockerä¸‹è½½"><a href="#1-dockerä¸‹è½½" class="headerlink" title="1.dockerä¸‹è½½"></a>1.dockerä¸‹è½½</h4><p>ç›´æ¥å»Dockerå®˜ç½‘å»ä¸‹è½½å¯¹åº”çš„ç‰ˆæœ¬å°±å¯ä»¥äº†ï¼ˆå®˜ç½‘åœ°å€ï¼š<a href="https://dockerdocs.cn/%EF%BC%89">https://dockerdocs.cn/ï¼‰</a></p>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221109091347433.png"></p>
<p>é€‰æ‹©å¯¹åº”interèŠ¯ç‰‡æˆ–è€…m1å’Œm2èŠ¯ç‰‡çš„dockerç‰ˆæœ¬å°±å¯ä»¥</p>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221109091446299.png"></p>
<h4 id="2-è®¾ç½®å›½å†…é•œåƒæº"><a href="#2-è®¾ç½®å›½å†…é•œåƒæº" class="headerlink" title="2.è®¾ç½®å›½å†…é•œåƒæº"></a>2.è®¾ç½®å›½å†…é•œåƒæº</h4><p>åœ¨å›½å†…ä½¿ç”¨dockeræ‹‰å–é•œåƒä¼šéå¸¸çš„æ…¢ï¼Œæ‰€ä»¥ä¸€å®šå¾—è®¾ç½®å›½å†…é•œåƒæºã€‚</p>
<p>è®¾ç½®é•œåƒæºåœ¨è®¾ç½®é‡Œçš„Docker Engine</p>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221109094123087.png"></p>
<p><a href="https://www.aliyun.com/product/acr?source=5176.11533457&userCode=8lx5zmtu">é˜¿é‡Œäº‘åŠ é€Ÿå™¨ï¼šç‚¹å‡»ç®¡ç†æ§åˆ¶å°-&gt;ç™»é™†è´¦å·ï¼ˆæ·˜å®è´¦å·ï¼‰-&gt;å³ä¾§é•œåƒå·¥å…·-&gt;é•œåƒåŠ é€Ÿå™¨-&gt;æ‹·è´é•œåƒé“¾æ¥</a></p>
<p>ç½‘æ˜“äº‘åŠ é€Ÿå™¨ï¼š<a href="https://hub-mirror.c.163.com/">https://hub-mirror.c.163.com</a></p>
<p>ç™¾åº¦äº‘åŠ é€Ÿå™¨ï¼š<a href="https://mirror.baidubce.com/">https://mirror.baidubce.com</a></p>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221109095852276.png"></p>
<p>é…ç½®å®Œæˆåï¼ŒæŸ¥çœ‹æ˜¯å¦é…ç½®æˆåŠŸ</p>
<pre><code class="ini">docker info 
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221109100105080.png"></p>
<p>å¦‚æœ <code>docker version</code>ã€<code>docker info</code> éƒ½æ­£å¸¸çš„è¯ï¼Œå¯ä»¥å°è¯•è¿è¡Œä¸€ä¸ª Nginx æœåŠ¡å™¨</p>
<pre><code class="ini">docker run -d -p 80:80 --name webserver nginx
</code></pre>
<p>æœåŠ¡è¿è¡Œåï¼Œå¯ä»¥è®¿é—® <a href="http://localhost,å¦‚æœçœ‹åˆ°äº†/">http://localhostï¼Œå¦‚æœçœ‹åˆ°äº†</a> â€œWelcome to nginx!â€ï¼Œå°±è¯´æ˜ Docker Desktop for Mac å®‰è£…æˆåŠŸäº†ã€‚</p>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221109101903810.png"></p>
<pre><code class="ini">docker ps -a //æŸ¥çœ‹æ‰€æœ‰çš„å®¹å™¨
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221109102114729.png"></p>
<pre><code class="ini">docker stop webserver //åœæ­¢å®¹å™¨æœåŠ¡
docker rm webserver //åˆ é™¤å®¹å™¨
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221109102355610.png"></p>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221109102417586.png"></p>
<h3 id="äºŒã€dockeré•œåƒ"><a href="#äºŒã€dockeré•œåƒ" class="headerlink" title="äºŒã€dockeré•œåƒ"></a>äºŒã€dockeré•œåƒ</h3><h4 id="1-è·å–é•œåƒ"><a href="#1-è·å–é•œåƒ" class="headerlink" title="1.è·å–é•œåƒ"></a>1.è·å–é•œåƒ</h4><p><a href="https://hub.docker.com/search?q=&type=image">Docker Hub</a> ä¸Šæœ‰å¤§é‡çš„é«˜è´¨é‡çš„é•œåƒå¯ä»¥ç”¨ï¼Œè¿™é‡Œæˆ‘ä»¬å°±è¯´ä¸€ä¸‹æ€ä¹ˆè·å–è¿™äº›é•œåƒã€‚</p>
<pre><code class="ini">docker pull [é€‰é¡¹] [Docker Registry åœ°å€[:ç«¯å£å·]/]ä»“åº“å[:æ ‡ç­¾] //è·å–é•œåƒå‘½ä»¤æ ¼å¼
docker pull ubuntu:18.04 //å…·ä½“ä¸€ç‚¹
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221109103151217.png"></p>
<p>æŸ¥çœ‹ä¸‹è½½é•œåƒ</p>
<pre><code class="ini">docker images -a //æŸ¥çœ‹æ‰€æœ‰é•œåƒ
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221109103328637.png"></p>
<p>æœ‰äº†é•œåƒåï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿä»¥è¿™ä¸ªé•œåƒä¸ºåŸºç¡€å¯åŠ¨å¹¶è¿è¡Œä¸€ä¸ªå®¹å™¨ã€‚ä»¥ä¸Šé¢çš„ <code>ubuntu:18.04</code> ä¸ºä¾‹ï¼Œå¦‚æœæˆ‘ä»¬æ‰“ç®—å¯åŠ¨é‡Œé¢çš„ <code>bash</code> å¹¶ä¸”è¿›è¡Œäº¤äº’å¼æ“ä½œçš„è¯ï¼Œå¯ä»¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚</p>
<pre><code class="ini">docker run -it --rm ubuntu:18.04 bash
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221109103803885.png"></p>
<p><code>docker run</code> å°±æ˜¯è¿è¡Œå®¹å™¨çš„å‘½ä»¤ï¼Œå…·ä½“æ ¼å¼æˆ‘ä»¬ä¼šåœ¨å®¹å™¨ ä¸€èŠ‚è¿›è¡Œè¯¦ç»†è®²è§£ï¼Œæˆ‘ä»¬è¿™é‡Œç®€è¦çš„è¯´æ˜ä¸€ä¸‹ä¸Šé¢ç”¨åˆ°çš„å‚æ•°ã€‚</p>
<ul>
<li><code>-it</code>ï¼šè¿™æ˜¯ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯ <code>-i</code>ï¼šäº¤äº’å¼æ“ä½œï¼Œä¸€ä¸ªæ˜¯ <code>-t</code> ç»ˆç«¯ã€‚æˆ‘ä»¬è¿™é‡Œæ‰“ç®—è¿›å…¥ <code>bash</code> æ‰§è¡Œä¸€äº›å‘½ä»¤å¹¶æŸ¥çœ‹è¿”å›ç»“æœï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦äº¤äº’å¼ç»ˆç«¯ã€‚</li>
<li><code>--rm</code>ï¼šè¿™ä¸ªå‚æ•°æ˜¯è¯´å®¹å™¨é€€å‡ºåéšä¹‹å°†å…¶åˆ é™¤ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸ºäº†æ’éšœéœ€æ±‚ï¼Œé€€å‡ºçš„å®¹å™¨å¹¶ä¸ä¼šç«‹å³åˆ é™¤ï¼Œé™¤éæ‰‹åŠ¨ <code>docker rm</code>ã€‚æˆ‘ä»¬è¿™é‡Œåªæ˜¯éšä¾¿æ‰§è¡Œä¸ªå‘½ä»¤ï¼Œçœ‹çœ‹ç»“æœï¼Œä¸éœ€è¦æ’éšœå’Œä¿ç•™ç»“æœï¼Œå› æ­¤ä½¿ç”¨ <code>--rm</code> å¯ä»¥é¿å…æµªè´¹ç©ºé—´ã€‚</li>
<li><code>ubuntu:18.04</code>ï¼šè¿™æ˜¯æŒ‡ç”¨ <code>ubuntu:18.04</code> é•œåƒä¸ºåŸºç¡€æ¥å¯åŠ¨å®¹å™¨ã€‚</li>
<li><code>bash</code>ï¼šæ”¾åœ¨é•œåƒååçš„æ˜¯ <strong>å‘½ä»¤</strong>ï¼Œè¿™é‡Œæˆ‘ä»¬å¸Œæœ›æœ‰ä¸ªäº¤äº’å¼ Shellï¼Œå› æ­¤ç”¨çš„æ˜¯ <code>bash</code>ã€‚</li>
</ul>
<p>è¿›å…¥å®¹å™¨åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Shell ä¸‹æ“ä½œï¼Œæ‰§è¡Œä»»ä½•æ‰€éœ€çš„å‘½ä»¤ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬æ‰§è¡Œäº† <code>cat /etc/os-release</code>ï¼Œè¿™æ˜¯ Linux å¸¸ç”¨çš„æŸ¥çœ‹å½“å‰ç³»ç»Ÿç‰ˆæœ¬çš„å‘½ä»¤ï¼Œä»è¿”å›çš„ç»“æœå¯ä»¥çœ‹åˆ°å®¹å™¨å†…æ˜¯ <code>Ubuntu 18.04.1 LTS</code> ç³»ç»Ÿã€‚</p>
<p>æœ€åæˆ‘ä»¬é€šè¿‡ <code>exit</code> é€€å‡ºäº†è¿™ä¸ªå®¹å™¨ã€‚</p>
<h4 id="2-åˆ—å‡ºé•œåƒ"><a href="#2-åˆ—å‡ºé•œåƒ" class="headerlink" title="2.åˆ—å‡ºé•œåƒ"></a>2.åˆ—å‡ºé•œåƒ</h4><pre><code class="ini">docker image ls //åˆ—å‡ºæ‰€æœ‰ä¸‹è½½çš„é•œåƒ
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221109104611497.png"></p>
<p>åˆ—è¡¨åŒ…å«äº† <code>ä»“åº“å</code>ã€<code>æ ‡ç­¾</code>ã€<code>é•œåƒ ID</code>ã€<code>åˆ›å»ºæ—¶é—´</code> ä»¥åŠ <code>æ‰€å ç”¨çš„ç©ºé—´</code>ã€‚</p>
<p>å…¶ä¸­ä»“åº“åã€æ ‡ç­¾åœ¨ä¹‹å‰çš„åŸºç¡€æ¦‚å¿µç« èŠ‚å·²ç»ä»‹ç»è¿‡äº†ã€‚é•œåƒ ID åˆ™æ˜¯é•œåƒçš„å”¯ä¸€æ ‡è¯†ï¼Œä¸€ä¸ªé•œåƒå¯ä»¥å¯¹åº”å¤šä¸ª æ ‡ç­¾ã€‚å› æ­¤ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° <code>ubuntu:18.04</code> å’Œ <code>ubuntu:bionic</code> æ‹¥æœ‰ç›¸åŒçš„ IDï¼Œå› ä¸ºå®ƒä»¬å¯¹åº”çš„æ˜¯åŒä¸€ä¸ªé•œåƒã€‚</p>
<p><code>docker image ls</code> åˆ—è¡¨ä¸­çš„é•œåƒä½“ç§¯æ€»å’Œå¹¶éæ˜¯æ‰€æœ‰é•œåƒå®é™…ç¡¬ç›˜æ¶ˆè€—ã€‚ç”±äº Docker é•œåƒæ˜¯å¤šå±‚å­˜å‚¨ç»“æ„ï¼Œå¹¶ä¸”å¯ä»¥ç»§æ‰¿ã€å¤ç”¨ï¼Œå› æ­¤ä¸åŒé•œåƒå¯èƒ½ä¼šå› ä¸ºä½¿ç”¨ç›¸åŒçš„åŸºç¡€é•œåƒï¼Œä»è€Œæ‹¥æœ‰å…±åŒçš„å±‚ã€‚ç”±äº Docker ä½¿ç”¨ Union FSï¼Œç›¸åŒçš„å±‚åªéœ€è¦ä¿å­˜ä¸€ä»½å³å¯ï¼Œå› æ­¤å®é™…é•œåƒç¡¬ç›˜å ç”¨ç©ºé—´å¾ˆå¯èƒ½è¦æ¯”è¿™ä¸ªåˆ—è¡¨é•œåƒå¤§å°çš„æ€»å’Œè¦å°çš„å¤šã€‚</p>
<pre><code class="ini">docker system df //ä¾¿æ·çš„æŸ¥çœ‹é•œåƒã€å®¹å™¨ã€æ•°æ®å·æ‰€å ç”¨çš„ç©ºé—´
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221109104851278.png" alt="image-20221109104851278"></p>
<pre><code class="ini">docker image ls ubuntu //åˆ—å‡ºéƒ¨åˆ†é•œåƒ
docker image ls ubuntu:18.04 //åˆ—å‡ºç‰¹å®šçš„æŸä¸ªé•œåƒï¼Œä¹Ÿå°±æ˜¯è¯´æŒ‡å®šä»“åº“åå’Œæ ‡ç­¾
</code></pre>
<p>docker image ls<code>è¿˜æ”¯æŒå¼ºå¤§çš„è¿‡æ»¤å™¨å‚æ•°</code>â€“filter<code>ï¼Œæˆ–è€…ç®€å†™ </code>-fï¼Œä¹‹å‰æˆ‘ä»¬å·²ç»çœ‹åˆ°äº†ä½¿ç”¨è¿‡æ»¤å™¨æ¥åˆ—å‡ºè™šæ‚¬é•œåƒçš„ç”¨æ³•ï¼Œå®ƒè¿˜æœ‰æ›´å¤šçš„ç”¨æ³•ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¸Œæœ›çœ‹åˆ°åœ¨ <code>nginx</code> ä¹‹åå»ºç«‹çš„é•œåƒï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š</p>
<pre><code class="ini">docker image ls -f since=nginx
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221109105424883.png"></p>
<p>æƒ³æŸ¥çœ‹æŸä¸ªä½ç½®ä¹‹å‰çš„é•œåƒä¹Ÿå¯ä»¥ï¼Œåªéœ€è¦æŠŠ <code>since</code> æ¢æˆ <code>before</code> å³å¯</p>
<pre><code class="ini">docker image ls -q //ä»¥ç‰¹å®šæ ¼å¼æ˜¾ç¤º
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221109105634317.png"></p>
<pre><code class="ini">docker image ls --format &quot;&#123;&#123;.ID&#125;&#125;: &#123;&#123;.Repository&#125;&#125;&quot; //ç›´æ¥åˆ—å‡ºé•œåƒç»“æœï¼Œå¹¶ä¸”åªåŒ…å«é•œåƒIDå’Œä»“åº“å
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221109105755189.png"></p>
<pre><code class="ini">docker image ls --format &quot;table &#123;&#123;.ID&#125;&#125;\t&#123;&#123;.Repository&#125;&#125;\t&#123;&#123;.Tag&#125;&#125;&quot; //ä»¥è¡¨æ ¼ç­‰è·æ˜¾ç¤ºï¼Œå¹¶ä¸”æœ‰æ ‡é¢˜è¡Œï¼Œå’Œé»˜è®¤ä¸€æ ·ï¼Œä¸è¿‡è‡ªå·±å®šä¹‰åˆ—
</code></pre>
<h4 id="3-åˆ é™¤é•œåƒ"><a href="#3-åˆ é™¤é•œåƒ" class="headerlink" title="3.åˆ é™¤é•œåƒ"></a>3.åˆ é™¤é•œåƒ</h4><pre><code class="ini">docker image rm [é€‰é¡¹] &lt;é•œåƒ1&gt; [&lt;é•œåƒ2&gt; ...] //åˆ é™¤é•œåƒå‘½ä»¤æ ¼å¼
</code></pre>
<p>å…¶ä¸­ï¼Œ<code>&lt;é•œåƒ&gt;</code> å¯ä»¥æ˜¯ <code>é•œåƒçŸ­ ID</code>ã€<code>é•œåƒé•¿ ID</code>ã€<code>é•œåƒå</code> æˆ–è€… <code>é•œåƒæ‘˜è¦</code></p>
<p>æˆ‘ä»¬å…ˆåˆ—å‡ºæˆ‘ä»¬ä¸‹è½½çš„æ‰€æœ‰é•œåƒ</p>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221109110129824.png"></p>
<pre><code class="ini">docker image rm afb //åˆ é™¤redisé•œåƒ
docker image ls //æŸ¥çœ‹æ‰€æœ‰é•œåƒ
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221109110407331.png"></p>
<p>å‘ç°å·²ç»åˆ é™¤äº†æŒ‡å®šé•œåƒ</p>
<pre><code class="ini">docker image rm $(docker image ls -q redis) //ç»„åˆå‘½ä»¤ä½¿ç”¨
</code></pre>
<p>å……åˆ†åˆ©ç”¨ä½ çš„æƒ³è±¡åŠ›å’Œ Linux å‘½ä»¤è¡Œçš„å¼ºå¤§</p>
<h3 id="ä¸‰ã€dockerå®¹å™¨"><a href="#ä¸‰ã€dockerå®¹å™¨" class="headerlink" title="ä¸‰ã€dockerå®¹å™¨"></a>ä¸‰ã€dockerå®¹å™¨</h3><h4 id="1-å¯åŠ¨å®¹å™¨"><a href="#1-å¯åŠ¨å®¹å™¨" class="headerlink" title="1.å¯åŠ¨å®¹å™¨"></a>1.å¯åŠ¨å®¹å™¨</h4><p>å¯åŠ¨å®¹å™¨æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯åŸºäºé•œåƒæ–°å»ºä¸€ä¸ªå®¹å™¨å¹¶å¯åŠ¨ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯å°†åœ¨ç»ˆæ­¢çŠ¶æ€ï¼ˆ<code>exited</code>ï¼‰çš„å®¹å™¨é‡æ–°å¯åŠ¨ã€‚</p>
<pre><code class="ini">docker run ubuntu:18.04 /bin/echo &#39;Hello world&#39; //æ‰§è¡Œåå‘½ä»¤åç»ˆæ­¢å®¹å™¨
</code></pre>
<pre><code class="ini">docker run -t -i ubuntu:18.04 /bin/bash //ä¿æŒäº¤äº’
</code></pre>
<p><code>-t</code> é€‰é¡¹è®©Dockeråˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯ï¼ˆpseudo-ttyï¼‰å¹¶ç»‘å®šåˆ°å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¸Šï¼Œ <code>-i</code> åˆ™è®©å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¿æŒæ‰“å¼€ã€‚</p>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221110081411097.png"></p>
<p>Docker runåˆ›å»ºå®¹å™¨æ—¶ï¼Œdockerçš„æ ‡å‡†æ“ä½œ</p>
<ul>
<li>æ£€æŸ¥æœ¬åœ°æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„é•œåƒï¼Œä¸å­˜åœ¨å°±ä» registryä¸‹è½½</li>
<li>åˆ©ç”¨é•œåƒåˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªå®¹å™¨</li>
<li>åˆ†é…ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œå¹¶åœ¨åªè¯»çš„é•œåƒå±‚å¤–é¢æŒ‚è½½ä¸€å±‚å¯è¯»å†™å±‚</li>
<li>ä»å®¿ä¸»ä¸»æœºé…ç½®çš„ç½‘æ¡¥æ¥å£ä¸­æ¡¥æ¥ä¸€ä¸ªè™šæ‹Ÿæ¥å£åˆ°å®¹å™¨ä¸­å»</li>
<li>ä»åœ°å€æ± é…ç½®ä¸€ä¸ª ip åœ°å€ç»™å®¹å™¨</li>
<li>æ‰§è¡Œç”¨æˆ·æŒ‡å®šçš„åº”ç”¨ç¨‹åº</li>
<li>æ‰§è¡Œå®Œæ¯•åå®¹å™¨è¢«ç»ˆæ­¢</li>
</ul>
<pre><code class="ini">docker start 9a115164bf87//å¯åŠ¨ä¸€ä¸ªç»ˆæ­¢ï¼ˆexitedï¼‰çš„å®¹å™¨
</code></pre>
<pre><code class="ini">docker ps -a//æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ä¿¡æ¯
docker logs 9a115164bf87//è·å–å®¹å™¨è¾“å‡ºä¿¡æ¯
</code></pre>
<h4 id="2-ç»ˆæ­¢å®¹å™¨"><a href="#2-ç»ˆæ­¢å®¹å™¨" class="headerlink" title="2.ç»ˆæ­¢å®¹å™¨"></a>2.ç»ˆæ­¢å®¹å™¨</h4><pre><code class="ini">docker stop (ID) //ç»ˆæ­¢å®¹å™¨
docker ps //æŸ¥çœ‹å¯åŠ¨å®¹å™¨
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221110083759963.png"></p>
<h4 id="3-è¿›å…¥å®¹å™¨"><a href="#3-è¿›å…¥å®¹å™¨" class="headerlink" title="3.è¿›å…¥å®¹å™¨"></a>3.è¿›å…¥å®¹å™¨</h4><p>åœ¨ä½¿ç”¨ <code>-d</code> å‚æ•°æ—¶ï¼Œå®¹å™¨å¯åŠ¨åä¼šè¿›å…¥åå°</p>
<p><code>docker attach</code> å‘½ä»¤æˆ– <code>docker exec</code> å‘½ä»¤éƒ½å¯ä»¥è¿›å…¥å®¹å™¨ï¼Œæ¨èå¤§å®¶ä½¿ç”¨ <code>docker exec</code> å‘½ä»¤</p>
<pre><code class="ini">docker attach (ID) //ä¼šå¯¼è‡´å®¹å™¨çš„ç»ˆæ­¢
</code></pre>
<p><code>docker exec</code> åè¾¹å¯ä»¥è·Ÿå¤šä¸ªå‚æ•°ï¼Œè¿™é‡Œä¸»è¦è¯´æ˜ <code>-i</code> <code>-t</code> å‚æ•°ã€‚</p>
<p>åªç”¨ <code>-i</code> å‚æ•°æ—¶ï¼Œç”±äºæ²¡æœ‰åˆ†é…ä¼ªç»ˆç«¯ï¼Œç•Œé¢æ²¡æœ‰æˆ‘ä»¬ç†Ÿæ‚‰çš„ Linux å‘½ä»¤æç¤ºç¬¦ï¼Œä½†å‘½ä»¤æ‰§è¡Œç»“æœä»ç„¶å¯ä»¥è¿”å›ã€‚</p>
<p>å½“ <code>-i</code> <code>-t</code> å‚æ•°ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œåˆ™å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ç†Ÿæ‚‰çš„ Linux å‘½ä»¤æç¤ºç¬¦</p>
<pre><code class="ini">docker exec -i 4e56f70383c9 /bin/bash 
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221110084917152.png"></p>
<pre><code class="ini">docker exec -it 4e56f70383c9 /bin/bash //ä¸ä¼šå¯¼è‡´å®¹å™¨çš„ç»ˆæ­¢
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221110085014483.png"></p>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221110085250397.png"></p>
<pre><code class="ini">docker exec --help //æŸ¥çœ‹æ›´å¤šå‚æ•°
</code></pre>
<h4 id="4-å¯¼å…¥å’Œå¯¼å‡º"><a href="#4-å¯¼å…¥å’Œå¯¼å‡º" class="headerlink" title="4.å¯¼å…¥å’Œå¯¼å‡º"></a>4.å¯¼å…¥å’Œå¯¼å‡º</h4><pre><code class="ini">docker export 4e56f70383c9 &gt; ubuntu.tar //å¯¼å‡ºå®¹å™¨å¿«ç…§åˆ°æœ¬åœ°æ–‡ä»¶
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221110090757653.png"></p>
<pre><code class="ini">cat nginx.tar | docker import - test/nginx //ä»å®¹å™¨å¿«ç…§æ–‡ä»¶ä¸­å†å¯¼å…¥ä¸ºé•œåƒ
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221110092840790.png"></p>
<p>ç”¨æˆ·æ—¢å¯ä»¥ä½¿ç”¨ <code>docker load</code> æ¥å¯¼å…¥é•œåƒå­˜å‚¨æ–‡ä»¶åˆ°æœ¬åœ°é•œåƒåº“ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>docker import</code> æ¥å¯¼å…¥ä¸€ä¸ªå®¹å™¨å¿«ç…§åˆ°æœ¬åœ°é•œåƒåº“ã€‚è¿™ä¸¤è€…çš„åŒºåˆ«åœ¨äºå®¹å™¨å¿«ç…§æ–‡ä»¶å°†ä¸¢å¼ƒæ‰€æœ‰çš„å†å²è®°å½•å’Œå…ƒæ•°æ®ä¿¡æ¯ï¼ˆå³ä»…ä¿å­˜å®¹å™¨å½“æ—¶çš„å¿«ç…§çŠ¶æ€ï¼‰ï¼Œè€Œé•œåƒå­˜å‚¨æ–‡ä»¶å°†ä¿å­˜å®Œæ•´è®°å½•ï¼Œä½“ç§¯ä¹Ÿè¦å¤§ã€‚æ­¤å¤–ï¼Œä»å®¹å™¨å¿«ç…§æ–‡ä»¶å¯¼å…¥æ—¶å¯ä»¥é‡æ–°æŒ‡å®šæ ‡ç­¾ç­‰å…ƒæ•°æ®ä¿¡æ¯ã€‚</p>
<h4 id="5-åˆ é™¤å®¹å™¨"><a href="#5-åˆ é™¤å®¹å™¨" class="headerlink" title="5.åˆ é™¤å®¹å™¨"></a>5.åˆ é™¤å®¹å™¨</h4><pre><code class="ini">docker rm (ID or Name) //åˆ é™¤ä¸€ä¸ªå¤„äºç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨
</code></pre>
<p>åˆ é™¤ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ï¼Œå¯ä»¥æ·»åŠ  <code>-f</code> å‚æ•°ã€‚Docker ä¼šå‘é€ <code>SIGKILL</code> ä¿¡å·ç»™å®¹å™¨</p>
<pre><code class="ini">sudo docker rm $(sudo docker ps -a -q) //åˆ é™¤æ‰€æœ‰æœªè¿è¡Œçš„å®¹å™¨ï¼ˆå·²ç»è¿è¡Œçš„åˆ é™¤ä¸äº†ï¼Œæœªè¿è¡Œçš„å°±ä¸€èµ·è¢«åˆ é™¤äº†ï¼‰
</code></pre>
<h3 id="å››ã€è®¿é—®ä»“åº“"><a href="#å››ã€è®¿é—®ä»“åº“" class="headerlink" title="å››ã€è®¿é—®ä»“åº“"></a>å››ã€è®¿é—®ä»“åº“</h3><h4 id="1-Docker-Hub"><a href="#1-Docker-Hub" class="headerlink" title="1.Docker Hub"></a>1.Docker Hub</h4><p>Docker å®˜æ–¹ç»´æŠ¤äº†ä¸€ä¸ªå…¬å…±ä»“åº“ <a href="https://hub.docker.com/">Docker Hub</a>ï¼Œå…¶ä¸­å·²ç»åŒ…æ‹¬äº†æ•°é‡è¶…è¿‡ <a href="https://hub.docker.com/search/?type=image">2,650,000</a> çš„é•œåƒã€‚å¤§éƒ¨åˆ†éœ€æ±‚éƒ½å¯ä»¥é€šè¿‡åœ¨ Docker Hub ä¸­ç›´æ¥ä¸‹è½½é•œåƒæ¥å®ç°ã€‚</p>
<p>æ³¨å†Œä¸€ä¸ªdockerè´¦å·</p>
<blockquote>
<p>åœ¨ <a href="https://hub.docker.com/">https://hub.docker.com</a> å…è´¹æ³¨å†Œä¸€ä¸ª Docker è´¦å·</p>
</blockquote>
<p>ç™»é™†</p>
<blockquote>
<p>1.å¯ä»¥åœ¨docker Appä¸Šç™»é™†dockrè´¦å·ï¼ˆä¼šè·³è½¬åˆ° <a href="https://hub.docker.com/">https://hub.docker.com</a> ï¼‰</p>
<p>2.é€šè¿‡æ‰§è¡Œ <code>docker login</code> å‘½ä»¤äº¤äº’å¼çš„è¾“å…¥ç”¨æˆ·ååŠå¯†ç æ¥å®Œæˆåœ¨å‘½ä»¤è¡Œç•Œé¢ç™»å½• Docker Hubã€‚</p>
<p>ä½ å¯ä»¥é€šè¿‡ <code>docker logout</code> é€€å‡ºç™»å½•ã€‚</p>
</blockquote>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221110094750263.png"></p>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221110094815601.png"></p>
<p>æ‹‰å–é•œåƒ</p>
<blockquote>
<p>å¯ä»¥é€šè¿‡ <code>docker search</code> å‘½ä»¤æ¥æŸ¥æ‰¾å®˜æ–¹ä»“åº“ä¸­çš„é•œåƒï¼Œå¹¶åˆ©ç”¨ <code>docker pull</code> å‘½ä»¤æ¥å°†å®ƒä¸‹è½½åˆ°æœ¬åœ°</p>
</blockquote>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221110095756575.png"></p>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221110095822481.png"></p>
<p>æ¨é€é•œåƒ</p>
<blockquote>
<p>ç”¨æˆ·ä¹Ÿå¯ä»¥åœ¨ç™»å½•åé€šè¿‡ <code>docker push</code> å‘½ä»¤æ¥å°†è‡ªå·±çš„é•œåƒæ¨é€åˆ° Docker Hub</p>
</blockquote>
<pre><code class="ini">docker tag ubuntu:18.04 username/ubuntu:18.04 //username è¯·æ›¿æ¢ä¸ºä½ çš„ Docker è´¦å·ç”¨æˆ·å
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221110100404351.png"></p>
<p>è‡ªåŠ¨åŒ–æ„å»º</p>
<p>è‡ªåŠ¨æ„å»ºï¼ˆ<code>Automated Builds</code>ï¼‰å¯ä»¥è‡ªåŠ¨è§¦å‘æ„å»ºé•œåƒï¼Œæ–¹ä¾¿å‡çº§é•œåƒã€‚</p>
<p>æœ‰æ—¶å€™ï¼Œç”¨æˆ·æ„å»ºäº†é•œåƒï¼Œå®‰è£…äº†æŸä¸ªè½¯ä»¶ï¼Œå½“è½¯ä»¶å‘å¸ƒæ–°ç‰ˆæœ¬åˆ™éœ€è¦æ‰‹åŠ¨æ›´æ–°é•œåƒã€‚</p>
<p>è€Œè‡ªåŠ¨æ„å»ºå…è®¸ç”¨æˆ·é€šè¿‡ Docker Hub æŒ‡å®šè·Ÿè¸ªä¸€ä¸ªç›®æ ‡ç½‘ç«™ï¼ˆæ”¯æŒ <a href="https://github.com/">GitHub</a> æˆ– <a href="https://bitbucket.org/">BitBucket</a>ï¼‰ä¸Šçš„é¡¹ç›®ï¼Œä¸€æ—¦é¡¹ç›®å‘ç”Ÿæ–°çš„æäº¤ ï¼ˆ<code>commit</code>ï¼‰æˆ–è€…åˆ›å»ºäº†æ–°çš„æ ‡ç­¾ï¼ˆ<code>tag</code>ï¼‰ï¼ŒDocker Hub ä¼šè‡ªåŠ¨æ„å»ºé•œåƒå¹¶æ¨é€åˆ° Docker Hub ä¸­ã€‚</p>
<p>è¦é…ç½®è‡ªåŠ¨æ„å»ºï¼ŒåŒ…æ‹¬å¦‚ä¸‹çš„æ­¥éª¤ï¼š</p>
<p>- </p>
<p>  ç™»å½• Docker Hubï¼›</p>
<p>- </p>
<p>  åœ¨ Docker Hub ç‚¹å‡»å³ä¸Šè§’å¤´åƒï¼Œåœ¨è´¦å·è®¾ç½®ï¼ˆ<code>Account Settings</code>ï¼‰ä¸­å…³è”ï¼ˆ<code>Linked Accounts</code>ï¼‰ç›®æ ‡ç½‘ç«™ï¼›</p>
<p>- </p>
<p>  åœ¨ Docker Hub ä¸­æ–°å»ºæˆ–é€‰æ‹©å·²æœ‰çš„ä»“åº“ï¼Œåœ¨ <code>Builds</code> é€‰é¡¹å¡ä¸­é€‰æ‹© <code>Configure Automated Builds</code>ï¼›</p>
<p>- </p>
<p>  é€‰å–ä¸€ä¸ªç›®æ ‡ç½‘ç«™ä¸­çš„é¡¹ç›®ï¼ˆéœ€è¦å« <code>Dockerfile</code>ï¼‰å’Œåˆ†æ”¯ï¼›</p>
<p>- </p>
<p>  æŒ‡å®š <code>Dockerfile</code> çš„ä½ç½®ï¼Œå¹¶ä¿å­˜ã€‚</p>
<p>ä¹‹åï¼Œå¯ä»¥åœ¨ Docker Hub çš„ä»“åº“é¡µé¢çš„ <code>Timeline</code> é€‰é¡¹å¡ä¸­æŸ¥çœ‹æ¯æ¬¡æ„å»ºçš„çŠ¶æ€ã€‚</p>
<p>ï¼ˆâ€¼ï¸è¿™ä¸ªéœ€è¦ä»˜é’±ï¼‰</p>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221110101243394.png"></p>
<h4 id="2-ç§æœ‰ä»“åº“"><a href="#2-ç§æœ‰ä»“åº“" class="headerlink" title="2.ç§æœ‰ä»“åº“"></a>2.ç§æœ‰ä»“åº“</h4><p>å®‰è£…è¿è¡Œ docker-registry</p>
<pre><code class="ini">docker run -d -p 5000:5000 --restart=always --name registry registry //ä½¿ç”¨å®˜æ–¹ registry é•œåƒæ¥è¿è¡Œ
</code></pre>
<p>å¦‚æœæŠ¥é”™ç«¯å£ä¸å¯ç”¨</p>
<pre><code class="ini">docker run -d -p 8080:8080 --restart=always --name registry registry //åˆ é™¤åŸæ¥å®¹å™¨ï¼Œé‡æ–°åˆ›å»º
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221110104412354.png"></p>
<p>åœ¨ç§æœ‰ä»“åº“ä¸Šä¼ ã€æœç´¢ã€ä¸‹è½½é•œåƒ</p>
<pre><code class="ini">docker tag ubuntu:latest alan0924/ubuntu:latest //å°† ubuntu:latest è¿™ä¸ªé•œåƒæ ‡è®°ä¸º alan0924/ubuntu:latest
docker image ls //æŸ¥çœ‹æ‰€æœ‰é•œåƒ
docker push alan0924/ubuntu:latest //ä¸Šä¼ ç§æœ‰ä»“åº“
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221110105039054.png"></p>
<p>åˆ é™¤å·²æœ‰é•œåƒï¼Œå†å°è¯•ä»ç§æœ‰ä»“åº“ä¸­ä¸‹è½½è¿™ä¸ªé•œåƒ</p>
<pre><code class="ini">docker image rm alan0924/ubuntu:latest
docker image ls
docker pull  alan0924/ubuntu:latest
docker image ls 
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221110110006213.png"></p>
<p>è¿™æ˜¯æˆ‘ä»¬dockerçš„ç§æœ‰ä»“åº“</p>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221110111655879.png"></p>
<h3 id="äº”ã€æ•°æ®ç®¡ç†"><a href="#äº”ã€æ•°æ®ç®¡ç†" class="headerlink" title="äº”ã€æ•°æ®ç®¡ç†"></a>äº”ã€æ•°æ®ç®¡ç†</h3><h4 id="1-æ•°æ®å·"><a href="#1-æ•°æ®å·" class="headerlink" title="1.æ•°æ®å·"></a>1.æ•°æ®å·</h4><pre><code class="ini">docker volume create my-vol //åˆ›å»ºä¸€ä¸ªæ•°æ®å·
docker volume ls //æŸ¥çœ‹æ‰€æœ‰çš„æ•°æ®å·
docker volume inspect my-vol //ä¸»æœºé‡Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹æŒ‡å®š æ•°æ®å· çš„ä¿¡æ¯
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221110163653187.png"></p>
<p>åœ¨ç”¨ <code>docker run</code> å‘½ä»¤çš„æ—¶å€™ï¼Œä½¿ç”¨ <code>--mount</code> æ ‡è®°æ¥å°† <code>æ•°æ®å·</code> æŒ‚è½½åˆ°å®¹å™¨é‡Œã€‚åœ¨ä¸€æ¬¡ <code>docker run</code> ä¸­å¯ä»¥æŒ‚è½½å¤šä¸ª <code>æ•°æ®å·</code>ã€‚</p>
<p>ä¸‹é¢åˆ›å»ºä¸€ä¸ªåä¸º <code>web</code> çš„å®¹å™¨ï¼Œå¹¶åŠ è½½ä¸€ä¸ª <code>æ•°æ®å·</code> åˆ°å®¹å™¨çš„ <code>/usr/share/nginx/html</code> ç›®å½•ã€‚</p>
<pre><code class="ini">//å¯åŠ¨ä¸€ä¸ªæŒ‚è½½æ•°æ®å·çš„å®¹å™¨
docker run -d -P \
    --name web \
    --mount source=my-vol,target=/usr/share/nginx/html \
    nginx:alpine
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221110164146345.png"></p>
<pre><code class="ini">docker inspect web //æŸ¥çœ‹æ•°æ®å·çš„å…·ä½“ä¿¡æ¯
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221110164302235.png"></p>
<pre><code class="ini">docker volume rm my-vol //åˆ é™¤æ•°æ®å·
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221110164601907.png"></p>
<p><code>æ•°æ®å·</code> æ˜¯è¢«è®¾è®¡ç”¨æ¥æŒä¹…åŒ–æ•°æ®çš„ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸç‹¬ç«‹äºå®¹å™¨ï¼ŒDocker ä¸ä¼šåœ¨å®¹å™¨è¢«åˆ é™¤åè‡ªåŠ¨åˆ é™¤ <code>æ•°æ®å·</code>ï¼Œå¹¶ä¸”ä¹Ÿä¸å­˜åœ¨åƒåœ¾å›æ”¶è¿™æ ·çš„æœºåˆ¶æ¥å¤„ç†æ²¡æœ‰ä»»ä½•å®¹å™¨å¼•ç”¨çš„ <code>æ•°æ®å·</code>ã€‚å¦‚æœéœ€è¦åœ¨åˆ é™¤å®¹å™¨çš„åŒæ—¶ç§»é™¤æ•°æ®å·ã€‚å¯ä»¥åœ¨åˆ é™¤å®¹å™¨çš„æ—¶å€™ä½¿ç”¨ <code>docker rm -v</code> è¿™ä¸ªå‘½ä»¤</p>
<p>æ— ä¸»çš„æ•°æ®å·å¯èƒ½ä¼šå æ®å¾ˆå¤šç©ºé—´,è¦æ¸…ç†è¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤</p>
<pre><code class="ini">docker volume prune
</code></pre>
<h3 id="å…­ã€è®¿é—®ç½‘ç»œ"><a href="#å…­ã€è®¿é—®ç½‘ç»œ" class="headerlink" title="å…­ã€è®¿é—®ç½‘ç»œ"></a>å…­ã€è®¿é—®ç½‘ç»œ</h3><h4 id="1-å¤–éƒ¨è®¿é—®å®¹å™¨"><a href="#1-å¤–éƒ¨è®¿é—®å®¹å™¨" class="headerlink" title="1.å¤–éƒ¨è®¿é—®å®¹å™¨"></a>1.å¤–éƒ¨è®¿é—®å®¹å™¨</h4><p>å®¹å™¨ä¸­å¯ä»¥è¿è¡Œä¸€äº›ç½‘ç»œåº”ç”¨ï¼Œè¦è®©å¤–éƒ¨ä¹Ÿå¯ä»¥è®¿é—®è¿™äº›åº”ç”¨ï¼Œå¯ä»¥é€šè¿‡ <code>-P</code> æˆ– <code>-p</code> å‚æ•°æ¥æŒ‡å®šç«¯å£æ˜ å°„ã€‚</p>
<p>å½“ä½¿ç”¨ <code>-P</code> æ ‡è®°æ—¶ï¼ŒDocker ä¼šéšæœºæ˜ å°„ä¸€ä¸ªç«¯å£åˆ°å†…éƒ¨å®¹å™¨å¼€æ”¾çš„ç½‘ç»œç«¯å£ã€‚</p>
<p>ä½¿ç”¨ <code>docker ps</code> å¯ä»¥çœ‹åˆ°ï¼Œæœ¬åœ°ä¸»æœºçš„ 55000 è¢«æ˜ å°„åˆ°äº†å®¹å™¨çš„ 80 ç«¯å£ã€‚æ­¤æ—¶è®¿é—®æœ¬æœºçš„ 55000 ç«¯å£å³å¯è®¿é—®å®¹å™¨å†… NGINX é»˜è®¤é¡µé¢ã€‚</p>
<pre><code class="ini">docker run -d -P nginx:alpine // 
docker logs 75bbd0b01745 //æŸ¥çœ‹æ—¥å¿—
</code></pre>
<p>-p<code> åˆ™å¯ä»¥æŒ‡å®šè¦æ˜ å°„çš„ç«¯å£ï¼Œå¹¶ä¸”ï¼Œåœ¨ä¸€ä¸ªæŒ‡å®šç«¯å£ä¸Šåªå¯ä»¥ç»‘å®šä¸€ä¸ªå®¹å™¨ã€‚</code> </p>
<p> <code>æ”¯æŒçš„æ ¼å¼æœ‰ </code>ip:hostPort:containerPort | ip::containerPort | hostPort:containerPort</p>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221111102609943.png"></p>
<p>ä½¿ç”¨ <code>hostPort:containerPort</code> æ ¼å¼æœ¬åœ°çš„ 80 ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„ 80 ç«¯å£ï¼Œå¯ä»¥æ‰§è¡Œ</p>
<pre><code class="ini">docker run -d -p 80:80 nginx:alpine //æ˜ å°„æ‰€æœ‰æ¥å£åœ°å€,æ­¤æ—¶é»˜è®¤ä¼šç»‘å®šæœ¬åœ°æ‰€æœ‰æ¥å£ä¸Šçš„æ‰€æœ‰åœ°å€ã€‚
</code></pre>
<p>å¯ä»¥ä½¿ç”¨ <code>ip:hostPort:containerPort</code> æ ¼å¼æŒ‡å®šæ˜ å°„ä½¿ç”¨ä¸€ä¸ªç‰¹å®šåœ°å€ï¼Œæ¯”å¦‚ localhost åœ°å€ 127.0.0.1</p>
<pre><code class="ini">docker run -d -p 127.0.0.1:80:80 nginx:alpine //æ˜ å°„åˆ°æŒ‡å®šåœ°å€çš„æŒ‡å®šç«¯å£,
</code></pre>
<p>ä½¿ç”¨ <code>ip::containerPort</code> ç»‘å®š localhost çš„ä»»æ„ç«¯å£åˆ°å®¹å™¨çš„ 80 ç«¯å£ï¼Œæœ¬åœ°ä¸»æœºä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªç«¯å£ã€‚</p>
<pre><code class="ini">docker run -d -p 127.0.0.1::80 nginx:alpine //æ˜ å°„åˆ°æŒ‡å®šåœ°å€çš„ä»»æ„ç«¯å£
</code></pre>
<p>è¿˜å¯ä»¥ä½¿ç”¨ <code>udp</code> æ ‡è®°æ¥æŒ‡å®š <code>udp</code> ç«¯å£</p>
<pre><code class="ini">docker run -d -p 127.0.0.1:80:80/udp nginx:alpine 
</code></pre>
<p>ä½¿ç”¨ <code>docker port</code> æ¥æŸ¥çœ‹å½“å‰æ˜ å°„çš„ç«¯å£é…ç½®ï¼Œä¹Ÿå¯ä»¥æŸ¥çœ‹åˆ°ç»‘å®šçš„åœ°å€</p>
<pre><code class="ini">docker port 75b 80 //æŸ¥çœ‹æ˜ å°„ç«¯å£é…ç½®
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221111103203892.png"></p>
<ul>
<li>å®¹å™¨æœ‰è‡ªå·±çš„å†…éƒ¨ç½‘ç»œå’Œ ip åœ°å€ï¼ˆä½¿ç”¨ <code>docker inspect</code> æŸ¥çœ‹ï¼ŒDocker è¿˜å¯ä»¥æœ‰ä¸€ä¸ªå¯å˜çš„ç½‘ç»œé…ç½®ã€‚ï¼‰</li>
<li><code>-p</code> æ ‡è®°å¯ä»¥å¤šæ¬¡ä½¿ç”¨æ¥ç»‘å®šå¤šä¸ªç«¯å£</li>
</ul>
<pre><code class="ini">docker run -d \
    -p 80:80 \
    -p 443:443 \
    nginx:alpine
</code></pre>
<h4 id="2-å®¹å™¨äº’è”"><a href="#2-å®¹å™¨äº’è”" class="headerlink" title="2.å®¹å™¨äº’è”"></a>2.å®¹å™¨äº’è”</h4><p>æ–°å»ºç½‘ç»œ</p>
<pre><code class="ini">docker network create -d bridge my-net //åˆ›å»ºä¸€ä¸ªæ–°çš„ Docker ç½‘ç»œ
</code></pre>
<p>è¿æ¥å®¹å™¨</p>
<pre><code class="ini">docker run -it --rm --name busybox1 --network my-net busybox sh //è¿è¡Œä¸€ä¸ªå®¹å™¨å¹¶è¿æ¥åˆ°æ–°å»ºçš„ my-net ç½‘ç»œ
</code></pre>
<pre><code class="ini">docker run -it --rm --name busybox2 --network my-net busybox sh //æ‰“å¼€æ–°çš„ç»ˆç«¯ï¼Œå†è¿è¡Œä¸€ä¸ªå®¹å™¨å¹¶åŠ å…¥åˆ° my-net ç½‘ç»œ
</code></pre>
<pre><code class="ini">docker ps //å†æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯æŸ¥çœ‹å®¹å™¨ä¿¡æ¯
</code></pre>
<p>ä¸‹é¢é€šè¿‡ <code>ping</code> æ¥è¯æ˜ <code>busybox1</code> å®¹å™¨å’Œ <code>busybox2</code> å®¹å™¨å»ºç«‹äº†äº’è”å…³ç³»ã€‚</p>
<pre><code class="ini">/ # ping busybox2
PING busybox2 (172.19.0.3): 56 data bytes
64 bytes from 172.19.0.3: seq=0 ttl=64 time=0.072 ms
64 bytes from 172.19.0.3: seq=1 ttl=64 time=0.118 ms
</code></pre>
<p>ç”¨ ping æ¥æµ‹è¯•è¿æ¥ <code>busybox2</code> å®¹å™¨ï¼Œå®ƒä¼šè§£ææˆ <code>172.19.0.3</code></p>
<p>åŒç†åœ¨ <code>busybox2</code> å®¹å™¨æ‰§è¡Œ <code>ping busybox1</code>ï¼Œä¹Ÿä¼šæˆåŠŸè¿æ¥åˆ°</p>
<pre><code class="ini">/ # ping busybox1
PING busybox1 (172.19.0.2): 56 data bytes
64 bytes from 172.19.0.2: seq=0 ttl=64 time=0.064 ms
64 bytes from 172.19.0.2: seq=1 ttl=64 time=0.143 ms
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221111104242497.png"></p>
<p><code>busybox1</code> å®¹å™¨å’Œ <code>busybox2</code> å®¹å™¨å»ºç«‹äº†äº’è”å…³ç³»ã€‚</p>
<h3 id="ä¸ƒã€Docker-Compose"><a href="#ä¸ƒã€Docker-Compose" class="headerlink" title="ä¸ƒã€Docker Compose"></a>ä¸ƒã€Docker Compose</h3><h4 id="1-å®‰è£…"><a href="#1-å®‰è£…" class="headerlink" title="1.å®‰è£…"></a>1.å®‰è£…</h4><p><code>Docker Desktop for Mac/Windows</code> è‡ªå¸¦ <code>docker-compose</code> äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå®‰è£… Docker ä¹‹åå¯ä»¥ç›´æ¥ä½¿ç”¨</p>
<pre><code class="ini">docker-compose --version
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221111110532499.png"></p>
<h4 id="2-ä½¿ç”¨"><a href="#2-ä½¿ç”¨" class="headerlink" title="2.ä½¿ç”¨"></a>2.ä½¿ç”¨</h4><ul>
<li>æœåŠ¡ (<code>service</code>)ï¼šä¸€ä¸ªåº”ç”¨å®¹å™¨ï¼Œå®é™…ä¸Šå¯ä»¥è¿è¡Œå¤šä¸ªç›¸åŒé•œåƒçš„å®ä¾‹ã€‚</li>
<li>é¡¹ç›® (<code>project</code>)ï¼šç”±ä¸€ç»„å…³è”çš„åº”ç”¨å®¹å™¨ç»„æˆçš„ä¸€ä¸ªå®Œæ•´ä¸šåŠ¡å•å…ƒã€‚</li>
</ul>
<p>å¯è§ï¼Œä¸€ä¸ªé¡¹ç›®å¯ä»¥ç”±å¤šä¸ªæœåŠ¡ï¼ˆå®¹å™¨ï¼‰å…³è”è€Œæˆï¼Œ<code>Compose</code> é¢å‘é¡¹ç›®è¿›è¡Œç®¡ç†ã€‚</p>
<p>æœ€å¸¸è§çš„é¡¹ç›®æ˜¯ web ç½‘ç«™ï¼Œè¯¥é¡¹ç›®åº”è¯¥åŒ…å« web åº”ç”¨å’Œç¼“å­˜ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬ç”¨ <code>Python</code> æ¥å»ºç«‹ä¸€ä¸ªèƒ½å¤Ÿè®°å½•é¡µé¢è®¿é—®æ¬¡æ•°çš„ web ç½‘ç«™ã€‚</p>
<pre><code class="python">//app.py
from flask import Flask
from redis import Redis

app = Flask(__name__)
redis = Redis(host=&#39;redis&#39;, port=6379)

@app.route(&#39;/&#39;)
def hello():
    count = redis.incr(&#39;hits&#39;)
    return &#39;Hello World! è¯¥é¡µé¢å·²è¢«è®¿é—® &#123;&#125; æ¬¡ã€‚\n&#39;.format(count)

if __name__ == &quot;__main__&quot;:
    app.run(host=&quot;0.0.0.0&quot;, debug=True)
</code></pre>
<pre><code class="javascript">//docker-compose.yml
version: &#39;3&#39;
services:

  web:
    build: .
    ports:
     - &quot;5500:5500&quot;

  redis:
    image: &quot;redis:alpine&quot;
</code></pre>
<pre><code class="javascript">//Dockerfile
FROM python:3.6-alpine
ADD . /code
WORKDIR /code
RUN pip install redis flask
CMD [&quot;python&quot;, &quot;app.py&quot;]
</code></pre>
<p><img src="/2022/11/11/docker%E5%85%A5%E9%97%A8/image-20221111112418983.png"></p>
<pre><code class="ini">docker-compose up //è¿è¡Œ compose é¡¹ç›®
</code></pre>
<p>æ­¤æ—¶è®¿é—®æœ¬åœ° <code>5000</code> ç«¯å£ï¼Œæ¯æ¬¡åˆ·æ–°é¡µé¢ï¼Œè®¡æ•°å°±ä¼šåŠ  1ã€‚</p>
<h4 id="3-å‘½ä»¤è¯´æ˜"><a href="#3-å‘½ä»¤è¯´æ˜" class="headerlink" title="3.å‘½ä»¤è¯´æ˜"></a>3.å‘½ä»¤è¯´æ˜</h4><p>å‘½ä»¤å¯¹è±¡ä¸æ ¼å¼</p>
<p>å¯¹äº Compose æ¥è¯´ï¼Œå¤§éƒ¨åˆ†å‘½ä»¤çš„å¯¹è±¡æ—¢å¯ä»¥æ˜¯é¡¹ç›®æœ¬èº«ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸ºé¡¹ç›®ä¸­çš„æœåŠ¡æˆ–è€…å®¹å™¨ã€‚å¦‚æœæ²¡æœ‰ç‰¹åˆ«çš„è¯´æ˜ï¼Œå‘½ä»¤å¯¹è±¡å°†æ˜¯é¡¹ç›®ï¼Œè¿™æ„å‘³ç€é¡¹ç›®ä¸­æ‰€æœ‰çš„æœåŠ¡éƒ½ä¼šå—åˆ°å‘½ä»¤å½±å“ã€‚</p>
<p>æ‰§è¡Œ <code>docker-compose [COMMAND] --help</code> æˆ–è€… <code>docker-compose help [COMMAND]</code> å¯ä»¥æŸ¥çœ‹å…·ä½“æŸä¸ªå‘½ä»¤çš„ä½¿ç”¨æ ¼å¼ã€‚</p>
<p><code>docker-compose</code> å‘½ä»¤çš„åŸºæœ¬çš„ä½¿ç”¨æ ¼å¼æ˜¯</p>
<p>docker-compose [-f&#x3D;<arg>â€¦] [options] [COMMAND] [ARGSâ€¦]</p>
<p>å‘½ä»¤é€‰é¡¹</p>
<p>- </p>
<p>  <code>-f, --file FILE</code> æŒ‡å®šä½¿ç”¨çš„ Compose æ¨¡æ¿æ–‡ä»¶ï¼Œé»˜è®¤ä¸º <code>docker-compose.yml</code>ï¼Œå¯ä»¥å¤šæ¬¡æŒ‡å®šã€‚</p>
<p>- </p>
<p>  <code>-p, --project-name NAME</code> æŒ‡å®šé¡¹ç›®åç§°ï¼Œé»˜è®¤å°†ä½¿ç”¨æ‰€åœ¨ç›®å½•åç§°ä½œä¸ºé¡¹ç›®åã€‚</p>
<p>- </p>
<p>  <code>--verbose</code> è¾“å‡ºæ›´å¤šè°ƒè¯•ä¿¡æ¯ã€‚</p>
<p>- </p>
<p>  <code>-v, --version</code> æ‰“å°ç‰ˆæœ¬å¹¶é€€å‡ºã€‚</p>
<p>å‘½ä»¤ä½¿ç”¨è¯´æ˜</p>
<p><code>build</code></p>
<p>æ ¼å¼ä¸º <code>docker-compose build [options] [SERVICE...]</code>ã€‚</p>
<p>æ„å»ºï¼ˆé‡æ–°æ„å»ºï¼‰é¡¹ç›®ä¸­çš„æœåŠ¡å®¹å™¨ã€‚</p>
<p>æœåŠ¡å®¹å™¨ä¸€æ—¦æ„å»ºåï¼Œå°†ä¼šå¸¦ä¸Šä¸€ä¸ªæ ‡è®°åï¼Œä¾‹å¦‚å¯¹äº web é¡¹ç›®ä¸­çš„ä¸€ä¸ª db å®¹å™¨ï¼Œå¯èƒ½æ˜¯ web_dbã€‚</p>
<p>å¯ä»¥éšæ—¶åœ¨é¡¹ç›®ç›®å½•ä¸‹è¿è¡Œ <code>docker-compose build</code> æ¥é‡æ–°æ„å»ºæœåŠ¡ã€‚</p>
<p>é€‰é¡¹åŒ…æ‹¬ï¼š</p>
<ul>
<li><code>--force-rm</code> åˆ é™¤æ„å»ºè¿‡ç¨‹ä¸­çš„ä¸´æ—¶å®¹å™¨ã€‚</li>
<li><code>--no-cache</code> æ„å»ºé•œåƒè¿‡ç¨‹ä¸­ä¸ä½¿ç”¨ cacheï¼ˆè¿™å°†åŠ é•¿æ„å»ºè¿‡ç¨‹ï¼‰ã€‚</li>
<li><code>--pull</code> å§‹ç»ˆå°è¯•é€šè¿‡ pull æ¥è·å–æ›´æ–°ç‰ˆæœ¬çš„é•œåƒã€‚</li>
</ul>
<p><code>config</code></p>
<p>éªŒè¯ Compose æ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼Œè‹¥æ­£ç¡®åˆ™æ˜¾ç¤ºé…ç½®ï¼Œè‹¥æ ¼å¼é”™è¯¯æ˜¾ç¤ºé”™è¯¯åŸå› ã€‚</p>
<p><code>down</code></p>
<p>æ­¤å‘½ä»¤å°†ä¼šåœæ­¢ <code>up</code> å‘½ä»¤æ‰€å¯åŠ¨çš„å®¹å™¨ï¼Œå¹¶ç§»é™¤ç½‘ç»œ</p>
<p><code>exec</code></p>
<p>è¿›å…¥æŒ‡å®šçš„å®¹å™¨ã€‚</p>
<p><code>help</code></p>
<p>è·å¾—ä¸€ä¸ªå‘½ä»¤çš„å¸®åŠ©ã€‚</p>
<p><code>images</code></p>
<p>åˆ—å‡º Compose æ–‡ä»¶ä¸­åŒ…å«çš„é•œåƒã€‚</p>
<p><code>kill</code></p>
<p>æ ¼å¼ä¸º <code>docker-compose kill [options] [SERVICE...]</code>ã€‚</p>
<p>é€šè¿‡å‘é€ <code>SIGKILL</code> ä¿¡å·æ¥å¼ºåˆ¶åœæ­¢æœåŠ¡å®¹å™¨ã€‚</p>
<p>æ”¯æŒé€šè¿‡ <code>-s</code> å‚æ•°æ¥æŒ‡å®šå‘é€çš„ä¿¡å·ï¼Œä¾‹å¦‚é€šè¿‡å¦‚ä¸‹æŒ‡ä»¤å‘é€ <code>SIGINT</code> ä¿¡å·ã€‚</p>
<pre><code class="ini">docker-compose kill -s SIGINT
</code></pre>
<p><code>logs</code></p>
<p>æ ¼å¼ä¸º <code>docker-compose logs [options] [SERVICE...]</code>ã€‚</p>
<p>æŸ¥çœ‹æœåŠ¡å®¹å™¨çš„è¾“å‡ºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œdocker-compose å°†å¯¹ä¸åŒçš„æœåŠ¡è¾“å‡ºä½¿ç”¨ä¸åŒçš„é¢œè‰²æ¥åŒºåˆ†ã€‚å¯ä»¥é€šè¿‡ <code>--no-color</code> æ¥å…³é—­é¢œè‰²ã€‚</p>
<p>è¯¥å‘½ä»¤åœ¨è°ƒè¯•é—®é¢˜çš„æ—¶å€™ååˆ†æœ‰ç”¨ã€‚</p>
<p><code>pause</code></p>
<p>æ ¼å¼ä¸º <code>docker-compose pause [SERVICE...]</code>ã€‚</p>
<p>æš‚åœä¸€ä¸ªæœåŠ¡å®¹å™¨ã€‚</p>
<p><code>port</code></p>
<p>æ ¼å¼ä¸º <code>docker-compose port [options] SERVICE PRIVATE_PORT</code>ã€‚</p>
<p>æ‰“å°æŸä¸ªå®¹å™¨ç«¯å£æ‰€æ˜ å°„çš„å…¬å…±ç«¯å£ã€‚</p>
<p>é€‰é¡¹ï¼š</p>
<ul>
<li><code>--protocol=proto</code> æŒ‡å®šç«¯å£åè®®ï¼Œtcpï¼ˆé»˜è®¤å€¼ï¼‰æˆ–è€… udpã€‚</li>
<li><code>--index=index</code> å¦‚æœåŒä¸€æœåŠ¡å­˜åœ¨å¤šä¸ªå®¹å™¨ï¼ŒæŒ‡å®šå‘½ä»¤å¯¹è±¡å®¹å™¨çš„åºå·ï¼ˆé»˜è®¤ä¸º 1ï¼‰ã€‚</li>
</ul>
<p><code>ps</code></p>
<p>æ ¼å¼ä¸º <code>docker-compose ps [options] [SERVICE...]</code>ã€‚</p>
<p>åˆ—å‡ºé¡¹ç›®ä¸­ç›®å‰çš„æ‰€æœ‰å®¹å™¨ã€‚</p>
<p>é€‰é¡¹ï¼š</p>
<ul>
<li><code>-q</code> åªæ‰“å°å®¹å™¨çš„ ID ä¿¡æ¯ã€‚</li>
</ul>
<p><code>pull</code></p>
<p>æ ¼å¼ä¸º <code>docker-compose pull [options] [SERVICE...]</code>ã€‚</p>
<p>æ‹‰å–æœåŠ¡ä¾èµ–çš„é•œåƒã€‚</p>
<p>é€‰é¡¹ï¼š</p>
<ul>
<li><code>--ignore-pull-failures</code> å¿½ç•¥æ‹‰å–é•œåƒè¿‡ç¨‹ä¸­çš„é”™è¯¯ã€‚</li>
</ul>
<p><code>push</code></p>
<p>æ¨é€æœåŠ¡ä¾èµ–çš„é•œåƒåˆ° Docker é•œåƒä»“åº“ã€‚</p>
<p><code>restart</code></p>
<p>æ ¼å¼ä¸º <code>docker-compose restart [options] [SERVICE...]</code>ã€‚</p>
<p>é‡å¯é¡¹ç›®ä¸­çš„æœåŠ¡ã€‚</p>
<p>é€‰é¡¹ï¼š</p>
<ul>
<li><code>-t, --timeout TIMEOUT</code> æŒ‡å®šé‡å¯å‰åœæ­¢å®¹å™¨çš„è¶…æ—¶ï¼ˆé»˜è®¤ä¸º 10 ç§’ï¼‰ã€‚</li>
</ul>
<p><code>rm</code></p>
<p>æ ¼å¼ä¸º <code>docker-compose rm [options] [SERVICE...]</code>ã€‚</p>
<p>åˆ é™¤æ‰€æœ‰ï¼ˆåœæ­¢çŠ¶æ€çš„ï¼‰æœåŠ¡å®¹å™¨ã€‚æ¨èå…ˆæ‰§è¡Œ <code>docker-compose stop</code> å‘½ä»¤æ¥åœæ­¢å®¹å™¨ã€‚</p>
<p>é€‰é¡¹ï¼š</p>
<ul>
<li><code>-f, --force</code> å¼ºåˆ¶ç›´æ¥åˆ é™¤ï¼ŒåŒ…æ‹¬éåœæ­¢çŠ¶æ€çš„å®¹å™¨ã€‚ä¸€èˆ¬å°½é‡ä¸è¦ä½¿ç”¨è¯¥é€‰é¡¹ã€‚</li>
<li><code>-v</code> åˆ é™¤å®¹å™¨æ‰€æŒ‚è½½çš„æ•°æ®å·ã€‚</li>
</ul>
<p><code>run</code></p>
<p>æ ¼å¼ä¸º <code>docker-compose run [options] [-p PORT...] [-e KEY=VAL...] SERVICE [COMMAND] [ARGS...]</code>ã€‚</p>
<p>åœ¨æŒ‡å®šæœåŠ¡ä¸Šæ‰§è¡Œä¸€ä¸ªå‘½ä»¤ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="ini">docker-compose run ubuntu ping docker.com
</code></pre>
<p>å°†ä¼šå¯åŠ¨ä¸€ä¸ª ubuntu æœåŠ¡å®¹å™¨ï¼Œå¹¶æ‰§è¡Œ <code>ping docker.com</code> å‘½ä»¤ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœå­˜åœ¨å…³è”ï¼Œåˆ™æ‰€æœ‰å…³è”çš„æœåŠ¡å°†ä¼šè‡ªåŠ¨è¢«å¯åŠ¨ï¼Œé™¤éè¿™äº›æœåŠ¡å·²ç»åœ¨è¿è¡Œä¸­ã€‚</p>
<p>è¯¥å‘½ä»¤ç±»ä¼¼å¯åŠ¨å®¹å™¨åè¿è¡ŒæŒ‡å®šçš„å‘½ä»¤ï¼Œç›¸å…³å·ã€é“¾æ¥ç­‰ç­‰éƒ½å°†ä¼šæŒ‰ç…§é…ç½®è‡ªåŠ¨åˆ›å»ºã€‚</p>
<p>ä¸¤ä¸ªä¸åŒç‚¹ï¼š</p>
<ul>
<li>ç»™å®šå‘½ä»¤å°†ä¼šè¦†ç›–åŸæœ‰çš„è‡ªåŠ¨è¿è¡Œå‘½ä»¤ï¼›</li>
<li>ä¸ä¼šè‡ªåŠ¨åˆ›å»ºç«¯å£ï¼Œä»¥é¿å…å†²çªã€‚</li>
</ul>
<p>å¦‚æœä¸å¸Œæœ›è‡ªåŠ¨å¯åŠ¨å…³è”çš„å®¹å™¨ï¼Œå¯ä»¥ä½¿ç”¨ <code>--no-deps</code> é€‰é¡¹ï¼Œä¾‹å¦‚</p>
<pre><code class="ini">docker-compose run --no-deps web python manage.py shell
</code></pre>
<p>å°†ä¸ä¼šå¯åŠ¨ web å®¹å™¨æ‰€å…³è”çš„å…¶å®ƒå®¹å™¨ã€‚</p>
<p>é€‰é¡¹ï¼š</p>
<ul>
<li><code>-d</code> åå°è¿è¡Œå®¹å™¨ã€‚</li>
<li><code>--name NAME</code> ä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåå­—ã€‚</li>
<li><code>--entrypoint CMD</code> è¦†ç›–é»˜è®¤çš„å®¹å™¨å¯åŠ¨æŒ‡ä»¤ã€‚</li>
<li><code>-e KEY=VAL</code> è®¾ç½®ç¯å¢ƒå˜é‡å€¼ï¼Œå¯å¤šæ¬¡ä½¿ç”¨é€‰é¡¹æ¥è®¾ç½®å¤šä¸ªç¯å¢ƒå˜é‡ã€‚</li>
<li><code>-u, --user=&quot;&quot;</code> æŒ‡å®šè¿è¡Œå®¹å™¨çš„ç”¨æˆ·åæˆ–è€… uidã€‚</li>
<li><code>--no-deps</code> ä¸è‡ªåŠ¨å¯åŠ¨å…³è”çš„æœåŠ¡å®¹å™¨ã€‚</li>
<li><code>--rm</code> è¿è¡Œå‘½ä»¤åè‡ªåŠ¨åˆ é™¤å®¹å™¨ï¼Œ<code>d</code> æ¨¡å¼ä¸‹å°†å¿½ç•¥ã€‚</li>
<li><code>-p, --publish=[]</code> æ˜ å°„å®¹å™¨ç«¯å£åˆ°æœ¬åœ°ä¸»æœºã€‚</li>
<li><code>--service-ports</code> é…ç½®æœåŠ¡ç«¯å£å¹¶æ˜ å°„åˆ°æœ¬åœ°ä¸»æœºã€‚</li>
<li><code>-T</code> ä¸åˆ†é…ä¼ª ttyï¼Œæ„å‘³ç€ä¾èµ– tty çš„æŒ‡ä»¤å°†æ— æ³•è¿è¡Œã€‚</li>
</ul>
<p><code>scale</code></p>
<p>æ ¼å¼ä¸º <code>docker-compose scale [options] [SERVICE=NUM...]</code>ã€‚</p>
<p>è®¾ç½®æŒ‡å®šæœåŠ¡è¿è¡Œçš„å®¹å™¨ä¸ªæ•°ã€‚</p>
<p>é€šè¿‡ <code>service=num</code> çš„å‚æ•°æ¥è®¾ç½®æ•°é‡ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="ini">docker-compose scale web=3 db=2
</code></pre>
<p>å°†å¯åŠ¨ 3 ä¸ªå®¹å™¨è¿è¡Œ web æœåŠ¡ï¼Œ2 ä¸ªå®¹å™¨è¿è¡Œ db æœåŠ¡ã€‚</p>
<p>ä¸€èˆ¬çš„ï¼Œå½“æŒ‡å®šæ•°ç›®å¤šäºè¯¥æœåŠ¡å½“å‰å®é™…è¿è¡Œå®¹å™¨ï¼Œå°†æ–°åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨ï¼›åä¹‹ï¼Œå°†åœæ­¢å®¹å™¨ã€‚</p>
<p>é€‰é¡¹ï¼š</p>
<ul>
<li><code>-t, --timeout TIMEOUT</code> åœæ­¢å®¹å™¨æ—¶å€™çš„è¶…æ—¶ï¼ˆé»˜è®¤ä¸º 10 ç§’ï¼‰ã€‚</li>
</ul>
<p><code>start</code></p>
<p>æ ¼å¼ä¸º <code>docker-compose start [SERVICE...]</code>ã€‚</p>
<p>å¯åŠ¨å·²ç»å­˜åœ¨çš„æœåŠ¡å®¹å™¨ã€‚</p>
<p><code>stop</code></p>
<p>æ ¼å¼ä¸º <code>docker-compose stop [options] [SERVICE...]</code>ã€‚</p>
<p>åœæ­¢å·²ç»å¤„äºè¿è¡ŒçŠ¶æ€çš„å®¹å™¨ï¼Œä½†ä¸åˆ é™¤å®ƒã€‚é€šè¿‡ <code>docker-compose start</code> å¯ä»¥å†æ¬¡å¯åŠ¨è¿™äº›å®¹å™¨ã€‚</p>
<p>é€‰é¡¹ï¼š</p>
<ul>
<li><code>-t, --timeout TIMEOUT</code> åœæ­¢å®¹å™¨æ—¶å€™çš„è¶…æ—¶ï¼ˆé»˜è®¤ä¸º 10 ç§’ï¼‰ã€‚</li>
</ul>
<p><code>top</code></p>
<p>æŸ¥çœ‹å„ä¸ªæœåŠ¡å®¹å™¨å†…è¿è¡Œçš„è¿›ç¨‹ã€‚</p>
<p><code>unpause</code></p>
<p>æ ¼å¼ä¸º <code>docker-compose unpause [SERVICE...]</code>ã€‚</p>
<p>æ¢å¤å¤„äºæš‚åœçŠ¶æ€ä¸­çš„æœåŠ¡ã€‚</p>
<p><code>up</code></p>
<p>æ ¼å¼ä¸º <code>docker-compose up [options] [SERVICE...]</code>ã€‚</p>
<p>è¯¥å‘½ä»¤ååˆ†å¼ºå¤§ï¼Œå®ƒå°†å°è¯•è‡ªåŠ¨å®ŒæˆåŒ…æ‹¬æ„å»ºé•œåƒï¼Œï¼ˆé‡æ–°ï¼‰åˆ›å»ºæœåŠ¡ï¼Œå¯åŠ¨æœåŠ¡ï¼Œå¹¶å…³è”æœåŠ¡ç›¸å…³å®¹å™¨çš„ä¸€ç³»åˆ—æ“ä½œã€‚</p>
<p>é“¾æ¥çš„æœåŠ¡éƒ½å°†ä¼šè¢«è‡ªåŠ¨å¯åŠ¨ï¼Œé™¤éå·²ç»å¤„äºè¿è¡ŒçŠ¶æ€ã€‚</p>
<p>å¯ä»¥è¯´ï¼Œå¤§éƒ¨åˆ†æ—¶å€™éƒ½å¯ä»¥ç›´æ¥é€šè¿‡è¯¥å‘½ä»¤æ¥å¯åŠ¨ä¸€ä¸ªé¡¹ç›®ã€‚</p>
<p>é»˜è®¤æƒ…å†µï¼Œ<code>docker-compose up</code> å¯åŠ¨çš„å®¹å™¨éƒ½åœ¨å‰å°ï¼Œæ§åˆ¶å°å°†ä¼šåŒæ—¶æ‰“å°æ‰€æœ‰å®¹å™¨çš„è¾“å‡ºä¿¡æ¯ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿è¿›è¡Œè°ƒè¯•ã€‚</p>
<p>å½“é€šè¿‡ <code>Ctrl-C</code> åœæ­¢å‘½ä»¤æ—¶ï¼Œæ‰€æœ‰å®¹å™¨å°†ä¼šåœæ­¢ã€‚</p>
<p>å¦‚æœä½¿ç”¨ <code>docker-compose up -d</code>ï¼Œå°†ä¼šåœ¨åå°å¯åŠ¨å¹¶è¿è¡Œæ‰€æœ‰çš„å®¹å™¨ã€‚ä¸€èˆ¬æ¨èç”Ÿäº§ç¯å¢ƒä¸‹ä½¿ç”¨è¯¥é€‰é¡¹ã€‚</p>
<p>é»˜è®¤æƒ…å†µï¼Œå¦‚æœæœåŠ¡å®¹å™¨å·²ç»å­˜åœ¨ï¼Œ<code>docker-compose up</code> å°†ä¼šå°è¯•åœæ­¢å®¹å™¨ï¼Œç„¶åé‡æ–°åˆ›å»ºï¼ˆä¿æŒä½¿ç”¨ <code>volumes-from</code> æŒ‚è½½çš„å·ï¼‰ï¼Œä»¥ä¿è¯æ–°å¯åŠ¨çš„æœåŠ¡åŒ¹é… <code>docker-compose.yml</code> æ–‡ä»¶çš„æœ€æ–°å†…å®¹ã€‚å¦‚æœç”¨æˆ·ä¸å¸Œæœ›å®¹å™¨è¢«åœæ­¢å¹¶é‡æ–°åˆ›å»ºï¼Œå¯ä»¥ä½¿ç”¨ <code>docker-compose up --no-recreate</code>ã€‚è¿™æ ·å°†åªä¼šå¯åŠ¨å¤„äºåœæ­¢çŠ¶æ€çš„å®¹å™¨ï¼Œè€Œå¿½ç•¥å·²ç»è¿è¡Œçš„æœåŠ¡ã€‚å¦‚æœç”¨æˆ·åªæƒ³é‡æ–°éƒ¨ç½²æŸä¸ªæœåŠ¡ï¼Œå¯ä»¥ä½¿ç”¨ <code>docker-compose up --no-deps -d &lt;SERVICE_NAME&gt;</code> æ¥é‡æ–°åˆ›å»ºæœåŠ¡å¹¶åå°åœæ­¢æ—§æœåŠ¡ï¼Œå¯åŠ¨æ–°æœåŠ¡ï¼Œå¹¶ä¸ä¼šå½±å“åˆ°å…¶æ‰€ä¾èµ–çš„æœåŠ¡ã€‚</p>
<p>é€‰é¡¹ï¼š</p>
<ul>
<li><code>-d</code> åœ¨åå°è¿è¡ŒæœåŠ¡å®¹å™¨ã€‚</li>
<li><code>--no-color</code> ä¸ä½¿ç”¨é¢œè‰²æ¥åŒºåˆ†ä¸åŒçš„æœåŠ¡çš„æ§åˆ¶å°è¾“å‡ºã€‚</li>
<li><code>--no-deps</code> ä¸å¯åŠ¨æœåŠ¡æ‰€é“¾æ¥çš„å®¹å™¨ã€‚</li>
<li><code>--force-recreate</code> å¼ºåˆ¶é‡æ–°åˆ›å»ºå®¹å™¨ï¼Œä¸èƒ½ä¸ <code>--no-recreate</code> åŒæ—¶ä½¿ç”¨ã€‚</li>
<li><code>--no-recreate</code> å¦‚æœå®¹å™¨å·²ç»å­˜åœ¨äº†ï¼Œåˆ™ä¸é‡æ–°åˆ›å»ºï¼Œä¸èƒ½ä¸ <code>--force-recreate</code> åŒæ—¶ä½¿ç”¨ã€‚</li>
<li><code>--no-build</code> ä¸è‡ªåŠ¨æ„å»ºç¼ºå¤±çš„æœåŠ¡é•œåƒã€‚</li>
<li><code>-t, --timeout TIMEOUT</code> åœæ­¢å®¹å™¨æ—¶å€™çš„è¶…æ—¶ï¼ˆé»˜è®¤ä¸º 10 ç§’ï¼‰ã€‚</li>
</ul>
<p><code>version</code></p>
<p>æ ¼å¼ä¸º <code>docker-compose version</code>ã€‚</p>
<p>æ‰“å°ç‰ˆæœ¬ä¿¡æ¯ã€‚</p>
]]></content>
      <categories>
        <category>Docker</category>
        <category>dockerå…¥é—¨</category>
      </categories>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title>threejs-d-4.0</title>
    <url>/2022/12/01/threejs-d-4-0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="threejs-d-4-0"><a href="#threejs-d-4-0" class="headerlink" title="threejs-d-4.0"></a>threejs-d-4.0</h1><h3 id="ä¸€ã€åŸºç¡€ç½‘æ ¼æè´¨"><a href="#ä¸€ã€åŸºç¡€ç½‘æ ¼æè´¨" class="headerlink" title="ä¸€ã€åŸºç¡€ç½‘æ ¼æè´¨"></a>ä¸€ã€åŸºç¡€ç½‘æ ¼æè´¨</h3><blockquote>
<p>ä¸€ä¸ªä»¥ç®€å•ç€è‰²ï¼ˆå¹³é¢æˆ–çº¿æ¡†ï¼‰æ–¹å¼æ¥ç»˜åˆ¶å‡ ä½•ä½“çš„æè´¨ã€‚</p>
<p>è¿™ç§æè´¨ä¸å—å…‰ç…§çš„å½±å“ã€‚</p>
</blockquote>
<pre><code class="javascript">//main.js+
const textureLoader = new THREE.TextureLoader();//åˆå§‹åŒ–ä¸€ä¸ªåŠ è½½å™¨
const mbColortexture = textureLoader.load(&#39;./texture/mb.png&#39;) //åŠ è½½ä¸€å¼ çº¹ç†è´´å›¾

const geometry = new THREE.BoxGeometry( 1, 1, 1 );//åˆ›å»ºä¸€ä¸ªç«‹æ–¹ä½“
const material = new THREE.MeshBasicMaterial( &#123; 
    color: &#39;#ffffff&#39;,//ç»™ç«‹æ–¹ä½“æ·»åŠ é¢œè‰²
    map:mbColortexture//åŠ è½½è´´å›¾
 &#125; );
const cube = new THREE.Mesh( geometry, material );
console.log(cube)
</code></pre>
<pre><code class="css">.alphaMap : Texture 
#alphaè´´å›¾æ˜¯ä¸€å¼ ç°åº¦çº¹ç†ï¼Œç”¨äºæ§åˆ¶æ•´ä¸ªè¡¨é¢çš„ä¸é€æ˜åº¦ã€‚ï¼ˆé»‘è‰²ï¼šå®Œå…¨é€æ˜ï¼›ç™½è‰²ï¼šå®Œå…¨ä¸é€æ˜ï¼‰ã€‚ é»˜è®¤å€¼ä¸ºnullã€‚

ä»…ä½¿ç”¨çº¹ç†çš„é¢œè‰²ï¼Œå¿½ç•¥alphaé€šé“ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€‚ å¯¹äºRGBå’ŒRGBAçº¹ç†ï¼ŒWebGLæ¸²æŸ“å™¨åœ¨é‡‡æ ·æ­¤çº¹ç†æ—¶å°†ä½¿ç”¨ç»¿è‰²é€šé“ï¼Œ å› ä¸ºåœ¨DXTå‹ç¼©å’Œæœªå‹ç¼©RGB 565æ ¼å¼ä¸­ä¸ºç»¿è‰²æä¾›äº†é¢å¤–çš„ç²¾åº¦ã€‚ Luminance-onlyä»¥åŠluminance/alphaçº¹ç†ä¹Ÿä»ç„¶æœ‰æ•ˆã€‚

.aoMap : Texture
è¯¥çº¹ç†çš„çº¢è‰²é€šé“ç”¨ä½œç¯å¢ƒé®æŒ¡è´´å›¾ã€‚é»˜è®¤å€¼ä¸ºnullã€‚aoMapéœ€è¦ç¬¬äºŒç»„UVã€‚

.aoMapIntensity : Float
ç¯å¢ƒé®æŒ¡æ•ˆæœçš„å¼ºåº¦ã€‚é»˜è®¤å€¼ä¸º1ã€‚é›¶æ˜¯ä¸é®æŒ¡æ•ˆæœã€‚

.color : Color
æè´¨çš„é¢œè‰²(Color)ï¼Œé»˜è®¤å€¼ä¸ºç™½è‰² (0xffffff)ã€‚

.combine : Integer
å¦‚ä½•å°†è¡¨é¢é¢œè‰²çš„ç»“æœä¸ç¯å¢ƒè´´å›¾ï¼ˆå¦‚æœæœ‰ï¼‰ç»“åˆèµ·æ¥ã€‚

é€‰é¡¹ä¸ºTHREE.MultiplyOperationï¼ˆé»˜è®¤å€¼ï¼‰ï¼ŒTHREE.MixOperationï¼Œ THREE.AddOperationã€‚å¦‚æœé€‰æ‹©å¤šä¸ªï¼Œåˆ™ä½¿ç”¨.reflectivityåœ¨ä¸¤ç§é¢œè‰²ä¹‹é—´è¿›è¡Œæ··åˆã€‚

.envMap : Texture
ç¯å¢ƒè´´å›¾ã€‚é»˜è®¤å€¼ä¸ºnullã€‚

.fog : Boolean
æè´¨æ˜¯å¦å—é›¾å½±å“ã€‚é»˜è®¤ä¸ºtrueã€‚

.lightMap : Texture
å…‰ç…§è´´å›¾ã€‚é»˜è®¤å€¼ä¸ºnullã€‚lightMapéœ€è¦ç¬¬äºŒç»„UVã€‚

.lightMapIntensity : Float
çƒ˜ç„™å…‰çš„å¼ºåº¦ã€‚é»˜è®¤å€¼ä¸º1ã€‚

.map : Texture
é¢œè‰²è´´å›¾ã€‚å¯ä»¥é€‰æ‹©åŒ…æ‹¬ä¸€ä¸ªalphaé€šé“ï¼Œé€šå¸¸ä¸.transparent æˆ–.alphaTestã€‚é»˜è®¤ä¸ºnullã€‚

.reflectivity : Float
ç¯å¢ƒè´´å›¾å¯¹è¡¨é¢çš„å½±å“ç¨‹åº¦; è§.combineã€‚é»˜è®¤å€¼ä¸º1ï¼Œæœ‰æ•ˆèŒƒå›´ä»‹äº0ï¼ˆæ— åå°„ï¼‰å’Œ1ï¼ˆå®Œå…¨åå°„ï¼‰ä¹‹é—´ã€‚

.refractionRatio : Float
ç©ºæ°”çš„æŠ˜å°„ç‡ï¼ˆIORï¼‰ï¼ˆçº¦ä¸º1ï¼‰é™¤ä»¥æè´¨çš„æŠ˜å°„ç‡ã€‚å®ƒä¸ç¯å¢ƒæ˜ å°„æ¨¡å¼THREE.CubeRefractionMapping å’ŒTHREE.EquirectangularRefractionMappingä¸€èµ·ä½¿ç”¨ã€‚ The index of refraction (IOR) of air (approximately 1) divided by the index of refraction of the material. It is used with environment mapping mode THREE.CubeRefractionMapping. æŠ˜å°„ç‡ä¸åº”è¶…è¿‡1ã€‚é»˜è®¤å€¼ä¸º0.98ã€‚

.specularMap : Texture
æè´¨ä½¿ç”¨çš„é«˜å…‰è´´å›¾ã€‚é»˜è®¤å€¼ä¸ºnullã€‚

.wireframe : Boolean
å°†å‡ ä½•ä½“æ¸²æŸ“ä¸ºçº¿æ¡†ã€‚é»˜è®¤å€¼ä¸ºfalseï¼ˆå³æ¸²æŸ“ä¸ºå¹³é¢å¤šè¾¹å½¢ï¼‰ã€‚

.wireframeLinecap : String
å®šä¹‰çº¿ä¸¤ç«¯çš„å¤–è§‚ã€‚å¯é€‰å€¼ä¸º &#39;butt&#39;ï¼Œ&#39;round&#39; å’Œ &#39;square&#39;ã€‚é»˜è®¤ä¸º&#39;round&#39;ã€‚

è¯¥å±æ€§å¯¹åº”2D Canvas lineJoinå±æ€§ï¼Œ å¹¶ä¸”ä¼šè¢«WebGLæ¸²æŸ“å™¨å¿½ç•¥ã€‚

.wireframeLinejoin : String
å®šä¹‰çº¿è¿æ¥èŠ‚ç‚¹çš„æ ·å¼ã€‚å¯é€‰å€¼ä¸º &#39;round&#39;, &#39;bevel&#39; å’Œ &#39;miter&#39;ã€‚é»˜è®¤å€¼ä¸º &#39;round&#39;ã€‚

è¯¥å±æ€§å¯¹åº”2D Canvas lineJoinå±æ€§ï¼Œ å¹¶ä¸”ä¼šè¢«WebGLæ¸²æŸ“å™¨å¿½ç•¥ã€‚

.wireframeLinewidth : Float
æ§åˆ¶çº¿æ¡†å®½åº¦ã€‚é»˜è®¤å€¼ä¸º1ã€‚
</code></pre>
<p>æ•ˆæœå±•ç¤ºï¼š</p>
<p><img src="/2022/12/01/threejs-d-4-0/image-20221201090956497.png"></p>
<h3 id="äºŒã€çº¹ç†å¸¸ç”¨å±æ€§"><a href="#äºŒã€çº¹ç†å¸¸ç”¨å±æ€§" class="headerlink" title="äºŒã€çº¹ç†å¸¸ç”¨å±æ€§"></a>äºŒã€çº¹ç†å¸¸ç”¨å±æ€§</h3><pre><code class="javascript">const textureLoader = new THREE.TextureLoader();
const mbColortexture = textureLoader.load(&#39;./texture/mb.png&#39;) 
console.log(mbColortexture)
</code></pre>
<blockquote>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°mbColortextureçš„å±æ€§</p>
</blockquote>
<p><img src="/2022/12/01/threejs-d-4-0/image-20221201091841323.png"></p>
<h4 id="1-çº¹ç†åç§»"><a href="#1-çº¹ç†åç§»" class="headerlink" title="1.çº¹ç†åç§»"></a>1.çº¹ç†åç§»</h4><pre><code class="javascript">//main.js+
const textureLoader = new THREE.TextureLoader();
const mbColortexture = textureLoader.load(&#39;./texture/mb.png&#39;) 
mbColortexture.offset.set(0.2,0.2)//é»˜è®¤æ˜¯x,y,èŒƒå›´æ˜¯0.0 to 1.0
</code></pre>
<p>æ•ˆæœå±•ç¤ºï¼š</p>
<p><img src="/2022/12/01/threejs-d-4-0/image-20221201092855963.png"></p>
<h4 id="2-çº¹ç†æ—‹è½¬"><a href="#2-çº¹ç†æ—‹è½¬" class="headerlink" title="2.çº¹ç†æ—‹è½¬"></a>2.çº¹ç†æ—‹è½¬</h4><pre><code class="javascript">const textureLoader = new THREE.TextureLoader();
const mbColortexture = textureLoader.load(&#39;./texture/mb.png&#39;) 
mbColortexture.center.set(0.5,0.5)//è®¾ç½®ä¸­å¿ƒç‚¹ï¼Œ(0.5, 0.5)å¯¹åº”çº¹ç†çš„æ­£ä¸­å¿ƒã€‚é»˜è®¤å€¼ä¸º(0,0)ï¼Œå³å·¦ä¸‹è§’
mbColortexture.rotation = Math.PI / 4 //çº¹ç†å°†å›´ç»•ä¸­å¿ƒç‚¹æ—‹è½¬å¤šå°‘åº¦ï¼Œå•ä½ä¸ºå¼§åº¦ï¼ˆradï¼‰ã€‚æ­£å€¼ä¸ºé€†æ—¶é’ˆæ–¹å‘æ—‹è½¬ï¼Œé»˜è®¤å€¼ä¸º0ã€‚
</code></pre>
<p>æ•ˆæœå±•ç¤ºï¼š</p>
<p><img src="/2022/12/01/threejs-d-4-0/image-20221201093713067.png"></p>
<h4 id="3-çº¹ç†é‡å¤"><a href="#3-çº¹ç†é‡å¤" class="headerlink" title="3.çº¹ç†é‡å¤"></a>3.çº¹ç†é‡å¤</h4><blockquote>
<p>å½“æˆ‘ä»¬æ—‹è½¬æˆ–è€…æ”¹å˜äº†uvå±æ€§ï¼Œé‚£ä¹ˆå¯èƒ½å°±å‡ºç°äº†ä¸Šé¢é‚£ç§æƒ…å†µï¼Œæ˜¯å› ä¸º</p>
<p>.wrapS : number</p>
<p>è¿™ä¸ªå€¼å®šä¹‰äº†çº¹ç†è´´å›¾åœ¨æ°´å¹³æ–¹å‘ä¸Šå°†å¦‚ä½•åŒ…è£¹ï¼Œåœ¨UVæ˜ å°„ä¸­å¯¹åº”äº<strong>U</strong>ã€‚<br>é»˜è®¤å€¼æ˜¯THREE.ClampToEdgeWrappingï¼Œå³çº¹ç†è¾¹ç¼˜å°†è¢«æ¨åˆ°å¤–éƒ¨è¾¹ç¼˜çš„çº¹ç´ ã€‚</p>
</blockquote>
<p>æˆ‘ä»¬éœ€è¦ä¿®æ”¹å±æ€§ï¼Œä½¿å…¶è¾¾åˆ°åˆé€‚çš„uv</p>
<pre><code class="javascript">//main.js+
const textureLoader = new THREE.TextureLoader();
const mbColortexture = textureLoader.load(&#39;./texture/mb.png&#39;) 
mbColortexture.wrapS = THREE.RepeatWrapping//ä½¿ç”¨RepeatWrappingï¼Œçº¹ç†å°†ç®€å•åœ°é‡å¤åˆ°æ— ç©·å¤§ã€‚
mbColortexture.wrapT = THREE.RepeatWrapping
mbColortexture.center.set(0.5,0.5)
mbColortexture.rotation = Math.PI / 4

//ä½¿ç”¨MirroredRepeatWrappingï¼Œ çº¹ç†å°†é‡å¤åˆ°æ— ç©·å¤§ï¼Œåœ¨æ¯æ¬¡é‡å¤æ—¶å°†è¿›è¡Œé•œåƒã€‚
</code></pre>
<p>wrapSå’ŒwrapTå¯ä»¥è®¾ç½®ç›¸åŒçš„å±æ€§</p>
<p>.wrapS : number</p>
<p>è¿™ä¸ªå€¼å®šä¹‰äº†çº¹ç†è´´å›¾åœ¨æ°´å¹³æ–¹å‘ä¸Šå°†å¦‚ä½•åŒ…è£¹ï¼Œåœ¨UVæ˜ å°„ä¸­å¯¹åº”äº<strong>U</strong>ã€‚<br>é»˜è®¤å€¼æ˜¯THREE.ClampToEdgeWrappingï¼Œå³çº¹ç†è¾¹ç¼˜å°†è¢«æ¨åˆ°å¤–éƒ¨è¾¹ç¼˜çš„çº¹ç´ ã€‚ å…¶å®ƒçš„ä¸¤ä¸ªé€‰é¡¹åˆ†åˆ«æ˜¯THREE.RepeatWrappingå’ŒTHREE.MirroredRepeatWrappingã€‚ è¯·å‚é˜…texture constantsæ¥äº†è§£è¯¦ç»†ä¿¡æ¯ã€‚</p>
<p>.wrapT : number</p>
<p>è¿™ä¸ªå€¼å®šä¹‰äº†çº¹ç†è´´å›¾åœ¨å‚ç›´æ–¹å‘ä¸Šå°†å¦‚ä½•åŒ…è£¹ï¼Œåœ¨UVæ˜ å°„ä¸­å¯¹åº”äº<strong>V</strong>ã€‚<br>å¯ä»¥ä½¿ç”¨ä¸ .wrapS : numberç›¸åŒçš„é€‰é¡¹ã€‚</p>
<p>è¯·æ³¨æ„ï¼šçº¹ç†ä¸­å›¾åƒçš„å¹³é“ºï¼Œä»…æœ‰å½“å›¾åƒå¤§å°ï¼ˆä»¥åƒç´ ä¸ºå•ä½ï¼‰ä¸º2çš„å¹‚ï¼ˆ2ã€4ã€8ã€16ã€32ã€64ã€128ã€256ã€512ã€1024ã€2048ã€â€¦â€¦ï¼‰æ—¶æ‰èµ·ä½œç”¨ã€‚ å®½åº¦ã€é«˜åº¦æ— éœ€ç›¸ç­‰ï¼Œä½†æ¯ä¸ªç»´åº¦çš„é•¿åº¦å¿…é¡»éƒ½æ˜¯2çš„å¹‚ã€‚ è¿™æ˜¯WebGLä¸­çš„é™åˆ¶ï¼Œä¸æ˜¯ç”±three.jsæ‰€é™åˆ¶çš„ã€‚</p>
<pre><code class="javascript">//main.js+
const textureLoader = new THREE.TextureLoader();
const mbColortexture = textureLoader.load(&#39;./texture/mb.png&#39;) 
mbColortexture.wrapS = THREE.RepeatWrapping
mbColortexture.wrapT = THREE.RepeatWrapping
mbColortexture.repeat.set(1,1)//è®¾ç½®é‡å¤çš„æ¬¡æ•°
mbColortexture.center.set(0.5,0.5)
</code></pre>
<h3 id="ä¸‰ã€çº¹ç†ç®—æ³•æ˜¾ç¤º"><a href="#ä¸‰ã€çº¹ç†ç®—æ³•æ˜¾ç¤º" class="headerlink" title="ä¸‰ã€çº¹ç†ç®—æ³•æ˜¾ç¤º"></a>ä¸‰ã€çº¹ç†ç®—æ³•æ˜¾ç¤º</h3><blockquote>
<p>è¿™é‡Œä¸»è¦æ˜¯ä¸¤ä¸ªå±æ€§.magFilterå’Œ.minFilter</p>
</blockquote>
<h4 id="magFilter-number"><a href="#magFilter-number" class="headerlink" title=".magFilter : number"></a>.magFilter : number</h4><p>å½“ä¸€ä¸ªçº¹ç´ è¦†ç›–å¤§äºä¸€ä¸ªåƒç´ æ—¶ï¼Œè´´å›¾å°†å¦‚ä½•é‡‡æ ·ã€‚é»˜è®¤å€¼ä¸ºTHREE.LinearFilterï¼Œ å®ƒå°†è·å–å››ä¸ªæœ€æ¥è¿‘çš„çº¹ç´ ï¼Œå¹¶åœ¨ä»–ä»¬ä¹‹é—´è¿›è¡ŒåŒçº¿æ€§æ’å€¼ã€‚ å¦ä¸€ä¸ªé€‰é¡¹æ˜¯THREE.NearestFilterï¼Œå®ƒå°†ä½¿ç”¨æœ€æ¥è¿‘çš„çº¹ç´ çš„å€¼ã€‚<br>è¯·å‚é˜…texture constantsé¡µé¢æ¥äº†è§£è¯¦ç»†ä¿¡æ¯ã€‚</p>
<h4 id="minFilter-number"><a href="#minFilter-number" class="headerlink" title=".minFilter : number"></a>.minFilter : number</h4><p>å½“ä¸€ä¸ªçº¹ç´ è¦†ç›–å°äºä¸€ä¸ªåƒç´ æ—¶ï¼Œè´´å›¾å°†å¦‚ä½•é‡‡æ ·ã€‚é»˜è®¤å€¼ä¸ºTHREE.LinearMipmapLinearFilterï¼Œ å®ƒå°†ä½¿ç”¨mipmappingä»¥åŠä¸‰æ¬¡çº¿æ€§æ»¤é•œã€‚</p>
<p>magFilterä¸ºTHREE.NearestFilteræ•ˆæœå±•ç¤ºï¼š</p>
<p><img src="/2022/12/01/threejs-d-4-0/image-20221201100523546.png"></p>
<p>magFilterä¸ºTHREE.LinearFilteræ—¶æ•ˆæœå±•ç¤ºï¼š</p>
<p><img src="/2022/12/01/threejs-d-4-0/image-20221201100924472.png"></p>
<p>.minFilter çš„ä¸€äº›å±æ€§å€¼</p>
<p><img src="/2022/12/01/threejs-d-4-0/image-20221201102245156.png"></p>
<h3 id="å››ã€é€æ˜æè´¨å’Œçº¹ç†"><a href="#å››ã€é€æ˜æè´¨å’Œçº¹ç†" class="headerlink" title="å››ã€é€æ˜æè´¨å’Œçº¹ç†"></a>å››ã€é€æ˜æè´¨å’Œçº¹ç†</h3><blockquote>
<p>alphaMapå’Œopacity</p>
</blockquote>
<pre><code class="javascript">//main.js
const textureLoader = new THREE.TextureLoader();
const mbColortexture = textureLoader.load(&#39;./texture/AHS_AlphaPack_V3_ (1).png&#39;) //åŠ è½½é¢œè‰²è´´å›¾
const mbAlphatexture = textureLoader.load(&#39;./texture/AHS_AlphaPack_V3_ (1).jpg&#39;) //åŠ è½½Alphaè´´å›¾
mbColortexture.wrapS = THREE.RepeatWrapping
mbColortexture.wrapT = THREE.RepeatWrapping
mbColortexture.center.set(0.5,0.5)
// mbColortexture.rotation = Math.PI / 4
const geometry = new THREE.BoxGeometry( 1, 1, 1 );
const material = new THREE.MeshBasicMaterial( &#123; 
    color: &#39;#ffffff&#39;,
    map:mbColortexture,
    alphaMap:mbAlphatexture,//alphaè´´å›¾æ˜¯ä¸€å¼ ç°åº¦çº¹ç†ï¼Œç”¨äºæ§åˆ¶æ•´ä¸ªè¡¨é¢çš„ä¸é€æ˜åº¦ã€‚ï¼ˆé»‘è‰²ï¼šå®Œå…¨é€æ˜ï¼›ç™½è‰²ï¼šå®Œå…¨ä¸é€æ˜ï¼‰ã€‚ é»˜è®¤å€¼ä¸ºnullã€‚
    transparent:true //å®šä¹‰æ­¤æè´¨æ˜¯å¦é€æ˜ã€‚è¿™å¯¹æ¸²æŸ“æœ‰å½±å“ï¼Œå› ä¸ºé€æ˜å¯¹è±¡éœ€è¦ç‰¹æ®Šå¤„ ç†ï¼Œå¹¶åœ¨éé€æ˜å¯¹è±¡ä¹‹åæ¸²æŸ“ã€‚è®¾ç½®ä¸ºtrueæ—¶ï¼Œé€šè¿‡è®¾ç½®æè´¨çš„opacityå±æ€§æ¥æ§åˆ¶æè´¨é€æ˜çš„ç¨‹åº¦ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚
    opacity:0.5 //è®¾ç½®æè´¨çš„opacityå±æ€§æ¥æ§åˆ¶æè´¨é€æ˜çš„ç¨‹åº¦
 &#125; );
const cube = new THREE.Mesh( geometry, material ); 
scene.add( cube );
</code></pre>
<p>é€æ˜çº¹ç†æ•ˆæœå±•ç¤ºï¼š</p>
<p><img src="/2022/12/01/threejs-d-4-0/image-20221201105806475.png"></p>
<p><img src="/2022/12/01/threejs-d-4-0/image-20221201110104958.png"></p>
<h3 id="äº”ã€ç¯å¢ƒé®æŒ¡è´´å›¾ä¸å¼ºåº¦"><a href="#äº”ã€ç¯å¢ƒé®æŒ¡è´´å›¾ä¸å¼ºåº¦" class="headerlink" title="äº”ã€ç¯å¢ƒé®æŒ¡è´´å›¾ä¸å¼ºåº¦"></a>äº”ã€ç¯å¢ƒé®æŒ¡è´´å›¾ä¸å¼ºåº¦</h3><blockquote>
<h3 id="aoMap-Texture"><a href="#aoMap-Texture" class="headerlink" title=".aoMap : Texture"></a>.aoMap : Texture</h3><p>è¯¥çº¹ç†çš„çº¢è‰²é€šé“ç”¨ä½œç¯å¢ƒé®æŒ¡è´´å›¾ã€‚é»˜è®¤å€¼ä¸ºnullã€‚aoMapéœ€è¦ç¬¬äºŒç»„UVã€‚</p>
<h3 id="aoMapIntensity-Float"><a href="#aoMapIntensity-Float" class="headerlink" title=".aoMapIntensity : Float"></a>.aoMapIntensity : Float</h3><p> ç¯å¢ƒé®æŒ¡æ•ˆæœçš„å¼ºåº¦ã€‚é»˜è®¤å€¼ä¸º1ã€‚é›¶æ˜¯ä¸é®æŒ¡æ•ˆæœã€‚</p>
</blockquote>
<pre><code class="javascript">const textureLoader = new THREE.TextureLoader();
const mbColortexture = textureLoader.load(&#39;./texture/road_with_tram_rails_24_71_diffuse.jpg&#39;) 
const mbHeighttexture = textureLoader.load(&#39;./texture/road_with_tram_rails_24_71_height.jpg&#39;) 
mbColortexture.wrapS = THREE.RepeatWrapping
mbColortexture.wrapT = THREE.RepeatWrapping
mbColortexture.center.set(0.5,0.5)
// mbColortexture.rotation = Math.PI / 4
const geometry = new THREE.BoxGeometry( 1, 1, 1 );
const material = new THREE.MeshBasicMaterial( &#123; 
    color: &#39;#ffffff&#39;,
    map:mbColortexture,
    aoMap:mbHeighttexture,
    aoMapIntensity:1//èŒƒå›´ 0-1
 &#125; );
const cube = new THREE.Mesh( geometry, material );
console.log(cube)
</code></pre>
<p>æ·»åŠ ç¯å¢ƒé®æŒ¡è´´å›¾å‰ï¼š</p>
<p><img src="/2022/12/01/threejs-d-4-0/image-20221201111821273.png"></p>
<p>æ·»åŠ ç¯å¢ƒé®æŒ¡è´´å›¾åï¼š</p>
<p><img src="/2022/12/01/threejs-d-4-0/image-20221201111921492.png"></p>
<h3 id="å…­ã€PBR"><a href="#å…­ã€PBR" class="headerlink" title="å…­ã€PBR"></a>å…­ã€PBR</h3><p>PBRæ˜¯Physically-Based Renderingï¼ˆåŸºäºç‰©ç†çš„æ¸²æŸ“)çš„ç®€ç§°ï¼Œè¿™ä¸ªè¯çš„å­—é¢æ„æ€å¹¶ä¸å®¹æ˜“å¼„æ‡‚ï¼Œåˆ°åº•ä»€ä¹ˆæ˜¯PBRå‘¢ï¼Ÿ</p>
<p>è®©PBRæè´¨æµåŒºåˆ«ä¸å…¶ä»–æ‰‹æ³•çš„é‡è¦ä¸€ç‚¹æ˜¯å…‰å¯¹è¡¨é¢é€ æˆçš„ç»†è…»æ•ˆæœï¼Œå®ƒæœ‰ç€æ›´ä¸ºå‡†ç¡®çš„æ¨¡æ‹Ÿï¼Œè€Œä¸”åŒæ—¶ä¸å¤±ä¸€å®šçš„è‰ºæœ¯æ„Ÿã€‚è®©æˆ‘ä»¬ä»æœ€åŸºç¡€çš„æ¦‚å¿µè¯´èµ·ï¼š</p>
<h4 id="1-æ¼«å°„ä¸åå°„"><a href="#1-æ¼«å°„ä¸åå°„" class="headerlink" title="1.æ¼«å°„ä¸åå°„"></a>1.æ¼«å°„ä¸åå°„</h4><p>è¿™æ˜¯ä¸¤ä¸ªæè´¨åˆ¶ä½œé‡Œæœ€åŸºæœ¬çš„æ¦‚å¿µï¼Œæ˜¯å…‰ä¸è¡¨é¢æœ€åŸºç¡€çš„ç›¸äº’ä½œç”¨ï¼Œå¾ˆå¤šäººéƒ½çŸ¥é“è¿™ä¸€ç‚¹ï¼Œä½†ä¸ä¸€å®šçŸ¥é“åœ¨ç‰©ç†å±‚é¢ä¸Šåˆ°åº•æ˜¯ä»€ä¹ˆã€‚</p>
<p>å½“ä¸€æŸå…‰ç…§å°„åˆ°ä¸€ä¸ªè¡¨é¢ï¼Œæœ‰äº›å…‰ä¼šè¢«åå°„ï¼Œå³ä»ç‰©ä½“è¡¨é¢æ²¿ç€æ³•çº¿åæ–¹å‘å¼¹å°„å›å»ã€‚è¿™ä¸€è¿‡ç¨‹å’Œä¸€ä¸ªçƒæ‰“åœ¨äº†å¢™ä¸Šæˆ–åœ°ä¸Šåå¼¹å›å»å·®ä¸å¤šã€‚åœ¨ä¸€ä¸ªå…‰æ»‘çš„è¡¨é¢ä¸Šï¼Œè¿™ä¼šäº§ç”Ÿä¸€ç§é•œé¢æ•ˆæœã€‚</p>
<p>ä¹Ÿä¸æ˜¯æ‰€æœ‰çš„å…‰éƒ½è¢«ç‰©ä½“è¡¨é¢åå¼¹å›å»ï¼Œæœ‰äº›ä¼šè¢«ç‰©ä½“è¡¨é¢å¸æ”¶ï¼Œæˆ–è€…æ•£å°„è¿›äº†ç‰©ä½“å†…éƒ¨ï¼Œæœ‰äº›æ•£å°„è¿›å»çš„å…‰åˆä¼šä»åé¢å†æ¬¡ç©¿å‡ºå»ï¼Œå†æ¬¡è¢«çœ¼ç›æˆ–ç›¸æœºæ•æ‰åˆ°ã€‚</p>
<p><img src="/2022/12/01/threejs-d-4-0/efab4-6369032157239337638822742.png"></p>
<p>- </p>
<p>å…‰çš„è¿™ç§è¢«ç‰©ä½“è¡¨é¢å¸æ”¶å’Œæ•£å°„å› å…‰çš„ä¸åŒæ³¢é•¿è€Œä¸åŒï¼Œä¹Ÿå³é¢œè‰²çš„ä¸åŒè€Œä¸åŒã€‚ç”±äºè¿™ç§æ•£å°„æä¸ºä¸è§„åˆ™ï¼Œæ‰€ä»¥çœ‹èµ·æ¥ç»™äººæ„Ÿè§‰æ˜¯æ¥è‡ªå„ä¸ªæ–¹å‘ã€‚è¿™å’Œé•œé¢æ•ˆæœå¾ˆä¸åŒï¼è¦åœ¨æè´¨é‡Œæ¨¡æ‹Ÿè¿™ç§æ•ˆæœï¼Œå¯ä»¥é€šè¿‡å®šä¹‰ä¸€ä¸ªæ¼«å°„é¢œè‰²æ¥åšåˆ°ã€‚</p>
<h4 id="2-åŠé€ä¸é€æ˜"><a href="#2-åŠé€ä¸é€æ˜" class="headerlink" title="2.åŠé€ä¸é€æ˜"></a>2.åŠé€ä¸é€æ˜</h4><p>ä½†æœ‰äº›æ¼«å°„å¾ˆå¤æ‚ï¼Œæ¯”å¦‚çš®è‚¤å’Œèœ¡çƒ›çš„è¡¨é¢ï¼Œç®€å•çš„å®šä¹‰ä¸€ä¸ªæ¼«å°„é¢œè‰²æ˜¯ä¸å¤Ÿçš„ï¼Œè¿˜éœ€è¦è€ƒè™‘æè´¨çš„åšåº¦å’Œå½¢çŠ¶ã€‚å¦‚æœç‰©ä½“æœ¬èº«å¾ˆè–„ï¼Œé‚£ä¹ˆå°±åº”è¯¥èƒ½çœ‹åˆ°é€æ˜æ•ˆæœã€‚è¿™æ—¶å°±éœ€è¦ç‰¹æ®Šæè´¨æ‰èƒ½æ¨¡æ‹Ÿäº†ã€‚</p>
<p>èƒ½é‡å®ˆæ’ï¼ˆä¸€ï¼‰<br>é€šè¿‡ä»¥ä¸Šå¯¹åå°„å’Œæ¼«å°„çš„æè¿°ï¼Œæˆ‘ä»¬ä¸éš¾å¾—å‡ºä¸€ä¸ªç»“è®ºï¼šæ¼«å°„å’Œåå°„æ˜¯äº’æ–¥çš„ã€‚ä¸ºäº†èƒ½çœ‹åˆ°æ¼«å°„é¢œè‰²ï¼Œå…‰å¿…é¡»å…ˆç©¿è¿‡è¡¨é¢ï¼Œæˆ–è€…è¯´æ²¡èƒ½è¢«è¡¨é¢åå°„å›å»ã€‚é‚£ä¹ˆæ ¹æ®èƒ½é‡å®ˆæ’æ³•åˆ™ï¼Œå°±å‡ºç°è¿™æ ·çš„æƒ…å†µï¼šè¶Šæ˜¯åå°„å¼ºçƒˆçš„è¡¨é¢ï¼Œå…¶æ¼«å°„è¶Šæ˜¯å¼±ï¼ˆæš—ï¼‰ï¼Œå› ä¸ºæ²¡æœ‰é‚£ä¹ˆå¤šçš„å…‰ç©¿è¿‡å»ï¼Œå¤§éƒ¨åˆ†éƒ½è¢«åå°„å›å»äº†ã€‚ä¸€ä¸ªè¡¨é¢å¾ˆæ˜äº®çš„ç‰©ä½“å®ƒä¸å¯èƒ½æœ‰å¾ˆå¼ºçš„åå°„ã€‚</p>
<p><img src="/2022/12/01/threejs-d-4-0/bf8d3-6369032158373459631393348.png"></p>
<p>- </p>
<p>èƒ½é‡å®ˆæ’æ˜¯PBRæè´¨æµçš„åŸºç¡€ï¼Œè¦åšå‡ºè‡ªç„¶é€¼çœŸçš„æè´¨æ¥ï¼Œä¸å¯ä»¥æ— è§†è¿™ä¸ªè§„åˆ™ã€‚</p>
<h4 id="3-é‡‘å±"><a href="#3-é‡‘å±" class="headerlink" title="3.é‡‘å±"></a>3.é‡‘å±</h4><p>å¯¼ç”µä½“ï¼Œæ¯”å¦‚é‡‘å±æè´¨è¦ç‰¹åˆ«å•ç‹¬æ‹¿å‡ºæ¥è®²ä¸€ä¸‹ã€‚å› ä¸ºï¼š<br>é¦–å…ˆï¼Œå®ƒä»¬æ¯”ç»ç¼˜ä½“çš„è¡¨é¢æ›´åŠ å…·æœ‰åå°„æ•ˆæœï¼Œå®ƒä»¬çš„åå°„ç‡é«˜è¾¾60-90%ï¼Œè€Œç»ç¼˜ä½“åªæœ‰0-20%ã€‚é«˜åå°„ç‡è®©å…‰æ— æ³•ç©¿è¿‡è¡¨é¢è¿›å…¥ç‰©ä½“å†…éƒ¨ï¼Œä»è€Œäº§ç”Ÿäº†é—ªå…‰çš„è´¨æ„Ÿã€‚</p>
<p>å…¶æ¬¡ï¼Œé‡‘å±çš„åå°„æ•ˆæœè¿˜ä¼šéšç€å…‰è°±è€Œä¸åŒï¼Œè¿™å°±æ˜¯è¯´ï¼Œé‡‘å±çš„åå°„æ˜¯å¸¦æœ‰é¢œè‰²çš„ï¼Œè€Œä¸”å¾ˆä¸å‡åŒ€ï¼Œæ¯”å¦‚é‡‘ï¼Œé“œç­‰ã€‚è€Œç»ç¼˜ä½“çš„åå°„æ˜¯æ— è‰²çš„ã€‚</p>
<p>æœ€åï¼Œç©¿è¿‡å¯¼ç”µä½“è¡¨é¢çš„å…‰æœ€åå¤§éƒ¨åˆ†ä¹Ÿä¼šè¢«å¸æ”¶è€Œä¸æ˜¯è¢«æ•£å°„å‡ºå»ï¼Œè¿™æ—¢æ˜¯è¯´ï¼Œç†è®ºä¸Šå¯¼ç”µä½“æ˜¯æ²¡æœ‰æ¼«å°„é¢œè‰²çš„ã€‚</p>
<h4 id="4-è²æ¶…å°”"><a href="#4-è²æ¶…å°”" class="headerlink" title="4.è²æ¶…å°”"></a>4.è²æ¶…å°”</h4><p>å¥¥å¤æ–¯æ±€-è®©Â·è²æ¶…å°”ï¼Œè¿™ä¸ªäººçš„åå­—æ˜¯ç»å¯¹ä¸å¯èƒ½è¢«é—å¿˜çš„ï¼Œå› ä¸ºä»–çš„åå­—å’Œåå°„ç°è±¡ç»“åˆåˆ°äº†ä¸€èµ·å»ï¼Œä¸è¯´ä»–çš„åå­—è°ˆåå°„å‡ ä¹ä¸å¯èƒ½ã€‚</p>
<p>åœ¨CGé‡Œï¼Œè²æ¶…å°”ä»£è¡¨äº†åå°„æ•ˆæœå› è§‚å¯Ÿè§’åº¦çš„ä¸åŒè€Œä¸åŒï¼Œä¹Ÿå³æ˜¯ç‰©ä½“è¾¹ç¼˜çš„åå°„æ•ˆæœä¼šæ›´åŠ æ˜äº®ã€‚PBRæè´¨æµåœ¨è¿™ä¸ªæ•ˆæœä¸Šæœ‰å‡ ä¸ªç‰¹è‰²ï¼š</p>
<p>é¦–å…ˆï¼Œå¯¹äºæ‰€æœ‰çš„æè´¨æ¥è¯´ï¼Œåå°„æ•ˆæœåœ¨æ¥è¿‘0åº¦è§’æ—¶æœ€æ˜æ˜¾ï¼Œå°±åƒé•œé¢åå°„ä¸€æ ·ï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆæè´¨éƒ½æ˜¯å¦‚æ­¤ã€‚åªè¦è¶³å¤Ÿå…‰æ»‘èƒ½äº§ç”Ÿåå°„ï¼Œé‚£ä¹ˆä¸€å®šèƒ½åœ¨æŸä¸€ä¸ªè§’åº¦è§‚å¯Ÿæ—¶ï¼Œçœ‹åˆ°å®Œç¾çš„é•œé¢åå°„æ•ˆæœï¼è¿™å¬èµ·æ¥æœ‰ç‚¹ç„ä¹ï¼Œä½†è¿™å°±æ˜¯ç‰©ç†ã€‚</p>
<p>å…¶æ¬¡ï¼Œè¿™ç§åå°„æ•ˆæœçš„å˜åŒ–éšç€æè´¨çš„ä¸åŒè€Œæœ‰æ‰€ä¸åŒï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2022/12/01/threejs-d-4-0/27de3-6369032159485741581962421.png"></p>
<p>- </p>
<p>- </p>
<p>- </p>
<p>è¿™ä¸ªå›¾çš„æ„æ€æ˜¯åœ¨è¯´ï¼šåœ¨æ¨¡æ‹ŸçœŸå®æè´¨æ—¶ï¼Œåå°„æ•ˆæœå¿…é¡»è¦ç¨å¾®æœ‰äº›æ”¶æ•›ï¼Œè‡³å°‘è¦åœ¨éœ€è¦å¼±çš„åœ°æ–¹å¼±ä¸‹æ¥ã€‚è¿™å¹¶ä¸éš¾åšåˆ°ï¼Œè€Œä¸”ç°åœ¨çš„æè´¨ç³»ç»Ÿéƒ½èƒ½è‡ªå¸¦è¿™ç§è²å°¼å°”æ•ˆæœäº†ã€‚PBRæè´¨æµæ˜¯å¯ä»¥å¸¦å‡ºäº›è‰ºæœ¯å¤„ç†çš„ï¼Œåœ¨åšå‡ºåŸºç¡€åå°„æ•ˆæœåï¼Œä½ å¯ä»¥å†æ·»åŠ ä¸€äº›å®Œå…¨åå°„çš„å°å±€éƒ¨åšç‚¹ç¼€ã€‚</p>
<h4 id="5-å¾®è¡¨é¢"><a href="#5-å¾®è¡¨é¢" class="headerlink" title="5.å¾®è¡¨é¢"></a>5.å¾®è¡¨é¢</h4><p>ä¸Šé¢éƒ½æ˜¯åŸºäºç‰©ä½“è¡¨é¢è¯´çš„ä¸œè¥¿ï¼Œæˆ–è€…è¯´æ˜¯ç‰©ä½“èƒ½è¢«æ¸²æŸ“å‡ºæ¥çš„æ•ˆæœã€‚ä½†ç‰©ä½“è¡¨é¢å¹¶éå®Œç¾æ— ç‘•ï¼Œå°å‡¹ç—•ï¼Œè£‚çº¹ï¼Œå‡¹å‡¸ï¼Œè¿™äº›æ— æ³•è¢«çœ¼ç›çœ‹åˆ°ï¼Œä¹Ÿæ— æ³•åœ¨æ³•çº¿è´´å›¾é‡Œè¢«ä½“ç°å‡ºæ¥çš„å¾®å°ç»†èŠ‚ï¼Œç¡®å®å·¦å³æ¼«å°„å’Œåå°„æ•ˆæœçš„çœŸæ­£å› ç´ ã€‚</p>
<p><img src="/2022/12/01/threejs-d-4-0/923ff-6369032160821103922455437.png"></p>
<p>- </p>
<p>- </p>
<p>- </p>
<p>ä¸Šå›¾ä¸­ï¼Œå¹³è¡Œç…§å°„åˆ°ç‰©ä½“è¡¨é¢çš„ä¸‰é“å…‰çº¿è¢«åå°„åˆ°ä¸åŒçš„æ–¹å‘ä¸Šå»äº†ï¼Œå› ä¸ºå®ƒä»¬æ‰€ç…§åˆ°çš„ç‰©ä½“è¡¨é¢å…·æœ‰ä¸åŒçš„æ–¹å‘ï¼Œä½¿å¾—è¿™ç§åå°„çš„è§’åº¦å˜å¾—ä¸å¯é¢„æµ‹ï¼Œè¿™å°±äº§ç”Ÿäº†æ¨¡ç³Šåå°„æ•ˆæœã€‚</p>
<p>ä½†è¦ä»ç‰©ç†çº§åˆ«ä¸Šæ¨¡æ‹Ÿå‡ºè¿™ç§æ— è§„åˆ™çš„åå°„éœ€è¦å¤§é‡çš„å†…å­˜å’Œè®¡ç®—é‡ï¼Œåœ¨CGé‡Œåªèƒ½å¤§æ¦‚æ¨¡æ‹Ÿä¸€ä¸ªæ•´ä½“æ•ˆæœï¼Œæˆ‘ä»¬ä¸€èˆ¬å«åå°„å…‰æ³½åº¦æˆ–åå°„æ¨¡ç³Šåº¦ã€‚</p>
<p>è¿™æ˜¯æè´¨åˆ¶ä½œé‡Œä¸€ä¸ªé‡è¦çš„éƒ¨åˆ†ï¼Œå› ä¸ºçœŸå®ä¸–ç•Œé‡Œåˆ°å¤„å……æ»¡äº†è¿™ç§æ¨¡ç³Šåå°„æ•ˆæœã€‚</p>
<p>èƒ½é‡å®ˆæ’ï¼ˆäºŒï¼‰<br>ç°åœ¨æ¸²æŸ“å™¨éƒ½æœ‰äº†è¿™ç§è™šæ‹Ÿçš„æ¨¡ç³Šåå°„çš„æ¨¡æ‹Ÿï¼Œæ­£ç¡®çš„å‚æ•°èƒ½è®©æ•ˆæœæ›´åŠ é€¼çœŸï¼Œæ¯”å¦‚ç²—ç³™çš„è¡¨é¢ä¼šäº§ç”Ÿæ›´å¤§æ›´æŸ”å’Œçš„é«˜å…‰åŒºï¼Œè¯·çœ‹ä¸‹å›¾ï¼š</p>
<p><img src="/2022/12/01/threejs-d-4-0/70f54-6369032161855385747450216.png" alt="05.png"></p>
<p>- </p>
<p>- </p>
<p>- </p>
<p>å›¾ä¸­çš„å°çƒå…·æœ‰ç›¸åŒçš„åå°„å¼ºåº¦ï¼Œä½†å› ä¸ºä¸åŒçš„åå°„æ¨¡ç³Šåº¦è€Œè¡¨ç°å‡ºä¸åŒçš„è´¨æ„Ÿï¼Œé«˜å…‰éšç€å…‰æ»‘åº¦è¶Šæ¥è¶Šæ¸…æ™°æ˜äº®ã€‚è¿™åˆæ˜¯èƒ½é‡å®ˆæ’çš„æ³•åˆ™ä½“ç°ä¹‹ä¸€ã€‚</p>
<p>å¾®è¡¨é¢åå°„ä¹ŸåŒæ ·éµå®ˆè²æ¶…å°”æ•ˆæœ</p>
<p><img src="/2022/12/01/threejs-d-4-0/4232b-6369032162994187744034914.png"></p>
<p>- </p>
<p>- </p>
<p>- </p>
<p>PBRæè´¨ä¼¼ä¹åœ¨ä¸€å¤œä¹‹é—´æ”¹å˜äº†äººä»¬å¯¹äºå¼•æ“å®æ—¶æ¸²æŸ“ç”»é¢çš„ç†è§£ã€‚åœ¨æ¸¸æˆä¸­æˆ‘ä»¬ä¹Ÿèƒ½å¤Ÿä½“éªŒåˆ°é”ˆèš€çš„é‡‘å±ï¼Œåšé‡çš„çš®é©ï¼Œç²¾ç»†çš„çº¹ç†ï¼Œæ›´åŠ çœŸå®çš„ä¸–ç•Œä»æ­¤å±•ç°åœ¨çœ¼å‰ã€‚ä»æ­¤ï¼ŒPBRæè´¨æˆä¸ºäº†â€œæ¬¡æ—¶ä»£â€æ¸¸æˆå¿…å¤‡çš„æ ‡å‡†ã€‚</p>
<h3 id="ä¸ƒã€æ ‡å‡†ç½‘æ ¼æè´¨"><a href="#ä¸ƒã€æ ‡å‡†ç½‘æ ¼æè´¨" class="headerlink" title="ä¸ƒã€æ ‡å‡†ç½‘æ ¼æè´¨"></a>ä¸ƒã€æ ‡å‡†ç½‘æ ¼æè´¨</h3><blockquote>
<p>ä¸€ç§åŸºäºç‰©ç†çš„æ ‡å‡†æè´¨</p>
<p>åŸºäºç‰©ç†çš„æ¸²æŸ“ï¼ˆPBRï¼‰è¿™ç§æ–¹æ³•ä¸æ—§æ–¹æ³•çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œä¸ä½¿ç”¨è¿‘ä¼¼å€¼æ¥è¡¨ç¤ºå…‰ä¸è¡¨é¢çš„ç›¸äº’ä½œç”¨ï¼Œè€Œæ˜¯ä½¿ç”¨ç‰©ç†ä¸Šæ­£ç¡®çš„æ¨¡å‹ã€‚ æˆ‘ä»¬çš„æƒ³æ³•æ˜¯ï¼Œä¸æ˜¯åœ¨ç‰¹å®šç…§æ˜ä¸‹è°ƒæ•´æè´¨ä»¥ä½¿å…¶çœ‹èµ·æ¥å¾ˆå¥½ï¼Œè€Œæ˜¯å¯ä»¥åˆ›å»ºä¸€ç§æè´¨ï¼Œèƒ½å¤Ÿâ€œæ­£ç¡®â€åœ°åº”å¯¹æ‰€æœ‰å…‰ç…§åœºæ™¯ã€‚</p>
</blockquote>
<p>æˆ‘ä»¬PBRæè´¨æ˜¯å’Œå…‰ç›¸è¾…ç›¸æˆçš„</p>
<h4 id="1-PointLight-color-Integer-intensity-Float-distance-Number-decay-Float"><a href="#1-PointLight-color-Integer-intensity-Float-distance-Number-decay-Float" class="headerlink" title="1.PointLight( color : Integer, intensity : Float, distance : Number, decay : Float )"></a>1.PointLight( color : Integer, intensity : Float, distance : Number, decay : Float )</h4><p>color - (å¯é€‰å‚æ•°)) åå…­è¿›åˆ¶å…‰ç…§é¢œè‰²ã€‚ ç¼ºçœå€¼ 0xffffff (ç™½è‰²)ã€‚<br>intensity - (å¯é€‰å‚æ•°) å…‰ç…§å¼ºåº¦ã€‚ ç¼ºçœå€¼ 1ã€‚<br>distance - è¿™ä¸ªè·ç¦»è¡¨ç¤ºä»å…‰æºåˆ°å…‰ç…§å¼ºåº¦ä¸º0çš„ä½ç½®ã€‚ å½“è®¾ç½®ä¸º0æ—¶ï¼Œå…‰æ°¸è¿œä¸ä¼šæ¶ˆå¤±(è·ç¦»æ— ç©·å¤§)ã€‚ç¼ºçœå€¼ 0.<br>decay - æ²¿ç€å…‰ç…§è·ç¦»çš„è¡°é€€é‡ã€‚ç¼ºçœå€¼ 2</p>
<h4 id="2-AmbientLight-color-Integer-intensity-Float"><a href="#2-AmbientLight-color-Integer-intensity-Float" class="headerlink" title="2.AmbientLight( color : Integer, intensity : Float )"></a>2.AmbientLight( color : Integer, intensity : Float )</h4><p>color - (å‚æ•°å¯é€‰ï¼‰é¢œè‰²çš„rgbæ•°å€¼ã€‚ç¼ºçœå€¼ä¸º 0xffffffã€‚<br>intensity - (å‚æ•°å¯é€‰)å…‰ç…§çš„å¼ºåº¦ã€‚ç¼ºçœå€¼ä¸º 1ã€‚</p>
<pre><code class="javascript">//main.js+
const textureLoader = new THREE.TextureLoader();
const mbColortexture = textureLoader.load(&#39;./texture/road_with_tram_rails_24_71_diffuse.jpg&#39;) 
const mbHeighttexture = textureLoader.load(&#39;./texture/road_with_tram_rails_24_71_height.jpg&#39;) 
mbColortexture.wrapS = THREE.RepeatWrapping
mbColortexture.wrapT = THREE.RepeatWrapping
mbColortexture.center.set(0.5,0.5)
// mbColortexture.rotation = Math.PI / 4
const geometry = new THREE.BoxGeometry( 1, 1, 1 );
//å’ŒåŸºç¡€ç½‘æ ¼æè´¨ä¸€æ ·å…·å¤‡ç›¸åŒå±æ€§
const material = new THREE.MeshStandardMaterial( &#123; 
    color: &#39;#ffffff&#39;,
    map:mbColortexture,
    aoMap:mbHeighttexture,
    aoMapIntensity:1
 &#125; );
const cube = new THREE.Mesh( geometry, material );
console.log(cube)
scene.add( cube );

// const light = new THREE.AmbientLight( 0xffffff); // ç¯å¢ƒå…‰ï¼Œç›¸å½“äºå„ä¸ªæ–¹å‘å°„è¿‡æ¥çš„å…‰ï¼ˆæ²¡æœ‰æŠ•å½±ï¼‰
// scene.add( light );

const light = new THREE.PointLight( 0xffffff, 5, 100 );//ç‚¹å…‰æºï¼Œç›¸å½“äºç¯æ³¡ï¼Œç›¸å¯¹ç¯å…‰çš„ç‰©ä½“èƒŒé¢æ˜¯æ²¡å…‰çš„
light.position.set( 10, 10, 10 );
scene.add( light );
</code></pre>
<p><img src="/2022/12/01/threejs-d-4-0/image-20221201154732277.png"></p>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<p>[ä»€ä¹ˆæ˜¯PBR]: 	â€œ<a href="https://tao0.date/2021/06/shenmeshipbrcaizhi/">https://tao0.date/2021/06/shenmeshipbrcaizhi/</a> â€œ</p>
]]></content>
      <categories>
        <category>Web3D</category>
        <category>Three.js</category>
        <category>threejs-d-4.0</category>
      </categories>
      <tags>
        <tag>threejs</tag>
      </tags>
  </entry>
  <entry>
    <title>threejs-d-5.0</title>
    <url>/2022/12/02/threejs-d-5-0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="threejs-d-5-0"><a href="#threejs-d-5-0" class="headerlink" title="threejs-d-5.0"></a>threejs-d-5.0</h1><h3 id="ä¸€ã€ç½®æ¢ä¸ç½®æ¢è´´å›¾"><a href="#ä¸€ã€ç½®æ¢ä¸ç½®æ¢è´´å›¾" class="headerlink" title="ä¸€ã€ç½®æ¢ä¸ç½®æ¢è´´å›¾"></a>ä¸€ã€ç½®æ¢ä¸ç½®æ¢è´´å›¾</h3><blockquote>
<h3 id="displacementMap-Texture"><a href="#displacementMap-Texture" class="headerlink" title=".displacementMap : Texture"></a>.displacementMap : Texture</h3><p>ä½ç§»è´´å›¾ä¼šå½±å“ç½‘æ ¼é¡¶ç‚¹çš„ä½ç½®ï¼Œä¸ä»…å½±å“æè´¨çš„å…‰ç…§å’Œé˜´å½±çš„å…¶ä»–è´´å›¾ä¸åŒï¼Œç§»ä½çš„é¡¶ç‚¹å¯ä»¥æŠ•å°„é˜´å½±ï¼Œé˜»æŒ¡å…¶ä»–å¯¹è±¡ï¼Œ ä»¥åŠå……å½“çœŸå®çš„å‡ ä½•ä½“ã€‚ä½ç§»çº¹ç†æ˜¯æŒ‡ï¼šç½‘æ ¼çš„æ‰€æœ‰é¡¶ç‚¹è¢«æ˜ å°„ä¸ºå›¾åƒä¸­æ¯ä¸ªåƒç´ çš„å€¼ï¼ˆç™½è‰²æ˜¯æœ€é«˜çš„ï¼‰ï¼Œå¹¶ä¸”è¢«é‡å®šä½ã€‚</p>
<h3 id="displacementScale-Float"><a href="#displacementScale-Float" class="headerlink" title=".displacementScale : Float"></a>.displacementScale : Float</h3><p>ä½ç§»è´´å›¾å¯¹ç½‘æ ¼çš„å½±å“ç¨‹åº¦ï¼ˆé»‘è‰²æ˜¯æ— ä½ç§»ï¼Œç™½è‰²æ˜¯æœ€å¤§ä½ç§»ï¼‰ã€‚å¦‚æœæ²¡æœ‰è®¾ç½®ä½ç§»è´´å›¾ï¼Œåˆ™ä¸ä¼šåº”ç”¨æ­¤å€¼ã€‚é»˜è®¤å€¼ä¸º1ã€‚</p>
</blockquote>
<pre><code class="javascript">//main.js+
const textureLoader = new THREE.TextureLoader();
const mbColortexture = textureLoader.load(&#39;./texture/road_with_tram_rails_24_71_diffuse.jpg&#39;) 
const mbHeighttexture = textureLoader.load(&#39;./texture/road_with_tram_rails_24_71_height.jpg&#39;) 
mbColortexture.wrapS = THREE.RepeatWrapping
mbColortexture.wrapT = THREE.RepeatWrapping
mbColortexture.center.set(0.5,0.5)
// mbColortexture.rotation = Math.PI / 4
const geometry = new THREE.BoxGeometry( 1, 1, 1,100,100,100 );
const material = new THREE.MeshStandardMaterial( &#123; 
    color: &#39;#ffffff&#39;,
    map:mbColortexture,
    displacementMap:mbHeighttexture,
    displacementScale:0.05

 &#125; );
const cube = new THREE.Mesh( geometry, material );
scene.add( cube );
</code></pre>
<p>ç½®æ¢æ•ˆæœå›¾ï¼š</p>
<p><img src="/2022/12/02/threejs-d-5-0/image-20221202081128766.png"></p>
<h3 id="äºŒã€ç²—ç³™åº¦ä¸ç²—ç³™åº¦è´´å›¾"><a href="#äºŒã€ç²—ç³™åº¦ä¸ç²—ç³™åº¦è´´å›¾" class="headerlink" title="äºŒã€ç²—ç³™åº¦ä¸ç²—ç³™åº¦è´´å›¾"></a>äºŒã€ç²—ç³™åº¦ä¸ç²—ç³™åº¦è´´å›¾</h3><blockquote>
<h3 id="roughness-Float"><a href="#roughness-Float" class="headerlink" title=".roughness : Float"></a>.roughness : Float</h3><p>æè´¨çš„ç²—ç³™ç¨‹åº¦ã€‚0.0è¡¨ç¤ºå¹³æ»‘çš„é•œé¢åå°„ï¼Œ1.0è¡¨ç¤ºå®Œå…¨æ¼«åå°„ã€‚é»˜è®¤å€¼ä¸º1.0ã€‚å¦‚æœè¿˜æä¾›roughnessMapï¼Œåˆ™ä¸¤ä¸ªå€¼ç›¸ä¹˜ã€‚</p>
<h3 id="roughnessMap-Texture"><a href="#roughnessMap-Texture" class="headerlink" title=".roughnessMap : Texture"></a>.roughnessMap : Texture</h3><p>è¯¥çº¹ç†çš„ç»¿è‰²é€šé“ç”¨äºæ”¹å˜æè´¨çš„ç²—ç³™åº¦ã€‚</p>
</blockquote>
<pre><code class="javascript">//main.js+
const textureLoader = new THREE.TextureLoader();
const mbColortexture = textureLoader.load(&#39;./texture/road_with_tram_rails_24_71_diffuse.jpg&#39;) 
const mbHeighttexture = textureLoader.load(&#39;./texture/road_with_tram_rails_24_71_height.jpg&#39;) 
const mbRoughnesstexture = textureLoader.load(&#39;./texture/road_with_tram_rails_24_71_roughness.jpg&#39;) 
mbColortexture.wrapS = THREE.RepeatWrapping
mbColortexture.wrapT = THREE.RepeatWrapping
mbColortexture.center.set(0.5,0.5)
// mbColortexture.rotation = Math.PI / 4
const geometry = new THREE.BoxGeometry( 1, 1, 1,50,50,50 );
const material = new THREE.MeshStandardMaterial( &#123; 
    color: &#39;#ffffff&#39;,
    map:mbColortexture,
    displacementMap:mbHeighttexture,
    displacementScale:0.05,
    // roughness:0,
    roughnessMap:mbRoughnesstexture

 &#125; );
const cube = new THREE.Mesh( geometry, material );
scene.add( cube );
</code></pre>
<p>ç²—ç³™åº¦ä¸º0æ•ˆæœï¼š</p>
<p><img src="/2022/12/02/threejs-d-5-0/image-20221202082244999.png"></p>
<p>åŠ è½½ç²—ç³™åº¦çº¹ç†ï¼š</p>
<p><img src="/2022/12/02/threejs-d-5-0/image-20221202082433121.png"></p>
<h3 id="ä¸‰ã€é‡‘å±åº¦ä¸é‡‘å±è´´å›¾"><a href="#ä¸‰ã€é‡‘å±åº¦ä¸é‡‘å±è´´å›¾" class="headerlink" title="ä¸‰ã€é‡‘å±åº¦ä¸é‡‘å±è´´å›¾"></a>ä¸‰ã€é‡‘å±åº¦ä¸é‡‘å±è´´å›¾</h3><blockquote>
<h3 id="metalness-Float"><a href="#metalness-Float" class="headerlink" title=".metalness : Float"></a>.metalness : Float</h3><p>æè´¨ä¸é‡‘å±çš„ç›¸ä¼¼åº¦ã€‚éé‡‘å±æè´¨ï¼Œå¦‚æœ¨ææˆ–çŸ³æï¼Œä½¿ç”¨0.0ï¼Œé‡‘å±ä½¿ç”¨1.0ï¼Œé€šå¸¸æ²¡æœ‰ä¸­é—´å€¼ã€‚ é»˜è®¤å€¼ä¸º0.0ã€‚0.0åˆ°1.0ä¹‹é—´çš„å€¼å¯ç”¨äºç”Ÿé”ˆé‡‘å±çš„å¤–è§‚ã€‚å¦‚æœè¿˜æä¾›äº†metalnessMapï¼Œåˆ™ä¸¤ä¸ªå€¼ç›¸ä¹˜ã€‚</p>
<h3 id="metalnessMap-Texture"><a href="#metalnessMap-Texture" class="headerlink" title=".metalnessMap : Texture"></a>.metalnessMap : Texture</h3><p>è¯¥çº¹ç†çš„è“è‰²é€šé“ç”¨äºæ”¹å˜æè´¨çš„é‡‘å±åº¦ã€‚</p>
</blockquote>
<pre><code class="javascript">//main.js+
const textureLoader = new THREE.TextureLoader();
const mbColortexture = textureLoader.load(&#39;./texture/welded_and_painted_metal_panels_26_64_diffuse.jpg&#39;) 
const mbHeighttexture = textureLoader.load(&#39;./texture/welded_and_painted_metal_panels_26_64_height.jpg&#39;) 
const mbRoughnesstexture = textureLoader.load(&#39;./texture/welded_and_painted_metal_panels_26_64_roughness.jpg&#39;) 
const mbMetalnesstexture = textureLoader.load(&#39;./texture/welded_and_painted_metal_panels_26_64_metalness.jpg&#39;) 

mbColortexture.wrapS = THREE.RepeatWrapping
mbColortexture.wrapT = THREE.RepeatWrapping
mbColortexture.center.set(0.5,0.5)
// mbColortexture.rotation = Math.PI / 4
const geometry = new THREE.PlaneGeometry( 1, 1,100,100 );
const material = new THREE.MeshStandardMaterial( &#123; 
    color: &#39;#ffffff&#39;,
    map:mbColortexture,
    displacementMap:mbHeighttexture,
    displacementScale:0.05,
    roughness:0.2,
    roughnessMap:mbRoughnesstexture,
    metalnessMap:mbMetalnesstexture,
    metalness:0.3

 &#125; );
const cube = new THREE.Mesh( geometry, material );
scene.add( cube );
</code></pre>
<p>æ·»åŠ é‡‘å±å’Œé‡‘å±è´´å›¾å‰ï¼š</p>
<p><img src="/2022/12/02/threejs-d-5-0/image-20221202091721564.png"></p>
<p>æ·»åŠ é‡‘å±å’Œé‡‘å±è´´å›¾åï¼š </p>
<p><img src="/2022/12/02/threejs-d-5-0/image-20221202091744042.png"></p>
<h3 id="å››ã€æ³•çº¿å’Œæ³•çº¿è´´å›¾"><a href="#å››ã€æ³•çº¿å’Œæ³•çº¿è´´å›¾" class="headerlink" title="å››ã€æ³•çº¿å’Œæ³•çº¿è´´å›¾"></a>å››ã€æ³•çº¿å’Œæ³•çº¿è´´å›¾</h3><blockquote>
<h3 id="normalMap-Texture"><a href="#normalMap-Texture" class="headerlink" title=".normalMap : Texture"></a>.normalMap : Texture</h3><p>ç”¨äºåˆ›å»ºæ³•çº¿è´´å›¾çš„çº¹ç†ã€‚RGBå€¼ä¼šå½±å“æ¯ä¸ªåƒç´ ç‰‡æ®µçš„æ›²é¢æ³•çº¿ï¼Œå¹¶æ›´æ”¹é¢œè‰²ç…§äº®çš„æ–¹å¼ã€‚æ³•çº¿è´´å›¾ä¸ä¼šæ”¹å˜æ›²é¢çš„å®é™…å½¢çŠ¶ï¼Œåªä¼šæ”¹å˜å…‰ç…§ã€‚ In case the material has a normal map authored using the left handed convention, the y component of normalScale should be negated to compensate for the different handedness.</p>
<h3 id="normalMapType-Integer"><a href="#normalMapType-Integer" class="headerlink" title=".normalMapType : Integer"></a>.normalMapType : Integer</h3><p>æ³•çº¿è´´å›¾çš„ç±»å‹ã€‚</p>
<p>é€‰é¡¹ä¸ºTHREE.TangentSpaceNormalMapï¼ˆé»˜è®¤ï¼‰å’ŒTHREE.ObjectSpaceNormalMapã€‚</p>
<h3 id="normalScale-Vector2"><a href="#normalScale-Vector2" class="headerlink" title=".normalScale : Vector2"></a>.normalScale : Vector2</h3><p>æ³•çº¿è´´å›¾å¯¹æè´¨çš„å½±å“ç¨‹åº¦ã€‚å…¸å‹èŒƒå›´æ˜¯0-1ã€‚é»˜è®¤å€¼æ˜¯Vector2è®¾ç½®ä¸ºï¼ˆ1,1ï¼‰</p>
</blockquote>
<pre><code class="javascript">//main.js+
const textureLoader = new THREE.TextureLoader();
const mbColortexture = textureLoader.load(&#39;./texture/welded_and_painted_metal_panels_26_64_diffuse.jpg&#39;) 
const mbHeighttexture = textureLoader.load(&#39;./texture/welded_and_painted_metal_panels_26_64_height.jpg&#39;) 
const mbRoughnesstexture = textureLoader.load(&#39;./texture/welded_and_painted_metal_panels_26_64_roughness.jpg&#39;) 
const mbMetalnesstexture = textureLoader.load(&#39;./texture/welded_and_painted_metal_panels_26_64_metalness.jpg&#39;) 
const mbNormaltexture = textureLoader.load(&#39;./texture/welded_and_painted_metal_panels_26_64_normal.jpg&#39;) 

mbColortexture.wrapS = THREE.RepeatWrapping
mbColortexture.wrapT = THREE.RepeatWrapping
mbColortexture.center.set(0.5,0.5)
// mbColortexture.rotation = Math.PI / 4
const geometry = new THREE.PlaneGeometry( 1, 1,100,100 );
const material = new THREE.MeshStandardMaterial( &#123; 
    color: &#39;#ffffff&#39;,
    map:mbColortexture,
    displacementMap:mbHeighttexture,
    displacementScale:0.05,
    roughness:0.2,
    roughnessMap:mbRoughnesstexture,
    metalnessMap:mbMetalnesstexture,
    metalness:0.3,
    normalMap:mbNormaltexture

 &#125; );
const cube = new THREE.Mesh( geometry, material );
scene.add( cube );
</code></pre>
<p>æ·»åŠ æ³•çº¿è´´å›¾åï¼š</p>
<p><img src="/2022/12/02/threejs-d-5-0/image-20221202092454739.png"></p>
<p>è´´å›¾åˆ°è¿™é‡Œå°±å·²ç»å¾ˆé€¼çœŸäº†ï¼Œå½“ç„¶ï¼Œä¸åŒçš„æè´¨æ‰€ä½¿ç”¨çš„è´´å›¾ä¹Ÿæœ‰ä¸€å®šçš„åŒºåˆ«ã€‚</p>
<h3 id="äº”ã€çº¹ç†åŠ è½½å›è°ƒ"><a href="#äº”ã€çº¹ç†åŠ è½½å›è°ƒ" class="headerlink" title="äº”ã€çº¹ç†åŠ è½½å›è°ƒ"></a>äº”ã€çº¹ç†åŠ è½½å›è°ƒ</h3><h4 id="1-çº¹ç†å›è°ƒ"><a href="#1-çº¹ç†å›è°ƒ" class="headerlink" title="1.çº¹ç†å›è°ƒ"></a>1.çº¹ç†å›è°ƒ</h4><blockquote>
<h3 id="load-url-String-onLoad-Function-onProgress-Function-onError-Function-Texture"><a href="#load-url-String-onLoad-Function-onProgress-Function-onError-Function-Texture" class="headerlink" title=".load ( url : String, onLoad : Function, onProgress : Function, onError : Function ) : Texture"></a>.load ( url : String, onLoad : Function, onProgress : Function, onError : Function ) : Texture</h3><p>url â€” æ–‡ä»¶çš„URLæˆ–è€…è·¯å¾„ï¼Œä¹Ÿå¯ä»¥ä¸º <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs">Data URI</a>.<br>onLoad â€” åŠ è½½å®Œæˆæ—¶å°†è°ƒç”¨ã€‚å›è°ƒå‚æ•°ä¸ºå°†è¦åŠ è½½çš„texture.<br>onProgress â€” å°†åœ¨åŠ è½½è¿‡ç¨‹ä¸­è¿›è¡Œè°ƒç”¨ã€‚å‚æ•°ä¸ºXMLHttpRequestå®ä¾‹ï¼Œå®ä¾‹åŒ…å«totalå’Œloadedå­—èŠ‚ã€‚<br>onError â€” åœ¨åŠ è½½é”™è¯¯æ—¶è¢«è°ƒç”¨ã€‚</p>
</blockquote>
<pre><code class="javascript">//main.js+
const textureLoader = new THREE.TextureLoader();
const mbColortexture = textureLoader.load(&#39;./texture/welded_and_painted_metal_panels_26_64_diffuse.jpg&#39;) 
const mbHeighttexture = textureLoader.load(&#39;./texture/welded_and_painted_metal_panels_26_64_height.jpg&#39;) 
const mbRoughnesstexture = textureLoader.load(&#39;./texture/welded_and_painted_metal_panels_26_64_roughness.jpg&#39;) 
const mbMetalnesstexture = textureLoader.load(&#39;./texture/welded_and_painted_metal_panels_26_64_metalness.jpg&#39;) 
const event = &#123;&#125;;
event.onLoad = function(e)&#123;
    console.log(&#39;åŠ è½½å®Œæˆäº†&#39;)
&#125;
event.onProgress = function(e)&#123;
    console.log(e)
    console.log(&#39;æ­£åœ¨åŠ è½½&#39;)
&#125;
event.onError = function(e)&#123;
    console.log(&#39;åŠ è½½é”™è¯¯äº†&#39;)
    console.log(e)
&#125;
const mbNormaltexture = textureLoader.load(&#39;./texture/welded_and_painted_metal_panels_26_64_normal.jpg&#39;,
event.onLoad,//åŠ è½½å®Œæˆè°ƒç”¨
event.onProgress,//åŠ è½½è¿‡ç¨‹ä¸­è°ƒç”¨
event.onError//åŠ è½½é”™è¯¯è°ƒç”¨
) 

mbColortexture.wrapS = THREE.RepeatWrapping
mbColortexture.wrapT = THREE.RepeatWrapping
mbColortexture.center.set(0.5,0.5)
// mbColortexture.rotation = Math.PI / 4
const geometry = new THREE.PlaneGeometry( 1, 1,100,100 );
const material = new THREE.MeshStandardMaterial( &#123; 
    color: &#39;#ffffff&#39;,
    map:mbColortexture,
    displacementMap:mbHeighttexture,
    displacementScale:0.05,
    roughness:0.2,
    roughnessMap:mbRoughnesstexture,
    metalnessMap:mbMetalnesstexture,
    metalness:0.3,
    normalMap:mbNormaltexture

 &#125; );
const cube = new THREE.Mesh( geometry, material );
scene.add( cube );
</code></pre>
<p>åŠ è½½ä¸­</p>
<p><img src="/2022/12/02/threejs-d-5-0/image-20221202101019627.png" alt="onProgress"></p>
<p>åŠ è½½å®Œæˆ</p>
<p><img src="/2022/12/02/threejs-d-5-0/image-20221202101056269.png" alt="onLoad"></p>
<p>åŠ è½½é”™è¯¯</p>
<p><img src="/2022/12/02/threejs-d-5-0/image-20221202101123771.png" alt="onError"></p>
<h4 id="2-çº¹ç†åŠ è½½å™¨"><a href="#2-çº¹ç†åŠ è½½å™¨" class="headerlink" title="2.çº¹ç†åŠ è½½å™¨"></a>2.çº¹ç†åŠ è½½å™¨</h4><blockquote>
<p>å…¶åŠŸèƒ½æ˜¯å¤„ç†å¹¶è·Ÿè¸ªå·²åŠ è½½å’Œå¾…å¤„ç†çš„æ•°æ®ï¼Œç®¡ç†æˆ‘ä»¬åŠ è½½çš„çº¹ç†</p>
</blockquote>
<pre><code class="javascript">//main.js+
const event = &#123;&#125;;
event.onLoad = function(e)&#123;
    console.log(&#39;åŠ è½½å®Œæˆäº†&#39;)
&#125;
event.onProgress = function( url,itemsLoaded,itemsTotal)&#123;
    console.log(&#39;url:&#39;+ url)//å½“å‰åŠ è½½çº¹ç†è·¯å¾„
    console.log(&#39;itemsLoaded:&#39; + itemsLoaded )//åŠ è½½å½“å‰çº¹ç†ä½ç½®
    console.log(&#39;itemsTotal:&#39; + itemsTotal)//çº¹ç†æ€»æ•°
    console.log(&#39;åŠ è½½è§’åº¦:&#39; + ((itemsLoaded / itemsTotal) * 100).toFixed(2) + &#39;%&#39;)//çº¹ç†åŠ è½½è¿›åº¦
&#125;
event.onError = function(e)&#123;
    console.log(&#39;åŠ è½½é”™è¯¯äº†&#39;)
    console.log(e)
&#125;
const manager = new THREE.LoadingManager(
    event.onLoad,
    event.onProgress,
    event.onError
    );

const textureLoader = new THREE.TextureLoader(manager);//è£…è½½åŠ è½½å™¨
const mbColortexture = textureLoader.load(&#39;./texture/welded_and_painted_metal_panels_26_64_diffuse.jpg&#39;) 
const mbHeighttexture = textureLoader.load(&#39;./texture/welded_and_painted_metal_panels_26_64_height.jpg&#39;) 
const mbRoughnesstexture = textureLoader.load(&#39;./texture/welded_and_painted_metal_panels_26_64_roughness.jpg&#39;) 
const mbMetalnesstexture = textureLoader.load(&#39;./texture/welded_and_painted_metal_panels_26_64_metalness.jpg&#39;) 
const mbNormaltexture = textureLoader.load(&#39;./texture/welded_and_painted_metal_panels_26_64_normal.jpg&#39;) 
mbColortexture.wrapS = THREE.RepeatWrapping
mbColortexture.wrapT = THREE.RepeatWrapping
mbColortexture.center.set(0.5,0.5)
// mbColortexture.rotation = Math.PI / 4
const geometry = new THREE.PlaneGeometry( 1, 1,100,100 );
const material = new THREE.MeshStandardMaterial( &#123; 
    color: &#39;#ffffff&#39;,
    map:mbColortexture,
    displacementMap:mbHeighttexture,
    displacementScale:0.05,
    roughness:0.2,
    roughnessMap:mbRoughnesstexture,
    metalnessMap:mbMetalnesstexture,
    metalness:0.3,
    normalMap:mbNormaltexture

 &#125; );
const cube = new THREE.Mesh( geometry, material );
scene.add( cube );
</code></pre>
<p><img src="/2022/12/02/threejs-d-5-0/image-20221202102251981.png"></p>
<p><img src="/2022/12/02/threejs-d-5-0/image-20221202104213221.png"></p>
<h3 id="å…­ã€ç¯å¢ƒçº¹ç†"><a href="#å…­ã€ç¯å¢ƒçº¹ç†" class="headerlink" title="å…­ã€ç¯å¢ƒçº¹ç†"></a>å…­ã€ç¯å¢ƒçº¹ç†</h3><blockquote>
<p>åˆ›å»ºä¸€ä¸ªç”±6å¼ å›¾ç‰‡æ‰€ç»„æˆçš„çº¹ç†å¯¹è±¡ã€‚</p>
<p>ï¼ˆå‰åï¼Œä¸Šä¸‹ï¼Œå·¦å³ï¼‰ä¹Ÿå¯ä»¥æ˜¯ <a href="https://zh.m.wikipedia.org/zh/%E9%AB%98%E5%8A%A8%E6%80%81%E8%8C%83%E5%9B%B4%E6%88%90%E5%83%8F">hdr</a>ï¼ˆä¸€å¼ å›¾ï¼‰</p>
</blockquote>
<pre><code class="javascript">const loader = new THREE.CubeTextureLoader();
loader.setPath( &#39;textures/cube/pisa/&#39; );

const textureCube = loader.load( [
    &#39;px.png&#39;, &#39;nx.png&#39;,
    &#39;py.png&#39;, &#39;ny.png&#39;,
    &#39;pz.png&#39;, &#39;nz.png&#39;
] );
const material = new THREE.MeshBasicMaterial( &#123; color: 0xffffff, envMap: textureCube &#125; );
scene.background = textureCube;
scene.environment = textureCube;//è‹¥è¯¥å€¼ä¸ä¸ºnullï¼Œåˆ™è¯¥çº¹ç†è´´å›¾å°†ä¼šè¢«è®¾ä¸ºåœºæ™¯ä¸­æ‰€æœ‰ç‰©ç†æè´¨çš„ç¯å¢ƒè´´å›¾ã€‚ ç„¶è€Œï¼Œè¯¥å±æ€§ä¸èƒ½å¤Ÿè¦†ç›–å·²å­˜åœ¨çš„ã€å·²åˆ†é…ç»™ MeshStandardMaterial.envMap çš„è´´å›¾
</code></pre>
<p><img src="/2022/12/02/threejs-d-5-0/image-20221202133340321.png"></p>
<h3 id="ä¸ƒã€HDR"><a href="#ä¸ƒã€HDR" class="headerlink" title="ä¸ƒã€HDR"></a>ä¸ƒã€HDR</h3><blockquote>
<p><a href="https://zh.m.wikipedia.org/zh/%E9%AB%98%E5%8A%A8%E6%80%81%E8%8C%83%E5%9B%B4%E6%88%90%E5%83%8F">HDR</a></p>
<p>é‚£ä¹ˆæˆ‘ä»¬ä¹Ÿæ˜¯è¦çŸ¥é“å¦‚ä½•åŠ è½½hdr</p>
</blockquote>
<p><strong>é«˜åŠ¨æ€èŒƒå›´æˆåƒ</strong>ï¼ˆè‹±èªï¼š<strong>H</strong>igh <strong>D</strong>ynamic <strong>R</strong>ange Imagingï¼Œç®€ç§°<strong>HDRI</strong>æˆ–<strong>HDR</strong>ï¼‰ï¼Œåœ¨è®¡ç®—æœºå›¾å½¢å­¦ä¸ç”µå½±æ‘„å½±æœ¯ä¸­ï¼Œæ˜¯ç”¨æ¥å®ç°æ¯”æ™®é€šæ•°ä½å›¾åƒæŠ€æœ¯æ›´å¤§æ›å…‰åŠ¨æ€èŒƒå›´ï¼ˆå³æ›´å¤§çš„æ˜æš—å·®åˆ«ï¼‰çš„ä¸€ç»„æŠ€æœ¯ã€‚é«˜åŠ¨æ€èŒƒå›´æˆåƒçš„ç›®çš„å°±æ˜¯è¦æ­£ç¡®åœ°è¡¨ç¤ºçœŸå®ä¸–ç•Œä¸­ä»å¤ªé˜³å…‰ç›´å°„åˆ°æœ€æš—çš„é˜´å½±è¿™æ ·å¤§çš„èŒƒå›´äº®åº¦ã€‚</p>
<blockquote>
<h3 id="mapping-number"><a href="#mapping-number" class="headerlink" title=".mapping : number"></a>.mapping : number</h3><p>å›¾åƒå°†å¦‚ä½•åº”ç”¨åˆ°ç‰©ä½“ï¼ˆå¯¹è±¡ï¼‰ä¸Šã€‚é»˜è®¤å€¼æ˜¯THREE.UVMappingå¯¹è±¡ç±»å‹ï¼Œ å³UVåæ ‡å°†è¢«ç”¨äºçº¹ç†æ˜ å°„ã€‚</p>
<p>EquirectangularReflectionMapping å’Œ EquirectangularRefractionMapping ç”¨äºç­‰è·åœ†æŸ±æŠ•å½±çš„ç¯å¢ƒè´´å›¾ï¼Œä¹Ÿè¢«å«åšç»çº¬çº¿æ˜ å°„è´´å›¾ã€‚ç­‰è·åœ†æŸ±æŠ•å½±è´´å›¾è¡¨ç¤ºæ²¿ç€å…¶æ°´å¹³ä¸­çº¿360Â°çš„è§†è§’ï¼Œä»¥åŠæ²¿ç€å…¶å‚ç›´è½´å‘180Â°çš„è§†è§’ã€‚è´´å›¾é¡¶éƒ¨å’Œåº•éƒ¨çš„è¾¹ç¼˜åˆ†åˆ«å¯¹åº”äºå®ƒæ‰€æ˜ å°„çš„çƒä½“çš„åŒ—æå’Œå—æã€‚</p>
</blockquote>
<pre><code class="javascript">//main.js+
import &#123; RGBELoader &#125; from &#39;three/examples/jsm/loaders/RGBELoader&#39;
const rgbeLoader = new RGBELoader();
rgbeLoader.loadAsync(&#39;./texture/ruin1.hdr&#39;).then((texture)=&gt;&#123;
    texture.mapping = THREE.EquirectangularReflectionMapping;
    scene.background = texture;
    scene.environment = texture;
&#125;)
const geometry = new THREE.SphereGeometry( 15, 100, 50 );
const material = new THREE.MeshStandardMaterial( &#123; 
    color: &#39;#ffffff&#39;,
    metalness:0.5,
    roughness:0.05
 &#125; );
const cube = new THREE.Mesh( geometry, material );
scene.add( cube );
</code></pre>
<p><img src="/2022/12/02/threejs-d-5-0/image-20221202141946012.png"></p>
<h3 id="å…«ã€ç¯å…‰ä¸é˜´å½±"><a href="#å…«ã€ç¯å…‰ä¸é˜´å½±" class="headerlink" title="å…«ã€ç¯å…‰ä¸é˜´å½±"></a>å…«ã€ç¯å…‰ä¸é˜´å½±</h3><blockquote>
<p>é˜´å½±éœ€è¦æ»¡è¶³çš„æ¡ä»¶</p>
<p>1.æè´¨åº”æ»¡è¶³å¯¹ç¯å…‰æœ‰ååº”ï¼ˆç¯å¢ƒå…‰ç”±äºæ˜¯å››é¢å…«æ–¹çš„å…‰ï¼Œæ‰€ä»¥ä¸å…·å¤‡é˜´å½±çš„æ¡ä»¶ï¼‰</p>
<p>2.æ¸²æŸ“å™¨å¼€å¯é˜´å½±è®¡ç®—ï¼šrenderer.shadowMap.enabled &#x3D; true</p>
<p>3.å…‰ç…§æŠ•å°„é˜´å½±ï¼šlight.castShadow &#x3D; true</p>
<p>4.ç‰©ä½“æŠ•å°„é˜´å½±ï¼šcube.castShadow &#x3D; trueï¼ˆæŠ•å½±ä¸»ä½“ï¼‰</p>
<p>5.ç‰©ä½“æ¥æ”¶æŠ•å°„é˜´å½±ï¼šplane.receiveShadow &#x3D; trueï¼ˆæ¥æ”¶ä¸»ä½“ï¼‰</p>
</blockquote>
<pre><code class="javascript">//main.js
import * as THREE from &#39;three&#39;
import &#123; OrbitControls &#125; from &#39;three/examples/jsm/controls/OrbitControls&#39; 
import dat from &#39;dat.gui&#39;

const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 0.1, 1000 );
const renderer = new THREE.WebGLRenderer();
renderer.setSize( window.innerWidth, window.innerHeight );
renderer.shadowMap.enabled = true;//æ¸²æŸ“å™¨å¼€å¯é˜´å½±è®¡ç®—
document.body.appendChild( renderer.domElement );

const axesHelper = new THREE.AxesHelper( 30 );//è½´çš„çº¿æ®µé•¿åº¦. é»˜è®¤ä¸º 1.
scene.add( axesHelper );//æ·»åŠ åˆ°åœºæ™¯


const geometry = new THREE.SphereGeometry( 15, 100, 50 );
const material = new THREE.MeshStandardMaterial();
const cube = new THREE.Mesh( geometry, material );
cube.castShadow = true;//ç‰©ä½“æŠ•å°„é˜´å½±
scene.add( cube );

const geometryP = new THREE.PlaneGeometry( 100,100 );
const materialP = new THREE.MeshStandardMaterial();
const plane = new THREE.Mesh( geometryP, materialP );
plane.rotation.x = -Math.PI / 2
plane.position.set(0,-15,0)
plane.receiveShadow = true//ç‰©ä½“æ¥æ”¶æŠ•å°„é˜´å½±
scene.add( plane );

const light = new THREE.PointLight( 0xffffff, 1, 100 );
light.position.set( 10, 50, 10 );
light.castShadow = true;//å…‰ç…§æŠ•å°„é˜´å½±
scene.add( light ); 

const gui = new dat.GUI();
gui.add(light.position,&#39;x&#39;)
.min(0)
.max(30)
.name(&#39;ç§»åŠ¨xåæ ‡&#39;)
.step(0.1)
gui.add(light.position,&#39;y&#39;)
.min(0)
.max(30)
.name(&#39;ç§»åŠ¨yåæ ‡&#39;)
.step(0.1)
gui.add(light.position,&#39;z&#39;)
.min(0)
.max(30)
.name(&#39;ç§»åŠ¨zåæ ‡&#39;)
.step(0.1)
const controls = new OrbitControls( camera,renderer.domElement  );
camera.position.set(0,20,100);
controls.update();
function animate() &#123;
    requestAnimationFrame( animate );
    controls.update();
    renderer.render( scene, camera );
&#125;
animate();

window.addEventListener(&#39;resize&#39;,()=&gt;&#123;
    // console.log(&#39;å±å¹•å˜åŒ–äº†&#39;)
    camera.aspect = window.innerWidth/window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth,window.innerHeight);
    renderer.setPixelRatio(window.devicePixelRatio);
&#125;)
</code></pre>
<p><img src="/2022/12/02/threejs-d-5-0/image-20221202151934429.png"></p>
<p>æ€»ç»“ï¼š</p>
<p>æˆ‘ä»¬è¿˜æœ‰ä¸€äº›ç¯å…‰ï¼Œä¾‹å¦‚ç‚¹å…‰æºå’Œèšå…‰ç¯ï¼Œå®ƒä»¬çš„å±æ€§æˆ‘ä»¬å°±ä¸ä¸€ä¸€æ¥è®²äº†ï¼Œç›¸ä¿¡æˆ‘ä»¬åˆ°äº†è¿™ï¼Œæ–‡æ¡£å·²ç»å¯ä»¥æ¯”è¾ƒç†Ÿæ‚‰çš„æŸ¥é˜…äº†ã€‚åŠ æ²¹ï¼ï¼ï¼</p>
<p>å‚è€ƒæ–‡æ¡£ï¼š</p>
<p>[HDRè®²è§£]: 	â€œ<a href="https://zh.m.wikipedia.org/zh/%E9%AB%98%E5%8A%A8%E6%80%81%E8%8C%83%E5%9B%B4%E6%88%90%E5%83%8F&quot;">https://zh.m.wikipedia.org/zh/%E9%AB%98%E5%8A%A8%E6%80%81%E8%8C%83%E5%9B%B4%E6%88%90%E5%83%8F&quot;</a></p>
]]></content>
      <categories>
        <category>Web3D</category>
        <category>Three.js</category>
        <category>threejs-d-5.0</category>
      </categories>
      <tags>
        <tag>threejs</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»0åˆ°1æ­å»ºè‡ªå·±çš„è„šæ‰‹æ¶react</title>
    <url>/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="ä»0åˆ°1æ­å»ºè‡ªå·±çš„è„šæ‰‹æ¶react"><a href="#ä»0åˆ°1æ­å»ºè‡ªå·±çš„è„šæ‰‹æ¶react" class="headerlink" title="ä»0åˆ°1æ­å»ºè‡ªå·±çš„è„šæ‰‹æ¶react"></a>ä»0åˆ°1æ­å»ºè‡ªå·±çš„è„šæ‰‹æ¶react</h1><h3 id="1-åˆå§‹åŒ–é¡¹ç›®"><a href="#1-åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="1.åˆå§‹åŒ–é¡¹ç›®"></a>1.åˆå§‹åŒ–é¡¹ç›®</h3><pre><code class="ini">npm init -y
</code></pre>
<p>æ‰§è¡Œåˆå§‹åŒ–å‘½ä»¤ä¹‹åï¼Œä¼šå‡ºç°package.jsonæ–‡ä»¶</p>
<h3 id="2-å»ºç«‹é¡¹ç›®ç›®å½•ï¼ˆåŸºç¡€é¡¹ç›®ç›®å½•ï¼‰"><a href="#2-å»ºç«‹é¡¹ç›®ç›®å½•ï¼ˆåŸºç¡€é¡¹ç›®ç›®å½•ï¼‰" class="headerlink" title="2.å»ºç«‹é¡¹ç›®ç›®å½•ï¼ˆåŸºç¡€é¡¹ç›®ç›®å½•ï¼‰"></a>2.å»ºç«‹é¡¹ç›®ç›®å½•ï¼ˆåŸºç¡€é¡¹ç›®ç›®å½•ï¼‰</h3><p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108085707668.png"></p>
<h3 id="3-ä¸‹è½½ä¾èµ–"><a href="#3-ä¸‹è½½ä¾èµ–" class="headerlink" title="3.ä¸‹è½½ä¾èµ–"></a>3.ä¸‹è½½ä¾èµ–</h3><p>react</p>
<pre><code class="ini">npm i react react-dom 
</code></pre>
<p>ä¸‹è½½babelã€‚babelæ˜¯javascriptç¼–è¾‘å™¨ï¼Œä½œç”¨å¦‚ä¸‹ï¼š</p>
<ol>
<li>è´Ÿè´£æŠŠES6ã€ES7ç­‰é«˜ç‰ˆæœ¬jsç¼–è¯‘æˆä½ç‰ˆæœ¬jsï¼Œä¾›æµè§ˆå™¨è¿è¡Œã€‚</li>
<li>è´Ÿè´£æŠŠreactè¯­æ³•ï¼ˆjsxï¼‰ç¼–è¯‘æˆjsã€‚</li>
</ol>
<pre><code class="ini"> npm i @babel/core @babel/cli @babel/preset-env @babel/preset-react --save-dev
</code></pre>
<p>é›†æˆwebpackã€‚webpackæ˜¯ä¸€ä¸ªç°ä»£JavaScriptåº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨ï¼Œç°ä»£å‰ç«¯åº”ç”¨å¾ˆå¤šéƒ½æ˜¯ç”¨webpackæ‰“åŒ…ã€‚webpack-dev-serverç”¨æ¥æ­å»ºä¸€ä¸ªæœ¬åœ°æœåŠ¡ï¼Œå¯ä»¥çƒ­åŠ è½½å‰ç«¯é¡¹ç›®</p>
<pre><code class="ini">npm i webpack webpack-dev-server webpack-cli --save-dev
</code></pre>
<p>webpacké›†æˆbabelè¿˜éœ€è¦babel-loaderï¼ŒåŠ è½½htmlæ–‡ä»¶è¿˜éœ€è¦æ’ä»¶html-webpack-pluginï¼š</p>
<pre><code class="ini">npm i babel-loader html-webpack-plugin --save-dev
</code></pre>
<h3 id="4-ç¼–è¾‘index-htmlã€App-jsã€index-js"><a href="#4-ç¼–è¾‘index-htmlã€App-jsã€index-js" class="headerlink" title="4.ç¼–è¾‘index.htmlã€App.jsã€index.js"></a>4.ç¼–è¾‘index.htmlã€App.jsã€index.js</h3><pre><code class="html">//index.html
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;root&quot;&gt;root&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<pre><code class="javascript">//App.js
import React from &quot;react&quot;;
class App extends React.PureComponent&#123;
    render()&#123;
        return (
            &lt;div&gt;
                App
            &lt;/div&gt;
          );
    &#125;
&#125;

export default App
</code></pre>
<pre><code class="javascript">//index.js
import React from &#39;react&#39;;
import &#123; createRoot &#125; from &#39;react-dom/client&#39;;
import App from &#39;./App&#39;;

const root = createRoot(document.getElementById(&#39;root&#39;))
root.render(&lt;App /&gt;)
</code></pre>
<h3 id="5-åœ¨æ ¹ç›®å½•ä¸‹æ·»åŠ -babelrcæ–‡ä»¶ã€webpack-config-jsæ–‡ä»¶"><a href="#5-åœ¨æ ¹ç›®å½•ä¸‹æ·»åŠ -babelrcæ–‡ä»¶ã€webpack-config-jsæ–‡ä»¶" class="headerlink" title="5.åœ¨æ ¹ç›®å½•ä¸‹æ·»åŠ .babelrcæ–‡ä»¶ã€webpack.config.jsæ–‡ä»¶"></a>5.åœ¨æ ¹ç›®å½•ä¸‹æ·»åŠ .babelrcæ–‡ä»¶ã€webpack.config.jsæ–‡ä»¶</h3><p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108093539451.png"></p>
<h3 id="6-é…ç½®-babelrcã€webpack-config-js"><a href="#6-é…ç½®-babelrcã€webpack-config-js" class="headerlink" title="6.é…ç½®.babelrcã€webpack.config.js"></a>6.é…ç½®.babelrcã€webpack.config.js</h3><pre><code class="javascript">//.babelrc
&#123;
    &quot;presets&quot;: [&quot;@babel/preset-env&quot;,&quot;@babel/preset-react&quot;]
&#125;
</code></pre>
<pre><code class="javascript">//webpack.config.js
const path = require(&#39;path&#39;);
const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;);

module.exports = &#123;
    //webpackå…¥å£æ–‡ä»¶ï¼Œwebpackä»è¿™é‡Œå¼€å§‹æ„å»ºä¾èµ–å›¾
    entry:&#123;
        main:&#39;./src/index.js&#39;
    &#125;,
    //è¾“å‡ºæ–‡ä»¶ ./dist/bundle.js
    output:&#123;
        path: path.resolve(__dirname,&#39;dist&#39;),
        filename:&#39;bundle.js&#39;
    &#125;,
    //webpackåªèƒ½å¤„ç†jså’Œjsonæ–‡ä»¶ï¼ŒåŠ è½½åˆ«çš„æ–‡ä»¶éœ€è¦loader
    module:&#123;
        rules:[
            &#123;
                test:/.m?js/,
                use:&#39;babel-loader&#39;,
                exclude:/node_modules/
            &#125;
        ]
    &#125;,
    //webpackåŠ è½½htmlæ–‡ä»¶éœ€è¦html-webpack-pluginæ’ä»¶å¤„ç†ã€‚
    //å¯åŠ¨webpack-dev-serverçš„æ—¶å€™ï¼Œä¼šæŠŠæ‰“åŒ…å¥½çš„jsæ–‡ä»¶ï¼Œcssæ–‡ä»¶ï¼Œhtmlæ–‡ä»¶æ”¾åœ¨å†…å­˜é‡Œ
    plugins:[
        new HtmlWebpackPlugin(&#123;
            template:&#39;./public/index.html&#39;
        &#125;)
    ],
    mode:&#39;development&#39;

&#125;
</code></pre>
<h3 id="7-å½“æˆ‘ä»¬é…ç½®å¥½ä¸Šé¢çš„é¡¹ç›®äº†ï¼Œç°åœ¨æˆ‘ä»¬å°±å¯ä»¥è¿è¡Œäº†"><a href="#7-å½“æˆ‘ä»¬é…ç½®å¥½ä¸Šé¢çš„é¡¹ç›®äº†ï¼Œç°åœ¨æˆ‘ä»¬å°±å¯ä»¥è¿è¡Œäº†" class="headerlink" title="7.å½“æˆ‘ä»¬é…ç½®å¥½ä¸Šé¢çš„é¡¹ç›®äº†ï¼Œç°åœ¨æˆ‘ä»¬å°±å¯ä»¥è¿è¡Œäº†"></a>7.å½“æˆ‘ä»¬é…ç½®å¥½ä¸Šé¢çš„é¡¹ç›®äº†ï¼Œç°åœ¨æˆ‘ä»¬å°±å¯ä»¥è¿è¡Œäº†</h3><p>ç°åœ¨æˆ‘ä»¬è¿˜å¾—é…ç½®ä¸€ä¸ªå°ç»†èŠ‚package,json</p>
<pre><code class="javascript">&#123;
  &quot;name&quot;: &quot;react-app-start&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: &#123;
    //--mode=developmentä¸ºå¼€å‘ç¯å¢ƒï¼Œé€Ÿåº¦è¾ƒå¿«ï¼Œä¸Šçº¿å¯ä»¥é…ç½®ä¸ºç”Ÿäº§ç¯å¢ƒï¼Œä¼šå‹ç¼©ï¼Œä¼˜åŒ–ä»£ç 
    //--watchä¸ºç›‘å¬ä»£ç å˜åŒ–ï¼Œåªè¦ä»£ç å˜åŒ–ï¼Œä¼šé‡æ–°ç¼–è¯‘
    //buildæ˜¯ç”Ÿäº§ç¯å¢ƒçš„æ‰“åŒ…
    &quot;serve&quot;: &quot;webpack --mode=development --watch&quot;,
    &quot;build&quot;: &quot;webpack --mode=production&quot;
  &#125;,
  &quot;keywords&quot;: [],
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: &#123;
    &quot;react&quot;: &quot;^18.2.0&quot;,
    &quot;react-dom&quot;: &quot;^18.2.0&quot;,
    &quot;webpack&quot;: &quot;^5.74.0&quot;
  &#125;,
  &quot;devDependencies&quot;: &#123;
    &quot;@babel/cli&quot;: &quot;^7.19.3&quot;,
    &quot;@babel/core&quot;: &quot;^7.20.2&quot;,
    &quot;@babel/preset-env&quot;: &quot;^7.20.2&quot;,
    &quot;@babel/preset-react&quot;: &quot;^7.18.6&quot;,
    &quot;babel-loader&quot;: &quot;^9.1.0&quot;,
    &quot;html-webpack-plugin&quot;: &quot;^5.5.0&quot;,
    &quot;webpack-cli&quot;: &quot;^4.10.0&quot;
  &#125;
&#125;
</code></pre>
<p>è¿™æ—¶å€™å°±å¯ä»¥æ‰§è¡Œå‘½ä»¤äº†</p>
<pre><code class="ini">npm run serve
</code></pre>
<p>æ‰“åŒ…æ‰§è¡Œå‘½ä»¤</p>
<pre><code class="ini">npm run build
</code></pre>
<h3 id="8-å¦‚æœæ²¡æœ‰æŠ¥é”™çš„è¯ï¼Œä½ å°±ä¼šçœ‹è§ä¸‹é¢çš„é¡µé¢"><a href="#8-å¦‚æœæ²¡æœ‰æŠ¥é”™çš„è¯ï¼Œä½ å°±ä¼šçœ‹è§ä¸‹é¢çš„é¡µé¢" class="headerlink" title="8.å¦‚æœæ²¡æœ‰æŠ¥é”™çš„è¯ï¼Œä½ å°±ä¼šçœ‹è§ä¸‹é¢çš„é¡µé¢"></a>8.å¦‚æœæ²¡æœ‰æŠ¥é”™çš„è¯ï¼Œä½ å°±ä¼šçœ‹è§ä¸‹é¢çš„é¡µé¢</h3><p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108100300240.png"></p>
<h3 id="9-è‡³æ­¤webpackç®€æ˜“ç‰ˆé…ç½®å·²ç»å®Œæˆã€‚æ¥ä¸‹æ¥é…ç½®çƒ­åŠ è½½åŠŸèƒ½ï¼Œä¸‹è½½webpack-dev-serverï¼š"><a href="#9-è‡³æ­¤webpackç®€æ˜“ç‰ˆé…ç½®å·²ç»å®Œæˆã€‚æ¥ä¸‹æ¥é…ç½®çƒ­åŠ è½½åŠŸèƒ½ï¼Œä¸‹è½½webpack-dev-serverï¼š" class="headerlink" title="9.è‡³æ­¤webpackç®€æ˜“ç‰ˆé…ç½®å·²ç»å®Œæˆã€‚æ¥ä¸‹æ¥é…ç½®çƒ­åŠ è½½åŠŸèƒ½ï¼Œä¸‹è½½webpack-dev-serverï¼š"></a>9.è‡³æ­¤webpackç®€æ˜“ç‰ˆé…ç½®å·²ç»å®Œæˆã€‚æ¥ä¸‹æ¥é…ç½®çƒ­åŠ è½½åŠŸèƒ½ï¼Œä¸‹è½½webpack-dev-serverï¼š</h3><pre><code class="ini">npm i webpack-dev-server --save-dev
</code></pre>
<p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108100733217.png"></p>
<p>æ‰§è¡Œå‘½ä»¤ï¼š</p>
<pre><code class="ini">npm run start
</code></pre>
<p>é¡¹ç›®åœ¨3000ç«¯å£å¯åŠ¨ï¼Œå¯åŠ¨åä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨çª—å£ã€‚çƒ­åŠ è½½é…ç½®å®Œæˆï¼Œæ–‡ä»¶ä¿®æ”¹ä¿å­˜åæµè§ˆå™¨ç›´æ¥å±•ç¤ºå‡ºæ¥ã€‚</p>
<p>åˆ°æ­¤reacté¡¹ç›®ç®€åŒ–ç‰ˆæ­å»ºå®Œæˆã€‚åç»­ç»§ç»­é›†æˆå…¶ä»–å·¥å…·åº“å³å¯ã€‚</p>
<h3 id="10-reactä½¿ç”¨ts"><a href="#10-reactä½¿ç”¨ts" class="headerlink" title="10.reactä½¿ç”¨ts"></a>10.reactä½¿ç”¨ts</h3><p>tså¯¹æ¯”jsæœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯å¤šäº†ç±»å‹æ£€æŸ¥ã€‚æ¨èå‰ç«¯è¯­è¨€ä½¿ç”¨tsã€‚æ¥ä¸‹æ¥ä»‹ç»åœ¨webpackä¸­é…ç½®tsã€‚</p>
<p>å®‰è£…typescriptã€ts-loaderã€‚typescriptæ˜¯tsç¼–è¾‘å™¨ï¼ŒæŠŠtsä»£ç ç¼–è¯‘æˆjsï¼Œts-loaderæ˜¯è®©webpackè¯†åˆ«.ts&#x2F;.tsxæ–‡ä»¶ï¼Œè°ƒç”¨ç¼–è¯‘å™¨ç¼–è¯‘ï¼Œ</p>
<pre><code class="ini">npm i typescript ts-loader --save-dev
</code></pre>
<p>æ·»åŠ tsé…ç½®æ–‡ä»¶,åœ¨æ ¹ç›®å½•ä¸‹æ·»åŠ tsconfig.jsonï¼š</p>
<pre><code class="ini">//tsconfig.json
&#123;
    &quot;compilerOptions&quot;: &#123;
        &quot;target&quot;: &quot;es5&quot;,
        &quot;lib&quot;:[&quot;es6&quot;,&quot;dom&quot;],
        &quot;module&quot;: &quot;esnext&quot;,
        &quot;moduleResolution&quot;: &quot;node&quot;,
        &quot;jsx&quot;:&quot;react&quot;,
        &quot;sourceMap&quot;: true,
        &quot;strict&quot;: true,
        &quot;importHelpers&quot;: true,
        &quot;skipLibCheck&quot;: true,
        &quot;allowJs&quot;: true,
        &quot;allowSyntheticDefaultImports&quot;: true
    &#125;
&#125;
</code></pre>
<p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108101701100.png"></p>
<p>ä¿®æ”¹webpacké…ç½®</p>
<pre><code class="javascript">const path = require(&#39;path&#39;);
const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;);

module.exports = &#123;
    //webpackå…¥å£æ–‡ä»¶ï¼Œwebpackä»è¿™é‡Œå¼€å§‹æ„å»ºä¾èµ–å›¾
    entry:&#123;
        main:&#39;./src/index.tsx&#39;
    &#125;,
    //è¾“å‡ºæ–‡ä»¶ ./dist/bundle.js
    output:&#123;
        path: path.resolve(__dirname,&#39;dist&#39;),
        filename:&#39;bundle.js&#39;
    &#125;,
    //webpackåªèƒ½å¤„ç†jså’Œjsonæ–‡ä»¶ï¼ŒåŠ è½½åˆ«çš„æ–‡ä»¶éœ€è¦loader
    module:&#123;
        rules:[
            &#123;
                test:/.m?js|tsx$/,
                use:&#39;ts-loader&#39;,
                exclude:/node_modules/
            &#125;
        ]
    &#125;,
    //å¢åŠ æ‰©å±•é€‰é¡¹ï¼Œè®©webpackå¯ä»¥è¯†åˆ«.ts/tsxæ–‡ä»¶
    resolve:&#123;
        extensions:[&#39;.ts&#39;,&#39;.tsx&#39;,&#39;.js&#39;]
    &#125;,
    plugins:[
        new HtmlWebpackPlugin(&#123;
            template:&#39;./public/index.html&#39;
        &#125;)
    ],
    mode:&#39;development&#39;

&#125;
</code></pre>
<p>ç›®å‰å¯èƒ½ä¼šæŠ¥é”™</p>
<p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108110219148.png"></p>
<p>æ ¹æ®æç¤ºï¼Œæˆ‘ä»¬ç¼ºä¸€äº›ä¾èµ–</p>
<pre><code class="ini">npm i --save-dev @types/react
npm i --save-dev @types/react-dom
</code></pre>
<p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬è¿˜ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜</p>
<p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108111925911.png"></p>
<p>é‚£ä¹ˆè¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯ç¼ºnullç±»å‹æ£€æµ‹</p>
<p>å…¶ä»–äººå›ç­”è¯´åº”è¯¥æ·»åŠ nullæ£€æŸ¥ï¼Œä½†Typescriptä¹Ÿæœ‰ä¸€ä¸ªénullæ–­è¨€ï¼Œå½“æ‚¨é€šè¿‡æ·»åŠ ï¼è¿ç®—ç¬¦æ·»åŠ åˆ°è¯­å¥æœ«å°¾ï¼š</p>
<p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108112118833.png"></p>
<p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬reactä½¿ç”¨tsçš„é—®é¢˜å°±è§£å†³äº†</p>
<p>å¯åŠ¨é¡¹ç›®ï¼Œè¿è¡ŒæˆåŠŸï¼Œtsé›†æˆæˆåŠŸäº†</p>
<h3 id="11-reacté›†æˆè·¯ç”±"><a href="#11-reacté›†æˆè·¯ç”±" class="headerlink" title="11.reacté›†æˆè·¯ç”±"></a>11.reacté›†æˆè·¯ç”±</h3><p>å®‰è£…è·¯ç”±åº“</p>
<pre><code class="ini">npm install react-router-dom@6
</code></pre>
<p>åˆ›å»ºé¡¹ç›®ç›®å½•</p>
<p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108143446498.png"></p>
<p>ç¼–è¾‘About.tsxã€Home.tsxã€index.tsxã€App.tsx</p>
<pre><code class="tsx">//About.tsx
import React from &quot;react&quot;;
import &#123; Link &#125; from &quot;react-router-dom&quot;;

class About extends React.PureComponent&#123;
    render()&#123;
        return (
            &lt;div&gt;
                this is about&lt;br/&gt;
                &lt;Link to=&#123;&#39;/home&#39;&#125;&gt;to home&lt;/Link&gt;
            &lt;/div&gt;
        )
    &#125;
&#125;

export default About;
</code></pre>
<pre><code class="tsx">//Home.tsx
import React from &quot;react&quot;;
import &#123; Link &#125; from &quot;react-router-dom&quot;;

class Home extends React.PureComponent&#123;
    render()&#123;
        return (
            &lt;div&gt;
                this is home&lt;br/&gt;
                &lt;Link to=&#123;&#39;/about&#39;&#125;&gt;to about&lt;/Link&gt;
            &lt;/div&gt;
        )
    &#125;
&#125;

export default Home;
</code></pre>
<pre><code class="tsx">//App.tsx
import React from &quot;react&quot;;
import &#123; Routes,Route &#125; from &quot;react-router-dom&quot;;
import About from &quot;./compents/About&quot;;
import Home from &quot;./compents/Home&quot;;

class App extends React.PureComponent&#123;
    render()&#123;
        return (
            &lt;div&gt;
                &lt;Routes&gt;
                    &lt;Route path=&quot;/&quot; element=&#123;&lt;Home /&gt;&#125;&gt;&lt;/Route&gt;
                    &lt;Route path=&quot;/home&quot; element=&#123;&lt;Home /&gt;&#125;&gt;&lt;/Route&gt;
                    &lt;Route path=&quot;/about&quot; element=&#123;&lt;About /&gt;&#125;&gt;&lt;/Route&gt;
                &lt;/Routes&gt;
            &lt;/div&gt;
          );
    &#125;
&#125;

export default App
</code></pre>
<pre><code class="tsx">//index.tsx
import React from &#39;react&#39;;
import &#123; createRoot &#125; from &#39;react-dom/client&#39;;
import App from &#39;./App&#39;;
import &#123; BrowserRouter &#125; from &#39;react-router-dom&#39;;

const root = createRoot(document.getElementById(&#39;root&#39;)!)
root.render(
    &lt;BrowserRouter&gt;
        &lt;App /&gt;
    &lt;/BrowserRouter&gt;
)
</code></pre>
<p>reactè·¯ç”±æ­å»ºæˆåŠŸ</p>
<p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108143901241.png"></p>
<h3 id="12-reactä½¿ç”¨redux"><a href="#12-reactä½¿ç”¨redux" class="headerlink" title="12.reactä½¿ç”¨redux"></a>12.reactä½¿ç”¨redux</h3><p>å¯¹äºå¤§å‹é¡¹ç›®æ¥è¯´ï¼Œæ•°æ®ç®¡ç†å·¥å…·ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„ã€‚æˆ‘ä»¬ç®€å•ä»‹ç»reduxã€react-reduxçš„ä½¿ç”¨ã€‚è¿™é‡Œä½¿ç”¨çš„æ˜¯@reduxjs&#x2F;toolkitåº“ï¼Œç›¸æ¯”reduxåº“ä½¿ç”¨æ–¹æ³•æœ‰å¾ˆå¤§åŒºåˆ«ï¼Œæƒ³ç”¨reduxåº“çš„è¯·è‡ªè¡ŒæŸ¥çœ‹reduxæ–‡æ¡£ã€‚</p>
<p>ä¸‹è½½ä¾èµ–</p>
<pre><code class="ini">npm i @reduxjs/toolkit react-redux
</code></pre>
<p>åˆ›å»ºé¡¹ç›®ç›®å½•</p>
<p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108151822086.png"></p>
<p>ç¼–è¾‘store.tsã€countSlice.tsã€counter.tsxã€index.tsxã€App.tsx</p>
<pre><code class="tsx">//store.ts
import &#123; configureStore &#125; from &quot;@reduxjs/toolkit&quot;;
import counterReducer from &#39;./countSlice&#39;;

export default configureStore(&#123;
    reducer:&#123;
        counter:counterReducer
    &#125;
&#125;)
</code></pre>
<pre><code class="tsx">//countSlice.ts
import &#123; createSlice &#125; from &quot;@reduxjs/toolkit&quot;;

export const counterSlice = createSlice(&#123;
    name:&#39;counter&#39;,
    initialState:&#123;
        value:0
    &#125;,
    reducers:&#123;
        increment:(state) =&gt; &#123;
            state.value += 1
        &#125;,
        decrement:(state) =&gt;&#123;
            state.value -= 1
        &#125;,
        incrementByAmount:(state,action) =&gt; &#123;
            state.value += action.payload
        &#125;
    &#125;
&#125;)

export const &#123; increment,decrement,incrementByAmount &#125; = counterSlice.actions
export default counterSlice.reducer
</code></pre>
<pre><code class="tsx">//index.tsx
import React from &#39;react&#39;;
import &#123; createRoot &#125; from &#39;react-dom/client&#39;;
import App from &#39;./App&#39;;
import &#123; BrowserRouter &#125; from &#39;react-router-dom&#39;;
import store  from &#39;./store/store&#39;;
import &#123; Provider &#125; from &#39;react-redux&#39;;

const root = createRoot(document.getElementById(&#39;root&#39;)!)
root.render(
    &lt;BrowserRouter&gt;
    &lt;Provider store=&#123;store&#125;&gt;
        &lt;App /&gt;
    &lt;/Provider&gt;  
    &lt;/BrowserRouter&gt;
)
</code></pre>
<pre><code class="tsx">//counter.tsx
import React from &quot;react&quot;;
import &#123; useSelector,useDispatch &#125; from &quot;react-redux&quot;;
import &#123; decrement,increment &#125; from &quot;../store/countSlice&quot;;

function Counter()&#123;
    const count = useSelector((state:any) =&gt; state.counter.value)
    const dispatch = useDispatch()
    
    return (
        &lt;div&gt;
            &lt;div&gt;
                &lt;button 
                aria-label=&quot;Increment value&quot;
                onClick=&#123;() =&gt; dispatch(increment())&#125;
                &gt;
                    increment
                &lt;/button&gt;
                &lt;span&gt;&#123;count&#125;&lt;/span&gt;
                &lt;button
                aria-label=&quot;Decrement value&quot;
                onClick=&#123;() =&gt; dispatch(decrement())&#125;
                &gt;
                    Decrement
                &lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    )
&#125;

export default Counter;
</code></pre>
<pre><code class="tsx">//App.tsx
import React from &quot;react&quot;;
import &#123; Routes,Route &#125; from &quot;react-router-dom&quot;;
import About from &quot;./compents/About&quot;;
import Home from &quot;./compents/Home&quot;;
import Counter from &quot;./compents/Counter&quot;;

class App extends React.PureComponent&#123;
    render()&#123;
        return (
            &lt;div&gt;
                &lt;Routes&gt;
                    &lt;Route path=&quot;/&quot; element=&#123;&lt;Home /&gt;&#125;&gt;&lt;/Route&gt;
                    &lt;Route path=&quot;/home&quot; element=&#123;&lt;Home /&gt;&#125;&gt;&lt;/Route&gt;
                    &lt;Route path=&quot;/about&quot; element=&#123;&lt;About /&gt;&#125;&gt;&lt;/Route&gt;
                    &lt;Route path=&quot;/counter&quot; element=&#123;&lt;Counter /&gt;&#125;&gt;&lt;/Route&gt;
                &lt;/Routes&gt;
            &lt;/div&gt;
          );
    &#125;
&#125;

export default App
</code></pre>
<p>å½“æˆ‘æ‰§è¡Œå‘½ä»¤è¿›å…¥counterç»„ä»¶ç‚¹å‡»åŠŸèƒ½æŒ‰é’®å°±å‘ç°reduxä½¿ç”¨æˆåŠŸäº†</p>
<pre><code class="ini">npm run start
</code></pre>
<p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108152335825.png"></p>
<h3 id="13-é›†æˆUIåº“"><a href="#13-é›†æˆUIåº“" class="headerlink" title="13.é›†æˆUIåº“"></a>13.é›†æˆUIåº“</h3><p>è¿™é‡Œä½¿ç”¨çš„æ˜¯antdç¬¬ä¸‰æ–¹åº“</p>
<p>å®‰è£…uiåº“</p>
<pre><code class="ini">npm i antd
</code></pre>
<p>ä½¿ç”¨antdè¿˜éœ€è¦å¼•ç”¨å…¶æ ·å¼æ–‡ä»¶ï¼Œå› æ­¤è¿˜éœ€è¦ä¸‹è½½css-loaderã€style-loaderã€‚</p>
<pre><code class="ini">npm i style-loader css-loader -D
</code></pre>
<p>ä¿®æ”¹webpacké…ç½®</p>
<pre><code class="javascript">const path = require(&#39;path&#39;);
const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;);

module.exports = &#123;
    //webpackå…¥å£æ–‡ä»¶ï¼Œwebpackä»è¿™é‡Œå¼€å§‹æ„å»ºä¾èµ–å›¾
    entry:&#123;
        main:&#39;./src/index.tsx&#39;
    &#125;,
    //è¾“å‡ºæ–‡ä»¶ ./dist/bundle.js
    output:&#123;
        path: path.resolve(__dirname,&#39;dist&#39;),
        filename:&#39;bundle.js&#39;
    &#125;,
    //webpackåªèƒ½å¤„ç†jså’Œjsonæ–‡ä»¶ï¼ŒåŠ è½½åˆ«çš„æ–‡ä»¶éœ€è¦loader
    module:&#123;
        rules:[
            &#123;
                test:/.j|tsx$/,
                use:&#39;ts-loader&#39;,
                exclude:/node_modules/
            &#125;,
            &#123;
                test:/.css$/,
                use:[&#39;style-loader&#39;,&#39;css-loader&#39;]
            &#125;
        ]
    &#125;,
    //å¢åŠ æ‰©å±•é€‰é¡¹ï¼Œè®©webpackå¯ä»¥è¯†åˆ«.ts/tsxæ–‡ä»¶
    resolve:&#123;
        extensions:[&#39;.ts&#39;,&#39;.tsx&#39;,&#39;.js&#39;]
    &#125;,
    plugins:[
        new HtmlWebpackPlugin(&#123;
            template:&#39;./public/index.html&#39;
        &#125;)
    ],
    mode:&#39;development&#39;
&#125;
</code></pre>
<p>ä½¿ç”¨antdçš„è¯ç›´æ¥å¼•å…¥ä½¿ç”¨å°±å¯ä»¥äº†</p>
<pre><code class="tsx">//Home.tsx
import React from &quot;react&quot;;
import &#123; Link &#125; from &quot;react-router-dom&quot;;
import &#123; Button &#125; from &quot;antd&quot;;

class Home extends React.PureComponent&#123;
    render()&#123;
        return (
            &lt;div&gt;
                this is home&lt;br/&gt;
                &lt;Link to=&#123;&#39;/about&#39;&#125;&gt;
                    &lt;Button type=&#123;&#39;primary&#39;&#125;&gt;to about&lt;/Button&gt;
                &lt;/Link&gt;
                &lt;Link to=&#123;&#39;/counter&#39;&#125;&gt;
                    &lt;Button type=&#123;&#39;primary&#39;&#125;&gt;to counter&lt;/Button&gt; 
                &lt;/Link&gt;
            &lt;/div&gt;
        )
    &#125;
&#125;

export default Home;
</code></pre>
<p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221108153155300.png"></p>
<h3 id="14-è·¨åŸŸé—®é¢˜"><a href="#14-è·¨åŸŸé—®é¢˜" class="headerlink" title="14.è·¨åŸŸé—®é¢˜"></a>14.è·¨åŸŸé—®é¢˜</h3><p>ä¿®æ”¹webpack.config.jsä½¿ç”¨proxy</p>
<pre><code class="javascript">const path = require(&#39;path&#39;);
const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;);

module.exports = &#123;
    //webpackå…¥å£æ–‡ä»¶ï¼Œwebpackä»è¿™é‡Œå¼€å§‹æ„å»ºä¾èµ–å›¾
    entry:&#123;
        main:&#39;./src/index.tsx&#39;
    &#125;,
    //è¾“å‡ºæ–‡ä»¶ ./dist/bundle.js
    output:&#123;
        path: path.resolve(__dirname,&#39;dist&#39;),
        filename:&#39;bundle.js&#39;
    &#125;,
    //webpackåªèƒ½å¤„ç†jså’Œjsonæ–‡ä»¶ï¼ŒåŠ è½½åˆ«çš„æ–‡ä»¶éœ€è¦loader
    module:&#123;
        rules:[
            &#123;
                test:/.j|tsx$/,
                use:&#39;ts-loader&#39;,
                exclude:/node_modules/
            &#125;,
            &#123;
                test:/.css$/,
                use:[&#39;style-loader&#39;,&#39;css-loader&#39;]
            &#125;
        ]
    &#125;,
    //å¢åŠ æ‰©å±•é€‰é¡¹ï¼Œè®©webpackå¯ä»¥è¯†åˆ«.ts/tsxæ–‡ä»¶
    resolve:&#123;
        extensions:[&#39;.ts&#39;,&#39;.tsx&#39;,&#39;.js&#39;]
    &#125;,
    plugins:[
        new HtmlWebpackPlugin(&#123;
            template:&#39;./public/index.html&#39;
        &#125;)
    ],
    mode:&#39;development&#39;,
    devServer:&#123;
        proxy:&#123;
            &#39;/api&#39;:&#39;http://localhost:8080&#39;,
        &#125;,
        client:&#123;
            progress:true
        &#125;
    &#125;

&#125;
</code></pre>
<p>é…ç½®åï¼Œå‰ç«¯è¯·æ±‚å°±ä¼šè¢«ä»£ç†åˆ°8080ç«¯å£ï¼Œè§£å†³è·¨åŸŸé—®é¢˜</p>
<p>15.é›†æˆESLintå’Œprettier</p>
<p>å®‰è£…ESLint</p>
<pre><code class="ini">//æœ¬åœ°å®‰è£…
npm install eslint --save-dev
//å…¨å±€å®‰è£…
npm install -g eslint
</code></pre>
<p>è¿è¡Œeslint â€“initï¼Œé€‰æ‹©å·¥ç¨‹ä½¿ç”¨äº†reactï¼Œè‡ªåŠ¨ç”Ÿæˆ.eslintrc.jsæ–‡ä»¶</p>
<pre><code class="ini">eslint --init
</code></pre>
<p>å®‰è£…prettier</p>
<pre><code class="ini">//æœ¬åœ°
npm i -D --save-exact prettier
//å…¨å±€
npm i --global prettier
</code></pre>
<p>å®‰è£…eslint-config-prettieræ’ä»¶ï¼ˆç¦ç”¨ eslint é£æ ¼æ ¡éªŒ)</p>
<pre><code class="ini">npm i -D eslint-config-prettier
</code></pre>
<p>å®‰è£…eslint-plugin-prettieræ’ä»¶ï¼ˆä½¿eslinté‡‡ç”¨prettierçš„é£æ ¼æ ¡éªŒï¼‰</p>
<pre><code class="ini">npm i -D eslint-plugin-prettier
</code></pre>
<p>é…ç½®eslintrc.jsæ–‡ä»¶</p>
<pre><code class="javascript">// eslint-disable-next-line no-undef
module.exports = &#123;
    &quot;env&quot;: &#123;
        &quot;browser&quot;: true,
        &quot;es2021&quot;: true,
        &quot;jest&quot;:true
    &#125;,
    &quot;extends&quot;: [
        &quot;eslint:recommended&quot;,
        &quot;plugin:react/recommended&quot;,
        &quot;plugin:@typescript-eslint/recommended&quot;
    ],
    &quot;overrides&quot;: [
    ],
    &quot;parser&quot;: &quot;@typescript-eslint/parser&quot;,
    &quot;parserOptions&quot;: &#123;
        &quot;ecmaVersion&quot;: &quot;latest&quot;
    &#125;,
    &quot;plugins&quot;: [
        &quot;react&quot;,
        &quot;@typescript-eslint&quot;
    ],
    &quot;rules&quot;: &#123;
    &quot;no-cond-assign&quot;: 2,
    &quot;no-console&quot;: [
      &quot;error&quot;, &#123;
        &quot;allow&quot;: [&quot;log&quot;, &quot;warn&quot;, &quot;error&quot;, &quot;info&quot;]
      &#125;
    ],
    // ç¦æ­¢ function å®šä¹‰ä¸­å‡ºç°é‡åå‚æ•°
    &quot;no-dupe-args&quot;: 2,
    // ç¦æ­¢å¯¹è±¡å­—é¢é‡ä¸­å‡ºç°é‡å¤çš„ key
    &quot;no-dupe-keys&quot;: 2,
    // ç¦æ­¢é‡å¤çš„ case æ ‡ç­¾
    &quot;no-duplicate-case&quot;: 2,
    // ç¦æ­¢å¯¹ catch å­å¥çš„å‚æ•°é‡æ–°èµ‹å€¼
    &quot;no-ex-assign&quot;: 2,
    // ç¦æ­¢ä¸å¿…è¦çš„å¸ƒå°”è½¬æ¢
    &quot;no-extra-boolean-cast&quot;: 2,
    // ç¦æ­¢ä¸å¿…è¦çš„æ‹¬å· //(a * b) + c;//æŠ¥é”™
    &quot;no-extra-parens&quot;: 0,
    // ç¦æ­¢ catch å­å¥çš„å‚æ•°ä¸å¤–å±‚ä½œç”¨åŸŸä¸­çš„å˜é‡åŒå
    &quot;no-catch-shadow&quot;: 0,
    // ä¸å…è®¸æ ‡ç­¾ä¸å˜é‡åŒå
    &quot;no-label-var&quot;: 2,
    // ç¦ç”¨ç‰¹å®šçš„å…¨å±€å˜é‡
    &quot;no-restricted-globals&quot;: 2,
    // ç¦æ­¢è¦†ç›–å—é™åˆ¶çš„æ ‡è¯†ç¬¦
    &quot;no-shadow-restricted-names&quot;: 2,
    // ç¦æ­¢å°†å˜é‡åˆå§‹åŒ–ä¸º undefined
    
    // å¼ºåˆ¶ä½¿ç”¨ä¸€è‡´çš„æ¢è¡Œé£æ ¼
    &quot;linebreak-style&quot;: [2, &quot;unix&quot;],
    //åœ¨JSXä¸­å¼ºåˆ¶å¸ƒå°”å±æ€§ç¬¦å·
    &quot;react/jsx-boolean-value&quot;: 2,
    //åœ¨JSXä¸­éªŒè¯å³æ‹¬å·ä½ç½®
    // &quot;react/jsx-closing-bracket-location&quot;: 1,
    //åœ¨JSXå±æ€§å’Œè¡¨è¾¾å¼ä¸­åŠ å¼ºæˆ–ç¦æ­¢å¤§æ‹¬å·å†…çš„ç©ºæ ¼ã€‚
    &quot;react/jsx-curly-spacing&quot;: [2, &#123;
      &quot;when&quot;: &quot;never&quot;,
      &quot;children&quot;: true
    &#125;],
    //åœ¨æ•°ç»„æˆ–è¿­ä»£å™¨ä¸­éªŒè¯JSXå…·æœ‰keyå±æ€§
    &quot;react/jsx-key&quot;: 2,
    // é™åˆ¶JSXä¸­å•è¡Œä¸Šçš„propsçš„æœ€å¤§æ•°é‡
    &quot;react/jsx-max-props-per-line&quot;: [1, &#123;
      &quot;maximum&quot;: 5
    &#125;],
    //é˜²æ­¢åœ¨JSXä¸­é‡å¤çš„props
    &quot;react/jsx-no-duplicate-props&quot;: 2,
    //  //é˜²æ­¢ä½¿ç”¨æœªåŒ…è£…çš„JSXå­—ç¬¦ä¸²
    // &quot;react/jsx-no-literals&quot;: 0,
    //åœ¨JSXä¸­ç¦æ­¢æœªå£°æ˜çš„å˜é‡
    &quot;react/jsx-no-undef&quot;: 2,
    //ä¸ºç”¨æˆ·å®šä¹‰çš„JSXç»„ä»¶å¼ºåˆ¶ä½¿ç”¨PascalCase
    &quot;react/jsx-pascal-case&quot;: 0,
    //é˜²æ­¢ååº”è¢«é”™è¯¯åœ°æ ‡è®°ä¸ºæœªä½¿ç”¨
    &quot;react/jsx-uses-react&quot;: 2,
    //é˜²æ­¢åœ¨JSXä¸­ä½¿ç”¨çš„å˜é‡è¢«é”™è¯¯åœ°æ ‡è®°ä¸ºæœªä½¿ç”¨
    &quot;react/jsx-uses-vars&quot;: 2,
    //é˜²æ­¢åœ¨componentDidMountä¸­ä½¿ç”¨setState
    &quot;react/no-did-mount-set-state&quot;: 2,
    //é˜²æ­¢åœ¨componentDidUpdateä¸­ä½¿ç”¨setState
    &quot;react/no-did-update-set-state&quot;: 2,
    //é˜²æ­¢ä½¿ç”¨æœªçŸ¥çš„DOMå±æ€§
    &quot;react/no-unknown-property&quot;: 2,
    //ä¸ºReactç»„ä»¶å¼ºåˆ¶æ‰§è¡ŒES5æˆ–ES6ç±»
    &quot;react/prefer-es6-class&quot;: 2,
    //é˜²æ­¢åœ¨Reactç»„ä»¶å®šä¹‰ä¸­ä¸¢å¤±propséªŒè¯
    // &quot;react/prop-types&quot;: 1,
    //ä½¿ç”¨JSXæ—¶é˜²æ­¢ä¸¢å¤±React
    &quot;react/react-in-jsx-scope&quot;: 2,
    //é˜²æ­¢æ²¡æœ‰childrençš„ç»„ä»¶çš„é¢å¤–ç»“æŸæ ‡ç­¾
    &quot;react/self-closing-comp&quot;: 0,
    //ç¦æ­¢ä¸å¿…è¦çš„boolè½¬æ¢
    // &quot;no-extra-boolean-cast&quot;: 0,
    //é˜²æ­¢åœ¨æ•°ç»„ä¸­éå†ä¸­ä½¿ç”¨æ•°ç»„keyåšç´¢å¼•
    // &quot;react/no-array-index-key&quot;: 0,
    //ä¸ä½¿ç”¨å¼ƒç”¨çš„æ–¹æ³•
    &quot;react/no-deprecated&quot;: 2,
    //åœ¨JSXå±æ€§ä¸­å¼ºåˆ¶æˆ–ç¦æ­¢ç­‰å·å‘¨å›´çš„ç©ºæ ¼
    &quot;react/jsx-equals-spacing&quot;: 2,
    &quot;react/jsx-filename-extension&quot;: [2, &#123;
      &quot;extensions&quot;: [&quot;.js&quot;, &quot;.jsx&quot;]
    &#125;],
    // ç¦æ­¢æœªä½¿ç”¨çš„å˜é‡
    &quot;no-unused-vars&quot;: 0,
    &#125;
&#125;
</code></pre>
<p>å½“æˆ‘ä»¬ä»£ç è¢«eslintæ£€æµ‹åˆ°ä¸ç¬¦åˆè§„åˆ™çš„ä»£ç å°±ä¼šæç¤ºï¼Œæ ¹æ®eslintæŒ‡ç¤ºä¿®æ”¹å°±å¯ä»¥</p>
<p>åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º.prettierrc æˆ– prettier.config.jsæ–‡ä»¶</p>
<pre><code class="javascript">module.exports = &#123;
    endOfLine: &#39;auto&#39;, // ä¸æ£€æµ‹æ£€æµ‹æ–‡ä»¶æ¯è¡Œç»“æŸçš„æ ¼å¼
    semi: true, // ä½¿ç”¨åˆ†å·, é»˜è®¤true
    singleQuote: true // ä½¿ç”¨å•å¼•å·, é»˜è®¤false(åœ¨jsxä¸­é…ç½®æ— æ•ˆ, é»˜è®¤éƒ½æ˜¯åŒå¼•å·)
 &#125;
</code></pre>
<p>å®‰è£…vscodeæ’ä»¶ï¼šPrettier ESLint</p>
<p><img src="/2022/11/08/%E4%BB%8E0%E5%88%B01%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6react/image-20221107154026317.png"></p>
<p>è¯¥æ’ä»¶ä¼šæ ¹æ®å·¥ç¨‹æ ¹ç›®å½•ä¸‹çš„eslintrc.jså’Œprettier.config.jsæ–‡ä»¶æ ¼å¼åŒ–ä»£ç ã€‚å¯ä»¥è¿›ä¸€æ­¥è®¾ç½®ä¸ºvscodeé»˜è®¤formaterå’Œè‡ªåŠ¨æ ¼å¼åŒ–ã€‚</p>
<p>Prettieré…ç½®å¸¸ç”¨çš„å‚æ•°å¯ä»¥æ ¹æ®å›¢é˜Ÿéœ€æ±‚åˆ¶å®š</p>
<p>è¯¥æ–‡ç« åªæ˜¯é…ç½®ç®€å•çš„reactè„šæ‰‹æ¶ï¼Œæ ¸å¿ƒæµç¨‹å’Œæ–¹æ³•æ˜¯å¦‚æ­¤ï¼Œå…¶ä»–å…·ä½“éœ€æ±‚å¯ä»¥æ ¹æ®å›¢é˜Ÿå®¢åˆ¶åŒ–å®šåˆ¶</p>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><p>[antdå®˜ç½‘]: 	â€œ<a href="https://ant.design/docs/react/introduce-cn">https://ant.design/docs/react/introduce-cn</a> â€œ<br>[ESLintä¸­æ–‡æ–‡æ¡£]: 	â€œ<a href="https://eslint.bootcss.com/">https://eslint.bootcss.com</a> â€œ<br>[Prettierä¸­æ–‡ç½‘]: 	â€œ<a href="https://www.prettier.cn/">https://www.prettier.cn</a> â€œ</p>
<h3 id="æºç ä»“åº“åœ°å€ï¼š"><a href="#æºç ä»“åº“åœ°å€ï¼š" class="headerlink" title="æºç ä»“åº“åœ°å€ï¼š"></a>æºç ä»“åº“åœ°å€ï¼š</h3><p><a href="https://github.com/mengfeng/react-app-start.git">https://github.com/mengfeng/react-app-start.git</a></p>
]]></content>
      <categories>
        <category>å·¥ç¨‹æŠ€æœ¯</category>
        <category>ä»0åˆ°1æ­å»ºè‡ªå·±çš„è„šæ‰‹æ¶react</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>å“åº”å¼è®¾è®¡</title>
    <url>/2022/12/13/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å“åº”å¼è®¾è®¡"><a href="#å“åº”å¼è®¾è®¡" class="headerlink" title="å“åº”å¼è®¾è®¡"></a>å“åº”å¼è®¾è®¡</h1><blockquote>
<p>è‡ªé€‚åº”ã€å“åº”å¼ã€å¼¹æ€§å¸ƒå±€ã€å±å¹•é€‚é…ï¼Œè¿™æ˜¯å››ä¸ªç‹¬ç«‹ä¸åŒçš„æ¦‚å¿µã€‚</p>
</blockquote>
<h3 id="ä¸€ã€åŒºåˆ«"><a href="#ä¸€ã€åŒºåˆ«" class="headerlink" title="ä¸€ã€åŒºåˆ«"></a>ä¸€ã€åŒºåˆ«</h3><p>è‡ªé€‚åº”ï¼šå¤šç«¯è¯·æ±‚æ—¶è¿”å›ä¸åŒçš„é¡µé¢ï¼ŒæœåŠ¡ç«¯éœ€è¦å‡†å¤‡å¤šå¥—ç¨‹åºæˆ–è€…å¤šå¥—æ¨¡æ¿ã€‚</p>
<p>å“åº”å¼ï¼šä¸»è¦æ˜¯åˆ©ç”¨cssåª’ä½“æŸ¥è¯¢ä½¿å¾—åœ¨ä¸åŒå±å¹•å¤§å°ä¸‹ï¼Œé¡µé¢æœ‰ä¸åŒè¡¨ç°ï¼Œä¸»è¦æ˜¯å…ƒç´ å¸ƒå±€ç­‰å˜åŒ–ã€‚</p>
<p>å¼¹æ€§å¸ƒå±€ï¼šä¸»è¦æ˜¯åˆ©ç”¨ç™¾åˆ†æ¯”è®¾ç½®å…ƒç´ å®½åº¦ï¼Œæµ®åŠ¨è¿˜æœ‰flexè®¾ç½®å…ƒç´ å¸ƒå±€ç­‰ç­‰ã€‚</p>
<p>å±å¹•é€‚é…ï¼šä¸»è¦æ˜¯åº”ç”¨äºå¯¹å®Œç¾è¿˜åŸè®¾è®¡ç¨¿å°ºå¯¸æœ‰è¦æ±‚çš„é¡µé¢ï¼Œä¸»è¦æ˜¯åˆ©ç”¨ remã€vmç­‰æŠ€æœ¯ã€‚ï¼ˆç±»ä¼¼äº750pxçš„è®¾è®¡ç¨¿æ˜¯ä¸€å¼ å›¾ç‰‡ï¼Œè¿™å¼ å›¾ç‰‡æ— è®ºæ€ä¹ˆç¼©æ”¾ï¼Œéƒ½èƒ½æ˜¾ç¤ºå¾ˆå¥½çš„æ•ˆæœï¼Œç°åœ¨æˆ‘ä»¬çš„ç½‘é¡µä¹Ÿéœ€è¦å›¾ç‰‡è¿™ç§ç­‰æ¯”ç¼©æ”¾çš„æ•ˆæœï¼Œè¿™ä¹ˆè¯´ä½ åº”è¯¥èƒ½ä½“ä¼šåˆ°äº†ã€‚å½“ç„¶äº†ï¼Œè¿™é‡Œè¿˜éœ€è¦é¡ºä¾¿è§£å†³é«˜æ¸…å±æ˜¾ç¤ºçš„é—®é¢˜ã€‚ï¼‰</p>
<h3 id="äºŒã€æŠ€æœ¯æ–¹æ¡ˆæ€ä¹ˆé€‰"><a href="#äºŒã€æŠ€æœ¯æ–¹æ¡ˆæ€ä¹ˆé€‰" class="headerlink" title="äºŒã€æŠ€æœ¯æ–¹æ¡ˆæ€ä¹ˆé€‰"></a>äºŒã€æŠ€æœ¯æ–¹æ¡ˆæ€ä¹ˆé€‰</h3><ol>
<li>ç®€å• &amp; å¯¹é€Ÿåº¦ä¸æ•æ„Ÿå’Œå¯¹ä»£ç ç²¾ç®€æ²¡è¦æ±‚ &amp; é¢„ç®—ç´§å¼ </li>
</ol>
<p>â€‹      å“åº”å¼ï¼Œä¸€å¥—ä»£ç è§£å†³å¤šç«¯</p>
<p>â€‹     å±•ç¤ºé˜…è¯»ç±» äº¤äº’é€»è¾‘ç®€å•ä¸”å°‘ï¼Œä¸”ç§»åŠ¨ç«¯ä¸pcç«¯å†…å®¹å·®å¼‚ä¸å¤§ï¼Œå¦‚æ–°é—»ç«™ï¼Œä¼ä¸šå®˜ç½‘</p>
<ol start="2">
<li>å¤æ‚ &amp; å¯¹ç²¾ç®€ä»£ç å’Œé€Ÿåº¦æœ‰è¦æ±‚ é¢„ç®—å……è¶³</li>
</ol>
<p>â€‹      åšä¸¤å¥— æ ¹æ®è¯·æ±‚å¤´è‡ªé€‚åº”è¿”å› webç«¯ æ‰‹æœºç«¯ ï¼ˆåç«¯å¯å…±ç”¨ï¼Œä¹Ÿå¯ä¸å…±ç”¨ï¼Œå¦‚ä¸åŒæ¨¡å—æˆ–è€…éƒ¨ç½²ä¸åŒåº”ç”¨ï¼‰</p>
<p>â€‹     åŠŸèƒ½ç±»ï¼Œäº¤äº’é€»è¾‘å¤æ‚ä¸”å¤šï¼Œå¦‚ç”µå•†ï¼Œç¤¾äº¤ç±»</p>
<ol start="3">
<li>å¤æ‚ &amp; æœ‰å¤šç»ˆç«¯é€‚é…è¦æ±‚ &amp; å¯¹ç»†èŠ‚æœ‰ä¸€å®šè¦æ±‚ è¿½æ±‚ç”¨æˆ·ä½“éªŒ &amp; é¢„ç®—è±ªå</li>
</ol>
<p>â€‹       åšä¸¤å¥— ç§»åŠ¨ç«¯ç”¨é€‚é…åšä»¥æ»¡è¶³ä¸åŒç§»åŠ¨ç»ˆç«¯</p>
<ol start="4">
<li>å¤æ‚ &amp; ç»†èŠ‚è¦æ±‚å’ŒæŠ€æœ¯è¿½æ±‚æé«˜ &amp; è¿½æ±‚æè‡´å®Œç¾çš„ç”¨æˆ·ä½“éªŒ &amp; ä¸å·®é’± ï¼ˆè‰ºæœ¯å®¶ã€å“²å­¦å®¶ï¼‰</li>
</ol>
<p>â€‹      å¤šç«¯ å¤šå¥— å“åº”å¼ é€‚é… å¤šæŠ€æœ¯ç›¸ç»“åˆ</p>
<h3 id="ä¸‰ã€å„ç§æ–¹æ¡ˆçš„è¯¦ç»†è®²è§£"><a href="#ä¸‰ã€å„ç§æ–¹æ¡ˆçš„è¯¦ç»†è®²è§£" class="headerlink" title="ä¸‰ã€å„ç§æ–¹æ¡ˆçš„è¯¦ç»†è®²è§£"></a>ä¸‰ã€å„ç§æ–¹æ¡ˆçš„è¯¦ç»†è®²è§£</h3><h4 id="1-åª’ä½“æŸ¥è¯¢"><a href="#1-åª’ä½“æŸ¥è¯¢" class="headerlink" title="1.åª’ä½“æŸ¥è¯¢"></a>1.åª’ä½“æŸ¥è¯¢</h4><p>è¦æƒ³å®ç°csså±å¹•å¤§å°è‡ªé€‚åº”ï¼Œé¦–å…ˆå¾—å¼•å…¥ CSS3 @media åª’ä½“æŸ¥è¯¢å™¨ï¼š</p>
<p>mediaçš„ä½¿ç”¨å’Œè§„åˆ™ï¼š</p>
<p>ã€€ã€€â‘ è¢«é“¾æ¥æ–‡æ¡£å°†æ˜¾ç¤ºåœ¨ä»€ä¹ˆè®¾å¤‡ä¸Šã€‚</p>
<p>ã€€ã€€â‘¡ç”¨äºä¸ºä¸åŒçš„åª’ä»‹ç±»å‹è§„å®šä¸åŒçš„æ ·å¼ã€‚</p>
<p>è¯­æ³•ï¼š </p>
<pre><code class="css">@media è®¾å¤‡å only ï¼ˆé€‰å–æ¡ä»¶ï¼‰ not ï¼ˆé€‰å–æ¡ä»¶ï¼‰ andï¼ˆè®¾å¤‡é€‰å–æ¡ä»¶ï¼‰ï¼Œè®¾å¤‡äºŒ&#123;sRules&#125;
</code></pre>
<p>å®ä¾‹ï¼š</p>
<pre><code class="css">/* è¿™æ˜¯åŒ¹é…æ¨ªå±çš„çŠ¶æ€ï¼Œæ¨ªå±æ—¶çš„cssä»£ç  */

@media all and (orientation :landscape)&#123;&#125;

/* è¿™æ˜¯åŒ¹é…ç«–å±çš„çŠ¶æ€ï¼Œç«–å±æ—¶çš„cssä»£ç  */

@media all and (orientation :portrait)&#123;&#125;

@media X and (min-width:200px)&#123;&#125;
/*Xä¸ºåª’ä½“ç±»å‹---&gt;æ¯”å¦‚print/screen/TVç­‰ç­‰*/

/* å®½åº¦å¤§äº600pxå°äº960ä¹‹é—´æ—¶ï¼Œéšè—footerç»“æ„ */

@media all and (min-height:640px) and (max-height:960px)&#123;
   ã€€ã€€ã€€footer&#123;display:none;&#125;
&#125;
</code></pre>
<p>åœ¨å®é™…åº”ç”¨çš„æ—¶å€™ï¼Œé¦–å…ˆå¾—åœ¨HTMLçš„å¤´æ–‡ä»¶<head>é‡Œä¸ŠåŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code class="html">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot;&gt;
</code></pre>
<p>è§£é‡Šï¼šã€€ã€€ã€€</p>
<p>width &#x3D; device-widthï¼šå®½åº¦ç­‰äºå½“å‰è®¾å¤‡çš„å®½åº¦</p>
<p>initial-scaleï¼šåˆå§‹çš„ç¼©æ”¾æ¯”ä¾‹ï¼ˆé»˜è®¤è®¾ç½®ä¸º1.0ï¼‰ </p>
<p>minimum-scaleï¼šå…è®¸ç”¨æˆ·ç¼©æ”¾åˆ°çš„æœ€å°æ¯”ä¾‹ï¼ˆé»˜è®¤è®¾ç½®ä¸º1.0ï¼‰  </p>
<p>maximum-scaleï¼šå…è®¸ç”¨æˆ·ç¼©æ”¾åˆ°çš„æœ€å¤§æ¯”ä¾‹ï¼ˆé»˜è®¤è®¾ç½®ä¸º1.0ï¼‰ </p>
<p>user-scalableï¼šç”¨æˆ·æ˜¯å¦å¯ä»¥æ‰‹åŠ¨ç¼©æ”¾ï¼ˆé»˜è®¤è®¾ç½®ä¸ºnoï¼Œå› ä¸ºæˆ‘ä»¬ä¸å¸Œæœ›ç”¨æˆ·æ”¾å¤§ç¼©å°é¡µé¢ï¼‰</p>
<p>å› ä¸ºmediaçš„ç±»å‹å¾ˆå¤šï¼Œè¿™é‡Œå°±å‘MDNçš„å¯¹åº”é“¾æ¥äº†ï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/@media">https://developer.mozilla.org/zh-CN/docs/Web/CSS/@media</a></p>
<p>ä¸‹é¢æ˜¯mediaç±»å‹çš„screenï¼ˆç”¨äºç”µè„‘å±å¹•ï¼Œå¹³æ¿ç”µè„‘ï¼Œæ™ºèƒ½æ‰‹æœºç­‰ï¼‰ï¼š</p>
<p><strong>cssè‡ªé€‚åº”å±å¹•å¤§å°å¤§æ–¹æ³•ï¼š</strong></p>
<pre><code class="css">@media screen and (min-width: 320px) and (max-width: 1156px)&#123;

              .site-bg-dl &#123;
              position: fixed;
              height: 100%;
              width: 100%;
              z-index: 0;
              background-image: url(bjxzfwzx/images/bj1.png);
              background-size: cover;
              background-repeat: no-repeat;
              background-attachment: fixed;
              background-size:100% 100%;
              -moz-background-size:100% 100%;
            &#125;
&#125;
</code></pre>
<p>è§£é‡Šï¼š</p>
<p>å‘Šè¯‰æµè§ˆå™¨å½“å±å¹•å¤§äº320pxï¼Œå¹¶å°äº1156pxä¸‹æ‰§è¡Œæ­¤ä»£ç ï¼›</p>
<p>åœ¨cssä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹ å¯ä»¥åˆ†åˆ«å®šåˆ¶ä¸åŒå±å¹•çš„æ˜¾ç¤ºæ ·å¼ï¼š</p>
<pre><code class="css">/* å¤§å±å¹• ï¼šå¤§äºç­‰äº1200px*/
@media (min-width: 1200px) &#123; ... &#125;

/*é»˜è®¤*/
@media (min-width: 980px)&#123;...&#125;

/* å¹³æ¿ç”µè„‘å’Œå°å±ç”µè„‘ä¹‹é—´çš„åˆ†è¾¨ç‡ */
@media (min-width: 768px) and (max-width: 979px) &#123; ... &#125;

/* æ¨ªå‘æ”¾ç½®çš„æ‰‹æœºå’Œç«–å‘æ”¾ç½®çš„å¹³æ¿ä¹‹é—´çš„åˆ†è¾¨ç‡ */
@media (max-width: 767px) &#123; ... &#125;

/* æ¨ªå‘æ”¾ç½®çš„æ‰‹æœºåŠåˆ†è¾¨ç‡æ›´å°çš„è®¾å¤‡ */
@media (max-width: 480px) &#123; ... &#125;
</code></pre>
<p>Media Queries Level 4 å¼•å…¥äº†ä¸€ç§æ–°çš„èŒƒå›´è¯­æ³•ï¼Œåœ¨æµ‹è¯•æ¥å—èŒƒå›´çš„ä»»ä½•ç‰¹æ€§æ—¶å…è®¸æ›´ç®€æ´çš„åª’ä½“æŸ¥è¯¢ï¼Œå¦‚ä¸‹é¢çš„ç¤ºä¾‹æ‰€ç¤ºï¼š</p>
<pre><code class="css">@media (height &gt; 600px) &#123;
  body &#123;
    line-height: 1.4;
  &#125;
&#125;

@media (400px &lt;= width &lt;= 700px) &#123;
  body &#123;
    line-height: 1.4;
  &#125;
&#125;
</code></pre>
<h4 id="2-å¦‚ä½•é€‰æ‹©å±å¹•å¤§å°åˆ†å‰²ç‚¹"><a href="#2-å¦‚ä½•é€‰æ‹©å±å¹•å¤§å°åˆ†å‰²ç‚¹" class="headerlink" title="2.å¦‚ä½•é€‰æ‹©å±å¹•å¤§å°åˆ†å‰²ç‚¹"></a>2.å¦‚ä½•é€‰æ‹©å±å¹•å¤§å°åˆ†å‰²ç‚¹</h4><p>å¦‚ä½•ç¡®å®šåª’ä½“æŸ¥è¯¢çš„åˆ†å‰²ç‚¹ä¹Ÿæ˜¯ä¸€ä¸ªå¼€å‘ä¸­ä¼šé‡åˆ°çš„é—®é¢˜ï¼Œä¸‹é¢æ˜¯å¸‚åœºä¸Šçš„ç§»åŠ¨è®¾å¤‡å’Œç”µè„‘å±å¹•åˆ†è¾¨ç‡çš„åˆ†å¸ƒæƒ…å†µï¼Œå¯ä»¥å‘ç°ä¸åŒå“ç‰Œå’Œå‹å·çš„è®¾å¤‡å±å¹•åˆ†è¾¨ç‡ä¸€èˆ¬éƒ½ä¸ä¸€æ ·</p>
<p><img src="/2022/12/13/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1/image-20221213140505623.png"></p>
<p>å¦‚æœæˆ‘ä»¬é€‰æ‹©<code>600px</code>,<code>900px</code>,<code>1200px</code>,<code>1800px</code>ä½œä¸ºåˆ†å‰²ç‚¹ï¼Œå¯ä»¥é€‚é…åˆ°å¸¸è§çš„14ä¸ªæœºå‹ï¼š</p>
<p><img src="/2022/12/13/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1/image-20221213140556282.png"></p>
<p>è€Œä½œä¸ºæ›¾ç»å…¸å‹çš„å“åº”å¼å¸ƒå±€æ¡†æ¶ï¼Œ<code>Bootstrap</code>æ˜¯æ€ä¹ˆè¿›è¡Œæ–­ç‚¹çš„å‘¢ï¼Ÿ</p>
<p><img src="/2022/12/13/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1/image-20221213140637166.png"></p>
<p>ä¸Šé¢çš„åˆ†å‰²æ–¹æ¡ˆä¸ä¸€å®šæ»¡è¶³é¡¹ç›®ä¸­çš„å®é™…éœ€æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆç”¨è·¨åº¦å¤§çš„åˆ†å‰²ç‚¹è¿›è¡Œåˆ†å‰²ï¼Œå¦‚æœå‡ºç°ä¸é€‚é…çš„æƒ…å†µå¯ä»¥å†æ ¹æ®å®é™…æƒ…å†µå¢åŠ æ–°çš„åˆ†å‰²ç‚¹ã€‚</p>
<h4 id="3-ç§»åŠ¨ä¼˜å…ˆ-or-PCä¼˜å…ˆ"><a href="#3-ç§»åŠ¨ä¼˜å…ˆ-or-PCä¼˜å…ˆ" class="headerlink" title="3.ç§»åŠ¨ä¼˜å…ˆ or PCä¼˜å…ˆ"></a>3.ç§»åŠ¨ä¼˜å…ˆ or PCä¼˜å…ˆ</h4><p>ä¸ç®¡æ˜¯ç§»åŠ¨ä¼˜å…ˆè¿˜æ˜¯PCä¼˜å…ˆï¼Œéƒ½æ˜¯ä¾æ®å½“éšç€å±å¹•å®½åº¦å¢å¤§æˆ–å‡å°çš„æ—¶å€™ï¼Œåé¢çš„æ ·å¼ä¼šè¦†ç›–å‰é¢çš„æ ·å¼ã€‚å› æ­¤ï¼Œç§»åŠ¨ç«¯ä¼˜å…ˆé¦–å…ˆä½¿ç”¨çš„æ˜¯<code>min-width</code>ï¼ŒPCç«¯ä¼˜å…ˆä½¿ç”¨çš„<code>max-width</code>ã€‚</p>
<p>ç§»åŠ¨ä¼˜å…ˆï¼š</p>
<pre><code class="css">/* iphone6 7 8 */
body &#123;
    background-color: yellow;
&#125;
/* iphone 5 */
@media screen and (max-width: 320px) &#123;
    body &#123;
      background-color: red;
    &#125;
&#125;
/* iphoneX */
@media screen and (min-width: 375px) and (-webkit-device-pixel-ratio: 3) &#123;
    body &#123;
      background-color: #0FF000;
    &#125;
&#125;
/* iphone6 7 8 plus */
@media screen and (min-width: 414px) &#123;
    body &#123;
      background-color: blue;
    &#125;
&#125;
/* ipad */
@media screen and (min-width: 768px) &#123;
    body &#123;
      background-color: green;
    &#125;
&#125;
/* ipad pro */
@media screen and (min-width: 1024px) &#123;
    body &#123;
      background-color: #FF00FF;
    &#125;
&#125;
/* pc */
@media screen and (min-width: 1100px) &#123;
    body &#123;
      background-color: black;
    &#125;
&#125;
</code></pre>
<p>pcä¼˜å…ˆï¼š</p>
<pre><code class="css">/* pc width &gt; 1024px */
    body &#123;
        background-color: yellow;
    &#125;
/* ipad pro */
@media screen and (max-width: 1024px) &#123;
    body &#123;
        background-color: #FF00FF;
    &#125;
&#125;
/* ipad */
@media screen and (max-width: 768px) &#123;
    body &#123;
        background-color: green;
    &#125;
&#125;
/* iphone6 7 8 plus */
@media screen and (max-width: 414px) &#123;
    body &#123;
        background-color: blue;
    &#125;
&#125;
/* iphoneX */
@media screen and (max-width: 375px) and (-webkit-device-pixel-ratio: 3) &#123;
    body &#123;
        background-color: #0FF000;
    &#125;
&#125;
/* iphone6 7 8 */
@media screen and (max-width: 375px) and (-webkit-device-pixel-ratio: 2) &#123;
    body &#123;
        background-color: #0FF000;
    &#125;
&#125;
/* iphone5 */
@media screen and (max-width: 320px) &#123;
    body &#123;
        background-color: #0FF000;
    &#125;
&#125;
</code></pre>
<h4 id="4-ç™¾åˆ†æ¯”å¸ƒå±€"><a href="#4-ç™¾åˆ†æ¯”å¸ƒå±€" class="headerlink" title="4.ç™¾åˆ†æ¯”å¸ƒå±€"></a>4.ç™¾åˆ†æ¯”å¸ƒå±€</h4><p>é€šè¿‡ç™¾åˆ†æ¯”å•ä½ï¼Œå¯ä»¥ä½¿å¾—æµè§ˆå™¨ä¸­ç»„ä»¶çš„å®½å’Œé«˜éšç€æµè§ˆå™¨çš„é«˜åº¦çš„å˜åŒ–è€Œå˜åŒ–ï¼Œä»è€Œå®ç°å“åº”å¼çš„æ•ˆæœã€‚Bootstrapé‡Œé¢çš„æ …æ ¼ç³»ç»Ÿå°±æ˜¯åˆ©ç”¨ç™¾åˆ†æ¯”æ¥å®šä¹‰å…ƒç´ çš„å®½é«˜ï¼Œ<code>CSS3</code>æ”¯æŒæœ€å¤§æœ€å°é«˜ï¼Œå¯ä»¥å°†ç™¾åˆ†æ¯”å’Œ<code>max(min)</code>ä¸€èµ·ç»“åˆä½¿ç”¨æ¥å®šä¹‰å…ƒç´ åœ¨ä¸åŒè®¾å¤‡ä¸‹çš„å®½é«˜ã€‚</p>
<pre><code class="css">/* pc width &gt; 1100px */
html, body &#123; margin: 0;padding: 0;width: 100%;height: 100%;&#125;
aside &#123;
    width: 10%;
    height: 100%;
    background-color: red;
    float: left;
&#125;
main &#123;
    height: 100%;
    background-color: blue;
    overflow: hidden;
&#125;
/* ipad pro */
@media screen and (max-width: 1024px) &#123;
    aside &#123;
      width: 8%;
      background-color: yellow;
    &#125;
&#125;
/* ipad */
@media screen and (max-width: 768px) &#123;
    aside &#123;
      float: none;
      width: 100%;
      height: 10%;
      background-color: green;
    &#125;
    main &#123;
      height: calc(100vh - 10%);
      background-color: red;
    &#125;
&#125;
/* iphone6 7 8 plus */
@media screen and (max-width: 414px) &#123;
    aside &#123;
      float: none;
      width: 100%;
      height: 5%;
      background-color: yellow;
    &#125;
    main &#123;
      height: calc(100vh - 5%);
      background-color: red;
    &#125;
&#125;
/* iphoneX */
@media screen and (max-width: 375px) and (-webkit-device-pixel-ratio: 3) &#123;
    aside &#123;
      float: none;
      width: 100%;
      height: 10%;
      background-color: blue;
    &#125;
    main &#123;
      height: calc(100vh - 10%);
      background-color: red;
    &#125;
&#125;
/* iphone6 7 8 */
@media screen and (max-width: 375px) and (-webkit-device-pixel-ratio: 2) &#123;
    aside &#123;
      float: none;
      width: 100%;
      height: 3%;
      background-color: black;
    &#125;
    main &#123;
      height: calc(100vh - 3%);
      background-color: red;
    &#125;
&#125;
/* iphone5 */
@media screen and (max-width: 320px) &#123;
    aside &#123;
      float: none;
      width: 100%;
      height: 7%;
      background-color: green;
    &#125;
    main &#123;
      height: calc(100vh - 7%);
      background-color: red;
    &#125;
&#125;
</code></pre>
<p>ä½†æ˜¯æˆ‘ä»¬å¿…é¡»è¦å¼„æ¸…æ¥šcssä¸­å­å…ƒç´ çš„ç™¾åˆ†æ¯”åˆ°åº•æ˜¯ç›¸å¯¹è°çš„ç™¾åˆ†æ¯”ã€‚</p>
<p>å­å…ƒç´ çš„<code>height</code>æˆ–<code>width</code>ä¸­ä½¿ç”¨ç™¾åˆ†æ¯”ï¼Œæ˜¯ç›¸å¯¹äºå­å…ƒç´ çš„ç›´æ¥çˆ¶å…ƒç´ ï¼Œ<code>width</code>ç›¸å¯¹äºçˆ¶å…ƒç´ çš„<code>width</code>ï¼Œ<code>height</code>ç›¸å¯¹äºçˆ¶å…ƒç´ çš„<code>height</code>ï¼›å­å…ƒç´ çš„<code>top</code>å’Œ<code>bottom</code>å¦‚æœè®¾ç½®ç™¾åˆ†æ¯”ï¼Œåˆ™ç›¸å¯¹äºç›´æ¥é<code>static</code>å®šä½(é»˜è®¤å®šä½)çš„çˆ¶å…ƒç´ çš„é«˜åº¦ï¼ŒåŒæ ·å­å…ƒç´ çš„<code>left</code>å’Œ<code>right</code>å¦‚æœè®¾ç½®ç™¾åˆ†æ¯”ï¼Œåˆ™ç›¸å¯¹äºç›´æ¥é<code>static</code>å®šä½(é»˜è®¤å®šä½çš„)çˆ¶å…ƒç´ çš„å®½åº¦ï¼›å­å…ƒç´ çš„<code>padding</code>å¦‚æœè®¾ç½®ç™¾åˆ†æ¯”ï¼Œä¸è®ºæ˜¯å‚ç›´æ–¹å‘æˆ–è€…æ˜¯æ°´å¹³æ–¹å‘ï¼Œéƒ½ç›¸å¯¹äºç›´æ¥çˆ¶äº²å…ƒç´ çš„<code>width</code>ï¼Œè€Œä¸çˆ¶å…ƒç´ çš„<code>height</code>æ— å…³ã€‚è·Ÿ<code>padding</code>ä¸€æ ·ï¼Œ<code>margin</code>ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå­å…ƒç´ çš„<code>margin</code>å¦‚æœè®¾ç½®æˆç™¾åˆ†æ¯”ï¼Œä¸è®ºæ˜¯å‚ç›´æ–¹å‘è¿˜æ˜¯æ°´å¹³æ–¹å‘ï¼Œéƒ½ç›¸å¯¹äºç›´æ¥çˆ¶å…ƒç´ çš„<code>width</code>ï¼›<code>border-radius</code>ä¸ä¸€æ ·ï¼Œå¦‚æœè®¾ç½®<code>border-radius</code>ä¸ºç™¾åˆ†æ¯”ï¼Œåˆ™æ˜¯ç›¸å¯¹äºè‡ªèº«çš„å®½åº¦ï¼Œé™¤äº†<code>border-radius</code>å¤–ï¼Œè¿˜æœ‰æ¯”å¦‚<code>translate</code>ã€<code>background-size</code>ç­‰éƒ½æ˜¯ç›¸å¯¹äºè‡ªèº«çš„ï¼›</p>
<p>ä»ä¸Šè¿°å¯¹äºç™¾åˆ†æ¯”å•ä½çš„ä»‹ç»æˆ‘ä»¬å¾ˆå®¹æ˜“çœ‹å‡ºå¦‚æœå…¨éƒ¨ä½¿ç”¨ç™¾åˆ†æ¯”å•ä½æ¥å®ç°å“åº”å¼çš„å¸ƒå±€ï¼Œæœ‰æ˜æ˜¾çš„ä»¥ä¸‹ä¸¤ä¸ªç¼ºç‚¹ï¼š</p>
<ul>
<li>è®¡ç®—å›°éš¾ï¼Œå¦‚æœæˆ‘ä»¬è¦å®šä¹‰ä¸€ä¸ªå…ƒç´ çš„å®½åº¦å’Œé«˜åº¦ï¼ŒæŒ‰ç…§è®¾è®¡ç¨¿ï¼Œå¿…é¡»æ¢ç®—æˆç™¾åˆ†æ¯”å•ä½ã€‚</li>
<li>å¯ä»¥çœ‹å‡ºï¼Œå„ä¸ªå±æ€§ä¸­å¦‚æœä½¿ç”¨ç™¾åˆ†æ¯”ï¼Œç›¸å¯¹çˆ¶å…ƒç´ çš„å±æ€§å¹¶ä¸æ˜¯å”¯ä¸€çš„ã€‚æ¯”å¦‚<code>width</code>å’Œ<code>height</code>ç›¸å¯¹äºçˆ¶å…ƒç´ çš„<code>width</code>å’Œ<code>height</code>ï¼Œè€Œ<code>margin</code>ã€<code>padding</code>ä¸ç®¡å‚ç›´è¿˜æ˜¯æ°´å¹³æ–¹å‘éƒ½ç›¸å¯¹æ¯”çˆ¶å…ƒç´ çš„å®½åº¦ã€<code>border-radius</code>åˆ™æ˜¯ç›¸å¯¹äºå…ƒç´ è‡ªèº«ç­‰ç­‰ï¼Œé€ æˆæˆ‘ä»¬ä½¿ç”¨ç™¾åˆ†æ¯”å•ä½å®¹æ˜“ä½¿å¸ƒå±€é—®é¢˜å˜å¾—å¤æ‚ã€‚</li>
</ul>
<h4 id="5-remå¸ƒå±€"><a href="#5-remå¸ƒå±€" class="headerlink" title="5.remå¸ƒå±€"></a>5.remå¸ƒå±€</h4><p><code>REM</code>æ˜¯<code>CSS3</code>æ–°å¢çš„å•ä½ï¼Œå¹¶ä¸”ç§»åŠ¨ç«¯çš„æ”¯æŒåº¦å¾ˆé«˜ï¼ŒAndroid2.x+,ios5+éƒ½æ”¯æŒã€‚<code>rem</code>å•ä½éƒ½æ˜¯ç›¸å¯¹äºæ ¹å…ƒç´ htmlçš„<code>font-size</code>æ¥å†³å®šå¤§å°çš„,æ ¹å…ƒç´ çš„<code>font-size</code>ç›¸å½“äºæä¾›äº†ä¸€ä¸ªåŸºå‡†ï¼Œå½“é¡µé¢çš„sizeå‘ç”Ÿå˜åŒ–æ—¶ï¼Œåªéœ€è¦æ”¹å˜<code>font-size</code>çš„å€¼ï¼Œé‚£ä¹ˆä»¥<code>rem</code>ä¸ºå›ºå®šå•ä½çš„å…ƒç´ çš„å¤§å°ä¹Ÿä¼šå‘ç”Ÿå“åº”çš„å˜åŒ–ã€‚ å› æ­¤ï¼Œå¦‚æœé€šè¿‡<code>rem</code>æ¥å®ç°å“åº”å¼çš„å¸ƒå±€ï¼Œåªéœ€è¦æ ¹æ®è§†å›¾å®¹å™¨çš„å¤§å°ï¼ŒåŠ¨æ€çš„æ”¹å˜<code>font-size</code>å³å¯ï¼ˆè€Œ<code>em</code>æ˜¯ç›¸å¯¹äºçˆ¶å…ƒç´ çš„ï¼‰ã€‚</p>
<p><strong>remå“åº”å¼çš„å¸ƒå±€æ€æƒ³ï¼š</strong></p>
<ul>
<li>ä¸€èˆ¬ä¸è¦ç»™å…ƒç´ è®¾ç½®å…·ä½“çš„å®½åº¦ï¼Œä½†æ˜¯å¯¹äºä¸€äº›å°å›¾æ ‡å¯ä»¥è®¾å®šå…·ä½“å®½åº¦å€¼</li>
<li>é«˜åº¦å€¼å¯ä»¥è®¾ç½®å›ºå®šå€¼ï¼Œè®¾è®¡ç¨¿æœ‰å¤šå¤§ï¼Œæˆ‘ä»¬å°±ä¸¥æ ¼æœ‰å¤šå¤§</li>
<li>æ‰€æœ‰è®¾ç½®çš„å›ºå®šå€¼éƒ½ç”¨<code>rem</code>åšå•ä½ï¼ˆé¦–å…ˆåœ¨HTMLæ€»è®¾ç½®ä¸€ä¸ªåŸºå‡†å€¼ï¼š<code>px</code>å’Œ<code>rem</code>çš„å¯¹åº”æ¯”ä¾‹ï¼Œç„¶ååœ¨æ•ˆæœå›¾ä¸Šè·å–<code>px</code>å€¼ï¼Œå¸ƒå±€çš„æ—¶å€™è½¬åŒ–ä¸º<code>rem</code>å€¼)</li>
<li>jsè·å–çœŸå®å±å¹•çš„å®½åº¦ï¼Œè®©å…¶é™¤ä»¥è®¾è®¡ç¨¿çš„å®½åº¦ï¼Œç®—å‡ºæ¯”ä¾‹ï¼ŒæŠŠä¹‹å‰çš„åŸºå‡†å€¼æŒ‰ç…§æ¯”ä¾‹è¿›è¡Œé‡æ–°çš„è®¾å®šï¼Œè¿™æ ·é¡¹ç›®å°±å¯ä»¥åœ¨ç§»åŠ¨ç«¯è‡ªé€‚åº”äº†ã€‚</li>
</ul>
<p><strong>remå¸ƒå±€çš„ç¼ºç‚¹ï¼š</strong></p>
<p>åœ¨å“åº”å¼å¸ƒå±€ä¸­ï¼Œå¿…é¡»é€šè¿‡jsæ¥åŠ¨æ€æ§åˆ¶æ ¹å…ƒç´ <code>font-size</code>çš„å¤§å°ï¼Œä¹Ÿå°±æ˜¯è¯´cssæ ·å¼å’Œjsä»£ç æœ‰ä¸€å®šçš„è€¦åˆæ€§ï¼Œä¸”å¿…é¡»å°†æ”¹å˜<code>font-size</code>çš„ä»£ç æ”¾åœ¨<code>css</code>æ ·å¼ä¹‹å‰</p>
<pre><code class="javascript">/*ä¸Šè¿°ä»£ç ä¸­å°†è§†å›¾å®¹å™¨åˆ†ä¸º10ä»½ï¼Œfont-sizeç”¨ååˆ†ä¹‹ä¸€çš„å®½åº¦æ¥è¡¨ç¤ºï¼Œæœ€ååœ¨headeræ ‡ç­¾ä¸­æ‰§è¡Œè¿™æ®µä»£ç ï¼Œå°±å¯ä»¥åŠ¨æ€å®šä¹‰font-sizeçš„å¤§å°ï¼Œä»è€Œ1remåœ¨ä¸åŒçš„è§†è§‰å®¹å™¨ä¸­è¡¨ç¤ºä¸åŒçš„å¤§å°ï¼Œç”¨remå›ºå®šå•ä½å¯ä»¥å®ç°ä¸åŒå®¹å™¨å†…å¸ƒå±€çš„è‡ªé€‚åº”ã€‚*/
function refreshRem() &#123;
    var docEl = doc.documentElement;
    var width = docEl.getBoundingClientRect().width;
    var rem = width / 10;
    docEl.style.fontSize = rem + &#39;px&#39;;
    flexible.rem = win.rem = rem;
&#125;
win.addEventListener(&#39;resize&#39;, refreshRem);
</code></pre>
<p><code>REM</code>å¸ƒå±€ä¹Ÿæ˜¯ç›®å‰å¤šå±å¹•é€‚é…çš„æœ€ä½³æ–¹å¼ã€‚é»˜è®¤æƒ…å†µä¸‹æˆ‘ä»¬htmlæ ‡ç­¾çš„<code>font-size</code>ä¸º16px,æˆ‘ä»¬åˆ©ç”¨åª’ä½“æŸ¥è¯¢ï¼Œè®¾ç½®åœ¨ä¸åŒè®¾å¤‡ä¸‹çš„å­—ä½“å¤§å°ã€‚</p>
<pre><code class="css">/* pc width &gt; 1100px */
html&#123; font-size: 100%;&#125;
body &#123;
    background-color: yellow;
    font-size: 1.5rem;
&#125;
/* ipad pro */
@media screen and (max-width: 1024px) &#123;
    body &#123;
      background-color: #FF00FF;
      font-size: 1.4rem;
    &#125;
&#125;
/* ipad */
@media screen and (max-width: 768px) &#123;
    body &#123;
      background-color: green;
      font-size: 1.3rem;
    &#125;
&#125;
/* iphone6 7 8 plus */
@media screen and (max-width: 414px) &#123;
    body &#123;
      background-color: blue;
      font-size: 1.25rem;
    &#125;
&#125;
/* iphoneX */
@media screen and (max-width: 375px) and (-webkit-device-pixel-ratio: 3) &#123;
    body &#123;
      background-color: #0FF000;
      font-size: 1.125rem;
    &#125;
&#125;
/* iphone6 7 8 */
@media screen and (max-width: 375px) and (-webkit-device-pixel-ratio: 2) &#123;
    body &#123;
      background-color: #0FF000;
      font-size: 1rem;
    &#125;
&#125;
/* iphone5 */
@media screen and (max-width: 320px) &#123;
    body &#123;
      background-color: #0FF000;
      font-size: 0.75rem;
    &#125;
&#125;
</code></pre>
<h4 id="6-è§†å£å•ä½"><a href="#6-è§†å£å•ä½" class="headerlink" title="6.è§†å£å•ä½"></a>6.è§†å£å•ä½</h4><p><code>css3</code>ä¸­å¼•å…¥äº†ä¸€ä¸ªæ–°çš„å•ä½<code>vw/vh</code>ï¼Œä¸è§†å›¾çª—å£æœ‰å…³ï¼Œ<code>vw</code>è¡¨ç¤ºç›¸å¯¹äºè§†å›¾çª—å£çš„å®½åº¦ï¼Œ<code>vh</code>è¡¨ç¤ºç›¸å¯¹äºè§†å›¾çª—å£é«˜åº¦ï¼Œé™¤äº†<code>vw</code>å’Œ<code>vh</code>å¤–ï¼Œè¿˜æœ‰<code>vmin</code>å’Œ<code>vmax</code>ä¸¤ä¸ªç›¸å…³çš„å•ä½ã€‚å„ä¸ªå•ä½å…·ä½“çš„å«ä¹‰å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th align="center">å•ä½</th>
<th align="center">å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td align="center">vw</td>
<td align="center">ç›¸å¯¹äºè§†çª—çš„å®½åº¦ï¼Œ1vw ç­‰äºè§†å£å®½åº¦çš„1%ï¼Œå³è§†çª—å®½åº¦æ˜¯100vw</td>
</tr>
<tr>
<td align="center">vh</td>
<td align="center">ç›¸å¯¹äºè§†çª—çš„é«˜åº¦ï¼Œ1vh ç­‰äºè§†å£é«˜åº¦çš„1%ï¼Œå³è§†çª—é«˜åº¦æ˜¯100vh</td>
</tr>
<tr>
<td align="center">vmin</td>
<td align="center">vwå’Œvhä¸­çš„è¾ƒå°å€¼</td>
</tr>
<tr>
<td align="center">vmax</td>
<td align="center">vwå’Œvhä¸­çš„è¾ƒå¤§å€¼</td>
</tr>
</tbody></table>
<p><img src="/2022/12/13/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1/image-20221213142123454.png"></p>
<p>ç”¨è§†å£å•ä½åº¦é‡ï¼Œè§†å£å®½åº¦ä¸º100vwï¼Œé«˜åº¦ä¸º100vhï¼ˆå·¦ä¾§ä¸ºç«–å±æƒ…å†µï¼Œå³ä¾§ä¸ºæ¨ªå±æƒ…å†µï¼‰ã€‚ä¾‹å¦‚ï¼Œåœ¨æ¡Œé¢ç«¯æµè§ˆå™¨è§†å£å°ºå¯¸ä¸º650pxï¼Œé‚£ä¹ˆ 1vw &#x3D; 650 * 1% &#x3D; 6.5pxï¼ˆè¿™æ˜¯ç†è®ºæ¨ç®—çš„å‡ºï¼Œå¦‚æœæµè§ˆå™¨ä¸æ”¯æŒ0.5pxï¼Œé‚£ä¹ˆå®é™…æ¸²æŸ“ç»“æœå¯èƒ½æ˜¯7pxï¼‰ã€‚</p>
<p>é‚£ä¹ˆvwæˆ–è€…vhå¾ˆç±»ä¼¼ç™¾åˆ†æ¯”å•ä½ã€‚vwå’Œ%çš„åŒºåˆ«ä¸ºï¼š</p>
<table>
<thead>
<tr>
<th align="center">å•ä½</th>
<th align="center">å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td align="center">%</td>
<td align="center">å¤§éƒ¨åˆ†ç›¸å¯¹äºç¥–å…ˆå…ƒç´ ï¼Œä¹Ÿæœ‰ç›¸å¯¹äºè‡ªèº«çš„æƒ…å†µæ¯”å¦‚ï¼ˆborder-radiusã€translateç­‰)</td>
</tr>
<tr>
<td align="center">vw&#x2F;vh</td>
<td align="center">ç›¸å¯¹äºè§†çª—çš„å°ºå¯¸</td>
</tr>
</tbody></table>
<p>ä»å¯¹æ¯”ä¸­æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œ<code>vw</code>å•ä½ä¸ç™¾åˆ†æ¯”ç±»ä¼¼ï¼Œå•ç¡®æœ‰åŒºåˆ«ï¼Œå‰é¢æˆ‘ä»¬ä»‹ç»äº†ç™¾åˆ†æ¯”å•ä½çš„æ¢ç®—å›°éš¾ï¼Œè¿™é‡Œçš„<code>vw</code>æ›´åƒâ€ç†æƒ³çš„ç™¾åˆ†æ¯”å•ä½â€ã€‚ä»»æ„å±‚çº§å…ƒç´ ï¼Œåœ¨ä½¿ç”¨<code>vw</code>å•ä½çš„æƒ…å†µä¸‹ï¼Œ1vwéƒ½ç­‰äºè§†å›¾å®½åº¦çš„ç™¾åˆ†ä¹‹ä¸€ã€‚</p>
<p>ä½¿ç”¨è§†å£å•ä½æ¥å®ç°å“åº”å¼æœ‰ä¸¤ç§åšæ³•ï¼š</p>
<h5 id="1-ä»…ä½¿ç”¨vwä½œä¸ºCSSå•ä½"><a href="#1-ä»…ä½¿ç”¨vwä½œä¸ºCSSå•ä½" class="headerlink" title="1.ä»…ä½¿ç”¨vwä½œä¸ºCSSå•ä½"></a>1.ä»…ä½¿ç”¨vwä½œä¸ºCSSå•ä½</h5><ul>
<li><p>å¯¹äºè®¾è®¡ç¨¿çš„å°ºå¯¸è½¬æ¢ä¸ºä¸ºå•ä½ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>Sass</code>å‡½æ•°ç¼–è¯‘</p>
<pre><code class="css">//iPhone 6å°ºå¯¸ä½œä¸ºè®¾è®¡ç¨¿åŸºå‡†
$vm_base: 375; 
@function vw($px) &#123;
    @return ($px / 375) * 100vw;
&#125;
</code></pre>
</li>
<li><p>æ— è®ºæ˜¯æ–‡æœ¬è¿˜æ˜¯å¸ƒå±€å®½åº¦ã€é—´è·ç­‰éƒ½ä½¿ç”¨<code>vw</code>ä½œä¸ºå•ä½</p>
<pre><code class="css">.mod_nav &#123;
    background-color: #fff;
    &amp;_list &#123;
        display: flex;
        padding: vm(15) vm(10) vm(10); // å†…é—´è·
        &amp;_item &#123;
            flex: 1;
            text-align: center;
            font-size: vm(10); // å­—ä½“å¤§å°
            &amp;_logo &#123;
                display: block;
                margin: 0 auto;
                width: vm(40); // å®½åº¦
                height: vm(40); // é«˜åº¦
                img &#123;
                    display: block;
                    margin: 0 auto;
                    max-width: 100%;
                &#125;
            &#125;
            &amp;_name &#123;
                margin-top: vm(2);
            &#125;
        &#125;
    &#125;
&#125;
</code></pre>
</li>
<li><p>1ç‰©ç†åƒç´ çº¿ï¼ˆä¹Ÿå°±æ˜¯æ™®é€šå±å¹•ä¸‹1px,é«˜æ¸…å±å¹•ä¸‹0.5pxçš„æƒ…å†µï¼‰é‡‡ç”¨<code>transform</code>å±æ€§<code>scale</code>å®ç°</p>
<pre><code class="css">.mod_grid &#123;
    position: relative;
    &amp;::after &#123;
        // å®ç°1ç‰©ç†åƒç´ çš„ä¸‹è¾¹æ¡†çº¿
        content: &#39;&#39;;
        position: absolute;
        z-index: 1;
        pointer-events: none;
        background-color: #ddd;
        height: 1px;
        left: 0;
        right: 0;
        top: 0;
        @media only screen and (-webkit-min-device-pixel-ratio: 2) &#123;
            -webkit-transform: scaleY(0.5);
            -webkit-transform-origin: 50% 0%;
        &#125;
    &#125;
    ...
&#125;
</code></pre>
</li>
<li><p>å¯¹äºéœ€è¦ä¿æŒå®½é«˜æ¯”çš„å›¾ï¼Œåº”è¯¥ç”¨<code>padding-top</code>å®ç°</p>
<pre><code class="css">.mod_banner &#123;
    position: relative;
    padding-top: percentage(100/700); // ä½¿ç”¨padding-top
    height: 0;
    overflow: hidden;
    img &#123;
        width: 100%;
        height: auto;
        position: absolute;
        left: 0;
        top: 0; 
    &#125;
&#125;
</code></pre>
</li>
</ul>
<h5 id="2-æ­é…vwå’Œrem"><a href="#2-æ­é…vwå’Œrem" class="headerlink" title="2.æ­é…vwå’Œrem"></a>2.æ­é…vwå’Œrem</h5><p>è™½ç„¶é‡‡ç”¨<code>vw</code>é€‚é…åçš„é¡µé¢æ•ˆæœå¾ˆå¥½ï¼Œä½†æ˜¯å®ƒæ˜¯åˆ©ç”¨è§†å£å•ä½å®ç°çš„å¸ƒå±€ï¼Œä¾èµ–è§†å£å¤§å°è€Œè‡ªåŠ¨ç¼©æ”¾ï¼Œæ— è®ºè§†å£è¿‡å¤§è¿˜æ˜¯è¿‡å°ï¼Œå®ƒä¹Ÿéšç€æ—¶å€™è¿‡å¤§æˆ–è€…è¿‡å°ï¼Œå¤±å»äº†æœ€å¤§æœ€å°å®½åº¦çš„é™åˆ¶ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥ç»“åˆ<code>rem</code>æ¥å®ç°å¸ƒå±€</p>
<ul>
<li><p>ç»™æ ¹å…ƒç´ å¤§å°è®¾ç½®éšç€è§†å£å˜åŒ–è€Œå˜åŒ–çš„<code>vw</code>å•ä½ï¼Œè¿™æ ·å°±å¯ä»¥å®ç°åŠ¨æ€æ”¹å˜å…¶å¤§å°</p>
</li>
<li><p>é™åˆ¶æ ¹å…ƒç´ å­—ä½“å¤§å°çš„æœ€å¤§æœ€å°å€¼ï¼Œé…åˆ<code>body</code>åŠ ä¸Šæœ€å¤§å®½åº¦å’Œæœ€å°å®½åº¦</p>
<pre><code class="scss">// rem å•ä½æ¢ç®—ï¼šå®šä¸º 75px åªæ˜¯æ–¹ä¾¿è¿ç®—ï¼Œ750px-75pxã€640-64pxã€1080px-108pxï¼Œå¦‚æ­¤ç±»æ¨
$vm_fontsize: 75; // iPhone 6å°ºå¯¸çš„æ ¹å…ƒç´ å¤§å°åŸºå‡†å€¼
@function rem($px) &#123;
     @return ($px / $vm_fontsize ) * 1rem;
&#125;
// æ ¹å…ƒç´ å¤§å°ä½¿ç”¨ vw å•ä½
$vm_design: 750;
html &#123;
    font-size: ($vm_fontsize / ($vm_design / 2)) * 100vw; 
    // åŒæ—¶ï¼Œé€šè¿‡Media Queries é™åˆ¶æ ¹å…ƒç´ æœ€å¤§æœ€å°å€¼
    @media screen and (max-width: 320px) &#123;
        font-size: 64px;
    &#125;
    @media screen and (min-width: 540px) &#123;
        font-size: 108px;
    &#125;
&#125;
// body ä¹Ÿå¢åŠ æœ€å¤§æœ€å°å®½åº¦é™åˆ¶ï¼Œé¿å…é»˜è®¤100%å®½åº¦çš„ block å…ƒç´ è·Ÿéš body è€Œè¿‡å¤§è¿‡å°
body &#123;
    max-width: 540px;
    min-width: 320px;
&#125;
</code></pre>
</li>
</ul>
<h4 id="7-å›¾ç‰‡å“åº”å¼"><a href="#7-å›¾ç‰‡å“åº”å¼" class="headerlink" title="7.å›¾ç‰‡å“åº”å¼"></a>7.å›¾ç‰‡å“åº”å¼</h4><p>è¿™é‡Œçš„å›¾ç‰‡å“åº”å¼åŒ…æ‹¬ä¸¤ä¸ªæ–¹é¢ï¼Œä¸€ä¸ªå°±æ˜¯å¤§å°è‡ªé€‚åº”ï¼Œè¿™æ ·èƒ½å¤Ÿä¿è¯å›¾ç‰‡åœ¨ä¸åŒçš„å±å¹•åˆ†è¾¨ç‡ä¸‹å‡ºç°å‹ç¼©ã€æ‹‰ä¼¸çš„æƒ…å†µï¼›ä¸€ä¸ªå°±æ˜¯æ ¹æ®ä¸åŒçš„å±å¹•åˆ†è¾¨ç‡å’Œè®¾å¤‡åƒç´ æ¯”æ¥å°½å¯èƒ½é€‰æ‹©é«˜åˆ†è¾¨ç‡çš„å›¾ç‰‡ï¼Œä¹Ÿå°±æ˜¯å½“åœ¨å°å±å¹•ä¸Šä¸éœ€è¦é«˜æ¸…å›¾æˆ–å¤§å›¾ï¼Œè¿™æ ·æˆ‘ä»¬ç”¨å°å›¾ä»£æ›¿ï¼Œå°±å¯ä»¥å‡å°‘ç½‘ç»œå¸¦å®½äº†ã€‚</p>
<h5 id="1-ä½¿ç”¨max-widthï¼ˆå›¾ç‰‡è‡ªé€‚åº”ï¼‰"><a href="#1-ä½¿ç”¨max-widthï¼ˆå›¾ç‰‡è‡ªé€‚åº”ï¼‰" class="headerlink" title="1.ä½¿ç”¨max-widthï¼ˆå›¾ç‰‡è‡ªé€‚åº”ï¼‰:"></a>1.ä½¿ç”¨max-widthï¼ˆå›¾ç‰‡è‡ªé€‚åº”ï¼‰:</h5><p>å›¾ç‰‡è‡ªé€‚åº”æ„æ€å°±æ˜¯å›¾ç‰‡èƒ½éšç€å®¹å™¨çš„å¤§å°è¿›è¡Œç¼©æ”¾ï¼Œå¯ä»¥é‡‡ç”¨å¦‚ä¸‹ä»£ç ï¼š</p>
<pre><code class="css">img &#123;
    display: inline-block;
    max-width: 100%;
    height: auto;
&#125;
</code></pre>
<p><code>inline-block</code> å…ƒç´ ç›¸å¯¹äºå®ƒå‘¨å›´çš„å†…å®¹ä»¥å†…è”å½¢å¼å‘ˆç°ï¼Œä½†ä¸å†…è”ä¸åŒçš„æ˜¯ï¼Œè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥è®¾ç½®å®½åº¦å’Œé«˜åº¦ã€‚ <code>max-width</code>ä¿è¯äº†å›¾ç‰‡èƒ½å¤Ÿéšç€å®¹å™¨çš„è¿›è¡Œç­‰å®½æ‰©å……ï¼ˆå³ä¿è¯æ‰€æœ‰å›¾ç‰‡æœ€å¤§æ˜¾ç¤ºä¸ºå…¶è‡ªèº«çš„ 100%ã€‚æ­¤æ—¶ï¼Œå¦‚æœåŒ…å«å›¾ç‰‡çš„å…ƒç´ æ¯”å›¾ç‰‡å›ºæœ‰å®½åº¦å°ï¼Œå›¾ç‰‡ä¼šç¼©æ”¾å æ»¡æœ€å¤§å¯ç”¨ç©ºé—´ï¼‰ï¼Œè€Œ<code>height</code>ä¸º<code>auto</code>å¯ä»¥ä¿è¯å›¾ç‰‡è¿›è¡Œç­‰æ¯”ç¼©æ”¾è€Œä¸è‡³äºå¤±çœŸã€‚å¦‚æœæ˜¯èƒŒæ™¯å›¾ç‰‡çš„è¯è¦çµæ´»è¿ç”¨<code>background-size</code>å±æ€§ã€‚</p>
<p>é‚£ä¹ˆä¸ºä»€ä¹ˆä¸èƒ½ç”¨<code>widthï¼š100%</code>å‘¢ï¼Ÿå› ä¸ºè¿™æ¡è§„åˆ™ä¼šå¯¼è‡´å®ƒæ˜¾ç¤ºå¾—è·Ÿå®ƒçš„å®¹å™¨ä¸€æ ·å®½ã€‚åœ¨å®¹å™¨æ¯”å›¾ç‰‡å®½å¾—å¤šçš„æƒ…å†µä¸‹ï¼Œå›¾ç‰‡ä¼šè¢«æ— è°“åœ°æ‹‰ä¼¸ã€‚</p>
<h5 id="2-ä½¿ç”¨srcset"><a href="#2-ä½¿ç”¨srcset" class="headerlink" title="2.ä½¿ç”¨srcset"></a>2.ä½¿ç”¨srcset</h5><pre><code class="ini">&lt;img srcset=&quot;photo_w350.jpg 1x, photo_w640.jpg 2x&quot; src=&quot;photo_w350.jpg&quot; alt=&quot;&quot;&gt;
</code></pre>
<p>å¦‚æœå±å¹•çš„dpi &#x3D; 1çš„è¯åˆ™åŠ è½½1å€å›¾ï¼Œè€Œdpi &#x3D; 2åˆ™åŠ è½½2å€å›¾ï¼Œæ‰‹æœºå’ŒmacåŸºæœ¬ä¸Šdpiéƒ½è¾¾åˆ°äº†2ä»¥ä¸Šï¼Œè¿™æ ·å­å¯¹äºæ™®é€šå±å¹•æ¥è¯´ä¸ä¼šæµªè´¹æµé‡ï¼Œè€Œå¯¹äºè§†ç½‘è†œå±æ¥è¯´åˆæœ‰é«˜æ¸…çš„ä½“éªŒã€‚</p>
<p>å¦‚æœæµè§ˆå™¨ä¸æ”¯æŒ<code>srcset</code>ï¼Œåˆ™é»˜è®¤åŠ è½½srcé‡Œé¢çš„å›¾ç‰‡ã€‚</p>
<p>ä½†æ˜¯ä½ ä¼šå‘ç°å®é™…æƒ…å†µå¹¶ä¸æ˜¯å¦‚æ­¤ï¼Œåœ¨Macä¸Šçš„Chromeå®ƒä¼šåŒæ—¶åŠ è½½<code>srcset</code>é‡Œé¢çš„é‚£å¼ 2xçš„ï¼Œè¿˜ä¼šå†å»åŠ è½½srcé‡Œé¢çš„é‚£å¼ ï¼ŒåŠ è½½ä¸¤å¼ å›¾ç‰‡ã€‚é¡ºåºæ˜¯å…ˆæŠŠæ‰€æœ‰<code>srcset</code>é‡Œé¢çš„åŠ è½½å®Œäº†ï¼Œå†å»åŠ è½½srcçš„ã€‚è¿™ä¸ªç­–ç•¥æ¯”è¾ƒå¥‡æ€ªï¼Œå®ƒå±…ç„¶ä¼šåŠ è½½ä¸¤å¼ å›¾ç‰‡ï¼Œå¦‚æœä¸å†™srcï¼Œåˆ™ä¸ä¼šåŠ è½½ä¸¤å¼ ï¼Œä½†æ˜¯å…¼å®¹æ€§å°±æ²¡é‚£ä¹ˆå¥½ã€‚è¿™ä¸ªå¯èƒ½æ˜¯å› ä¸ºæµè§ˆå™¨è®¤ä¸ºï¼Œæ—¢ç„¶æœ‰<code>srcset</code>å°±ä¸ç”¨å†™srcäº†ï¼Œå¦‚æœå†™äº†srcï¼Œç”¨æˆ·å¯èƒ½æ˜¯æœ‰ç”¨çš„ã€‚è€Œä½¿ç”¨<code>picture</code>å°±ä¸ä¼šåŠ è½½ä¸¤å¼ </p>
<h5 id="3-ä½¿ç”¨background-image"><a href="#3-ä½¿ç”¨background-image" class="headerlink" title="3.ä½¿ç”¨background-image"></a>3.ä½¿ç”¨background-image</h5><pre><code class="css">.banner&#123;
  background-image: url(/static/large.jpg);
&#125;

@media screen and (max-width: 767px)&#123;
  background-image: url(/static/small.jpg);
&#125;
</code></pre>
<h5 id="4-ä½¿ç”¨pictureæ ‡ç­¾"><a href="#4-ä½¿ç”¨pictureæ ‡ç­¾" class="headerlink" title="4.ä½¿ç”¨pictureæ ‡ç­¾"></a>4.ä½¿ç”¨pictureæ ‡ç­¾</h5><p><a href="https://link.juejin.im/?target=https://scottjehl.github.io/picturefill/">picturefill.min.js</a> ï¼šè§£å†³IEç­‰æµè§ˆå™¨ä¸æ”¯æŒ çš„é—®é¢˜</p>
<pre><code class="xml">&lt;picture&gt;
    &lt;source srcset=&quot;banner_w1000.jpg&quot; media=&quot;(min-width: 801px)&quot;&gt;
    &lt;source srcset=&quot;banner_w800.jpg&quot; media=&quot;(max-width: 800px)&quot;&gt;
    &lt;img src=&quot;banner_w800.jpg&quot; alt=&quot;&quot;&gt;
&lt;/picture&gt;

&lt;!-- picturefill.min.js è§£å†³IEç­‰æµè§ˆå™¨ä¸æ”¯æŒ &lt;picture&gt; çš„é—®é¢˜ --&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;js/vendor/picturefill.min.js&quot;&gt;&lt;/script&gt;
</code></pre>
<p><code>picture</code>å¿…é¡»è¦å†™imgæ ‡ç­¾ï¼Œå¦åˆ™æ— æ³•æ˜¾ç¤ºï¼Œå¯¹<code>pictur</code>eçš„æ“ä½œæœ€åéƒ½æ˜¯åœ¨imgä¸Šé¢ï¼Œä¾‹å¦‚onloadäº‹ä»¶æ˜¯åœ¨imgæ ‡ç­¾è§¦å‘çš„ï¼Œ<code>picture</code>å’Œ<code>source</code>æ˜¯ä¸ä¼šè¿›è¡Œlayoutçš„ï¼Œå®ƒä»¬çš„å®½å’Œé«˜éƒ½æ˜¯0ã€‚</p>
<p>å¦å¤–ä½¿ç”¨<code>source</code>ï¼Œè¿˜å¯ä»¥å¯¹å›¾ç‰‡æ ¼å¼åšä¸€äº›å…¼å®¹å¤„ç†ï¼š</p>
<pre><code class="ini">&lt;picture&gt;
    &lt;source type=&quot;image/webp&quot; srcset=&quot;banner.webp&quot;&gt;
    &lt;img src=&quot;banner.jpg&quot; alt=&quot;&quot;&gt;
&lt;/picture&gt;
</code></pre>
<p><strong>æ€»ç»“</strong>ï¼šå“åº”å¼å¸ƒå±€çš„å®ç°å¯ä»¥é€šè¿‡åª’ä½“æŸ¥è¯¢+<code>px</code>,åª’ä½“æŸ¥è¯¢+ç™¾åˆ†æ¯”ï¼Œåª’ä½“æŸ¥è¯¢+<code>rem</code>+<code>js</code>,<code>vm/vh</code>,<code>vm/vh</code> +<code>rem</code>è¿™å‡ ç§æ–¹å¼æ¥å®ç°ã€‚ä½†æ¯ä¸€ç§æ–¹å¼éƒ½æ˜¯æœ‰ç¼ºç‚¹çš„ï¼Œåª’ä½“æŸ¥è¯¢éœ€è¦é€‰å–ä¸»æµè®¾å¤‡å®½åº¦å°ºå¯¸ä½œä¸ºæ–­ç‚¹é’ˆå¯¹æ€§å†™é¢å¤–çš„æ ·å¼è¿›è¡Œé€‚é…ï¼Œä½†è¿™æ ·åšä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œåªèƒ½åœ¨é€‰å–çš„å‡ ä¸ªä¸»æµè®¾å¤‡å°ºå¯¸ä¸‹å‘ˆç°å®Œç¾é€‚é…ï¼Œå¦å¤–ç”¨æˆ·ä½“éªŒä¹Ÿä¸å‹å¥½ï¼Œå¸ƒå±€åœ¨å“åº”æ–­ç‚¹èŒƒå›´å†…çš„åˆ†è¾¨ç‡ä¸‹ç»´æŒä¸å˜ï¼Œè€Œåœ¨å“åº”æ–­ç‚¹åˆ‡æ¢çš„ç¬é—´ï¼Œå¸ƒå±€å¸¦æ¥æ–­å±‚å¼çš„åˆ‡æ¢å˜åŒ–ï¼Œå¦‚åŒå¡å¸¦çš„å”±æœºèˆ¬â€œå’”å’”å’”â€åœ°ä¸€ä¸‹åˆä¸€ä¸‹ã€‚é€šè¿‡ç™¾åˆ†æ¯”æ¥é€‚é…é¦–å…ˆæ˜¯è®¡ç®—éº»çƒ¦ï¼Œç¬¬äºŒå„ä¸ªå±æ€§ä¸­å¦‚æœä½¿ç”¨ç™¾åˆ†æ¯”ï¼Œå…¶ç›¸å¯¹çš„å…ƒç´ çš„å±æ€§å¹¶ä¸æ˜¯å”¯ä¸€çš„ï¼Œè¿™æ ·å°±é€ æˆæˆ‘ä»¬ä½¿ç”¨ç™¾åˆ†æ¯”å•ä½å®¹æ˜“ä½¿å¸ƒå±€é—®é¢˜å˜å¾—å¤æ‚ã€‚é€šè¿‡é‡‡ç”¨<code>rem</code>å•ä½çš„åŠ¨æ€è®¡ç®—çš„å¼¹æ€§å¸ƒå±€ï¼Œåˆ™æ˜¯éœ€è¦åœ¨å¤´éƒ¨å†…åµŒä¸€æ®µè„šæœ¬æ¥è¿›è¡Œç›‘å¬åˆ†è¾¨ç‡çš„å˜åŒ–æ¥åŠ¨æ€æ”¹å˜æ ¹å…ƒç´ å­—ä½“å¤§å°ï¼Œä½¿å¾—<code>CSS</code>ä¸<code>JS</code> è€¦åˆäº†åœ¨ä¸€èµ·ã€‚é€šè¿‡åˆ©ç”¨çº¯<code>css</code>è§†å£å•ä½å®ç°é€‚é…çš„é¡µé¢ï¼Œæ˜¯æ—¢èƒ½è§£å†³å“åº”å¼æ–­å±‚é—®é¢˜ï¼Œåˆèƒ½è§£å†³è„šæœ¬ä¾èµ–çš„é—®é¢˜çš„ï¼Œä½†æ˜¯å…¼å®¹æ€§è¿˜æ²¡æœ‰å®Œå…¨èƒ½ç»“æ„æ¥å—ã€‚</p>
<h3 id="å››ã€å“åº”å¼å¸ƒå±€çš„æˆå‹æ–¹æ¡ˆ"><a href="#å››ã€å“åº”å¼å¸ƒå±€çš„æˆå‹æ–¹æ¡ˆ" class="headerlink" title="å››ã€å“åº”å¼å¸ƒå±€çš„æˆå‹æ–¹æ¡ˆ"></a>å››ã€å“åº”å¼å¸ƒå±€çš„æˆå‹æ–¹æ¡ˆ</h3><p>ç°åœ¨çš„cssï¼ŒUIæ¡†æ¶ç­‰éƒ½å·²ç»è€ƒè™‘åˆ°äº†é€‚é…ä¸åŒå±å¹•åˆ†è¾¨ç‡çš„é—®é¢˜ï¼Œå®é™…é¡¹ç›®ä¸­æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™äº›æ–°ç‰¹æ€§å’Œæ¡†æ¶æ¥å®ç°å“åº”å¼å¸ƒå±€ã€‚å¯ä»¥æœ‰ä»¥ä¸‹é€‰æ‹©æ–¹æ¡ˆï¼š</p>
<ul>
<li>åˆ©ç”¨ä¸Šé¢çš„æ–¹æ³•è‡ªå·±æ¥å®ç°ï¼Œæ¯”å¦‚CSS3 Media Query,remï¼Œvwç­‰</li>
<li>Flexå¼¹æ€§å¸ƒå±€ï¼Œå…¼å®¹æ€§è¾ƒå·®</li>
<li>Gridç½‘æ ¼å¸ƒå±€ï¼Œå…¼å®¹æ€§è¾ƒå·®</li>
<li>Columnsæ …æ ¼ç³»ç»Ÿï¼Œå¾€å¾€éœ€è¦ä¾èµ–æŸä¸ªUIåº“ï¼Œå¦‚Bootstrap</li>
</ul>
<h3 id="äº”ã€å“åº”å¼å¸ƒå±€çš„è¦ç‚¹"><a href="#äº”ã€å“åº”å¼å¸ƒå±€çš„è¦ç‚¹" class="headerlink" title="äº”ã€å“åº”å¼å¸ƒå±€çš„è¦ç‚¹"></a>äº”ã€å“åº”å¼å¸ƒå±€çš„è¦ç‚¹</h3><p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦ç»¼åˆä¸Šé¢çš„æ–¹æ¡ˆï¼Œæ¯”å¦‚ç”¨<code>rem</code>æ¥åšå­—ä½“çš„é€‚é…ï¼Œç”¨<code>srcset</code>æ¥åšå›¾ç‰‡çš„å“åº”å¼ï¼Œå®½åº¦å¯ä»¥ç”¨<code>rem</code>ï¼Œ<code>flex</code>ï¼Œæ …æ ¼ç³»ç»Ÿç­‰æ¥å®ç°å“åº”å¼ï¼Œç„¶åå¯èƒ½è¿˜éœ€è¦åˆ©ç”¨åª’ä½“æŸ¥è¯¢æ¥ä½œä¸ºå“åº”å¼å¸ƒå±€çš„åŸºç¡€ï¼Œå› æ­¤ç»¼åˆä¸Šé¢çš„å®ç°æ–¹æ¡ˆï¼Œé¡¹ç›®ä¸­å®ç°å“åº”å¼å¸ƒå±€éœ€è¦æ³¨æ„ä¸‹é¢å‡ ç‚¹ï¼š</p>
<ul>
<li>è®¾ç½®viewport</li>
<li>åª’ä½“æŸ¥è¯¢</li>
<li>å­—ä½“çš„é€‚é…ï¼ˆå­—ä½“å•ä½ï¼‰</li>
<li>ç™¾åˆ†æ¯”å¸ƒå±€</li>
<li>å›¾ç‰‡çš„é€‚é…ï¼ˆå›¾ç‰‡çš„å“åº”å¼ï¼‰</li>
<li>ç»“åˆflexï¼Œgridï¼ŒBFCï¼Œæ …æ ¼ç³»ç»Ÿç­‰å·²ç»æˆå‹çš„æ–¹æ¡ˆ</li>
</ul>
<h3 id="å‚è€ƒé“¾æ¥ï¼š"><a href="#å‚è€ƒé“¾æ¥ï¼š" class="headerlink" title="å‚è€ƒé“¾æ¥ï¼š"></a>å‚è€ƒé“¾æ¥ï¼š</h3><p>[å“åº”å¼è®¾è®¡]: 	â€œ<a href="https://juejin.cn/post/6844903814332432397">https://juejin.cn/post/6844903814332432397</a> â€œ</p>
]]></content>
      <categories>
        <category>å“åº”å¼è®¾è®¡</category>
        <category>å“åº”å¼è®¾è®¡</category>
      </categories>
      <tags>
        <tag>å“åº”å¼</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯é¢è¯•å¤§å…¨git</title>
    <url>/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆgitå‘½ä»¤ï¼‰"><a href="#å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆgitå‘½ä»¤ï¼‰" class="headerlink" title="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆgitå‘½ä»¤ï¼‰"></a>å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆgitå‘½ä»¤ï¼‰</h1><p>å‰ç«¯é¢è¯•é¢˜ç±»ç›®åˆ†ç±»</p>
<ul>
<li>HTML5 + CSS3</li>
<li>JavaScript</li>
<li>Vue + Vue3</li>
<li>React</li>
<li>Webpack</li>
<li>æœåŠ¡ç«¯</li>
</ul>
<hr>
<p>è€ƒç‚¹é¢‘ç‡ ï¼šâ™¥ï¸ ã€ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸</p>
<h2 id="git"><a href="#git" class="headerlink" title="git"></a>git</h2><h3 id="gitæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#gitæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="gitæ˜¯ä»€ä¹ˆï¼Ÿ"></a>gitæ˜¯ä»€ä¹ˆï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>gitï¼Œæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶ï¼Œæœ€åˆç›®çš„æ˜¯ä¸ºæ›´å¥½åœ°ç®¡ç†<code>Linux</code>å†…æ ¸å¼€å‘è€Œè®¾è®¡</p>
<p>åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„å®¢æˆ·ç«¯å¹¶ä¸åªæå–æœ€æ–°ç‰ˆæœ¬çš„æ–‡ä»¶å¿«ç…§ï¼Œè€Œæ˜¯æŠŠä»£ç ä»“åº“å®Œæ•´åœ°é•œåƒä¸‹æ¥ã€‚è¿™ä¹ˆä¸€æ¥ï¼Œä»»ä½•ä¸€å¤„ååŒå·¥ä½œç”¨çš„æœåŠ¡å™¨å‘ç”Ÿæ•…éšœï¼Œäº‹åéƒ½å¯ä»¥ç”¨ä»»ä½•ä¸€ä¸ªé•œåƒå‡ºæ¥çš„æœ¬åœ°ä»“åº“æ¢å¤</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f32393234306634302d663739632d313165622d393931642d3333346664333166303230312e706e67.png"></p>
<p>é¡¹ç›®å¼€å§‹ï¼Œåªæœ‰ä¸€ä¸ªåŸå§‹ç‰ˆä»“åº“ï¼Œåˆ«çš„æœºå™¨å¯ä»¥<code>clone</code>è¿™ä¸ªåŸå§‹ç‰ˆæœ¬åº“ï¼Œé‚£ä¹ˆæ‰€æœ‰<code>clone</code>çš„æœºå™¨ï¼Œå®ƒä»¬çš„ç‰ˆæœ¬åº“å…¶å®éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå¹¶æ²¡æœ‰ä¸»æ¬¡ä¹‹åˆ†</p>
<p>æ‰€ä»¥åœ¨å®ç°å›¢é˜Ÿåä½œçš„æ—¶å€™ï¼Œåªè¦æœ‰ä¸€å°ç”µè„‘å……å½“æœåŠ¡å™¨çš„è§’è‰²ï¼Œå…¶ä»–æ¯ä¸ªäººéƒ½ä»è¿™ä¸ªâ€œæœåŠ¡å™¨â€ä»“åº“<code>clone</code>ä¸€ä»½åˆ°è‡ªå·±çš„ç”µè„‘ä¸Šï¼Œå¹¶ä¸”å„è‡ªæŠŠå„è‡ªçš„æäº¤æ¨é€åˆ°æœåŠ¡å™¨ä»“åº“é‡Œï¼Œä¹Ÿä»æœåŠ¡å™¨ä»“åº“ä¸­æ‹‰å–åˆ«äººçš„æäº¤</p>
<p><code>github</code>å®é™…å°±å¯ä»¥å……å½“è¿™ä¸ªæœåŠ¡å™¨è§’è‰²ï¼Œå…¶æ˜¯ä¸€ä¸ªå¼€æºåä½œç¤¾åŒºï¼Œæä¾›<code>Git</code>ä»“åº“æ‰˜ç®¡æœåŠ¡ï¼Œæ—¢å¯ä»¥è®©åˆ«äººå‚ä¸ä½ çš„å¼€æºé¡¹ç›®ï¼Œä¹Ÿå¯ä»¥å‚ä¸åˆ«äººçš„å¼€æºé¡¹ç›®</p>
<h4 id="äºŒã€å·¥ä½œåŸç†"><a href="#äºŒã€å·¥ä½œåŸç†" class="headerlink" title="äºŒã€å·¥ä½œåŸç†"></a>äºŒã€å·¥ä½œåŸç†</h4><p>å½“æˆ‘ä»¬é€šè¿‡<code>git init</code>åˆ›å»ºæˆ–è€…<code>git clone</code>ä¸€ä¸ªé¡¹ç›®çš„æ—¶å€™ï¼Œé¡¹ç›®ç›®å½•ä¼šéšè—ä¸€ä¸ª<code>.git</code>å­ç›®å½•ï¼Œå…¶ä½œç”¨æ˜¯ç”¨æ¥è·Ÿè¸ªç®¡ç†ç‰ˆæœ¬åº“çš„</p>
<p><code>Git</code> ä¸­æ‰€æœ‰æ•°æ®åœ¨å­˜å‚¨å‰éƒ½è®¡ç®—æ ¡éªŒå’Œï¼Œç„¶åä»¥æ ¡éªŒå’Œæ¥å¼•ç”¨ï¼Œæ‰€ä»¥åœ¨æˆ‘ä»¬ä¿®æ”¹æˆ–è€…åˆ é™¤æ–‡ä»¶çš„æ—¶å€™ï¼Œ<code>git</code>èƒ½å¤ŸçŸ¥é“</p>
<p><code>Git </code>ç”¨ä»¥è®¡ç®—æ ¡éªŒå’Œçš„æœºåˆ¶å«åš SHA-1 æ•£åˆ—ï¼ˆhashï¼Œå“ˆå¸Œï¼‰ï¼Œ è¿™æ˜¯ä¸€ä¸ªç”± 40 ä¸ªåå…­è¿›åˆ¶å­—ç¬¦ï¼ˆ0-9 å’Œ a-fï¼‰ç»„æˆå­—ç¬¦ä¸²ï¼ŒåŸºäº Git ä¸­æ–‡ä»¶çš„å†…å®¹æˆ–ç›®å½•ç»“æ„è®¡ç®—å‡ºæ¥ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="ini">24b9da6552252987aa493b52f8696cd6d3b00373
</code></pre>
<p>å½“æˆ‘ä»¬ä¿®æ”¹æ–‡ä»¶çš„æ—¶å€™ï¼Œ<code>git</code>å°±ä¼šä¿®æ”¹æ–‡ä»¶çš„çŠ¶æ€ï¼Œå¯ä»¥é€šè¿‡<code>git status</code>è¿›è¡ŒæŸ¥è¯¢ï¼ŒçŠ¶æ€æƒ…å†µå¦‚ä¸‹ï¼š</p>
<ul>
<li>å·²ä¿®æ”¹ï¼ˆmodifiedï¼‰ï¼šè¡¨ç¤ºä¿®æ”¹äº†æ–‡ä»¶ï¼Œä½†è¿˜æ²¡ä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚</li>
<li>å·²æš‚å­˜ï¼ˆstagedï¼‰ï¼šè¡¨ç¤ºå¯¹ä¸€ä¸ªå·²ä¿®æ”¹æ–‡ä»¶çš„å½“å‰ç‰ˆæœ¬åšäº†æ ‡è®°ï¼Œä½¿ä¹‹åŒ…å«åœ¨ä¸‹æ¬¡æäº¤çš„å¿«ç…§ä¸­ã€‚</li>
<li>å·²æäº¤ï¼ˆcommittedï¼‰ï¼šè¡¨ç¤ºæ•°æ®å·²ç»å®‰å…¨çš„ä¿å­˜åœ¨æœ¬åœ°æ•°æ®åº“ä¸­ã€‚</li>
</ul>
<p>æ–‡ä»¶çŠ¶æ€å¯¹åº”çš„ï¼Œä¸åŒçŠ¶æ€çš„æ–‡ä»¶åœ¨<code>Git</code>ä¸­å¤„äºä¸åŒçš„å·¥ä½œåŒºåŸŸï¼Œä¸»è¦åˆ†æˆäº†å››éƒ¨åˆ†ï¼š</p>
<ul>
<li>å·¥ä½œåŒºï¼šç›¸å½“äºæœ¬åœ°å†™ä»£ç çš„åŒºåŸŸï¼Œå¦‚ git clone ä¸€ä¸ªé¡¹ç›®åˆ°æœ¬åœ°ï¼Œç›¸å½“äºæœ¬åœ°å…‹éš†äº†è¿œç¨‹ä»“åº“é¡¹ç›®çš„ä¸€ä¸ªå‰¯æœ¬</li>
<li>æš‚å­˜åŒºï¼šæš‚å­˜åŒºæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä¿å­˜äº†ä¸‹æ¬¡å°†æäº¤çš„æ–‡ä»¶åˆ—è¡¨ä¿¡æ¯ï¼Œä¸€èˆ¬åœ¨ Git ä»“åº“ç›®å½•ä¸­</li>
<li>æœ¬åœ°ä»“åº“ï¼šæäº¤æ›´æ–°ï¼Œæ‰¾åˆ°æš‚å­˜åŒºåŸŸçš„æ–‡ä»¶ï¼Œå°†å¿«ç…§æ°¸ä¹…æ€§å­˜å‚¨åˆ° Git æœ¬åœ°ä»“åº“</li>
<li>è¿œç¨‹ä»“åº“ï¼šè¿œç¨‹çš„ä»“åº“ï¼Œå¦‚ github</li>
</ul>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f33323733633961302d663739632d313165622d626336662d3366303665313439313636342e706e67.png"></p>
<h4 id="ä¸‰ã€å‘½ä»¤"><a href="#ä¸‰ã€å‘½ä»¤" class="headerlink" title="ä¸‰ã€å‘½ä»¤"></a>ä¸‰ã€å‘½ä»¤</h4><p>ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼Œ<code>git</code>æ—¥å¸¸ç®€å•çš„ä½¿ç”¨å°±åªæœ‰ä¸Šå›¾6ä¸ªå‘½ä»¤ï¼š</p>
<ul>
<li>add</li>
<li>commit</li>
<li>push</li>
<li>pull</li>
<li>clone</li>
<li>checkout</li>
</ul>
<p>ä½†å®é™…ä¸Šè¿˜æœ‰å¾ˆå¤šå‘½ä»¤ï¼Œå¦‚æœæƒ³è¦ç†Ÿç»ƒä½¿ç”¨ï¼Œè¿˜æœ‰60ä¸ªå¤šå‘½ä»¤ï¼Œé€šè¿‡è¿™äº›å‘½ä»¤çš„é…åˆä½¿ç”¨ï¼Œèƒ½å¤Ÿæé«˜ä¸ªäººå·¥ä½œæ•ˆç‡å’Œå›¢é˜ŸååŠ©èƒ½åŠ›</p>
<h3 id="Gitä¸­-fork-clone-branchè¿™ä¸‰ä¸ªæ¦‚å¿µï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#Gitä¸­-fork-clone-branchè¿™ä¸‰ä¸ªæ¦‚å¿µï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="Gitä¸­ fork, clone,branchè¿™ä¸‰ä¸ªæ¦‚å¿µï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«?"></a>Gitä¸­ fork, clone,branchè¿™ä¸‰ä¸ªæ¦‚å¿µï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«?</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-1"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-1" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><h5 id="fork"><a href="#fork" class="headerlink" title="fork"></a>fork</h5><p><code>fork</code>ï¼Œè‹±è¯­ç¿»è¯‘è¿‡æ¥å°±æ˜¯å‰å­ï¼ŒåŠ¨è¯å½¢å¼åˆ™æ˜¯åˆ†å‰ï¼Œå¦‚ä¸‹å›¾ï¼Œä»å·¦åˆ°å³ï¼Œä¸€æ¡ç›´çº¿å˜æˆå¤šæ¡ç›´çº¿</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f61643034616465302d663761642d313165622d393931642d3333346664333166303230312e706e67.png"></p>
<p>è½¬åˆ°<code>git</code>ä»“åº“ä¸­ï¼Œ<code>fork</code>åˆ™å¯ä»¥ä»£è¡¨åˆ†å‰ã€å…‹éš† å‡ºä¸€ä¸ªï¼ˆä»“åº“çš„ï¼‰æ–°æ‹·è´</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f62346233313435302d663761642d313165622d393931642d3333346664333166303230312e706e67.png"></p>
<p>åŒ…å«äº†åŸæ¥çš„ä»“åº“ï¼ˆå³upstream repositoryï¼Œä¸Šæ¸¸ä»“åº“ï¼‰æ‰€æœ‰å†…å®¹ï¼Œå¦‚åˆ†æ”¯ã€Tagã€æäº¤</p>
<p>å¦‚æœæƒ³å°†ä½ çš„ä¿®æ”¹åˆå¹¶åˆ°åŸé¡¹ç›®ä¸­æ—¶ï¼Œå¯ä»¥é€šè¿‡çš„ Pull Request æŠŠä½ çš„æäº¤è´¡çŒ®å› åŸä»“åº“</p>
<h5 id="clone"><a href="#clone" class="headerlink" title="clone"></a>clone</h5><p><code>clone</code>ï¼Œè¯‘ä¸ºå…‹éš†ï¼Œå®ƒçš„ä½œç”¨æ˜¯å°†æ–‡ä»¶ä»è¿œç¨‹ä»£ç ä»“ä¸‹è½½åˆ°æœ¬åœ°ï¼Œä»è€Œå½¢æˆä¸€ä¸ªæœ¬åœ°ä»£ç ä»“</p>
<p>æ‰§è¡Œ<code>clone</code>å‘½ä»¤åï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º<code>xxx</code>çš„ç›®å½•ï¼Œå¹¶åœ¨è¿™ä¸ªç›®å½•ä¸‹åˆå§‹åŒ–ä¸€ä¸ª <code>.git</code> æ–‡ä»¶å¤¹ï¼Œç„¶åä»ä¸­è¯»å–æœ€æ–°ç‰ˆæœ¬çš„æ–‡ä»¶çš„æ‹·è´</p>
<p>é»˜è®¤é…ç½®ä¸‹è¿œç¨‹ <code>Git</code> ä»“åº“ä¸­çš„æ¯ä¸€ä¸ªæ–‡ä»¶çš„æ¯ä¸€ä¸ªç‰ˆæœ¬éƒ½å°†è¢«æ‹‰å–ä¸‹æ¥</p>
<h5 id="branch"><a href="#branch" class="headerlink" title="branch"></a>branch</h5><p><code>branch</code>ï¼Œè¯‘ä¸ºåˆ†æ”¯ï¼Œå…¶ä½œç”¨ç®€å•è€Œè¨€å°±æ˜¯å¼€å¯å¦ä¸€ä¸ªåˆ†æ”¯ï¼Œ ä½¿ç”¨åˆ†æ”¯æ„å‘³ç€ä½ å¯ä»¥æŠŠä½ çš„å·¥ä½œä»å¼€å‘ä¸»çº¿ä¸Šåˆ†ç¦»å¼€æ¥ï¼Œä»¥å…å½±å“å¼€å‘ä¸»çº¿</p>
<p><code>Git</code> å¤„ç†åˆ†æ”¯çš„æ–¹å¼ååˆ†è½»é‡ï¼Œåˆ›å»ºæ–°åˆ†æ”¯è¿™ä¸€æ“ä½œå‡ ä¹èƒ½åœ¨ç¬é—´å®Œæˆï¼Œå¹¶ä¸”åœ¨ä¸åŒåˆ†æ”¯ä¹‹é—´çš„åˆ‡æ¢æ“ä½œä¹Ÿæ˜¯ä¸€æ ·ä¾¿æ·</p>
<p>åœ¨æˆ‘ä»¬å¼€å‘ä¸­ï¼Œé»˜è®¤åªæœ‰ä¸€æ¡<code>master</code>åˆ†æ”¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f37666138653963302d663932332d313165622d393931642d3333346664333166303230312e706e67.png">]</p>
<p>é€šè¿‡<code>git branch </code>å¯ä»¥åˆ›å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†å¹¶ä¸ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°æ–°åˆ†æ”¯ä¸­å»</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f38396566643536302d663932332d313165622d626336662d3366303665313439313636342e706e67.png"></p>
<p>é€šè¿‡<code>git checkout</code>å¯ä»¥åˆ‡æ¢åˆ°å¦ä¸€ä¸ª<code>testing</code>åˆ†æ”¯</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f39316431636566302d663932332d313165622d626336662d3366303665313439313636342e706e67.png"></p>
<h4 id="äºŒã€å¦‚ä½•ä½¿ç”¨"><a href="#äºŒã€å¦‚ä½•ä½¿ç”¨" class="headerlink" title="äºŒã€å¦‚ä½•ä½¿ç”¨"></a>äºŒã€å¦‚ä½•ä½¿ç”¨</h4><h5 id="fork-1"><a href="#fork-1" class="headerlink" title="fork"></a>fork</h5><p>å½“ä½ åœ¨<code>github</code>å‘ç°æ„Ÿå…´è¶£å¼€æºé¡¹ç›®çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡ç‚¹å‡»<code>github</code>ä»“åº“ä¸­å³ä¸Šè§’<code>fork</code>æ ‡è¯†çš„æŒ‰é’®ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/image-20221103095419097.png"></p>
<p>ç‚¹å‡»è¿™ä¸ªæ“ä½œåä¼šå°†è¿™ä¸ªä»“åº“çš„æ–‡ä»¶ã€æäº¤å†å²ã€issueså’Œå…¶ä½™ä¸œè¥¿çš„ä»“åº“å¤åˆ¶åˆ°è‡ªå·±çš„<code>github</code>ä»“åº“ä¸­ï¼Œè€Œä½ æœ¬åœ°ä»“åº“æ˜¯ä¸ä¼šå­˜åœ¨ä»»ä½•æ›´æ”¹</p>
<p>ç„¶åä½ å°±å¯ä»¥é€šè¿‡<code>git clone</code>å¯¹ä½ è¿™ä¸ªå¤åˆ¶çš„è¿œç¨‹ä»“åº“è¿›è¡Œå…‹éš†</p>
<p>åç»­æ›´æ”¹ä»»ä½•ä¸œè¥¿éƒ½å¯ä»¥åœ¨æœ¬åœ°å®Œæˆï¼Œå¦‚<code>git add</code>ã€<code>git commit</code>ä¸€ç³»åˆ—çš„æ“ä½œï¼Œç„¶åé€šè¿‡<code>push</code>å‘½ä»¤æ¨åˆ°è‡ªå·±çš„è¿œç¨‹ä»“åº“</p>
<p>å¦‚æœå¸Œæœ›å¯¹æ–¹æ¥å—ä½ çš„ä¿®æ”¹ï¼Œå¯ä»¥é€šè¿‡å‘é€<code>pull requests</code>ç»™å¯¹æ–¹ï¼Œå¦‚æœå¯¹æ–¹æ¥å—ã€‚åˆ™ä¼šå°†ä½ çš„ä¿®æ”¹å†…å®¹æ›´æ–°åˆ°ä»“åº“ä¸­</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/image-20221103095452040.png"></p>
<p>æ•´ä½“æµç¨‹å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f63656438636531302d663761642d313165622d626336662d3366303665313439313636342e706e67.png"></p>
<h5 id="clone-1"><a href="#clone-1" class="headerlink" title="clone"></a>clone</h5><p>åœ¨<code>github</code>ä¸­ï¼Œå¼€æºé¡¹ç›®å³ä¾§å­˜åœ¨<code>code</code>æŒ‰é’®ï¼Œç‚¹å‡»ååˆ™ä¼šæ˜¾ç¤ºå¼€æºé¡¹ç›®<code>url</code>ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/image-20221103095540516.png"></p>
<p>é€šè¿‡<code>git clone xxx</code>åˆ™èƒ½å®Œæˆè¿œç¨‹é¡¹ç›®çš„ä¸‹è½½</p>
<h5 id="branch-1"><a href="#branch-1" class="headerlink" title="branch"></a>branch</h5><p>å¯é€šè¿‡<code>git branch</code>è¿›è¡ŒæŸ¥çœ‹å½“å‰çš„åˆ†æ”¯çŠ¶æ€ï¼Œ</p>
<p>å¦‚æœç»™äº†<code>--list</code>ï¼Œæˆ–è€…æ²¡æœ‰éé€‰é¡¹å‚æ•°ï¼Œç°æœ‰çš„åˆ†æ”¯å°†è¢«åˆ—å‡ºï¼›å½“å‰çš„åˆ†æ”¯å°†ä»¥ç»¿è‰²çªå‡ºæ˜¾ç¤ºï¼Œå¹¶æ ‡æœ‰æ˜Ÿå·</p>
<p>ä»¥åŠé€šè¿‡<code>git branch</code>åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯å‡ºæ¥</p>
<h4 id="ä¸‰ã€åŒºåˆ«"><a href="#ä¸‰ã€åŒºåˆ«" class="headerlink" title="ä¸‰ã€åŒºåˆ«"></a>ä¸‰ã€åŒºåˆ«</h4><p>å…¶ä¸‰è€…åŒºåˆ«å¦‚ä¸‹ï¼š</p>
<ul>
<li>fork åªèƒ½å¯¹ä»£ç ä»“è¿›è¡Œæ“ä½œï¼Œä¸” fork ä¸å±äº git çš„å‘½ä»¤ï¼Œé€šå¸¸ç”¨äºä»£ç ä»“æ‰˜ç®¡å¹³å°çš„ä¸€ç§â€œæ“ä½œâ€</li>
<li>clone æ˜¯ git çš„ä¸€ç§å‘½ä»¤ï¼Œå®ƒçš„ä½œç”¨æ˜¯å°†æ–‡ä»¶ä»è¿œç¨‹ä»£ç ä»“ä¸‹è½½åˆ°æœ¬åœ°ï¼Œä»è€Œå½¢æˆä¸€ä¸ªæœ¬åœ°ä»£ç ä»“</li>
<li>branch ç‰¹å¾ä¸ fork å¾ˆç±»ä¼¼ï¼Œfork å¾—åˆ°çš„æ˜¯ä¸€ä¸ªæ–°çš„ã€è‡ªå·±çš„ä»£ç ä»“ï¼Œè€Œ branch å¾—åˆ°çš„æ˜¯ä¸€ä¸ªä»£ç ä»“çš„ä¸€ä¸ªæ–°åˆ†æ”¯</li>
</ul>
<h3 id="Gitå¸¸ç”¨çš„å‘½ä»¤æœ‰å“ªäº›ï¼Ÿ"><a href="#Gitå¸¸ç”¨çš„å‘½ä»¤æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="Gitå¸¸ç”¨çš„å‘½ä»¤æœ‰å“ªäº›ï¼Ÿ"></a>Gitå¸¸ç”¨çš„å‘½ä»¤æœ‰å“ªäº›ï¼Ÿ</h3><h4 id="ä¸€ã€å‰è¨€"><a href="#ä¸€ã€å‰è¨€" class="headerlink" title="ä¸€ã€å‰è¨€"></a>ä¸€ã€å‰è¨€</h4><p><code>git </code>çš„æ“ä½œå¯ä»¥é€šè¿‡å‘½ä»¤çš„å½¢å¼å¦‚æ‰§è¡Œï¼Œæ—¥å¸¸ä½¿ç”¨å°±å¦‚ä¸‹å›¾6ä¸ªå‘½ä»¤å³å¯</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f66653135303532302d663761662d313165622d393931642d3333346664333166303230312e706e67.png"></p>
<p>å®é™…ä¸Šï¼Œå¦‚æœæƒ³è¦ç†Ÿç»ƒä½¿ç”¨ï¼Œè¶…è¿‡60å¤šä¸ªå‘½ä»¤éœ€è¦äº†è§£ï¼Œä¸‹é¢åˆ™ä»‹ç»ä¸‹å¸¸è§çš„çš„<code>git </code>å‘½ä»¤</p>
<h4 id="äºŒã€æœ‰å“ªäº›"><a href="#äºŒã€æœ‰å“ªäº›" class="headerlink" title="äºŒã€æœ‰å“ªäº›"></a>äºŒã€æœ‰å“ªäº›</h4><h5 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h5><p><code>Git </code>è‡ªå¸¦ä¸€ä¸ª <code>git config</code> çš„å·¥å…·æ¥å¸®åŠ©è®¾ç½®æ§åˆ¶ <code>Git </code>å¤–è§‚å’Œè¡Œä¸ºçš„é…ç½®å˜é‡ï¼Œåœ¨æˆ‘ä»¬å®‰è£…å®Œ<code>git</code>ä¹‹åï¼Œç¬¬ä¸€ä»¶äº‹å°±æ˜¯è®¾ç½®ä½ çš„ç”¨æˆ·åå’Œé‚®ä»¶åœ°å€</p>
<p>åç»­æ¯ä¸€ä¸ªæäº¤éƒ½ä¼šä½¿ç”¨è¿™äº›ä¿¡æ¯ï¼Œå®ƒä»¬ä¼šå†™å…¥åˆ°ä½ çš„æ¯ä¸€æ¬¡æäº¤ä¸­ï¼Œä¸å¯æ›´æ”¹</p>
<p>è®¾ç½®æäº¤ä»£ç æ—¶çš„ç”¨æˆ·ä¿¡æ¯å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<ul>
<li>git config [â€“global] user.name â€œ[name]â€</li>
<li>git config [â€“global] user.email â€œ[email address]â€</li>
</ul>
<h5 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h5><p>ä¸€ä¸ª<code>git</code>é¡¹ç›®çš„åˆå§‹æœ‰ä¸¤ä¸ªé€”å¾„ï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>git init [project-name]ï¼šåˆ›å»ºæˆ–åœ¨å½“å‰ç›®å½•åˆå§‹åŒ–ä¸€ä¸ªgitä»£ç åº“</li>
<li>git clone urlï¼šä¸‹è½½ä¸€ä¸ªé¡¹ç›®å’Œå®ƒçš„æ•´ä¸ªä»£ç å†å²</li>
</ul>
<h5 id="æ—¥å¸¸åŸºæœ¬æ“ä½œ"><a href="#æ—¥å¸¸åŸºæœ¬æ“ä½œ" class="headerlink" title="æ—¥å¸¸åŸºæœ¬æ“ä½œ"></a>æ—¥å¸¸åŸºæœ¬æ“ä½œ</h5><p>åœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œä»£ç å¸¸ç”¨çš„åŸºæœ¬æ“ä½œå¦‚ä¸‹ï¼š</p>
<ul>
<li>git init åˆå§‹åŒ–ä»“åº“ï¼Œé»˜è®¤ä¸º master åˆ†æ”¯</li>
<li>git add . æäº¤å…¨éƒ¨æ–‡ä»¶ä¿®æ”¹åˆ°ç¼“å­˜åŒº</li>
<li>git add &lt;å…·ä½“æŸä¸ªæ–‡ä»¶è·¯å¾„+å…¨å&gt; æäº¤æŸäº›æ–‡ä»¶åˆ°ç¼“å­˜åŒº</li>
<li>git diff æŸ¥çœ‹å½“å‰ä»£ç  addåï¼Œä¼š add å“ªäº›å†…å®¹</li>
<li>git diff â€“stagedæŸ¥çœ‹ç°åœ¨ commit æäº¤åï¼Œä¼šæäº¤å“ªäº›å†…å®¹</li>
<li>git status æŸ¥çœ‹å½“å‰åˆ†æ”¯çŠ¶æ€</li>
<li>git pull &lt;è¿œç¨‹ä»“åº“å&gt; &lt;è¿œç¨‹åˆ†æ”¯å&gt; æ‹‰å–è¿œç¨‹ä»“åº“çš„åˆ†æ”¯ä¸æœ¬åœ°å½“å‰åˆ†æ”¯åˆå¹¶</li>
<li>git pull &lt;è¿œç¨‹ä»“åº“å&gt; &lt;è¿œç¨‹åˆ†æ”¯å&gt;:&lt;æœ¬åœ°åˆ†æ”¯å&gt; æ‹‰å–è¿œç¨‹ä»“åº“çš„åˆ†æ”¯ä¸æœ¬åœ°æŸä¸ªåˆ†æ”¯åˆå¹¶</li>
<li>git commit -m â€œ&lt;æ³¨é‡Š&gt;â€ æäº¤ä»£ç åˆ°æœ¬åœ°ä»“åº“ï¼Œå¹¶å†™æäº¤æ³¨é‡Š</li>
<li>git commit -v æäº¤æ—¶æ˜¾ç¤ºæ‰€æœ‰diffä¿¡æ¯</li>
<li>git commit â€“amend [file1] [file2] é‡åšä¸Šä¸€æ¬¡commitï¼Œå¹¶åŒ…æ‹¬æŒ‡å®šæ–‡ä»¶çš„æ–°å˜åŒ–</li>
</ul>
<p>å…³äºæäº¤ä¿¡æ¯çš„æ ¼å¼ï¼Œå¯ä»¥éµå¾ªä»¥ä¸‹çš„è§„åˆ™ï¼š</p>
<ul>
<li>feat: æ–°ç‰¹æ€§ï¼Œæ·»åŠ åŠŸèƒ½</li>
<li>fix: ä¿®æ”¹ bug</li>
<li>refactor: ä»£ç é‡æ„</li>
<li>docs: æ–‡æ¡£ä¿®æ”¹</li>
<li>style: ä»£ç æ ¼å¼ä¿®æ”¹, æ³¨æ„ä¸æ˜¯ css ä¿®æ”¹</li>
<li>test: æµ‹è¯•ç”¨ä¾‹ä¿®æ”¹</li>
<li>chore: å…¶ä»–ä¿®æ”¹, æ¯”å¦‚æ„å»ºæµç¨‹, ä¾èµ–ç®¡ç†</li>
</ul>
<h5 id="åˆ†æ”¯æ“ä½œ"><a href="#åˆ†æ”¯æ“ä½œ" class="headerlink" title="åˆ†æ”¯æ“ä½œ"></a>åˆ†æ”¯æ“ä½œ</h5><ul>
<li>git branch æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰åˆ†æ”¯</li>
<li>git branch -r æŸ¥çœ‹è¿œç¨‹æ‰€æœ‰åˆ†æ”¯</li>
<li>git branch -a æŸ¥çœ‹æœ¬åœ°å’Œè¿œç¨‹æ‰€æœ‰åˆ†æ”¯</li>
<li>git merge &lt;åˆ†æ”¯å&gt; åˆå¹¶åˆ†æ”¯</li>
<li>git merge â€“abort åˆå¹¶åˆ†æ”¯å‡ºç°å†²çªæ—¶ï¼Œå–æ¶ˆåˆå¹¶ï¼Œä¸€åˆ‡å›åˆ°åˆå¹¶å‰çš„çŠ¶æ€</li>
<li>git branch &lt;æ–°åˆ†æ”¯å&gt; åŸºäºå½“å‰åˆ†æ”¯ï¼Œæ–°å»ºä¸€ä¸ªåˆ†æ”¯</li>
<li>git checkout â€“orphan &lt;æ–°åˆ†æ”¯å&gt; æ–°å»ºä¸€ä¸ªç©ºåˆ†æ”¯ï¼ˆä¼šä¿ç•™ä¹‹å‰åˆ†æ”¯çš„æ‰€æœ‰æ–‡ä»¶ï¼‰</li>
<li>git branch -D &lt;åˆ†æ”¯å&gt; åˆ é™¤æœ¬åœ°æŸä¸ªåˆ†æ”¯</li>
<li>git push &lt;è¿œç¨‹åº“å&gt; :&lt;åˆ†æ”¯å&gt; åˆ é™¤è¿œç¨‹æŸä¸ªåˆ†æ”¯</li>
<li>git branch &lt;æ–°åˆ†æ”¯åç§°&gt; &lt;æäº¤ID&gt; ä»æäº¤å†å²æ¢å¤æŸä¸ªåˆ æ‰çš„æŸä¸ªåˆ†æ”¯</li>
<li>git branch -m &lt;åŸåˆ†æ”¯å&gt; &lt;æ–°åˆ†æ”¯å&gt; åˆ†æ”¯æ›´å</li>
<li>git checkout &lt;åˆ†æ”¯å&gt; åˆ‡æ¢åˆ°æœ¬åœ°æŸä¸ªåˆ†æ”¯</li>
<li>git checkout &lt;è¿œç¨‹åº“å&gt;&#x2F;&lt;åˆ†æ”¯å&gt; åˆ‡æ¢åˆ°çº¿ä¸ŠæŸä¸ªåˆ†æ”¯</li>
<li>git checkout -b &lt;æ–°åˆ†æ”¯å&gt; æŠŠåŸºäºå½“å‰åˆ†æ”¯æ–°å»ºåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢ä¸ºè¿™ä¸ªåˆ†æ”¯</li>
</ul>
<h5 id="è¿œç¨‹åŒæ­¥"><a href="#è¿œç¨‹åŒæ­¥" class="headerlink" title="è¿œç¨‹åŒæ­¥"></a>è¿œç¨‹åŒæ­¥</h5><p>è¿œç¨‹æ“ä½œå¸¸è§çš„å‘½ä»¤ï¼š</p>
<ul>
<li>git fetch [remote] ä¸‹è½½è¿œç¨‹ä»“åº“çš„æ‰€æœ‰å˜åŠ¨</li>
<li>git remote -v æ˜¾ç¤ºæ‰€æœ‰è¿œç¨‹ä»“åº“</li>
<li>git pull [remote] [branch] æ‹‰å–è¿œç¨‹ä»“åº“çš„åˆ†æ”¯ä¸æœ¬åœ°å½“å‰åˆ†æ”¯åˆå¹¶</li>
<li>git fetch è·å–çº¿ä¸Šæœ€æ–°ç‰ˆä¿¡æ¯è®°å½•ï¼Œä¸åˆå¹¶</li>
<li>git push [remote] [branch] ä¸Šä¼ æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</li>
<li>git push [remote] â€“force å¼ºè¡Œæ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œå³ä½¿æœ‰å†²çª</li>
<li>git push [remote] â€“all æ¨é€æ‰€æœ‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</li>
</ul>
<h5 id="æ’¤é”€"><a href="#æ’¤é”€" class="headerlink" title="æ’¤é”€"></a>æ’¤é”€</h5><ul>
<li>git checkout [file] æ¢å¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒº</li>
<li>git checkout [commit] [file] æ¢å¤æŸä¸ªcommitçš„æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒºå’Œå·¥ä½œåŒº</li>
<li>git checkout . æ¢å¤æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº</li>
<li>git reset [commit] é‡ç½®å½“å‰åˆ†æ”¯çš„æŒ‡é’ˆä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºï¼Œä½†å·¥ä½œåŒºä¸å˜</li>
<li>git reset â€“hard é‡ç½®æš‚å­˜åŒºä¸å·¥ä½œåŒºï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´</li>
<li>git reset [file] é‡ç½®æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶ï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´ï¼Œä½†å·¥ä½œåŒºä¸å˜</li>
<li>git revert [commit] åè€…çš„æ‰€æœ‰å˜åŒ–éƒ½å°†è¢«å‰è€…æŠµæ¶ˆï¼Œå¹¶ä¸”åº”ç”¨åˆ°å½“å‰åˆ†æ”¯</li>
</ul>
<blockquote>
<p><code>reset</code>ï¼šçœŸå®ç¡¬æ€§å›æ»šï¼Œç›®æ ‡ç‰ˆæœ¬åé¢çš„æäº¤è®°å½•å…¨éƒ¨ä¸¢å¤±äº†</p>
<p><code>revert</code>ï¼šåŒæ ·å›æ»šï¼Œè¿™ä¸ªå›æ»šæ“ä½œç›¸å½“äºä¸€ä¸ªæä»·ï¼Œç›®æ ‡ç‰ˆæœ¬åé¢çš„æäº¤è®°å½•ä¹Ÿå…¨éƒ¨éƒ½æœ‰</p>
</blockquote>
<h5 id="å­˜å‚¨æ“ä½œ"><a href="#å­˜å‚¨æ“ä½œ" class="headerlink" title="å­˜å‚¨æ“ä½œ"></a>å­˜å‚¨æ“ä½œ</h5><p>ä½ æ­£åœ¨è¿›è¡Œé¡¹ç›®ä¸­æŸä¸€éƒ¨åˆ†çš„å·¥ä½œï¼Œé‡Œé¢çš„ä¸œè¥¿å¤„äºä¸€ä¸ªæ¯”è¾ƒæ‚ä¹±çš„çŠ¶æ€ï¼Œè€Œä½ æƒ³è½¬åˆ°å…¶ä»–åˆ†æ”¯ä¸Šè¿›è¡Œä¸€äº›å·¥ä½œï¼Œä½†åˆä¸æƒ³æäº¤è¿™äº›æ‚ä¹±çš„ä»£ç ï¼Œè¿™æ—¶å€™å¯ä»¥å°†ä»£ç è¿›è¡Œå­˜å‚¨</p>
<ul>
<li>git stash æš‚æ—¶å°†æœªæäº¤çš„å˜åŒ–ç§»é™¤</li>
<li>git stash pop å–å‡ºå‚¨è—ä¸­æœ€åå­˜å…¥çš„å·¥ä½œçŠ¶æ€è¿›è¡Œæ¢å¤ï¼Œä¼šåˆ é™¤å‚¨è—</li>
<li>git stash list æŸ¥çœ‹æ‰€æœ‰å‚¨è—ä¸­çš„å·¥ä½œ</li>
<li>git stash apply &lt;å‚¨è—çš„åç§°&gt; å–å‡ºå‚¨è—ä¸­å¯¹åº”çš„å·¥ä½œçŠ¶æ€è¿›è¡Œæ¢å¤ï¼Œä¸ä¼šåˆ é™¤å‚¨è—</li>
<li>git stash clear æ¸…ç©ºæ‰€æœ‰å‚¨è—ä¸­çš„å·¥ä½œ</li>
<li>git stash drop &lt;å‚¨è—çš„åç§°&gt; åˆ é™¤å¯¹åº”çš„æŸä¸ªå‚¨è—</li>
</ul>
<h5 id="ä¸‰ã€æ€»ç»“"><a href="#ä¸‰ã€æ€»ç»“" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h5><p><code>git</code>å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥è¡¨å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f30613130663363302d663762302d313165622d393931642d3333346664333166303230312e706e67.png"></p>
<h3 id="å¯¹git-pull-å’Œ-git-fetch-çš„ç†è§£ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#å¯¹git-pull-å’Œ-git-fetch-çš„ç†è§£ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="å¯¹git pull å’Œ git fetch çš„ç†è§£ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>å¯¹git pull å’Œ git fetch çš„ç†è§£ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-2"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-2" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>å…ˆå›é¡¾ä¸¤ä¸ªå‘½ä»¤çš„å®šä¹‰</p>
<ul>
<li>git fetch å‘½ä»¤ç”¨äºä»å¦ä¸€ä¸ªå­˜å‚¨åº“ä¸‹è½½å¯¹è±¡å’Œå¼•ç”¨</li>
<li>git pull å‘½ä»¤ç”¨äºä»å¦ä¸€ä¸ªå­˜å‚¨åº“æˆ–æœ¬åœ°åˆ†æ”¯è·å–å¹¶é›†æˆ(æ•´åˆ)</li>
</ul>
<p>å†æ¥çœ‹ä¸€æ¬¡<code>git</code>çš„å·¥ä½œæµç¨‹å›¾ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f64353233626136302d666163322d313165622d393931642d3333346664333166303230312e706e67.png"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>git fetch</code>æ˜¯å°†è¿œç¨‹ä¸»æœºçš„æœ€æ–°å†…å®¹æ‹‰åˆ°æœ¬åœ°ï¼Œç”¨æˆ·åœ¨æ£€æŸ¥äº†ä»¥åå†³å®šæ˜¯å¦åˆå¹¶åˆ°å·¥ä½œæœ¬æœºåˆ†æ”¯ä¸­</p>
<p>è€Œ<code>git pull</code> åˆ™æ˜¯å°†è¿œç¨‹ä¸»æœºçš„æœ€æ–°å†…å®¹æ‹‰ä¸‹æ¥åç›´æ¥åˆå¹¶ï¼Œå³ï¼š<code>git pull = git fetch + git merge</code>ï¼Œè¿™æ ·å¯èƒ½ä¼šäº§ç”Ÿå†²çªï¼Œéœ€è¦æ‰‹åŠ¨è§£å†³</p>
<p>åœ¨æˆ‘ä»¬æœ¬åœ°çš„<code>git</code>æ–‡ä»¶ä¸­å¯¹åº”ä¹Ÿå­˜å‚¨äº†<code>git</code>æœ¬åœ°ä»“åº“åˆ†æ”¯çš„<code>commit ID </code>å’Œ è·Ÿè¸ªçš„è¿œç¨‹åˆ†æ”¯çš„<code>commit ID</code>ï¼Œå¯¹åº”æ–‡ä»¶å¦‚ä¸‹ï¼š</p>
<ul>
<li>.git&#x2F;refs&#x2F;head&#x2F;[æœ¬åœ°åˆ†æ”¯]</li>
<li>.git&#x2F;refs&#x2F;remotes&#x2F;[æ­£åœ¨è·Ÿè¸ªçš„åˆ†æ”¯]</li>
</ul>
<p>ä½¿ç”¨ <code>git fetch</code>æ›´æ–°ä»£ç ï¼Œæœ¬åœ°çš„åº“ä¸­<code>master</code>çš„<code>commitID</code>ä¸å˜</p>
<p>ä½†æ˜¯ä¸<code>git</code>ä¸Šé¢å…³è”çš„é‚£ä¸ª<code>orign/master</code>çš„<code>commit ID</code>å‘ç”Ÿæ”¹å˜</p>
<p>è¿™æ—¶å€™æˆ‘ä»¬æœ¬åœ°ç›¸å½“äºå­˜å‚¨äº†ä¸¤ä¸ªä»£ç çš„ç‰ˆæœ¬å·ï¼Œæˆ‘ä»¬è¿˜è¦é€šè¿‡<code>merge</code>å»åˆå¹¶è¿™ä¸¤ä¸ªä¸åŒçš„ä»£ç ç‰ˆæœ¬</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f66643233666637302d666231322d313165622d626336662d3366303665313439313636342e706e67.png"></p>
<p>ä¹Ÿå°±æ˜¯<code>fetch</code>çš„æ—¶å€™æœ¬åœ°çš„<code>master</code>æ²¡æœ‰å˜åŒ–ï¼Œä½†æ˜¯ä¸è¿œç¨‹ä»“å…³è”çš„é‚£ä¸ªç‰ˆæœ¬å·è¢«æ›´æ–°äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯åœ¨æœ¬åœ°<code>merge</code>åˆå¹¶è¿™ä¸¤ä¸ªç‰ˆæœ¬å·çš„ä»£ç </p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œä½¿ç”¨<code>git pull</code>å°±æ›´åŠ ç®€å•ç²—æš´ï¼Œä¼šå°†æœ¬åœ°çš„ä»£ç æ›´æ–°è‡³è¿œç¨‹ä»“åº“é‡Œé¢æœ€æ–°çš„ä»£ç ç‰ˆæœ¬ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f30393162383134302d666231332d313165622d626336662d3366303665313439313636342e706e67.png"></p>
<h4 id="äºŒã€ç”¨æ³•"><a href="#äºŒã€ç”¨æ³•" class="headerlink" title="äºŒã€ç”¨æ³•"></a>äºŒã€ç”¨æ³•</h4><p>ä¸€èˆ¬è¿œç«¯ä»“åº“é‡Œæœ‰æ–°çš„å†…å®¹æ›´æ–°ï¼Œå½“æˆ‘ä»¬éœ€è¦æŠŠæ–°å†…å®¹ä¸‹è½½çš„æ—¶å€™ï¼Œå°±ä½¿ç”¨åˆ°<code>git pull</code>æˆ–è€…<code>git fetch</code>å‘½ä»¤</p>
<h5 id="fetch"><a href="#fetch" class="headerlink" title="fetch"></a>fetch</h5><p>ç”¨æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="ini">git fetch &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;è¿œç¨‹åˆ†æ”¯å&gt;:&lt;æœ¬åœ°åˆ†æ”¯å&gt;
</code></pre>
<p>ä¾‹å¦‚ä»è¿œç¨‹çš„<code>origin</code>ä»“åº“çš„<code>master</code>åˆ†æ”¯ä¸‹è½½ä»£ç åˆ°æœ¬åœ°å¹¶æ–°å»ºä¸€ä¸ª<code>temp</code>åˆ†æ”¯</p>
<pre><code class="ini">git fetch origin master:temp
</code></pre>
<p>å¦‚æœä¸Šè¿°æ²¡æœ‰å†’å·ï¼Œåˆ™è¡¨ç¤ºå°†è¿œç¨‹<code>origin</code>ä»“åº“çš„<code>master</code>åˆ†æ”¯æ‹‰å–ä¸‹æ¥åˆ°æœ¬åœ°å½“å‰åˆ†æ”¯</p>
<p>è¿™é‡Œ<code>git fetch</code>ä¸ä¼šè¿›è¡Œåˆå¹¶ï¼Œæ‰§è¡Œåéœ€è¦æ‰‹åŠ¨æ‰§è¡Œ<code>git merge</code>åˆå¹¶ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="ini">git merge temp
</code></pre>
<h5 id="pull"><a href="#pull" class="headerlink" title="pull"></a>pull</h5><p>ä¸¤è€…çš„ç”¨æ³•ååˆ†ç›¸ä¼¼ï¼Œ<code>pull</code>ç”¨æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="ini">git pull &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;è¿œç¨‹åˆ†æ”¯å&gt;:&lt;æœ¬åœ°åˆ†æ”¯å&gt;
</code></pre>
<p>ä¾‹å¦‚å°†è¿œç¨‹ä¸»æœº<code>origin</code>çš„<code>master</code>åˆ†æ”¯æ‹‰å–è¿‡æ¥ï¼Œä¸æœ¬åœ°çš„<code>branchtest</code>åˆ†æ”¯åˆå¹¶ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<pre><code class="ini">git pull origin master:branchtest
</code></pre>
<p>åŒæ ·å¦‚æœä¸Šè¿°æ²¡æœ‰å†’å·ï¼Œåˆ™è¡¨ç¤ºå°†è¿œç¨‹<code>origin</code>ä»“åº“çš„<code>master</code>åˆ†æ”¯æ‹‰å–ä¸‹æ¥ä¸æœ¬åœ°å½“å‰åˆ†æ”¯åˆå¹¶</p>
<h4 id="ä¸‰ã€åŒºåˆ«-1"><a href="#ä¸‰ã€åŒºåˆ«-1" class="headerlink" title="ä¸‰ã€åŒºåˆ«"></a>ä¸‰ã€åŒºåˆ«</h4><p>ç›¸åŒç‚¹ï¼š</p>
<ul>
<li>åœ¨ä½œç”¨ä¸Šä»–ä»¬çš„åŠŸèƒ½æ˜¯å¤§è‡´ç›¸åŒçš„ï¼Œéƒ½æ˜¯èµ·åˆ°äº†æ›´æ–°ä»£ç çš„ä½œç”¨</li>
</ul>
<p>ä¸åŒç‚¹ï¼š</p>
<ul>
<li>git pullæ˜¯ç›¸å½“äºä»è¿œç¨‹ä»“åº“è·å–æœ€æ–°ç‰ˆæœ¬ï¼Œç„¶åå†ä¸æœ¬åœ°åˆ†æ”¯mergeï¼Œå³git pull &#x3D; git fetch + git merge</li>
<li>ç›¸æ¯”èµ·æ¥ï¼Œgit fetch æ›´å®‰å…¨ä¹Ÿæ›´ç¬¦åˆå®é™…è¦æ±‚ï¼Œåœ¨ merge å‰ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹æ›´æ–°æƒ…å†µï¼Œæ ¹æ®å®é™…æƒ…å†µå†å†³å®šæ˜¯å¦åˆå¹¶</li>
</ul>
<h3 id="Git-ä¸­-HEADã€å·¥ä½œæ ‘å’Œç´¢å¼•ä¹‹é—´çš„åŒºåˆ«ï¼Ÿ"><a href="#Git-ä¸­-HEADã€å·¥ä½œæ ‘å’Œç´¢å¼•ä¹‹é—´çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="Git ä¸­ HEADã€å·¥ä½œæ ‘å’Œç´¢å¼•ä¹‹é—´çš„åŒºåˆ«ï¼Ÿ"></a>Git ä¸­ HEADã€å·¥ä½œæ ‘å’Œç´¢å¼•ä¹‹é—´çš„åŒºåˆ«ï¼Ÿ</h3><h4 id="ä¸€ã€HEAD"><a href="#ä¸€ã€HEAD" class="headerlink" title="ä¸€ã€HEAD"></a>ä¸€ã€HEAD</h4><p>åœ¨<code>git</code>ä¸­ï¼Œå¯ä»¥å­˜åœ¨å¾ˆå¤šåˆ†æ”¯ï¼Œå…¶æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæŒ‡å‘<code>commit</code>å¯¹è±¡çš„å¯å˜æŒ‡é’ˆï¼Œè€Œ<code>Head</code>æ˜¯ä¸€ä¸ªç‰¹åˆ«çš„æŒ‡é’ˆï¼Œæ˜¯ä¸€ä¸ªæŒ‡å‘ä½ æ­£åœ¨å·¥ä½œä¸­çš„æœ¬åœ°åˆ†æ”¯çš„æŒ‡é’ˆ</p>
<p>ç®€å•æ¥è®²ï¼Œå°±æ˜¯ä½ ç°åœ¨åœ¨å“ªå„¿ï¼ŒHEAD å°±æŒ‡å‘å“ªå„¿</p>
<p>ä¾‹å¦‚å½“å‰æˆ‘ä»¬å¤„äº<code>master</code>åˆ†æ”¯ï¼Œæ‰€ä»¥<code>HEAD</code>è¿™ä¸ªæŒ‡é’ˆæŒ‡å‘äº†<code>master</code>åˆ†æ”¯æŒ‡é’ˆ</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f33366362306461302d666134302d313165622d393931642d3333346664333166303230312e706e67.png"></p>
<p>ç„¶åé€šè¿‡è°ƒç”¨<code>git checkout test</code>åˆ‡æ¢åˆ°<code>test</code>åˆ†æ”¯ï¼Œé‚£ä¹ˆ<code>HEAD</code>åˆ™æŒ‡å‘<code>test</code>åˆ†æ”¯ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f33653836626138302d666134302d313165622d393931642d3333346664333166303230312e706e67.png"></p>
<p>ä½†æˆ‘ä»¬åœ¨<code>test</code>åˆ†æ”¯å†ä¸€æ¬¡<code>commit</code>ä¿¡æ¯çš„æ—¶å€™ï¼Œ<code>HEAD</code>æŒ‡é’ˆä»ç„¶æŒ‡å‘äº†<code>test</code>åˆ†æ”¯æŒ‡é’ˆï¼Œè€Œ<code>test</code>åˆ†æ”¯æŒ‡é’ˆå·²ç»æŒ‡å‘äº†æœ€æ–°åˆ›å»ºçš„æäº¤ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f34333938333962302d666136362d313165622d393931642d3333346664333166303230312e706e67.png"></p>
<p>è¿™ä¸ª<code>HEAD</code>å­˜å‚¨çš„ä½ç½®å°±åœ¨<code>.git/HEAD</code>ç›®å½•ä¸­ï¼ŒæŸ¥çœ‹ä¿¡æ¯å¯ä»¥çœ‹åˆ°<code>HEAD</code>æŒ‡å‘äº†å¦ä¸€ä¸ªæ–‡ä»¶</p>
<pre><code class="ini">$ cat .git/HEAD
ref: refs/heads/master

$ cat .git/refs/heads/master
7406a10efcc169bbab17827aeda189aa20376f7f
</code></pre>
<p>è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹æ˜¯ä¸€ä¸²å“ˆå¸Œç ï¼Œè€Œè¿™ä¸ªå“ˆå¸Œç æ­£æ˜¯<code>master</code>åˆ†æ”¯ä¸Šæœ€æ–°çš„æäº¤æ‰€å¯¹åº”çš„å“ˆå¸Œç </p>
<p>æ‰€ä»¥ï¼Œå½“æˆ‘ä»¬åˆ‡æ¢åˆ†æ”¯çš„æ—¶å€™ï¼Œ<code>HEAD</code>æŒ‡é’ˆé€šå¸¸æŒ‡å‘æˆ‘ä»¬æ‰€åœ¨çš„åˆ†æ”¯ï¼Œå½“æˆ‘ä»¬åœ¨æŸä¸ªåˆ†æ”¯ä¸Šåˆ›å»ºæ–°çš„æäº¤æ—¶ï¼Œåˆ†æ”¯æŒ‡é’ˆæ€»æ˜¯ä¼šæŒ‡å‘å½“å‰åˆ†æ”¯çš„æœ€æ–°æäº¤</p>
<p>æ‰€ä»¥ï¼ŒHEADæŒ‡é’ˆ â€”â€”â€“&gt; åˆ†æ”¯æŒ‡é’ˆ â€”â€”â€“&gt; æœ€æ–°æäº¤</p>
<h4 id="äºŒã€å·¥ä½œæ ‘å’Œç´¢å¼•"><a href="#äºŒã€å·¥ä½œæ ‘å’Œç´¢å¼•" class="headerlink" title="äºŒã€å·¥ä½œæ ‘å’Œç´¢å¼•"></a>äºŒã€å·¥ä½œæ ‘å’Œç´¢å¼•</h4><p>åœ¨<code>Git</code>ç®¡ç†ä¸‹ï¼Œå¤§å®¶å®é™…æ“ä½œçš„ç›®å½•è¢«ç§°ä¸ºå·¥ä½œæ ‘ï¼Œä¹Ÿå°±æ˜¯å·¥ä½œåŒºåŸŸ</p>
<p>åœ¨æ•°æ®åº“å’Œå·¥ä½œæ ‘ä¹‹é—´æœ‰ç´¢å¼•ï¼Œç´¢å¼•æ˜¯ä¸ºäº†å‘æ•°æ®åº“æäº¤ä½œå‡†å¤‡çš„åŒºåŸŸï¼Œä¹Ÿè¢«ç§°ä¸ºæš‚å­˜åŒºåŸŸ</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f34366535616334302d666134302d313165622d626336662d3366303665313439313636342e706e67.png"></p>
<p><code>Git</code>åœ¨æ‰§è¡Œæäº¤çš„æ—¶å€™ï¼Œä¸æ˜¯ç›´æ¥å°†å·¥ä½œæ ‘çš„çŠ¶æ€ä¿å­˜åˆ°æ•°æ®åº“ï¼Œè€Œæ˜¯å°†è®¾ç½®åœ¨ä¸­é—´ç´¢å¼•åŒºåŸŸçš„çŠ¶æ€ä¿å­˜åˆ°æ•°æ®åº“</p>
<p>å› æ­¤ï¼Œè¦æäº¤æ–‡ä»¶ï¼Œé¦–å…ˆéœ€è¦æŠŠæ–‡ä»¶åŠ å…¥åˆ°ç´¢å¼•åŒºåŸŸä¸­ã€‚</p>
<p>æ‰€ä»¥ï¼Œå‡­å€Ÿä¸­é—´çš„ç´¢å¼•ï¼Œå¯ä»¥é¿å…å·¥ä½œæ ‘ä¸­ä¸å¿…è¦çš„æ–‡ä»¶æäº¤ï¼Œè¿˜å¯ä»¥å°†æ–‡ä»¶ä¿®æ”¹å†…å®¹çš„ä¸€éƒ¨åˆ†åŠ å…¥ç´¢å¼•åŒºåŸŸå¹¶æäº¤</p>
<h4 id="ä¸‰ã€åŒºåˆ«-2"><a href="#ä¸‰ã€åŒºåˆ«-2" class="headerlink" title="ä¸‰ã€åŒºåˆ«"></a>ä¸‰ã€åŒºåˆ«</h4><p>ä»æ‰€åœ¨çš„ä½ç½®æ¥çœ‹ï¼š</p>
<ul>
<li>HEAD æŒ‡é’ˆé€šå¸¸æŒ‡å‘æˆ‘ä»¬æ‰€åœ¨çš„åˆ†æ”¯ï¼Œå½“æˆ‘ä»¬åœ¨æŸä¸ªåˆ†æ”¯ä¸Šåˆ›å»ºæ–°çš„æäº¤æ—¶ï¼Œåˆ†æ”¯æŒ‡é’ˆæ€»æ˜¯ä¼šæŒ‡å‘å½“å‰åˆ†æ”¯çš„æœ€æ–°æäº¤</li>
<li>å·¥ä½œæ ‘æ˜¯æŸ¥çœ‹å’Œç¼–è¾‘çš„ï¼ˆæºï¼‰æ–‡ä»¶çš„å®é™…å†…å®¹</li>
<li>ç´¢å¼•æ˜¯æ”¾ç½®ä½ æƒ³è¦æäº¤ç»™ gitä»“åº“æ–‡ä»¶çš„åœ°æ–¹ï¼Œå¦‚å·¥ä½œæ ‘çš„ä»£ç é€šè¿‡ git add åˆ™æ·»åŠ åˆ° git ç´¢å¼•ä¸­ï¼Œé€šè¿‡git commit åˆ™å°†ç´¢å¼•åŒºåŸŸçš„æ–‡ä»¶æäº¤åˆ° git ä»“åº“ä¸­</li>
</ul>
<h3 id="å¯¹git-stash-çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#å¯¹git-stash-çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="å¯¹git stash çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>å¯¹git stash çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-3"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-3" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>stashï¼Œè¯‘ä¸ºå­˜æ”¾ï¼Œåœ¨ git ä¸­ï¼Œå¯ä»¥ç†è§£ä¸ºä¿å­˜å½“å‰å·¥ä½œè¿›åº¦ï¼Œä¼šæŠŠæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„æ”¹åŠ¨è¿›è¡Œä¿å­˜ï¼Œè¿™äº›ä¿®æ”¹ä¼šä¿å­˜åœ¨ä¸€ä¸ªæ ˆä¸Š</p>
<p>åç»­ä½ å¯ä»¥åœ¨ä»»ä½•æ—¶å€™ä»»ä½•åˆ†æ”¯é‡æ–°å°†æŸæ¬¡çš„ä¿®æ”¹æ¨å‡ºæ¥ï¼Œé‡æ–°åº”ç”¨è¿™äº›æ›´æ”¹çš„ä»£ç </p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>git stash</code>ä¼šç¼“å­˜ä¸‹åˆ—çŠ¶æ€çš„æ–‡ä»¶ï¼š</p>
<ul>
<li>æ·»åŠ åˆ°æš‚å­˜åŒºçš„ä¿®æ”¹ï¼ˆstaged changesï¼‰</li>
<li>Gitè·Ÿè¸ªçš„ä½†å¹¶æœªæ·»åŠ åˆ°æš‚å­˜åŒºçš„ä¿®æ”¹ï¼ˆunstaged changesï¼‰</li>
</ul>
<p>ä½†ä»¥ä¸‹çŠ¶æ€çš„æ–‡ä»¶ä¸ä¼šç¼“å­˜ï¼š</p>
<ul>
<li>åœ¨å·¥ä½œç›®å½•ä¸­æ–°çš„æ–‡ä»¶ï¼ˆuntracked filesï¼‰</li>
<li>è¢«å¿½ç•¥çš„æ–‡ä»¶ï¼ˆignored filesï¼‰</li>
</ul>
<p>å¦‚æœæƒ³è¦ä¸Šè¿°çš„æ–‡ä»¶éƒ½è¢«ç¼“å­˜ï¼Œå¯ä»¥ä½¿ç”¨<code>-u</code>æˆ–è€…<code>--include-untracked</code>å¯ä»¥å·¥ä½œç›®å½•æ–°çš„æ–‡ä»¶ï¼Œä½¿ç”¨<code>-a</code>æˆ–è€…<code>--all</code>å‘½ä»¤å¯ä»¥å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ä¿®æ”¹</p>
<h4 id="äºŒã€å¦‚ä½•ä½¿ç”¨-1"><a href="#äºŒã€å¦‚ä½•ä½¿ç”¨-1" class="headerlink" title="äºŒã€å¦‚ä½•ä½¿ç”¨"></a>äºŒã€å¦‚ä½•ä½¿ç”¨</h4><p>å…³äº<code>git stash</code>å¸¸è§çš„å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<ul>
<li>git stash</li>
<li>git stash save</li>
<li>git stash list</li>
<li>git stash pop</li>
<li>git stash apply</li>
<li>git stash show</li>
<li>git stash drop</li>
<li>git stash clear</li>
</ul>
<h5 id="git-stash"><a href="#git-stash" class="headerlink" title="git stash"></a>git stash</h5><p>ä¿å­˜å½“å‰å·¥ä½œè¿›åº¦ï¼Œä¼šæŠŠæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„æ”¹åŠ¨ä¿å­˜èµ·æ¥</p>
<h5 id="git-stash-save"><a href="#git-stash-save" class="headerlink" title="git stash save"></a>git stash save</h5><p><code>git stash save</code>å¯ä»¥ç”¨äºå­˜å‚¨ä¿®æ”¹.å¹¶ä¸”å°†<code>git</code>çš„å·¥ä½œçŠ¶æ€åˆ‡å›åˆ°<code>HEAD</code>ä¹Ÿå°±æ˜¯ä¸Šä¸€æ¬¡åˆæ³•æäº¤ä¸Š</p>
<p>å¦‚æœç»™å®šå…·ä½“çš„æ–‡ä»¶è·¯å¾„,<code>git stash</code>åªä¼šå¤„ç†è·¯å¾„ä¸‹çš„æ–‡ä»¶.å…¶ä»–çš„æ–‡ä»¶ä¸ä¼šè¢«å­˜å‚¨ï¼Œå…¶å­˜åœ¨ä¸€äº›å‚æ•°ï¼š</p>
<ul>
<li>â€“keep-index æˆ–è€… -k åªä¼šå­˜å‚¨ä¸ºåŠ å…¥ git ç®¡ç†çš„æ–‡ä»¶</li>
<li>â€“include-untracked ä¸ºè¿½è¸ªçš„æ–‡ä»¶ä¹Ÿä¼šè¢«ç¼“å­˜,å½“å‰çš„å·¥ä½œç©ºé—´ä¼šè¢«æ¢å¤ä¸ºå®Œå…¨æ¸…ç©ºçš„çŠ¶æ€</li>
<li>-a æˆ–è€… â€“all å‘½ä»¤å¯ä»¥å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ä¿®æ”¹ï¼ŒåŒ…æ‹¬è¢« git å¿½ç•¥çš„æ–‡ä»¶</li>
</ul>
<h5 id="git-stash-list"><a href="#git-stash-list" class="headerlink" title="git stash list"></a>git stash list</h5><p>æ˜¾ç¤ºä¿å­˜è¿›åº¦çš„åˆ—è¡¨ã€‚ä¹Ÿå°±æ„å‘³ç€ï¼Œ<code>git stash</code>å‘½ä»¤å¯ä»¥å¤šæ¬¡æ‰§è¡Œï¼Œå½“å¤šæ¬¡ä½¿ç”¨<code>git stash</code>å‘½ä»¤åï¼Œæ ˆé‡Œä¼šå……æ»¡æœªæäº¤çš„ä»£ç ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f35303231366464302d666363662d313165622d626336662d3366303665313439313636342e706e67.png"></p>
<p>å…¶ä¸­ï¼Œ<code>stash@&#123;0&#125;</code>ã€<code>stash@&#123;1&#125;</code>å°±æ˜¯å½“å‰<code>stash</code>çš„åç§°</p>
<h5 id="git-stash-pop"><a href="#git-stash-pop" class="headerlink" title="git stash pop"></a>git stash pop</h5><p><code>git stash pop</code> ä»æ ˆä¸­è¯»å–æœ€è¿‘ä¸€æ¬¡ä¿å­˜çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯æ ˆé¡¶çš„<code>stash</code>ä¼šæ¢å¤åˆ°å·¥ä½œåŒº</p>
<p>ä¹Ÿå¯ä»¥é€šè¿‡ <code>git stash pop</code> + <code>stash</code>åå­—æ‰§è¡Œæ¢å¤å“ªä¸ª<code>stash</code>æ¢å¤åˆ°å½“å‰ç›®å½•</p>
<p>å¦‚æœä»<code>stash</code>ä¸­æ¢å¤çš„å†…å®¹å’Œå½“å‰ç›®å½•ä¸­çš„å†…å®¹å‘ç”Ÿäº†å†²çªï¼Œåˆ™éœ€è¦æ‰‹åŠ¨ä¿®å¤å†²çªæˆ–è€…åˆ›å»ºæ–°çš„åˆ†æ”¯æ¥è§£å†³å†²çª</p>
<h5 id="git-stash-apply"><a href="#git-stash-apply" class="headerlink" title="git stash apply"></a>git stash apply</h5><p>å°†å †æ ˆä¸­çš„å†…å®¹åº”ç”¨åˆ°å½“å‰ç›®å½•ï¼Œä¸åŒäº<code>git stash pop</code>ï¼Œè¯¥å‘½ä»¤ä¸ä¼šå°†å†…å®¹ä»å †æ ˆä¸­åˆ é™¤</p>
<p>ä¹Ÿå°±è¯´è¯¥å‘½ä»¤èƒ½å¤Ÿå°†å †æ ˆçš„å†…å®¹å¤šæ¬¡åº”ç”¨åˆ°å·¥ä½œç›®å½•ä¸­ï¼Œé€‚åº”äºå¤šä¸ªåˆ†æ”¯çš„æƒ…å†µ</p>
<p>åŒæ ·ï¼Œå¯ä»¥é€šè¿‡<code>git stash apply</code> + <code>stash</code>åå­—æ‰§è¡Œæ¢å¤å“ªä¸ª<code>stash</code>æ¢å¤åˆ°å½“å‰ç›®å½•</p>
<h5 id="git-stash-show"><a href="#git-stash-show" class="headerlink" title="git stash show"></a>git stash show</h5><p>æŸ¥çœ‹å †æ ˆä¸­æœ€æ–°ä¿å­˜çš„<code>stash</code>å’Œå½“å‰ç›®å½•çš„å·®å¼‚</p>
<p>é€šè¿‡ä½¿ç”¨<code>git stash show -p</code>æŸ¥çœ‹è¯¦ç»†çš„ä¸åŒ</p>
<p>é€šè¿‡ä½¿ç”¨<code>git stash show stash@&#123;1&#125;</code>æŸ¥çœ‹æŒ‡å®šçš„<code>stash</code>å’Œå½“å‰ç›®å½•å·®å¼‚</p>
<p><a href="https://camo.githubusercontent.com/bfc073fa538b45c4d6de871da070f364638cdd751a8c08426794c5dba2230514/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f34353836323061302d666363662d313165622d626336662d3366303665313439313636342e706e67"><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f34353836323061302d666363662d313165622d626336662d3366303665313439313636342e706e67.png" alt="img"></a></p>
<h5 id="git-stash-drop"><a href="#git-stash-drop" class="headerlink" title="git stash drop"></a>git stash drop</h5><p><code>git stash drop</code> + <code>stash</code>åç§°è¡¨ç¤ºä»å †æ ˆä¸­ç§»é™¤æŸä¸ªæŒ‡å®šçš„stash</p>
<h5 id="git-stash-clear"><a href="#git-stash-clear" class="headerlink" title="git stash clear"></a>git stash clear</h5><p>åˆ é™¤æ‰€æœ‰å­˜å‚¨çš„è¿›åº¦</p>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>å½“ä½ åœ¨é¡¹ç›®çš„ä¸€éƒ¨åˆ†ä¸Šå·²ç»å·¥ä½œä¸€æ®µæ—¶é—´åï¼Œæ‰€æœ‰ä¸œè¥¿éƒ½è¿›å…¥äº†æ··ä¹±çš„çŠ¶æ€ï¼Œ è€Œè¿™æ—¶ä½ æƒ³è¦åˆ‡æ¢åˆ°å¦ä¸€ä¸ªåˆ†æ”¯æˆ–è€…æ‹‰ä¸‹è¿œç«¯çš„ä»£ç å»åšä¸€ç‚¹åˆ«çš„äº‹æƒ…</p>
<p>ä½†æ˜¯ä½ åˆ›å»ºä¸€æ¬¡æœªå®Œæˆçš„ä»£ç çš„<code>commit</code>æäº¤ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨<code>git stash</code></p>
<p>ä¾‹å¦‚ä»¥ä¸‹åœºæ™¯ï¼š</p>
<p>å½“ä½ çš„å¼€å‘è¿›è¡Œåˆ°ä¸€åŠ,ä½†æ˜¯ä»£ç è¿˜ä¸æƒ³è¿›è¡Œæäº¤ ,ç„¶åéœ€è¦åŒæ­¥å»å…³è”è¿œç«¯ä»£ç æ—¶.å¦‚æœä½ æœ¬åœ°çš„ä»£ç å’Œè¿œç«¯ä»£ç æ²¡æœ‰å†²çªæ—¶,å¯ä»¥ç›´æ¥é€šè¿‡<code>git pull</code>è§£å†³</p>
<p>ä½†æ˜¯å¦‚æœå¯èƒ½å‘ç”Ÿå†²çªæ€ä¹ˆåŠ.ç›´æ¥<code>git pull</code>ä¼šæ‹’ç»è¦†ç›–å½“å‰çš„ä¿®æ”¹ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä¾æ¬¡ä½¿ç”¨ä¸‹è¿°çš„å‘½ä»¤ï¼š</p>
<ul>
<li>git stash</li>
<li>git pull</li>
<li>git stash pop</li>
</ul>
<p>æˆ–è€…å½“ä½ å¼€å‘åˆ°ä¸€åŠï¼Œç°åœ¨è¦ä¿®æ”¹åˆ«çš„åˆ†æ”¯é—®é¢˜çš„æ—¶å€™ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨<code>git stash</code>ç¼“å­˜å½“å‰åŒºåŸŸçš„ä»£ç </p>
<ul>
<li>git stashï¼šä¿å­˜å¼€å‘åˆ°ä¸€åŠçš„ä»£ç </li>
<li>git commit -m â€˜ä¿®æ”¹é—®é¢˜â€™</li>
<li>git stash popï¼šå°†ä»£ç è¿½åŠ åˆ°æœ€æ–°çš„æäº¤ä¹‹å</li>
</ul>
<h3 id="å¯¹git-rebase-å’Œ-git-mergeçš„ç†è§£ï¼ŸåŒºåˆ«ï¼Ÿ"><a href="#å¯¹git-rebase-å’Œ-git-mergeçš„ç†è§£ï¼ŸåŒºåˆ«ï¼Ÿ" class="headerlink" title="å¯¹git rebase å’Œ git mergeçš„ç†è§£ï¼ŸåŒºåˆ«ï¼Ÿ"></a>å¯¹git rebase å’Œ git mergeçš„ç†è§£ï¼ŸåŒºåˆ«ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-4"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-4" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>åœ¨ä½¿ç”¨ <code>git</code> è¿›è¡Œç‰ˆæœ¬ç®¡ç†çš„é¡¹ç›®ä¸­ï¼Œå½“å®Œæˆä¸€ä¸ªç‰¹æ€§çš„å¼€å‘å¹¶å°†å…¶åˆå¹¶åˆ° <code>master</code> åˆ†æ”¯æ—¶ï¼Œä¼šæœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>git merge</li>
<li>git rebase</li>
</ul>
<p><code>git rebase</code> ä¸ <code>git merge</code>éƒ½æœ‰ç›¸åŒçš„ä½œç”¨ï¼Œéƒ½æ˜¯å°†ä¸€ä¸ªåˆ†æ”¯çš„æäº¤åˆå¹¶åˆ°å¦ä¸€åˆ†æ”¯ä¸Šï¼Œä½†æ˜¯åœ¨åŸç†ä¸Šå´ä¸ç›¸åŒ</p>
<p>ç”¨æ³•ä¸Šä¸¤è€…ä¹Ÿååˆ†çš„ç®€å•ï¼š</p>
<h5 id="git-merge"><a href="#git-merge" class="headerlink" title="git merge"></a>git merge</h5><p>å°†å½“å‰åˆ†æ”¯åˆå¹¶åˆ°æŒ‡å®šåˆ†æ”¯ï¼Œå‘½ä»¤ç”¨æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="ini">git merge xxx
</code></pre>
<h5 id="git-rebase"><a href="#git-rebase" class="headerlink" title="git rebase"></a>git rebase</h5><p>å°†å½“å‰åˆ†æ”¯ç§»æ¤åˆ°æŒ‡å®šåˆ†æ”¯æˆ–æŒ‡å®š<code>commit</code>ä¹‹ä¸Šï¼Œç”¨æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="ini">git rebase -i &lt;commit&gt;
</code></pre>
<p>å¸¸è§çš„å‚æ•°æœ‰<code>--continue</code>ï¼Œç”¨äºè§£å†³å†²çªä¹‹åï¼Œç»§ç»­æ‰§è¡Œ<code>rebase</code></p>
<pre><code class="ini">git rebase --continue
</code></pre>
<h4 id="äºŒã€åˆ†æ"><a href="#äºŒã€åˆ†æ" class="headerlink" title="äºŒã€åˆ†æ"></a>äºŒã€åˆ†æ</h4><h5 id="git-merge-1"><a href="#git-merge-1" class="headerlink" title="git merge"></a>git merge</h5><p>é€šè¿‡<code>git merge</code>å°†å½“å‰åˆ†æ”¯ä¸<code>xxx</code>åˆ†æ”¯åˆå¹¶ï¼Œäº§ç”Ÿçš„æ–°çš„<code>commit</code>å¯¹è±¡æœ‰ä¸¤ä¸ªçˆ¶èŠ‚ç‚¹</p>
<p>å¦‚æœâ€œæŒ‡å®šåˆ†æ”¯â€æœ¬èº«æ˜¯å½“å‰åˆ†æ”¯çš„ä¸€ä¸ªç›´æ¥å­èŠ‚ç‚¹ï¼Œåˆ™ä¼šäº§ç”Ÿå¿«ç…§åˆå¹¶</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œ<code>bugfix</code>åˆ†æ”¯æ˜¯ä»<code>maste</code>råˆ†æ”¯åˆ†å‰å‡ºæ¥çš„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f38383431306133302d666464342d313165622d393931642d3333346664333166303230312e706e67.png"></p>
<p>åˆå¹¶<code> bugfix</code>åˆ†æ”¯åˆ°<code>master</code>åˆ†æ”¯æ—¶ï¼Œå¦‚æœ<code>master</code>åˆ†æ”¯çš„çŠ¶æ€æ²¡æœ‰è¢«æ›´æ”¹è¿‡ï¼Œå³ <code>bugfix</code>åˆ†æ”¯çš„å†å²è®°å½•åŒ…å«<code>master</code>åˆ†æ”¯æ‰€æœ‰çš„å†å²è®°å½•</p>
<p>æ‰€ä»¥é€šè¿‡æŠŠ<code>master</code>åˆ†æ”¯çš„ä½ç½®ç§»åŠ¨åˆ°<code>bugfix</code>çš„æœ€æ–°åˆ†æ”¯ä¸Šï¼Œå°±å®Œæˆåˆå¹¶</p>
<p>å¦‚æœ<code>master</code>åˆ†æ”¯çš„å†å²è®°å½•åœ¨åˆ›å»º<code>bugfix</code>åˆ†æ”¯ååˆæœ‰æ–°çš„æäº¤ï¼Œå¦‚ä¸‹æƒ…å†µï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f39323965623232302d666464342d313165622d393931642d3333346664333166303230312e706e67.png"></p>
<p>è¿™æ—¶å€™ä½¿ç”¨<code>git merge</code>çš„æ—¶å€™ï¼Œä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„æäº¤ï¼Œå¹¶ä¸”<code>master</code>åˆ†æ”¯çš„<code>HEAD</code>ä¼šç§»åŠ¨åˆ°æ–°çš„åˆ†æ”¯ä¸Šï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f39666466613365302d666464342d313165622d393931642d3333346664333166303230312e706e67.png"></p>
<p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œä¼šæŠŠä¸¤ä¸ªåˆ†æ”¯çš„æœ€æ–°å¿«ç…§ä»¥åŠäºŒè€…æœ€è¿‘çš„å…±åŒç¥–å…ˆè¿›è¡Œä¸‰æ–¹åˆå¹¶ï¼Œåˆå¹¶çš„ç»“æœæ˜¯ç”Ÿæˆä¸€ä¸ªæ–°çš„å¿«ç…§</p>
<h5 id="git-rebase-1"><a href="#git-rebase-1" class="headerlink" title="git rebase"></a>git rebase</h5><p>åŒæ ·ï¼Œ<code>master</code>åˆ†æ”¯çš„å†å²è®°å½•åœ¨åˆ›å»º<code>bugfix</code>åˆ†æ”¯ååˆæœ‰æ–°çš„æäº¤ï¼Œå¦‚ä¸‹æƒ…å†µï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f61623264353132302d666464342d313165622d626336662d3366303665313439313636342e706e67.png"></p>
<p>é€šè¿‡<code>git rebase</code>ï¼Œä¼šå˜æˆå¦‚ä¸‹æƒ…å†µï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f62373261656437302d666464342d313165622d393931642d3333346664333166303230312e706e67.png"></p>
<p>åœ¨ç§»äº¤è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå‘ç”Ÿå†²çªï¼Œéœ€è¦ä¿®æ”¹å„è‡ªçš„å†²çªï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f63396261306538302d666464342d313165622d626336662d3366303665313439313636342e706e67.png"></p>
<p><code>rebase</code>ä¹‹åï¼Œ<code>master</code>çš„<code>HEAD</code>ä½ç½®ä¸å˜ã€‚å› æ­¤ï¼Œè¦åˆå¹¶<code>master</code>åˆ†æ”¯å’Œ<code>bugfix</code>åˆ†æ”¯</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f64633636303636302d666464342d313165622d393931642d3333346664333166303230312e706e67.png"></p>
<p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œ<code>rebase</code>ä¼šæ‰¾åˆ°ä¸åŒçš„åˆ†æ”¯çš„æœ€è¿‘å…±åŒç¥–å…ˆï¼Œå¦‚ä¸Šå›¾çš„<code>B</code></p>
<p>ç„¶åå¯¹æ¯”å½“å‰åˆ†æ”¯ç›¸å¯¹äºè¯¥ç¥–å…ˆçš„å†æ¬¡æäº¤ï¼Œæå–ç›¸åº”çš„ä¿®æ”¹å¹¶å­˜ä¸ºä¸´æ—¶æ–‡ä»¶ï¼ˆè€çš„æäº¤<code>X</code>å’Œ<code>Y</code>ä¹Ÿæ²¡æœ‰è¢«é”€æ¯ï¼Œåªæ˜¯ç®€å•åœ°ä¸èƒ½å†è¢«è®¿é—®æˆ–è€…ä½¿ç”¨ï¼‰</p>
<p>ç„¶åå°†å½“å‰åˆ†æ”¯æŒ‡å‘ç›®æ ‡æœ€æ–°ä½ç½®<code>D</code>, ç„¶åå°†ä¹‹å‰å¦å­˜ä¸ºä¸´æ—¶æ–‡ä»¶çš„ä¿®æ”¹ä¾åºåº”ç”¨</p>
<h4 id="ä¸‰ã€åŒºåˆ«-3"><a href="#ä¸‰ã€åŒºåˆ«-3" class="headerlink" title="ä¸‰ã€åŒºåˆ«"></a>ä¸‰ã€åŒºåˆ«</h4><p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œ<code>merge</code>å’Œ<code>rebasea</code>éƒ½æ˜¯åˆå¹¶å†å²è®°å½•ï¼Œä½†æ˜¯å„è‡ªç‰¹æ€§ä¸åŒï¼š</p>
<h5 id="merge"><a href="#merge" class="headerlink" title="merge"></a>merge</h5><p>é€šè¿‡<code>merge</code>åˆå¹¶åˆ†æ”¯ä¼šæ–°å¢ä¸€ä¸ª<code>merge commit</code>ï¼Œç„¶åå°†ä¸¤ä¸ªåˆ†æ”¯çš„å†å²è”ç³»èµ·æ¥</p>
<p>å…¶å®æ˜¯ä¸€ç§éç ´åæ€§çš„æ“ä½œï¼Œå¯¹ç°æœ‰åˆ†æ”¯ä¸ä¼šä»¥ä»»ä½•æ–¹å¼è¢«æ›´æ”¹ï¼Œä½†æ˜¯ä¼šå¯¼è‡´å†å²è®°å½•ç›¸å¯¹å¤æ‚</p>
<h5 id="rebase"><a href="#rebase" class="headerlink" title="rebase"></a>rebase</h5><p><code>rebase </code>ä¼šå°†æ•´ä¸ªåˆ†æ”¯ç§»åŠ¨åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ä¸Šï¼Œæœ‰æ•ˆåœ°æ•´åˆäº†æ‰€æœ‰åˆ†æ”¯ä¸Šçš„æäº¤</p>
<p>ä¸»è¦çš„å¥½å¤„æ˜¯å†å²è®°å½•æ›´åŠ æ¸…æ™°ï¼Œæ˜¯åœ¨åŸæœ‰æäº¤çš„åŸºç¡€ä¸Šå°†å·®å¼‚å†…å®¹åæ˜ è¿›å»ï¼Œæ¶ˆé™¤äº† <code>git merge</code>æ‰€éœ€çš„ä¸å¿…è¦çš„åˆå¹¶æäº¤</p>
<h3 id="git-å‘ç”Ÿå†²çªçš„åœºæ™¯ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ"><a href="#git-å‘ç”Ÿå†²çªçš„åœºæ™¯ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ" class="headerlink" title="git å‘ç”Ÿå†²çªçš„åœºæ™¯ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ"></a>git å‘ç”Ÿå†²çªçš„åœºæ™¯ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-5"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-5" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå‡ºç°åˆ†æ”¯çš„åœºæ™¯æœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>å¤šä¸ªåˆ†æ”¯ä»£ç åˆå¹¶åˆ°ä¸€ä¸ªåˆ†æ”¯æ—¶</li>
<li>å¤šä¸ªåˆ†æ”¯å‘åŒä¸€ä¸ªè¿œç«¯åˆ†æ”¯æ¨é€</li>
</ul>
<p>å…·ä½“æƒ…å†µå°±æ˜¯ï¼Œå¤šä¸ªåˆ†æ”¯ä¿®æ”¹äº†åŒä¸€ä¸ªæ–‡ä»¶ï¼ˆä»»ä½•åœ°æ–¹ï¼‰æˆ–è€…å¤šä¸ªåˆ†æ”¯ä¿®æ”¹äº†åŒä¸€ä¸ªæ–‡ä»¶çš„åç§°</p>
<p>å¦‚æœä¸¤ä¸ªåˆ†æ”¯ä¸­åˆ†åˆ«ä¿®æ”¹äº†ä¸åŒæ–‡ä»¶ä¸­çš„éƒ¨åˆ†ï¼Œæ˜¯ä¸ä¼šäº§ç”Ÿå†²çªï¼Œç›´æ¥åˆå¹¶å³å¯</p>
<p>åº”ç”¨åœ¨å‘½ä»¤ä¸­ï¼Œå°±æ˜¯<code>push</code>ã€<code>pull</code>ã€<code>stash</code>ã€<code>rebase</code>ç­‰å‘½ä»¤ä¸‹éƒ½æœ‰å¯èƒ½äº§ç”Ÿå†²çªæƒ…å†µï¼Œä»æœ¬è´¨ä¸Šæ¥è®²ï¼Œéƒ½æ˜¯<code>merge</code>å’Œ<code>patch</code>ï¼ˆåº”ç”¨è¡¥ä¸ï¼‰æ—¶äº§ç”Ÿå†²çª</p>
<h4 id="äºŒã€åˆ†æ-1"><a href="#äºŒã€åˆ†æ-1" class="headerlink" title="äºŒã€åˆ†æ"></a>äºŒã€åˆ†æ</h4><p>åœ¨æœ¬åœ°ä¸»åˆ†å€¼<code>master</code>åˆ›å»ºä¸€ä¸ª<code>a.txt</code>æ–‡ä»¶ï¼Œæ–‡ä»¶èµ·å§‹ä½ç½®å†™ä¸Š<code>master commit</code>ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f39353961646532302d666462332d313165622d393931642d3333346664333166303230312e706e67.png"></p>
<p>ç„¶åæäº¤åˆ°ä»“åº“ï¼š</p>
<ul>
<li>git add a.txt</li>
<li>git commit -m â€˜master first commitâ€™</li>
</ul>
<p>åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯<code>featurel1</code>åˆ†æ”¯ï¼Œå¹¶è¿›è¡Œåˆ‡æ¢ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="ini">git checkout -b featurel1
</code></pre>
<p>ç„¶åä¿®æ”¹<code>a.txt</code>æ–‡ä»¶é¦–è¡Œæ–‡å­—ä¸º <code>featurel commit</code>ï¼Œç„¶åæ·»åŠ åˆ°æš‚å­˜åŒºï¼Œå¹¶å¼€å§‹è¿›è¡Œæäº¤åˆ°ä»“åº“ï¼š</p>
<ul>
<li>git add a.txt</li>
<li>git commit -m â€˜featurel first changeâ€™</li>
</ul>
<p>ç„¶åé€šè¿‡<code>git checkout master</code>åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯ï¼Œé€šè¿‡<code>git merge</code>è¿›è¡Œåˆå¹¶ï¼Œå‘ç°ä¸ä¼šå†²çª</p>
<p>æ­¤æ—¶<code>a.txt</code>æ–‡ä»¶çš„å†…å®¹å˜æˆ<code>featurel commit</code>ï¼Œæ²¡æœ‰å‡ºç°å†²çªæƒ…å†µï¼Œè¿™æ˜¯å› ä¸º<code>git</code>åœ¨å†…éƒ¨å‘ç”Ÿäº†å¿«é€Ÿåˆå¹¶</p>
<blockquote>
<p>å¦‚æœå½“å‰åˆ†æ”¯çš„æ¯ä¸€ä¸ªæäº¤(commit)éƒ½å·²ç»å­˜åœ¨å¦ä¸€ä¸ªåˆ†æ”¯é‡Œäº†ï¼Œgit å°±ä¼šæ‰§è¡Œä¸€ä¸ªâ€œå¿«é€Ÿå‘å‰â€(fast forward)æ“ä½œ</p>
<p>git ä¸åˆ›å»ºä»»ä½•æ–°çš„æäº¤(commit)ï¼Œåªæ˜¯å°†å½“å‰åˆ†æ”¯æŒ‡å‘åˆå¹¶è¿›æ¥çš„åˆ†æ”¯</p>
</blockquote>
<p>å¦‚æœæ­¤æ—¶åˆ‡æ¢åˆ°<code>featurel</code>åˆ†æ”¯ï¼Œå°†æ–‡ä»¶çš„å†…å®¹ä¿®æ”¹æˆ<code>featrue second commit</code>ï¼Œç„¶åæäº¤åˆ°æœ¬åœ°ä»“åº“</p>
<p>ç„¶ååˆ‡æ¢åˆ°ä¸»åˆ†æ”¯ï¼Œå¦‚æœæ­¤æ—¶åœ¨<code>a.txt</code>æ–‡ä»¶å†æ¬¡ä¿®æ”¹ï¼Œä¿®æ”¹æˆ<code>mastet second commit</code>ï¼Œç„¶åå†æ¬¡æäº¤åˆ°æœ¬åœ°ä»“åº“</p>
<p>æ­¤æ—¶ï¼Œ<code>master</code>åˆ†æ”¯å’Œ<code>feature1</code>åˆ†æ”¯å„è‡ªéƒ½åˆ†åˆ«æœ‰æ–°çš„æäº¤ï¼Œå˜æˆäº†ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f61303534383863302d666462332d313165622d393931642d3333346664333166303230312e706e67.png"></p>
<p>è¿™ç§æƒ…å†µä¸‹ï¼Œæ— æ³•æ‰§è¡Œå¿«é€Ÿåˆå¹¶ï¼Œåªèƒ½è¯•å›¾æŠŠå„è‡ªçš„ä¿®æ”¹åˆå¹¶èµ·æ¥ï¼Œä½†è¿™ç§åˆå¹¶å°±å¯èƒ½ä¼šæœ‰å†²çª</p>
<p>ç°åœ¨é€šè¿‡<code>git merge featurel</code>è¿›è¡Œåˆ†æ”¯åˆå¹¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f62303939316439302d666462332d313165622d626336662d3366303665313439313636342e706e67.png"></p>
<p>ä»å†²çªä¿¡æ¯å¯ä»¥çœ‹åˆ°ï¼Œ<code>a.txt</code>å‘ç”Ÿå†²çªï¼Œå¿…é¡»æ‰‹åŠ¨è§£å†³å†²çªä¹‹åå†æäº¤</p>
<p>è€Œ<code>git status</code>åŒæ ·å¯ä»¥å‘ŠçŸ¥æˆ‘ä»¬å†²çªçš„æ–‡ä»¶ï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f63353832333433302d666462332d313165622d393931642d3333346664333166303230312e706e67.png"></p>
<p>æ‰“å¼€<code>a.txt</code>æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹å†…å®¹ï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f63653761306139302d666462332d313165622d626336662d3366303665313439313636342e706e67.png"></p>
<p><code>git</code>ç”¨<code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>ï¼Œ<code>=======</code>ï¼Œ<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>æ ‡è®°å‡ºä¸åŒåˆ†æ”¯çš„å†…å®¹ï¼š</p>
<ul>
<li>&lt;&lt;&lt;&lt;&lt;&lt;&lt; å’Œ &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; ä¹‹é—´çš„åŒºåŸŸå°±æ˜¯å½“å‰æ›´æ”¹çš„å†…å®¹</li>
<li>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; å’Œ &gt;&gt;&gt;&gt;&gt;&gt;&gt; ä¹‹é—´çš„åŒºåŸŸå°±æ˜¯ä¼ å…¥è¿›æ¥æ›´æ”¹çš„å†…å®¹</li>
</ul>
<p>ç°åœ¨è¦åšçš„äº‹æƒ…å°±æ˜¯å°†å†²çªçš„å†…å®¹è¿›è¡Œæ›´æ”¹ï¼Œå¯¹æ¯ä¸ªæ–‡ä»¶ä½¿ç”¨ <code>git add</code> å‘½ä»¤æ¥å°†å…¶æ ‡è®°ä¸ºå†²çªå·²è§£å†³ã€‚ ä¸€æ—¦æš‚å­˜è¿™äº›åŸæœ¬æœ‰å†²çªçš„æ–‡ä»¶ï¼Œ<code>Git </code>å°±ä¼šå°†å®ƒä»¬æ ‡è®°ä¸ºå†²çªå·²è§£å†³ç„¶åå†æäº¤ï¼š</p>
<ul>
<li>git add a.txt</li>
<li>git commit -m â€œconflict fixedâ€</li>
</ul>
<p>æ­¤æ—¶<code>master</code>åˆ†æ”¯å’Œ<code>feature1</code>åˆ†æ”¯å˜æˆäº†ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f64373432316536302d666462332d313165622d626336662d3366303665313439313636342e706e67.png"></p>
<p>ä½¿ç”¨<code>git log</code>å‘½ä»¤å¯ä»¥çœ‹åˆ°åˆå¹¶çš„ä¿¡æ¯ï¼š</p>
<h4 id=""><a href="#" class="headerlink" title=""></a><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65306466643162302d666462332d313165622d393931642d3333346664333166303230312e706e67.png"></h4><h4 id="ä¸‰ã€æ€»ç»“-1"><a href="#ä¸‰ã€æ€»ç»“-1" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h4><p>å½“<code>Git</code>æ— æ³•è‡ªåŠ¨åˆå¹¶åˆ†æ”¯æ—¶ï¼Œå°±å¿…é¡»é¦–å…ˆè§£å†³å†²çªï¼Œè§£å†³å†²çªåï¼Œå†æäº¤ï¼Œåˆå¹¶å®Œæˆ</p>
<p>è§£å†³å†²çªå°±æ˜¯æŠŠ<code>Git</code>åˆå¹¶å¤±è´¥çš„æ–‡ä»¶æ‰‹åŠ¨ç¼–è¾‘ä¸ºæˆ‘ä»¬å¸Œæœ›çš„å†…å®¹ï¼Œå†æäº¤</p>
<h3 id="å¯¹git-reset-å’Œ-git-revert-çš„ç†è§£ï¼ŸåŒºåˆ«ï¼Ÿ"><a href="#å¯¹git-reset-å’Œ-git-revert-çš„ç†è§£ï¼ŸåŒºåˆ«ï¼Ÿ" class="headerlink" title="å¯¹git reset å’Œ git revert çš„ç†è§£ï¼ŸåŒºåˆ«ï¼Ÿ"></a>å¯¹git reset å’Œ git revert çš„ç†è§£ï¼ŸåŒºåˆ«ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-6"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-6" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><h5 id="git-reset"><a href="#git-reset" class="headerlink" title="git reset"></a>git reset</h5><p><code>reset</code>ç”¨äºå›é€€ç‰ˆæœ¬ï¼Œå¯ä»¥é—å¼ƒä¸å†ä½¿ç”¨çš„æäº¤</p>
<p>æ‰§è¡Œé—å¼ƒæ—¶ï¼Œéœ€è¦æ ¹æ®å½±å“çš„èŒƒå›´è€ŒæŒ‡å®šä¸åŒçš„å‚æ•°ï¼Œå¯ä»¥æŒ‡å®šæ˜¯å¦å¤åŸç´¢å¼•æˆ–å·¥ä½œæ ‘å†…å®¹</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f61623464306330302d666637322d313165622d626336662d3366303665313439313636342e706e67.png"></p>
<h5 id="git-revert"><a href="#git-revert" class="headerlink" title="git revert"></a>git revert</h5><p>åœ¨å½“å‰æäº¤åé¢ï¼Œæ–°å¢ä¸€æ¬¡æäº¤ï¼ŒæŠµæ¶ˆæ‰ä¸Šä¸€æ¬¡æäº¤å¯¼è‡´çš„æ‰€æœ‰å˜åŒ–ï¼Œä¸ä¼šæ”¹å˜è¿‡å»çš„å†å²ï¼Œä¸»è¦æ˜¯ç”¨äºå®‰å…¨åœ°å–æ¶ˆè¿‡å»å‘å¸ƒçš„æäº¤</p>
<p><a href="https://camo.githubusercontent.com/e14636346aeadfa4f5766d89196355a3ff8fd0edadd8b74bd5803cdab3312e60/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f62643132633239302d666637322d313165622d393931642d3333346664333166303230312e706e67"><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f62643132633239302d666637322d313165622d393931642d3333346664333166303230312e706e67.png" alt="img"></a></p>
<h4 id="äºŒã€å¦‚ä½•ç”¨"><a href="#äºŒã€å¦‚ä½•ç”¨" class="headerlink" title="äºŒã€å¦‚ä½•ç”¨"></a>äºŒã€å¦‚ä½•ç”¨</h4><h5 id="git-reset-1"><a href="#git-reset-1" class="headerlink" title="git reset"></a>git reset</h5><p>å½“æ²¡æœ‰æŒ‡å®š<code>ID</code>çš„æ—¶å€™ï¼Œé»˜è®¤ä½¿ç”¨<code>HEAD</code>ï¼Œå¦‚æœæŒ‡å®š<code>ID</code>ï¼Œé‚£ä¹ˆå°±æ˜¯åŸºäºæŒ‡å‘<code>ID</code>å»å˜åŠ¨æš‚å­˜åŒºæˆ–å·¥ä½œåŒºçš„å†…å®¹</p>
<pre><code class="ini">// æ²¡æœ‰æŒ‡å®šID, æš‚å­˜åŒºçš„å†…å®¹ä¼šè¢«å½“å‰IDç‰ˆæœ¬å·çš„å†…å®¹è¦†ç›–ï¼Œå·¥ä½œåŒºä¸å˜
git reset

// æŒ‡å®šIDï¼Œæš‚å­˜åŒºçš„å†…å®¹ä¼šè¢«æŒ‡å®šIDç‰ˆæœ¬å·çš„å†…å®¹è¦†ç›–ï¼Œå·¥ä½œåŒºä¸å˜
git reset &lt;ID&gt; 
</code></pre>
<p>æ—¥å¿—<code>ID</code>å¯ä»¥é€šè¿‡æŸ¥è¯¢ï¼Œå¯ä»¥<code>git log</code>è¿›è¡ŒæŸ¥è¯¢ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="ini">commit a7700083ace1204ccdff9f71631fb34c9913f7c5 (HEAD -&gt; master)
Author: linguanghui &lt;linguanghui@baidu.com&gt;
Date:   Tue Aug 17 22:34:40 2021 +0800

    second commit

commit e31118663ce66717edd8a179688a7f3dde5a9393
Author: linguanghui &lt;linguanghui@baidu.com&gt;
Date:   Tue Aug 17 22:20:01 2021 +0800

    first commit
</code></pre>
<p>å¸¸è§å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<ul>
<li>â€“mixedï¼ˆé»˜è®¤ï¼‰ï¼šé»˜è®¤çš„æ—¶å€™ï¼Œåªæœ‰æš‚å­˜åŒºå˜åŒ–</li>
<li>â€“hardå‚æ•°ï¼šå¦‚æœä½¿ç”¨ â€“hard å‚æ•°ï¼Œé‚£ä¹ˆå·¥ä½œåŒºä¹Ÿä¼šå˜åŒ–</li>
<li>â€“softï¼šå¦‚æœä½¿ç”¨ â€“soft å‚æ•°ï¼Œé‚£ä¹ˆæš‚å­˜åŒºå’Œå·¥ä½œåŒºéƒ½ä¸ä¼šå˜åŒ–</li>
</ul>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8git/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f32323562343165302d666637332d313165622d626336662d3366303665313439313636342e706e67.png"></p>
<h5 id="git-revert-1"><a href="#git-revert-1" class="headerlink" title="git revert"></a>git revert</h5><p>è·Ÿ<code>git reset</code>ç”¨æ³•åŸºæœ¬ä¸€è‡´ï¼Œ<code>git revert</code> æ’¤é”€æŸæ¬¡æ“ä½œï¼Œæ­¤æ¬¡æ“ä½œä¹‹å‰å’Œä¹‹åçš„ <code>commit</code>å’Œ<code>history</code>éƒ½ä¼šä¿ç•™ï¼Œå¹¶ä¸”æŠŠè¿™æ¬¡æ’¤é”€ï¼Œä½œä¸ºä¸€æ¬¡æœ€æ–°çš„æäº¤ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="ini">git revert &lt;commit_id&gt; 
</code></pre>
<p>å¦‚æœæ’¤é”€å‰ä¸€ä¸ªç‰ˆæœ¬ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="ini">git revert HEAD
</code></pre>
<p>æ’¤é”€å‰å‰ä¸€æ¬¡ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="ini">git revert HEAD^
</code></pre>
<h4 id="ä¸‰ã€åŒºåˆ«-4"><a href="#ä¸‰ã€åŒºåˆ«-4" class="headerlink" title="ä¸‰ã€åŒºåˆ«"></a>ä¸‰ã€åŒºåˆ«</h4><p>æ’¤é”€ï¼ˆrevertï¼‰è¢«è®¾è®¡ä¸ºæ’¤é”€å…¬å¼€çš„æäº¤ï¼ˆæ¯”å¦‚å·²ç»pushï¼‰çš„å®‰å…¨æ–¹å¼ï¼Œ<code>git reset</code>è¢«è®¾è®¡ä¸ºé‡è®¾æœ¬åœ°æ›´æ”¹</p>
<p>å› ä¸ºä¸¤ä¸ªå‘½ä»¤çš„ç›®çš„ä¸åŒï¼Œå®ƒä»¬çš„å®ç°ä¹Ÿä¸ä¸€æ ·ï¼šé‡è®¾å®Œå…¨åœ°ç§»é™¤äº†ä¸€å †æ›´æ”¹ï¼Œè€Œæ’¤é”€ä¿ç•™äº†åŸæ¥çš„æ›´æ”¹ï¼Œç”¨ä¸€ä¸ªæ–°çš„æäº¤æ¥å®ç°æ’¤é”€</p>
<p>ä¸¤è€…ä¸»è¦åŒºåˆ«å¦‚ä¸‹ï¼š</p>
<ul>
<li>git revertæ˜¯ç”¨ä¸€æ¬¡æ–°çš„commitæ¥å›æ»šä¹‹å‰çš„commitï¼Œgit resetæ˜¯ç›´æ¥åˆ é™¤æŒ‡å®šçš„commit</li>
<li>git reset æ˜¯æŠŠHEADå‘åç§»åŠ¨äº†ä¸€ä¸‹ï¼Œè€Œgit revertæ˜¯HEADç»§ç»­å‰è¿›ï¼Œåªæ˜¯æ–°çš„commitçš„å†…å®¹å’Œè¦revertçš„å†…å®¹æ­£å¥½ç›¸åï¼Œèƒ½å¤ŸæŠµæ¶ˆè¦è¢«revertçš„å†…å®¹</li>
<li>åœ¨å›æ»šè¿™ä¸€æ“ä½œä¸Šçœ‹ï¼Œæ•ˆæœå·®ä¸å¤šã€‚ä½†æ˜¯åœ¨æ—¥åç»§ç»­ merge ä»¥å‰çš„è€ç‰ˆæœ¬æ—¶æœ‰åŒºåˆ«</li>
</ul>
<blockquote>
<p>git revertæ˜¯ç”¨ä¸€æ¬¡é€†å‘çš„commitâ€œä¸­å’Œâ€ä¹‹å‰çš„æäº¤ï¼Œå› æ­¤æ—¥ååˆå¹¶è€çš„branchæ—¶ï¼Œä¹‹å‰æäº¤åˆå¹¶çš„ä»£ç ä»ç„¶å­˜åœ¨ï¼Œå¯¼è‡´ä¸èƒ½å¤Ÿé‡æ–°åˆå¹¶</p>
<p>ä½†æ˜¯git resetæ˜¯ä¹‹é—´æŠŠæŸäº›commitåœ¨æŸä¸ªbranchä¸Šåˆ é™¤ï¼Œå› è€Œå’Œè€çš„branchå†æ¬¡mergeæ—¶ï¼Œè¿™äº›è¢«å›æ»šçš„commitåº”è¯¥è¿˜ä¼šè¢«å¼•å…¥</p>
</blockquote>
<ul>
<li>å¦‚æœå›é€€åˆ†æ”¯çš„ä»£ç ä»¥åè¿˜éœ€è¦çš„æƒ…å†µåˆ™ä½¿ç”¨<code>git revert</code>ï¼Œ å¦‚æœåˆ†æ”¯æ˜¯æé”™äº†æ²¡ç”¨çš„å¹¶ä¸”ä¸æƒ³è®©åˆ«äººå‘ç°è¿™äº›é”™è¯¯ä»£ç ï¼Œåˆ™ä½¿ç”¨<code>git reset</code></li>
</ul>
<p>å‚è€ƒæ–‡çŒ®ï¼š</p>
<p>[è¯­éŸ³ä»“åº“]: 	â€œ<a href="https://github.com/febobo/web-interview">https://github.com/febobo/web-interview</a> â€œ</p>
]]></content>
      <categories>
        <category>æŠ€æœ¯é¢è¯•</category>
        <category>gitæ“ä½œ</category>
      </categories>
      <tags>
        <tag>mians</tag>
        <tag>ä»£ç ç‰ˆæœ¬æ§åˆ¶</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯é¢è¯•å¤§å…¨è®¾è®¡æ¨¡å¼</title>
    <url>/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆè®¾è®¡æ¨¡å¼ï¼‰"><a href="#å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆè®¾è®¡æ¨¡å¼ï¼‰" class="headerlink" title="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆè®¾è®¡æ¨¡å¼ï¼‰"></a>å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆè®¾è®¡æ¨¡å¼ï¼‰</h1><p>å‰ç«¯é¢è¯•é¢˜ç±»ç›®åˆ†ç±»</p>
<ul>
<li>HTML5 + CSS3</li>
<li>JavaScript</li>
<li>Vue + Vue3</li>
<li>React</li>
<li>Webpack</li>
<li>æœåŠ¡ç«¯</li>
</ul>
<hr>
<p>è€ƒç‚¹é¢‘ç‡ ï¼šâ™¥ï¸ ã€ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸</p>
<h2 id="è®¾è®¡æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼</h2><h3 id="ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼"><a href="#ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼" class="headerlink" title="ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼"></a>ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼</h3><ul>
<li>è®¾è®¡æ¨¡å¼ï¼Œæ˜¯ä¸€å¥—è¢«åå¤ä½¿ç”¨ã€å¤šæ•°äººçŸ¥æ™“çš„ã€ç»è¿‡åˆ†ç±»ç¼–ç›®çš„ã€ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“ã€‚ä½¿ç”¨è®¾è®¡æ¨¡å¼æ˜¯ä¸ºäº†å¯é‡ç”¨ä»£ç ã€è®©ä»£ç æ›´å®¹æ˜“è¢«ä»–äººç†è§£ã€ä¿è¯ä»£ç å¯é æ€§ã€ç¨‹åºçš„é‡ç”¨æ€§ã€‚</li>
</ul>
<h3 id="ä¸ºä»€ä¹ˆè¦å­¦ä¹ è®¾è®¡æ¨¡å¼"><a href="#ä¸ºä»€ä¹ˆè¦å­¦ä¹ è®¾è®¡æ¨¡å¼" class="headerlink" title="ä¸ºä»€ä¹ˆè¦å­¦ä¹ è®¾è®¡æ¨¡å¼"></a>ä¸ºä»€ä¹ˆè¦å­¦ä¹ è®¾è®¡æ¨¡å¼</h3><ul>
<li>çœ‹æ‡‚æºä»£ç ï¼šå¦‚æœä½ ä¸æ‡‚è®¾è®¡æ¨¡å¼å»çœ‹Jdkã€Springã€SpringMVCã€IOç­‰ç­‰ç­‰ç­‰çš„æºç ï¼Œä½ ä¼šå¾ˆè¿·èŒ«ï¼Œä½ ä¼šå¯¸æ­¥éš¾è¡Œ</li>
<li>çœ‹çœ‹å‰è¾ˆçš„ä»£ç ï¼šä½ å»ä¸ªå…¬å¸éš¾é“éƒ½æ˜¯æ–°é¡¹ç›®è®©ä½ æ¥æ‰‹ï¼Ÿå¾ˆæœ‰å¯èƒ½æ˜¯æ¥ç›˜çš„ï¼Œå‰è¾ˆçš„å¼€å‘éš¾é“ä¸ç”¨è®¾è®¡æ¨¡å¼ï¼Ÿ</li>
<li>ç¼–å†™è‡ªå·±çš„ç†æƒ³ä¸­çš„å¥½ä»£ç ï¼šæˆ‘ä¸ªäººåæ­£æ˜¯è¿™æ ·çš„ï¼Œå¯¹äºæˆ‘è‡ªå·±å¼€å‘çš„é¡¹ç›®æˆ‘ä¼šå¾ˆè®¤çœŸï¼Œæˆ‘å¯¹ä»–æ¯”å¯¹æˆ‘å¥³æœ‹å‹è¿˜å¥½ï¼ŒæŠŠé¡¹ç›®å½“æˆè‡ªå·±çš„å„¿å­ä¸€æ ·</li>
</ul>
<h3 id="è®¾è®¡æ¨¡å¼åˆ†ç±»"><a href="#è®¾è®¡æ¨¡å¼åˆ†ç±»" class="headerlink" title="è®¾è®¡æ¨¡å¼åˆ†ç±»"></a>è®¾è®¡æ¨¡å¼åˆ†ç±»</h3><p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/17172acfe20b2d2d~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.png"></p>
<ul>
<li>åˆ›å»ºå‹æ¨¡å¼ï¼Œå…±äº”ç§ï¼šå·¥å‚æ–¹æ³•æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼<strong>ã€</strong>å•ä¾‹æ¨¡å¼ã€å»ºé€ è€…æ¨¡å¼ã€åŸå‹æ¨¡å¼ã€‚</li>
<li>ç»“æ„å‹æ¨¡å¼ï¼Œå…±ä¸ƒç§ï¼šé€‚é…å™¨æ¨¡å¼ã€è£…é¥°å™¨æ¨¡å¼ã€ä»£ç†æ¨¡å¼ã€å¤–è§‚æ¨¡å¼ã€æ¡¥æ¥æ¨¡å¼ã€ç»„åˆæ¨¡å¼ã€äº«å…ƒæ¨¡å¼ã€‚</li>
<li>è¡Œä¸ºå‹æ¨¡å¼ï¼Œå…±åä¸€ç§ï¼šç­–ç•¥æ¨¡å¼ã€æ¨¡æ¿æ–¹æ³•æ¨¡å¼ã€è§‚å¯Ÿè€…æ¨¡å¼ã€è¿­ä»£å­æ¨¡å¼ã€è´£ä»»é“¾æ¨¡å¼ã€å‘½ä»¤æ¨¡å¼ã€å¤‡å¿˜å½•æ¨¡å¼ã€çŠ¶æ€æ¨¡å¼ã€è®¿é—®è€…æ¨¡å¼ã€ä¸­ä»‹è€…æ¨¡å¼ã€è§£é‡Šå™¨æ¨¡å¼ã€‚</li>
</ul>
<h3 id="è®¾è®¡æ¨¡å¼çš„å…­å¤§åŸåˆ™"><a href="#è®¾è®¡æ¨¡å¼çš„å…­å¤§åŸåˆ™" class="headerlink" title="è®¾è®¡æ¨¡å¼çš„å…­å¤§åŸåˆ™"></a>è®¾è®¡æ¨¡å¼çš„å…­å¤§åŸåˆ™</h3><p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/17172acff10be430~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.jpeg"></p>
<h4 id="å¼€æ”¾å°é—­åŸåˆ™ï¼ˆOpen-Close-Principleï¼‰"><a href="#å¼€æ”¾å°é—­åŸåˆ™ï¼ˆOpen-Close-Principleï¼‰" class="headerlink" title="å¼€æ”¾å°é—­åŸåˆ™ï¼ˆOpen Close Principleï¼‰"></a>å¼€æ”¾å°é—­åŸåˆ™ï¼ˆOpen Close Principleï¼‰</h4><ul>
<li>åŸåˆ™æ€æƒ³ï¼šå°½é‡é€šè¿‡æ‰©å±•è½¯ä»¶å®ä½“æ¥è§£å†³éœ€æ±‚å˜åŒ–ï¼Œè€Œä¸æ˜¯é€šè¿‡ä¿®æ”¹å·²æœ‰çš„ä»£ç æ¥å®Œæˆå˜åŒ–</li>
<li>æè¿°ï¼šä¸€ä¸ªè½¯ä»¶äº§å“åœ¨ç”Ÿå‘½å‘¨æœŸå†…ï¼Œéƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œæ—¢ç„¶å˜åŒ–æ˜¯ä¸€ä¸ªæ—¢å®šçš„äº‹å®ï¼Œæˆ‘ä»¬å°±åº”è¯¥åœ¨è®¾è®¡çš„æ—¶å€™å°½é‡é€‚åº”è¿™äº›å˜åŒ–ï¼Œä»¥æé«˜é¡¹ç›®çš„ç¨³å®šæ€§å’Œçµæ´»æ€§ã€‚</li>
<li>ä¼˜ç‚¹ï¼šå•ä¸€åŸåˆ™å‘Šè¯‰æˆ‘ä»¬ï¼Œæ¯ä¸ªç±»éƒ½æœ‰è‡ªå·±è´Ÿè´£çš„èŒè´£ï¼Œé‡Œæ°æ›¿æ¢åŸåˆ™ä¸èƒ½ç ´åç»§æ‰¿å…³ç³»çš„ä½“ç³»ã€‚</li>
</ul>
<h4 id="é‡Œæ°ä»£æ¢åŸåˆ™ï¼ˆLiskov-Substitution-Principleï¼‰"><a href="#é‡Œæ°ä»£æ¢åŸåˆ™ï¼ˆLiskov-Substitution-Principleï¼‰" class="headerlink" title="é‡Œæ°ä»£æ¢åŸåˆ™ï¼ˆLiskov Substitution Principleï¼‰"></a>é‡Œæ°ä»£æ¢åŸåˆ™ï¼ˆLiskov Substitution Principleï¼‰</h4><ul>
<li>åŸåˆ™æ€æƒ³ï¼šä½¿ç”¨çš„åŸºç±»å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ç»§æ‰¿çš„å­ç±»ï¼Œå®Œç¾çš„æ›¿æ¢åŸºç±»ã€‚</li>
<li>å¤§æ¦‚æ„æ€æ˜¯ï¼šå­ç±»å¯ä»¥æ‰©å±•çˆ¶ç±»çš„åŠŸèƒ½ï¼Œä½†ä¸èƒ½æ”¹å˜çˆ¶ç±»åŸæœ‰çš„åŠŸèƒ½ã€‚å­ç±»å¯ä»¥å®ç°çˆ¶ç±»çš„æŠ½è±¡æ–¹æ³•ï¼Œä½†ä¸èƒ½è¦†ç›–çˆ¶ç±»çš„éæŠ½è±¡æ–¹æ³•ï¼Œå­ç±»ä¸­å¯ä»¥å¢åŠ è‡ªå·±ç‰¹æœ‰çš„æ–¹æ³•ã€‚</li>
<li>ä¼˜ç‚¹ï¼šå¢åŠ ç¨‹åºçš„å¥å£®æ€§ï¼Œå³ä½¿å¢åŠ äº†å­ç±»ï¼ŒåŸæœ‰çš„å­ç±»è¿˜å¯ä»¥ç»§ç»­è¿è¡Œï¼Œäº’ä¸å½±å“ã€‚</li>
</ul>
<h4 id="ä¾èµ–å€’è½¬åŸåˆ™ï¼ˆDependence-Inversion-Principleï¼‰"><a href="#ä¾èµ–å€’è½¬åŸåˆ™ï¼ˆDependence-Inversion-Principleï¼‰" class="headerlink" title="ä¾èµ–å€’è½¬åŸåˆ™ï¼ˆDependence Inversion Principleï¼‰"></a>ä¾èµ–å€’è½¬åŸåˆ™ï¼ˆDependence Inversion Principleï¼‰</h4><ul>
<li>ä¾èµ–å€’ç½®åŸåˆ™çš„æ ¸å¿ƒæ€æƒ³æ˜¯é¢å‘æ¥å£ç¼–ç¨‹.</li>
<li>ä¾èµ–å€’è½¬åŸåˆ™è¦æ±‚æˆ‘ä»¬åœ¨ç¨‹åºä»£ç ä¸­ä¼ é€’å‚æ•°æ—¶æˆ–åœ¨å…³è”å…³ç³»ä¸­ï¼Œå°½é‡å¼•ç”¨å±‚æ¬¡é«˜çš„æŠ½è±¡å±‚ç±»ï¼Œ</li>
<li>è¿™ä¸ªæ˜¯å¼€æ”¾å°é—­åŸåˆ™çš„åŸºç¡€ï¼Œå…·ä½“å†…å®¹æ˜¯ï¼šå¯¹æ¥å£ç¼–ç¨‹ï¼Œä¾èµ–äºæŠ½è±¡è€Œä¸ä¾èµ–äºå…·ä½“ã€‚</li>
</ul>
<h4 id="æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface-Segregation-Principleï¼‰"><a href="#æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface-Segregation-Principleï¼‰" class="headerlink" title="æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface Segregation Principleï¼‰"></a>æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface Segregation Principleï¼‰</h4><ul>
<li>è¿™ä¸ªåŸåˆ™çš„æ„æ€æ˜¯ï¼šä½¿ç”¨å¤šä¸ªéš”ç¦»çš„æ¥å£ï¼Œæ¯”ä½¿ç”¨å•ä¸ªæ¥å£è¦å¥½ã€‚è¿˜æ˜¯ä¸€ä¸ªé™ä½ç±»ä¹‹é—´çš„è€¦åˆåº¦çš„æ„æ€ï¼Œä»è¿™å„¿æˆ‘ä»¬çœ‹å‡ºï¼Œå…¶å®è®¾è®¡æ¨¡å¼å°±æ˜¯ä¸€ä¸ªè½¯ä»¶çš„è®¾è®¡æ€æƒ³ï¼Œä»å¤§å‹è½¯ä»¶æ¶æ„å‡ºå‘ï¼Œä¸ºäº†å‡çº§å’Œç»´æŠ¤æ–¹ä¾¿ã€‚æ‰€ä»¥ä¸Šæ–‡ä¸­å¤šæ¬¡å‡ºç°ï¼šé™ä½ä¾èµ–ï¼Œé™ä½è€¦åˆã€‚</li>
<li>ä¾‹å¦‚ï¼šæ”¯ä»˜ç±»çš„æ¥å£å’Œè®¢å•ç±»çš„æ¥å£ï¼Œéœ€è¦æŠŠè¿™ä¿©ä¸ªç±»åˆ«çš„æ¥å£å˜æˆä¿©ä¸ªéš”ç¦»çš„æ¥å£</li>
</ul>
<h4 id="è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆæœ€å°‘çŸ¥é“åŸåˆ™ï¼‰ï¼ˆDemeter-Principleï¼‰"><a href="#è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆæœ€å°‘çŸ¥é“åŸåˆ™ï¼‰ï¼ˆDemeter-Principleï¼‰" class="headerlink" title="è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆæœ€å°‘çŸ¥é“åŸåˆ™ï¼‰ï¼ˆDemeter Principleï¼‰"></a>è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆæœ€å°‘çŸ¥é“åŸåˆ™ï¼‰ï¼ˆDemeter Principleï¼‰</h4><ul>
<li>åŸåˆ™æ€æƒ³ï¼šä¸€ä¸ªå¯¹è±¡åº”å½“å¯¹å…¶ä»–å¯¹è±¡æœ‰å°½å¯èƒ½å°‘åœ°äº†è§£ï¼Œç®€ç§°ç±»é—´è§£è€¦</li>
<li>å¤§æ¦‚æ„æ€å°±æ˜¯ä¸€ä¸ªç±»å°½é‡å‡å°‘è‡ªå·±å¯¹å…¶ä»–å¯¹è±¡çš„ä¾èµ–ï¼ŒåŸåˆ™æ˜¯ä½è€¦åˆï¼Œé«˜å†…èšï¼Œåªæœ‰ä½¿å„ä¸ªæ¨¡å—ä¹‹é—´çš„è€¦åˆå°½é‡çš„ä½ï¼Œæ‰èƒ½æé«˜ä»£ç çš„å¤ç”¨ç‡ã€‚</li>
<li>ä¼˜ç‚¹ï¼šä½è€¦åˆï¼Œé«˜å†…èšã€‚</li>
</ul>
<h4 id="å•ä¸€èŒè´£åŸåˆ™ï¼ˆPrinciple-of-single-responsibilityï¼‰"><a href="#å•ä¸€èŒè´£åŸåˆ™ï¼ˆPrinciple-of-single-responsibilityï¼‰" class="headerlink" title="å•ä¸€èŒè´£åŸåˆ™ï¼ˆPrinciple of single responsibilityï¼‰"></a>å•ä¸€èŒè´£åŸåˆ™ï¼ˆPrinciple of single responsibilityï¼‰</h4><ul>
<li>åŸåˆ™æ€æƒ³ï¼šä¸€ä¸ªæ–¹æ³•åªè´Ÿè´£ä¸€ä»¶äº‹æƒ…ã€‚</li>
<li>æè¿°ï¼šå•ä¸€èŒè´£åŸåˆ™å¾ˆç®€å•ï¼Œä¸€ä¸ªæ–¹æ³• ä¸€ä¸ªç±»åªè´Ÿè´£ä¸€ä¸ªèŒè´£ï¼Œå„ä¸ªèŒè´£çš„ç¨‹åºæ”¹åŠ¨ï¼Œä¸å½±å“å…¶å®ƒç¨‹åºã€‚ è¿™æ˜¯å¸¸è¯†ï¼Œå‡ ä¹æ‰€æœ‰ç¨‹åºå‘˜éƒ½ä¼šéµå¾ªè¿™ä¸ªåŸåˆ™ã€‚</li>
<li>ä¼˜ç‚¹ï¼šé™ä½ç±»å’Œç±»çš„è€¦åˆï¼Œæé«˜å¯è¯»æ€§ï¼Œå¢åŠ å¯ç»´æŠ¤æ€§å’Œå¯æ‹“å±•æ€§ï¼Œé™ä½å¯å˜æ€§çš„é£é™©ã€‚</li>
</ul>
<h3 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰ï¼šåˆ›å»ºå‹æ¨¡å¼ï¼Œæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„æœ€ä½³æ–¹å¼ï¼Œè¿™ç§æ¨¡å¼æ¶‰åŠåˆ°ä¸€ä¸ªå•ä¸€çš„ç±»ï¼Œè¯¥ç±»è´Ÿè´£åˆ›å»ºè‡ªå·±çš„å¯¹è±¡ï¼ŒåŒæ—¶ç¡®ä¿åªæœ‰å•ä¸ªå¯¹è±¡è¢«åˆ›å»º</p>
<p>åœ¨åº”ç”¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œå•ä¾‹æ¨¡å¼åªä¼šåœ¨å…¨å±€ä½œç”¨åŸŸä¸‹åˆ›å»ºä¸€æ¬¡å®ä¾‹å¯¹è±¡ï¼Œè®©æ‰€æœ‰éœ€è¦è°ƒç”¨çš„åœ°æ–¹éƒ½å…±äº«è¿™ä¸€å•ä¾‹å¯¹è±¡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f66613738393864302d336232632d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>ä»å®šä¹‰ä¸Šæ¥çœ‹ï¼Œå…¨å±€å˜é‡å¥½åƒå°±æ˜¯å•ä¾‹æ¨¡å¼ï¼Œä½†æ˜¯ä¸€èˆ¬æƒ…å†µæˆ‘ä»¬ä¸è®¤ä¸ºå…¨å±€å˜é‡æ˜¯ä¸€ä¸ªå•ä¾‹æ¨¡å¼ï¼ŒåŸå› æ˜¯ï¼š</p>
<ul>
<li>å…¨å±€å‘½åæ±¡æŸ“</li>
<li>ä¸æ˜“ç»´æŠ¤ï¼Œå®¹æ˜“è¢«é‡å†™è¦†ç›–</li>
</ul>
<h4 id="äºŒã€å®ç°"><a href="#äºŒã€å®ç°" class="headerlink" title="äºŒã€å®ç°"></a>äºŒã€å®ç°</h4><p>åœ¨<code>javascript</code>ä¸­ï¼Œå®ç°ä¸€ä¸ªå•ä¾‹æ¨¡å¼å¯ä»¥ç”¨ä¸€ä¸ªå˜é‡æ¥æ ‡å¿—å½“å‰çš„ç±»å·²ç»åˆ›å»ºè¿‡å¯¹è±¡ï¼Œå¦‚æœä¸‹æ¬¡è·å–å½“å‰ç±»çš„å®ä¾‹æ—¶ï¼Œç›´æ¥è¿”å›ä¹‹å‰åˆ›å»ºçš„å¯¹è±¡å³å¯ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">// å®šä¹‰ä¸€ä¸ªç±»
function Singleton(name) &#123;
  this.name = name;
  this.instance = null;
&#125;
// åŸå‹æ‰©å±•ç±»çš„ä¸€ä¸ªæ–¹æ³•getName()
Singleton.prototype.getName = function() &#123;
  console.log(this.name)
&#125;;
// è·å–ç±»çš„å®ä¾‹
Singleton.getInstance = function(name) &#123;
  if(!this.instance) &#123;
      this.instance = new Singleton(name);
  &#125;
  return this.instance
&#125;;

// è·å–å¯¹è±¡1
const a = Singleton.getInstance(&#39;a&#39;);
// è·å–å¯¹è±¡2
const b = Singleton.getInstance(&#39;b&#39;);
// è¿›è¡Œæ¯”è¾ƒ
console.log(a === b);
</code></pre>
<p>ä½¿ç”¨é—­åŒ…ä¹Ÿèƒ½å¤Ÿå®ç°ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">function Singleton(name) &#123;
  this.name = name;
&#125;
// åŸå‹æ‰©å±•ç±»çš„ä¸€ä¸ªæ–¹æ³•getName()
Singleton.prototype.getName = function() &#123;
  console.log(this.name)
&#125;;
// è·å–ç±»çš„å®ä¾‹
Singleton.getInstance = (function() &#123;
  var instance = null;
  return function(name) &#123;
      if(!this.instance) &#123;
          this.instance = new Singleton(name);
      &#125;
      return this.instance
  &#125;        
&#125;)();

// è·å–å¯¹è±¡1
const a = Singleton.getInstance(&#39;a&#39;);
// è·å–å¯¹è±¡2
const b = Singleton.getInstance(&#39;b&#39;);
// è¿›è¡Œæ¯”è¾ƒ
console.log(a === b);
</code></pre>
<p>ä¹Ÿå¯ä»¥å°†ä¸Šè¿°çš„æ–¹æ³•ç¨ä½œä¿®æ”¹ï¼Œå˜æˆæ„é€ å‡½æ•°çš„å½¢å¼ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">// å•ä¾‹æ„é€ å‡½æ•°
function CreateSingleton (name) &#123;
  this.name = name;
  this.getName();
&#125;;

// è·å–å®ä¾‹çš„åå­—
CreateSingleton.prototype.getName = function() &#123;
  console.log(this.name)
&#125;;
// å•ä¾‹å¯¹è±¡
const Singleton = (function()&#123;
  var instance;
  return function (name) &#123;
      if(!instance) &#123;
          instance = new CreateSingleton(name);
      &#125;
      return instance;
  &#125;
&#125;)();

// åˆ›å»ºå®ä¾‹å¯¹è±¡1
const a = new Singleton(&#39;a&#39;);
// åˆ›å»ºå®ä¾‹å¯¹è±¡2
const b = new Singleton(&#39;b&#39;);

console.log(a===b); // true
</code></pre>
<h4 id="ä¸‰ã€ä½¿ç”¨åœºæ™¯"><a href="#ä¸‰ã€ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä¸‰ã€ä½¿ç”¨åœºæ™¯"></a>ä¸‰ã€ä½¿ç”¨åœºæ™¯</h4><p>åœ¨å‰ç«¯ä¸­ï¼Œå¾ˆå¤šæƒ…å†µéƒ½æ˜¯ç”¨åˆ°å•ä¾‹æ¨¡å¼ï¼Œä¾‹å¦‚é¡µé¢å­˜åœ¨ä¸€ä¸ªæ¨¡æ€æ¡†çš„æ—¶å€™ï¼Œåªæœ‰ç”¨æˆ·ç‚¹å‡»çš„æ—¶å€™æ‰ä¼šåˆ›å»ºï¼Œè€Œä¸æ˜¯åŠ è½½å®Œæˆä¹‹åå†åˆ›å»ºå¼¹çª—å’Œéšè—ï¼Œå¹¶ä¸”ä¿è¯å¼¹çª—å…¨å±€åªæœ‰ä¸€ä¸ª</p>
<p>å¯ä»¥å…ˆåˆ›å»ºä¸€ä¸ªé€šå¸¸çš„è·å–å¯¹è±¡çš„æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const getSingle = function( fn )&#123;
let result;
return function()&#123;
  return result || ( result = fn .apply(this, arguments ) );
&#125;
&#125;; 
</code></pre>
<p>åˆ›å»ºå¼¹çª—çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const createLoginLayer = function()&#123;
var div = document.createElement( &#39;div&#39; );
div.innerHTML = &#39;æˆ‘æ˜¯æµ®çª—&#39;;
div.style.display = &#39;none&#39;;
document.body.appendChild( div );
return div;
&#125;; 

const createSingleLoginLayer = getSingle( createLoginLayer ); 

document.getElementById( &#39;loginBtn&#39; ).onclick = function()&#123;
var loginLayer = createSingleLoginLayer();
loginLayer.style.display = &#39;block&#39;;
&#125;;
</code></pre>
<p>ä¸Šè¿°è¿™ç§å®ç°ç§°ä¸ºæƒ°æ€§å•ä¾‹ï¼Œæ„å›¾è§£å†³éœ€è¦æ—¶æ‰åˆ›å»ºç±»å®ä¾‹å¯¹è±¡</p>
<p>å¹¶ä¸”<code>Vuex</code>ã€<code>redux</code>å…¨å±€æ€ç®¡ç†åº“ä¹Ÿåº”ç”¨å•ä¾‹æ¨¡å¼çš„æ€æƒ³ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f38626535306638302d336232622d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>ç°åœ¨å¾ˆå¤šç¬¬ä¸‰æ–¹åº“éƒ½æ˜¯å•ä¾‹æ¨¡å¼ï¼Œå¤šæ¬¡å¼•ç”¨åªä¼šä½¿ç”¨åŒä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚<code>jquery</code>ã€<code>lodash</code>ã€<code>moment</code>â€¦</p>
<h3 id="å·¥å‚æ¨¡å¼"><a href="#å·¥å‚æ¨¡å¼" class="headerlink" title="å·¥å‚æ¨¡å¼"></a>å·¥å‚æ¨¡å¼</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-1"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-1" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>å·¥å‚æ¨¡å¼æ˜¯ç”¨æ¥åˆ›å»ºå¯¹è±¡çš„ä¸€ç§æœ€å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œä¸æš´éœ²åˆ›å»ºå¯¹è±¡çš„å…·ä½“é€»è¾‘ï¼Œè€Œæ˜¯å°†å°†é€»è¾‘å°è£…åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±å¯ä»¥è¢«è§†ä¸ºä¸€ä¸ªå·¥å‚</p>
<p>å…¶å°±åƒå·¥å‚ä¸€æ ·é‡å¤çš„äº§ç”Ÿç±»ä¼¼çš„äº§å“ï¼Œå·¥å‚æ¨¡å¼åªéœ€è¦æˆ‘ä»¬ä¼ å…¥æ­£ç¡®çš„å‚æ•°ï¼Œå°±èƒ½ç”Ÿäº§ç±»ä¼¼çš„äº§å“</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<ul>
<li>ç¼–ç¨‹ä¸­ï¼Œåœ¨ä¸€ä¸ª A ç±»ä¸­é€šè¿‡ new çš„æ–¹å¼å®ä¾‹åŒ–äº†ç±» Bï¼Œé‚£ä¹ˆ A ç±»å’Œ B ç±»ä¹‹é—´å°±å­˜åœ¨å…³è”ï¼ˆè€¦åˆï¼‰</li>
<li>åæœŸå› ä¸ºéœ€è¦ä¿®æ”¹äº† B ç±»çš„ä»£ç å’Œä½¿ç”¨æ–¹å¼ï¼Œæ¯”å¦‚æ„é€ å‡½æ•°ä¸­ä¼ å…¥å‚æ•°ï¼Œé‚£ä¹ˆ A ç±»ä¹Ÿè¦è·Ÿç€ä¿®æ”¹ï¼Œä¸€ä¸ªç±»çš„ä¾èµ–å¯èƒ½å½±å“ä¸å¤§ï¼Œä½†è‹¥æœ‰å¤šä¸ªç±»ä¾èµ–äº† B ç±»ï¼Œé‚£ä¹ˆè¿™ä¸ªå·¥ä½œé‡å°†ä¼šç›¸å½“çš„å¤§ï¼Œå®¹æ˜“å‡ºç°ä¿®æ”¹é”™è¯¯ï¼Œä¹Ÿä¼šäº§ç”Ÿå¾ˆå¤šçš„é‡å¤ä»£ç ï¼Œè¿™æ— ç–‘æ˜¯ä»¶éå¸¸ç—›è‹¦çš„äº‹ï¼›</li>
<li>è¿™ç§æƒ…å†µä¸‹ï¼Œå°±éœ€è¦å°†åˆ›å»ºå®ä¾‹çš„å·¥ä½œä»è°ƒç”¨æ–¹ï¼ˆAç±»ï¼‰ä¸­åˆ†ç¦»ï¼Œä¸è°ƒç”¨æ–¹è§£è€¦ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨å·¥å‚æ–¹æ³•åˆ›å»ºå®ä¾‹çš„å·¥ä½œå°è£…èµ·æ¥ï¼ˆå‡å°‘ä»£ç é‡å¤ï¼‰ï¼Œç”±å·¥å‚ç®¡ç†å¯¹è±¡çš„åˆ›å»ºé€»è¾‘ï¼Œè°ƒç”¨æ–¹ä¸éœ€è¦çŸ¥é“å…·ä½“çš„åˆ›å»ºè¿‡ç¨‹ï¼Œåªç®¡ä½¿ç”¨ï¼Œè€Œé™ä½è°ƒç”¨è€…å› ä¸ºåˆ›å»ºé€»è¾‘å¯¼è‡´çš„é”™è¯¯ï¼›</li>
</ul>
<h4 id="äºŒã€å®ç°-1"><a href="#äºŒã€å®ç°-1" class="headerlink" title="äºŒã€å®ç°"></a>äºŒã€å®ç°</h4><p>å·¥å‚æ¨¡å¼æ ¹æ®æŠ½è±¡ç¨‹åº¦çš„ä¸åŒå¯ä»¥åˆ†ä¸ºï¼š</p>
<ul>
<li>ç®€å•å·¥å‚æ¨¡å¼ï¼ˆSimple Factoryï¼‰</li>
<li>å·¥å‚æ–¹æ³•æ¨¡å¼ï¼ˆFactory Methodï¼‰</li>
<li>æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factoryï¼‰</li>
</ul>
<h5 id="ç®€å•å·¥å‚æ¨¡å¼"><a href="#ç®€å•å·¥å‚æ¨¡å¼" class="headerlink" title="ç®€å•å·¥å‚æ¨¡å¼"></a>ç®€å•å·¥å‚æ¨¡å¼</h5><p>ç®€å•å·¥å‚æ¨¡å¼ä¹Ÿå«é™æ€å·¥å‚æ¨¡å¼ï¼Œç”¨ä¸€ä¸ªå·¥å‚å¯¹è±¡åˆ›å»ºåŒä¸€ç±»å¯¹è±¡ç±»çš„å®ä¾‹</p>
<p>å‡è®¾æˆ‘ä»¬è¦å¼€å‘ä¸€ä¸ªå…¬å¸å²—ä½åŠå…¶å·¥ä½œå†…å®¹çš„å½•å…¥ä¿¡æ¯ï¼Œä¸åŒå²—ä½çš„å·¥ä½œå†…å®¹ä¸ä¸€è‡´</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">function Factory(career) &#123;
    function User(career, work) &#123;
        this.career = career 
        this.work = work
    &#125;
    let work
    switch(career) &#123;
        case &#39;coder&#39;:
            work =  [&#39;å†™ä»£ç &#39;, &#39;ä¿®Bug&#39;] 
            return new User(career, work)
            break
        case &#39;hr&#39;:
            work = [&#39;æ‹›è˜&#39;, &#39;å‘˜å·¥ä¿¡æ¯ç®¡ç†&#39;]
            return new User(career, work)
            break
        case &#39;driver&#39;:
            work = [&#39;å¼€è½¦&#39;]
            return new User(career, work)
            break
        case &#39;boss&#39;:
            work = [&#39;å–èŒ¶&#39;, &#39;å¼€ä¼š&#39;, &#39;å®¡æ‰¹æ–‡ä»¶&#39;]
            return new User(career, work)
            break
    &#125;
&#125;
let coder = new Factory(&#39;coder&#39;)
console.log(coder)
let boss = new Factory(&#39;boss&#39;)
console.log(boss)
</code></pre>
<p><code>Factory</code>å°±æ˜¯ä¸€ä¸ªç®€å•å·¥å‚ã€‚å½“æˆ‘ä»¬è°ƒç”¨å·¥å‚å‡½æ•°æ—¶ï¼Œåªéœ€è¦ä¼ é€’nameã€ageã€careerå°±å¯ä»¥è·å–åˆ°åŒ…å«ç”¨æˆ·å·¥ä½œå†…å®¹çš„å®ä¾‹å¯¹è±¡</p>
<h5 id="å·¥å‚æ–¹æ³•æ¨¡å¼"><a href="#å·¥å‚æ–¹æ³•æ¨¡å¼" class="headerlink" title="å·¥å‚æ–¹æ³•æ¨¡å¼"></a>å·¥å‚æ–¹æ³•æ¨¡å¼</h5><p>å·¥å‚æ–¹æ³•æ¨¡å¼è·Ÿç®€å•å·¥å‚æ¨¡å¼å·®ä¸å¤šï¼Œä½†æ˜¯æŠŠå…·ä½“çš„äº§å“æ”¾åˆ°äº†å·¥å‚å‡½æ•°çš„<code>prototype</code>ä¸­</p>
<p>è¿™æ ·ä¸€æ¥ï¼Œæ‰©å±•äº§å“ç§ç±»å°±ä¸å¿…ä¿®æ”¹å·¥å‚å‡½æ•°äº†ï¼Œæ ¸å¿ƒç±»å°±å˜æˆæŠ½è±¡ç±»ï¼Œä¹Ÿå¯ä»¥éšæ—¶é‡å†™æŸç§å…·ä½“çš„äº§å“</p>
<p>ä¹Ÿå°±æ˜¯ç›¸å½“äºå·¥å‚æ€»éƒ¨ä¸ç”Ÿäº§äº§å“äº†ï¼Œäº¤ç»™ä¸‹è¾–åˆ†å·¥å‚è¿›è¡Œç”Ÿäº§ï¼›ä½†æ˜¯è¿›å…¥å·¥å‚ä¹‹å‰ï¼Œéœ€è¦æœ‰ä¸ªåˆ¤æ–­æ¥éªŒè¯ä½ è¦ç”Ÿäº§çš„ä¸œè¥¿æ˜¯å¦æ˜¯å±äºæˆ‘ä»¬å·¥å‚æ‰€ç”Ÿäº§èŒƒå›´ï¼Œå¦‚æœæ˜¯ï¼Œå°±ä¸¢ç»™ä¸‹è¾–å·¥å‚æ¥è¿›è¡Œç”Ÿäº§</p>
<p>å¦‚ä¸‹ä»£ç ï¼š</p>
<pre><code class="javascript">// å·¥å‚æ–¹æ³•
function Factory(career)&#123;
    if(this instanceof Factory)&#123;
        var a = new this[career]();
        return a;
    &#125;else&#123;
        return new Factory(career);
    &#125;
&#125;
// å·¥å‚æ–¹æ³•å‡½æ•°çš„åŸå‹ä¸­è®¾ç½®æ‰€æœ‰å¯¹è±¡çš„æ„é€ å‡½æ•°
Factory.prototype=&#123;
    &#39;coder&#39;: function()&#123;
        this.careerName = &#39;ç¨‹åºå‘˜&#39;
        this.work = [&#39;å†™ä»£ç &#39;, &#39;ä¿®Bug&#39;] 
    &#125;,
    &#39;hr&#39;: function()&#123;
        this.careerName = &#39;HR&#39;
        this.work = [&#39;æ‹›è˜&#39;, &#39;å‘˜å·¥ä¿¡æ¯ç®¡ç†&#39;]
    &#125;,
    &#39;driver&#39;: function () &#123;
        this.careerName = &#39;å¸æœº&#39;
        this.work = [&#39;å¼€è½¦&#39;]
    &#125;,
    &#39;boss&#39;: function()&#123;
        this.careerName = &#39;è€æ¿&#39;
        this.work = [&#39;å–èŒ¶&#39;, &#39;å¼€ä¼š&#39;, &#39;å®¡æ‰¹æ–‡ä»¶&#39;]
    &#125;
&#125;
let coder = new Factory(&#39;coder&#39;)
console.log(coder)
let hr = new Factory(&#39;hr&#39;)
console.log(hr)
</code></pre>
<p>å·¥å‚æ–¹æ³•å…³é”®æ ¸å¿ƒä»£ç æ˜¯å·¥å‚é‡Œé¢çš„åˆ¤æ–­thisæ˜¯å¦å±äºå·¥å‚ï¼Œä¹Ÿå°±æ˜¯åšäº†åˆ†æ”¯åˆ¤æ–­ï¼Œè¿™ä¸ªå·¥å‚åªåšæˆ‘èƒ½åšçš„äº§å“</p>
<h5 id="æŠ½è±¡å·¥å‚æ¨¡å¼"><a href="#æŠ½è±¡å·¥å‚æ¨¡å¼" class="headerlink" title="æŠ½è±¡å·¥å‚æ¨¡å¼"></a>æŠ½è±¡å·¥å‚æ¨¡å¼</h5><p>ä¸Šè¿°ç®€å•å·¥å‚æ¨¡å¼å’Œå·¥å‚æ–¹æ³•æ¨¡å¼éƒ½æ˜¯ç›´æ¥ç”Ÿæˆå®ä¾‹ï¼Œä½†æ˜¯æŠ½è±¡å·¥å‚æ¨¡å¼ä¸åŒï¼ŒæŠ½è±¡å·¥å‚æ¨¡å¼å¹¶ä¸ç›´æ¥ç”Ÿæˆå®ä¾‹ï¼Œ è€Œæ˜¯ç”¨äºå¯¹äº§å“ç±»ç°‡çš„åˆ›å»º</p>
<p>é€šä¿—ç‚¹æ¥è®²å°±æ˜¯ï¼šç®€å•å·¥å‚å’Œå·¥å‚æ–¹æ³•æ¨¡å¼çš„å·¥ä½œæ˜¯ç”Ÿäº§äº§å“ï¼Œé‚£ä¹ˆæŠ½è±¡å·¥å‚æ¨¡å¼çš„å·¥ä½œå°±æ˜¯ç”Ÿäº§å·¥å‚çš„</p>
<p>ç”±äº<code>JavaScript</code>ä¸­å¹¶æ²¡æœ‰æŠ½è±¡ç±»çš„æ¦‚å¿µï¼Œåªèƒ½æ¨¡æ‹Ÿï¼Œå¯ä»¥åˆ†æˆå››éƒ¨åˆ†ï¼š</p>
<ul>
<li>ç”¨äºåˆ›å»ºæŠ½è±¡ç±»çš„å‡½æ•°</li>
<li>æŠ½è±¡ç±»</li>
<li>å…·ä½“ç±»</li>
<li>å®ä¾‹åŒ–å…·ä½“ç±»</li>
</ul>
<p>ä¸Šé¢çš„ä¾‹å­ä¸­æœ‰<code>coder</code>ã€<code>hr</code>ã€<code>boss</code>ã€<code>driver</code>å››ç§å²—ä½ï¼Œå…¶ä¸­<code>coder</code>å¯èƒ½ä½¿ç”¨ä¸åŒçš„å¼€å‘è¯­è¨€è¿›è¡Œå¼€å‘ï¼Œæ¯”å¦‚<code>JavaScript</code>ã€<code>Java</code>ç­‰ç­‰ã€‚é‚£ä¹ˆè¿™ä¸¤ç§è¯­è¨€å°±æ˜¯å¯¹åº”çš„ç±»ç°‡</p>
<p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">let CareerAbstractFactory = function(subType, superType) &#123;
  // åˆ¤æ–­æŠ½è±¡å·¥å‚ä¸­æ˜¯å¦æœ‰è¯¥æŠ½è±¡ç±»
  if (typeof CareerAbstractFactory[superType] === &#39;function&#39;) &#123;
    // ç¼“å­˜ç±»
    function F() &#123;&#125;
    // ç»§æ‰¿çˆ¶ç±»å±æ€§å’Œæ–¹æ³•
    F.prototype = new CareerAbstractFactory[superType]()
    // å°†å­ç±»çš„constructoræŒ‡å‘çˆ¶ç±»
    subType.constructor = subType;
    // å­ç±»åŸå‹ç»§æ‰¿çˆ¶ç±»
    subType.prototype = new F()
  &#125; else &#123;
    throw new Error(&#39;æŠ½è±¡ç±»ä¸å­˜åœ¨&#39;)
  &#125;
&#125;
</code></pre>
<p>ä¸Šé¢ä»£ç ä¸­<code>CareerAbstractFactory</code>å°±æ˜¯ä¸€ä¸ªæŠ½è±¡å·¥å‚æ–¹æ³•ï¼Œè¯¥æ–¹æ³•åœ¨å‚æ•°ä¸­ä¼ é€’å­ç±»å’Œçˆ¶ç±»ï¼Œåœ¨æ–¹æ³•ä½“å†…éƒ¨å®ç°äº†å­ç±»å¯¹çˆ¶ç±»çš„ç»§æ‰¿</p>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>ä»ä¸Šé¢å¯çœ‹åˆ°ï¼Œç®€å•ç®€å•å·¥å‚çš„ä¼˜ç‚¹å°±æ˜¯æˆ‘ä»¬åªè¦ä¼ é€’æ­£ç¡®çš„å‚æ•°ï¼Œå°±èƒ½è·å¾—æ‰€éœ€çš„å¯¹è±¡ï¼Œè€Œä¸éœ€è¦å…³å¿ƒå…¶åˆ›å»ºçš„å…·ä½“ç»†èŠ‚</p>
<p>åº”ç”¨åœºæ™¯ä¹Ÿå®¹æ˜“è¯†åˆ«ï¼Œæœ‰æ„é€ å‡½æ•°çš„åœ°æ–¹ï¼Œå°±åº”è¯¥è€ƒè™‘ç®€å•å·¥å‚ï¼Œä½†æ˜¯å¦‚æœå‡½æ•°æ„å»ºå‡½æ•°å¤ªå¤šä¸å¤æ‚ï¼Œä¼šå¯¼è‡´å·¥å‚å‡½æ•°å˜å¾—å¤æ‚ï¼Œæ‰€ä»¥ä¸é€‚åˆå¤æ‚çš„æƒ…å†µ</p>
<p>æŠ½è±¡å·¥å‚æ¨¡å¼ä¸€èˆ¬ç”¨äºä¸¥æ ¼è¦æ±‚ä»¥é¢å‘å¯¹è±¡æ€æƒ³è¿›è¡Œå¼€å‘çš„è¶…å¤§å‹é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬å¸¸è§„çš„å¼€å‘çš„è¯ä¸€èˆ¬å°±æ˜¯ç®€å•å·¥å‚å’Œå·¥å‚æ–¹æ³•æ¨¡å¼ä¼šç”¨çš„æ¯”è¾ƒå¤šä¸€äº›</p>
<p>ç»¼ä¸Šï¼Œå·¥å‚æ¨¡å¼é€‚ç”¨åœºæ™¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>å¦‚æœä½ ä¸æƒ³è®©æŸä¸ªå­ç³»ç»Ÿä¸è¾ƒå¤§çš„é‚£ä¸ªå¯¹è±¡ä¹‹é—´å½¢æˆå¼ºè€¦åˆï¼Œè€Œæ˜¯æƒ³è¿è¡Œæ—¶ä»è®¸å¤šå­ç³»ç»Ÿä¸­è¿›è¡ŒæŒ‘é€‰çš„è¯ï¼Œé‚£ä¹ˆå·¥å‚æ¨¡å¼æ˜¯ä¸€ä¸ªç†æƒ³çš„é€‰æ‹©</li>
<li>å°†newæ“ä½œç®€å•å°è£…ï¼Œé‡åˆ°newçš„æ—¶å€™å°±åº”è¯¥è€ƒè™‘æ˜¯å¦ç”¨å·¥å‚æ¨¡å¼ï¼›</li>
<li>éœ€è¦ä¾èµ–å…·ä½“ç¯å¢ƒåˆ›å»ºä¸åŒå®ä¾‹ï¼Œè¿™äº›å®ä¾‹éƒ½æœ‰ç›¸åŒçš„è¡Œä¸º,è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å·¥å‚æ¨¡å¼ï¼Œç®€åŒ–å®ç°çš„è¿‡ç¨‹ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å‡å°‘æ¯ç§å¯¹è±¡æ‰€éœ€çš„ä»£ç é‡ï¼Œæœ‰åˆ©äºæ¶ˆé™¤å¯¹è±¡é—´çš„è€¦åˆï¼Œæä¾›æ›´å¤§çš„çµæ´»æ€§</li>
</ul>
<h3 id="ç­–ç•¥æ¨¡å¼"><a href="#ç­–ç•¥æ¨¡å¼" class="headerlink" title="ç­–ç•¥æ¨¡å¼"></a>ç­–ç•¥æ¨¡å¼</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-2"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-2" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰æŒ‡çš„æ˜¯å®šä¹‰ä¸€ç³»åˆ—çš„ç®—æ³•ï¼ŒæŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œç›®çš„å°±æ˜¯å°†ç®—æ³•çš„ä½¿ç”¨ä¸ç®—æ³•çš„å®ç°åˆ†ç¦»å¼€æ¥</p>
<p>ä¸€ä¸ªåŸºäºç­–ç•¥æ¨¡å¼çš„ç¨‹åºè‡³å°‘ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š</p>
<ul>
<li>ç­–ç•¥ç±»ï¼Œç­–ç•¥ç±»å°è£…äº†å…·ä½“çš„ç®—æ³•ï¼Œå¹¶è´Ÿè´£å…·ä½“çš„è®¡ç®—è¿‡ç¨‹</li>
<li>ç¯å¢ƒç±»Contextï¼ŒContext æ¥å—å®¢æˆ·çš„è¯·æ±‚ï¼Œéšå æŠŠè¯·æ±‚å§”æ‰˜ç»™æŸä¸€ä¸ªç­–ç•¥ç±»</li>
</ul>
<h4 id="äºŒã€ä½¿ç”¨"><a href="#äºŒã€ä½¿ç”¨" class="headerlink" title="äºŒã€ä½¿ç”¨"></a>äºŒã€ä½¿ç”¨</h4><p>ä¸¾ä¸ªä¾‹å­ï¼Œå…¬å¸çš„å¹´ç»ˆå¥–æ˜¯æ ¹æ®å‘˜å·¥çš„å·¥èµ„å’Œç»©æ•ˆæ¥è€ƒæ ¸çš„ï¼Œç»©æ•ˆä¸ºAçš„äººï¼Œå¹´ç»ˆå¥–ä¸ºå·¥èµ„çš„4å€ï¼Œç»©æ•ˆä¸ºBçš„äººï¼Œå¹´ç»ˆå¥–ä¸ºå·¥èµ„çš„3å€ï¼Œç»©æ•ˆä¸ºCçš„äººï¼Œå¹´ç»ˆå¥–ä¸ºå·¥èµ„çš„2å€</p>
<p>è‹¥ä½¿ç”¨<code>if</code>æ¥å®ç°ï¼Œä»£ç åˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">var calculateBouns = function(salary,level) &#123;
    if(level === &#39;A&#39;) &#123;
        return salary * 4;
    &#125;
    if(level === &#39;B&#39;) &#123;
        return salary * 3;
    &#125;
    if(level === &#39;C&#39;) &#123;
        return salary * 2;
    &#125;
&#125;;
// è°ƒç”¨å¦‚ä¸‹ï¼š
console.log(calculateBouns(4000,&#39;A&#39;)); // 16000
console.log(calculateBouns(2500,&#39;B&#39;)); // 7500
</code></pre>
<p>ä»ä¸Šè¿°å¯æœ‰çœ‹åˆ°ï¼Œå‡½æ•°å†…éƒ¨åŒ…å«è¿‡å¤š<code>if...else</code>ï¼Œå¹¶ä¸”åç»­æ”¹æ­£çš„æ—¶å€™ï¼Œéœ€è¦åœ¨å‡½æ•°å†…éƒ¨æ·»åŠ é€»è¾‘ï¼Œè¿åäº†å¼€æ”¾å°é—­åŸåˆ™</p>
<p>è€Œå¦‚æœä½¿ç”¨ç­–ç•¥æ¨¡å¼ï¼Œå°±æ˜¯å…ˆå®šä¹‰ä¸€ç³»åˆ—ç®—æ³•ï¼ŒæŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œå°†ä¸å˜çš„éƒ¨åˆ†å’Œå˜åŒ–çš„éƒ¨åˆ†éš”å¼€ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">var obj = &#123;
        &quot;A&quot;: function(salary) &#123;
            return salary * 4;
        &#125;,
        &quot;B&quot; : function(salary) &#123;
            return salary * 3;
        &#125;,
        &quot;C&quot; : function(salary) &#123;
            return salary * 2;
        &#125; 
&#125;;
var calculateBouns =function(level,salary) &#123;
    return obj[level](salary);
&#125;;
console.log(calculateBouns(&#39;A&#39;,10000)); // 40000
</code></pre>
<p>ä¸Šè¿°ä»£ç ä¸­ï¼Œ<code>obj</code>å¯¹åº”çš„æ˜¯ç­–ç•¥ç±»ï¼Œè€Œ<code>calculateBouns</code>å¯¹åº”ä¸Šä¸‹é€šä¿¡ç±»</p>
<p>åˆæ¯”å¦‚å®ç°ä¸€ä¸ªè¡¨å•æ ¡éªŒçš„ä»£ç ï¼Œå¸¸å¸¸ä¼šåƒå¦‚ä¸‹å†™æ³•ï¼š</p>
<pre><code class="javascript">var registerForm = document.getElementById(&quot;registerForm&quot;);
registerForm.onsubmit = function()&#123;
    if(registerForm.userName.value === &#39;&#39;) &#123;
        alert(&#39;ç”¨æˆ·åä¸èƒ½ä¸ºç©º&#39;);
        return;
    &#125;
    if(registerForm.password.value.length &lt; 6) &#123;
        alert(&quot;å¯†ç çš„é•¿åº¦ä¸èƒ½å°äº6ä½&quot;);
        return;
    &#125;
    if(!/(^1[3|5|8][0-9]&#123;9&#125;$)/.test(registerForm.phoneNumber.value)) &#123;
        alert(&quot;æ‰‹æœºå·ç æ ¼å¼ä¸æ­£ç¡®&quot;);
        return;
    &#125;
&#125;
</code></pre>
<p>ä¸Šè¿°ä»£ç åŒ…å«å¤šå¤„<code>if</code>è¯­å¥ï¼Œå¹¶ä¸”è¿åäº†å¼€æ”¾å°é—­åŸåˆ™ï¼Œå¦‚æœåº”ç”¨ä¸­è¿˜æœ‰å…¶ä»–çš„è¡¨å•ï¼Œéœ€è¦é‡å¤ç¼–å†™ä»£ç </p>
<p>æ­¤å¤„ä¹Ÿå¯ä»¥ä½¿ç”¨ç­–ç•¥æ¨¡å¼è¿›è¡Œé‡æ„æ ¡éªŒï¼Œç¬¬ä¸€æ­¥ç¡®å®šä¸å˜çš„å†…å®¹ï¼Œå³ç­–ç•¥è§„åˆ™å¯¹è±¡ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">var strategy = &#123;
    isNotEmpty: function(value,errorMsg) &#123;
        if(value === &#39;&#39;) &#123;
            return errorMsg;
        &#125;
    &#125;,
    // é™åˆ¶æœ€å°é•¿åº¦
    minLength: function(value,length,errorMsg) &#123;
        if(value.length &lt; length) &#123;
            return errorMsg;
        &#125;
    &#125;,
    // æ‰‹æœºå·ç æ ¼å¼
    mobileFormat: function(value,errorMsg) &#123;
        if(!/(^1[3|5|8][0-9]&#123;9&#125;$)/.test(value)) &#123;
            return errorMsg;
        &#125;
    &#125; 
&#125;;
</code></pre>
<p>ç„¶åæ‰¾å‡ºå˜çš„åœ°æ–¹ï¼Œä½œä¸ºç¯å¢ƒç±»<code>context</code>ï¼Œè´Ÿè´£æ¥æ”¶ç”¨æˆ·çš„è¦æ±‚å¹¶å§”æ‰˜ç»™ç­–ç•¥è§„åˆ™å¯¹è±¡ï¼Œå¦‚ä¸‹<code>Validator</code>ç±»ï¼š</p>
<pre><code class="javascript">var Validator = function()&#123;
        this.cache = [];  // ä¿å­˜æ•ˆéªŒè§„åˆ™
&#125;;
Validator.prototype.add = function(dom,rule,errorMsg) &#123;
    var str = rule.split(&quot;:&quot;);
    this.cache.push(function()&#123;
        // str è¿”å›çš„æ˜¯ minLength:6 
        var strategy = str.shift();
        str.unshift(dom.value); // æŠŠinputçš„valueæ·»åŠ è¿›å‚æ•°åˆ—è¡¨
        str.push(errorMsg);  // æŠŠerrorMsgæ·»åŠ è¿›å‚æ•°åˆ—è¡¨
        return strategys[strategy].apply(dom,str);
    &#125;);
&#125;;
Validator.prototype.start = function()&#123;
    for(var i = 0, validatorFunc; validatorFunc = this.cache[i++]; ) &#123;
        var msg = validatorFunc(); // å¼€å§‹æ•ˆéªŒ å¹¶å–å¾—æ•ˆéªŒåçš„è¿”å›ä¿¡æ¯
        if(msg) &#123;
            return msg;
        &#125;
    &#125;
&#125;;
</code></pre>
<p>é€šè¿‡<code>validator.add</code>æ–¹æ³•æ·»åŠ æ ¡éªŒè§„åˆ™å’Œé”™è¯¯ä¿¡æ¯æç¤ºï¼Œä½¿ç”¨å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">var validateFunc = function()&#123;
    var validator = new Validator(); // åˆ›å»ºä¸€ä¸ªValidatorå¯¹è±¡
    /* æ·»åŠ ä¸€äº›æ•ˆéªŒè§„åˆ™ */
    validator.add(registerForm.userName,&#39;isNotEmpty&#39;,&#39;ç”¨æˆ·åä¸èƒ½ä¸ºç©º&#39;);
    validator.add(registerForm.password,&#39;minLength:6&#39;,&#39;å¯†ç é•¿åº¦ä¸èƒ½å°äº6ä½&#39;);
    validator.add(registerForm.userName,&#39;mobileFormat&#39;,&#39;æ‰‹æœºå·ç æ ¼å¼ä¸æ­£ç¡®&#39;);

    var errorMsg = validator.start(); // è·å¾—æ•ˆéªŒç»“æœ
    return errorMsg; // è¿”å›æ•ˆéªŒç»“æœ
&#125;;
var registerForm = document.getElementById(&quot;registerForm&quot;);
registerForm.onsubmit = function()&#123;
    var errorMsg = validateFunc();
    if(errorMsg)&#123;
        alert(errorMsg);
        return false;
    &#125;
&#125;
</code></pre>
<p>ä¸Šè¿°é€šè¿‡ç­–ç•¥æ¨¡å¼å®Œæˆè¡¨å•çš„éªŒè¯ï¼Œå¹¶ä¸”å¯ä»¥éšæ—¶è°ƒç”¨ï¼Œåœ¨ä¿®æ”¹è¡¨å•éªŒè¯è§„åˆ™çš„æ—¶å€™ï¼Œä¹Ÿéå¸¸æ–¹ä¾¿ï¼Œé€šè¿‡ä¼ é€’å‚æ•°å³å¯è°ƒç”¨</p>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯-1"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-1" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨ç­–ç•¥æ¨¡å¼çš„ä¼˜ç‚¹æœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>ç­–ç•¥æ¨¡å¼åˆ©ç”¨ç»„åˆï¼Œå§”æ‰˜ç­‰æŠ€æœ¯å’Œæ€æƒ³ï¼Œæœ‰æ•ˆçš„é¿å…å¾ˆå¤šifæ¡ä»¶è¯­å¥</li>
<li>ç­–ç•¥æ¨¡å¼æä¾›äº†å¼€æ”¾-å°é—­åŸåˆ™ï¼Œä½¿ä»£ç æ›´å®¹æ˜“ç†è§£å’Œæ‰©å±•</li>
<li>ç­–ç•¥æ¨¡å¼ä¸­çš„ä»£ç å¯ä»¥å¤ç”¨</li>
</ul>
<p>ç­–ç•¥æ¨¡å¼ä¸ä»…ä»…ç”¨æ¥å°è£…ç®—æ³•ï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œé€šå¸¸ä¼šæŠŠç®—æ³•çš„å«ä¹‰æ‰©æ•£å¼€æ¥ï¼Œä½¿ç­–ç•¥æ¨¡å¼ä¹Ÿå¯ä»¥ç”¨æ¥å°è£… ä¸€ç³»åˆ—çš„â€œä¸šåŠ¡è§„åˆ™â€</p>
<p>åªè¦è¿™äº›ä¸šåŠ¡è§„åˆ™æŒ‡å‘çš„ç›®æ ‡ä¸€è‡´ï¼Œå¹¶ä¸”å¯ä»¥è¢«æ›¿æ¢ä½¿ç”¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨ç­–ç•¥æ¨¡å¼æ¥å°è£…å®ƒä»¬</p>
<h3 id="ä»£ç†æ¨¡å¼"><a href="#ä»£ç†æ¨¡å¼" class="headerlink" title="ä»£ç†æ¨¡å¼"></a>ä»£ç†æ¨¡å¼</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-3"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-3" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰æ˜¯ä¸ºä¸€ä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç”¨å“æˆ–å ä½ç¬¦ï¼Œä»¥ä¾¿æ§åˆ¶å¯¹å®ƒçš„è®¿é—®</p>
<p>ä»£ç†æ¨¡å¼çš„å…³é”®æ˜¯ï¼Œå½“å®¢æˆ·ä¸æ–¹ä¾¿ç›´æ¥è®¿é—®ä¸€ä¸ªå¯¹è±¡æˆ–è€…ä¸æ»¡è¶³éœ€è¦æ—¶ï¼Œæä¾›ä¸€ä¸ªæ›¿èº«å¯¹è±¡æ¥æ§åˆ¶è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ï¼Œå®¢æˆ·å®é™…ä¸Šè®¿é—®çš„æ˜¯æ›¿èº«å¯¹è±¡</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f39353163393962302d336436612d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>åœ¨ç”Ÿæ´»ä¸­ï¼Œä»£ç†æ¨¡å¼çš„åœºæ™¯æ˜¯ååˆ†å¸¸è§çš„ï¼Œä¾‹å¦‚æˆ‘ä»¬ç°åœ¨å¦‚æœæœ‰ç§Ÿæˆ¿ã€ä¹°æˆ¿çš„éœ€æ±‚ï¼Œæ›´å¤šçš„æ˜¯å»æ‰¾é“¾å®¶ç­‰æˆ¿å±‹ä¸­ä»‹æœºæ„ï¼Œè€Œä¸æ˜¯ç›´æ¥å¯»æ‰¾æƒ³å–æˆ¿æˆ–å‡ºç§Ÿæˆ¿çš„äººè°ˆã€‚æ­¤æ—¶ï¼Œé“¾å®¶èµ·åˆ°çš„ä½œç”¨å°±æ˜¯ä»£ç†çš„ä½œç”¨</p>
<h4 id="äºŒã€ä½¿ç”¨-1"><a href="#äºŒã€ä½¿ç”¨-1" class="headerlink" title="äºŒã€ä½¿ç”¨"></a>äºŒã€ä½¿ç”¨</h4><p>åœ¨<code>ES6</code>ä¸­ï¼Œå­˜åœ¨<code>proxy</code>æ„å»ºå‡½æ•°èƒ½å¤Ÿè®©æˆ‘ä»¬è½»æ¾ä½¿ç”¨ä»£ç†æ¨¡å¼ï¼š</p>
<pre><code class="javascript">const proxy = new Proxy(target, handler);
</code></pre>
<p>å…³äº<code>Proxy</code>çš„ä½¿ç”¨å¯ä»¥ç¿»çœ‹ä»¥å‰çš„æ–‡ç« </p>
<p>è€ŒæŒ‰ç…§åŠŸèƒ½æ¥åˆ’åˆ†ï¼Œ<code>javascript</code>ä»£ç†æ¨¡å¼å¸¸ç”¨çš„æœ‰ï¼š</p>
<ul>
<li>ç¼“å­˜ä»£ç†</li>
<li>è™šæ‹Ÿä»£ç†</li>
</ul>
<h5 id="ç¼“å­˜ä»£ç†"><a href="#ç¼“å­˜ä»£ç†" class="headerlink" title="ç¼“å­˜ä»£ç†"></a>ç¼“å­˜ä»£ç†</h5><p>ç¼“å­˜ä»£ç†å¯ä»¥ä¸ºä¸€äº›å¼€é”€å¤§çš„è¿ç®—ç»“æœæä¾›æš‚æ—¶çš„å­˜å‚¨ï¼Œåœ¨ä¸‹æ¬¡è¿ç®—æ—¶ï¼Œå¦‚æœä¼ é€’è¿›æ¥çš„å‚æ•°è·Ÿä¹‹å‰ä¸€è‡´ï¼Œåˆ™å¯ä»¥ç›´æ¥è¿”å›å‰é¢å­˜å‚¨çš„è¿ç®—ç»“æœ</p>
<p>å¦‚å®ç°ä¸€ä¸ªæ±‚ç§¯ä¹˜çš„å‡½æ•°ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">var muti = function () &#123;
  console.log(&quot;å¼€å§‹è®¡ç®—ä¹˜ç§¯&quot;);
  var a = 1;
  for (var i = 0, l = arguments.length; i &lt; l; i++) &#123;
    a = a * arguments[i];
  &#125;
  return a;
&#125;;
</code></pre>
<p>ç°åœ¨åŠ å…¥ç¼“å­˜ä»£ç†ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">var proxyMult = (function () &#123;
  var cache = &#123;&#125;;
  return function () &#123;
    var args = Array.prototype.join.call(arguments, &quot;,&quot;);
    if (args in cache) &#123;
      return cache[args];
    &#125;
    return (cache[args] = mult.apply(this, arguments));
  &#125;;
&#125;)();

proxyMult(1, 2, 3, 4); // è¾“å‡º:24
proxyMult(1, 2, 3, 4); // è¾“å‡º:24
</code></pre>
<p>å½“ç¬¬äºŒæ¬¡è°ƒç”¨ <code>proxyMult(1, 2, 3, 4)</code> æ—¶ï¼Œæœ¬ä½“ <code>mult</code> å‡½æ•°å¹¶æ²¡æœ‰è¢«è®¡ç®—ï¼Œ<code>proxyMult</code> ç›´æ¥è¿”å›äº†ä¹‹å‰ç¼“å­˜å¥½çš„è®¡ç®—ç»“æœ</p>
<h5 id="è™šæ‹Ÿä»£ç†"><a href="#è™šæ‹Ÿä»£ç†" class="headerlink" title="è™šæ‹Ÿä»£ç†"></a>è™šæ‹Ÿä»£ç†</h5><p>è™šæ‹Ÿä»£ç†æŠŠä¸€äº›å¼€é”€å¾ˆå¤§çš„å¯¹è±¡ï¼Œå»¶è¿Ÿåˆ°çœŸæ­£éœ€è¦å®ƒçš„æ—¶å€™æ‰å»åˆ›å»º</p>
<p>å¸¸è§çš„å°±æ˜¯å›¾ç‰‡é¢„åŠ è½½åŠŸèƒ½ï¼š</p>
<p>æœªä½¿ç”¨ä»£ç†æ¨¡å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">let MyImage = (function()&#123;
    let imgNode = document.createElement( &#39;img&#39; );
    document.body.appendChild( imgNode );
    // åˆ›å»ºä¸€ä¸ªImageå¯¹è±¡ï¼Œç”¨äºåŠ è½½éœ€è¦è®¾ç½®çš„å›¾ç‰‡
    let img = new Image;

    img.onload = function()&#123;
        // ç›‘å¬åˆ°å›¾ç‰‡åŠ è½½å®Œæˆåï¼Œè®¾ç½®srcä¸ºåŠ è½½å®Œæˆåçš„å›¾ç‰‡
        imgNode.src = img.src;
    &#125;;

    return &#123;
        setSrc: function( src )&#123;
            // è®¾ç½®å›¾ç‰‡çš„æ—¶å€™ï¼Œè®¾ç½®ä¸ºé»˜è®¤çš„loadingå›¾
            imgNode.src = &#39;https://img.zcool.cn/community/01deed576019060000018c1bd2352d.gif&#39;;
            // æŠŠçœŸæ­£éœ€è¦è®¾ç½®çš„å›¾ç‰‡ä¼ ç»™Imageå¯¹è±¡çš„srcå±æ€§
            img.src = src;
        &#125;
    &#125;
&#125;)();

MyImage.setSrc( &#39;https://xxx.jpg&#39; );
</code></pre>
<p><code>MyImage</code>å¯¹è±¡é™¤äº†è´Ÿè´£ç»™<code>img</code>èŠ‚ç‚¹è®¾ç½®<code>src</code>å¤–ï¼Œè¿˜è¦è´Ÿè´£é¢„åŠ è½½å›¾ç‰‡ï¼Œè¿åäº†é¢å‘å¯¹è±¡è®¾è®¡çš„åŸåˆ™â€”â€”å•ä¸€èŒè´£åŸåˆ™</p>
<p>ä¸Šè¿°è¿‡ç¨‹<code>loding</code>åˆ™æ˜¯è€¦åˆè¿›<code>MyImage</code>å¯¹è±¡é‡Œçš„ï¼Œå¦‚æœä»¥åæŸä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬ä¸éœ€è¦é¢„åŠ è½½æ˜¾ç¤ºloadingè¿™ä¸ªåŠŸèƒ½äº†ï¼Œå°±åªèƒ½åœ¨<code>MyImage</code>å¯¹è±¡é‡Œé¢æ”¹åŠ¨ä»£ç </p>
<p>ä½¿ç”¨ä»£ç†æ¨¡å¼ï¼Œä»£ç åˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">// å›¾ç‰‡æœ¬åœ°å¯¹è±¡ï¼Œè´Ÿè´£å¾€é¡µé¢ä¸­åˆ›å»ºä¸€ä¸ªimgæ ‡ç­¾ï¼Œå¹¶ä¸”æä¾›ä¸€ä¸ªå¯¹å¤–çš„setSrcæ¥å£
let myImage = (function()&#123;
    let imgNode = document.createElement( &#39;img&#39; );
    document.body.appendChild( imgNode );

    return &#123;
        //setSrcæ¥å£ï¼Œå¤–ç•Œè°ƒç”¨è¿™ä¸ªæ¥å£ï¼Œä¾¿å¯ä»¥ç»™è¯¥imgæ ‡ç­¾è®¾ç½®srcå±æ€§
        setSrc: function( src )&#123;
            imgNode.src = src;
        &#125;
    &#125;
&#125;)();
// ä»£ç†å¯¹è±¡ï¼Œè´Ÿè´£å›¾ç‰‡é¢„åŠ è½½åŠŸèƒ½
let proxyImage = (function()&#123;
    // åˆ›å»ºä¸€ä¸ªImageå¯¹è±¡ï¼Œç”¨äºåŠ è½½éœ€è¦è®¾ç½®çš„å›¾ç‰‡
    let img = new Image;
    img.onload = function()&#123;
        // ç›‘å¬åˆ°å›¾ç‰‡åŠ è½½å®Œæˆåï¼Œç»™è¢«ä»£ç†çš„å›¾ç‰‡æœ¬åœ°å¯¹è±¡è®¾ç½®srcä¸ºåŠ è½½å®Œæˆåçš„å›¾ç‰‡
        myImage.setSrc( this.src );
    &#125;
    return &#123;
        setSrc: function( src )&#123;
            // è®¾ç½®å›¾ç‰‡æ—¶ï¼Œåœ¨å›¾ç‰‡æœªè¢«çœŸæ­£åŠ è½½å¥½æ—¶ï¼Œä»¥è¿™å¼ å›¾ä½œä¸ºloadingï¼Œæç¤ºç”¨æˆ·å›¾ç‰‡æ­£åœ¨åŠ è½½
            myImage.setSrc( &#39;https://img.zcool.cn/community/01deed576019060000018c1bd2352d.gif&#39; );
            img.src = src;
        &#125;
    &#125;
&#125;)();

proxyImage.setSrc( &#39;https://xxx.jpg&#39; );
</code></pre>
<p>ä½¿ç”¨ä»£ç†æ¨¡å¼åï¼Œå›¾ç‰‡æœ¬åœ°å¯¹è±¡è´Ÿè´£å¾€é¡µé¢ä¸­åˆ›å»ºä¸€ä¸ª<code>img</code>æ ‡ç­¾ï¼Œå¹¶ä¸”æä¾›ä¸€ä¸ªå¯¹å¤–çš„<code>setSrc</code>æ¥å£ï¼›</p>
<p>ä»£ç†å¯¹è±¡è´Ÿè´£åœ¨å›¾ç‰‡æœªåŠ è½½å®Œæˆä¹‹å‰ï¼Œå¼•å…¥é¢„åŠ è½½çš„<code>loading</code>å›¾ï¼Œè´Ÿè´£äº†å›¾ç‰‡é¢„åŠ è½½çš„åŠŸèƒ½</p>
<p>ä¸Šè¿°å¹¶æ²¡æœ‰æ”¹å˜æˆ–è€…å¢åŠ <code>MyImage</code>çš„æ¥å£ï¼Œä½†æ˜¯é€šè¿‡ä»£ç†å¯¹è±¡ï¼Œå®é™…ä¸Šç»™ç³»ç»Ÿæ·»åŠ äº†æ–°çš„è¡Œä¸º</p>
<p>å¹¶ä¸”ä¸Šè¿°ä»£ç†æ¨¡å¼å¯ä»¥å‘ç°ï¼Œä»£ç†å’Œæœ¬ä½“æ¥å£çš„ä¸€è‡´æ€§ï¼Œå¦‚æœæœ‰ä¸€å¤©ä¸éœ€è¦é¢„åŠ è½½ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦ä»£ç†å¯¹è±¡ï¼Œå¯ä»¥é€‰æ‹©ç›´æ¥è¯·æ±‚æœ¬ä½“ã€‚å…¶ä¸­å…³é”®æ˜¯ä»£ç†å¯¹è±¡å’Œæœ¬ä½“éƒ½å¯¹å¤–æä¾›äº† <code>setSrc</code> æ–¹æ³•</p>
<p>â€˜</p>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯-2"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-2" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>ç°åœ¨çš„å¾ˆå¤šå‰ç«¯æ¡†æ¶æˆ–è€…çŠ¶æ€ç®¡ç†æ¡†æ¶éƒ½ä½¿ç”¨ä»£ç†æ¨¡å¼ï¼Œç”¨ä¸ç›‘å¬å˜é‡çš„å˜åŒ–</p>
<p>ä½¿ç”¨ä»£ç†æ¨¡å¼ä»£ç†å¯¹è±¡çš„è®¿é—®çš„æ–¹å¼ï¼Œä¸€èˆ¬åˆè¢«ç§°ä¸ºæ‹¦æˆªå™¨ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ç»å¸¸ä½¿ç”¨ <code>Axios</code> çš„å®ä¾‹æ¥è¿›è¡Œ HTTP çš„è¯·æ±‚ï¼Œä½¿ç”¨æ‹¦æˆªå™¨ <code>interceptor</code> å¯ä»¥æå‰å¯¹ è¯·æ±‚å‰çš„æ•°æ® æœåŠ¡å™¨è¿”å›çš„æ•°æ®è¿›è¡Œä¸€äº›é¢„å¤„ç†</p>
<p>ä»¥åŠä¸Šè¿°åº”ç”¨åˆ°çš„ç¼“å­˜ä»£ç†å’Œè™šæ‹Ÿä»£ç†</p>
<h3 id="å‘å¸ƒè®¢é˜…æ¨¡å¼å’Œè§‚å¯Ÿè€…æ¨¡å¼"><a href="#å‘å¸ƒè®¢é˜…æ¨¡å¼å’Œè§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="å‘å¸ƒè®¢é˜…æ¨¡å¼å’Œè§‚å¯Ÿè€…æ¨¡å¼"></a>å‘å¸ƒè®¢é˜…æ¨¡å¼å’Œè§‚å¯Ÿè€…æ¨¡å¼</h3><h4 id="ä¸€ã€è§‚å¯Ÿè€…æ¨¡å¼"><a href="#ä¸€ã€è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="ä¸€ã€è§‚å¯Ÿè€…æ¨¡å¼"></a>ä¸€ã€è§‚å¯Ÿè€…æ¨¡å¼</h4><p>è§‚å¯Ÿè€…æ¨¡å¼å®šä¹‰äº†å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å°†å¾—åˆ°é€šçŸ¥ï¼Œå¹¶è‡ªåŠ¨æ›´æ–°</p>
<p>è§‚å¯Ÿè€…æ¨¡å¼å±äºè¡Œä¸ºå‹æ¨¡å¼ï¼Œè¡Œä¸ºå‹æ¨¡å¼å…³æ³¨çš„æ˜¯å¯¹è±¡ä¹‹é—´çš„é€šè®¯ï¼Œè§‚å¯Ÿè€…æ¨¡å¼å°±æ˜¯è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…ä¹‹é—´çš„é€šè®¯</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f64336138303032302d336637632d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>ä¾‹å¦‚ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æŠ¥çº¸æœŸåˆŠçš„è®¢é˜…æ¥å½¢è±¡çš„è¯´æ˜ï¼Œå½“ä½ è®¢é˜…äº†ä¸€ä»½æŠ¥çº¸ï¼Œæ¯å¤©éƒ½ä¼šæœ‰ä¸€ä»½æœ€æ–°çš„æŠ¥çº¸é€åˆ°ä½ æ‰‹ä¸Šï¼Œæœ‰å¤šå°‘äººè®¢é˜…æŠ¥çº¸ï¼ŒæŠ¥ç¤¾å°±ä¼šå‘å¤šå°‘ä»½æŠ¥çº¸</p>
<p>æŠ¥ç¤¾å’Œè®¢æŠ¥çº¸çš„å®¢æˆ·å°±å½¢æˆäº†ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»</p>
<p>å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<p>è¢«è§‚å¯Ÿè€…æ¨¡å¼</p>
<pre><code class="javascript">class Subject &#123;

  constructor() &#123;
    this.observerList = [];
  &#125;

  addObserver(observer) &#123;
    this.observerList.push(observer);
  &#125;

  removeObserver(observer) &#123;
    const index = this.observerList.findIndex(o =&gt; o.name === observer.name);
    this.observerList.splice(index, 1);
  &#125;

  notifyObservers(message) &#123;
    const observers = this.observeList;
    observers.forEach(observer =&gt; observer.notified(message));
  &#125;

&#125;
</code></pre>
<p>è§‚å¯Ÿè€…ï¼š</p>
<pre><code class="javascript">class Observer &#123;

  constructor(name, subject) &#123;
    this.name = name;
    if (subject) &#123;
      subject.addObserver(this);
    &#125;
  &#125;

  notified(message) &#123;
    console.log(this.name, &#39;got message&#39;, message);
  &#125;
&#125;
</code></pre>
<p>ä½¿ç”¨ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const subject = new Subject();
const observerA = new Observer(&#39;observerA&#39;, subject);
const observerB = new Observer(&#39;observerB&#39;);
subject.addObserver(observerB);
subject.notifyObservers(&#39;Hello from subject&#39;);
subject.removeObserver(observerA);
subject.notifyObservers(&#39;Hello again&#39;);
</code></pre>
<p>ä¸Šè¿°ä»£ç ä¸­ï¼Œè§‚å¯Ÿè€…ä¸»åŠ¨ç”³è¯·åŠ å…¥è¢«è§‚å¯Ÿè€…çš„åˆ—è¡¨ï¼Œè¢«è§‚å¯Ÿè€…ä¸»åŠ¨å°†è§‚å¯Ÿè€…åŠ å…¥åˆ—è¡¨</p>
<h4 id="äºŒã€å‘å¸ƒè®¢é˜…æ¨¡å¼"><a href="#äºŒã€å‘å¸ƒè®¢é˜…æ¨¡å¼" class="headerlink" title="äºŒã€å‘å¸ƒè®¢é˜…æ¨¡å¼"></a>äºŒã€å‘å¸ƒè®¢é˜…æ¨¡å¼</h4><p>å‘å¸ƒ-è®¢é˜…æ˜¯ä¸€ç§æ¶ˆæ¯èŒƒå¼ï¼Œæ¶ˆæ¯çš„å‘é€è€…ï¼ˆç§°ä¸ºå‘å¸ƒè€…ï¼‰ä¸ä¼šå°†æ¶ˆæ¯ç›´æ¥å‘é€ç»™ç‰¹å®šçš„æ¥æ”¶è€…ï¼ˆç§°ä¸ºè®¢é˜…è€…ï¼‰ã€‚è€Œæ˜¯å°†å‘å¸ƒçš„æ¶ˆæ¯åˆ†ä¸ºä¸åŒçš„ç±»åˆ«ï¼Œæ— éœ€äº†è§£å“ªäº›è®¢é˜…è€…ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰å¯èƒ½å­˜åœ¨</p>
<p>åŒæ ·çš„ï¼Œè®¢é˜…è€…å¯ä»¥è¡¨è¾¾å¯¹ä¸€ä¸ªæˆ–å¤šä¸ªç±»åˆ«çš„å…´è¶£ï¼Œåªæ¥æ”¶æ„Ÿå…´è¶£çš„æ¶ˆæ¯ï¼Œæ— éœ€äº†è§£å“ªäº›å‘å¸ƒè€…å­˜åœ¨</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65323464336364302d336637632d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">class PubSub &#123;
  constructor() &#123;
    this.messages = &#123;&#125;;
    this.listeners = &#123;&#125;;
  &#125;
  // æ·»åŠ å‘å¸ƒè€…
  publish(type, content) &#123;
    const existContent = this.messages[type];
    if (!existContent) &#123;
      this.messages[type] = [];
    &#125;
    this.messages[type].push(content);
  &#125;
  // æ·»åŠ è®¢é˜…è€…
  subscribe(type, cb) &#123;
    const existListener = this.listeners[type];
    if (!existListener) &#123;
      this.listeners[type] = [];
    &#125;
    this.listeners[type].push(cb);
  &#125;
  // é€šçŸ¥
  notify(type) &#123;
    const messages = this.messages[type];
    const subscribers = this.listeners[type] || [];
    subscribers.forEach((cb, index) =&gt; cb(messages[index]));
  &#125;
&#125;
</code></pre>
<p>å‘å¸ƒè€…ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">class Publisher &#123;
  constructor(name, context) &#123;
    this.name = name;
    this.context = context;
  &#125;
  publish(type, content) &#123;
    this.context.publish(type, content);
  &#125;
&#125;
</code></pre>
<p>è®¢é˜…è€…ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">class Subscriber &#123;
  constructor(name, context) &#123;
    this.name = name;
    this.context = context;
  &#125;
  subscribe(type, cb) &#123;
    this.context.subscribe(type, cb);
  &#125;
&#125;
</code></pre>
<p>ä½¿ç”¨ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const TYPE_A = &#39;music&#39;;
const TYPE_B = &#39;movie&#39;;
const TYPE_C = &#39;novel&#39;;

const pubsub = new PubSub();

const publisherA = new Publisher(&#39;publisherA&#39;, pubsub);
publisherA.publish(TYPE_A, &#39;we are young&#39;);
publisherA.publish(TYPE_B, &#39;the silicon valley&#39;);
const publisherB = new Publisher(&#39;publisherB&#39;, pubsub);
publisherB.publish(TYPE_A, &#39;stronger&#39;);
const publisherC = new Publisher(&#39;publisherC&#39;, pubsub);
publisherC.publish(TYPE_C, &#39;a brief history of time&#39;);

const subscriberA = new Subscriber(&#39;subscriberA&#39;, pubsub);
subscriberA.subscribe(TYPE_A, res =&gt; &#123;
  console.log(&#39;subscriberA received&#39;, res)
&#125;);
const subscriberB = new Subscriber(&#39;subscriberB&#39;, pubsub);
subscriberB.subscribe(TYPE_C, res =&gt; &#123;
  console.log(&#39;subscriberB received&#39;, res)
&#125;);
const subscriberC = new Subscriber(&#39;subscriberC&#39;, pubsub);
subscriberC.subscribe(TYPE_B, res =&gt; &#123;
  console.log(&#39;subscriberC received&#39;, res)
&#125;);

pubsub.notify(TYPE_A);
pubsub.notify(TYPE_B);
pubsub.notify(TYPE_C);
</code></pre>
<p>ä¸Šè¿°ä»£ç ï¼Œå‘å¸ƒè€…å’Œè®¢é˜…è€…éœ€è¦é€šè¿‡å‘å¸ƒè®¢é˜…ä¸­å¿ƒè¿›è¡Œå…³è”ï¼Œå‘å¸ƒè€…çš„å‘å¸ƒåŠ¨ä½œå’Œè®¢é˜…è€…çš„è®¢é˜…åŠ¨ä½œç›¸äº’ç‹¬ç«‹ï¼Œæ— éœ€å…³æ³¨å¯¹æ–¹ï¼Œæ¶ˆæ¯æ´¾å‘ç”±å‘å¸ƒè®¢é˜…ä¸­å¿ƒè´Ÿè´£</p>
<h4 id="ä¸‰ã€åŒºåˆ«"><a href="#ä¸‰ã€åŒºåˆ«" class="headerlink" title="ä¸‰ã€åŒºåˆ«"></a>ä¸‰ã€åŒºåˆ«</h4><p>ä¸¤ç§è®¾è®¡æ¨¡å¼æ€è·¯æ˜¯ä¸€æ ·çš„ï¼Œä¸¾ä¸ªç”Ÿæ´»ä¾‹å­ï¼š</p>
<ul>
<li>è§‚å¯Ÿè€…æ¨¡å¼ï¼šæŸå…¬å¸ç»™è‡ªå·±å‘˜å·¥å‘æœˆé¥¼å‘ç²½å­ï¼Œæ˜¯ç”±å…¬å¸çš„è¡Œæ”¿éƒ¨é—¨å‘é€çš„ï¼Œè¿™ä»¶äº‹ä¸é€‚åˆäº¤ç»™ç¬¬ä¸‰æ–¹ï¼ŒåŸå› æ˜¯â€œå…¬å¸â€å’Œâ€œå‘˜å·¥â€æ˜¯ä¸€ä¸ªæ•´ä½“</li>
<li>å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼šæŸå…¬å¸è¦ç»™å…¶ä»–äººå‘å„ç§å¿«é€’ï¼Œå› ä¸ºâ€œå…¬å¸â€å’Œâ€œå…¶ä»–äººâ€æ˜¯ç‹¬ç«‹çš„ï¼Œå…¶å”¯ä¸€çš„æ¡¥æ¢æ˜¯â€œå¿«é€’â€ï¼Œæ‰€ä»¥è¿™ä»¶äº‹é€‚åˆäº¤ç»™ç¬¬ä¸‰æ–¹å¿«é€’å…¬å¸è§£å†³</li>
</ul>
<p>ä¸Šè¿°è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå…¬å¸è‡ªå·±å»ç®¡ç†å¿«é€’çš„é…é€ï¼Œé‚£å…¬å¸å°±ä¼šå˜æˆä¸€ä¸ªå¿«é€’å…¬å¸ï¼Œä¸šåŠ¡ç¹æ‚éš¾ä»¥ç®¡ç†ï¼Œå½±å“å…¬å¸è‡ªèº«çš„ä¸»è¥ä¸šåŠ¡ï¼Œå› æ­¤ä½¿ç”¨ä½•ç§æ¨¡å¼éœ€è¦è€ƒè™‘ä»€ä¹ˆæƒ…å†µä¸¤è€…æ˜¯éœ€è¦è€¦åˆçš„</p>
<p>ä¸¤è€…åŒºåˆ«å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2022/11/03/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/68747470733a2f2f66696c65732e6d646e6963652e636f6d2f757365722f3135352f39313431363832632d373338362d346631322d383431322d6662313761316364346266362e706e67.png"></p>
<ul>
<li>åœ¨è§‚å¯Ÿè€…æ¨¡å¼ä¸­ï¼Œè§‚å¯Ÿè€…æ˜¯çŸ¥é“Subjectçš„ï¼ŒSubjectä¸€ç›´ä¿æŒå¯¹è§‚å¯Ÿè€…è¿›è¡Œè®°å½•ã€‚ç„¶è€Œï¼Œåœ¨å‘å¸ƒè®¢é˜…æ¨¡å¼ä¸­ï¼Œå‘å¸ƒè€…å’Œè®¢é˜…è€…ä¸çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ã€‚å®ƒä»¬åªæœ‰é€šè¿‡æ¶ˆæ¯ä»£ç†è¿›è¡Œé€šä¿¡ã€‚</li>
<li>åœ¨å‘å¸ƒè®¢é˜…æ¨¡å¼ä¸­ï¼Œç»„ä»¶æ˜¯æ¾æ•£è€¦åˆçš„ï¼Œæ­£å¥½å’Œè§‚å¯Ÿè€…æ¨¡å¼ç›¸åã€‚</li>
<li>è§‚å¯Ÿè€…æ¨¡å¼å¤§å¤šæ•°æ—¶å€™æ˜¯åŒæ­¥çš„ï¼Œæ¯”å¦‚å½“äº‹ä»¶è§¦å‘ï¼ŒSubjectå°±ä¼šå»è°ƒç”¨è§‚å¯Ÿè€…çš„æ–¹æ³•ã€‚è€Œå‘å¸ƒ-è®¢é˜…æ¨¡å¼å¤§å¤šæ•°æ—¶å€™æ˜¯å¼‚æ­¥çš„ï¼ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼‰</li>
</ul>
<h3 id="å…¶ä»–å®Œæ•´çš„è®¾è®¡æ¨¡å¼ï¼ˆæ„Ÿå…´è¶£å¯ä»¥çœ‹çœ‹ï¼‰"><a href="#å…¶ä»–å®Œæ•´çš„è®¾è®¡æ¨¡å¼ï¼ˆæ„Ÿå…´è¶£å¯ä»¥çœ‹çœ‹ï¼‰" class="headerlink" title="å…¶ä»–å®Œæ•´çš„è®¾è®¡æ¨¡å¼ï¼ˆæ„Ÿå…´è¶£å¯ä»¥çœ‹çœ‹ï¼‰"></a>å…¶ä»–å®Œæ•´çš„è®¾è®¡æ¨¡å¼ï¼ˆæ„Ÿå…´è¶£å¯ä»¥çœ‹çœ‹ï¼‰</h3><p><a href="https://juejin.cn/post/6844904032826294286">23ç§è®¾è®¡æ¨¡å¼</a></p>
<p>å‚è€ƒæ–‡çŒ®ï¼š</p>
<p>[è¯­éŸ³ä»“åº“]: 	â€œ<a href="https://github.com/febobo/web-interview">https://github.com/febobo/web-interview</a> â€œ</p>
]]></content>
      <categories>
        <category>æŠ€æœ¯é¢è¯•</category>
        <category>å¸¸ç”¨è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯é¢è¯•å¤§å…¨æœåŠ¡ç«¯</title>
    <url>/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆæœåŠ¡ç«¯ï¼‰"><a href="#å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆæœåŠ¡ç«¯ï¼‰" class="headerlink" title="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆæœåŠ¡ç«¯ï¼‰"></a>å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆæœåŠ¡ç«¯ï¼‰</h1><p>å‰ç«¯é¢è¯•é¢˜ç±»ç›®åˆ†ç±»</p>
<ul>
<li>HTML5 + CSS3</li>
<li>JavaScript</li>
<li>Vue + Vue3</li>
<li>React</li>
<li>Webpack</li>
<li>æœåŠ¡ç«¯</li>
</ul>
<hr>
<p>è€ƒç‚¹é¢‘ç‡ ï¼šâ™¥ï¸ ã€ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸</p>
<h2 id="æœåŠ¡ç«¯"><a href="#æœåŠ¡ç«¯" class="headerlink" title="æœåŠ¡ç«¯"></a>æœåŠ¡ç«¯</h2><h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-httpçŠ¶æ€ç æœ‰å“ªäº›"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-httpçŠ¶æ€ç æœ‰å“ªäº›" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ httpçŠ¶æ€ç æœ‰å“ªäº›"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ httpçŠ¶æ€ç æœ‰å“ªäº›</h3><p><code>http</code>çŠ¶æ€ç çš„ä½œç”¨æ˜¯æœåŠ¡å™¨å‘Šè¯‰å®¢æˆ·ç«¯å½“å‰è¯·æ±‚å“åº”çš„çŠ¶æ€ï¼Œé€šè¿‡çŠ¶æ€ç å°±èƒ½åˆ¤æ–­å’Œåˆ†ææœåŠ¡å™¨çš„è¿è¡ŒçŠ¶æ€</p>
<p>çŠ¶æ€ç ç¬¬ä¸€ä½æ•°å­—å†³å®šäº†ä¸åŒçš„å“åº”çŠ¶æ€ï¼Œæœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>1 è¡¨ç¤ºæ¶ˆæ¯</li>
<li>2 è¡¨ç¤ºæˆåŠŸ</li>
<li>3 è¡¨ç¤ºé‡å®šå‘</li>
<li>4 è¡¨ç¤ºè¯·æ±‚é”™è¯¯</li>
<li>5 è¡¨ç¤ºæœåŠ¡å™¨é”™è¯¯</li>
</ul>
<h4 id="1xx"><a href="#1xx" class="headerlink" title="1xx"></a>1xx</h4><p>ä»£è¡¨è¯·æ±‚å·²è¢«æ¥å—ï¼Œéœ€è¦ç»§ç»­å¤„ç†ã€‚è¿™ç±»å“åº”æ˜¯ä¸´æ—¶å“åº”ï¼ŒåªåŒ…å«çŠ¶æ€è¡Œå’ŒæŸäº›å¯é€‰çš„å“åº”å¤´ä¿¡æ¯ï¼Œå¹¶ä»¥ç©ºè¡Œç»“æŸ</p>
<p>å¸¸è§çš„æœ‰ï¼š</p>
<ul>
<li>100ï¼ˆå®¢æˆ·ç«¯ç»§ç»­å‘é€è¯·æ±‚ï¼Œè¿™æ˜¯ä¸´æ—¶å“åº”ï¼‰ï¼šè¿™ä¸ªä¸´æ—¶å“åº”æ˜¯ç”¨æ¥é€šçŸ¥å®¢æˆ·ç«¯å®ƒçš„éƒ¨åˆ†è¯·æ±‚å·²ç»è¢«æœåŠ¡å™¨æ¥æ”¶ï¼Œä¸”ä»æœªè¢«æ‹’ç»ã€‚å®¢æˆ·ç«¯åº”å½“ç»§ç»­å‘é€è¯·æ±‚çš„å‰©ä½™éƒ¨åˆ†ï¼Œæˆ–è€…å¦‚æœè¯·æ±‚å·²ç»å®Œæˆï¼Œå¿½ç•¥è¿™ä¸ªå“åº”ã€‚æœåŠ¡å™¨å¿…é¡»åœ¨è¯·æ±‚å®Œæˆåå‘å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªæœ€ç»ˆå“åº”</li>
<li>101ï¼šæœåŠ¡å™¨æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚åˆ‡æ¢åè®®ï¼Œä¸»è¦ç”¨äºwebsocketæˆ–http2å‡çº§</li>
</ul>
<h4 id="2xx"><a href="#2xx" class="headerlink" title="2xx"></a>2xx</h4><p>ä»£è¡¨è¯·æ±‚å·²æˆåŠŸè¢«æœåŠ¡å™¨æ¥æ”¶ã€ç†è§£ã€å¹¶æ¥å—</p>
<p>å¸¸è§çš„æœ‰ï¼š</p>
<ul>
<li>200ï¼ˆæˆåŠŸï¼‰ï¼šè¯·æ±‚å·²æˆåŠŸï¼Œè¯·æ±‚æ‰€å¸Œæœ›çš„å“åº”å¤´æˆ–æ•°æ®ä½“å°†éšæ­¤å“åº”è¿”å›</li>
<li>201ï¼ˆå·²åˆ›å»ºï¼‰ï¼šè¯·æ±‚æˆåŠŸå¹¶ä¸”æœåŠ¡å™¨åˆ›å»ºäº†æ–°çš„èµ„æº</li>
<li>202ï¼ˆå·²åˆ›å»ºï¼‰ï¼šæœåŠ¡å™¨å·²ç»æ¥æ”¶è¯·æ±‚ï¼Œä½†å°šæœªå¤„ç†</li>
<li>203ï¼ˆéæˆæƒä¿¡æ¯ï¼‰ï¼šæœåŠ¡å™¨å·²æˆåŠŸå¤„ç†è¯·æ±‚ï¼Œä½†è¿”å›çš„ä¿¡æ¯å¯èƒ½æ¥è‡ªå¦ä¸€æ¥æº</li>
<li>204ï¼ˆæ— å†…å®¹ï¼‰ï¼šæœåŠ¡å™¨æˆåŠŸå¤„ç†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹</li>
<li>205ï¼ˆé‡ç½®å†…å®¹ï¼‰ï¼šæœåŠ¡å™¨æˆåŠŸå¤„ç†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹</li>
<li>206ï¼ˆéƒ¨åˆ†å†…å®¹ï¼‰ï¼šæœåŠ¡å™¨æˆåŠŸå¤„ç†äº†éƒ¨åˆ†è¯·æ±‚</li>
</ul>
<h4 id="3xx"><a href="#3xx" class="headerlink" title="3xx"></a>3xx</h4><p>è¡¨ç¤ºè¦å®Œæˆè¯·æ±‚ï¼Œéœ€è¦è¿›ä¸€æ­¥æ“ä½œã€‚ é€šå¸¸ï¼Œè¿™äº›çŠ¶æ€ä»£ç ç”¨æ¥é‡å®šå‘</p>
<p>å¸¸è§çš„æœ‰ï¼š</p>
<ul>
<li>300ï¼ˆå¤šç§é€‰æ‹©ï¼‰ï¼šé’ˆå¯¹è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¯æ‰§è¡Œå¤šç§æ“ä½œã€‚ æœåŠ¡å™¨å¯æ ¹æ®è¯·æ±‚è€… (user agent) é€‰æ‹©ä¸€é¡¹æ“ä½œï¼Œæˆ–æä¾›æ“ä½œåˆ—è¡¨ä¾›è¯·æ±‚è€…é€‰æ‹©</li>
<li>301ï¼ˆæ°¸ä¹…ç§»åŠ¨ï¼‰ï¼šè¯·æ±‚çš„ç½‘é¡µå·²æ°¸ä¹…ç§»åŠ¨åˆ°æ–°ä½ç½®ã€‚ æœåŠ¡å™¨è¿”å›æ­¤å“åº”ï¼ˆå¯¹ GET æˆ– HEAD è¯·æ±‚çš„å“åº”ï¼‰æ—¶ï¼Œä¼šè‡ªåŠ¨å°†è¯·æ±‚è€…è½¬åˆ°æ–°ä½ç½®</li>
<li>302ï¼ˆä¸´æ—¶ç§»åŠ¨ï¼‰ï¼š æœåŠ¡å™¨ç›®å‰ä»ä¸åŒä½ç½®çš„ç½‘é¡µå“åº”è¯·æ±‚ï¼Œä½†è¯·æ±‚è€…åº”ç»§ç»­ä½¿ç”¨åŸæœ‰ä½ç½®æ¥è¿›è¡Œä»¥åçš„è¯·æ±‚</li>
<li>303ï¼ˆæŸ¥çœ‹å…¶ä»–ä½ç½®ï¼‰ï¼šè¯·æ±‚è€…åº”å½“å¯¹ä¸åŒçš„ä½ç½®ä½¿ç”¨å•ç‹¬çš„ GET è¯·æ±‚æ¥æ£€ç´¢å“åº”æ—¶ï¼ŒæœåŠ¡å™¨è¿”å›æ­¤ä»£ç </li>
<li>305 ï¼ˆä½¿ç”¨ä»£ç†ï¼‰ï¼š è¯·æ±‚è€…åªèƒ½ä½¿ç”¨ä»£ç†è®¿é—®è¯·æ±‚çš„ç½‘é¡µã€‚ å¦‚æœæœåŠ¡å™¨è¿”å›æ­¤å“åº”ï¼Œè¿˜è¡¨ç¤ºè¯·æ±‚è€…åº”ä½¿ç”¨ä»£ç†</li>
<li>307 ï¼ˆä¸´æ—¶é‡å®šå‘ï¼‰ï¼š æœåŠ¡å™¨ç›®å‰ä»ä¸åŒä½ç½®çš„ç½‘é¡µå“åº”è¯·æ±‚ï¼Œä½†è¯·æ±‚è€…åº”ç»§ç»­ä½¿ç”¨åŸæœ‰ä½ç½®æ¥è¿›è¡Œä»¥åçš„è¯·æ±‚</li>
</ul>
<h4 id="4xx"><a href="#4xx" class="headerlink" title="4xx"></a>4xx</h4><p>ä»£è¡¨äº†å®¢æˆ·ç«¯çœ‹èµ·æ¥å¯èƒ½å‘ç”Ÿäº†é”™è¯¯ï¼Œå¦¨ç¢äº†æœåŠ¡å™¨çš„å¤„ç†</p>
<p>å¸¸è§çš„æœ‰ï¼š</p>
<ul>
<li>400ï¼ˆé”™è¯¯è¯·æ±‚ï¼‰ï¼š æœåŠ¡å™¨ä¸ç†è§£è¯·æ±‚çš„è¯­æ³•</li>
<li>401ï¼ˆæœªæˆæƒï¼‰ï¼š è¯·æ±‚è¦æ±‚èº«ä»½éªŒè¯ã€‚ å¯¹äºéœ€è¦ç™»å½•çš„ç½‘é¡µï¼ŒæœåŠ¡å™¨å¯èƒ½è¿”å›æ­¤å“åº”ã€‚</li>
<li>403ï¼ˆç¦æ­¢ï¼‰ï¼š æœåŠ¡å™¨æ‹’ç»è¯·æ±‚</li>
<li>404ï¼ˆæœªæ‰¾åˆ°ï¼‰ï¼š æœåŠ¡å™¨æ‰¾ä¸åˆ°è¯·æ±‚çš„ç½‘é¡µ</li>
<li>405ï¼ˆæ–¹æ³•ç¦ç”¨ï¼‰ï¼š ç¦ç”¨è¯·æ±‚ä¸­æŒ‡å®šçš„æ–¹æ³•</li>
<li>406ï¼ˆä¸æ¥å—ï¼‰ï¼š æ— æ³•ä½¿ç”¨è¯·æ±‚çš„å†…å®¹ç‰¹æ€§å“åº”è¯·æ±‚çš„ç½‘é¡µ</li>
<li>407ï¼ˆéœ€è¦ä»£ç†æˆæƒï¼‰ï¼š æ­¤çŠ¶æ€ä»£ç ä¸ 401ï¼ˆæœªæˆæƒï¼‰ç±»ä¼¼ï¼Œä½†æŒ‡å®šè¯·æ±‚è€…åº”å½“æˆæƒä½¿ç”¨ä»£ç†</li>
<li>408ï¼ˆè¯·æ±‚è¶…æ—¶ï¼‰ï¼š æœåŠ¡å™¨ç­‰å€™è¯·æ±‚æ—¶å‘ç”Ÿè¶…æ—¶</li>
</ul>
<h4 id="5xx"><a href="#5xx" class="headerlink" title="5xx"></a>5xx</h4><p>è¡¨ç¤ºæœåŠ¡å™¨æ— æ³•å®Œæˆæ˜æ˜¾æœ‰æ•ˆçš„è¯·æ±‚ã€‚è¿™ç±»çŠ¶æ€ç ä»£è¡¨äº†æœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­æœ‰é”™è¯¯æˆ–è€…å¼‚å¸¸çŠ¶æ€å‘ç”Ÿ</p>
<p>å¸¸è§çš„æœ‰ï¼š</p>
<ul>
<li>500ï¼ˆæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼‰ï¼šæœåŠ¡å™¨é‡åˆ°é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚</li>
<li>501ï¼ˆå°šæœªå®æ–½ï¼‰ï¼šæœåŠ¡å™¨ä¸å…·å¤‡å®Œæˆè¯·æ±‚çš„åŠŸèƒ½ã€‚ ä¾‹å¦‚ï¼ŒæœåŠ¡å™¨æ— æ³•è¯†åˆ«è¯·æ±‚æ–¹æ³•æ—¶å¯èƒ½ä¼šè¿”å›æ­¤ä»£ç </li>
<li>502ï¼ˆé”™è¯¯ç½‘å…³ï¼‰ï¼š æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°æ— æ•ˆå“åº”</li>
<li>503ï¼ˆæœåŠ¡ä¸å¯ç”¨ï¼‰ï¼š æœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨ï¼ˆç”±äºè¶…è½½æˆ–åœæœºç»´æŠ¤ï¼‰</li>
<li>504ï¼ˆç½‘å…³è¶…æ—¶ï¼‰ï¼š æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ—¶ä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚</li>
<li>505ï¼ˆHTTP ç‰ˆæœ¬ä¸å—æ”¯æŒï¼‰ï¼š æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚ä¸­æ‰€ç”¨çš„ HTTP åè®®ç‰ˆæœ¬</li>
</ul>
<p>ä¸‹é¢ç»™å‡ºä¸€äº›çŠ¶æ€ç çš„é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>100ï¼šå®¢æˆ·ç«¯åœ¨å‘é€POSTæ•°æ®ç»™æœåŠ¡å™¨å‰ï¼Œå¾è¯¢æœåŠ¡å™¨æƒ…å†µï¼Œçœ‹æœåŠ¡å™¨æ˜¯å¦å¤„ç†POSTçš„æ•°æ®ï¼Œå¦‚æœä¸å¤„ç†ï¼Œå®¢æˆ·ç«¯åˆ™ä¸ä¸Šä¼ POSTæ•°æ®ï¼Œå¦‚æœå¤„ç†ï¼Œåˆ™POSTä¸Šä¼ æ•°æ®ã€‚å¸¸ç”¨äºPOSTå¤§æ•°æ®ä¼ è¾“</li>
<li>206ï¼šä¸€èˆ¬ç”¨æ¥åšæ–­ç‚¹ç»­ä¼ ï¼Œæˆ–è€…æ˜¯è§†é¢‘æ–‡ä»¶ç­‰å¤§æ–‡ä»¶çš„åŠ è½½</li>
<li>301ï¼šæ°¸ä¹…é‡å®šå‘ä¼šç¼“å­˜ã€‚æ–°åŸŸåæ›¿æ¢æ—§åŸŸåï¼Œæ—§çš„åŸŸåä¸å†ä½¿ç”¨æ—¶ï¼Œç”¨æˆ·è®¿é—®æ—§åŸŸåæ—¶ç”¨301å°±é‡å®šå‘åˆ°æ–°çš„åŸŸå</li>
<li>302ï¼šä¸´æ—¶é‡å®šå‘ä¸ä¼šç¼“å­˜ï¼Œå¸¸ç”¨ äºæœªç™»é™†çš„ç”¨æˆ·è®¿é—®ç”¨æˆ·ä¸­å¿ƒé‡å®šå‘åˆ°ç™»å½•é¡µé¢</li>
<li>304ï¼šåå•†ç¼“å­˜ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯æœ‰ç¼“å­˜ï¼Œç›´æ¥ä½¿ç”¨ç¼“å­˜ä¸­çš„æ•°æ®ï¼Œè¿”å›é¡µé¢çš„åªæœ‰å¤´éƒ¨ä¿¡æ¯ï¼Œæ˜¯æ²¡æœ‰å†…å®¹éƒ¨åˆ†</li>
<li>400ï¼šå‚æ•°æœ‰è¯¯ï¼Œè¯·æ±‚æ— æ³•è¢«æœåŠ¡å™¨è¯†åˆ«</li>
<li>403ï¼šå‘Šè¯‰å®¢æˆ·ç«¯è¿›åˆ¶è®¿é—®è¯¥ç«™ç‚¹æˆ–è€…èµ„æºï¼Œå¦‚åœ¨å¤–ç½‘ç¯å¢ƒä¸‹ï¼Œç„¶åè®¿é—®åªæœ‰å†…ç½‘IPæ‰èƒ½è®¿é—®çš„æ—¶å€™åˆ™è¿”å›</li>
<li>404ï¼šæœåŠ¡å™¨æ‰¾ä¸åˆ°èµ„æºæ—¶ï¼Œæˆ–è€…æœåŠ¡å™¨æ‹’ç»è¯·æ±‚åˆä¸æƒ³è¯´æ˜ç†ç”±æ—¶</li>
<li>503ï¼šæœåŠ¡å™¨åœæœºç»´æŠ¤æ—¶ï¼Œä¸»åŠ¨ç”¨503å“åº”è¯·æ±‚æˆ– nginx è®¾ç½®é™é€Ÿï¼Œè¶…è¿‡é™é€Ÿï¼Œä¼šè¿”å›503</li>
<li>504ï¼šç½‘å…³è¶…æ—¶</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä½ çŸ¥é“å“ªäº›httpé¦–éƒ¨å­—æ®µï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä½ çŸ¥é“å“ªäº›httpé¦–éƒ¨å­—æ®µï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä½ çŸ¥é“å“ªäº›httpé¦–éƒ¨å­—æ®µï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä½ çŸ¥é“å“ªäº›httpé¦–éƒ¨å­—æ®µï¼Ÿ</h3><p>HTTPå¤´å­—æ®µï¼ˆHTTP header fieldsï¼‰,æ˜¯æŒ‡åœ¨è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ˆHTTPï¼‰çš„è¯·æ±‚å’Œå“åº”æ¶ˆæ¯ä¸­çš„æ¶ˆæ¯å¤´éƒ¨åˆ†</p>
<table>
<thead>
<tr>
<th>å­—æ®µå</th>
<th>è¯´æ˜</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>Accept</td>
<td>èƒ½å¤Ÿæ¥å—çš„å›åº”å†…å®¹ç±»å‹ï¼ˆContent-Typesï¼‰</td>
<td>Accept: text&#x2F;plain</td>
</tr>
<tr>
<td>Accept-Charset</td>
<td>èƒ½å¤Ÿæ¥å—çš„å­—ç¬¦é›†</td>
<td>Accept-Charset: utf-8</td>
</tr>
<tr>
<td>Accept-Encoding</td>
<td>èƒ½å¤Ÿæ¥å—çš„ç¼–ç æ–¹å¼åˆ—è¡¨</td>
<td>Accept-Encoding: gzip, deflate</td>
</tr>
<tr>
<td>Accept-Language</td>
<td>èƒ½å¤Ÿæ¥å—çš„å›åº”å†…å®¹çš„è‡ªç„¶è¯­è¨€åˆ—è¡¨</td>
<td>Accept-Language: en-US</td>
</tr>
<tr>
<td>Authorization</td>
<td>ç”¨äºè¶…æ–‡æœ¬ä¼ è¾“åè®®çš„è®¤è¯çš„è®¤è¯ä¿¡æ¯</td>
<td>Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ&#x3D;&#x3D;</td>
</tr>
<tr>
<td>Cache-Control</td>
<td>ç”¨æ¥æŒ‡å®šåœ¨è¿™æ¬¡çš„è¯·æ±‚&#x2F;å“åº”é“¾ä¸­çš„æ‰€æœ‰ç¼“å­˜æœºåˆ¶ éƒ½å¿…é¡» éµå®ˆçš„æŒ‡ä»¤</td>
<td>Cache-Control: no-cache</td>
</tr>
<tr>
<td>Connection</td>
<td>è¯¥æµè§ˆå™¨æƒ³è¦ä¼˜å…ˆä½¿ç”¨çš„è¿æ¥ç±»å‹</td>
<td>Connection: keep-alive Connection: Upgrade</td>
</tr>
<tr>
<td>Cookie</td>
<td>æœåŠ¡å™¨é€šè¿‡ Set- Cookie ï¼ˆä¸‹æ–‡è¯¦è¿°ï¼‰å‘é€çš„ä¸€ä¸ª è¶…æ–‡æœ¬ä¼ è¾“åè®®Cookie</td>
<td>Cookie: $Version&#x3D;1; Skin&#x3D;new;</td>
</tr>
<tr>
<td>Content-Length</td>
<td>ä»¥ å…«ä½å­—èŠ‚æ•°ç»„ ï¼ˆ8ä½çš„å­—èŠ‚ï¼‰è¡¨ç¤ºçš„è¯·æ±‚ä½“çš„é•¿åº¦</td>
<td>Content-Length: 348</td>
</tr>
<tr>
<td>Content-Type</td>
<td>è¯·æ±‚ä½“çš„ å¤šåª’ä½“ç±»å‹</td>
<td>Content-Type: application&#x2F;x-www-form-urlencoded</td>
</tr>
<tr>
<td>Date</td>
<td>å‘é€è¯¥æ¶ˆæ¯çš„æ—¥æœŸå’Œæ—¶é—´</td>
<td>Date: Tue, 15 Nov 1994 08:12:31 GMT</td>
</tr>
<tr>
<td>Expect</td>
<td>è¡¨æ˜å®¢æˆ·ç«¯è¦æ±‚æœåŠ¡å™¨åšå‡ºç‰¹å®šçš„è¡Œä¸º</td>
<td>Expect: 100-continue</td>
</tr>
<tr>
<td>Host</td>
<td>æœåŠ¡å™¨çš„åŸŸå(ç”¨äºè™šæ‹Ÿä¸»æœº )ï¼Œä»¥åŠæœåŠ¡å™¨æ‰€ç›‘å¬çš„ä¼ è¾“æ§åˆ¶åè®®ç«¯å£å·</td>
<td>Host: en.wikipedia.org:80 Host: en.wikipedia.org</td>
</tr>
<tr>
<td>If-Match</td>
<td>ä»…å½“å®¢æˆ·ç«¯æä¾›çš„å®ä½“ä¸æœåŠ¡å™¨ä¸Šå¯¹åº”çš„å®ä½“ç›¸åŒ¹é…æ—¶ï¼Œæ‰è¿›è¡Œå¯¹åº”çš„æ“ä½œã€‚ä¸»è¦ä½œç”¨æ—¶ï¼Œç”¨ä½œåƒ PUT è¿™æ ·çš„æ–¹æ³•ä¸­ï¼Œä»…å½“ä»ç”¨æˆ·ä¸Šæ¬¡æ›´æ–°æŸä¸ªèµ„æºä»¥æ¥ï¼Œè¯¥èµ„æºæœªè¢«ä¿®æ”¹çš„æƒ…å†µä¸‹ï¼Œæ‰æ›´æ–°è¯¥èµ„æº</td>
<td>If-Match: â€œ737060cd8c284d8af7ad3082f209582dâ€</td>
</tr>
<tr>
<td>If-Modified-Since</td>
<td>å…è®¸åœ¨å¯¹åº”çš„å†…å®¹æœªè¢«ä¿®æ”¹çš„æƒ…å†µä¸‹è¿”å›304æœªä¿®æ”¹</td>
<td>If-Modified-Since: Sat, 29 Oct 1994 19:43:31 GMT</td>
</tr>
<tr>
<td>If-None-Match</td>
<td>å…è®¸åœ¨å¯¹åº”çš„å†…å®¹æœªè¢«ä¿®æ”¹çš„æƒ…å†µä¸‹è¿”å›304æœªä¿®æ”¹</td>
<td>If-None-Match: â€œ737060cd8c284d8af7ad3082f209582dâ€</td>
</tr>
<tr>
<td>If-Range</td>
<td>å¦‚æœè¯¥å®ä½“æœªè¢«ä¿®æ”¹è¿‡ï¼Œåˆ™å‘æˆ‘å‘é€æˆ‘æ‰€ç¼ºå°‘çš„é‚£ä¸€ä¸ªæˆ–å¤šä¸ªéƒ¨åˆ†ï¼›å¦åˆ™ï¼Œå‘é€æ•´ä¸ªæ–°çš„å®ä½“</td>
<td>If-Range: â€œ737060cd8c284d8af7ad3082f209582dâ€</td>
</tr>
<tr>
<td>Range</td>
<td>ä»…è¯·æ±‚æŸä¸ªå®ä½“çš„ä¸€éƒ¨åˆ†</td>
<td>Range: bytes&#x3D;500-999</td>
</tr>
<tr>
<td>User-Agent</td>
<td>æµè§ˆå™¨çš„æµè§ˆå™¨èº«ä»½æ ‡è¯†å­—ç¬¦ä¸²</td>
<td>User-Agent: Mozilla&#x2F;5.0 (X11; Linux x86_64; rv:12.0) Gecko&#x2F;20100101 Firefox&#x2F;21.0</td>
</tr>
<tr>
<td>Origin</td>
<td>å‘èµ·ä¸€ä¸ªé’ˆå¯¹ è·¨æ¥æºèµ„æºå…±äº« çš„è¯·æ±‚</td>
<td>Origin: <a href="http://www.example-social-network.com/">http://www.example-social-network.com</a></td>
</tr>
</tbody></table>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä¸ºä»€ä¹ˆæµè§ˆå™¨è¦é™åˆ¶TCPçš„æœ€å¤§ä¸ªæ•°"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä¸ºä»€ä¹ˆæµè§ˆå™¨è¦é™åˆ¶TCPçš„æœ€å¤§ä¸ªæ•°" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä¸ºä»€ä¹ˆæµè§ˆå™¨è¦é™åˆ¶TCPçš„æœ€å¤§ä¸ªæ•°"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä¸ºä»€ä¹ˆæµè§ˆå™¨è¦é™åˆ¶TCPçš„æœ€å¤§ä¸ªæ•°</h3><p>å»ºç«‹ä¸€ä¸ªtcpè¿æ¥éœ€è¦ï¼š1ï¼Œsocketæ–‡ä»¶æè¿°ç¬¦ï¼›2ï¼ŒIPåœ°å€ï¼›3ï¼Œç«¯å£ï¼›4ï¼Œå†…å­˜</p>
<p>1ã€å†…å­˜èµ„æºï¼š ä¸€ä¸ªtcpè¿æ¥æœ€å°å ç”¨å†…å­˜ä¸º4096+4096 &#x3D; 8kï¼Œ é‚£ä¹ˆå¯¹äºä¸€ä¸ª8Gå†…å­˜çš„æœºå™¨ï¼Œåœ¨ä¸è€ƒè™‘å…¶ä»–é™åˆ¶ä¸‹ï¼Œ æœ€å¤šæ”¯æŒçš„å¹¶å‘é‡ä¸ºï¼š810241024&#x2F;8 çº¦ç­‰äº100ä¸‡ï¼Œ åœ¨å®é™…ä¸­ï¼Œç”±äºlinux kernelå¯¹ä¸€äº›èµ„æºçš„é™åˆ¶ï¼Œ åŠ ä¸Šç¨‹åºçš„ä¸šåŠ¡å¤„ç†ï¼Œæ‰€ä»¥ï¼Œ8Gå†…å­˜æ˜¯å¾ˆéš¾è¾¾åˆ°100ä¸‡è¿æ¥çš„</p>
<p>2ã€CPUèµ„æº</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´è¯´-HTTP1-0-x2F-1-1-x2F-2-0-çš„åŒºåˆ«"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´è¯´-HTTP1-0-x2F-1-1-x2F-2-0-çš„åŒºåˆ«" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´è¯´ HTTP1.0&#x2F;1.1&#x2F;2.0 çš„åŒºåˆ«?"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´è¯´ HTTP1.0&#x2F;1.1&#x2F;2.0 çš„åŒºåˆ«?</h3><h4 id="ä¸€ã€HTTP1-0"><a href="#ä¸€ã€HTTP1-0" class="headerlink" title="ä¸€ã€HTTP1.0"></a>ä¸€ã€HTTP1.0</h4><p><code>HTTP</code>åè®®çš„ç¬¬äºŒä¸ªç‰ˆæœ¬ï¼Œç¬¬ä¸€ä¸ªåœ¨é€šè®¯ä¸­æŒ‡å®šç‰ˆæœ¬å·çš„HTTPåè®®ç‰ˆæœ¬</p>
<p><code>HTTP 1.0</code> æµè§ˆå™¨ä¸æœåŠ¡å™¨åªä¿æŒçŸ­æš‚çš„è¿æ¥ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦ä¸æœåŠ¡å™¨å»ºç«‹ä¸€ä¸ª<code>TCP</code>è¿æ¥</p>
<p>æœåŠ¡å™¨å®Œæˆè¯·æ±‚å¤„ç†åç«‹å³æ–­å¼€<code>TCP</code>è¿æ¥ï¼ŒæœåŠ¡å™¨ä¸è·Ÿè¸ªæ¯ä¸ªå®¢æˆ·ä¹Ÿä¸è®°å½•è¿‡å»çš„è¯·æ±‚</p>
<p>ç®€å•æ¥è®²ï¼Œæ¯æ¬¡ä¸æœåŠ¡å™¨äº¤äº’ï¼Œéƒ½éœ€è¦æ–°å¼€ä¸€ä¸ªè¿æ¥</p>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65666666346461302d623933612d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>ä¾‹å¦‚ï¼Œè§£æ<code>html</code>æ–‡ä»¶ï¼Œå½“å‘ç°æ–‡ä»¶ä¸­å­˜åœ¨èµ„æºæ–‡ä»¶çš„æ—¶å€™ï¼Œè¿™æ—¶å€™åˆåˆ›å»ºå•ç‹¬çš„é“¾æ¥</p>
<p>æœ€ç»ˆå¯¼è‡´ï¼Œä¸€ä¸ª<code>html</code>æ–‡ä»¶çš„è®¿é—®åŒ…å«äº†å¤šæ¬¡çš„è¯·æ±‚å’Œå“åº”ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦åˆ›å»ºè¿æ¥ã€å…³ç³»è¿æ¥</p>
<p>è¿™ç§å½¢å¼æ˜æ˜¾é€ æˆäº†æ€§èƒ½ä¸Šçš„ç¼ºé™·</p>
<p>å¦‚æœéœ€è¦å»ºç«‹é•¿è¿æ¥ï¼Œéœ€è¦è®¾ç½®ä¸€ä¸ªéæ ‡å‡†çš„Connectionå­—æ®µ <code>Connection: keep-alive</code></p>
<h4 id="äºŒã€HTTP1-1"><a href="#äºŒã€HTTP1-1" class="headerlink" title="äºŒã€HTTP1.1"></a>äºŒã€HTTP1.1</h4><p>åœ¨<code>HTTP1.1</code>ä¸­ï¼Œé»˜è®¤æ”¯æŒé•¿è¿æ¥ï¼ˆ<code>Connection: keep-alive</code>ï¼‰ï¼Œå³åœ¨ä¸€ä¸ªTCPè¿æ¥ä¸Šå¯ä»¥ä¼ é€å¤šä¸ª<code>HTTP</code>è¯·æ±‚å’Œå“åº”ï¼Œå‡å°‘äº†å»ºç«‹å’Œå…³é—­è¿æ¥çš„æ¶ˆè€—å’Œå»¶è¿Ÿ</p>
<p>å»ºç«‹ä¸€æ¬¡è¿æ¥ï¼Œå¤šæ¬¡è¯·æ±‚å‡ç”±è¿™ä¸ªè¿æ¥å®Œæˆ</p>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f32326462326239302d623933622d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<p>è¿™æ ·ï¼Œåœ¨åŠ è½½<code>html</code>æ–‡ä»¶çš„æ—¶å€™ï¼Œæ–‡ä»¶ä¸­å¤šä¸ªè¯·æ±‚å’Œå“åº”å°±å¯ä»¥åœ¨ä¸€ä¸ªè¿æ¥ä¸­ä¼ è¾“</p>
<p>åŒæ—¶ï¼Œ<code>HTTP 1.1</code>è¿˜å…è®¸å®¢æˆ·ç«¯ä¸ç”¨ç­‰å¾…ä¸Šä¸€æ¬¡è¯·æ±‚ç»“æœè¿”å›ï¼Œå°±å¯ä»¥å‘å‡ºä¸‹ä¸€æ¬¡è¯·æ±‚ï¼Œä½†æœåŠ¡å™¨ç«¯å¿…é¡»æŒ‰ç…§æ¥æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚çš„å…ˆåé¡ºåºä¾æ¬¡å›é€å“åº”ç»“æœï¼Œä»¥ä¿è¯å®¢æˆ·ç«¯èƒ½å¤ŸåŒºåˆ†å‡ºæ¯æ¬¡è¯·æ±‚çš„å“åº”å†…å®¹ï¼Œè¿™æ ·ä¹Ÿæ˜¾è‘—åœ°å‡å°‘äº†æ•´ä¸ªä¸‹è½½è¿‡ç¨‹æ‰€éœ€è¦çš„æ—¶é—´</p>
<p>åŒæ—¶ï¼Œ<code>HTTP1.1</code>åœ¨<code>HTTP1.0</code>çš„åŸºç¡€ä¸Šï¼Œå¢åŠ æ›´å¤šçš„è¯·æ±‚å¤´å’Œå“åº”å¤´æ¥å®Œå–„çš„åŠŸèƒ½ï¼Œå¦‚ä¸‹ï¼š</p>
<ul>
<li>å¼•å…¥äº†æ›´å¤šçš„ç¼“å­˜æ§åˆ¶ç­–ç•¥ï¼Œå¦‚If-Unmodified-Since, If-Match, If-None-Matchç­‰ç¼“å­˜å¤´æ¥æ§åˆ¶ç¼“å­˜ç­–ç•¥</li>
<li>å¼•å…¥rangeï¼Œå…è®¸å€¼è¯·æ±‚èµ„æºæŸä¸ªéƒ¨åˆ†</li>
<li>å¼•å…¥hostï¼Œå®ç°äº†åœ¨ä¸€å°WEBæœåŠ¡å™¨ä¸Šå¯ä»¥åœ¨åŒä¸€ä¸ªIPåœ°å€å’Œç«¯å£å·ä¸Šä½¿ç”¨ä¸åŒçš„ä¸»æœºåæ¥åˆ›å»ºå¤šä¸ªè™šæ‹ŸWEBç«™ç‚¹</li>
</ul>
<p>å¹¶ä¸”è¿˜æ·»åŠ äº†å…¶ä»–çš„è¯·æ±‚æ–¹æ³•ï¼š<code>put</code>ã€<code>delete</code>ã€<code>options</code>â€¦</p>
<h4 id="ä¸‰ã€HTTP2-0"><a href="#ä¸‰ã€HTTP2-0" class="headerlink" title="ä¸‰ã€HTTP2.0"></a>ä¸‰ã€HTTP2.0</h4><p>è€Œ<code>HTTP2.0</code>åœ¨ç›¸æ¯”ä¹‹å‰ç‰ˆæœ¬ï¼Œæ€§èƒ½ä¸Šæœ‰å¾ˆå¤§çš„æå‡ï¼Œå¦‚æ·»åŠ äº†ä¸€ä¸ªç‰¹æ€§ï¼š</p>
<ul>
<li>å¤šè·¯å¤ç”¨</li>
<li>äºŒè¿›åˆ¶åˆ†å¸§</li>
<li>é¦–éƒ¨å‹ç¼©</li>
<li>æœåŠ¡å™¨æ¨é€</li>
</ul>
<h5 id="å¤šè·¯å¤ç”¨"><a href="#å¤šè·¯å¤ç”¨" class="headerlink" title="å¤šè·¯å¤ç”¨"></a>å¤šè·¯å¤ç”¨</h5><p><code>HTTP/2</code> å¤ç”¨<code>TCP</code>è¿æ¥ï¼Œåœ¨ä¸€ä¸ªè¿æ¥é‡Œï¼Œå®¢æˆ·ç«¯å’Œæµè§ˆå™¨éƒ½å¯ä»¥åŒæ—¶å‘é€å¤šä¸ªè¯·æ±‚æˆ–å›åº”ï¼Œè€Œä¸”ä¸ç”¨æŒ‰ç…§é¡ºåºä¸€ä¸€å¯¹åº”ï¼Œè¿™æ ·å°±é¿å…äº†â€é˜Ÿå¤´å µå¡â€</p>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f33313366313938302d623933622d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>ä¸Šå›¾ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ç¬¬å››æ­¥ä¸­<code>css</code>ã€<code>js</code>èµ„æºæ˜¯åŒæ—¶å‘é€åˆ°æœåŠ¡ç«¯</p>
<h5 id="äºŒè¿›åˆ¶åˆ†å¸§"><a href="#äºŒè¿›åˆ¶åˆ†å¸§" class="headerlink" title="äºŒè¿›åˆ¶åˆ†å¸§"></a>äºŒè¿›åˆ¶åˆ†å¸§</h5><p>å¸§æ˜¯<code>HTTP2</code>é€šä¿¡ä¸­æœ€å°å•ä½ä¿¡æ¯</p>
<p><code>HTTP/2</code> é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼ä¼ è¾“æ•°æ®ï¼Œè€Œé <code>HTTP 1.x </code>çš„æ–‡æœ¬æ ¼å¼ï¼Œè§£æèµ·æ¥æ›´é«˜æ•ˆ</p>
<p>å°†è¯·æ±‚å’Œå“åº”æ•°æ®åˆ†å‰²ä¸ºæ›´å°çš„å¸§ï¼Œå¹¶ä¸”å®ƒä»¬é‡‡ç”¨äºŒè¿›åˆ¶ç¼–ç </p>
<p><code>HTTP2 </code>ä¸­ï¼ŒåŒåŸŸåä¸‹æ‰€æœ‰é€šä¿¡éƒ½åœ¨å•ä¸ªè¿æ¥ä¸Šå®Œæˆï¼Œè¯¥è¿æ¥å¯ä»¥æ‰¿è½½ä»»æ„æ•°é‡çš„åŒå‘æ•°æ®æµ</p>
<p>æ¯ä¸ªæ•°æ®æµéƒ½ä»¥æ¶ˆæ¯çš„å½¢å¼å‘é€ï¼Œè€Œæ¶ˆæ¯åˆç”±ä¸€ä¸ªæˆ–å¤šä¸ªå¸§ç»„æˆã€‚å¤šä¸ªå¸§ä¹‹é—´å¯ä»¥ä¹±åºå‘é€ï¼Œæ ¹æ®å¸§é¦–éƒ¨çš„æµæ ‡è¯†å¯ä»¥é‡æ–°ç»„è£…ï¼Œè¿™ä¹Ÿæ˜¯å¤šè·¯å¤ç”¨åŒæ—¶å‘é€æ•°æ®çš„å®ç°æ¡ä»¶</p>
<h5 id="é¦–éƒ¨å‹ç¼©"><a href="#é¦–éƒ¨å‹ç¼©" class="headerlink" title="é¦–éƒ¨å‹ç¼©"></a>é¦–éƒ¨å‹ç¼©</h5><p><code>HTTP/2</code>åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä½¿ç”¨â€œé¦–éƒ¨è¡¨â€æ¥è·Ÿè¸ªå’Œå­˜å‚¨ä¹‹å‰å‘é€çš„é”®å€¼å¯¹ï¼Œå¯¹äºç›¸åŒçš„æ•°æ®ï¼Œä¸å†é€šè¿‡æ¯æ¬¡è¯·æ±‚å’Œå“åº”å‘é€</p>
<p>é¦–éƒ¨è¡¨åœ¨<code>HTTP/2</code>çš„è¿æ¥å­˜ç»­æœŸå†…å§‹ç»ˆå­˜åœ¨ï¼Œç”±å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å…±åŒæ¸è¿›åœ°æ›´æ–°</p>
<p>ä¾‹å¦‚ï¼šä¸‹å›¾ä¸­çš„ä¸¤ä¸ªè¯·æ±‚ï¼Œ è¯·æ±‚ä¸€å‘é€äº†æ‰€æœ‰çš„å¤´éƒ¨å­—æ®µï¼Œç¬¬äºŒä¸ªè¯·æ±‚åˆ™åªéœ€è¦å‘é€å·®å¼‚æ•°æ®ï¼Œè¿™æ ·å¯ä»¥å‡å°‘å†—ä½™æ•°æ®ï¼Œé™ä½å¼€é”€</p>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f33633533363734302d623933622d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<h5 id="æœåŠ¡å™¨æ¨é€"><a href="#æœåŠ¡å™¨æ¨é€" class="headerlink" title="æœåŠ¡å™¨æ¨é€"></a>æœåŠ¡å™¨æ¨é€</h5><p><code>HTTP2</code>å¼•å…¥æœåŠ¡å™¨æ¨é€ï¼Œå…è®¸æœåŠ¡ç«¯æ¨é€èµ„æºç»™å®¢æˆ·ç«¯</p>
<p>æœåŠ¡å™¨ä¼šé¡ºä¾¿æŠŠä¸€äº›å®¢æˆ·ç«¯éœ€è¦çš„èµ„æºä¸€èµ·æ¨é€åˆ°å®¢æˆ·ç«¯ï¼Œå¦‚åœ¨å“åº”ä¸€ä¸ªé¡µé¢è¯·æ±‚ä¸­ï¼Œå°±å¯ä»¥éšåŒé¡µé¢çš„å…¶å®ƒèµ„æº</p>
<p>å…å¾—å®¢æˆ·ç«¯å†æ¬¡åˆ›å»ºè¿æ¥å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ç«¯è·å–</p>
<p>è¿™ç§æ–¹å¼éå¸¸åˆé€‚åŠ è½½é™æ€èµ„æº</p>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f34373133303535302d623933622d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<h4 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h4><p>HTTP1.0ï¼š</p>
<ul>
<li>æµè§ˆå™¨ä¸æœåŠ¡å™¨åªä¿æŒçŸ­æš‚çš„è¿æ¥ï¼Œæµè§ˆå™¨çš„æ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦ä¸æœåŠ¡å™¨å»ºç«‹ä¸€ä¸ªTCPè¿æ¥</li>
</ul>
<p>HTTP1.1ï¼š</p>
<ul>
<li>å¼•å…¥äº†æŒä¹…è¿æ¥ï¼Œå³TCPè¿æ¥é»˜è®¤ä¸å…³é—­ï¼Œå¯ä»¥è¢«å¤šä¸ªè¯·æ±‚å¤ç”¨</li>
<li>åœ¨åŒä¸€ä¸ªTCPè¿æ¥é‡Œé¢ï¼Œå®¢æˆ·ç«¯å¯ä»¥åŒæ—¶å‘é€å¤šä¸ªè¯·æ±‚</li>
<li>è™½ç„¶å…è®¸å¤ç”¨TCPè¿æ¥ï¼Œä½†æ˜¯åŒä¸€ä¸ªTCPè¿æ¥é‡Œé¢ï¼Œæ‰€æœ‰çš„æ•°æ®é€šä¿¡æ˜¯æŒ‰æ¬¡åºè¿›è¡Œçš„ï¼ŒæœåŠ¡å™¨åªæœ‰å¤„ç†å®Œä¸€ä¸ªè¯·æ±‚ï¼Œæ‰ä¼šæ¥ç€å¤„ç†ä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚å¦‚æœå‰é¢çš„å¤„ç†ç‰¹åˆ«æ…¢ï¼Œåé¢å°±ä¼šæœ‰è®¸å¤šè¯·æ±‚æ’é˜Ÿç­‰ç€</li>
<li>æ–°å¢äº†ä¸€äº›è¯·æ±‚æ–¹æ³•</li>
<li>æ–°å¢äº†ä¸€äº›è¯·æ±‚å¤´å’Œå“åº”å¤´</li>
</ul>
<p>HTTP2.0ï¼š</p>
<ul>
<li>é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼è€Œéæ–‡æœ¬æ ¼å¼</li>
<li>å®Œå…¨å¤šè·¯å¤ç”¨ï¼Œè€Œéæœ‰åºå¹¶é˜»å¡çš„ã€åªéœ€ä¸€ä¸ªè¿æ¥å³å¯å®ç°å¹¶è¡Œ</li>
<li>ä½¿ç”¨æŠ¥å¤´å‹ç¼©ï¼Œé™ä½å¼€é”€</li>
<li>æœåŠ¡å™¨æ¨é€</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-HTTP2-0çš„ç‰¹ç‚¹"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-HTTP2-0çš„ç‰¹ç‚¹" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸  HTTP2.0çš„ç‰¹ç‚¹"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸  HTTP2.0çš„ç‰¹ç‚¹</h3><p>HTTP2.0å¤§å¹…åº¦çš„æé«˜äº†webæ€§èƒ½ï¼Œåœ¨HTTP1.1å®Œå…¨è¯­æ„å…¼å®¹çš„åŸºç¡€ä¸Šï¼Œè¿›ä¸€æ­¥å‡å°‘äº†ç½‘ç»œçš„å»¶è¿Ÿã€‚</p>
<ol>
<li>äºŒè¿›åˆ¶åˆ†å¸§</li>
<li>å¤šè·¯å¤ç”¨</li>
<li>é¦–éƒ¨å‹ç¼©</li>
<li>æµé‡æ§åˆ¶</li>
<li>è¯·æ±‚ä¼˜å…ˆçº§</li>
<li>æœåŠ¡å™¨æ¨é€</li>
</ol>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ç®€è¿°httpsåŸç†ï¼Œä»¥åŠä¸httpçš„åŒºåˆ«"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ç®€è¿°httpsåŸç†ï¼Œä»¥åŠä¸httpçš„åŒºåˆ«" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ç®€è¿°httpsåŸç†ï¼Œä»¥åŠä¸httpçš„åŒºåˆ«"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ç®€è¿°httpsåŸç†ï¼Œä»¥åŠä¸httpçš„åŒºåˆ«</h3><ol>
<li>HTTPåè®®å·¥ä½œåœ¨80ç«¯å£ï¼ŒHTTPSåè®®å·¥ä½œåœ¨443ç«¯å£</li>
<li>HTTPSéœ€è¦ç”³è¯·è¯ä¹¦ï¼ˆç”¨äºéªŒè¯æœåŠ¡å™¨èº«ä»½ï¼‰</li>
<li>HTTPåœ¨TCPä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ä¹‹åå³å¯å¼€å§‹ä¼ è¾“æ•°æ®ï¼›HTTPSåè®®åˆ™éœ€è¦åœ¨å»ºç«‹TCPè¿æ¥ä¹‹åå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨åœ¨è¿›è¡ŒSSLåŠ å¯†ï¼Œç¡®å®šå¯¹è¯å¯†é’¥ï¼Œå®ŒæˆåŠ å¯†åæ‰å¼€å§‹ä¼ è¾“æ•°æ®ã€‚</li>
<li>HTTPSåè®®ä¼ è¾“æ˜¯å¯†æ–‡ï¼ŒHTTPåè®®ä¼ è¾“æ˜¯æ˜æ–‡</li>
</ol>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-CDN-æ˜¯ä»€ä¹ˆï¼Ÿæè¿°ä¸‹-CDN-åŸç†ï¼Ÿä¸ºä»€ä¹ˆè¦ç”¨-CDN"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-CDN-æ˜¯ä»€ä¹ˆï¼Ÿæè¿°ä¸‹-CDN-åŸç†ï¼Ÿä¸ºä»€ä¹ˆè¦ç”¨-CDN" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ CDN æ˜¯ä»€ä¹ˆï¼Ÿæè¿°ä¸‹ CDN åŸç†ï¼Ÿä¸ºä»€ä¹ˆè¦ç”¨ CDN?"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ CDN æ˜¯ä»€ä¹ˆï¼Ÿæè¿°ä¸‹ CDN åŸç†ï¼Ÿä¸ºä»€ä¹ˆè¦ç”¨ CDN?</h3><p>CDNçš„å…¨ç§°æ˜¯Content Delivery Networkï¼Œå³å†…å®¹åˆ†å‘ç½‘ç»œ å…±æœ‰äº‘å‚å•†åœ¨å…¨ä¸–ç•Œå„åœ°éƒ½éå¸ƒä¸è®¡å…¶æ•°éƒ½æ•°æ®ä¸­å¿ƒå’ŒæœåŠ¡å™¨ï¼Œ CDNæœåŠ¡ç®€å•æ¥è®²å°±æ˜¯è¿™äº›å‚å•†å°†ä½ çš„æœåŠ¡å™¨ä¸Šé¢çš„æ–‡æ¡£åˆ†å‘åˆ°ä»–ä»¬ä¸åŒåœ°åŒºçš„æœåŠ¡å™¨çš„å½“ä¸­ï¼Œ æ¯ä¸ªåœ°åŒºå¯ä»¥ç§°ä¸ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ ·ç”¨æˆ·åœ¨è®¿é—®ä½ çš„ç½‘å€æ—¶ï¼Œ æµè§ˆå™¨å‘é€çš„è¯·æ±‚å°±ä¼šä¼˜å…ˆç»•å»ç¦»å®¢æˆ·æœ€è¿‘çš„èŠ‚ç‚¹æ¥è·å–æ•°æ®ï¼Œ è¿™æ ·æ–¹ä¾¿å®¢æˆ·æ›´å¿«çš„é€Ÿåº¦è®¿é—®ç½‘ç«™ã€‚ CDNæ˜¯æ„å»ºåœ¨ç°æœ‰ç½‘ç»œåŸºç¡€ä¹‹ä¸Šçš„æ™ºèƒ½è™šæ‹Ÿç½‘ç»œï¼Œä¾é éƒ¨ç½²åœ¨å„åœ°çš„è¾¹ç¼˜æœåŠ¡å™¨ï¼Œ é€šè¿‡ä¸­å¿ƒå¹³å°çš„è´Ÿè½½å‡è¡¡ã€å†…å®¹åˆ†å‘ã€è°ƒåº¦ç­‰åŠŸèƒ½æ¨¡å—ï¼Œä½¿ç”¨æˆ·å°±è¿‘è·å–æ‰€éœ€å†…å®¹ï¼Œ é™ä½ç½‘ç»œæ‹¥å¡ï¼Œæé«˜ç”¨æˆ·è®¿é—®å“åº”é€Ÿåº¦å’Œå‘½ä¸­ç‡ã€‚CDNçš„å…³é”®æŠ€æœ¯ä¸»è¦æœ‰å†…å®¹å­˜å‚¨å’Œåˆ†å‘æŠ€æœ¯ã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-DNS-æŸ¥è¯¢çš„è¿‡ç¨‹ï¼Œåˆ†ä¸ºå“ªä¸¤ç§ï¼Œæ˜¯æ€ä¹ˆä¸€ä¸ªè¿‡ç¨‹"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-DNS-æŸ¥è¯¢çš„è¿‡ç¨‹ï¼Œåˆ†ä¸ºå“ªä¸¤ç§ï¼Œæ˜¯æ€ä¹ˆä¸€ä¸ªè¿‡ç¨‹" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ DNS æŸ¥è¯¢çš„è¿‡ç¨‹ï¼Œåˆ†ä¸ºå“ªä¸¤ç§ï¼Œæ˜¯æ€ä¹ˆä¸€ä¸ªè¿‡ç¨‹"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ DNS æŸ¥è¯¢çš„è¿‡ç¨‹ï¼Œåˆ†ä¸ºå“ªä¸¤ç§ï¼Œæ˜¯æ€ä¹ˆä¸€ä¸ªè¿‡ç¨‹</h3><p>1ã€åˆ†å¸ƒåŸŸåè§£æï¼šæ˜¯æŒ‡åˆ†åœ¨å®¢æˆ·ç«¯ä¸Šç»´æŠ¤ä¸€ä¸ªé™æ€çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä¸»æœºåå’ŒIPåœ°å€çš„æ˜ å°„ã€‚ éšç€ç½‘ç»œè§„æ¨¡çš„æ‰©å¤§ï¼Œåˆ†å¸ƒå¼åˆ†è¾¨ç‡çš„æœ‰æ•ˆæ€§è¶Šæ¥è¶Šä½ã€‚</p>
<p>2ã€é›†ä¸­å¼åŸŸåè§£æï¼šè¦æ±‚ç½‘ç»œä¸­æœ‰å¤šå°DNSæœåŠ¡å™¨ï¼Œè´Ÿè´£ç»´æŠ¤åŸŸå&#x2F;IPåœ°å€æ˜ å°„æ•°æ®åº“ã€‚ å®¢æˆ·ç«¯ä»æŒ‡å®šçš„æœåŠ¡å™¨è·å–åŸŸåçš„åœ°å€ä¿¡æ¯ã€‚ä¸€æ—¦å®¢æˆ·ç«¯æŒ‡å®šçš„DNSæœåŠ¡å™¨ä¸åŒ…å«ç›¸åº”çš„æ•°æ®ï¼Œ DNSæœåŠ¡å™¨å°±ä¼šåœ¨ç½‘ç»œä¸­è¿›è¡Œé€’å½’æŸ¥è¯¢ï¼Œå¹¶è·å–å…¶ä»–æœåŠ¡å™¨ä¸Šçš„åœ°å€ä¿¡æ¯ã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜çš„åŒºåˆ«"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜çš„åŒºåˆ«" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜çš„åŒºåˆ«"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜çš„åŒºåˆ«</h3><p>å¼ºç¼“å­˜ï¼ˆæœ¬åœ°ç¼“å­˜ï¼‰:ç›´æ¥ä½¿ç”¨æœ¬åœ°çš„ç¼“å­˜ï¼Œä¸ç”¨è·ŸæœåŠ¡å™¨è¿›è¡Œé€šä¿¡</p>
<p>ç›¸å…³headerå­—æ®µ</p>
<p>expiresï¼šä¸€ä¸ªæœªæ¥æ—¶é—´ï¼Œä»£è¡¨è¯·æ±‚æœ‰æ•ˆæœŸï¼Œæ²¡æœ‰è¿‡æœŸä¹‹å‰éƒ½ä½¿ç”¨å½“å‰è¯·æ±‚ã€‚</p>
<p>cache-control</p>
<p>no-cacheï¼šä¸ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚å‘æµè§ˆå™¨å‘é€æ–°é²œåº¦æ ¡éªŒè¯·æ±‚</p>
<p>pubilcï¼šä»»ä½•æƒ…å†µä¸‹éƒ½ç¼“å­˜ï¼ˆå³ä½¿æ˜¯HTTPè®¤è¯çš„èµ„æºï¼‰</p>
<p>privateï¼šåªèƒ½è¢«ç»ˆç«¯ç”¨æˆ·çš„æµè§ˆå™¨ç¼“å­˜ï¼Œä¸å…è®¸CDNç­‰ä¸­ç»§ç¼“å­˜æœåŠ¡å™¨å¯¹å…¶ç¼“å­˜</p>
<p>no-storeï¼šç¦æ­¢æµè§ˆå™¨ç¼“å­˜æ•°æ®ï¼Œä¹Ÿç¦æ­¢ä¿å­˜è‡³ä¸´æ—¶æ–‡ä»¶ä¸­ï¼Œæ¯æ¬¡éƒ½é‡æ–°è¯·æ±‚ï¼Œå¤šæ¬¡è®¾ç½® cache-controlï¼Œä¼˜å…ˆçº§æœ€é«˜</p>
<p>åå•†ç¼“å­˜:å°†èµ„æºä¸€äº›ç›¸å…³ä¿¡æ¯è¿”å›æœåŠ¡å™¨ï¼Œè®©æœåŠ¡å™¨åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦èƒ½ç›´æ¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼Œæ•´ä¸ªè¿‡ç¨‹è‡³å°‘ä¸æœåŠ¡å™¨é€šä¿¡ä¸€æ¬¡</p>
<p>ç›¸å…³headerå­—æ®µ</p>
<p>Last-Modified&#x2F;If-Modified-Sinceï¼ˆä¸¤ä¸ªéƒ½æ˜¯æ—¶é—´æ ¼å¼å­—ç¬¦ä¸²ï¼‰</p>
<p>æµè§ˆå™¨ç¬¬ä¸€æ¬¡å‘è¯·æ±‚ï¼ŒæœåŠ¡å™¨åœ¨è¿”å›çš„ respone çš„ header åŠ ä¸Š Last-Modifiedï¼Œè¡¨ç¤ºèµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´å†æ¬¡è¯·æ±‚èµ„æºï¼Œåœ¨ requset çš„ header åŠ ä¸Š If-Modified-Since ï¼Œå€¼å°±æ˜¯ä¸Šä¸€æ¬¡è¯·æ±‚è¿”å›çš„ Last-Modified å€¼</p>
<p>æœåŠ¡å™¨æ ¹æ®è¯·æ±‚ä¼ è¿‡æ¥çš„å€¼åˆ¤æ–­èµ„æºæ˜¯å¦æœ‰å˜åŒ–ï¼Œæ²¡æœ‰åˆ™è¿”å› 304ï¼Œæœ‰å˜åŒ–å°±æ­£å¸¸è¿”å›èµ„æºå†…å®¹ï¼Œæ›´æ–° LastModified çš„å€¼</p>
<p>304 ä»ç¼“å­˜åŠ è½½èµ„æºï¼Œå¦åˆ™ç›´æ¥ä»æœåŠ¡å™¨åŠ è½½èµ„æº</p>
<p>Etag&#x2F;If-None-Matchä¸ Last-Modified&#x2F;If-Modified-Since ä¸åŒçš„æ˜¯ï¼Œè¿”å› 304 æ—¶ï¼ŒETag è¿˜æ˜¯ä¼šé‡æ–°ç”Ÿæˆè¿”å›è‡³æµè§ˆå™¨ã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä¸ºä»€ä¹ˆfromè¡¨å•æäº¤æ²¡æœ‰è·¨åŸŸé—®é¢˜ï¼Œä½†ajaxæœ‰è·¨åŸŸé—®é¢˜"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä¸ºä»€ä¹ˆfromè¡¨å•æäº¤æ²¡æœ‰è·¨åŸŸé—®é¢˜ï¼Œä½†ajaxæœ‰è·¨åŸŸé—®é¢˜" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä¸ºä»€ä¹ˆfromè¡¨å•æäº¤æ²¡æœ‰è·¨åŸŸé—®é¢˜ï¼Œä½†ajaxæœ‰è·¨åŸŸé—®é¢˜"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä¸ºä»€ä¹ˆfromè¡¨å•æäº¤æ²¡æœ‰è·¨åŸŸé—®é¢˜ï¼Œä½†ajaxæœ‰è·¨åŸŸé—®é¢˜</h3><p>æµè§ˆå™¨çš„ç­–ç•¥æœ¬è´¨æ˜¯ï¼šä¸€ä¸ªåŸŸåä¸‹é¢çš„JSï¼Œæ²¡æœ‰ç»è¿‡å…è®¸æ˜¯ä¸èƒ½è¯»å–å¦ä¸€ä¸ªåŸŸåçš„å†…å®¹ï¼Œä½†æ˜¯æµè§ˆå™¨ä¸é˜»æ­¢ä½ å‘å¦å¤–ä¸€ä¸ªåŸŸåå‘é€è¯·æ±‚ã€‚ æ‰€ä»¥formè¡¨å•æäº¤æ²¡æœ‰è·¨åŸŸé—®é¢˜ï¼Œæäº¤formè¡¨å•åˆ°å¦å¤–ä¸€ä¸ªåŸŸåï¼ŒåŸæ¥é¡µé¢æ˜¯æ— æ³•è·å–æ–°é¡µé¢çš„å†…å®¹ï¼Œæˆ–è€…è¯´formæäº¤åä¸éœ€è¦è¿”å›ï¼Œä½†æ˜¯ajaxæ˜¯éœ€è¦è¿”å›çš„ã€‚ è€Œajaxæ˜¯æƒ³è¦è¯»å–å“åº”å†…å®¹ï¼Œæµè§ˆå™¨æ˜¯ä¸å…è®¸ä½ è¿™ä¹ˆåšçš„ã€‚ æµè§ˆå™¨çš„å®‰å…¨ç­–ç•¥é™åˆ¶çš„æ˜¯jsè„šæœ¬ï¼Œå¹¶ä¸é™åˆ¶srcï¼Œformè¡¨å•æäº¤ä¹‹ç±»çš„è¯·æ±‚ï¼Œ å°±æ˜¯è¯´formè¡¨å•æäº¤ä¸å­˜åœ¨å®‰å…¨é—®é¢˜ï¼Œajaxæäº¤è·¨åŸŸå­˜åœ¨å®‰å…¨é—®é¢˜ã€‚</p>
<hr>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-urlä»è¾“å…¥åˆ°æ¸²æŸ“é¡µé¢çš„å…¨è¿‡ç¨‹"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-urlä»è¾“å…¥åˆ°æ¸²æŸ“é¡µé¢çš„å…¨è¿‡ç¨‹" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ urlä»è¾“å…¥åˆ°æ¸²æŸ“é¡µé¢çš„å…¨è¿‡ç¨‹"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ urlä»è¾“å…¥åˆ°æ¸²æŸ“é¡µé¢çš„å…¨è¿‡ç¨‹</h3><p>æµè§ˆå™¨æ„å»ºHTTP Requestè¯·æ±‚ï¼Œ DNSè§£æURLåœ°å€ã€ç”ŸæˆHTTPè¯·æ±‚æŠ¥æ–‡ã€æ„å»ºTCPè¿æ¥ã€ä½¿ç”¨IPåè®®é€‰æ‹©ä¼ è¾“è·¯çº¿</p>
<p>å°†è¯·æ±‚é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°æœåŠ¡ç«¯ </p>
<p>ä»å®¢æˆ·æœºåˆ°æœåŠ¡å™¨éœ€è¦é€šè¿‡è®¸å¤šç½‘ç»œè®¾å¤‡ï¼Œä¸€èˆ¬åŒ…æ‹¬é›†çº¿å™¨ã€äº¤æ¢å™¨ã€è·¯ç”±å™¨ç­‰</p>
<p>æœåŠ¡å™¨æ„å»ºHTTP Responseå“åº”ï¼Œå“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚</p>
<p>å°†å“åº”ä½“çš„æ•°æ®é€šè¿‡ç½‘ç»œä¼ è¾“è¿”å›ç»™å®¢æˆ·ç«¯</p>
<p>æµè§ˆå™¨æ¸²æŸ“é¡µé¢ è§£æHTMLã€CSSã€JSï¼Œç”ŸæˆRenderTreeæ¸²æŸ“é¡µé¢</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-TCPä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-TCPä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ TCPä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ TCPä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹ï¼Ÿ</h3><h4 id="ä¸€ã€ä¸‰æ¬¡æ¡æ‰‹"><a href="#ä¸€ã€ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ä¸€ã€ä¸‰æ¬¡æ¡æ‰‹"></a>ä¸€ã€ä¸‰æ¬¡æ¡æ‰‹</h4><p>ä¸‰æ¬¡æ¡æ‰‹ï¼ˆThree-way Handshakeï¼‰å…¶å®å°±æ˜¯æŒ‡å»ºç«‹ä¸€ä¸ªTCPè¿æ¥æ—¶ï¼Œéœ€è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æ€»å…±å‘é€3ä¸ªåŒ…</p>
<p>ä¸»è¦ä½œç”¨å°±æ˜¯ä¸ºäº†ç¡®è®¤åŒæ–¹çš„æ¥æ”¶èƒ½åŠ›å’Œå‘é€èƒ½åŠ›æ˜¯å¦æ­£å¸¸ã€æŒ‡å®šè‡ªå·±çš„åˆå§‹åŒ–åºåˆ—å·ä¸ºåé¢çš„å¯é æ€§ä¼ é€åšå‡†å¤‡</p>
<p>è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯ç»™æœåŠ¡ç«¯å‘ä¸€ä¸ª SYN æŠ¥æ–‡ï¼Œå¹¶æŒ‡æ˜å®¢æˆ·ç«¯çš„åˆå§‹åŒ–åºåˆ—å· ISN(c)ï¼Œæ­¤æ—¶å®¢æˆ·ç«¯å¤„äº SYN_SENT çŠ¶æ€</li>
<li>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„ SYN æŠ¥æ–‡ä¹‹åï¼Œä¼šä»¥è‡ªå·±çš„ SYN æŠ¥æ–‡ä½œä¸ºåº”ç­”ï¼Œä¸ºäº†ç¡®è®¤å®¢æˆ·ç«¯çš„ SYNï¼Œå°†å®¢æˆ·ç«¯çš„ ISN+1ä½œä¸ºACKçš„å€¼ï¼Œæ­¤æ—¶æœåŠ¡å™¨å¤„äº SYN_RCVD çš„çŠ¶æ€</li>
<li>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯æ”¶åˆ° SYN æŠ¥æ–‡ä¹‹åï¼Œä¼šå‘é€ä¸€ä¸ª ACK æŠ¥æ–‡ï¼Œå€¼ä¸ºæœåŠ¡å™¨çš„ISN+1ã€‚æ­¤æ—¶å®¢æˆ·ç«¯å¤„äº ESTABLISHED çŠ¶æ€ã€‚æœåŠ¡å™¨æ”¶åˆ° ACK æŠ¥æ–‡ä¹‹åï¼Œä¹Ÿå¤„äº ESTABLISHED çŠ¶æ€ï¼Œæ­¤æ—¶ï¼ŒåŒæ–¹å·²å»ºç«‹èµ·äº†è¿æ¥</li>
</ul>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f66623438396663302d626562392d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>ä¸Šè¿°æ¯ä¸€æ¬¡æ¡æ‰‹çš„ä½œç”¨å¦‚ä¸‹ï¼š</p>
<ul>
<li>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯å‘é€ç½‘ç»œåŒ…ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°äº†<br>è¿™æ ·æœåŠ¡ç«¯å°±èƒ½å¾—å‡ºç»“è®ºï¼šå®¢æˆ·ç«¯çš„å‘é€èƒ½åŠ›ã€æœåŠ¡ç«¯çš„æ¥æ”¶èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚</li>
<li>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡ç«¯å‘åŒ…ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°äº†<br>è¿™æ ·å®¢æˆ·ç«¯å°±èƒ½å¾—å‡ºç»“è®ºï¼šæœåŠ¡ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›ï¼Œå®¢æˆ·ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚ä¸è¿‡æ­¤æ—¶æœåŠ¡å™¨å¹¶ä¸èƒ½ç¡®è®¤å®¢æˆ·ç«¯çš„æ¥æ”¶èƒ½åŠ›æ˜¯å¦æ­£å¸¸</li>
<li>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯å‘åŒ…ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°äº†ã€‚<br>è¿™æ ·æœåŠ¡ç«¯å°±èƒ½å¾—å‡ºç»“è®ºï¼šå®¢æˆ·ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›æ­£å¸¸ï¼ŒæœåŠ¡å™¨è‡ªå·±çš„å‘é€ã€æ¥æ”¶èƒ½åŠ›ä¹Ÿæ­£å¸¸</li>
</ul>
<p>é€šè¿‡ä¸‰æ¬¡æ¡æ‰‹ï¼Œå°±èƒ½ç¡®å®šåŒæ–¹çš„æ¥æ”¶å’Œå‘é€èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚ä¹‹åå°±å¯ä»¥æ­£å¸¸é€šä¿¡äº†</p>
<h4 id="ä¸ºä»€ä¹ˆä¸æ˜¯ä¸¤æ¬¡æ¡æ‰‹"><a href="#ä¸ºä»€ä¹ˆä¸æ˜¯ä¸¤æ¬¡æ¡æ‰‹" class="headerlink" title="ä¸ºä»€ä¹ˆä¸æ˜¯ä¸¤æ¬¡æ¡æ‰‹?"></a>ä¸ºä»€ä¹ˆä¸æ˜¯ä¸¤æ¬¡æ¡æ‰‹?</h4><p>å¦‚æœæ˜¯ä¸¤æ¬¡æ¡æ‰‹ï¼Œå‘é€ç«¯å¯ä»¥ç¡®å®šè‡ªå·±å‘é€çš„ä¿¡æ¯èƒ½å¯¹æ–¹èƒ½æ”¶åˆ°ï¼Œä¹Ÿèƒ½ç¡®å®šå¯¹æ–¹å‘çš„åŒ…è‡ªå·±èƒ½æ”¶åˆ°ï¼Œä½†æ¥æ”¶ç«¯åªèƒ½ç¡®å®šå¯¹æ–¹å‘çš„åŒ…è‡ªå·±èƒ½æ”¶åˆ° æ— æ³•ç¡®å®šè‡ªå·±å‘çš„åŒ…å¯¹æ–¹èƒ½æ”¶åˆ°</p>
<p>å¹¶ä¸”ä¸¤æ¬¡æ¡æ‰‹çš„è¯, å®¢æˆ·ç«¯æœ‰å¯èƒ½å› ä¸ºç½‘ç»œé˜»å¡ç­‰åŸå› ä¼šå‘é€å¤šä¸ªè¯·æ±‚æŠ¥æ–‡ï¼Œå»¶æ—¶åˆ°è¾¾çš„è¯·æ±‚åˆä¼šä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œæµªè´¹æ‰è®¸å¤šæœåŠ¡å™¨çš„èµ„æº</p>
<h4 id="äºŒã€å››æ¬¡æŒ¥æ‰‹"><a href="#äºŒã€å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="äºŒã€å››æ¬¡æŒ¥æ‰‹"></a>äºŒã€å››æ¬¡æŒ¥æ‰‹</h4><p><code>tcp</code>ç»ˆæ­¢ä¸€ä¸ªè¿æ¥ï¼Œéœ€è¦ç»è¿‡å››æ¬¡æŒ¥æ‰‹</p>
<p>è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼šå®¢æˆ·ç«¯å‘é€ä¸€ä¸ª FIN æŠ¥æ–‡ï¼ŒæŠ¥æ–‡ä¸­ä¼šæŒ‡å®šä¸€ä¸ªåºåˆ—å·ã€‚æ­¤æ—¶å®¢æˆ·ç«¯å¤„äº FIN_WAIT1 çŠ¶æ€ï¼Œåœæ­¢å‘é€æ•°æ®ï¼Œç­‰å¾…æœåŠ¡ç«¯çš„ç¡®è®¤</li>
<li>ç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼šæœåŠ¡ç«¯æ”¶åˆ° FIN ä¹‹åï¼Œä¼šå‘é€ ACK æŠ¥æ–‡ï¼Œä¸”æŠŠå®¢æˆ·ç«¯çš„åºåˆ—å·å€¼ +1 ä½œä¸º ACK æŠ¥æ–‡çš„åºåˆ—å·å€¼ï¼Œè¡¨æ˜å·²ç»æ”¶åˆ°å®¢æˆ·ç«¯çš„æŠ¥æ–‡äº†ï¼Œæ­¤æ—¶æœåŠ¡ç«¯å¤„äº CLOSE_WAITçŠ¶æ€</li>
<li>ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼šå¦‚æœæœåŠ¡ç«¯ä¹Ÿæƒ³æ–­å¼€è¿æ¥äº†ï¼Œå’Œå®¢æˆ·ç«¯çš„ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ä¸€æ ·ï¼Œå‘ç»™ FIN æŠ¥æ–‡ï¼Œä¸”æŒ‡å®šä¸€ä¸ªåºåˆ—å·ã€‚æ­¤æ—¶æœåŠ¡ç«¯å¤„äº <code>LAST_ACK</code> çš„çŠ¶æ€</li>
<li>ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼šå®¢æˆ·ç«¯æ”¶åˆ° FIN ä¹‹åï¼Œä¸€æ ·å‘é€ä¸€ä¸ª ACK æŠ¥æ–‡ä½œä¸ºåº”ç­”ï¼Œä¸”æŠŠæœåŠ¡ç«¯çš„åºåˆ—å·å€¼ +1 ä½œä¸ºè‡ªå·± ACK æŠ¥æ–‡çš„åºåˆ—å·å€¼ï¼Œæ­¤æ—¶å®¢æˆ·ç«¯å¤„äº TIME_WAITçŠ¶æ€ã€‚éœ€è¦è¿‡ä¸€é˜µå­ä»¥ç¡®ä¿æœåŠ¡ç«¯æ”¶åˆ°è‡ªå·±çš„ ACK æŠ¥æ–‡ä¹‹åæ‰ä¼šè¿›å…¥ CLOSED çŠ¶æ€ï¼ŒæœåŠ¡ç«¯æ”¶åˆ° ACK æŠ¥æ–‡ä¹‹åï¼Œå°±å¤„äºå…³é—­è¿æ¥äº†ï¼Œå¤„äº CLOSED çŠ¶æ€</li>
</ul>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f30613365626239302d626562612d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<h4 id="å››æ¬¡æŒ¥æ‰‹åŸå› "><a href="#å››æ¬¡æŒ¥æ‰‹åŸå› " class="headerlink" title="å››æ¬¡æŒ¥æ‰‹åŸå› "></a>å››æ¬¡æŒ¥æ‰‹åŸå› </h4><p>æœåŠ¡ç«¯åœ¨æ”¶åˆ°å®¢æˆ·ç«¯æ–­å¼€è¿æ¥<code>Fin</code>æŠ¥æ–‡åï¼Œå¹¶ä¸ä¼šç«‹å³å…³é—­è¿æ¥ï¼Œè€Œæ˜¯å…ˆå‘é€ä¸€ä¸ª<code>ACK</code>åŒ…å…ˆå‘Šè¯‰å®¢æˆ·ç«¯æ”¶åˆ°å…³é—­è¿æ¥çš„è¯·æ±‚ï¼Œåªæœ‰å½“æœåŠ¡å™¨çš„æ‰€æœ‰æŠ¥æ–‡å‘é€å®Œæ¯•ä¹‹åï¼Œæ‰å‘é€<code>FIN</code>æŠ¥æ–‡æ–­å¼€è¿æ¥ï¼Œå› æ­¤éœ€è¦å››æ¬¡æŒ¥æ‰‹</p>
<h4 id="ä¸‰ã€æ€»ç»“"><a href="#ä¸‰ã€æ€»ç»“" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h4><p>ä¸€ä¸ªå®Œæ•´çš„ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f36353934313439302d626562612d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´ä¸€ä¸‹httpç¼“å­˜ç­–ç•¥ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œåˆ†åˆ«è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´ä¸€ä¸‹httpç¼“å­˜ç­–ç•¥ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œåˆ†åˆ«è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´ä¸€ä¸‹httpç¼“å­˜ç­–ç•¥ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œåˆ†åˆ«è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´ä¸€ä¸‹httpç¼“å­˜ç­–ç•¥ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œåˆ†åˆ«è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h3><p>æµè§ˆå™¨æ¯æ¬¡å‘èµ·è¯·æ±‚æ—¶ï¼Œå…ˆåœ¨æœ¬åœ°ç¼“å­˜ä¸­æŸ¥æ‰¾ç»“æœä»¥åŠç¼“å­˜æ ‡è¯†ï¼Œæ ¹æ®ç¼“å­˜æ ‡è¯†æ¥åˆ¤æ–­æ˜¯å¦ä½¿ç”¨æœ¬åœ°ç¼“å­˜, å¦‚æœç¼“å­˜æœ‰æ•ˆï¼Œåˆ™ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚</p>
<p>å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚å¹¶æºå¸¦ç¼“å­˜æ ‡è¯†ã€‚æ ¹æ®æ˜¯å¦éœ€å‘æœåŠ¡å™¨å‘èµ·HTTPè¯·æ±‚ï¼Œ å°†ç¼“å­˜è¿‡ç¨‹åˆ’åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šå¼ºåˆ¶ç¼“å­˜å’Œåå•†ç¼“å­˜ï¼Œå¼ºç¼“ä¼˜å…ˆäºåå•†ç¼“å­˜ã€‚</p>
<p>å¼ºç¼“å­˜ï¼ŒæœåŠ¡å™¨é€šçŸ¥æµè§ˆå™¨ä¸€ä¸ªç¼“å­˜æ—¶é—´ï¼Œåœ¨ç¼“å­˜æ—¶é—´å†…ï¼Œä¸‹æ¬¡è¯·æ±‚ï¼Œç›´æ¥ç”¨ç¼“å­˜ï¼Œä¸åœ¨æ—¶é—´å†…ï¼Œæ‰§è¡Œæ¯”è¾ƒç¼“å­˜ç­–ç•¥ã€‚</p>
<p>åå•†ç¼“å­˜ï¼Œè®©å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´èƒ½å®ç°ç¼“å­˜æ–‡ä»¶æ˜¯å¦æ›´æ–°çš„éªŒè¯ã€æå‡ç¼“å­˜çš„å¤ç”¨ç‡ï¼Œ å°†ç¼“å­˜ä¿¡æ¯ä¸­çš„Etagå’ŒLast-Modified,é€šè¿‡è¯·æ±‚å‘é€ç»™æœåŠ¡å™¨ï¼Œç”±æœåŠ¡å™¨æ ¡éªŒï¼Œè¿”å›304çŠ¶æ€ç æ—¶ï¼Œæµè§ˆå™¨ç›´æ¥ä½¿ç”¨ç¼“å­˜ã€‚</p>
<p>è§£å†³é—®é¢˜</p>
<ol>
<li>å‡å°‘äº†å†—ä½™çš„æ•°æ®ä¼ è¾“</li>
<li>å‡å°‘äº†æœåŠ¡å™¨çš„è´Ÿæ‹…ï¼Œå¤§å¤§æå‡äº†ç½‘ç«™çš„æ€§èƒ½</li>
<li>åŠ å¿«äº†å®¢æˆ·ç«¯åŠ è½½ç½‘é¡µçš„é€Ÿåº¦</li>
</ol>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-ä¸ºä»€ä¹ˆè¯´HTTPSæ¯”HTTPå®‰å…¨-HTTPSæ˜¯å¦‚ä½•ä¿è¯å®‰å…¨çš„ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-ä¸ºä»€ä¹ˆè¯´HTTPSæ¯”HTTPå®‰å…¨-HTTPSæ˜¯å¦‚ä½•ä¿è¯å®‰å…¨çš„ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ ä¸ºä»€ä¹ˆè¯´HTTPSæ¯”HTTPå®‰å…¨? HTTPSæ˜¯å¦‚ä½•ä¿è¯å®‰å…¨çš„ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ ä¸ºä»€ä¹ˆè¯´HTTPSæ¯”HTTPå®‰å…¨? HTTPSæ˜¯å¦‚ä½•ä¿è¯å®‰å…¨çš„ï¼Ÿ</h3><h4 id="ä¸€ã€å®‰å…¨ç‰¹æ€§"><a href="#ä¸€ã€å®‰å…¨ç‰¹æ€§" class="headerlink" title="ä¸€ã€å®‰å…¨ç‰¹æ€§"></a>ä¸€ã€å®‰å…¨ç‰¹æ€§</h4><p>åœ¨ä¸Šç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬äº†è§£åˆ°<code>HTTP</code>åœ¨é€šä¿¡è¿‡ç¨‹ä¸­ï¼Œå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>é€šä¿¡ä½¿ç”¨æ˜æ–‡ï¼ˆä¸åŠ å¯†ï¼‰ï¼Œå†…å®¹å¯èƒ½è¢«çªƒå¬</li>
<li>ä¸éªŒè¯é€šä¿¡æ–¹çš„èº«ä»½ï¼Œå› æ­¤æœ‰å¯èƒ½é­é‡ä¼ªè£…</li>
</ul>
<p>è€Œ<code>HTTPS</code>çš„å‡ºç°æ­£æ˜¯è§£å†³è¿™äº›é—®é¢˜ï¼Œ<code>HTTPS</code>æ˜¯å»ºç«‹åœ¨<code>SSL</code>ä¹‹ä¸Šï¼Œå…¶å®‰å…¨æ€§ç”±<code>SSL</code>æ¥ä¿è¯</p>
<p>åœ¨é‡‡ç”¨<code>SSL</code>åï¼Œ<code>HTTP</code>å°±æ‹¥æœ‰äº†<code>HTTPS</code>çš„åŠ å¯†ã€è¯ä¹¦å’Œå®Œæ•´æ€§ä¿æŠ¤è¿™äº›åŠŸèƒ½</p>
<blockquote>
<p>SSL(Secure Sockets Layer å®‰å…¨å¥—æ¥å­—åè®®),åŠå…¶ç»§ä»»è€…ä¼ è¾“å±‚å®‰å…¨ï¼ˆTransport Layer Securityï¼ŒTLSï¼‰æ˜¯ä¸ºç½‘ç»œé€šä¿¡æä¾›å®‰å…¨åŠæ•°æ®å®Œæ•´æ€§çš„ä¸€ç§å®‰å…¨åè®®</p>
</blockquote>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f63623535393430302d623266662d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<h4 id="äºŒã€å¦‚ä½•åš"><a href="#äºŒã€å¦‚ä½•åš" class="headerlink" title="äºŒã€å¦‚ä½•åš"></a>äºŒã€å¦‚ä½•åš</h4><p><code>SSL </code>çš„å®ç°è¿™äº›åŠŸèƒ½ä¸»è¦ä¾èµ–äºä¸‰ç§æ‰‹æ®µï¼š</p>
<ul>
<li>å¯¹ç§°åŠ å¯†ï¼šé‡‡ç”¨åå•†çš„å¯†é’¥å¯¹æ•°æ®åŠ å¯†</li>
<li>éå¯¹ç§°åŠ å¯†ï¼šå®ç°èº«ä»½è®¤è¯å’Œå¯†é’¥åå•†</li>
<li>æ‘˜è¦ç®—æ³•ï¼šéªŒè¯ä¿¡æ¯çš„å®Œæ•´æ€§</li>
<li>æ•°å­—ç­¾åï¼šèº«ä»½éªŒè¯</li>
</ul>
<h3 id="å¯¹ç§°åŠ å¯†"><a href="#å¯¹ç§°åŠ å¯†" class="headerlink" title="å¯¹ç§°åŠ å¯†"></a>å¯¹ç§°åŠ å¯†</h3><p>å¯¹ç§°åŠ å¯†æŒ‡çš„æ˜¯åŠ å¯†å’Œè§£å¯†ä½¿ç”¨çš„ç§˜é’¥éƒ½æ˜¯åŒä¸€ä¸ªï¼Œæ˜¯å¯¹ç§°çš„ã€‚åªè¦ä¿è¯äº†å¯†é’¥çš„å®‰å…¨ï¼Œé‚£æ•´ä¸ªé€šä¿¡è¿‡ç¨‹å°±å¯ä»¥è¯´å…·æœ‰äº†æœºå¯†æ€§</p>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65336630343066302d623266662d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<h4 id="éå¯¹ç§°åŠ å¯†"><a href="#éå¯¹ç§°åŠ å¯†" class="headerlink" title="éå¯¹ç§°åŠ å¯†"></a>éå¯¹ç§°åŠ å¯†</h4><p>éå¯¹ç§°åŠ å¯†ï¼Œå­˜åœ¨ä¸¤ä¸ªç§˜é’¥ï¼Œä¸€ä¸ªå«å…¬é’¥ï¼Œä¸€ä¸ªå«ç§é’¥ã€‚ä¸¤ä¸ªç§˜é’¥æ˜¯ä¸åŒçš„ï¼Œå…¬é’¥å¯ä»¥å…¬å¼€ç»™ä»»ä½•äººä½¿ç”¨ï¼Œç§é’¥åˆ™éœ€è¦ä¿å¯†</p>
<p>å…¬é’¥å’Œç§é’¥éƒ½å¯ä»¥ç”¨æ¥åŠ å¯†è§£å¯†ï¼Œä½†å…¬é’¥åŠ å¯†ååªèƒ½ç”¨ç§é’¥è§£å¯†ï¼Œåè¿‡æ¥ï¼Œç§é’¥åŠ å¯†åä¹Ÿåªèƒ½ç”¨å…¬é’¥è§£å¯†</p>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f64393630336536302d623266662d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<h4 id="æ··åˆåŠ å¯†"><a href="#æ··åˆåŠ å¯†" class="headerlink" title="æ··åˆåŠ å¯†"></a>æ··åˆåŠ å¯†</h4><p>åœ¨<code>HTTPS</code>é€šä¿¡è¿‡ç¨‹ä¸­ï¼Œé‡‡ç”¨çš„æ˜¯å¯¹ç§°åŠ å¯†+éå¯¹ç§°åŠ å¯†ï¼Œä¹Ÿå°±æ˜¯æ··åˆåŠ å¯†</p>
<p>åœ¨å¯¹ç§°åŠ å¯†ä¸­è®²åˆ°ï¼Œå¦‚æœèƒ½å¤Ÿä¿è¯äº†å¯†é’¥çš„å®‰å…¨ï¼Œé‚£æ•´ä¸ªé€šä¿¡è¿‡ç¨‹å°±å¯ä»¥è¯´å…·æœ‰äº†æœºå¯†æ€§</p>
<p>è€Œ<code>HTTPS</code>é‡‡ç”¨éå¯¹ç§°åŠ å¯†è§£å†³ç§˜é’¥äº¤æ¢çš„é—®é¢˜</p>
<p>å…·ä½“åšæ³•æ˜¯å‘é€å¯†æ–‡çš„ä¸€æ–¹ä½¿ç”¨å¯¹æ–¹çš„å…¬é’¥è¿›è¡ŒåŠ å¯†å¤„ç†â€œå¯¹ç§°çš„å¯†é’¥â€ï¼Œç„¶åå¯¹æ–¹ç”¨è‡ªå·±çš„ç§é’¥è§£å¯†æ‹¿åˆ°â€œå¯¹ç§°çš„å¯†é’¥â€</p>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f66333735663239302d623266662d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>è¿™æ ·å¯ä»¥ç¡®ä¿äº¤æ¢çš„å¯†é’¥æ˜¯å®‰å…¨çš„å‰æä¸‹ï¼Œä½¿ç”¨å¯¹ç§°åŠ å¯†æ–¹å¼è¿›è¡Œé€šä¿¡</p>
<h4 id="ä¸¾ä¸ªä¾‹å­ï¼š"><a href="#ä¸¾ä¸ªä¾‹å­ï¼š" class="headerlink" title="ä¸¾ä¸ªä¾‹å­ï¼š"></a>ä¸¾ä¸ªä¾‹å­ï¼š</h4><p>ç½‘ç«™ç§˜å¯†ä¿ç®¡ç§é’¥ï¼Œåœ¨ç½‘ä¸Šä»»æ„åˆ†å‘å…¬é’¥ï¼Œä½ æƒ³è¦ç™»å½•ç½‘ç«™åªè¦ç”¨å…¬é’¥åŠ å¯†å°±è¡Œäº†ï¼Œå¯†æ–‡åªèƒ½ç”±ç§é’¥æŒæœ‰è€…æ‰èƒ½è§£å¯†ã€‚è€Œé»‘å®¢å› ä¸ºæ²¡æœ‰ç§é’¥ï¼Œæ‰€ä»¥å°±æ— æ³•ç ´è§£å¯†æ–‡</p>
<p>ä¸Šè¿°çš„æ–¹æ³•è§£å†³äº†æ•°æ®åŠ å¯†ï¼Œåœ¨ç½‘ç»œä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œæ•°æ®æœ‰å¯èƒ½è¢«ç¯¡æ”¹ï¼Œå¹¶ä¸”é»‘å®¢å¯ä»¥ä¼ªé€ èº«ä»½å‘å¸ƒå…¬é’¥ï¼Œå¦‚æœä½ è·å–åˆ°å‡çš„å…¬é’¥ï¼Œé‚£ä¹ˆæ··åˆåŠ å¯†ä¹Ÿå¹¶æ— å¤šå¤§ç”¨å¤„ï¼Œä½ çš„æ•°æ®æ‰”è¢«é»‘å®¢è§£å†³</p>
<p>å› æ­¤ï¼Œåœ¨ä¸Šè¿°åŠ å¯†çš„åŸºç¡€ä¸Šä»éœ€åŠ ä¸Šå®Œæ•´æ€§ã€èº«ä»½éªŒè¯çš„ç‰¹æ€§ï¼Œæ¥å®ç°çœŸæ­£çš„å®‰å…¨ï¼Œå®ç°è¿™ä¸€åŠŸèƒ½åˆ™æ˜¯æ‘˜è¦ç®—æ³•</p>
<h4 id="æ‘˜è¦ç®—æ³•"><a href="#æ‘˜è¦ç®—æ³•" class="headerlink" title="æ‘˜è¦ç®—æ³•"></a>æ‘˜è¦ç®—æ³•</h4><p>å®ç°å®Œæ•´æ€§çš„æ‰‹æ®µä¸»è¦æ˜¯æ‘˜è¦ç®—æ³•ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„æ•£åˆ—å‡½æ•°ã€å“ˆå¸Œå‡½æ•°</p>
<p>å¯ä»¥ç†è§£æˆä¸€ç§ç‰¹æ®Šçš„å‹ç¼©ç®—æ³•ï¼Œå®ƒèƒ½å¤ŸæŠŠä»»æ„é•¿åº¦çš„æ•°æ®â€œå‹ç¼©â€æˆå›ºå®šé•¿åº¦ã€è€Œä¸”ç‹¬ä¸€æ— äºŒçš„â€œæ‘˜è¦â€å­—ç¬¦ä¸²ï¼Œå°±å¥½åƒæ˜¯ç»™è¿™æ®µæ•°æ®ç”Ÿæˆäº†ä¸€ä¸ªæ•°å­—â€œæŒ‡çº¹â€</p>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f31323739386461302d623330302d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>æ‘˜è¦ç®—æ³•ä¿è¯äº†â€œæ•°å­—æ‘˜è¦â€å’ŒåŸæ–‡æ˜¯å®Œå…¨ç­‰ä»·çš„ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åªè¦åœ¨åŸæ–‡åé™„ä¸Šå®ƒçš„æ‘˜è¦ï¼Œå°±èƒ½å¤Ÿä¿è¯æ•°æ®çš„å®Œæ•´æ€§</p>
<p>æ¯”å¦‚ï¼Œä½ å‘äº†æ¡æ¶ˆæ¯ï¼šâ€œè½¬è´¦ 1000 å…ƒâ€ï¼Œç„¶åå†åŠ ä¸Šä¸€ä¸ª SHA-2 çš„æ‘˜è¦ã€‚ç½‘ç«™æ”¶åˆ°åä¹Ÿè®¡ç®—ä¸€ä¸‹æ¶ˆæ¯çš„æ‘˜è¦ï¼ŒæŠŠè¿™ä¸¤ä»½â€œæŒ‡çº¹â€åšä¸ªå¯¹æ¯”ï¼Œå¦‚æœä¸€è‡´ï¼Œå°±è¯´æ˜æ¶ˆæ¯æ˜¯å®Œæ•´å¯ä¿¡çš„ï¼Œæ²¡æœ‰è¢«ä¿®æ”¹</p>
<p><a href="https://camo.githubusercontent.com/16ceb478a4cdc255009ba6912fff85ef91ddf5711b279527344a12bef47619e1/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f30323337393065302d623330302d313165622d616239302d6439616538313462323430642e706e67"><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f30323337393065302d623330302d313165622d616239302d6439616538313462323430642e706e67.png" alt="img"></a></p>
<h4 id="æ•°å­—ç­¾å"><a href="#æ•°å­—ç­¾å" class="headerlink" title="æ•°å­—ç­¾å"></a>æ•°å­—ç­¾å</h4><p>æ•°å­—ç­¾åèƒ½ç¡®å®šæ¶ˆæ¯ç¡®å®æ˜¯ç”±å‘é€æ–¹ç­¾åå¹¶å‘å‡ºæ¥çš„ï¼Œå› ä¸ºåˆ«äººå‡å†’ä¸äº†å‘é€æ–¹çš„ç­¾å</p>
<p>åŸç†å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯ç”¨ç§é’¥åŠ å¯†ï¼Œå…¬é’¥è§£å¯†</p>
<p>ç­¾åå’Œå…¬é’¥ä¸€æ ·å®Œå…¨å…¬å¼€ï¼Œä»»ä½•äººéƒ½å¯ä»¥è·å–ã€‚ä½†è¿™ä¸ªç­¾ååªæœ‰ç”¨ç§é’¥å¯¹åº”çš„å…¬é’¥æ‰èƒ½è§£å¼€ï¼Œæ‹¿åˆ°æ‘˜è¦åï¼Œå†æ¯”å¯¹åŸæ–‡éªŒè¯å®Œæ•´æ€§ï¼Œå°±å¯ä»¥åƒç­¾ç½²æ–‡ä»¶ä¸€æ ·è¯æ˜æ¶ˆæ¯ç¡®å®æ˜¯ä½ å‘çš„</p>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f32316161363838302d623330302d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>å’Œæ¶ˆæ¯æœ¬èº«ä¸€æ ·ï¼Œå› ä¸ºè°éƒ½å¯ä»¥å‘å¸ƒå…¬é’¥ï¼Œæˆ‘ä»¬è¿˜ç¼ºå°‘é˜²æ­¢é»‘å®¢ä¼ªé€ å…¬é’¥çš„æ‰‹æ®µï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ€ä¹ˆåˆ¤æ–­è¿™ä¸ªå…¬é’¥å°±æ˜¯ä½ çš„å…¬é’¥</p>
<p>è¿™æ—¶å€™å°±éœ€è¦ä¸€ä¸ªç¬¬ä¸‰æ–¹ï¼Œå°±æ˜¯è¯ä¹¦éªŒè¯æœºæ„</p>
<h4 id="CAéªŒè¯æœºæ„"><a href="#CAéªŒè¯æœºæ„" class="headerlink" title="CAéªŒè¯æœºæ„"></a>CAéªŒè¯æœºæ„</h4><p>æ•°å­—è¯ä¹¦è®¤è¯æœºæ„å¤„äºå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨åŒæ–¹éƒ½å¯ä¿¡èµ–çš„ç¬¬ä¸‰æ–¹æœºæ„çš„ç«‹åœº</p>
<p>CA å¯¹å…¬é’¥çš„ç­¾åè®¤è¯è¦æ±‚åŒ…æ‹¬åºåˆ—å·ã€ç”¨é€”ã€é¢å‘è€…ã€æœ‰æ•ˆæ—¶é—´ç­‰ç­‰ï¼ŒæŠŠè¿™äº›æ‰“æˆä¸€ä¸ªåŒ…å†ç­¾åï¼Œå®Œæ•´åœ°è¯æ˜å…¬é’¥å…³è”çš„å„ç§ä¿¡æ¯ï¼Œå½¢æˆâ€œæ•°å­—è¯ä¹¦â€</p>
<p>æµç¨‹å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f33393536343861302d623330302d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<ul>
<li><p>æœåŠ¡å™¨çš„è¿è¥äººå‘˜å‘æ•°å­—è¯ä¹¦è®¤è¯æœºæ„æå‡ºå…¬å¼€å¯†é’¥çš„ç”³è¯·</p>
</li>
<li><p>æ•°å­—è¯ä¹¦è®¤è¯æœºæ„åœ¨åˆ¤æ˜æå‡ºç”³è¯·è€…çš„èº«ä»½ä¹‹åï¼Œä¼šå¯¹å·²ç”³è¯·çš„å…¬å¼€å¯†é’¥åšæ•°å­—ç­¾å</p>
</li>
<li><p>ç„¶ååˆ†é…è¿™ä¸ªå·²ç­¾åçš„å…¬å¼€å¯†é’¥ï¼Œå¹¶å°†è¯¥å…¬å¼€å¯†é’¥æ”¾å…¥å…¬é’¥è¯ä¹¦åç»‘å®šåœ¨ä¸€èµ·</p>
</li>
<li><p>æœåŠ¡å™¨ä¼šå°†è¿™ä»½ç”±æ•°å­—è¯ä¹¦è®¤è¯æœºæ„é¢å‘çš„æ•°å­—è¯ä¹¦å‘é€ç»™å®¢æˆ·ç«¯ï¼Œä»¥è¿›è¡Œéå¯¹ç§°åŠ å¯†æ–¹å¼é€šä¿¡æ¥åˆ°è¯ä¹¦çš„å®¢æˆ·ç«¯å¯ä½¿ç”¨æ•°å­—è¯ä¹¦è®¤è¯æœºæ„çš„å…¬å¼€å¯†é’¥ï¼Œå¯¹é‚£å¼ è¯ä¹¦ä¸Šçš„æ•°å­—ç­¾åè¿›è¡ŒéªŒè¯ï¼Œä¸€æ—¦éªŒè¯é€šè¿‡ï¼Œåˆ™è¯æ˜ï¼šè®¤è¯æœåŠ¡å™¨çš„å…¬å¼€å¯†é’¥çš„æ˜¯çœŸå®æœ‰æ•ˆçš„æ•°å­—è¯ä¹¦è®¤è¯æœºæ„</p>
</li>
<li><p>æœåŠ¡å™¨çš„å…¬å¼€å¯†é’¥æ˜¯å€¼å¾—ä¿¡èµ–çš„</p>
</li>
</ul>
<h4 id="ä¸‰ã€æ€»ç»“-1"><a href="#ä¸‰ã€æ€»ç»“-1" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h4><p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>HTTPS</code>ä¸<code>HTTP</code>è™½ç„¶åªå·®ä¸€ä¸ª<code>SSL</code>ï¼Œä½†æ˜¯é€šä¿¡å®‰å…¨å¾—åˆ°äº†å¤§å¤§çš„ä¿éšœï¼Œé€šä¿¡çš„å››å¤§ç‰¹æ€§éƒ½ä»¥è§£å†³ï¼Œè§£å†³æ–¹å¼å¦‚ä¸‹ï¼š</p>
<ul>
<li>æœºå¯†æ€§ï¼šæ··åˆç®—æ³•</li>
<li>å®Œæ•´æ€§ï¼šæ‘˜è¦ç®—æ³•</li>
<li>èº«ä»½è®¤è¯ï¼šæ•°å­—ç­¾å</li>
<li>ä¸å¯å¦å®šï¼šæ•°å­—ç­¾å</li>
</ul>
<p>åŒæ—¶å¼•å…¥ç¬¬ä¸‰æ–¹è¯ä¹¦æœºæ„ï¼Œç¡®ä¿å…¬å¼€ç§˜é’¥çš„å®‰å…¨æ€§</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•ç†è§£UDP-å’Œ-TCP-åŒºåˆ«-åº”ç”¨åœºæ™¯"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•ç†è§£UDP-å’Œ-TCP-åŒºåˆ«-åº”ç”¨åœºæ™¯" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•ç†è§£UDP å’Œ TCP? åŒºåˆ«? åº”ç”¨åœºæ™¯?"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•ç†è§£UDP å’Œ TCP? åŒºåˆ«? åº”ç”¨åœºæ™¯?</h3><h4 id="ä¸€ã€UDP"><a href="#ä¸€ã€UDP" class="headerlink" title="ä¸€ã€UDP"></a>ä¸€ã€UDP</h4><p>UDPï¼ˆUser Datagram Protocolï¼‰ï¼Œç”¨æˆ·æ•°æ®åŒ…åè®®ï¼Œæ˜¯ä¸€ä¸ªç®€å•çš„é¢å‘æ•°æ®æŠ¥çš„é€šä¿¡åè®®ï¼Œå³å¯¹åº”ç”¨å±‚äº¤ä¸‹æ¥çš„æŠ¥æ–‡ï¼Œä¸åˆå¹¶ï¼Œä¸æ‹†åˆ†ï¼Œåªæ˜¯åœ¨å…¶ä¸Šé¢åŠ ä¸Šé¦–éƒ¨åå°±äº¤ç»™äº†ä¸‹é¢çš„ç½‘ç»œå±‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´æ— è®ºåº”ç”¨å±‚äº¤ç»™<code>UDP</code>å¤šé•¿çš„æŠ¥æ–‡ï¼Œå®ƒç»Ÿç»Ÿå‘é€ï¼Œä¸€æ¬¡å‘é€ä¸€ä¸ªæŠ¥æ–‡</p>
<p>è€Œå¯¹æ¥æ”¶æ–¹ï¼Œæ¥åˆ°åç›´æ¥å»é™¤é¦–éƒ¨ï¼Œäº¤ç»™ä¸Šé¢çš„åº”ç”¨å±‚å°±å®Œæˆä»»åŠ¡</p>
<p><code>UDP</code>æŠ¥å¤´åŒ…æ‹¬4ä¸ªå­—æ®µï¼Œæ¯ä¸ªå­—æ®µå ç”¨2ä¸ªå­—èŠ‚ï¼ˆå³16ä¸ªäºŒè¿›åˆ¶ä½ï¼‰ï¼Œæ ‡é¢˜çŸ­ï¼Œå¼€é”€å°</p>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f39323865356432302d623339332d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<p>ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p>
<ul>
<li>UDP ä¸æä¾›å¤æ‚çš„æ§åˆ¶æœºåˆ¶ï¼Œåˆ©ç”¨ IP æä¾›é¢å‘æ— è¿æ¥çš„é€šä¿¡æœåŠ¡</li>
<li>ä¼ è¾“é€”ä¸­å‡ºç°ä¸¢åŒ…ï¼ŒUDP ä¹Ÿä¸è´Ÿè´£é‡å‘</li>
<li>å½“åŒ…çš„åˆ°è¾¾é¡ºåºå‡ºç°ä¹±åºæ—¶ï¼ŒUDPæ²¡æœ‰çº æ­£çš„åŠŸèƒ½ã€‚</li>
<li>å¹¶ä¸”å®ƒæ˜¯å°†åº”ç”¨ç¨‹åºå‘æ¥çš„æ•°æ®åœ¨æ”¶åˆ°çš„é‚£ä¸€åˆ»ï¼Œç«‹å³æŒ‰ç…§åŸæ ·å‘é€åˆ°ç½‘ç»œä¸Šçš„ä¸€ç§æœºåˆ¶ã€‚å³ä½¿æ˜¯å‡ºç°ç½‘ç»œæ‹¥å µçš„æƒ…å†µï¼ŒUDP ä¹Ÿæ— æ³•è¿›è¡Œæµé‡æ§åˆ¶ç­‰é¿å…ç½‘ç»œæ‹¥å¡è¡Œä¸º</li>
</ul>
<h4 id="äºŒã€TCP"><a href="#äºŒã€TCP" class="headerlink" title="äºŒã€TCP"></a>äºŒã€TCP</h4><p>TCPï¼ˆTransmission Control Protocolï¼‰ï¼Œä¼ è¾“æ§åˆ¶åè®®ï¼Œæ˜¯ä¸€ç§å¯é ã€é¢å‘å­—èŠ‚æµçš„é€šä¿¡åè®®ï¼ŒæŠŠä¸Šé¢åº”ç”¨å±‚äº¤ä¸‹æ¥çš„æ•°æ®çœ‹æˆæ— ç»“æ„çš„å­—èŠ‚æµæ¥å‘é€</p>
<p>å¯ä»¥æƒ³è±¡æˆæµæ°´å½¢å¼çš„ï¼Œå‘é€æ–¹TCPä¼šå°†æ•°æ®æ”¾å…¥â€œè“„æ°´æ± â€ï¼ˆç¼“å­˜åŒºï¼‰ï¼Œç­‰åˆ°å¯ä»¥å‘é€çš„æ—¶å€™å°±å‘é€ï¼Œä¸èƒ½å‘é€å°±ç­‰ç€ï¼ŒTCPä¼šæ ¹æ®å½“å‰ç½‘ç»œçš„æ‹¥å¡çŠ¶æ€æ¥ç¡®å®šæ¯ä¸ªæŠ¥æ–‡æ®µçš„å¤§å°</p>
<p><code>TCP</code>æŠ¥æ–‡é¦–éƒ¨æœ‰20ä¸ªå­—èŠ‚ï¼Œé¢å¤–å¼€é”€å¤§</p>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f61303031306434302d623339332d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<p>ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p>
<ul>
<li>TCPå……åˆ†åœ°å®ç°äº†æ•°æ®ä¼ è¾“æ—¶å„ç§æ§åˆ¶åŠŸèƒ½ï¼Œå¯ä»¥è¿›è¡Œä¸¢åŒ…æ—¶çš„é‡å‘æ§åˆ¶ï¼Œè¿˜å¯ä»¥å¯¹æ¬¡åºä¹±æ‰çš„åˆ†åŒ…è¿›è¡Œé¡ºåºæ§åˆ¶ã€‚è€Œè¿™äº›åœ¨ UDP ä¸­éƒ½æ²¡æœ‰ã€‚</li>
<li>æ­¤å¤–ï¼ŒTCP ä½œä¸ºä¸€ç§é¢å‘æœ‰è¿æ¥çš„åè®®ï¼Œåªæœ‰åœ¨ç¡®è®¤é€šä¿¡å¯¹ç«¯å­˜åœ¨æ—¶æ‰ä¼šå‘é€æ•°æ®ï¼Œä»è€Œå¯ä»¥æ§åˆ¶é€šä¿¡æµé‡çš„æµªè´¹ã€‚</li>
<li>æ ¹æ® TCP çš„è¿™äº›æœºåˆ¶ï¼Œåœ¨ IP è¿™ç§æ— è¿æ¥çš„ç½‘ç»œä¸Šä¹Ÿèƒ½å¤Ÿå®ç°é«˜å¯é æ€§çš„é€šä¿¡ï¼ˆ ä¸»è¦é€šè¿‡æ£€éªŒå’Œã€åºåˆ—å·ã€ç¡®è®¤åº”ç­”ã€é‡å‘æ§åˆ¶ã€è¿æ¥ç®¡ç†ä»¥åŠçª—å£æ§åˆ¶ç­‰æœºåˆ¶å®ç°ï¼‰</li>
</ul>
<h4 id="ä¸‰ã€åŒºåˆ«"><a href="#ä¸‰ã€åŒºåˆ«" class="headerlink" title="ä¸‰ã€åŒºåˆ«"></a>ä¸‰ã€åŒºåˆ«</h4><p><code>UDP</code>ä¸<code>TCP</code>ä¸¤è€…çš„éƒ½ä½äºä¼ è¾“å±‚ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f61393262646138302d623339332d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<p>ä¸¤è€…åŒºåˆ«å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>
<table>
<thead>
<tr>
<th></th>
<th>TCP</th>
<th>UDP</th>
</tr>
</thead>
<tbody><tr>
<td>å¯é æ€§</td>
<td>å¯é </td>
<td>ä¸å¯é </td>
</tr>
<tr>
<td>è¿æ¥æ€§</td>
<td>é¢å‘è¿æ¥</td>
<td>æ— è¿æ¥</td>
</tr>
<tr>
<td>æŠ¥æ–‡</td>
<td>é¢å‘å­—èŠ‚æµ</td>
<td>é¢å‘æŠ¥æ–‡</td>
</tr>
<tr>
<td>æ•ˆç‡</td>
<td>ä¼ è¾“æ•ˆç‡ä½</td>
<td>ä¼ è¾“æ•ˆç‡é«˜</td>
</tr>
<tr>
<td>åŒå…±æ€§</td>
<td>å…¨åŒå·¥</td>
<td>ä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹ä¸€ã€å¤šå¯¹å¤š</td>
</tr>
<tr>
<td>æµé‡æ§åˆ¶</td>
<td>æ»‘åŠ¨çª—å£</td>
<td>æ— </td>
</tr>
<tr>
<td>æ‹¥å¡æ§åˆ¶</td>
<td>æ…¢å¼€å§‹ã€æ‹¥å¡é¿å…ã€å¿«é‡ä¼ ã€å¿«æ¢å¤</td>
<td>æ— </td>
</tr>
<tr>
<td>ä¼ è¾“æ•ˆç‡</td>
<td>æ…¢</td>
<td>å¿«</td>
</tr>
</tbody></table>
<ul>
<li>TCP æ˜¯é¢å‘è¿æ¥çš„åè®®ï¼Œå»ºç«‹è¿æ¥3æ¬¡æ¡æ‰‹ã€æ–­å¼€è¿æ¥å››æ¬¡æŒ¥æ‰‹ï¼ŒUDPæ˜¯é¢å‘æ— è¿æ¥ï¼Œæ•°æ®ä¼ è¾“å‰åä¸è¿æ¥è¿æ¥ï¼Œå‘é€ç«¯åªè´Ÿè´£å°†æ•°æ®å‘é€åˆ°ç½‘ç»œï¼Œæ¥æ”¶ç«¯ä»æ¶ˆæ¯é˜Ÿåˆ—è¯»å–</li>
<li>TCP æä¾›å¯é çš„æœåŠ¡ï¼Œä¼ è¾“è¿‡ç¨‹é‡‡ç”¨æµé‡æ§åˆ¶ã€ç¼–å·ä¸ç¡®è®¤ã€è®¡æ—¶å™¨ç­‰æ‰‹æ®µç¡®ä¿æ•°æ®æ— å·®é”™ï¼Œä¸ä¸¢å¤±ã€‚UDP åˆ™å°½å¯èƒ½ä¼ é€’æ•°æ®ï¼Œä½†ä¸ä¿è¯ä¼ é€’äº¤ä»˜ç»™å¯¹æ–¹</li>
<li>TCP é¢å‘å­—èŠ‚æµï¼Œå°†åº”ç”¨å±‚æŠ¥æ–‡çœ‹æˆä¸€ä¸²æ— ç»“æ„çš„å­—èŠ‚æµï¼Œåˆ†è§£ä¸ºå¤šä¸ªTCPæŠ¥æ–‡æ®µä¼ è¾“åï¼Œåœ¨ç›®çš„ç«™é‡æ–°è£…é…ã€‚UDPåè®®é¢å‘æŠ¥æ–‡ï¼Œä¸æ‹†åˆ†åº”ç”¨å±‚æŠ¥æ–‡ï¼Œåªä¿ç•™æŠ¥æ–‡è¾¹ç•Œï¼Œä¸€æ¬¡å‘é€ä¸€ä¸ªæŠ¥æ–‡ï¼Œæ¥æ”¶æ–¹å»é™¤æŠ¥æ–‡é¦–éƒ¨åï¼ŒåŸå°ä¸åŠ¨å°†æŠ¥æ–‡äº¤ç»™ä¸Šå±‚åº”ç”¨</li>
<li>TCP åªèƒ½ç‚¹å¯¹ç‚¹å…¨åŒå·¥é€šä¿¡ã€‚UDP æ”¯æŒä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹ä¸€å’Œå¤šå¯¹å¤šçš„äº¤äº’é€šä¿¡</li>
</ul>
<p>ä¸¤è€…åº”ç”¨åœºæ™¯å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f62366364643830302d623339332d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼ŒTCP åº”ç”¨åœºæ™¯é€‚ç”¨äºå¯¹æ•ˆç‡è¦æ±‚ä½ï¼Œå¯¹å‡†ç¡®æ€§è¦æ±‚é«˜æˆ–è€…è¦æ±‚æœ‰é“¾æ¥çš„åœºæ™¯ï¼Œè€ŒUDP é€‚ç”¨åœºæ™¯ä¸ºå¯¹æ•ˆç‡è¦æ±‚é«˜ï¼Œå¯¹å‡†ç¡®æ€§è¦æ±‚ä½çš„åœºæ™¯</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•ç†è§£OSIä¸ƒå±‚æ¨¡å‹"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•ç†è§£OSIä¸ƒå±‚æ¨¡å‹" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•ç†è§£OSIä¸ƒå±‚æ¨¡å‹?"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•ç†è§£OSIä¸ƒå±‚æ¨¡å‹?</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>OSI ï¼ˆOpen System Interconnectï¼‰æ¨¡å‹å…¨ç§°ä¸ºå¼€æ”¾å¼é€šä¿¡ç³»ç»Ÿäº’è¿å‚è€ƒæ¨¡å‹ï¼Œæ˜¯å›½é™…æ ‡å‡†åŒ–ç»„ç»‡ ( ISO ) æå‡ºçš„ä¸€ä¸ªè¯•å›¾ä½¿å„ç§è®¡ç®—æœºåœ¨ä¸–ç•ŒèŒƒå›´å†…äº’è¿ä¸ºç½‘ç»œçš„æ ‡å‡†æ¡†æ¶</p>
<p><code>OSI </code>å°†è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„åˆ’åˆ†ä¸ºä¸ƒå±‚ï¼Œæ¯ä¸€å±‚å®ç°å„è‡ªçš„åŠŸèƒ½å’Œåè®®ï¼Œå¹¶å®Œæˆä¸ç›¸é‚»å±‚çš„æ¥å£é€šä¿¡ã€‚å³æ¯ä¸€å±‚æ‰®æ¼”å›ºå®šçš„è§’è‰²ï¼Œäº’ä¸æ‰“æ‰°</p>
<h4 id="äºŒã€åˆ’åˆ†"><a href="#äºŒã€åˆ’åˆ†" class="headerlink" title="äºŒã€åˆ’åˆ†"></a>äºŒã€åˆ’åˆ†</h4><p><code>OSI</code>ä¸»è¦åˆ’åˆ†äº†ä¸ƒå±‚ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65623162323137302d623631652d313165622d616239302d6439616538313462323430642e706e67.png" alt="68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65623162323137302d623631652d313165622d616239302d6439616538313462323430642e706e67"></p>
<h5 id="åº”ç”¨å±‚"><a href="#åº”ç”¨å±‚" class="headerlink" title="åº”ç”¨å±‚"></a>åº”ç”¨å±‚</h5><p>åº”ç”¨å±‚ä½äº OSI å‚è€ƒæ¨¡å‹çš„ç¬¬ä¸ƒå±‚ï¼Œå…¶ä½œç”¨æ˜¯é€šè¿‡åº”ç”¨ç¨‹åºé—´çš„äº¤äº’æ¥å®Œæˆç‰¹å®šçš„ç½‘ç»œåº”ç”¨</p>
<p>è¯¥å±‚åè®®å®šä¹‰äº†åº”ç”¨è¿›ç¨‹ä¹‹é—´çš„äº¤äº’è§„åˆ™ï¼Œé€šè¿‡ä¸åŒçš„åº”ç”¨å±‚åè®®ä¸ºä¸åŒçš„ç½‘ç»œåº”ç”¨æä¾›æœåŠ¡ã€‚ä¾‹å¦‚åŸŸåç³»ç»Ÿ <code>DNS</code>ï¼Œæ”¯æŒä¸‡ç»´ç½‘åº”ç”¨çš„ <code>HTTP</code> åè®®ï¼Œç”µå­é‚®ä»¶ç³»ç»Ÿé‡‡ç”¨çš„ <code>SMTP </code>åè®®ç­‰</p>
<p>åœ¨åº”ç”¨å±‚äº¤äº’çš„æ•°æ®å•å…ƒæˆ‘ä»¬ç§°ä¹‹ä¸ºæŠ¥æ–‡</p>
<h5 id="è¡¨ç¤ºå±‚"><a href="#è¡¨ç¤ºå±‚" class="headerlink" title="è¡¨ç¤ºå±‚"></a>è¡¨ç¤ºå±‚</h5><p>è¡¨ç¤ºå±‚çš„ä½œç”¨æ˜¯ä½¿é€šä¿¡çš„åº”ç”¨ç¨‹åºèƒ½å¤Ÿè§£é‡Šäº¤æ¢æ•°æ®çš„å«ä¹‰ï¼Œå…¶ä½äº <code>OSI </code>å‚è€ƒæ¨¡å‹çš„ç¬¬å…­å±‚ï¼Œå‘ä¸Šä¸ºåº”ç”¨å±‚æä¾›æœåŠ¡ï¼Œå‘ä¸‹æ¥æ”¶æ¥è‡ªä¼šè¯å±‚çš„æœåŠ¡</p>
<p>è¯¥å±‚æä¾›çš„æœåŠ¡ä¸»è¦åŒ…æ‹¬æ•°æ®å‹ç¼©ï¼Œæ•°æ®åŠ å¯†ä»¥åŠæ•°æ®æè¿°ï¼Œä½¿åº”ç”¨ç¨‹åºä¸å¿…æ‹…å¿ƒåœ¨å„å°è®¡ç®—æœºä¸­è¡¨ç¤ºå’Œå­˜å‚¨çš„å†…éƒ¨æ ¼å¼å·®å¼‚</p>
<h5 id="ä¼šè¯å±‚"><a href="#ä¼šè¯å±‚" class="headerlink" title="ä¼šè¯å±‚"></a>ä¼šè¯å±‚</h5><p>ä¼šè¯å±‚å°±æ˜¯è´Ÿè´£å»ºç«‹ã€ç®¡ç†å’Œç»ˆæ­¢è¡¨ç¤ºå±‚å®ä½“ä¹‹é—´çš„é€šä¿¡ä¼šè¯</p>
<p>è¯¥å±‚æä¾›äº†æ•°æ®äº¤æ¢çš„å®šç•Œå’ŒåŒæ­¥åŠŸèƒ½ï¼ŒåŒ…æ‹¬äº†å»ºç«‹æ£€æŸ¥ç‚¹å’Œæ¢å¤æ–¹æ¡ˆçš„æ–¹æ³•</p>
<h5 id="ä¼ è¾“å±‚"><a href="#ä¼ è¾“å±‚" class="headerlink" title="ä¼ è¾“å±‚"></a>ä¼ è¾“å±‚</h5><p>ä¼ è¾“å±‚çš„ä¸»è¦ä»»åŠ¡æ˜¯ä¸ºä¸¤å°ä¸»æœºè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡æä¾›æœåŠ¡ï¼Œå¤„ç†æ•°æ®åŒ…é”™è¯¯ã€æ•°æ®åŒ…æ¬¡åºï¼Œä»¥åŠå…¶ä»–ä¸€äº›å…³é”®ä¼ è¾“é—®é¢˜</p>
<p>ä¼ è¾“å±‚å‘é«˜å±‚å±è”½äº†ä¸‹å±‚æ•°æ®é€šä¿¡çš„ç»†èŠ‚ã€‚å› æ­¤ï¼Œå®ƒæ˜¯è®¡ç®—æœºé€šä¿¡ä½“ç³»ç»“æ„ä¸­å…³é”®çš„ä¸€å±‚</p>
<p>å…¶ä¸­ï¼Œä¸»è¦çš„ä¼ è¾“å±‚åè®®æ˜¯<code>TCP</code>å’Œ<code>UDP</code></p>
<h5 id="ç½‘ç»œå±‚"><a href="#ç½‘ç»œå±‚" class="headerlink" title="ç½‘ç»œå±‚"></a>ç½‘ç»œå±‚</h5><p>ä¸¤å°è®¡ç®—æœºä¹‹é—´ä¼ é€æ•°æ®æ—¶å…¶é€šä¿¡é“¾è·¯å¾€å¾€ä¸æ­¢ä¸€æ¡ï¼Œæ‰€ä¼ è¾“çš„ä¿¡æ¯ç”šè‡³å¯èƒ½ç»è¿‡å¾ˆå¤šé€šä¿¡å­ç½‘</p>
<p>ç½‘ç»œå±‚çš„ä¸»è¦ä»»åŠ¡å°±æ˜¯é€‰æ‹©åˆé€‚çš„ç½‘é—´è·¯ç”±å’Œäº¤æ¢èŠ‚ç‚¹ï¼Œç¡®ä¿æ•°æ®æŒ‰æ—¶æˆåŠŸä¼ é€</p>
<p>åœ¨å‘é€æ•°æ®æ—¶ï¼Œç½‘ç»œå±‚æŠŠä¼ è¾“å±‚äº§ç”Ÿçš„æŠ¥æ–‡æˆ–ç”¨æˆ·æ•°æ®æŠ¥å°è£…æˆåˆ†ç»„å’ŒåŒ…ï¼Œå‘ä¸‹ä¼ è¾“åˆ°æ•°æ®é“¾è·¯å±‚</p>
<p>åœ¨ç½‘ç»œå±‚ä½¿ç”¨çš„åè®®æ˜¯æ— è¿æ¥çš„ç½‘é™…åè®®ï¼ˆInternet Protocolï¼‰å’Œè®¸å¤šè·¯ç”±åè®®ï¼Œå› æ­¤æˆ‘ä»¬é€šå¸¸æŠŠè¯¥å±‚ç®€å•åœ°ç§°ä¸º IP å±‚</p>
<h5 id="æ•°æ®é“¾è·¯å±‚"><a href="#æ•°æ®é“¾è·¯å±‚" class="headerlink" title="æ•°æ®é“¾è·¯å±‚"></a>æ•°æ®é“¾è·¯å±‚</h5><p>æ•°æ®é“¾è·¯å±‚é€šå¸¸ä¹Ÿå«åšé“¾è·¯å±‚ï¼Œåœ¨ç‰©ç†å±‚å’Œç½‘ç»œå±‚ä¹‹é—´ã€‚ä¸¤å°ä¸»æœºä¹‹é—´çš„æ•°æ®ä¼ è¾“ï¼Œæ€»æ˜¯åœ¨ä¸€æ®µä¸€æ®µçš„é“¾è·¯ä¸Šä¼ é€çš„ï¼Œè¿™å°±éœ€è¦ä½¿ç”¨ä¸“é—¨çš„é“¾è·¯å±‚åè®®</p>
<p>åœ¨ä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹ä¹‹é—´ä¼ é€æ•°æ®æ—¶ï¼Œæ•°æ®é“¾è·¯å±‚å°†ç½‘ç»œå±‚äº¤ä¸‹æ¥çš„ <code>IP </code>æ•°æ®æŠ¥ç»„è£…æˆå¸§ï¼Œåœ¨ä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹é—´çš„é“¾è·¯ä¸Šä¼ é€å¸§</p>
<p>æ¯ä¸€å¸§çš„æ•°æ®å¯ä»¥åˆ†æˆï¼šæŠ¥å¤´<code>head</code>å’Œæ•°æ®<code>data</code>ä¸¤éƒ¨åˆ†:</p>
<ul>
<li>head æ ‡æ˜æ•°æ®å‘é€è€…ã€æ¥å—è€…ã€æ•°æ®ç±»å‹ï¼Œå¦‚ MACåœ°å€</li>
<li>data å­˜å‚¨äº†è®¡ç®—æœºä¹‹é—´äº¤äº’çš„æ•°æ®</li>
</ul>
<p>é€šè¿‡æ§åˆ¶ä¿¡æ¯æˆ‘ä»¬å¯ä»¥çŸ¥é“ä¸€ä¸ªå¸§çš„èµ·æ­¢æ¯”ç‰¹ä½ç½®ï¼Œæ­¤å¤–ï¼Œä¹Ÿèƒ½ä½¿æ¥æ”¶ç«¯æ£€æµ‹å‡ºæ‰€æ”¶åˆ°çš„å¸§æœ‰æ— å·®é”™ï¼Œå¦‚æœå‘ç°å·®é”™ï¼Œæ•°æ®é“¾è·¯å±‚èƒ½å¤Ÿç®€å•çš„ä¸¢å¼ƒæ‰è¿™ä¸ªå¸§ï¼Œä»¥é¿å…ç»§ç»­å ç”¨ç½‘ç»œèµ„æº</p>
<h5 id="ç‰©ç†å±‚"><a href="#ç‰©ç†å±‚" class="headerlink" title="ç‰©ç†å±‚"></a>ç‰©ç†å±‚</h5><p>ä½œä¸º<code> OSI</code> å‚è€ƒæ¨¡å‹ä¸­æœ€ä½çš„ä¸€å±‚ï¼Œç‰©ç†å±‚çš„ä½œç”¨æ˜¯å®ç°è®¡ç®—æœºèŠ‚ç‚¹ä¹‹é—´æ¯”ç‰¹æµçš„é€æ˜ä¼ é€</p>
<p>è¯¥å±‚çš„ä¸»è¦ä»»åŠ¡æ˜¯ç¡®å®šä¸ä¼ è¾“åª’ä½“çš„æ¥å£çš„ä¸€äº›ç‰¹æ€§ï¼ˆæœºæ¢°ç‰¹æ€§ã€ç”µæ°”ç‰¹æ€§ã€åŠŸèƒ½ç‰¹æ€§ï¼Œè¿‡ç¨‹ç‰¹æ€§ï¼‰</p>
<p>è¯¥å±‚ä¸»è¦æ˜¯å’Œç¡¬ä»¶æœ‰å…³ï¼Œä¸è½¯ä»¶å…³ç³»ä¸å¤§</p>
<h4 id="ä¸‰ã€ä¼ è¾“è¿‡ç¨‹"><a href="#ä¸‰ã€ä¼ è¾“è¿‡ç¨‹" class="headerlink" title="ä¸‰ã€ä¼ è¾“è¿‡ç¨‹"></a>ä¸‰ã€ä¼ è¾“è¿‡ç¨‹</h4><p>æ•°æ®åœ¨å„å±‚ä¹‹é—´çš„ä¼ è¾“å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f66336138396434302d623631652d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<ul>
<li>åº”ç”¨å±‚æŠ¥æ–‡è¢«ä¼ é€åˆ°è¿è¾“å±‚</li>
<li>åœ¨æœ€ç®€å•çš„æƒ…å†µä¸‹ï¼Œè¿è¾“å±‚æ”¶å–åˆ°æŠ¥æ–‡å¹¶é™„ä¸Šé™„åŠ ä¿¡æ¯ï¼Œè¯¥é¦–éƒ¨å°†è¢«æ¥æ”¶ç«¯çš„è¿è¾“å±‚ä½¿ç”¨</li>
<li>åº”ç”¨å±‚æŠ¥æ–‡å’Œè¿è¾“å±‚é¦–éƒ¨ä¿¡æ¯ä¸€é“æ„æˆäº†è¿è¾“å±‚æŠ¥æ–‡æ®µã€‚é™„åŠ çš„ä¿¡æ¯å¯èƒ½åŒ…æ‹¬ï¼šå…è®¸æ¥æ”¶ç«¯è¿è¾“å±‚å‘ä¸Šå‘é€‚å½“çš„åº”ç”¨ç¨‹åºäº¤ä»˜æŠ¥æ–‡çš„ä¿¡æ¯ä»¥åŠå·®é”™æ£€æµ‹ä½ä¿¡æ¯ã€‚è¯¥ä¿¡æ¯è®©æ¥æ”¶ç«¯èƒ½å¤Ÿåˆ¤æ–­æŠ¥æ–‡ä¸­çš„æ¯”ç‰¹æ˜¯å¦åœ¨é€”ä¸­å·²è¢«æ”¹å˜</li>
<li>è¿è¾“å±‚åˆ™å‘ç½‘ç»œå±‚ä¼ é€’è¯¥æŠ¥æ–‡æ®µï¼Œç½‘ç»œå±‚å¢åŠ äº†å¦‚æºå’Œç›®çš„ç«¯ç³»ç»Ÿåœ°å€ç­‰ç½‘ç»œå±‚é¦–éƒ¨ä¿¡æ¯ï¼Œç”Ÿæˆäº†ç½‘ç»œå±‚æ•°æ®æŠ¥</li>
<li>ç½‘ç»œå±‚æ•°æ®æŠ¥æ¥ä¸‹æ¥è¢«ä¼ é€’ç»™é“¾è·¯å±‚ï¼Œåœ¨æ•°æ®é“¾è·¯å±‚æ•°æ®åŒ…æ·»åŠ å‘é€ç«¯ MAC åœ°å€å’Œæ¥æ”¶ç«¯ MAC åœ°å€åè¢«å°è£…æˆæ•°æ®å¸§</li>
<li>åœ¨ç‰©ç†å±‚æ•°æ®å¸§è¢«å°è£…æˆæ¯”ç‰¹æµï¼Œä¹‹åé€šè¿‡ä¼ è¾“ä»‹è´¨ä¼ é€åˆ°å¯¹ç«¯</li>
<li>å¯¹ç«¯å†ä¸€æ­¥æ­¥è§£å¼€å°è£…ï¼Œè·å–åˆ°ä¼ é€çš„æ•°æ®</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•ç†è§£TCP-x2F-IPåè®®"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•ç†è§£TCP-x2F-IPåè®®" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•ç†è§£TCP&#x2F;IPåè®®?"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•ç†è§£TCP&#x2F;IPåè®®?</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-1"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-1" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>TCP&#x2F;IPï¼Œä¼ è¾“æ§åˆ¶åè®®**&#x2F;**ç½‘é™…åè®®ï¼Œæ˜¯æŒ‡èƒ½å¤Ÿåœ¨å¤šä¸ªä¸åŒç½‘ç»œé—´å®ç°ä¿¡æ¯ä¼ è¾“çš„åè®®ç°‡</p>
<ul>
<li>TCPï¼ˆä¼ è¾“æ§åˆ¶åè®®ï¼‰</li>
</ul>
<p>ä¸€ç§é¢å‘è¿æ¥çš„ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµçš„ä¼ è¾“å±‚é€šä¿¡åè®®</p>
<ul>
<li>IPï¼ˆç½‘é™…åè®®ï¼‰</li>
</ul>
<p>ç”¨äºå°åŒ…äº¤æ¢æ•°æ®ç½‘ç»œçš„åè®®</p>
<p>TCP&#x2F;IPåè®®ä¸ä»…ä»…æŒ‡çš„æ˜¯<code>TCP </code>å’Œ<code>IP</code>ä¸¤ä¸ªåè®®ï¼Œè€Œæ˜¯æŒ‡ä¸€ä¸ªç”±<code>FTP</code>ã€<code>SMTP</code>ã€<code>TCP</code>ã€<code>UDP</code>ã€<code>IP</code>ç­‰åè®®æ„æˆçš„åè®®ç°‡ï¼Œ</p>
<p>åªæ˜¯å› ä¸ºåœ¨<code>TCP/IP</code>åè®®ä¸­<code>TCP</code>åè®®å’Œ<code>IP</code>åè®®æœ€å…·ä»£è¡¨æ€§ï¼Œæ‰€ä»¥é€šç§°ä¸ºTCP&#x2F;IPåè®®æ—ï¼ˆè‹±è¯­ï¼šTCP&#x2F;IP Protocol Suiteï¼Œæˆ–TCP&#x2F;IP Protocolsï¼‰</p>
<h4 id="äºŒã€åˆ’åˆ†-1"><a href="#äºŒã€åˆ’åˆ†-1" class="headerlink" title="äºŒã€åˆ’åˆ†"></a>äºŒã€åˆ’åˆ†</h4><p>TCP&#x2F;IPåè®®æ—æŒ‰å±‚æ¬¡åˆ†åˆ«äº†äº”å±‚ä½“ç³»æˆ–è€…å››å±‚ä½“ç³»</p>
<p>äº”å±‚ä½“ç³»çš„åè®®ç»“æ„æ˜¯ç»¼åˆäº† OSI å’Œ TCP&#x2F;IP ä¼˜ç‚¹çš„ä¸€ç§åè®®ï¼ŒåŒ…æ‹¬åº”ç”¨å±‚ã€ä¼ è¾“å±‚ã€ç½‘ç»œå±‚ã€æ•°æ®é“¾è·¯å±‚å’Œç‰©ç†å±‚</p>
<p>äº”å±‚åè®®çš„ä½“ç³»ç»“æ„åªæ˜¯ä¸ºä»‹ç»ç½‘ç»œåŸç†è€Œè®¾è®¡çš„ï¼Œå®é™…åº”ç”¨è¿˜æ˜¯ TCP&#x2F;IP å››å±‚ä½“ç³»ç»“æ„ï¼ŒåŒ…æ‹¬åº”ç”¨å±‚ã€ä¼ è¾“å±‚ã€ç½‘ç»œå±‚ï¼ˆç½‘é™…äº’è”å±‚ï¼‰ã€ç½‘ç»œæ¥å£å±‚</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f35626239333631302d623634372d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<h4 id="äº”å±‚ä½“ç³»"><a href="#äº”å±‚ä½“ç³»" class="headerlink" title="äº”å±‚ä½“ç³»"></a>äº”å±‚ä½“ç³»</h4><h5 id="åº”ç”¨å±‚-1"><a href="#åº”ç”¨å±‚-1" class="headerlink" title="åº”ç”¨å±‚"></a>åº”ç”¨å±‚</h5><p><code>TCP/IP</code> æ¨¡å‹å°† <code>OSI </code>å‚è€ƒæ¨¡å‹ä¸­çš„ä¼šè¯å±‚ã€è¡¨ç¤ºå±‚å’Œåº”ç”¨å±‚çš„åŠŸèƒ½åˆå¹¶åˆ°ä¸€ä¸ªåº”ç”¨å±‚å®ç°ï¼Œé€šè¿‡ä¸åŒçš„åº”ç”¨å±‚åè®®ä¸ºä¸åŒçš„åº”ç”¨æä¾›æœåŠ¡</p>
<p>å¦‚ï¼š<code>FTP</code>ã€<code>Telnet</code>ã€<code>DNS</code>ã€<code>SMTP</code> ç­‰</p>
<h5 id="ä¼ è¾“å±‚-1"><a href="#ä¼ è¾“å±‚-1" class="headerlink" title="ä¼ è¾“å±‚"></a>ä¼ è¾“å±‚</h5><p>è¯¥å±‚å¯¹åº”äº OSI å‚è€ƒæ¨¡å‹çš„ä¼ è¾“å±‚ï¼Œä¸ºä¸Šå±‚å®ä½“æä¾›æºç«¯åˆ°å¯¹ç«¯ä¸»æœºçš„é€šä¿¡åŠŸèƒ½</p>
<p>ä¼ è¾“å±‚å®šä¹‰äº†ä¸¤ä¸ªä¸»è¦åè®®ï¼šä¼ è¾“æ§åˆ¶åè®®ï¼ˆTCPï¼‰å’Œç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼ˆUDPï¼‰</p>
<p>å…¶ä¸­é¢å‘è¿æ¥çš„ TCP åè®®ä¿è¯äº†æ•°æ®çš„ä¼ è¾“å¯é æ€§ï¼Œé¢å‘æ— è¿æ¥çš„ UDP åè®®èƒ½å¤Ÿå®ç°æ•°æ®åŒ…ç®€å•ã€å¿«é€Ÿåœ°ä¼ è¾“</p>
<h5 id="ç½‘ç»œå±‚-1"><a href="#ç½‘ç»œå±‚-1" class="headerlink" title="ç½‘ç»œå±‚"></a>ç½‘ç»œå±‚</h5><p>è´Ÿè´£ä¸ºåˆ†ç»„ç½‘ç»œä¸­çš„ä¸åŒä¸»æœºæä¾›é€šä¿¡æœåŠ¡ï¼Œå¹¶é€šè¿‡é€‰æ‹©åˆé€‚çš„è·¯ç”±å°†æ•°æ®ä¼ é€’åˆ°ç›®æ ‡ä¸»æœº</p>
<p>åœ¨å‘é€æ•°æ®æ—¶ï¼Œç½‘ç»œå±‚æŠŠè¿è¾“å±‚äº§ç”Ÿçš„æŠ¥æ–‡æ®µæˆ–ç”¨æˆ·æ•°æ®å°è£…æˆåˆ†ç»„æˆ–åŒ…è¿›è¡Œä¼ é€</p>
<h5 id="æ•°æ®é“¾è·¯å±‚-1"><a href="#æ•°æ®é“¾è·¯å±‚-1" class="headerlink" title="æ•°æ®é“¾è·¯å±‚"></a>æ•°æ®é“¾è·¯å±‚</h5><p>æ•°æ®é“¾è·¯å±‚åœ¨ä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹ä¼ è¾“æ•°æ®æ—¶ï¼Œå°†ç½‘ç»œå±‚äº¤ä¸‹æ¥çš„IPæ•°æ®æŠ¥ç»„è£…æˆå¸§ï¼Œåœ¨ä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹ä¹‹é—´çš„é“¾è·¯ä¸Šä¼ é€å¸§</p>
<h5 id="ç‰©ç†å±‚-1"><a href="#ç‰©ç†å±‚-1" class="headerlink" title="ç‰©ç†å±‚"></a>ç‰©ç†å±‚</h5><p>ä¿æ•°æ®å¯ä»¥åœ¨å„ç§ç‰©ç†åª’ä»‹ä¸Šè¿›è¡Œä¼ è¾“ï¼Œä¸ºæ•°æ®çš„ä¼ è¾“æä¾›å¯é çš„ç¯å¢ƒ</p>
<h4 id="å››å±‚ä½“ç³»"><a href="#å››å±‚ä½“ç³»" class="headerlink" title="å››å±‚ä½“ç³»"></a>å››å±‚ä½“ç³»</h4><p>TCP&#x2F;IP çš„å››å±‚ç»“æ„åˆ™å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>
<table>
<thead>
<tr>
<th>å±‚æ¬¡åç§°</th>
<th>å•ä½</th>
<th>åŠŸ èƒ½</th>
<th>å è®®</th>
</tr>
</thead>
<tbody><tr>
<td>ç½‘ç»œæ¥å£å±‚</td>
<td>å¸§</td>
<td>è´Ÿè´£å®é™…æ•°æ®çš„ä¼ è¾“ï¼Œå¯¹åº”OSIå‚è€ƒæ¨¡å‹çš„ä¸‹ä¸¤å±‚</td>
<td>HDLCï¼ˆé«˜çº§é“¾è·¯æ§åˆ¶åè®®ï¼‰PPPï¼ˆç‚¹å¯¹ç‚¹åè®®ï¼‰ SLIPï¼ˆä¸²è¡Œçº¿è·¯æ¥å£åè®®ï¼‰</td>
</tr>
<tr>
<td>ç½‘ç»œå±‚</td>
<td>æ•°æ®æŠ¥</td>
<td>è´Ÿè´£ç½‘ç»œé—´çš„å¯»å€æ•°æ®ä¼ è¾“ï¼Œå¯¹åº”OSIå‚è€ƒæ¨¡å‹çš„ç¬¬ä¸‰å±‚</td>
<td>IPï¼ˆç½‘é™…åè®®ï¼‰ ICMPï¼ˆç½‘é™…æ§åˆ¶æ¶ˆæ¯åè®®ï¼‰ARPï¼ˆåœ°å€è§£æåè®®ï¼‰ RARPï¼ˆåå‘åœ°å€è§£æåè®®ï¼‰</td>
</tr>
<tr>
<td>ä¼ è¾“å±‚</td>
<td>æŠ¥æ–‡æ®µ</td>
<td>è´Ÿè´£æä¾›å¯é çš„ä¼ è¾“æœåŠ¡ï¼Œå¯¹åº”OSIå‚è€ƒæ¨¡å‹çš„ç¬¬å››å±‚</td>
<td>TCPï¼ˆæ§åˆ¶ä¼ è¾“åè®®ï¼‰ UDPï¼ˆç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰</td>
</tr>
<tr>
<td>åº”ç”¨å±‚</td>
<td></td>
<td>è´Ÿè´£å®ç°ä¸€åˆ‡ä¸åº”ç”¨ç¨‹åºç›¸å…³çš„åŠŸèƒ½ï¼Œå¯¹åº”OSIå‚è€ƒæ¨¡å‹çš„ä¸Šä¸‰å±‚</td>
<td>FTPï¼ˆæ–‡ä»¶ä¼ è¾“åè®®ï¼‰ HTTPï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰ DNSï¼ˆåŸŸåæœåŠ¡å™¨åè®®ï¼‰SMTPï¼ˆç®€å•é‚®ä»¶ä¼ è¾“åè®®ï¼‰NFSï¼ˆç½‘ç»œæ–‡ä»¶ç³»ç»Ÿåè®®ï¼‰</td>
</tr>
</tbody></table>
<h4 id="ä¸‰ã€æ€»ç»“-2"><a href="#ä¸‰ã€æ€»ç»“-2" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h4><p>OSI å‚è€ƒæ¨¡å‹ä¸ TCP&#x2F;IP å‚è€ƒæ¨¡å‹åŒºåˆ«å¦‚ä¸‹ï¼š</p>
<p>ç›¸åŒç‚¹ï¼š</p>
<ul>
<li>OSI å‚è€ƒæ¨¡å‹ä¸ TCP&#x2F;IP å‚è€ƒæ¨¡å‹éƒ½é‡‡ç”¨äº†å±‚æ¬¡ç»“æ„</li>
<li>éƒ½èƒ½å¤Ÿæä¾›é¢å‘è¿æ¥å’Œæ— è¿æ¥ä¸¤ç§é€šä¿¡æœåŠ¡æœºåˆ¶</li>
</ul>
<p>ä¸åŒç‚¹ï¼š</p>
<ul>
<li>OSI é‡‡ç”¨çš„ä¸ƒå±‚æ¨¡å‹ï¼› TCP&#x2F;IP æ˜¯å››å±‚æˆ–äº”å±‚ç»“æ„</li>
<li>TCP&#x2F;IP å‚è€ƒæ¨¡å‹æ²¡æœ‰å¯¹ç½‘ç»œæ¥å£å±‚è¿›è¡Œç»†åˆ†ï¼Œåªæ˜¯ä¸€äº›æ¦‚å¿µæ€§çš„æè¿°ï¼› OSI å‚è€ƒæ¨¡å‹å¯¹æœåŠ¡å’Œåè®®åšäº†æ˜ç¡®çš„åŒºåˆ†</li>
<li>OSI å‚è€ƒæ¨¡å‹è™½ç„¶ç½‘ç»œåˆ’åˆ†ä¸ºä¸ƒå±‚ï¼Œä½†å®ç°èµ·æ¥è¾ƒå›°éš¾ã€‚TCP&#x2F;IP å‚è€ƒæ¨¡å‹ä½œä¸ºä¸€ç§ç®€åŒ–çš„åˆ†å±‚ç»“æ„æ˜¯å¯ä»¥çš„</li>
<li>TCP&#x2F;IPåè®®å»æ‰è¡¨ç¤ºå±‚å’Œä¼šè¯å±‚çš„åŸå› åœ¨äºä¼šè¯å±‚ã€è¡¨ç¤ºå±‚ã€åº”ç”¨å±‚éƒ½æ˜¯åœ¨åº”ç”¨ç¨‹åºå†…éƒ¨å®ç°çš„ï¼Œæœ€ç»ˆäº§å‡ºçš„æ˜¯ä¸€ä¸ªåº”ç”¨æ•°æ®åŒ…ï¼Œè€Œåº”ç”¨ç¨‹åºä¹‹é—´æ˜¯å‡ ä¹æ— æ³•å®ç°ä»£ç çš„æŠ½è±¡å…±äº«çš„ï¼Œè¿™ä¹Ÿå°±é€ æˆ <code>OSI</code> è®¾æƒ³ä¸­çš„åº”ç”¨ç¨‹åºç»´åº¦çš„åˆ†å±‚æ˜¯æ— æ³•å®ç°çš„</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´ä¸€ä¸‹-GET-å’Œ-POST-çš„åŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´ä¸€ä¸‹-GET-å’Œ-POST-çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´ä¸€ä¸‹ GET å’Œ POST çš„åŒºåˆ«ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´ä¸€ä¸‹ GET å’Œ POST çš„åŒºåˆ«ï¼Ÿ</h3><p><code>GET</code>å’Œ<code>POST</code>ï¼Œä¸¤è€…æ˜¯<code>HTTP</code>åè®®ä¸­å‘é€è¯·æ±‚çš„æ–¹æ³•</p>
<h5 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h5><p><code>GET</code>æ–¹æ³•è¯·æ±‚ä¸€ä¸ªæŒ‡å®šèµ„æºçš„è¡¨ç¤ºå½¢å¼ï¼Œä½¿ç”¨GETçš„è¯·æ±‚åº”è¯¥åªè¢«ç”¨äºè·å–æ•°æ®</p>
<h5 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h5><p><code>POST</code>æ–¹æ³•ç”¨äºå°†å®ä½“æäº¤åˆ°æŒ‡å®šçš„èµ„æºï¼Œé€šå¸¸å¯¼è‡´åœ¨æœåŠ¡å™¨ä¸Šçš„çŠ¶æ€å˜åŒ–æˆ–å‰¯ä½œç”¨</p>
<p>æœ¬è´¨ä¸Šéƒ½æ˜¯<code>TCP</code>é“¾æ¥ï¼Œå¹¶æ— å·®åˆ«</p>
<p>ä½†æ˜¯ç”±äº<code>HTTP</code>çš„è§„å®šå’Œæµè§ˆå™¨&#x2F;æœåŠ¡å™¨çš„é™åˆ¶ï¼Œå¯¼è‡´ä»–ä»¬åœ¨åº”ç”¨è¿‡ç¨‹ä¸­ä¼šä½“ç°å‡ºä¸€äº›åŒºåˆ«</p>
<h4 id="ä¸€ã€åŒºåˆ«"><a href="#ä¸€ã€åŒºåˆ«" class="headerlink" title="ä¸€ã€åŒºåˆ«"></a>ä¸€ã€åŒºåˆ«</h4><p>ä»<code>w3schools</code>å¾—åˆ°çš„æ ‡å‡†ç­”æ¡ˆçš„åŒºåˆ«å¦‚ä¸‹ï¼š</p>
<ul>
<li>GETåœ¨æµè§ˆå™¨å›é€€æ—¶æ˜¯æ— å®³çš„ï¼Œè€ŒPOSTä¼šå†æ¬¡æäº¤è¯·æ±‚ã€‚</li>
<li>GETäº§ç”Ÿçš„URLåœ°å€å¯ä»¥è¢«Bookmarkï¼Œè€ŒPOSTä¸å¯ä»¥ã€‚</li>
<li>GETè¯·æ±‚ä¼šè¢«æµè§ˆå™¨ä¸»åŠ¨cacheï¼Œè€ŒPOSTä¸ä¼šï¼Œé™¤éæ‰‹åŠ¨è®¾ç½®ã€‚</li>
<li>GETè¯·æ±‚åªèƒ½è¿›è¡Œurlç¼–ç ï¼Œè€ŒPOSTæ”¯æŒå¤šç§ç¼–ç æ–¹å¼ã€‚</li>
<li>GETè¯·æ±‚å‚æ•°ä¼šè¢«å®Œæ•´ä¿ç•™åœ¨æµè§ˆå™¨å†å²è®°å½•é‡Œï¼Œè€ŒPOSTä¸­çš„å‚æ•°ä¸ä¼šè¢«ä¿ç•™ã€‚</li>
<li>GETè¯·æ±‚åœ¨URLä¸­ä¼ é€çš„å‚æ•°æ˜¯æœ‰é•¿åº¦é™åˆ¶çš„ï¼Œè€ŒPOSTæ²¡æœ‰ã€‚</li>
<li>å¯¹å‚æ•°çš„æ•°æ®ç±»å‹ï¼ŒGETåªæ¥å—ASCIIå­—ç¬¦ï¼Œè€ŒPOSTæ²¡æœ‰é™åˆ¶ã€‚</li>
<li>GETæ¯”POSTæ›´ä¸å®‰å…¨ï¼Œå› ä¸ºå‚æ•°ç›´æ¥æš´éœ²åœ¨URLä¸Šï¼Œæ‰€ä»¥ä¸èƒ½ç”¨æ¥ä¼ é€’æ•æ„Ÿä¿¡æ¯ã€‚</li>
<li>GETå‚æ•°é€šè¿‡URLä¼ é€’ï¼ŒPOSTæ”¾åœ¨Request bodyä¸­</li>
</ul>
<h4 id="å‚æ•°ä½ç½®"><a href="#å‚æ•°ä½ç½®" class="headerlink" title="å‚æ•°ä½ç½®"></a>å‚æ•°ä½ç½®</h4><p>è²Œä¼¼ä»ä¸Šé¢çœ‹åˆ°<code>GET</code>ä¸<code>POST</code>è¯·æ±‚åŒºåˆ«éå¸¸å¤§ï¼Œä½†ä¸¤è€…å®è´¨å¹¶æ²¡æœ‰åŒºåˆ«</p>
<p>æ— è®º <code>GET </code>è¿˜æ˜¯ <code>POST</code>ï¼Œç”¨çš„éƒ½æ˜¯åŒä¸€ä¸ªä¼ è¾“å±‚åè®®ï¼Œæ‰€ä»¥åœ¨ä¼ è¾“ä¸Šæ²¡æœ‰åŒºåˆ«</p>
<p>å½“ä¸æºå¸¦å‚æ•°çš„æ—¶å€™ï¼Œä¸¤è€…æœ€å¤§çš„åŒºåˆ«ä¸ºç¬¬ä¸€è¡Œæ–¹æ³•åä¸åŒ</p>
<blockquote>
<p>POST &#x2F;uri HTTP&#x2F;1.1 \r\n</p>
<p>GET &#x2F;uri HTTP&#x2F;1.1 \r\n</p>
</blockquote>
<p>å½“æºå¸¦å‚æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“<code>GET</code>è¯·æ±‚æ˜¯æ”¾åœ¨<code>url</code>ä¸­ï¼Œ<code>POST</code>åˆ™æ”¾åœ¨<code>body</code>ä¸­</p>
<p><code>GET</code> æ–¹æ³•ç®€çº¦ç‰ˆæŠ¥æ–‡æ˜¯è¿™æ ·çš„</p>
<pre><code class="http">GET /index.html?name=qiming.c&amp;age=22 HTTP/1.1
Host: localhost
</code></pre>
<p><code>POST </code>æ–¹æ³•ç®€çº¦ç‰ˆæŠ¥æ–‡æ˜¯è¿™æ ·çš„</p>
<pre><code class="http">POST /index.html HTTP/1.1
Host: localhost
Content-Type: application/x-www-form-urlencoded

name=qiming.c&amp;age=22
</code></pre>
<p>æ³¨æ„ï¼šè¿™é‡Œåªæ˜¯çº¦å®šï¼Œå¹¶ä¸å±äº<code>HTTP</code>è§„èŒƒï¼Œç›¸åçš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨<code>POST</code>è¯·æ±‚ä¸­<code>url</code>ä¸­å†™å…¥å‚æ•°ï¼Œæˆ–è€…<code>GET</code>è¯·æ±‚ä¸­çš„<code>body</code>æºå¸¦å‚æ•°</p>
<h4 id="å‚æ•°é•¿åº¦"><a href="#å‚æ•°é•¿åº¦" class="headerlink" title="å‚æ•°é•¿åº¦"></a>å‚æ•°é•¿åº¦</h4><p><code>HTTP </code>åè®®æ²¡æœ‰<code>Body</code>å’Œ <code>URL</code> çš„é•¿åº¦é™åˆ¶ï¼Œå¯¹ <code>URL </code>é™åˆ¶çš„å¤§å¤šæ˜¯æµè§ˆå™¨å’ŒæœåŠ¡å™¨çš„åŸå› </p>
<p><code>IE</code>å¯¹<code>URL</code>é•¿åº¦çš„é™åˆ¶æ˜¯2083å­—èŠ‚(2K+35)ã€‚å¯¹äºå…¶ä»–æµè§ˆå™¨ï¼Œå¦‚Netscapeã€FireFoxç­‰ï¼Œç†è®ºä¸Šæ²¡æœ‰é•¿åº¦é™åˆ¶ï¼Œå…¶é™åˆ¶å–å†³äºæ“ä½œç³»ç»Ÿçš„æ”¯æŒ</p>
<p>è¿™é‡Œé™åˆ¶çš„æ˜¯æ•´ä¸ª<code>URL</code>é•¿åº¦ï¼Œè€Œä¸ä»…ä»…æ˜¯å‚æ•°å€¼çš„é•¿åº¦</p>
<p>æœåŠ¡å™¨å¤„ç†é•¿<code> URL</code> è¦æ¶ˆè€—æ¯”è¾ƒå¤šçš„èµ„æºï¼Œä¸ºäº†æ€§èƒ½å’Œå®‰å…¨è€ƒè™‘ï¼Œä¼šç»™ <code>URL</code> é•¿åº¦åŠ é™åˆ¶</p>
<h4 id="å®‰å…¨"><a href="#å®‰å…¨" class="headerlink" title="å®‰å…¨"></a>å®‰å…¨</h4><p><code>POST </code>æ¯”<code> GET</code> å®‰å…¨ï¼Œå› ä¸ºæ•°æ®åœ¨åœ°å€æ ä¸Šä¸å¯è§</p>
<p>ç„¶è€Œï¼Œä»ä¼ è¾“çš„è§’åº¦æ¥è¯´ï¼Œä»–ä»¬éƒ½æ˜¯ä¸å®‰å…¨çš„ï¼Œå› ä¸º<code> HTTP</code> åœ¨ç½‘ç»œä¸Šæ˜¯æ˜æ–‡ä¼ è¾“çš„ï¼Œåªè¦åœ¨ç½‘ç»œèŠ‚ç‚¹ä¸Šæ‰åŒ…ï¼Œå°±èƒ½å®Œæ•´åœ°è·å–æ•°æ®æŠ¥æ–‡</p>
<p>åªæœ‰ä½¿ç”¨<code>HTTPS</code>æ‰èƒ½åŠ å¯†å®‰å…¨</p>
<h4 id="æ•°æ®åŒ…"><a href="#æ•°æ®åŒ…" class="headerlink" title="æ•°æ®åŒ…"></a>æ•°æ®åŒ…</h4><p>å¯¹äº<code>GET</code>æ–¹å¼çš„è¯·æ±‚ï¼Œæµè§ˆå™¨ä¼šæŠŠ<code>http header</code>å’Œ<code>data</code>ä¸€å¹¶å‘é€å‡ºå»ï¼ŒæœåŠ¡å™¨å“åº”200ï¼ˆè¿”å›æ•°æ®ï¼‰</p>
<p>å¯¹äº<code>POST</code>ï¼Œæµè§ˆå™¨å…ˆå‘é€<code>header</code>ï¼ŒæœåŠ¡å™¨å“åº”100 <code>continue</code>ï¼Œæµè§ˆå™¨å†å‘é€<code>data</code>ï¼ŒæœåŠ¡å™¨å“åº”200 ok</p>
<p>å¹¶ä¸æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½ä¼šåœ¨<code>POST</code>ä¸­å‘é€ä¸¤æ¬¡åŒ…ï¼Œ<code>Firefox</code>å°±åªå‘é€ä¸€æ¬¡</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹WebSocketçš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹WebSocketçš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹WebSocketçš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹WebSocketçš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-2"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-2" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>WebSocketï¼Œæ˜¯ä¸€ç§ç½‘ç»œä¼ è¾“åè®®ï¼Œä½äº<code>OSI</code>æ¨¡å‹çš„åº”ç”¨å±‚ã€‚å¯åœ¨å•ä¸ª<code>TCP</code>è¿æ¥ä¸Šè¿›è¡Œå…¨åŒå·¥é€šä¿¡ï¼Œèƒ½æ›´å¥½çš„èŠ‚çœæœåŠ¡å™¨èµ„æºå’Œå¸¦å®½å¹¶è¾¾åˆ°å®æ—¶é€šè¿…</p>
<p>å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åªéœ€è¦å®Œæˆä¸€æ¬¡æ¡æ‰‹ï¼Œä¸¤è€…ä¹‹é—´å°±å¯ä»¥åˆ›å»ºæŒä¹…æ€§çš„è¿æ¥ï¼Œå¹¶è¿›è¡ŒåŒå‘æ•°æ®ä¼ è¾“</p>
<p><img src="/2022/10/30/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f61643338366532302d633066312d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>ä»ä¸Šå›¾å¯è§ï¼Œ<code>websocket</code>æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯é€šè¿‡æ¡æ‰‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸåï¼Œä¸¤è€…éƒ½èƒ½ä¸»åŠ¨çš„å‘å¯¹æ–¹å‘é€æˆ–æ¥å—æ•°æ®</p>
<p>è€Œåœ¨<code>websocket</code>å‡ºç°ä¹‹å‰ï¼Œå¼€å‘å®æ—¶<code>web</code>åº”ç”¨çš„æ–¹å¼ä¸ºè½®è¯¢</p>
<p>ä¸åœåœ°å‘æœåŠ¡å™¨å‘é€ HTTP è¯·æ±‚ï¼Œé—®æœ‰æ²¡æœ‰æ•°æ®ï¼Œæœ‰æ•°æ®çš„è¯æœåŠ¡å™¨å°±ç”¨å“åº”æŠ¥æ–‡å›åº”ã€‚å¦‚æœè½®è¯¢çš„é¢‘ç‡æ¯”è¾ƒé«˜ï¼Œé‚£ä¹ˆå°±å¯ä»¥è¿‘ä¼¼åœ°å®ç°â€œå®æ—¶é€šä¿¡â€çš„æ•ˆæœ</p>
<p>è½®è¯¢çš„ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œåå¤å‘é€æ— æ•ˆæŸ¥è¯¢è¯·æ±‚è€—è´¹äº†å¤§é‡çš„å¸¦å®½å’Œ <code>CPU </code>èµ„æº</p>
<h4 id="äºŒã€ç‰¹ç‚¹"><a href="#äºŒã€ç‰¹ç‚¹" class="headerlink" title="äºŒã€ç‰¹ç‚¹"></a>äºŒã€ç‰¹ç‚¹</h4><h5 id="å…¨åŒå·¥"><a href="#å…¨åŒå·¥" class="headerlink" title="å…¨åŒå·¥"></a>å…¨åŒå·¥</h5><p>é€šä¿¡å…è®¸æ•°æ®åœ¨ä¸¤ä¸ªæ–¹å‘ä¸ŠåŒæ—¶ä¼ è¾“ï¼Œå®ƒåœ¨èƒ½åŠ›ä¸Šç›¸å½“äºä¸¤ä¸ªå•å·¥é€šä¿¡æ–¹å¼çš„ç»“åˆ</p>
<p>ä¾‹å¦‚æŒ‡ Aâ†’B çš„åŒæ—¶ Bâ†’A ï¼Œæ˜¯ç¬æ—¶åŒæ­¥çš„</p>
<h5 id="äºŒè¿›åˆ¶å¸§"><a href="#äºŒè¿›åˆ¶å¸§" class="headerlink" title="äºŒè¿›åˆ¶å¸§"></a>äºŒè¿›åˆ¶å¸§</h5><p>é‡‡ç”¨äº†äºŒè¿›åˆ¶å¸§ç»“æ„ï¼Œè¯­æ³•ã€è¯­ä¹‰ä¸ HTTP å®Œå…¨ä¸å…¼å®¹ï¼Œç›¸æ¯”<code>http/2</code>ï¼Œ<code>WebSocket </code>æ›´ä¾§é‡äºâ€œå®æ—¶é€šä¿¡â€ï¼Œè€Œ<code>HTTP/2</code> æ›´ä¾§é‡äºæé«˜ä¼ è¾“æ•ˆç‡ï¼Œæ‰€ä»¥ä¸¤è€…çš„å¸§ç»“æ„ä¹Ÿæœ‰å¾ˆå¤§çš„åŒºåˆ«</p>
<p>ä¸åƒ <code>HTTP/2</code> é‚£æ ·å®šä¹‰æµï¼Œä¹Ÿå°±ä¸å­˜åœ¨å¤šè·¯å¤ç”¨ã€ä¼˜å…ˆçº§ç­‰ç‰¹æ€§</p>
<p>è‡ªèº«å°±æ˜¯å…¨åŒå·¥ï¼Œä¹Ÿä¸éœ€è¦æœåŠ¡å™¨æ¨é€</p>
<h5 id="åè®®å"><a href="#åè®®å" class="headerlink" title="åè®®å"></a>åè®®å</h5><p>å¼•å…¥<code>ws</code>å’Œ<code>wss</code>åˆ†åˆ«ä»£è¡¨æ˜æ–‡å’Œå¯†æ–‡çš„<code>websocket</code>åè®®ï¼Œä¸”é»˜è®¤ç«¯å£ä½¿ç”¨80æˆ–443ï¼Œå‡ ä¹ä¸<code>http</code>ä¸€è‡´</p>
<pre><code class="http">ws://www.chrono.com
ws://www.chrono.com:8080/srv
wss://www.chrono.com:445/im?user_id=xxx
</code></pre>
<h5 id="æ¡æ‰‹"><a href="#æ¡æ‰‹" class="headerlink" title="æ¡æ‰‹"></a>æ¡æ‰‹</h5><p><code>WebSocket </code>ä¹Ÿè¦æœ‰ä¸€ä¸ªæ¡æ‰‹è¿‡ç¨‹ï¼Œç„¶åæ‰èƒ½æ­£å¼æ”¶å‘æ•°æ®</p>
<p>å®¢æˆ·ç«¯å‘é€æ•°æ®æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="http">GET /chat HTTP/1.1
Host: server.example.com
Upgrade: websocket
Connection: Upgrade
Sec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ==
Origin: http://example.com
Sec-WebSocket-Protocol: chat, superchat
Sec-WebSocket-Version: 13
</code></pre>
<ul>
<li>Connectionï¼šå¿…é¡»è®¾ç½®Upgradeï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯å¸Œæœ›è¿æ¥å‡çº§</li>
<li>Upgradeï¼šå¿…é¡»è®¾ç½®Websocketï¼Œè¡¨ç¤ºå¸Œæœ›å‡çº§åˆ°Websocketåè®®</li>
<li>Sec-WebSocket-Keyï¼šå®¢æˆ·ç«¯å‘é€çš„ä¸€ä¸ª base64 ç¼–ç çš„å¯†æ–‡ï¼Œç”¨äºç®€å•çš„è®¤è¯ç§˜é’¥ã€‚è¦æ±‚æœåŠ¡ç«¯å¿…é¡»è¿”å›ä¸€ä¸ªå¯¹åº”åŠ å¯†çš„â€œSec-WebSocket-Acceptåº”ç­”ï¼Œå¦åˆ™å®¢æˆ·ç«¯ä¼šæŠ›å‡ºé”™è¯¯ï¼Œå¹¶å…³é—­è¿æ¥</li>
<li>Sec-WebSocket-Version ï¼šè¡¨ç¤ºæ”¯æŒçš„Websocketç‰ˆæœ¬</li>
</ul>
<p>æœåŠ¡ç«¯è¿”å›çš„æ•°æ®æ ¼å¼ï¼š</p>
<pre><code class="http">HTTP/1.1 101 Switching Protocols
Upgrade: websocket
Connection: Upgrade
Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK+xOo=Sec-WebSocket-Protocol: chat
</code></pre>
<ul>
<li>HTTP&#x2F;1.1 101 Switching Protocolsï¼šè¡¨ç¤ºæœåŠ¡ç«¯æ¥å— WebSocket åè®®çš„å®¢æˆ·ç«¯è¿æ¥</li>
<li>Sec-WebSocket-Accepï¼šéªŒè¯å®¢æˆ·ç«¯è¯·æ±‚æŠ¥æ–‡ï¼ŒåŒæ ·ä¹Ÿæ˜¯ä¸ºäº†é˜²æ­¢è¯¯è¿æ¥ã€‚å…·ä½“åšæ³•æ˜¯æŠŠè¯·æ±‚å¤´é‡Œâ€œSec-WebSocket-Keyâ€çš„å€¼ï¼ŒåŠ ä¸Šä¸€ä¸ªä¸“ç”¨çš„ UUIDï¼Œå†è®¡ç®—æ‘˜è¦</li>
</ul>
<h4 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><ul>
<li>è¾ƒå°‘çš„æ§åˆ¶å¼€é”€ï¼šæ•°æ®åŒ…å¤´éƒ¨åè®®è¾ƒå°ï¼Œä¸åŒäºhttpæ¯æ¬¡è¯·æ±‚éœ€è¦æºå¸¦å®Œæ•´çš„å¤´éƒ¨</li>
<li>æ›´å¼ºçš„å®æ—¶æ€§ï¼šç›¸å¯¹äºHTTPè¯·æ±‚éœ€è¦ç­‰å¾…å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚æœåŠ¡ç«¯æ‰èƒ½å“åº”ï¼Œå»¶è¿Ÿæ˜æ˜¾æ›´å°‘</li>
<li>ä¿æŒåˆ›è¿æ¥çŠ¶æ€ï¼šåˆ›å»ºé€šä¿¡åï¼Œå¯çœç•¥çŠ¶æ€ä¿¡æ¯ï¼Œä¸åŒäºHTTPæ¯æ¬¡è¯·æ±‚éœ€è¦æºå¸¦èº«ä»½éªŒè¯</li>
<li>æ›´å¥½çš„äºŒè¿›åˆ¶æ”¯æŒï¼šå®šä¹‰äº†äºŒè¿›åˆ¶å¸§ï¼Œæ›´å¥½å¤„ç†äºŒè¿›åˆ¶å†…å®¹</li>
<li>æ”¯æŒæ‰©å±•ï¼šç”¨æˆ·å¯ä»¥æ‰©å±•websocketåè®®ã€å®ç°éƒ¨åˆ†è‡ªå®šä¹‰çš„å­åè®®</li>
<li>æ›´å¥½çš„å‹ç¼©æ•ˆæœï¼šWebsocketåœ¨é€‚å½“çš„æ‰©å±•æ”¯æŒä¸‹ï¼Œå¯ä»¥æ²¿ç”¨ä¹‹å‰å†…å®¹çš„ä¸Šä¸‹æ–‡ï¼Œåœ¨ä¼ é€’ç±»ä¼¼çš„æ•°æ®æ—¶ï¼Œå¯ä»¥æ˜¾è‘—åœ°æé«˜å‹ç¼©ç‡</li>
</ul>
<h4 id="äºŒã€åº”ç”¨åœºæ™¯"><a href="#äºŒã€åº”ç”¨åœºæ™¯" class="headerlink" title="äºŒã€åº”ç”¨åœºæ™¯"></a>äºŒã€åº”ç”¨åœºæ™¯</h4><p>åŸºäº<code>websocket</code>çš„äº‹å®é€šä¿¡çš„ç‰¹ç‚¹ï¼Œå…¶å­˜åœ¨çš„åº”ç”¨åœºæ™¯å¤§æ¦‚æœ‰ï¼š</p>
<ul>
<li>å¼¹å¹•</li>
<li>åª’ä½“èŠå¤©</li>
<li>ååŒç¼–è¾‘</li>
<li>åŸºäºä½ç½®çš„åº”ç”¨</li>
<li>ä½“è‚²å®å†µæ›´æ–°</li>
<li>è‚¡ç¥¨åŸºé‡‘æŠ¥ä»·å®æ—¶æ›´æ–°</li>
</ul>
]]></content>
      <categories>
        <category>æŠ€æœ¯é¢è¯•</category>
        <category>æœåŠ¡ç«¯</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯é¢è¯•å¤§å…¨Vue-Vue3</title>
    <url>/2022/10/28/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8Vue-Vue3/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆVue-Vue3ï¼‰"><a href="#å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆVue-Vue3ï¼‰" class="headerlink" title="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆVue + Vue3ï¼‰"></a>å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆVue + Vue3ï¼‰</h1><p>å‰ç«¯é¢è¯•é¢˜ç±»ç›®åˆ†ç±»</p>
<ul>
<li>HTML5 + CSS3</li>
<li>JavaScript</li>
<li>Vue + Vue3</li>
<li>React</li>
<li>Webpack</li>
<li>æœåŠ¡ç«¯</li>
</ul>
<hr>
<p>è€ƒç‚¹é¢‘ç‡ ï¼šâ™¥ï¸ ã€ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸</p>
<h2 id="Vue-Vue3"><a href="#Vue-Vue3" class="headerlink" title="Vue + Vue3"></a>Vue + Vue3</h2><h3 id="â™¥ï¸â™¥ï¸vue-router-3-1-0æ–°å¢çš„v-slotå±æ€§æ€ä¹ˆç”¨ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸vue-router-3-1-0æ–°å¢çš„v-slotå±æ€§æ€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸vue-router 3.1.0æ–°å¢çš„v-slotå±æ€§æ€ä¹ˆç”¨ï¼Ÿ"></a>â™¥ï¸â™¥ï¸vue-router 3.1.0æ–°å¢çš„v-slotå±æ€§æ€ä¹ˆç”¨ï¼Ÿ</h3><p>router-link é€šè¿‡ä¸€ä¸ªä½œç”¨åŸŸæ’æ§½æš´éœ²åº•å±‚çš„å®šåˆ¶èƒ½åŠ›ã€‚è¿™æ˜¯ä¸€ä¸ªæ›´é«˜é˜¶çš„ APIï¼Œä¸»è¦é¢å‘åº“ä½œè€…ï¼Œä½†ä¹Ÿå¯ä»¥ä¸ºå¼€å‘è€…æä¾›ä¾¿åˆ©ï¼Œå¤šæ•°æƒ…å†µç”¨åœ¨ä¸€ä¸ªç±»ä¼¼ NavLink è¿™æ ·çš„è‡ªå®šä¹‰ç»„ä»¶é‡Œã€‚</p>
<p>åœ¨ä½¿ç”¨ v-slot API æ—¶ï¼Œéœ€è¦å‘ router-link ä¼ å…¥ä¸€ä¸ªå•ç‹¬çš„å­å…ƒç´ ã€‚å¦åˆ™ router-link å°†ä¼šæŠŠå­å…ƒç´ åŒ…è£¹åœ¨ä¸€ä¸ª span å…ƒç´ å†…ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸è¯´ä¸€ä¸‹-rootï¼Œ-parentï¼Œ-refs"><a href="#â™¥ï¸â™¥ï¸è¯´ä¸€ä¸‹-rootï¼Œ-parentï¼Œ-refs" class="headerlink" title="â™¥ï¸â™¥ï¸è¯´ä¸€ä¸‹$rootï¼Œ$parentï¼Œ$refs"></a>â™¥ï¸â™¥ï¸è¯´ä¸€ä¸‹$rootï¼Œ$parentï¼Œ$refs</h3><p>$rootï¼Œå’Œ$parentéƒ½èƒ½è®¿é—®çˆ¶ç»„ä»¶çš„å±æ€§å’Œæ–¹æ³•ï¼ŒåŒºåˆ«åœ¨äºå¦‚æœå­˜åœ¨å¤šçº§å­ç»„ä»¶ï¼Œé€šè¿‡parent è®¿é—®å¾—åˆ°çš„æ˜¯å®ƒæœ€è¿‘ä¸€çº§çš„çˆ¶ç»„ä»¶ï¼Œé€šè¿‡root è®¿é—®å¾—åˆ°çš„æ˜¯æ ¹çˆ¶ç»„ä»¶ã€‚</p>
<p>é€šè¿‡åœ¨å­ç»„ä»¶æ ‡ç­¾å®šä¹‰ ref å±æ€§ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­å¯ä»¥ä½¿ç”¨$refs è®¿é—®å­ç»„ä»¶å®ä¾‹ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸å¯¹æ¯”-jQueryï¼ŒVue-æœ‰ä»€ä¹ˆä¸åŒ"><a href="#â™¥ï¸â™¥ï¸å¯¹æ¯”-jQueryï¼ŒVue-æœ‰ä»€ä¹ˆä¸åŒ" class="headerlink" title="â™¥ï¸â™¥ï¸å¯¹æ¯” jQueryï¼ŒVue æœ‰ä»€ä¹ˆä¸åŒ"></a>â™¥ï¸â™¥ï¸å¯¹æ¯” jQueryï¼ŒVue æœ‰ä»€ä¹ˆä¸åŒ</h3><p>jQuery ä¸“æ³¨è§†å›¾å±‚ï¼Œé€šè¿‡ç›´æ¥æ“ä½œ DOM å»å®ç°é¡µé¢çš„ä¸€äº›é€»è¾‘æ¸²æŸ“ï¼›</p>
<p>Vue ä¸“æ³¨äºæ•°æ®å±‚ï¼Œé€šè¿‡æ•°æ®çš„åŒå‘ç»‘å®šï¼Œæœ€ç»ˆè¡¨ç°åœ¨ DOM å±‚é¢ï¼Œå‡å°‘äº† DOM æ“ä½œã€‚</p>
<p>Vue ä½¿ç”¨äº†ç»„ä»¶åŒ–æ€æƒ³ï¼Œä½¿å¾—é¡¹ç›®å­é›†èŒè´£æ¸…æ™°ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ï¼Œæ–¹ä¾¿é‡å¤åˆ©ç”¨ï¼Œä¾¿äºååŒå¼€å‘</p>
<h3 id="â™¥ï¸â™¥ï¸-Vueä¸­å¦‚ä½•å®ç°å­ç»„ä»¶å†…çš„cssæ ·å¼ååœ¨é¡¹ç›®ä¸­ç»å¯¹å”¯ä¸€æ€§"><a href="#â™¥ï¸â™¥ï¸-Vueä¸­å¦‚ä½•å®ç°å­ç»„ä»¶å†…çš„cssæ ·å¼ååœ¨é¡¹ç›®ä¸­ç»å¯¹å”¯ä¸€æ€§" class="headerlink" title="â™¥ï¸â™¥ï¸ Vueä¸­å¦‚ä½•å®ç°å­ç»„ä»¶å†…çš„cssæ ·å¼ååœ¨é¡¹ç›®ä¸­ç»å¯¹å”¯ä¸€æ€§"></a>â™¥ï¸â™¥ï¸ Vueä¸­å¦‚ä½•å®ç°å­ç»„ä»¶å†…çš„cssæ ·å¼ååœ¨é¡¹ç›®ä¸­ç»å¯¹å”¯ä¸€æ€§</h3><p>åœ¨styleæ ‡ç­¾ä¸ŠåŠ ä¸Šscopedå±æ€§</p>
<h3 id="â™¥ï¸â™¥ï¸v-modelæ˜¯ä»€ä¹ˆï¼ŸVueä¸­æ ‡ç­¾æ€ä¹ˆç»‘å®šäº‹ä»¶ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸v-modelæ˜¯ä»€ä¹ˆï¼ŸVueä¸­æ ‡ç­¾æ€ä¹ˆç»‘å®šäº‹ä»¶ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸v-modelæ˜¯ä»€ä¹ˆï¼ŸVueä¸­æ ‡ç­¾æ€ä¹ˆç»‘å®šäº‹ä»¶ï¼Ÿ"></a>â™¥ï¸â™¥ï¸v-modelæ˜¯ä»€ä¹ˆï¼ŸVueä¸­æ ‡ç­¾æ€ä¹ˆç»‘å®šäº‹ä»¶ï¼Ÿ</h3><p>v-modelæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œè¿™ä¸€ä¸ªæŒ‡ä»¤å¯ä»¥åˆ†ä¸ºå‡ ä¸ªæŒ‡ä»¤ï¼Œå®ƒå†…éƒ¨å·²ç»å¸®æˆ‘ä»¬å¤„ç†æ•´åˆäº†ã€‚å¯¹äºæ™®é€šçš„æ–‡æœ¬æ¡†æ¥è¯´ï¼Œv-model &#x3D; v-bind:value + @inputã€‚å¯¹å•é€‰æ¡†å’Œå¤é€‰æ¡†æ¥è¯´ï¼Œv-model &#x3D; v-bind:checked +@changeï¼Œå¹¶ä¸”å®ƒè¿˜æœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„åŠŸèƒ½ï¼Œå°±æ˜¯è§£å†³çˆ¶å­ç»„ä»¶ä¹‹é—´çš„é€šè®¯é—®é¢˜ï¼Œå¯ä»¥æå‡æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ã€‚åœ¨vueä¸­é€šè¿‡ä½¿ç”¨&lt;v-on:äº‹ä»¶å &#x3D; å‡½æ•°å&gt;çš„æ–¹å¼æ¥ç»‘å®šäº‹ä»¶ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸Vueç”Ÿå‘½å‘¨æœŸé€šå¸¸ä½¿ç”¨å“ªäº›"><a href="#â™¥ï¸â™¥ï¸Vueç”Ÿå‘½å‘¨æœŸé€šå¸¸ä½¿ç”¨å“ªäº›" class="headerlink" title="â™¥ï¸â™¥ï¸Vueç”Ÿå‘½å‘¨æœŸé€šå¸¸ä½¿ç”¨å“ªäº›"></a>â™¥ï¸â™¥ï¸Vueç”Ÿå‘½å‘¨æœŸé€šå¸¸ä½¿ç”¨å“ªäº›</h3><p>å¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸæœ‰ï¼ŒbeforeCreateï¼Œcreatedï¼ŒbeforeMountï¼Œmountedï¼ŒbeforeUpdateï¼Œupdatedï¼ŒbeforeDestroyï¼Œdestroyed</p>
<h3 id="â™¥ï¸â™¥ï¸Vueæ·±å±‚æ¬¡çš„ç»„ä»¶æ€ä¹ˆå’Œçˆ¶ç»„ä»¶é€šè®¯"><a href="#â™¥ï¸â™¥ï¸Vueæ·±å±‚æ¬¡çš„ç»„ä»¶æ€ä¹ˆå’Œçˆ¶ç»„ä»¶é€šè®¯" class="headerlink" title="â™¥ï¸â™¥ï¸Vueæ·±å±‚æ¬¡çš„ç»„ä»¶æ€ä¹ˆå’Œçˆ¶ç»„ä»¶é€šè®¯"></a>â™¥ï¸â™¥ï¸Vueæ·±å±‚æ¬¡çš„ç»„ä»¶æ€ä¹ˆå’Œçˆ¶ç»„ä»¶é€šè®¯</h3><p>ä½¿ç”¨$attrså’Œ$listeners</p>
<pre><code class="vue">//C
Vue.component(&#39;C&#39;, &#123;
 template: &lt;div&gt; &lt;p&gt;æˆ‘æ˜¯Cç»„ä»¶&lt;/p&gt; &lt;input type=&#39;text&#39; v-model=&#39;$attrs.msgc&#39; @input=&#39;$emit(&quot;getC&quot;, $attrs.msgc)&#39; /&gt; &lt;/div&gt;
&#125;)

//B
Vue.component(&#39;B&#39;, &#123;
 /**
 ç»™Cç»„ä»¶ç»‘å®š$attrså±æ€§å’Œ$listenersäº‹ä»¶ï¼ŒCç»„ä»¶å¯ä»¥ç›´æ¥è·å–åˆ°Aç»„ä»¶ä¸­ä¼ é€’ä¸‹æ¥çš„propsï¼ˆé™¤äº†Bç»„
ä»¶ä¸­propså£°æ˜çš„ï¼‰
 */
 template: &lt;div&gt; &lt;p&gt;æˆ‘æ˜¯Bç»„ä»¶&lt;/p&gt; &lt;input type=&#39;text&#39; v-model=&#39;mymsg1&#39; @input=&quot;$emit(&#39;getChild&#39;, mymsg1)&quot; /&gt;&lt;C v-bind=&#39;$attrs&#39; v-on=&#39;$listeners&#39;/&gt; &lt;/div&gt; ,
 props: [&#39;msg1&#39;],
 data () &#123;
 return &#123;
 mymsg1: this.msg1
 &#125;
 &#125;
&#125;)

Vue.component(&#39;A&#39;, &#123;
 template: &lt;div id=&#39;app&#39;&gt; &lt;p&gt;æˆ‘æ˜¯Aç»„ä»¶&lt;/p&gt; &lt;B:msg1=&#39;msg1&#39; :msgc=&#39;msgc&#39; @getChild=&#39;getChild&#39; @getC=&#39;getC&#39; /&gt; &lt;/div&gt; ,
 data () &#123;
 return &#123;
 msg1: &#39;A&#39;,
 msgc: &#39;hello c!&#39;
 &#125;
 &#125;,
 methods: &#123;
 getChild (val) &#123;
 console.log( val )
 &#125;,
 getC (val) &#123;
 console.log( val )
 &#125;
 &#125;
&#125;)
const app = new Vue(&#123;
 el: &#39;#app&#39;,
 template: &lt;A /&gt;
&#125;)
</code></pre>
<hr>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸å¦‚ä½•å†Vueçš„å•æ–‡ä»¶ç»„ä»¶é‡Œçš„æ ·å¼å®šä¹‰å…¨å±€CSSï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸å¦‚ä½•å†Vueçš„å•æ–‡ä»¶ç»„ä»¶é‡Œçš„æ ·å¼å®šä¹‰å…¨å±€CSSï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸å¦‚ä½•å†Vueçš„å•æ–‡ä»¶ç»„ä»¶é‡Œçš„æ ·å¼å®šä¹‰å…¨å±€CSSï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸å¦‚ä½•å†Vueçš„å•æ–‡ä»¶ç»„ä»¶é‡Œçš„æ ·å¼å®šä¹‰å…¨å±€CSSï¼Ÿ</h3><p>åœ¨styleæ ‡ç­¾ä¸Šä¸åŠ ä¸Šscopedçš„å±æ€§ï¼Œé»˜è®¤ä¸ºå…¨å±€cssæ ·å¼</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸å¦‚ä½•å®ç°ä¸€ä¸ªè·¯å¾„æ¸²æŸ“å¤šä¸ªç»„ä»¶ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸å¦‚ä½•å®ç°ä¸€ä¸ªè·¯å¾„æ¸²æŸ“å¤šä¸ªç»„ä»¶ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸å¦‚ä½•å®ç°ä¸€ä¸ªè·¯å¾„æ¸²æŸ“å¤šä¸ªç»„ä»¶ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸å¦‚ä½•å®ç°ä¸€ä¸ªè·¯å¾„æ¸²æŸ“å¤šä¸ªç»„ä»¶ï¼Ÿ</h3><p>å¯ä»¥é€šè¿‡å‘½åè§†å›¾(router-view)ï¼Œå®ƒå®¹è®¸åŒä¸€ç•Œé¢ä¸­æ‹¥æœ‰å¤šä¸ªå•ç‹¬å‘½åçš„è§†å›¾ï¼Œè€Œä¸æ˜¯åªæœ‰ä¸€ä¸ªå•ç‹¬çš„å‡ºå£ã€‚å¦‚æœ router-view æ²¡æœ‰è®¾ç½®åå­—ï¼Œé‚£ä¹ˆé»˜è®¤ä¸º defaultã€‚é€šè¿‡è®¾ç½®componentså³å¯åŒæ—¶æ¸²æŸ“å¤šä¸ªç»„ä»¶ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚ä½•å®ç°å¤šä¸ªè·¯å¾„å…±äº«ä¸€ä¸ªç»„ä»¶ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚ä½•å®ç°å¤šä¸ªè·¯å¾„å…±äº«ä¸€ä¸ªç»„ä»¶ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚ä½•å®ç°å¤šä¸ªè·¯å¾„å…±äº«ä¸€ä¸ªç»„ä»¶ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚ä½•å®ç°å¤šä¸ªè·¯å¾„å…±äº«ä¸€ä¸ªç»„ä»¶ï¼Ÿ</h3><p>åªéœ€å°†å¤šä¸ªè·¯å¾„çš„componentå­—æ®µçš„å€¼è®¾ç½®ä¸ºåŒä¸€ä¸ªç»„ä»¶å³å¯ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸å¦‚ä½•ç›‘æµ‹åŠ¨æ€è·¯ç”±çš„å˜åŒ–"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸å¦‚ä½•ç›‘æµ‹åŠ¨æ€è·¯ç”±çš„å˜åŒ–" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸å¦‚ä½•ç›‘æµ‹åŠ¨æ€è·¯ç”±çš„å˜åŒ–"></a>â™¥ï¸â™¥ï¸â™¥ï¸å¦‚ä½•ç›‘æµ‹åŠ¨æ€è·¯ç”±çš„å˜åŒ–</h3><p>å¯ä»¥é€šè¿‡watchæ–¹æ³•æ¥å¯¹$routeè¿›è¡Œç›‘å¬ï¼Œæˆ–è€…é€šè¿‡å¯¼èˆªå®ˆå«çš„é’©å­å‡½æ•°beforeRouteUpdateæ¥ç›‘å¬å®ƒçš„å˜åŒ–ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸å¯¹MVCï¼ŒMVPï¼ŒMVVMçš„ç†è§£"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸å¯¹MVCï¼ŒMVPï¼ŒMVVMçš„ç†è§£" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸å¯¹MVCï¼ŒMVPï¼ŒMVVMçš„ç†è§£"></a>â™¥ï¸â™¥ï¸â™¥ï¸å¯¹MVCï¼ŒMVPï¼ŒMVVMçš„ç†è§£</h3><p>mvc å’Œ mvvm å…¶å®åŒºåˆ«å¹¶ä¸å¤§ã€‚éƒ½æ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ã€‚ä¸»è¦å°±æ˜¯ mvc ä¸­ Controller æ¼”å˜æˆ mvvm ä¸­çš„viewModelã€‚mvvm ä¸»è¦è§£å†³äº† mvc ä¸­å¤§é‡çš„ DOM æ“ä½œä½¿é¡µé¢æ¸²æŸ“æ€§èƒ½é™ä½ï¼ŒåŠ è½½é€Ÿåº¦å˜æ…¢ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚å’Œå½“ Model é¢‘ç¹å‘ç”Ÿå˜åŒ–ï¼Œå¼€å‘è€…éœ€è¦ä¸»åŠ¨æ›´æ–°åˆ° View ã€‚</p>
<p>MVVM æ˜¯ Model-View-ViewModel çš„ç¼©å†™ã€‚mvvm æ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ã€‚</p>
<p>1ï¼šModel å±‚ä»£è¡¨æ•°æ®æ¨¡å‹ï¼Œä¹Ÿå¯ä»¥åœ¨ Model ä¸­å®šä¹‰æ•°æ®ä¿®æ”¹å’Œæ“ä½œçš„ä¸šåŠ¡é€»è¾‘ï¼›View ä»£è¡¨ UI ç»„ä»¶ï¼Œå®ƒè´Ÿè´£å°†æ•°æ®æ¨¡å‹è½¬åŒ–æˆ UI å±•ç°å‡ºæ¥ï¼ŒViewModel æ˜¯ä¸€ä¸ªåŒæ­¥ View å’Œ Model çš„å¯¹è±¡ã€‚</p>
<p>2ï¼šåœ¨ MVVM æ¶æ„ä¸‹ï¼ŒView å’Œ Model ä¹‹é—´å¹¶æ²¡æœ‰ç›´æ¥çš„è”ç³»ï¼Œè€Œæ˜¯é€šè¿‡ ViewModel è¿›è¡Œäº¤äº’ï¼ŒModelå’Œ ViewModel ä¹‹é—´çš„äº¤äº’æ˜¯åŒå‘çš„ï¼Œ å› æ­¤ View æ•°æ®çš„å˜åŒ–ä¼šåŒæ­¥åˆ° Model ä¸­ï¼Œè€Œ Model æ•°æ®çš„å˜åŒ–ä¹Ÿä¼šç«‹å³ååº”åˆ° View ä¸Šã€‚</p>
<p>3ï¼šViewModel é€šè¿‡åŒå‘æ•°æ®ç»‘å®šæŠŠ View å±‚å’Œ Model å±‚è¿æ¥äº†èµ·æ¥ï¼Œè€Œ View å’Œ Model ä¹‹é—´çš„åŒæ­¥å·¥ä½œå®Œå…¨æ˜¯è‡ªåŠ¨çš„ï¼Œæ— éœ€äººä¸ºå¹²æ¶‰ï¼Œå› æ­¤å¼€å‘è€…åªéœ€å…³æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œä¸éœ€è¦æ‰‹åŠ¨æ“ä½œ DOM, ä¸éœ€è¦å…³æ³¨æ•°æ®çŠ¶æ€çš„åŒæ­¥é—®é¢˜ï¼Œå¤æ‚çš„æ•°æ®çŠ¶æ€ç»´æŠ¤å®Œå…¨ç”± MVVM æ¥ç»Ÿä¸€ç®¡ç†ã€‚</p>
<p>MVPä¸MVCå¾ˆæ¥è¿‘ï¼ŒPæŒ‡çš„æ˜¯Presenterï¼Œpresenterå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªä¸­é—´äººï¼Œå®ƒè´Ÿè´£ç€Viewå’ŒModelä¹‹é—´çš„æ•°æ®æµåŠ¨ï¼Œé˜²æ­¢Viewå’ŒModelä¹‹é—´ç›´æ¥äº¤æµã€‚</p>
<p><img src="/2022/10/28/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8Vue-Vue3/2021022520492697.png" alt="MVP"></p>
<p>presenterè´Ÿè´£å’ŒModelè¿›è¡ŒåŒå‘äº¤äº’ï¼Œè¿˜å’ŒViewè¿›è¡ŒåŒå‘äº¤äº’ã€‚è¿™ç§äº¤äº’æ–¹å¼ï¼Œç›¸å¯¹äºMVCæ¥è¯´å°‘äº†ä¸€äº›çµæ´»ï¼ŒVlewå˜æˆäº†è¢«åŠ¨è§†å›¾ï¼Œå¹¶ä¸”æœ¬èº«å˜å¾—å¾ˆå°ã€‚è™½ç„¶å®ƒåˆ†ç¦»äº†Viewå’ŒModelã€‚ä½†æ˜¯presenteré™¤äº†è¦åšäº‹ä»¶ç›‘å¬ï¼Œè¿˜è¦æ›´æ–°DOMç­‰å„ç§äº‹æƒ…ï¼Œåº”ç”¨é€æ¸å˜å¤§ä¹‹åï¼Œå¯¼è‡´presenterçš„ä½“ç§¯å¢å¤§ï¼Œéš¾ä»¥ç»´æŠ¤ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨-Vuex"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨-Vuex" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨ Vuex"></a>â™¥ï¸â™¥ï¸â™¥ï¸<strong>ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨</strong> Vuex</h3><p>å¦‚æœåº”ç”¨å¤Ÿç®€å•ï¼Œæœ€å¥½ä¸è¦ä½¿ç”¨ Vuexï¼Œä¸€ä¸ªç®€å•çš„ store æ¨¡å¼å³å¯ï¼Œéœ€è¦æ„å»ºä¸€ä¸ªä¸­å¤§å‹å•é¡µåº”ç”¨æ—¶ï¼Œä½¿ç”¨Vuexèƒ½æ›´å¥½åœ°åœ¨ç»„ä»¶å¤–éƒ¨ç®¡ç†çŠ¶æ€</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vuexå¯ä»¥ç›´æ¥ä¿®æ”¹stateçš„å€¼å—ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vuexå¯ä»¥ç›´æ¥ä¿®æ”¹stateçš„å€¼å—ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vuexå¯ä»¥ç›´æ¥ä¿®æ”¹stateçš„å€¼å—ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vuexå¯ä»¥ç›´æ¥ä¿®æ”¹stateçš„å€¼å—ï¼Ÿ</h3><p>å¯ä»¥ç›´æ¥ä¿®æ”¹ï¼Œä½†æ˜¯æå…¶ä¸æ¨èï¼Œstateçš„ä¿®æ”¹å¿…é¡»åœ¨mutationæ¥ä¿®æ”¹ï¼Œå¦åˆ™æ— æ³•è¢«devtoolæ‰€ç›‘æµ‹ï¼Œæ— æ³•ç›‘æµ‹æ•°æ®çš„æ¥æºï¼Œæ— æ³•ä¿å­˜çŠ¶æ€å¿«ç…§ï¼Œä¹Ÿå°±æ— æ³•å®ç°æ—¶é—´æ¼«æ¸¸&#x2F;å›æ»šä¹‹ç±»çš„æ“ä½œã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸v-modelå’Œvuexæœ‰å†²çªå—ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸v-modelå’Œvuexæœ‰å†²çªå—ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸v-modelå’Œvuexæœ‰å†²çªå—ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸v-modelå’Œvuexæœ‰å†²çªå—ï¼Ÿ</h3><p>å½“æˆ‘ä»¬v-modelçš„æ•°æ®æ˜¯å­˜å‚¨åœ¨vuexä¸­æ—¶å†™æ³•å¦‚ä¸‹æ—¶ä¼šæŠ¥é”™</p>
<pre><code class="javascript">computed:&#123;
  editableTabsValue2:&#123;
     return this.$store.state.activeName
  &#125;
&#125;
</code></pre>
<p>æŠ¥é”™ï¼šComputed property  â€œeditableTabsValue2â€  was assigned  to but  it has no  setter</p>
<p>åŸå› ï¼šv-modelæ˜¯åŒå‘æ•°æ®ç»‘å®š vueå®ä¾‹çš„dataæ”¹å˜æˆ–è€…ç”¨æˆ·è¾“å…¥çš„æ”¹å˜éƒ½ä¼šè§¦å‘è§†å›¾æ›´æ–°ã€‚vuexæ˜¯ä¸€ä¸ªçŠ¶æ€çš„å­˜å‚¨ï¼Œå¯¹äºé‡Œé¢çš„çŠ¶æ€çš„æ”¹å˜éƒ½æ˜¯é€šè¿‡commit mutation æ‰€ä»¥å½“ç”¨æˆ·è¾“å…¥ç›´æ¥ä¿®æ”¹editableTabsValue2,åˆä¸æ˜¯é€šè¿‡commitæ›´æ”¹çŠ¶æ€æ—¶ä¼šæŠ¥é”™</p>
<p>è§£å†³æ–¹æ³•:</p>
<pre><code class="javascript">computed:&#123;
  editableTabsValue2:&#123;
    get:function () &#123;
      return this.$store.state.activeName
    &#125;,
    set:function () &#123;
    &#125;
  &#125;
&#125;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸è§£é‡Šå•å‘æ•°æ®æµå’ŒåŒå‘æ•°æ®ç»‘å®š"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸è§£é‡Šå•å‘æ•°æ®æµå’ŒåŒå‘æ•°æ®ç»‘å®š" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸è§£é‡Šå•å‘æ•°æ®æµå’ŒåŒå‘æ•°æ®ç»‘å®š"></a>â™¥ï¸â™¥ï¸â™¥ï¸è§£é‡Šå•å‘æ•°æ®æµå’ŒåŒå‘æ•°æ®ç»‘å®š</h3><p>å¯¹äº Vue æ¥è¯´ï¼Œç»„ä»¶ä¹‹é—´çš„æ•°æ®ä¼ é€’å…·æœ‰å•å‘æ•°æ®æµè¿™æ ·çš„ç‰¹æ€§ç§°ä¸ºå•å‘æ•°æ®æµï¼Œå•å‘æ•°æ®æµï¼ˆUnidirectional data flowï¼‰æ–¹å¼ä½¿ç”¨ä¸€ä¸ªä¸Šä¼ æ•°æ®æµå’Œä¸€ä¸ªä¸‹ä¼ æ•°æ®æµè¿›è¡ŒåŒå‘æ•°æ®é€šä¿¡ï¼Œä¸¤ä¸ªæ•°æ®æµä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œå•å‘æ•°æ®æµæŒ‡åªèƒ½ä»ä¸€ä¸ªæ–¹å‘æ¥ä¿®æ”¹çŠ¶æ€ã€‚</p>
<p>è€ŒåŒå‘æ•°æ®ç»‘å®šå³ä¸ºå½“æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œè§†å›¾ä¹Ÿå°±å‘ç”Ÿå˜åŒ–ï¼Œå½“è§†å›¾å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæ•°æ®ä¹Ÿä¼šè·Ÿç€åŒæ­¥å˜åŒ–ï¼Œä¸¤ä¸ªæ•°æ®æµä¹‹é—´äº’ä¸ºå½±å“ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-routeå’Œ-routerçš„åŒºåˆ«"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-routeå’Œ-routerçš„åŒºåˆ«" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸$routeå’Œ $routerçš„åŒºåˆ«"></a>â™¥ï¸â™¥ï¸â™¥ï¸$routeå’Œ $routerçš„åŒºåˆ«</h3><p>$routeç”¨æ¥è·å–è·¯ç”±çš„ä¿¡æ¯çš„ï¼Œå®ƒæ˜¯è·¯ç”±ä¿¡æ¯çš„ä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢åŒ…å«è·¯ç”±çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼ŒåŒ…æ‹¬nameã€metaã€pathã€hashã€queryã€paramsã€fullPathã€matchedã€redirectedFromç­‰ã€‚</p>
<p>è€Œ$routerä¸»è¦æ˜¯ç”¨æ¥æ“ä½œè·¯ç”±çš„ï¼Œå®ƒæ˜¯VueRouterçš„å®ä¾‹ï¼ŒåŒ…å«äº†ä¸€äº›è·¯ç”±çš„è·³è½¬æ–¹æ³•ï¼Œé’©å­å‡½æ•°ç­‰</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vue-ä¸­æ€ä¹ˆè‡ªå®šä¹‰æŒ‡ä»¤"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vue-ä¸­æ€ä¹ˆè‡ªå®šä¹‰æŒ‡ä»¤" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vue ä¸­æ€ä¹ˆè‡ªå®šä¹‰æŒ‡ä»¤"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vue <strong>ä¸­æ€ä¹ˆè‡ªå®šä¹‰æŒ‡ä»¤</strong></h3><p>é€šè¿‡directiveæ¥è‡ªå®šä¹‰æŒ‡ä»¤ï¼Œè‡ªå®šä¹‰æŒ‡ä»¤åˆ†ä¸ºå…¨å±€æŒ‡ä»¤å’Œå±€éƒ¨æŒ‡ä»¤ï¼Œè‡ªå®šä¹‰æŒ‡ä»¤ä¹Ÿæœ‰å‡ ä¸ªçš„é’©å­å‡½æ•°ï¼Œå¸¸ç”¨çš„æœ‰bindå’Œupdateï¼Œå½“ bind å’Œ update æ—¶è§¦å‘ç›¸åŒè¡Œä¸ºï¼Œè€Œä¸å…³å¿ƒå…¶å®ƒçš„é’©å­æ—¶å¯ä»¥ç®€å†™ã€‚ä¸€ä¸ªè¡¨è¾¾å¼å¯ä»¥ä½¿ç”¨å¤šä¸ªè¿‡æ»¤å™¨ã€‚è¿‡æ»¤å™¨ä¹‹é—´éœ€è¦ç”¨ç®¡é“ç¬¦â€œ|â€éš”å¼€ã€‚å…¶æ‰§è¡Œé¡ºåºä»å·¦å¾€å³ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­æ€ä¹ˆè‡ªå®šä¹‰è¿‡æ»¤å™¨"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­æ€ä¹ˆè‡ªå®šä¹‰è¿‡æ»¤å™¨" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­æ€ä¹ˆè‡ªå®šä¹‰è¿‡æ»¤å™¨"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­æ€ä¹ˆè‡ªå®šä¹‰è¿‡æ»¤å™¨</h3><p>é€šè¿‡filteræ¥å®šä¹‰è¿‡æ»¤å™¨ï¼Œè¿‡æ»¤å™¨åˆ†ä¸ºå…¨å±€å’Œå±€éƒ¨è¿‡æ»¤å™¨ï¼Œè¿‡æ»¤å™¨çš„ä¸»ä½“ä¸ºä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œæ¥å¯¹æ•°æ®è¿›è¡Œå¤„ç†ï¼Œå¯ä»¥ä¼ é€’å‚æ•°ã€‚å½“æœ‰å±€éƒ¨å’Œå…¨å±€ä¸¤ä¸ªåç§°ç›¸åŒçš„è¿‡æ»¤å™¨æ—¶å€™ï¼Œä¼šä»¥å°±è¿‘åŸåˆ™è¿›è¡Œè°ƒç”¨ï¼Œå³ï¼šå±€éƒ¨è¿‡æ»¤å™¨ä¼˜å…ˆäºå…¨å±€è¿‡æ»¤å™¨è¢«è°ƒç”¨ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vueç­‰å•é¡µé¢åº”ç”¨çš„ä¼˜ç¼ºç‚¹"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vueç­‰å•é¡µé¢åº”ç”¨çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vueç­‰å•é¡µé¢åº”ç”¨çš„ä¼˜ç¼ºç‚¹"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vueç­‰å•é¡µé¢åº”ç”¨çš„ä¼˜ç¼ºç‚¹</h3><h4 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><p>1ã€å•é¡µåº”ç”¨çš„å†…å®¹çš„æ”¹å˜ä¸éœ€è¦é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ï¼Œwebåº”ç”¨æ›´å…·å“åº”æ€§å’Œæ›´ä»¤äººç€è¿·ã€‚</p>
<p>2ã€å•é¡µåº”ç”¨æ²¡æœ‰é¡µé¢ä¹‹é—´çš„åˆ‡æ¢ï¼Œå°±ä¸ä¼šå‡ºç°â€œç™½å±ç°è±¡â€,ä¹Ÿä¸ä¼šå‡ºç°å‡æ­»å¹¶æœ‰â€œé—ªçƒâ€ç°è±¡</p>
<p>3ã€å•é¡µåº”ç”¨ç›¸å¯¹æœåŠ¡å™¨å‹åŠ›å°ï¼ŒæœåŠ¡å™¨åªç”¨å‡ºæ•°æ®å°±å¯ä»¥ï¼Œä¸ç”¨ç®¡å±•ç¤ºé€»è¾‘å’Œé¡µé¢åˆæˆï¼Œååèƒ½åŠ›ä¼šæ</p>
<p>é«˜å‡ å€ã€‚</p>
<p>4ã€è‰¯å¥½çš„å‰åç«¯åˆ†ç¦»ã€‚åç«¯ä¸å†è´Ÿè´£æ¨¡æ¿æ¸²æŸ“ã€è¾“å‡ºé¡µé¢å·¥ä½œï¼Œåç«¯APIé€šç”¨åŒ–ï¼Œå³åŒä¸€å¥—åç«¯ç¨‹åºä»£</p>
<p>ç ï¼Œä¸ç”¨ä¿®æ”¹å°±å¯ä»¥ç”¨äºWebç•Œé¢ã€æ‰‹æœºã€å¹³æ¿ç­‰å¤šç§å®¢æˆ·ç«¯ã€‚</p>
<h4 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><p>1ã€é¦–æ¬¡åŠ è½½è€—æ—¶æ¯”è¾ƒå¤šã€‚</p>
<p>2ã€SEOé—®é¢˜ï¼Œä¸åˆ©äºç™¾åº¦ï¼Œ360ç­‰æœç´¢å¼•æ“æ”¶å½•ã€‚</p>
<p>3ã€å®¹æ˜“é€ æˆCsså‘½åå†²çªã€‚</p>
<p>4ã€å‰è¿›ã€åé€€ã€åœ°å€æ ã€ä¹¦ç­¾ç­‰ï¼Œéƒ½éœ€è¦ç¨‹åºè¿›è¡Œç®¡ç†ï¼Œé¡µé¢çš„å¤æ‚åº¦å¾ˆé«˜ï¼Œéœ€è¦ä¸€å®šçš„æŠ€èƒ½æ°´å¹³å’Œå¼€</p>
<p>å‘æˆæœ¬é«˜ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vue-routerä½¿ç”¨paramsä¸queryä¼ å‚æœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vue-routerä½¿ç”¨paramsä¸queryä¼ å‚æœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vue-routerä½¿ç”¨paramsä¸queryä¼ å‚æœ‰ä»€ä¹ˆåŒºåˆ«"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vue-routerä½¿ç”¨paramsä¸queryä¼ å‚æœ‰ä»€ä¹ˆåŒºåˆ«</h3><p>&#x2F;&#x2F; ç”¨æ³•ä¸Š</p>
<p>queryè¦ç”¨pathæ¥å¼•å…¥ï¼Œparamsè¦ç”¨nameæ¥å¼•å…¥ï¼Œæ¥æ”¶å‚æ•°éƒ½æ˜¯ç±»ä¼¼çš„ï¼Œåˆ†åˆ«æ˜¯ this.$route.query.name å’Œthis.$route.params.nameã€‚</p>
<p>&#x2F;&#x2F; å±•ç¤ºä¸Š</p>
<p>1ï¼šqueryæ›´åŠ ç±»ä¼¼äºæˆ‘ä»¬ajaxä¸­getä¼ å‚ï¼Œparamsåˆ™ç±»ä¼¼äºpostï¼Œè¯´çš„å†ç®€å•ä¸€ç‚¹ï¼Œå‰è€…åœ¨æµè§ˆå™¨åœ°å€æ ä¸­æ˜¾ç¤ºå‚æ•°ï¼Œåè€…åˆ™ä¸æ˜¾ç¤º</p>
<p>2ï¼šparamsæ˜¯è·¯ç”±çš„ä¸€éƒ¨åˆ†,å¿…é¡»è¦æœ‰ã€‚queryæ˜¯æ‹¼æ¥åœ¨urlåé¢çš„å‚æ•°ï¼Œæ²¡æœ‰ä¹Ÿæ²¡å…³ç³»ã€‚</p>
<p>3ï¼šparamsã€queryä¸è®¾ç½®ä¹Ÿå¯ä»¥ä¼ å‚ï¼Œparamsä¸è®¾ç½®çš„æ—¶å€™ï¼Œåˆ·æ–°é¡µé¢æˆ–è€…è¿”å›å‚æ•°ä¼šä¸¢å¤±</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­keep-aliveçš„ä½œç”¨"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­keep-aliveçš„ä½œç”¨" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­keep-aliveçš„ä½œç”¨"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­keep-aliveçš„ä½œç”¨</h3><p>keep-alive æ˜¯ Vue å†…ç½®çš„ä¸€ä¸ªç»„ä»¶ï¼Œå¯ä»¥ä½¿è¢«åŒ…å«çš„ç»„ä»¶ä¿ç•™çŠ¶æ€ï¼Œæˆ–é¿å…é‡æ–°æ¸²æŸ“ã€‚ä¸€æ—¦ä½¿ç”¨keepaliveåŒ…è£¹ç»„ä»¶ï¼Œæ­¤æ—¶moutedï¼Œcreatedç­‰é’©å­å‡½æ•°åªä¼šåœ¨ç¬¬ä¸€æ¬¡è¿›å…¥ç»„ä»¶æ—¶è°ƒç”¨ï¼Œå½“å†æ¬¡åˆ‡æ¢å›æ¥æ—¶å°†ä¸ä¼šè°ƒç”¨ã€‚æ­¤æ—¶å¦‚æœæˆ‘ä»¬è¿˜æƒ³åœ¨æ¯æ¬¡åˆ‡æ¢æ—¶åšä¸€äº›äº‹æƒ…ï¼Œå°±éœ€è¦ç”¨åˆ°å¦å¤–çš„å‘¨æœŸå‡½æ•°ï¼Œactivedå’Œdeactivedï¼Œè¿™ä¸¤ä¸ªé’©å­å‡½æ•°åªæœ‰è¢«keepaliveåŒ…è£¹åæ‰ä¼šè°ƒç”¨ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vueå¦‚ä½•å®ç°å•é¡µé¢åº”ç”¨"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vueå¦‚ä½•å®ç°å•é¡µé¢åº”ç”¨" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vueå¦‚ä½•å®ç°å•é¡µé¢åº”ç”¨"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vueå¦‚ä½•å®ç°å•é¡µé¢åº”ç”¨</h3><p>é€šå¸¸çš„url åœ°å€ç”±ä»¥ä¸‹å†…å®¹æ„æˆï¼šåè®®å åŸŸå ç«¯å£å· è·¯å¾„ å‚æ•° å“ˆå¸Œå€¼ï¼Œå½“å“ˆå¸Œå€¼æ”¹å˜ï¼Œé¡µé¢ä¸ä¼šå‘ç”Ÿè·³è½¬ï¼Œå•é¡µé¢åº”ç”¨å°±æ˜¯åˆ©ç”¨äº†è¿™ä¸€ç‚¹ï¼Œç»™windowæ³¨å†Œonhashchangeäº‹ä»¶ï¼Œå½“å“ˆå¸Œå€¼æ”¹å˜æ—¶é€šè¿‡location.hashå°±èƒ½è·å¾—ç›¸åº”çš„å“ˆå¸Œå€¼ï¼Œç„¶åå°±èƒ½è·³åˆ°ç›¸åº”çš„é¡µé¢ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸è¯´å‡ºè‡³å°‘4ç§Vueå½“ä¸­çš„æŒ‡ä»¤å’Œå®ƒçš„ç”¨æ³•ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸è¯´å‡ºè‡³å°‘4ç§Vueå½“ä¸­çš„æŒ‡ä»¤å’Œå®ƒçš„ç”¨æ³•ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸è¯´å‡ºè‡³å°‘4ç§Vueå½“ä¸­çš„æŒ‡ä»¤å’Œå®ƒçš„ç”¨æ³•ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸è¯´å‡ºè‡³å°‘4ç§Vueå½“ä¸­çš„æŒ‡ä»¤å’Œå®ƒçš„ç”¨æ³•ï¼Ÿ</h3><pre><code class="css">v-if(åˆ¤æ–­æ˜¯å¦éšè—ï¼Œç”¨æ¥åˆ¤æ–­å…ƒç´ æ˜¯å¦åˆ›å»º)
v-show(å…ƒç´ çš„æ˜¾ç¤ºéšè—ï¼Œç±»ä¼¼cssä¸­çš„displayçš„blockå’Œhidden)
v-for(æŠŠæ•°æ®éå†å‡ºæ¥)
v-bind(ç»‘å®šå±æ€§)
v-model(å®ç°åŒå‘ç»‘å®š)
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-Vuexæ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆä½¿ç”¨ï¼Ÿæè¿°ä½¿ç”¨å®ƒå®ç°ç™»å½•åŠŸèƒ½çš„æµç¨‹ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-Vuexæ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆä½¿ç”¨ï¼Ÿæè¿°ä½¿ç”¨å®ƒå®ç°ç™»å½•åŠŸèƒ½çš„æµç¨‹ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ Vuexæ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆä½¿ç”¨ï¼Ÿæè¿°ä½¿ç”¨å®ƒå®ç°ç™»å½•åŠŸèƒ½çš„æµç¨‹ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ Vuexæ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆä½¿ç”¨ï¼Ÿæè¿°ä½¿ç”¨å®ƒå®ç°ç™»å½•åŠŸèƒ½çš„æµç¨‹ï¼Ÿ</h3><p>Vuexæ˜¯ä¸€ä¸ªä¸“ä¸ºVue.jsåº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ï¼›å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚Vuexå¯ä»¥ç®¡ç†å¤æ‚åº”ç”¨çš„æ•°æ®çŠ¶æ€ï¼Œæ¯”å¦‚å…„å¼Ÿç»„ä»¶çš„é€šä¿¡ã€å¤šå±‚åµŒå¥—çš„ç»„ä»¶çš„ä¼ å€¼ç­‰ç­‰ã€‚</p>
<p>å¦‚ä½•ä½¿ç”¨</p>
<pre><code class="css">1.å®‰è£…vuex
æŒ‰ç…§å®˜ç½‘ç»™å‡ºçš„æ­¥éª¤
npm install vuex --save  //å®‰è£…vuex

2.Vuex ä¾èµ– Promise  æµè§ˆå™¨æ”¯æŒpromiseçš„æ­¤æ­¥éª¤å¯çœç•¥
æ³¨æ„ï¼šVuex ä¾èµ– Promise (opens new window)ã€‚å¦‚æœä½ æ”¯æŒçš„æµè§ˆå™¨å¹¶æ²¡æœ‰å®ç° Promise (æ¯”å¦‚ IE)ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ª polyfill çš„åº“ï¼Œä¾‹å¦‚ es6-promise (opens new window)ã€‚

ä½ å¯ä»¥é€šè¿‡ CDN å°†å…¶å¼•å…¥ï¼š
&lt;script src=&quot;https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.js&quot;&gt;
&lt;/script&gt;
ç„¶å window.Promise ä¼šè‡ªåŠ¨å¯ç”¨ã€‚
å¦‚æœä½ å–œæ¬¢ä½¿ç”¨è¯¸å¦‚ npm æˆ– Yarn ç­‰åŒ…ç®¡ç†å™¨ï¼Œå¯ä»¥æŒ‰ç…§ä¸‹åˆ—æ–¹å¼æ‰§è¡Œå®‰è£…ï¼š
npm install es6-promise --save # npm
yarn add es6-promise # Yarn
æˆ–è€…æ›´è¿›ä¸€æ­¥ï¼Œå°†ä¸‹åˆ—ä»£ç æ·»åŠ åˆ°ä½ ä½¿ç”¨ Vuex ä¹‹å‰çš„ä¸€ä¸ªåœ°æ–¹ï¼š
import &#39;es6-promise/auto&#39;

3.åœ¨é¡¹ç›®å¼•ç”¨
æ‰¾åˆ°é¡¹ç›®ä¸­çš„main.jsæ–‡ä»¶ï¼Œå°†å†…å®¹å¼•å…¥
import store from &#39;./store&#39;
.use(store)
</code></pre>
<p>4.ä½¿ç”¨æ–¹æ³•<br>    é¦–å…ˆï¼Œåœ¨é¡¹ç›®ä¸­æ‰¾åˆ°storeæ–‡ä»¶å¤¹ï¼Œå¦‚æœæ²¡æœ‰å°±è‡ªå·±å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œåœ¨æ–‡ä»¶å¤¹å†…å†æ–°å»ºä¸€ä¸ªjsæ–‡ä»¶ã€‚</p>
<pre><code class="css">import &#123; createStore &#125; from &#39;vuex&#39;
 
export default createStore(&#123;
  state: &#123;  //æ•°æ®å­˜æ”¾çš„ä½ç½®
        data:&#39;&#39;
  &#125;,
  mutations: &#123;//åœ¨mutationså†™æ–¹æ³•æ›´æ”¹stateä¸­çš„å€¼
      data(state,data)&#123;
        state.data=data
   &#125;
  &#125;,
  actions: &#123;//é€šè¿‡actionsè§¦å‘mutationsçš„æ–¹æ³•
      dataone(context,data)&#123;
          context.commit(&#39;data&#39;,data);//å¸¦å¼•å·çš„dataæ˜¯mutationé‡Œçš„ï¼Œç¬¬äºŒä¸ªdataï¼Œæ˜¯é¡µé¢ä¸Š
                                      //ä¼ è¿‡æ¥çš„å‚æ•°
    &#125;
  &#125;,
  modules: &#123;
      
  &#125;
&#125;)
ç„¶åï¼Œå°†è¦ä¿å­˜çš„æ•°æ®ä»é¡µé¢ä¼ è¿‡æ¥
è¿™æ˜¯é¡µé¢ï¼š
import &#123;useStore&#125; from &#39;vuex&#39;
    export default&#123;
        setup()&#123;
            let A =124
            const store=useStore();
            store.dispatch(&#39;dataone&#39;,A)
              //æ‹¬å·å†…ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºactionsä¸­çš„æ–¹æ³•å,æ–¹æ³•åä¸èƒ½ä¸mutationsä¸­é‡å¤    
              //ç¬¬äºŒä¸ªä¸ºéœ€è¦å­˜å‚¨æ”¹å˜çš„å€¼çš„å˜é‡
        &#125;
    &#125;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vue-loaderè§£é‡Šä¸€ä¸‹"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vue-loaderè§£é‡Šä¸€ä¸‹" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vue-loaderè§£é‡Šä¸€ä¸‹"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vue-loaderè§£é‡Šä¸€ä¸‹</h3><p>è§£æå’Œè½¬æ¢ .vue æ–‡ä»¶ï¼Œæå–å‡ºå…¶ä¸­çš„é€»è¾‘ä»£ç  scriptã€æ ·å¼ä»£ç  styleã€ä»¥åŠ HTML æ¨¡ç‰ˆ templateï¼Œå†åˆ†åˆ«æŠŠå®ƒä»¬äº¤ç»™å¯¹åº”çš„ Loader å»å¤„ç†ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ç”¨è¿‡æ’æ§½å—ï¼Ÿç”¨çš„æ˜¯å…·åæ’æ§½è¿˜æ˜¯åŒ¿åæ’æ§½"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ç”¨è¿‡æ’æ§½å—ï¼Ÿç”¨çš„æ˜¯å…·åæ’æ§½è¿˜æ˜¯åŒ¿åæ’æ§½" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ç”¨è¿‡æ’æ§½å—ï¼Ÿç”¨çš„æ˜¯å…·åæ’æ§½è¿˜æ˜¯åŒ¿åæ’æ§½"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ç”¨è¿‡æ’æ§½å—ï¼Ÿç”¨çš„æ˜¯å…·åæ’æ§½è¿˜æ˜¯åŒ¿åæ’æ§½</h3><p>ç”¨è¿‡ï¼Œéƒ½ä½¿ç”¨è¿‡ã€‚æ’æ§½ç›¸å½“äºé¢„ç•™äº†ä¸€ä¸ªä½ç½®ï¼Œå¯ä»¥å°†æˆ‘ä»¬ä¹¦å†™åœ¨ç»„ä»¶å†…çš„å†…å®¹æ”¾å…¥ï¼Œå†™ä¸€ä¸ªæ’æ§½å°±ä¼šå°†ç»„ä»¶å†…çš„å†…å®¹æ›¿æ¢ä¸€æ¬¡ï¼Œä¸¤æ¬¡åˆ™æ›¿æ¢ä¸¤æ¬¡ã€‚ä¸ºäº†è‡ªå®šä¹‰æ’æ§½çš„ä½ç½®æˆ‘ä»¬å¯ä»¥ç»™æ’æ§½å–åï¼Œå®ƒä¼šæ ¹æ®æ’æ§½åæ¥æ’å…¥å†…å®¹ï¼Œä¸€ä¸€å¯¹åº”ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vueè·¯ç”±å®ˆå«"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vueè·¯ç”±å®ˆå«" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vueè·¯ç”±å®ˆå«"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vueè·¯ç”±å®ˆå«</h3><p>vue-router æä¾›çš„å¯¼èˆªå®ˆå«ä¸»è¦ç”¨æ¥å¯¹è·¯ç”±çš„è·³è½¬è¿›è¡Œç›‘æ§ï¼Œæ§åˆ¶å®ƒçš„è·³è½¬æˆ–å–æ¶ˆï¼Œè·¯ç”±å®ˆå«æœ‰å…¨å±€çš„,å•ä¸ªè·¯ç”±ç‹¬äº«çš„, æˆ–è€…ç»„ä»¶çº§çš„ã€‚å¯¼èˆªé’©å­æœ‰3ä¸ªå‚æ•°ï¼š</p>
<p>1ã€to:å³å°†è¦è¿›å…¥çš„ç›®æ ‡è·¯ç”±å¯¹è±¡ï¼›</p>
<p>2ã€from:å½“å‰å¯¼èˆªå³å°†è¦ç¦»å¼€çš„è·¯ç”±å¯¹è±¡ï¼›</p>
<p>3ã€next ï¼šè°ƒç”¨è¯¥æ–¹æ³•åï¼Œæ‰èƒ½è¿›å…¥ä¸‹ä¸€ä¸ªé’©å­å‡½æ•°ï¼ˆafterEachï¼‰ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸è¯·ä½ è¯´ä¸€ä¸‹Vueä¸­createå’Œmountçš„åŒºåˆ«"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸è¯·ä½ è¯´ä¸€ä¸‹Vueä¸­createå’Œmountçš„åŒºåˆ«" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸è¯·ä½ è¯´ä¸€ä¸‹Vueä¸­createå’Œmountçš„åŒºåˆ«"></a>â™¥ï¸â™¥ï¸â™¥ï¸è¯·ä½ è¯´ä¸€ä¸‹Vueä¸­createå’Œmountçš„åŒºåˆ«</h3><p>createä¸ºç»„ä»¶åˆå§‹åŒ–é˜¶æ®µï¼Œåœ¨æ­¤é˜¶æ®µä¸»è¦å®Œæˆæ•°æ®è§‚æµ‹(data observer)ï¼Œå±æ€§å’Œæ–¹æ³•çš„è¿ç®—ï¼Œwatch&#x2F;event äº‹ä»¶å›è°ƒã€‚</p>
<p>ç„¶è€Œï¼ŒæŒ‚è½½é˜¶æ®µè¿˜æ²¡å¼€å§‹ï¼Œæ­¤æ—¶è¿˜æœªç”ŸæˆçœŸå®çš„DOMï¼Œä¹Ÿå°±æ— æ³•è·å–å’Œæ“ä½œDOMå…ƒç´ ã€‚</p>
<p>è€Œmountä¸»è¦å®Œæˆä»è™šæ‹ŸDOMåˆ°çœŸå®DOMçš„è½¬æ¢æŒ‚è½½ï¼Œæ­¤æ—¶htmlå·²ç»æ¸²æŸ“å‡ºæ¥äº†ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥æ“ä½œdomèŠ‚ç‚¹ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸è·¯ç”±æ‡’åŠ è½½"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸è·¯ç”±æ‡’åŠ è½½" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸è·¯ç”±æ‡’åŠ è½½"></a>â™¥ï¸â™¥ï¸â™¥ï¸è·¯ç”±æ‡’åŠ è½½</h3><p>æŠŠä¸åŒè·¯ç”±å¯¹åº”çš„ç»„ä»¶åˆ†å‰²æˆä¸åŒçš„ä»£ç å—ï¼Œç„¶åå½“è·¯ç”±è¢«è®¿é—®æ—¶æ‰åŠ è½½å¯¹åº”çš„ç»„ä»¶å³ä¸ºè·¯ç”±çš„æ‡’åŠ è½½ï¼Œå¯ä»¥åŠ å¿«é¡¹ç›®çš„åŠ è½½é€Ÿåº¦ï¼Œæé«˜æ•ˆç‡ã€‚é€šè¿‡è¿™ç§æ ¼å¼æ¥å¯¼å…¥ç»„ä»¶const foo &#x3D; () &#x3D;&gt;import(â€˜.&#x2F;foo.vueâ€™);</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­computedçš„åŸç†"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­computedçš„åŸç†" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­computedçš„åŸç†"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­computedçš„åŸç†</h3><p>computedæ˜¯vueä¸­çš„è®¡ç®—å±æ€§ï¼Œåœ¨ä¾èµ–çš„å€¼å‘ç”Ÿå˜åŒ–çš„æ—¶å€™è¿›è¡Œé‡æ–°è®¡ç®—ï¼Œå¦åˆ™ä½¿ç”¨ç¼“å­˜ã€‚</p>
<p>å‰é¢è¯´åˆ°computedåªæœ‰åœ¨ä¾èµ–å‘ç”Ÿå˜åŒ–æ‰ä¼šé‡æ–°è®¡ç®—ï¼Œé‚£ä¹ˆå¦‚ä½•å¾—çŸ¥computedçš„å€¼å‘ç”Ÿäº†å˜åŒ–å‘¢</p>
<p>è¿™ä¸»è¦æ˜¯Watcherä¸­çš„dirtyå±æ€§ï¼Œdirtyå±æ€§ä¸ºtrueæ—¶ï¼Œè¯´æ˜computedä¸­çš„å€¼éœ€è¦é‡æ–°è®¡ç®—ï¼Œdirtyä¸ºfalseæ—¶ï¼Œåˆ™è¯´æ˜ä¾èµ–æ²¡æœ‰å˜åŒ–ï¼Œä¸éœ€è¦é‡æ–°è®¡ç®—</p>
<p>å½“è®¡ç®—å±æ€§çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè®¡ç®—å±æ€§çš„watcherå’Œç»„ä»¶çš„watcheréƒ½ä¼šå¾—åˆ°é€šçŸ¥ã€‚</p>
<p>è®¡ç®—å±æ€§çš„watcherä¼šå°†dirtyç½®ä¸ºtrue,ç»„ä»¶çš„Watcherå¾—åˆ°é€šçŸ¥ï¼ŒåŒæ ·å°†dirtyå±æ€§ç½®ä¸ºfalse,é‡æ–°è®¡ç®—å€¼ï¼Œç”¨äºæœ¬æ¬¡æ¸²æŸ“ã€‚</p>
<p>ç®€å•æ¥è¯´,computedå°±æ˜¯å®šä¹‰åœ¨vmä¸Šçš„ä¸€ä¸ªgetterå±æ€§ï¼Œè¿™ä¸ªgetterå±æ€§è¢«è§¦å‘æ—¶ä¼šåšä¸¤ä»¶äº‹</p>
<ol>
<li><p>è®¡ç®—å½“å‰å±æ€§çš„å€¼ï¼Œæ­¤æ—¶ä¼šä½¿ç”¨Watcherå»è§‚å¯Ÿè®¡ç®—å±æ€§ä¸­ç”¨åˆ°çš„æ‰€æœ‰å…¶ä»–æ•°æ®çš„å˜åŒ–ã€‚åŒæ—¶å°†è®¡ç®—å±æ€§çš„Watcherçš„dirtyå±æ€§è®¾ç½®ä¸ºfalse.</p>
</li>
<li><p>å½“è®¡ç®—å±æ€§ä¸­ç”¨åˆ°çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶,å°†å¾—åˆ°é€šçŸ¥ä»è€Œè¿›è¡Œé‡æ–°æ¸²æŸ“</p>
</li>
</ol>
<p>Watcherä¸­çš„dependå’Œevaluateæ–¹æ³•æ˜¯ä¸“é—¨ç”¨äºå®ç°è®¡ç®—å±æ€§çš„ä¸¤ä¸ªAPI</p>
<pre><code class="javascript">export default class Watcher &#123;
     constructor(vm, expOrFn, cb, options) &#123;
         if(options) &#123;
             this.lazy = !!options.lazy;
         &#125;  else &#123;
             this.lazy = false;
         &#125;
         this.dirty = this.lazy;
         this.value = this.lazy ? undefined : this.get()
     &#125;
     evaluate() &#123;
        this.value = this.get()
        this.dirty = false; 
    &#125;
    depend() &#123;
        let i = this.deps.length
        while(i--) &#123;
            this.deps[i].depend()
        &#125;
    &#125;
&#125;
</code></pre>
<p>æ‰§è¡Œdependæ–¹æ³•å¯ä»¥å°†ç»„ä»¶ä¸­çš„watcherå®ä¾‹æ·»åŠ åˆ°depå®ä¾‹çš„ä¾èµ–åˆ—è¡¨ä¸­ã€‚æ¢å¥è¯è¯´,this.depsæ˜¯è®¡ç®—å±æ€§ä¸­ç”¨åˆ°çš„æ‰€æœ‰çŠ¶æ€çš„depå®ä¾‹,è€Œä¾æ¬¡æ‰§è¡Œäº†depå®ä¾‹çš„dependæ–¹æ³•å°±æ˜¯å°†ç»„ä»¶çš„watcherä¾æ¬¡åŠ å…¥åˆ°è¿™äº›depå®ä¾‹çš„ä¾èµ–åˆ—è¡¨ã€‚è¿™å°±å®ç°äº†è®©ç»„ä»¶çš„watcherè§‚å¯Ÿè®¡ç®—å±æ€§ä¸­ç”¨åˆ°çš„æ‰€æœ‰çš„çŠ¶æ€çš„å˜åŒ–ã€‚</p>
<p>Computedé€»è¾‘å˜åŒ–</p>
<p>computedåœ¨vue2.5.2ä¸­çš„å®ç°å‘ç”Ÿäº†ä¸€äº›å˜åŒ–,å› ä¸ºä¹‹å‰çš„computedçš„è®¡ç®—å­˜åœ¨ä¸€äº›é€»è¾‘ä¸Šçš„æ¼æ´,å› ä¸ºåªè¦ä¾èµ–çš„å€¼å‘ç”Ÿäº†å˜åŒ–,vueå°±è®¤ä¸ºå€¼å‘ç”Ÿäº†å˜åŒ–ï¼Œç»„ä»¶ä¼šé‡æ–°èµ°ä¸€éæ¸²æŸ“çš„æµç¨‹ï¼Œä½†å®é™…ä¸ŠUIä¸ä¼šç”±å˜åŒ–ï¼Œæµªè´¹äº†ä¸€äº›æ€§èƒ½ã€‚</p>
<p>æ”¹åŠ¨ä¹‹åçš„é€»è¾‘ï¼š</p>
<p>ç»„ä»¶çš„watcherä¸å†ç›‘å¬è®¡ç®—å±æ€§çš„å˜åŒ–,è€Œæ˜¯è®©è®¡ç®—å±æ€§çš„watcherå¾—åˆ°é€šçŸ¥å,è®¡ç®—ä¸€æ¬¡è®¡ç®—å±æ€§çš„å€¼ï¼Œå¦‚æœå‘ç°è¿™ä¸€æ¬¡è®¡ç®—å‡ºæ¥çš„å€¼ä¸ä¸Šä¸€æ¬¡è®¡ç®—å‡ºæ¥çš„å€¼ä¸ä¸€æ ·ï¼Œå†å»ä¸»åŠ¨é€šçŸ¥ç»„ä»¶çš„watcherè¿›è¡Œé‡æ–°æ¸²æŸ“ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vuexçš„ç¼ºç‚¹"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vuexçš„ç¼ºç‚¹" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vuexçš„ç¼ºç‚¹"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vuexçš„ç¼ºç‚¹</h3><p>å¦‚æœæ‚¨ä¸æ‰“ç®—å¼€å‘å¤§å‹å•é¡µåº”ç”¨ï¼Œä½¿ç”¨ Vuex å¯èƒ½æ˜¯ç¹çå†—ä½™çš„ï¼Œå¹¶ä¸”stateä¸­çš„å€¼ä¼šä¼´éšç€æµè§ˆå™¨çš„åˆ·æ–°è€Œåˆå§‹åŒ–ï¼Œæ— ç¼“å­˜ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vueè·¯ç”±ä¼ å‚ï¼Œåˆ·æ–°åè¿˜æœ‰å—"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vueè·¯ç”±ä¼ å‚ï¼Œåˆ·æ–°åè¿˜æœ‰å—" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vueè·¯ç”±ä¼ å‚ï¼Œåˆ·æ–°åè¿˜æœ‰å—"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vueè·¯ç”±ä¼ å‚ï¼Œåˆ·æ–°åè¿˜æœ‰å—</h3><p>é€šè¿‡paramsä¼ å‚ä¼šå‡ºç°å‚æ•°ä¸¢å¤±çš„æƒ…å†µï¼Œå¯ä»¥é€šè¿‡queryçš„ä¼ å‚æ–¹å¼æˆ–è€…åœ¨è·¯ç”±åŒ¹é…è§„åˆ™åŠ å…¥å ä½ç¬¦å³å¯ä»¥è§£å†³å‚æ•°ä¸¢å¤±çš„æƒ…å†µã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vueç»„ä»¶å¦‚ä½•å¼•å…¥ä½¿ç”¨"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vueç»„ä»¶å¦‚ä½•å¼•å…¥ä½¿ç”¨" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vueç»„ä»¶å¦‚ä½•å¼•å…¥ä½¿ç”¨"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vueç»„ä»¶å¦‚ä½•å¼•å…¥ä½¿ç”¨</h3><ol>
<li><p>å®šä¹‰ç»„ä»¶å¹¶æŠ›å‡º</p>
</li>
<li><p>importå¼•å…¥ï¼Œå¹¶åœ¨componenté‡Œé¢å®šä¹‰</p>
</li>
<li><p>ä½¿ç”¨ç»„ä»¶ï¼ˆæ³¨æ„é¦–å­—æ¯å¤§å†™ï¼‰</p>
</li>
</ol>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-Vue-forceUpdateçš„åŸç†"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-Vue-forceUpdateçš„åŸç†" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ Vue $forceUpdateçš„åŸç†"></a>â™¥ï¸â™¥ï¸â™¥ï¸ Vue $forceUpdateçš„åŸç†</h3><p>1ã€ä½œç”¨ï¼š</p>
<p>è¿«ä½¿ Vue å®ä¾‹é‡æ–°æ¸²æŸ“ã€‚æ³¨æ„å®ƒä»…ä»…å½±å“å®ä¾‹æœ¬èº«å’Œæ’å…¥æ’æ§½å†…å®¹çš„å­ç»„ä»¶ï¼Œè€Œä¸æ˜¯æ‰€æœ‰å­ç»„ä»¶ã€‚</p>
<p>2ã€å†…éƒ¨åŸç†ï¼š</p>
<pre><code class="javascript">Vue.prototype.$forceUpdate = function () &#123;
 const vm: Component = this
 if (vm.watcher) &#123;
 vm.watcher.update()
 &#125;
&#125;
</code></pre>
<p>å®ä¾‹éœ€è¦é‡æ–°æ¸²æŸ“æ˜¯åœ¨ä¾èµ–å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ä¼šé€šçŸ¥watcherï¼Œç„¶åé€šçŸ¥watcheræ¥è°ƒç”¨updateæ–¹æ³•ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸v-for-key"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸v-for-key" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸v-for key"></a>â™¥ï¸â™¥ï¸â™¥ï¸v-for key</h3><p>keyæ˜¯ä¸ºVueä¸­çš„vnodeæ ‡è®°çš„å”¯ä¸€id,é€šè¿‡è¿™ä¸ªkey,æˆ‘ä»¬çš„diffæ“ä½œå¯ä»¥æ›´å‡†ç¡®ã€æ›´å¿«é€Ÿdiffç®—æ³•çš„è¿‡ç¨‹ä¸­,å…ˆä¼šè¿›è¡Œæ–°æ—§èŠ‚ç‚¹çš„é¦–å°¾äº¤å‰å¯¹æ¯”,å½“æ— æ³•åŒ¹é…çš„æ—¶å€™ä¼šç”¨æ–°èŠ‚ç‚¹çš„keyä¸æ—§èŠ‚ç‚¹è¿›è¡Œæ¯”å¯¹,ç„¶åè¶…å‡ºå·®å¼‚.</p>
<p>diffç¨‹å¯ä»¥æ¦‚æ‹¬ä¸ºï¼šoldChå’ŒnewChå„æœ‰ä¸¤ä¸ªå¤´å°¾çš„å˜é‡StartIdxå’ŒEndIdxï¼Œå®ƒä»¬çš„2ä¸ªå˜é‡ç›¸äº’æ¯”è¾ƒï¼Œä¸€å…±æœ‰4ç§æ¯”è¾ƒæ–¹å¼ã€‚å¦‚æœ4ç§æ¯”è¾ƒéƒ½æ²¡åŒ¹é…ï¼Œå¦‚æœè®¾ç½®äº†keyï¼Œå°±ä¼šç”¨keyè¿›è¡Œæ¯”è¾ƒï¼Œåœ¨æ¯”è¾ƒçš„è¿‡ç¨‹ä¸­ï¼Œå˜é‡ä¼šå¾€ä¸­é—´é ï¼Œä¸€æ—¦StartIdx&gt;EndIdxè¡¨æ˜oldChå’ŒnewChè‡³å°‘æœ‰ä¸€ä¸ªå·²ç»éå†å®Œäº†ï¼Œå°±ä¼šç»“æŸæ¯”è¾ƒ,è¿™å››ç§æ¯”è¾ƒæ–¹å¼å°±æ˜¯é¦–ã€å°¾ã€æ—§å°¾æ–°å¤´ã€æ—§å¤´æ–°å°¾.</p>
<p>å‡†ç¡®: å¦‚æœä¸åŠ key,é‚£ä¹ˆvueä¼šé€‰æ‹©å¤ç”¨èŠ‚ç‚¹(Vueçš„å°±åœ°æ›´æ–°ç­–ç•¥),å¯¼è‡´ä¹‹å‰èŠ‚ç‚¹çš„çŠ¶æ€è¢«ä¿ç•™ä¸‹æ¥,ä¼šäº§ç”Ÿä¸€ç³»åˆ—çš„bug. </p>
<p>å¿«é€Ÿ: keyçš„å”¯ä¸€æ€§å¯ä»¥è¢«Mapæ•°æ®ç»“æ„å……åˆ†åˆ©ç”¨,ç›¸æ¯”äºéå†æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦O(n),Mapçš„æ—¶é—´å¤æ‚åº¦ä»…ä»…ä¸ºO(1)</p>
<p>å»ºè®®ä½¿ç”¨idï¼Œä¸å»ºè®®ä½¿ç”¨ç´¢å¼•</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸ä¸ºä»€ä¹ˆè¦è®¾ç½®keyå€¼ï¼Œå¯ä»¥ç”¨indexå—ï¼Ÿä¸ºä»€ä¹ˆä¸èƒ½ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸ä¸ºä»€ä¹ˆè¦è®¾ç½®keyå€¼ï¼Œå¯ä»¥ç”¨indexå—ï¼Ÿä¸ºä»€ä¹ˆä¸èƒ½ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ä¸ºä»€ä¹ˆè¦è®¾ç½®keyå€¼ï¼Œå¯ä»¥ç”¨indexå—ï¼Ÿä¸ºä»€ä¹ˆä¸èƒ½ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ä¸ºä»€ä¹ˆè¦è®¾ç½®keyå€¼ï¼Œå¯ä»¥ç”¨indexå—ï¼Ÿä¸ºä»€ä¹ˆä¸èƒ½ï¼Ÿ</h3><p>è™šæ‹ŸDOMä¸­keyçš„ä½œç”¨ï¼š<br>keyæ˜¯è™šæ‹ŸDOMå¯¹è±¡çš„æ ‡è¯†ï¼Œå½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒVueä¼šæ ¹æ®ã€æ–°æ•°æ®ã€‘ç”Ÿæˆã€æ–°çš„è™šæ‹ŸDOMã€‘,<br>éšåVueè¿›è¡Œã€æ–°è™šæ‹ŸDOMã€‘ä¸ã€æ—§è™šæ‹ŸDOMã€‘çš„å·®å¼‚æ¯”è¾ƒï¼Œæ¯”è¾ƒè§„åˆ™å¦‚ä¸‹ï¼š</p>
<p>å¯¹æ¯”è§„åˆ™ï¼š<br>(1).æ—§è™šæ‹ŸDOMä¸­æ‰¾åˆ°äº†ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„keyï¼š<br>â‘ .è‹¥è™šæ‹ŸDOMä¸­å†…å®¹æ²¡å˜, ç›´æ¥ä½¿ç”¨ä¹‹å‰çš„çœŸå®DOMï¼<br>â‘¡.è‹¥è™šæ‹ŸDOMä¸­å†…å®¹å˜äº†, åˆ™ç”Ÿæˆæ–°çš„çœŸå®DOMï¼Œéšåæ›¿æ¢æ‰é¡µé¢ä¸­ä¹‹å‰çš„çœŸå®DOMã€‚<br>(2).æ—§è™šæ‹ŸDOMä¸­æœªæ‰¾åˆ°ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„key<br>åˆ›å»ºæ–°çš„çœŸå®DOMï¼Œéšåæ¸²æŸ“åˆ°åˆ°é¡µé¢ã€‚</p>
<p>ç”¨indexä½œä¸ºkeyå¯èƒ½ä¼šå¼•å‘çš„é—®é¢˜ï¼š<br>1.è‹¥å¯¹æ•°æ®è¿›è¡Œï¼šé€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œ:<br>ä¼šäº§ç”Ÿæ²¡æœ‰å¿…è¦çš„çœŸå®DOMæ›´æ–° &#x3D;&#x3D;&gt; ç•Œé¢æ•ˆæœæ²¡é—®é¢˜, ä½†æ•ˆç‡ä½ã€‚</p>
<p>å¦‚æœç»“æ„ä¸­è¿˜åŒ…å«è¾“å…¥ç±»çš„DOMï¼š<br>ä¼šäº§ç”Ÿé”™è¯¯DOMæ›´æ–° &#x3D;&#x3D;&gt; ç•Œé¢æœ‰é—®é¢˜ã€‚</p>
<p>å¼€å‘ä¸­å¦‚ä½•é€‰æ‹©key?:<br>1.æœ€å¥½ä½¿ç”¨æ¯æ¡æ•°æ®çš„å”¯ä¸€æ ‡è¯†ä½œä¸ºkey, æ¯”å¦‚idã€æ‰‹æœºå·ã€èº«ä»½è¯å·ã€å­¦å·ç­‰å”¯ä¸€å€¼ã€‚<br>2.å¦‚æœä¸å­˜åœ¨å¯¹æ•°æ®çš„é€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œï¼Œä»…ç”¨äºæ¸²æŸ“åˆ—è¡¨ç”¨äºå±•ç¤ºï¼Œ<br>ä½¿ç”¨indexä½œä¸ºkeyæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-Vueçš„è™šæ‹Ÿdom"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-Vueçš„è™šæ‹Ÿdom" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ Vueçš„è™šæ‹Ÿdom"></a>â™¥ï¸â™¥ï¸â™¥ï¸ Vueçš„è™šæ‹Ÿdom</h3><p>ä»æœ¬è´¨æ¥è¯´ï¼ŒVirtual Dom æ˜¯ä¸€ä¸ª JavaScript å¯¹è±¡ï¼Œé€šè¿‡å¯¹è±¡çš„æ–¹å¼æ¥è¡¨ç¤º DOM ç»“æ„ã€‚å°†é¡µé¢çš„çŠ¶æ€æŠ½è±¡ä¸º JS å¯¹è±¡çš„å½¢å¼ï¼Œé…åˆä¸åŒçš„æ¸²æŸ“å·¥å…·ï¼Œä½¿è·¨å¹³å°æ¸²æŸ“æˆä¸ºå¯èƒ½ã€‚é€šè¿‡äº‹åŠ¡å¤„ç†æœºåˆ¶ï¼Œå°†å¤šæ¬¡ DOM ä¿®æ”¹çš„ç»“æœä¸€æ¬¡æ€§æ›´æ–°åˆ°é¡µé¢ä¸Šï¼Œä»è€Œæœ‰æ•ˆçš„å‡å°‘é¡µé¢æ¸²æŸ“çš„æ¬¡æ•°ï¼Œå‡å°‘ä¿®æ”¹DOMçš„é‡ç»˜é‡æ’æ¬¡æ•°ï¼Œæé«˜æ¸²æŸ“æ€§èƒ½ã€‚</p>
<p>è™šæ‹Ÿ DOM æ˜¯å¯¹ DOM çš„æŠ½è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ˜¯æ›´åŠ è½»é‡çº§çš„å¯¹ DOM çš„æè¿°ã€‚å®ƒè®¾è®¡çš„æœ€åˆç›®çš„å°±æ˜¯æ›´å¥½çš„è·¨å¹³å°ï¼Œæ¯”å¦‚ Node.js å°±æ²¡æœ‰ DOMï¼Œå¦‚æœæƒ³å®ç° SSRï¼Œé‚£ä¹ˆå°±åªèƒ½å€ŸåŠ©è™šæ‹Ÿ DOMï¼Œå› ä¸ºè™šæ‹Ÿ DOM æœ¬èº«å°±æ˜¯ JS å¯¹è±¡ï¼Œåœ¨ä»£ç æ¸²æŸ“åˆ°é¡µé¢ä¹‹å‰ï¼ŒVue å’Œ React ä¼šæŠŠä»£ç è½¬åŒ–æˆä¸€ä¸ªå¯¹è±¡ï¼ˆè™šæ‹Ÿ DOMï¼‰ï¼Œä»¥å¯¹è±¡çš„å½¢å¼æ¥æè¿°çœŸå® DOM ç»“æ„ï¼Œæœ€ç»ˆæ¸²æŸ“åˆ°é¡µé¢ã€‚åœ¨æ¯æ¬¡æ•°æ®å‘ç”Ÿå˜åŒ–å‰ï¼Œè™šæ‹Ÿ DOM éƒ½ä¼šç¼“å­˜ä¸€ä»½ï¼Œå˜åŒ–ä¹‹æ—¶ï¼Œç°åœ¨çš„è™šæ‹Ÿ DOM ä¼šä¸ç¼“å­˜çš„è™šæ‹Ÿ DOM è¿›è¡Œæ¯”è¾ƒã€‚</p>
<p>Vue å’Œ React å†…éƒ¨éƒ½å°è£…äº† diff ç®—æ³•ç”¨æ¥è¿›è¡Œæ¯”è¾ƒæ¸²æŸ“æ—¶çš„å˜åŒ–ï¼ˆå…·ä½“ diff ç®—æ³•å†…å®¹åç»­é‡ç‚¹åˆ†æï¼‰ï¼Œç²¾å‡†æ›´æ–°å‘ç”Ÿå˜åŒ–çš„èŠ‚ç‚¹ï¼Œè€Œæ²¡æœ‰å‘ç”Ÿå˜åŒ–çš„ç›´æ¥é€šè¿‡åŸå…ˆçš„æ•°æ®è¿›è¡Œæ¸²æŸ“ã€‚</p>
<p>å¦å¤–ç°ä»£å‰ç«¯æ¡†æ¶åŸºæœ¬éƒ½è¦æ±‚æ— é¡»æ‰‹åŠ¨æ“ä½œ DOMï¼Œä¸€æ–¹é¢æ˜¯å› ä¸ºæ‰‹åŠ¨æ“ä½œ DOM æ— æ³•ä¿è¯ç¨‹åºçš„æ€§èƒ½ï¼Œå¤šäººåä½œçš„é¡¹ç›®ä¸­å¦‚æœ code review ä¸ä¸¥æ ¼ï¼Œå¾ˆå®¹æ˜“å‡ºç°æ€§èƒ½è¾ƒä½çš„ä»£ç ï¼Œå¦ä¸€æ–¹é¢æ›´é‡è¦çš„æ˜¯çœç•¥æ‰‹åŠ¨æ“ä½œ DOM å¯ä»¥å¤§å¤§æé«˜å¼€å‘æ•ˆç‡ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸diffå¤æ‚åº¦åŸç†åŠå…·ä½“è¿‡ç¨‹ç”»å›¾"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸diffå¤æ‚åº¦åŸç†åŠå…·ä½“è¿‡ç¨‹ç”»å›¾" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸diffå¤æ‚åº¦åŸç†åŠå…·ä½“è¿‡ç¨‹ç”»å›¾"></a>â™¥ï¸â™¥ï¸â™¥ï¸diffå¤æ‚åº¦åŸç†åŠå…·ä½“è¿‡ç¨‹ç”»å›¾</h3><p>diffç®—æ³•æ˜¯ä¸€ç§é€šè¿‡åŒå±‚çš„æ ‘èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒçš„é«˜æ•ˆç®—æ³•ï¼Œé¿å…äº†å¯¹æ ‘è¿›è¡Œé€å±‚æœç´¢éå†ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦åªæœ‰ O(n)ã€‚</p>
<p>diffç®—æ³•æœ‰ä¸¤ä¸ªæ¯”è¾ƒæ˜¾è‘—çš„ç‰¹ç‚¹ï¼š</p>
<p>1ã€æ¯”è¾ƒåªä¼šåœ¨åŒå±‚çº§è¿›è¡Œ, ä¸ä¼šè·¨å±‚çº§æ¯”è¾ƒã€‚</p>
<p>2ã€åœ¨diffæ¯”è¾ƒçš„è¿‡ç¨‹ä¸­ï¼Œå¾ªç¯ä»ä¸¤è¾¹å‘ä¸­é—´æ”¶æ‹¢ã€‚</p>
<p>diffæµç¨‹ï¼š é¦–å…ˆå®šä¹‰ oldStartIdxã€newStartIdxã€oldEndIdx ä»¥åŠ newEndIdx åˆ†åˆ«æ˜¯æ–°è€ä¸¤ä¸ª VNodeçš„ä¸¤è¾¹çš„ç´¢å¼•ã€‚</p>
<p>æ¥ä¸‹æ¥æ˜¯ä¸€ä¸ª while å¾ªç¯ï¼Œåœ¨è¿™è¿‡ç¨‹ä¸­ï¼ŒoldStartIdxã€newStartIdxã€oldEndIdx ä»¥åŠ newEndIdx ä¼šé€æ¸å‘ä¸­é—´é æ‹¢ã€‚while å¾ªç¯çš„é€€å‡ºæ¡ä»¶æ˜¯ç›´åˆ°è€èŠ‚ç‚¹æˆ–è€…æ–°èŠ‚ç‚¹çš„å¼€å§‹ä½ç½®å¤§äºç»“æŸä½ç½®ã€‚</p>
<p>while å¾ªç¯ä¸­ä¼šé‡åˆ°å››ç§æƒ…å†µï¼š</p>
<p>æƒ…å½¢ä¸€ï¼šå½“æ–°è€ VNode èŠ‚ç‚¹çš„ start æ˜¯åŒä¸€èŠ‚ç‚¹æ—¶ï¼Œç›´æ¥ patchVnode å³å¯ï¼ŒåŒæ—¶æ–°è€ VNode èŠ‚ç‚¹çš„å¼€å§‹ç´¢å¼•éƒ½åŠ  1ã€‚</p>
<p>æƒ…å½¢äºŒï¼šå½“æ–°è€ VNode èŠ‚ç‚¹çš„ end æ˜¯åŒä¸€èŠ‚ç‚¹æ—¶ï¼Œç›´æ¥ patchVnode å³å¯ï¼ŒåŒæ—¶æ–°è€ VNode èŠ‚ç‚¹çš„ç»“æŸç´¢å¼•éƒ½å‡ 1ã€‚</p>
<p>æƒ…å½¢ä¸‰ï¼šå½“è€ VNode èŠ‚ç‚¹çš„ start å’Œæ–° VNode èŠ‚ç‚¹çš„ end æ˜¯åŒä¸€èŠ‚ç‚¹æ—¶ï¼Œè¿™è¯´æ˜è¿™æ¬¡æ•°æ®æ›´æ–°åoldStartVnode å·²ç»è·‘åˆ°äº† oldEndVnode åé¢å»äº†ã€‚è¿™æ—¶å€™åœ¨ patchVnode åï¼Œè¿˜éœ€è¦å°†å½“å‰çœŸå®dom èŠ‚ç‚¹ç§»åŠ¨åˆ° oldEndVnode çš„åé¢ï¼ŒåŒæ—¶è€ VNode èŠ‚ç‚¹å¼€å§‹ç´¢å¼•åŠ  1ï¼Œæ–° VNode èŠ‚ç‚¹çš„ç»“æŸç´¢å¼•å‡ 1ã€‚</p>
<p>æƒ…å½¢å››ï¼šå½“è€ VNode èŠ‚ç‚¹çš„ end å’Œæ–° VNode èŠ‚ç‚¹çš„ start æ˜¯åŒä¸€èŠ‚ç‚¹æ—¶ï¼Œè¿™è¯´æ˜è¿™æ¬¡æ•°æ®æ›´æ–°åoldEndVnode è·‘åˆ°äº† oldStartVnode çš„å‰é¢å»äº†ã€‚è¿™æ—¶å€™åœ¨ patchVnode åï¼Œè¿˜éœ€è¦å°†å½“å‰çœŸå® domèŠ‚ç‚¹ç§»åŠ¨åˆ° oldStartVnode çš„å‰é¢ï¼ŒåŒæ—¶è€ VNode èŠ‚ç‚¹ç»“æŸç´¢å¼•å‡ 1ï¼Œæ–° VNode èŠ‚ç‚¹çš„å¼€å§‹ç´¢å¼•åŠ 1ã€‚</p>
<p>while å¾ªç¯çš„é€€å‡ºæ¡ä»¶æ˜¯ç›´åˆ°è€èŠ‚ç‚¹æˆ–è€…æ–°èŠ‚ç‚¹çš„å¼€å§‹ä½ç½®å¤§äºç»“æŸä½ç½®ã€‚</p>
<p>æƒ…å½¢ä¸€ï¼šå¦‚æœåœ¨å¾ªç¯ä¸­ï¼ŒoldStartIdxå¤§äºoldEndIdxäº†ï¼Œé‚£å°±è¡¨ç¤ºoldChildrenæ¯”newChildrenå…ˆå¾ªç¯å®Œæ¯•ï¼Œé‚£ä¹ˆnewChildrené‡Œé¢å‰©ä½™çš„èŠ‚ç‚¹éƒ½æ˜¯éœ€è¦æ–°å¢çš„èŠ‚ç‚¹ï¼ŒæŠŠ[newStartIdx, newEndIdx]ä¹‹é—´çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½æ’å…¥åˆ°DOMä¸­</p>
<p>æƒ…å½¢äºŒï¼šå¦‚æœåœ¨å¾ªç¯ä¸­ï¼ŒnewStartIdxå¤§äºnewEndIdxäº†ï¼Œé‚£å°±è¡¨ç¤ºnewChildrenæ¯”oldChildrenå…ˆå¾ªç¯å®Œæ¯•ï¼Œé‚£ä¹ˆoldChildrené‡Œé¢å‰©ä½™çš„èŠ‚ç‚¹éƒ½æ˜¯éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹ï¼ŒæŠŠ[oldStartIdx, oldEndIdx]ä¹‹é—´çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½åˆ é™¤</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸æ€ä¹ˆä¿®æ”¹Vuexä¸­çš„çŠ¶æ€ï¼ŸVuexä¸­æœ‰å“ªäº›æ–¹æ³•"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸æ€ä¹ˆä¿®æ”¹Vuexä¸­çš„çŠ¶æ€ï¼ŸVuexä¸­æœ‰å“ªäº›æ–¹æ³•" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸æ€ä¹ˆä¿®æ”¹Vuexä¸­çš„çŠ¶æ€ï¼ŸVuexä¸­æœ‰å“ªäº›æ–¹æ³•"></a>â™¥ï¸â™¥ï¸â™¥ï¸æ€ä¹ˆä¿®æ”¹Vuexä¸­çš„çŠ¶æ€ï¼ŸVuexä¸­æœ‰å“ªäº›æ–¹æ³•</h3><ul>
<li>é€šè¿‡this.$store.state.å±æ€§çš„æ–¹æ³•æ¥è®¿é—®çŠ¶æ€</li>
<li>é€šè¿‡this.$store.commit(â€˜mutationä¸­çš„æ–¹æ³•â€™) æ¥ä¿®æ”¹çŠ¶æ€</li>
</ul>
<pre><code class="javascript">// App.vue
&lt;template&gt;
  &lt;div id=&quot;app&quot;&gt;
    &lt;p&gt;&#123;&#123;count&#125;&#125;&lt;/p&gt;
    &lt;button @click=&quot;addition&quot;&gt;+&lt;/button&gt;
    &lt;button @click=&quot;decrement&quot;&gt;-&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default &#123;
  name: &#39;App&#39;,
  computed:&#123;
    count() &#123;
      return this.$store.state.count
    &#125;
  &#125;,
  methods:&#123;
    addition() &#123;
      this.$store.commit(&#39;increment&#39;)
    &#125;,
    decrement() &#123;
      this.$store.commit(&#39;decrement&#39;)
    &#125;
  &#125;
&#125;
&lt;/script&gt;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸vue-routerè·¯ç”±ä¼ å‚çš„æ–¹å¼"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸vue-routerè·¯ç”±ä¼ å‚çš„æ–¹å¼" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸vue-routerè·¯ç”±ä¼ å‚çš„æ–¹å¼"></a>â™¥ï¸â™¥ï¸â™¥ï¸vue-routerè·¯ç”±ä¼ å‚çš„æ–¹å¼</h3><p>query</p>
<pre><code class="javascript">this.$router.push(&#123;
 path: &#39;blogDetail&#39;, 
 query: &#123; 
 id: item.id,
 views: item.views
 &#125;
&#125;)
</code></pre>
<p>params</p>
<pre><code class="javascript">this.$router.push(&#123;
 name: &#39;blogDetail&#39;, 
 params: &#123; 
 id: item.id,
 views: item.views
 &#125;
&#125;)
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-hash-historyåŒºåˆ«"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-hash-historyåŒºåˆ«" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ hash historyåŒºåˆ«"></a>â™¥ï¸â™¥ï¸â™¥ï¸ hash historyåŒºåˆ«</h3><table>
<thead>
<tr>
<th align="center"></th>
<th align="center">hash</th>
<th align="center">history</th>
</tr>
</thead>
<tbody><tr>
<td align="center">urlæ˜¾ç¤º</td>
<td align="center">æœ‰#ï¼Œå¾ˆLow</td>
<td align="center">æ— #ï¼Œå¥½çœ‹</td>
</tr>
<tr>
<td align="center">å›è½¦åˆ·æ–°</td>
<td align="center">å¯ä»¥åŠ è½½åˆ°hashå€¼å¯¹åº”é¡µé¢</td>
<td align="center">ä¸€èˆ¬å°±æ˜¯404æ‰äº†</td>
</tr>
<tr>
<td align="center">æ”¯æŒç‰ˆæœ¬</td>
<td align="center">æ”¯æŒä½ç‰ˆæœ¬æµè§ˆå™¨å’ŒIEæµè§ˆå™¨</td>
<td align="center">HTML5æ–°æ¨å‡ºçš„API</td>
</tr>
</tbody></table>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ç”¨è¿‡beforeEachå—ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ç”¨è¿‡beforeEachå—ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ç”¨è¿‡beforeEachå—ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ç”¨è¿‡beforeEachå—ï¼Ÿ</h3><p>æ¯æ¬¡é€šè¿‡vue-routerè¿›è¡Œé¡µé¢è·³è½¬ï¼Œéƒ½ä¼šè§¦å‘beforeEachè¿™ä¸ªé’©å­å‡½æ•°ï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°å…±æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œtoï¼Œfromï¼Œnextè¿™ä¸‰ä¸ªå‚æ•°ï¼Œtoè¡¨ç¤ºæˆ‘è¦è·³è½¬çš„ç›®æ ‡è·¯ç”±å¯¹åº”çš„å‚æ•°ï¼Œfromè¡¨ç¤ºæ¥è‡ªé‚£ä¸ªè·¯ç”±ï¼Œå°±æ˜¯æ“ä½œè·¯ç”±è·³è½¬ä¹‹å‰çš„ï¼Œå³å°†ç¦»å¼€çš„è·¯ç”±å¯¹åº”çš„å‚æ•°ï¼Œnextæ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œä¸€å®šè¦è°ƒç”¨nextæ–¹æ³•æ¥resolveè¿™ä¸ªé’©å­å‡½æ•°ï¼›</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-Vnodeçš„ä¼˜ç¼ºç‚¹"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-Vnodeçš„ä¼˜ç¼ºç‚¹" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ Vnodeçš„ä¼˜ç¼ºç‚¹"></a>â™¥ï¸â™¥ï¸â™¥ï¸ Vnodeçš„ä¼˜ç¼ºç‚¹</h3><h4 id="ä¼˜ç‚¹-1"><a href="#ä¼˜ç‚¹-1" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><p>1ã€é™ä½æµè§ˆå™¨æ€§èƒ½æ¶ˆè€—</p>
<p>å› ä¸ºJavascriptçš„è¿ç®—é€Ÿåº¦è¿œå¤§äºDOMæ“ä½œçš„æ‰§è¡Œé€Ÿåº¦ï¼Œå› æ­¤ï¼Œè¿ç”¨patchingç®—æ³•æ¥è®¡ç®—å‡ºçœŸæ­£éœ€è¦æ›´æ–°çš„èŠ‚ç‚¹ï¼Œæœ€å¤§é™åº¦åœ°å‡å°‘DOMæ“ä½œï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚</p>
<blockquote>
<p>åœ¨vnodeæŠ€æœ¯å‡ºç°ä¹‹å‰ï¼Œæˆ‘ä»¬è¦æ”¹å˜é¡µé¢å±•ç¤ºçš„å†…å®¹åªèƒ½é€šè¿‡éå†æŸ¥è¯¢ dom æ ‘çš„æ–¹å¼æ‰¾åˆ°éœ€è¦ä¿®æ”¹çš„ domï¼Œç„¶åä¿®æ”¹æ ·å¼è¡Œä¸ºæˆ–è€…ç»“æ„ï¼Œæ¥è¾¾åˆ°æ›´æ–° uiçš„ç›®çš„ã€‚è¿™ç§æ–¹å¼ç›¸å½“æ¶ˆè€—è®¡ç®—èµ„æºï¼Œå› ä¸ºæ¯æ¬¡æŸ¥è¯¢ dom å‡ ä¹éƒ½éœ€è¦éå†æ•´é¢— domæ ‘ã€‚</p>
</blockquote>
<blockquote>
<p>åœ¨vnodeæŠ€æœ¯å‡ºç°ä¹‹åï¼Œæˆ‘ä»¬å»ºç«‹ä¸€ä¸ªè™šæ‹Ÿ dom å¯¹è±¡æ¥å¯¹åº”çœŸå®çš„ dom æ ‘ï¼Œé‚£ä¹ˆæ¯æ¬¡ dom çš„æ›´æ”¹å°±å˜æˆäº† js å¯¹è±¡çš„å±æ€§çš„æ›´æ”¹ ï¼Œè¿™æ ·ä¸€æ¥å°±èƒ½æŸ¥æ‰¾ js å¯¹è±¡çš„å±æ€§å˜åŒ–è¦æ¯”æŸ¥è¯¢ dom æ ‘çš„ æ€§èƒ½å¼€é”€å°ã€‚</p>
</blockquote>
<p>2ã€diffç®—æ³•,å‡å°‘å›æµå’Œé‡ç»˜</p>
<p>é€šè¿‡diffç®—æ³•ï¼Œä¼˜åŒ–éå†ï¼Œå¯¹çœŸå®domè¿›è¡Œæ‰“è¡¥ä¸å¼çš„æ–°å¢ã€ä¿®æ”¹ã€åˆ é™¤ï¼Œå®ç°å±€éƒ¨æ›´æ–°ï¼Œå‡å°‘å›æµå’Œé‡ç»˜ã€‚</p>
<blockquote>
<p>vnodeä¼˜åŒ–æ€§èƒ½æ ¸å¿ƒæ€æƒ³ï¼Œå°±æ˜¯æ¯æ¬¡æ›´æ–° dom éƒ½å°½é‡é¿å…åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼Œè€Œæ˜¯æœ‰é’ˆå¯¹æ€§çš„ å»åˆ·æ–°é‚£è¢«æ›´æ”¹çš„ä¸€éƒ¨åˆ†ï¼Œæ¥é‡Šæ”¾æ‰è¢«æ— æ•ˆæ¸²æŸ“å ç”¨çš„ gpuï¼Œcupæ€§èƒ½ã€‚åŒæ—¶ï¼Œä¹Ÿå‡å°‘äº†å¤§é‡çš„domæ“ä½œï¼Œå‡å°‘äº†æµè§ˆå™¨çš„å›æµå’Œé‡ç»˜ã€‚</p>
</blockquote>
<p>3ã€è·¨å¹³å°</p>
<p>è™šæ‹Ÿ DOM æœ¬è´¨ä¸Šæ˜¯ JavaScript å¯¹è±¡ï¼Œè€Œ DOM ä¸å¹³å°å¼ºç›¸å…³ï¼Œç›¸æ¯”ä¹‹ä¸‹è™šæ‹Ÿ DOM ï¼Œå¯ä»¥è¿›è¡Œæ›´æ–¹ä¾¿åœ°è·¨å¹³å°æ“ä½œï¼Œä¾‹å¦‚ï¼š<code>æœåŠ¡å™¨æ¸²æŸ“ã€weex å¼€å‘</code>ç­‰ç­‰</p>
<h4 id="ç¼ºç‚¹-1"><a href="#ç¼ºç‚¹-1" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><ul>
<li><code>é¦–æ¬¡æ˜¾ç¤ºè¦æ…¢äº›</code>:<br>é¦–æ¬¡æ¸²æŸ“å¤§é‡DOMæ—¶ï¼Œç”±äºå¤šäº†ä¸€å±‚è™šæ‹ŸDOMçš„è®¡ç®—, ä¼šæ¯”innerHTMLæ’å…¥æ…¢</li>
<li><code>æ— æ³•è¿›è¡Œæè‡´ä¼˜åŒ–</code>ï¼š<br>è™½ç„¶è™šæ‹Ÿ DOM + åˆç†çš„ä¼˜åŒ–ï¼Œè¶³ä»¥åº”å¯¹ç»å¤§éƒ¨åˆ†åº”ç”¨çš„æ€§èƒ½éœ€æ±‚ï¼Œä½†åœ¨ä¸€äº›æ€§èƒ½è¦æ±‚æé«˜çš„åº”ç”¨ä¸­ æ— æ³•è¿›è¡Œé’ˆå¯¹æ€§çš„æè‡´ä¼˜åŒ–ã€‚</li>
</ul>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­çš„å•é¡¹æ•°æ®æµ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­çš„å•é¡¹æ•°æ®æµ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­çš„å•é¡¹æ•°æ®æµ"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­çš„å•é¡¹æ•°æ®æµ</h3><p>å•å‘æ•°æ®æµæŒ‡åªèƒ½ä»ä¸€ä¸ªæ–¹å‘æ¥ä¿®æ”¹çŠ¶æ€ã€‚</p>
<p>æ•°æ®ä»çˆ¶çº§ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶ï¼Œåªèƒ½å•å‘ç»‘å®šã€‚</p>
<p>å­ç»„ä»¶å†…éƒ¨ä¸èƒ½ç›´æ¥ä¿®æ”¹ä»çˆ¶çº§ä¼ é€’è¿‡æ¥çš„æ•°æ®ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vueç»„ä»¶ä¸­çš„Dataä¸ºä»€ä¹ˆæ˜¯å‡½æ•°ï¼Œæ ¹ç»„ä»¶å´æ˜¯å¯¹è±¡å‘¢ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vueç»„ä»¶ä¸­çš„Dataä¸ºä»€ä¹ˆæ˜¯å‡½æ•°ï¼Œæ ¹ç»„ä»¶å´æ˜¯å¯¹è±¡å‘¢ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vueç»„ä»¶ä¸­çš„Dataä¸ºä»€ä¹ˆæ˜¯å‡½æ•°ï¼Œæ ¹ç»„ä»¶å´æ˜¯å¯¹è±¡å‘¢ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vueç»„ä»¶ä¸­çš„Dataä¸ºä»€ä¹ˆæ˜¯å‡½æ•°ï¼Œæ ¹ç»„ä»¶å´æ˜¯å¯¹è±¡å‘¢ï¼Ÿ</h3><p>å¦‚æœdataæ˜¯ä¸€ä¸ªå‡½æ•°çš„è¯ï¼Œè¿™æ ·æ¯å¤ç”¨ä¸€æ¬¡ç»„ä»¶ï¼Œå°±ä¼šè¿”å›ä¸€ä»½æ–°çš„dataï¼Œç±»ä¼¼äºç»™æ¯ä¸ªç»„ä»¶å®ä¾‹åˆ›å»ºä¸€ä¸ªç§æœ‰çš„æ•°æ®ç©ºé—´ï¼Œè®©å„ä¸ªç»„ä»¶å®ä¾‹ç»´æŠ¤å„è‡ªçš„æ•°æ®ã€‚è€Œå•çº¯çš„å†™æˆå¯¹è±¡å½¢å¼ï¼Œå°±ä½¿å¾—æ‰€æœ‰ç»„ä»¶å®ä¾‹å…±ç”¨äº†ä¸€ä»½dataï¼Œå°±ä¼šé€ æˆä¸€ä¸ªå˜äº†å…¨éƒ½ä¼šå˜çš„ç»“æœã€‚</p>
<p>æ‰€ä»¥è¯´vueç»„ä»¶çš„dataå¿…é¡»æ˜¯å‡½æ•°ã€‚è¿™éƒ½æ˜¯å› ä¸ºjsçš„ç‰¹æ€§å¸¦æ¥çš„ï¼Œè·Ÿvueæœ¬èº«è®¾è®¡æ— å…³ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸ä»‹ç»ä¸‹vueå•é¡µé¢å’Œå¤šé¡µé¢åŒºåˆ«"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸ä»‹ç»ä¸‹vueå•é¡µé¢å’Œå¤šé¡µé¢åŒºåˆ«" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ä»‹ç»ä¸‹vueå•é¡µé¢å’Œå¤šé¡µé¢åŒºåˆ«"></a>â™¥ï¸â™¥ï¸â™¥ï¸ä»‹ç»ä¸‹vueå•é¡µé¢å’Œå¤šé¡µé¢åŒºåˆ«</h3><p>å•é¡µåº”ç”¨ é¡µé¢è·³è½¬â€”-&gt;jsæ¸²æŸ“ ä¼˜ç‚¹ï¼šé¡µé¢åˆ‡æ¢å¿« ç¼ºç‚¹ï¼šé¦–å±åŠ è½½ç¨æ…¢ï¼Œseoå·®</p>
<p>å¤šé¡µåº”ç”¨ é¡µé¢è·³è½¬â€”-&gt;è¿”å›html ä¼˜ç‚¹ï¼šé¦–å±æ—¶é—´å¿«ï¼Œseoæ•ˆæœå¥½ ç¼ºç‚¹ï¼šé¡µé¢åˆ‡æ¢æ…¢</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸ä»‹ç»ä¸‹vueçˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„æ‰§è¡Œé¡ºåº"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸ä»‹ç»ä¸‹vueçˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„æ‰§è¡Œé¡ºåº" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ä»‹ç»ä¸‹vueçˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„æ‰§è¡Œé¡ºåº"></a>â™¥ï¸â™¥ï¸â™¥ï¸ä»‹ç»ä¸‹vueçˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„æ‰§è¡Œé¡ºåº</h3><p>æŒ‚è½½é˜¶æ®µ</p>
<blockquote>
<p>æ‰§è¡Œé¡ºåºä¸ºï¼š<br>çˆ¶beforeCreate -&gt; çˆ¶created -&gt; çˆ¶beforeMount -&gt; å­beforeCreate -&gt; å­created -&gt; å­beforeMount -&gt; å­mounted -&gt; çˆ¶mounted</p>
</blockquote>
<p>æ›´æ–°é˜¶æ®µ</p>
<blockquote>
<p>æ‰§è¡Œé¡ºåºä¸ºï¼š<br>çˆ¶beforeUpdate -&gt; å­beforeUpdate -&gt; å­updated -&gt; çˆ¶updated</p>
</blockquote>
<p>é”€æ¯é˜¶æ®µ</p>
<blockquote>
<p>æ‰§è¡Œé¡ºåºä¸ºï¼š<br>çˆ¶beforeDestroy -&gt; å­beforeDestroy -&gt; å­destroyed -&gt; çˆ¶destroyed</p>
</blockquote>
<p>è§„å¾‹å°±æ˜¯ï¼šçˆ¶ç»„ä»¶å…ˆå¼€å§‹æ‰§è¡Œï¼Œç„¶åç­‰åˆ°å­ç»„ä»¶æ‰§è¡Œå®Œï¼Œçˆ¶ç»„ä»¶æ”¶å°¾ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­keyçš„ä½œç”¨ï¼Ÿä¸åŠ ä¼šæ€ä¹ˆæ ·ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­keyçš„ä½œç”¨ï¼Ÿä¸åŠ ä¼šæ€ä¹ˆæ ·ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­keyçš„ä½œç”¨ï¼Ÿä¸åŠ ä¼šæ€ä¹ˆæ ·ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­keyçš„ä½œç”¨ï¼Ÿä¸åŠ ä¼šæ€ä¹ˆæ ·ï¼Ÿ</h3><p>vueä¸­åˆ—è¡¨å¾ªç¯éœ€åŠ :key&#x3D;â€å”¯ä¸€æ ‡è¯†â€ å”¯ä¸€æ ‡è¯†å¯ä»¥æ˜¯itemé‡Œé¢id indexç­‰ï¼Œå› ä¸ºvueç»„ä»¶é«˜åº¦å¤ç”¨å¢åŠ Keyå¯ä»¥æ ‡è¯†ç»„ä»¶çš„å”¯ä¸€æ€§ï¼Œä¸ºäº†æ›´å¥½åœ°åŒºåˆ«å„ä¸ªç»„ä»¶ keyçš„ä½œç”¨ä¸»è¦æ˜¯ä¸ºäº†é«˜æ•ˆçš„æ›´æ–°è™šæ‹ŸDOM.</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vueçš„å¸¸ç”¨ä¿®é¥°ç¬¦"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vueçš„å¸¸ç”¨ä¿®é¥°ç¬¦" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vueçš„å¸¸ç”¨ä¿®é¥°ç¬¦"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vueçš„å¸¸ç”¨ä¿®é¥°ç¬¦</h3><blockquote>
<ol>
<li>äº‹ä»¶ä¿®é¥°ç¬¦ - å¤„ç† DOM äº‹ä»¶ç»†èŠ‚</li>
<li>æŒ‰é”®ä¿®é¥°ç¬¦ - ä¸º v-on åœ¨ç›‘å¬é”®ç›˜äº‹ä»¶æ—¶æ·»åŠ æŒ‰é”®ä¿®é¥°ç¬¦</li>
<li>ç³»ç»Ÿä¿®é¥°é”® - å®ç°ä»…åœ¨æŒ‰ä¸‹ç›¸åº”æŒ‰é”®æ—¶æ‰è§¦å‘é¼ æ ‡æˆ–é”®ç›˜äº‹ä»¶çš„ç›‘å¬å™¨ã€‚</li>
<li>é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦ - é™åˆ¶å¤„ç†å‡½æ•°ä»…å“åº”ç‰¹å®šçš„é¼ æ ‡æŒ‰é”®</li>
<li>è¡¨å•ä¿®é¥°ç¬¦ - v-modelå¢å¼ºçš„ä¿®é¥°ç¬¦</li>
</ol>
</blockquote>
<h4 id="ä¸€ã€äº‹ä»¶ä¿®é¥°ç¬¦"><a href="#ä¸€ã€äº‹ä»¶ä¿®é¥°ç¬¦" class="headerlink" title="ä¸€ã€äº‹ä»¶ä¿®é¥°ç¬¦"></a>ä¸€ã€äº‹ä»¶ä¿®é¥°ç¬¦</h4><ol>
<li><p>.stop - é˜»æ­¢å•å‡»äº‹ä»¶ç»§ç»­ä¼ æ’­, ä¹Ÿå°±æ˜¯é˜»æ­¢å†’æ³¡</p>
</li>
<li><p>.prevent - æäº¤äº‹ä»¶ä¸å†é‡æ–°åŠ è½½é¡µé¢, å¯ä»¥ç”¨æ¥é˜»æ­¢è¡¨å•æäº¤çš„é»˜è®¤è¡Œä¸º</p>
</li>
</ol>
<blockquote>
<p>æ³¨æ„ç‚¹: .stopå’Œ.preventå¯ä»¥ä¸²è”åœ¨ä¸€èµ·ä½¿ç”¨,éƒ½ä¼šç”Ÿæ•ˆ</p>
</blockquote>
<ol start="3">
<li><p>.capture - å†…éƒ¨å…ƒç´ è§¦å‘çš„äº‹ä»¶å…ˆåœ¨æ­¤å¤„ç†ï¼Œç„¶åæ‰äº¤ç”±å†…éƒ¨å…ƒç´ è¿›è¡Œå¤„ç†</p>
</li>
<li><p>.self - åªå½“åœ¨ event.target æ˜¯å½“å‰å…ƒç´ è‡ªèº«æ—¶è§¦å‘å¤„ç†å‡½æ•°,å³äº‹ä»¶ä¸æ˜¯ä»å†…éƒ¨å…ƒç´ è§¦å‘çš„</p>
</li>
</ol>
<blockquote>
<p>æ³¨æ„ç‚¹: ä½¿ç”¨ä¿®é¥°ç¬¦æ—¶ï¼Œé¡ºåºå¾ˆé‡è¦ï¼›ç›¸åº”çš„ä»£ç ä¼šä»¥åŒæ ·çš„é¡ºåºäº§ç”Ÿã€‚å› æ­¤ï¼Œç”¨ v-on:click.prevent.self ä¼šé˜»æ­¢æ‰€æœ‰çš„ç‚¹å‡»ï¼Œè€Œ v-on:click.self.prevent åªä¼šé˜»æ­¢å¯¹å…ƒç´ è‡ªèº«çš„ç‚¹å‡»ã€‚</p>
</blockquote>
<ol start="5">
<li><p>.once - ç‚¹å‡»äº‹ä»¶å°†åªä¼šè§¦å‘ä¸€æ¬¡, ä¸åªèƒ½å¯¹åŸç”ŸDOMæ—¶é—´ç”Ÿæ•ˆ,è¿˜å¯ä»¥ç”¨åœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸Š</p>
</li>
<li><p>.passive - ç«‹å³è§¦å‘é»˜è®¤è¡Œä¸º,èƒ½å¤Ÿæå‡ç§»åŠ¨ç«¯æ€§èƒ½,å’Œ.preventä¸€èµ·ä½¿ç”¨æ—¶.preventä¼šè¢«å¿½ç•¥å¹¶è­¦å‘Š</p>
</li>
<li><p>.native - ä½¿ç”¨æ—¶å°†è¢«å½“åšåŸç”Ÿçš„HTMLæ ‡ç­¾çœ‹å¾…,ç»‘å®šäº‹ä»¶å¯ä»¥ç”Ÿæ•ˆ</p>
</li>
</ol>
<h4 id="äºŒã€æŒ‰é”®ä¿®é¥°ç¬¦"><a href="#äºŒã€æŒ‰é”®ä¿®é¥°ç¬¦" class="headerlink" title="äºŒã€æŒ‰é”®ä¿®é¥°ç¬¦"></a>äºŒã€æŒ‰é”®ä¿®é¥°ç¬¦</h4><ol>
<li><p>.keyup - é”®ç›˜æŠ¬èµ·</p>
</li>
<li><p>.keydow - é”®ç›˜æŒ‰ä¸‹</p>
</li>
<li><p>æŒ‰é”®ç  - åœ¨æŒ‰é”®ä¿®é¥°ç¬¦åé¢æ·»åŠ ,ç”¨äºç›‘å¬é”®ç›˜æŒ‰ä¸‹å“ªä¸ªé”®</p>
</li>
</ol>
<p>å¸¸ç”¨æŒ‰é”®ç : </p>
<ul>
<li><p>.enter</p>
</li>
<li><p>.tab</p>
</li>
<li><p>.delete (æ•è·â€œåˆ é™¤â€å’Œâ€œé€€æ ¼â€é”®)</p>
</li>
<li><p>.esc</p>
</li>
<li><p>.space</p>
</li>
<li><p>.up</p>
</li>
<li><p>.down</p>
</li>
<li><p>.left</p>
</li>
<li><p>.right</p>
</li>
</ul>
<h4 id="ä¸‰ã€ç³»ç»Ÿä¿®é¥°é”®"><a href="#ä¸‰ã€ç³»ç»Ÿä¿®é¥°é”®" class="headerlink" title="ä¸‰ã€ç³»ç»Ÿä¿®é¥°é”®"></a>ä¸‰ã€ç³»ç»Ÿä¿®é¥°é”®</h4><ul>
<li><p>.ctrl</p>
</li>
<li><p>.alt</p>
</li>
<li><p>.shift</p>
</li>
<li><p>.meta</p>
</li>
</ul>
<p>å¯ä»¥ç”¨å¦‚ä¸‹ä¿®é¥°ç¬¦æ¥å®ç°ä»…åœ¨æŒ‰ä¸‹ç›¸åº”æŒ‰é”®æ—¶æ‰è§¦å‘é¼ æ ‡æˆ–é”®ç›˜äº‹ä»¶çš„ç›‘å¬å™¨ã€‚</p>
<blockquote>
<p>æ³¨æ„ç‚¹: ä¿®é¥°é”®ä¸å¸¸è§„æŒ‰é”®ä¸åŒï¼Œåœ¨å’Œ keyup äº‹ä»¶ä¸€èµ·ç”¨æ—¶ï¼Œäº‹ä»¶è§¦å‘æ—¶ä¿®é¥°é”®å¿…é¡»å¤„äºæŒ‰ä¸‹çŠ¶æ€ã€‚<br>.exact ä¿®é¥°ç¬¦ - ä½¿ç”¨ç³»ç»Ÿä¿®é¥°ç¬¦æ—¶ä½¿ç”¨å¯ä»¥å•å‡»ç³»ç»Ÿä¿®é¥°é”®è§¦å‘,ä¸é€‚ç”¨ç³»ç»Ÿä¿®é¥°ç¬¦æ—¶ä½¿ç”¨</p>
</blockquote>
<h4 id="å››ã€é¼ æ ‡æŒ‰é”®ä¿®é¥°ç¬¦"><a href="#å››ã€é¼ æ ‡æŒ‰é”®ä¿®é¥°ç¬¦" class="headerlink" title="å››ã€é¼ æ ‡æŒ‰é”®ä¿®é¥°ç¬¦"></a>å››ã€é¼ æ ‡æŒ‰é”®ä¿®é¥°ç¬¦</h4><p>.left - åªæœ‰é¼ æ ‡å·¦é”®ç‚¹å‡»è§¦å‘<br>.right - åªæœ‰é¼ æ ‡å³é”®ç‚¹å‡»è§¦å‘<br>.middle - åªæœ‰é¼ æ ‡ä¸­é”®ç‚¹å‡»è§¦å‘</p>
<h4 id="äº”ã€è¡¨å•ä¿®é¥°ç¬¦"><a href="#äº”ã€è¡¨å•ä¿®é¥°ç¬¦" class="headerlink" title="äº”ã€è¡¨å•ä¿®é¥°ç¬¦"></a>äº”ã€è¡¨å•ä¿®é¥°ç¬¦</h4><ol>
<li><p>.lazy - åœ¨è¡¨å•è¾“å…¥æ—¶ä¸ä¼šé©¬ä¸Šæ˜¾ç¤ºåœ¨é¡µé¢,è€Œæ˜¯ç­‰è¾“å…¥å®Œæˆå¤±å»ç„¦ç‚¹æ—¶æ‰ä¼šæ˜¾ç¤ºåœ¨é¡µé¢</p>
</li>
<li><p>.trim - è¿‡æ»¤è¡¨å•è¾“å…¥æ—¶å‰åçš„ç©ºæ ¼</p>
</li>
<li><p>.number - é™åˆ¶è¾“å…¥æ•°å­—æˆ–å°†è¾“å…¥çš„æ•°æ®è½¬ä¸ºæ•°å­—</p>
</li>
</ol>
<blockquote>
<p>æ³¨æ„ç‚¹: å¦‚æœå…ˆè¾“å…¥æ•°å­—,ä¼šé™åˆ¶åªèƒ½è¾“æ•°å­—, å¦‚æœå…ˆè¾“å­—ç¬¦ä¸²åˆ™ç›¸å½“äºæ²¡åŠ .number</p>
</blockquote>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vueè®¡ç®—å±æ€§å’Œ-Watch-çš„åŒºåˆ«"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vueè®¡ç®—å±æ€§å’Œ-Watch-çš„åŒºåˆ«" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vueè®¡ç®—å±æ€§å’Œ Watch çš„åŒºåˆ«"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vueè®¡ç®—å±æ€§å’Œ <strong>Watch</strong> çš„åŒºåˆ«</h3><p>methodsï¼ˆæ–¹æ³•ï¼‰ï¼š</p>
<p>åªè¦è¿›è¡Œè°ƒç”¨å°±ä¼šæ‰§è¡Œï¼Œä¸ç®¡ä¾èµ–çš„å€¼æœ‰æ²¡æœ‰æ”¹å˜ã€‚æ— ç¼“å­˜ã€‚</p>
<p>computedï¼ˆè®¡ç®—å±æ€§)ï¼š</p>
<p>ç›‘å¬å…¶æ‰€æœ‰ä¾èµ–çš„å˜åŒ–ï¼Œå¦‚æœæœ‰å˜åŒ–ä¼šæ‰§è¡Œï¼Œæ²¡æœ‰å˜åŒ–ä¸æ‰§è¡Œã€‚æœ‰ç¼“å­˜ï¼Œä¸ç”¨æ¯æ¬¡é‡æ–°ç®—ã€‚ä¸æ”¯æŒå¼‚æ­¥ã€‚</p>
<p>è¯¦è§£:åœ¨vueçš„ æ¨¡æ¿å†…æ˜¯å¯ä»¥å†™ä¸€äº›ç®€å•çš„jsè¡¨è¾¾å¼çš„ ï¼Œå¾ˆä¾¿åˆ©ã€‚ä½†æ˜¯å¦‚æœåœ¨é¡µé¢ä¸­ä½¿ç”¨å¤§é‡æˆ–æ˜¯å¤æ‚çš„è¡¨è¾¾å¼å»å¤„ç†æ•°æ®ï¼Œå¯¹é¡µé¢çš„ç»´æŠ¤ä¼šæœ‰å¾ˆå¤§çš„å½±å“ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°computed è®¡ç®—å±æ€§æ¥å¤„ç†å¤æ‚çš„é€»è¾‘è¿ç®—ã€‚</p>
<p>1.ä¼˜ç‚¹ï¼š</p>
<p>åœ¨æ•°æ®æœªå‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼˜å…ˆè¯»å–ç¼“å­˜ã€‚computed è®¡ç®—å±æ€§åªæœ‰åœ¨ç›¸å…³çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶æ‰ä¼šæ”¹å˜è¦è®¡ç®—çš„å±æ€§ï¼Œå½“ç›¸å…³æ•°æ®æ²¡æœ‰å˜åŒ–æ˜¯ï¼Œå®ƒä¼šè¯»å–ç¼“å­˜ã€‚è€Œä¸å¿…æƒ³ mothedsæ–¹æ³• å’Œ watch æ–¹æ³•æ˜¯å¦æ¯æ¬¡éƒ½å»æ‰§è¡Œå‡½æ•°ã€‚</p>
<p>2.setter å’Œ getteræ–¹æ³•ï¼šï¼ˆæ³¨æ„åœ¨vueä¸­ä¹¦å†™æ—¶ç”¨set å’Œ getï¼‰</p>
<p>setter æ–¹æ³•åœ¨è®¾ç½®å€¼æ˜¯è§¦å‘ã€‚</p>
<p>getter æ–¹æ³•åœ¨è·å–å€¼æ—¶è§¦å‘ã€‚</p>
<p>watchï¼ˆä¾¦å¬å±æ€§ï¼‰:</p>
<p>è§‚å¯ŸæŸä¸€ä¸ªå˜é‡ï¼Œå‘ç”Ÿå˜åŒ–ä¼šæ‰§è¡Œã€‚æ”¯æŒå¼‚æ­¥ã€‚Vue å®ä¾‹å°†ä¼šåœ¨å®ä¾‹åŒ–æ—¶è°ƒç”¨ $watch()ï¼Œéå† watch å¯¹è±¡çš„æ¯ä¸€ä¸ªå±æ€§ã€‚</p>
<p>ä¸€ä¸ªå¯¹è±¡ï¼Œé”®æ˜¯éœ€è¦è§‚å¯Ÿçš„è¡¨è¾¾å¼ï¼Œå€¼æ˜¯å¯¹åº”å›è°ƒå‡½æ•°ã€‚å€¼ä¹Ÿå¯ä»¥æ˜¯æ–¹æ³•åï¼Œæˆ–è€…åŒ…å«é€‰é¡¹çš„å¯¹è±¡ã€‚</p>
<p>â•å°ç»“ï¼š</p>
<p>1.ä¸»åŠ¨è°ƒç”¨çš„æ–¹æ³•å†™åœ¨methodsé‡Œï¼Œä¾æ®æŸäº›å˜é‡çš„æ›´æ–°è¿›è¡ŒæŸç§æ“ä½œç”¨computedæˆ–è€…watchã€‚</p>
<p>2.computedå’Œwatchï¼šå¦‚æœè¦å¼‚æ­¥ï¼Œåªèƒ½ç”¨watchã€‚å¦‚æœæ˜¯è®¡ç®—æŸä¸ªå€¼æ¨èç”¨computedï¼Œæ¯”å¦‚è´­ç‰©è½¦å…¨é€‰å•é€‰åŠŸèƒ½ï¼Œè´­ç‰©è½¦è®¡ç®—æ€»ä»·å°è®¡åŠŸèƒ½ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­v-onå¯ä»¥ç»‘å®šå¤šä¸ªæ–¹æ³•å—ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­v-onå¯ä»¥ç»‘å®šå¤šä¸ªæ–¹æ³•å—ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­v-onå¯ä»¥ç»‘å®šå¤šä¸ªæ–¹æ³•å—ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­v-onå¯ä»¥ç»‘å®šå¤šä¸ªæ–¹æ³•å—ï¼Ÿ</h3><p>vueä¸­v-onæ˜¯å¯ä»¥ç»‘å®šå¤šä¸ªæ–¹æ³•çš„</p>
<p>1ã€v-onç»‘å®šå¤šä¸ªæ–¹æ³•ï¼ˆé‡‡ç”¨çš„æ˜¯å¯¹è±¡å½¢å¼ï¼‰</p>
<pre><code class="html">&lt;button v-on=&quot;&#123;click: clickMethods, mousemove: mouseMethods&#125;&quot;&gt;æŒ‰é’®&lt;button&gt;
</code></pre>
<p>2.v-on ä¸€ä¸ªäº‹ä»¶ç»‘å®šå¤šä¸ªæ–¹æ³• ï¼ˆè¯­æ³•ç³– @ï¼‰</p>
<pre><code class="html">&lt;button @click=&quot;click1,click2&quot;&gt;æŒ‰é’®&lt;/button&gt;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­templateçš„ç¼–è¯‘è¿‡ç¨‹"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­templateçš„ç¼–è¯‘è¿‡ç¨‹" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­templateçš„ç¼–è¯‘è¿‡ç¨‹"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­templateçš„ç¼–è¯‘è¿‡ç¨‹</h3><p>vue templateæ¨¡æ¿ç¼–è¯‘çš„è¿‡ç¨‹ç»è¿‡parse()ç”Ÿæˆast(æŠ½è±¡è¯­æ³•æ ‘),optimizeå¯¹é™æ€èŠ‚ç‚¹ä¼˜åŒ–ï¼Œgenerate()ç”Ÿ æˆrenderå­—ç¬¦ä¸² ä¹‹åè°ƒç”¨new Watcher()å‡½æ•°ï¼Œç”¨æ¥ç›‘å¬æ•°æ®çš„å˜åŒ–ï¼Œrender å‡½æ•°å°±æ˜¯æ•°æ®ç›‘å¬çš„å›è°ƒ,æ‰€è°ƒç”¨çš„ï¼Œå…¶ç»“æœä¾¿æ˜¯é‡æ–°ç”Ÿæˆ vnodeã€‚ å½“è¿™ä¸ª render å‡½æ•°å­—ç¬¦ä¸²åœ¨ç¬¬ä¸€æ¬¡ mountã€æˆ–è€…ç»‘å®šçš„æ•°æ®æ›´æ–°çš„æ—¶å€™ï¼Œéƒ½ä¼šè¢«è°ƒç”¨ï¼Œç”Ÿæˆ Vnodeã€‚ å¦‚æœæ˜¯æ•°æ®çš„æ›´æ–°ï¼Œé‚£ä¹ˆ Vnode ä¼šä¸æ•°æ®æ”¹å˜ä¹‹å‰çš„ Vnodeåš diffï¼Œå¯¹å†…å®¹åšæ”¹åŠ¨ä¹‹åï¼Œå°±ä¼šæ›´æ–°åˆ° æˆ‘ä»¬çœŸæ­£çš„ DOM</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­router-linkå’Œä¼ ç»Ÿaé“¾æ¥çš„åŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­router-linkå’Œä¼ ç»Ÿaé“¾æ¥çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­router-linkå’Œä¼ ç»Ÿaé“¾æ¥çš„åŒºåˆ«ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­router-linkå’Œä¼ ç»Ÿaé“¾æ¥çš„åŒºåˆ«ï¼Ÿ</h3><p>ç»„ä»¶æ”¯æŒç”¨æˆ·åœ¨å…·æœ‰è·¯ç”±åŠŸèƒ½çš„åº”ç”¨ä¸­ (ç‚¹å‡») å¯¼èˆªã€‚ </p>
<p>é€šè¿‡ to å±æ€§æŒ‡å®šç›®æ ‡åœ°å€ï¼Œé»˜è®¤æ¸²æŸ“æˆå¸¦æœ‰æ­£ç¡®é“¾æ¥çš„ æ ‡ç­¾ï¼Œå¯ä»¥é€šè¿‡é…ç½® tag å±æ€§ç”Ÿæˆåˆ«çš„æ ‡ç­¾.ã€‚ </p>
<p>é€šè¿‡router-linkè¿›è¡Œè·³è½¬ä¸ä¼šè·³è½¬åˆ°æ–°çš„é¡µé¢ï¼Œä¹Ÿä¸ä¼šé‡æ–°æ¸²æŸ“ï¼Œå®ƒä¼šé€‰æ‹©è·¯ç”±æ‰€æŒ‡çš„ç»„ä»¶è¿›è¡Œæ¸²æŸ“ï¼Œé¿å…äº†é‡å¤æ¸²æŸ“çš„â€œæ— ç”¨åŠŸâ€ã€‚ </p>
<p>æ€»ç»“ï¼šå¯¹æ¯”ï¼Œrouter-linkç»„ä»¶é¿å…äº†ä¸å¿…è¦çš„é‡æ¸²æŸ“,å®ƒåªæ›´æ–°å˜åŒ–çš„éƒ¨åˆ†ä»è€Œå‡å°‘DOMæ€§èƒ½æ¶ˆè€—</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-Vueæ’æ§½æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-Vueæ’æ§½æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ Vueæ’æ§½æ˜¯ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ Vueæ’æ§½æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>slotç”¨äºå°è£…ç»„ä»¶ä¸­ï¼Œå†™åœ¨å­ç»„ä»¶ æ¥æ”¶çˆ¶ç»„ä»¶åŠ¨æ€ä¼ é€’å­ç»„ä»¶å†…å®¹ç‰‡æ–­</p>
<p>slotæ’æ§½çš„ä½¿ç”¨æ–¹æ³•å…¶å®å°±æ˜¯ç±»ä¼¼äºä¸€ä¸ªå­ç»„ä»¶æˆ–è€…æ ‡ç­¾çš„å¼•ç”¨çš„è¿‡ç¨‹ï¼Œåœ¨çˆ¶ç»„ä»¶é‡Œé¢å®šä¹‰ä¸€ä¸ªslotï¼Œç»™å¥¹èµ·ä¸ªnameï¼Œç„¶åç»„ä»¶å¼•å…¥åˆ°å­ç»„ä»¶ï¼Œå­ç»„ä»¶é‡Œé¢æœ‰ä¸ªå…ƒç´ çš„å±æ€§slotå€¼ç­‰äºnameï¼Œç„¶åçˆ¶ç»„ä»¶é‡Œé¢æ²¡æœ‰å€¼çš„æ—¶å€™å°±å¯ä»¥æ˜¾ç¤ºå­ç»„ä»¶é‡Œé¢çš„ä¿¡æ¯äº†ï¼ˆåˆ‡è®°ï¼šæ’æ§½slotè¦å†™åœ¨çˆ¶ç»„ä»¶é‡Œé¢ï¼ï¼ï¼ï¼‰</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-è¯´ä¸€ä¸‹Vue-routerå®ˆå«æœ‰å“ªäº›ã€‚å¦‚ä½•å®ç°è·¯ç”±æ‡’åŠ è½½ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-è¯´ä¸€ä¸‹Vue-routerå®ˆå«æœ‰å“ªäº›ã€‚å¦‚ä½•å®ç°è·¯ç”±æ‡’åŠ è½½ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ è¯´ä¸€ä¸‹Vue-routerå®ˆå«æœ‰å“ªäº›ã€‚å¦‚ä½•å®ç°è·¯ç”±æ‡’åŠ è½½ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ è¯´ä¸€ä¸‹Vue-routerå®ˆå«æœ‰å“ªäº›ã€‚å¦‚ä½•å®ç°è·¯ç”±æ‡’åŠ è½½ï¼Ÿ</h3><ul>
<li>router.beforeEach å…¨å±€å‰ç½®å®ˆå« è¿›å…¥è·¯ç”±ä¹‹å‰</li>
<li>router.beforeResolve å…¨å±€è§£æå®ˆå«(2.5.0+) åœ¨beforeRouteEnterè°ƒç”¨ä¹‹åè°ƒç”¨</li>
<li>router.afterEach å…¨å±€åç½®é’©å­ è¿›å…¥è·¯ç”±ä¹‹å</li>
</ul>
<p>1ã€ Vueå¼‚æ­¥åŠ è½½æŠ€æœ¯</p>
<blockquote>
<p>1ï¼švue-routeré…ç½®è·¯ç”±ï¼Œä½¿ç”¨vueçš„å¼‚æ­¥ç»„ä»¶æŠ€æœ¯ï¼Œå¯ä»¥å®ç°æ‡’åŠ è½½ï¼Œæ­¤æ—¶ä¸€ä¸ªç»„ä»¶ä¼šç”Ÿæˆä¸€ä¸ªjsæ–‡ä»¶ã€‚ </p>
<p>2ï¼šcomponent: resolve &#x3D;&gt; require([â€˜æ”¾å…¥éœ€è¦åŠ è½½çš„è·¯ç”±åœ°å€â€™], resolve)</p>
</blockquote>
<p>2ã€ ES6æ¨èæ–¹å¼imprort ()â€”-æ¨èä½¿ç”¨</p>
<pre><code class="javascript">import Vue from &#39;vue&#39;;
import Router from &#39;vue-router&#39;;
// å®˜ç½‘å¯çŸ¥ï¼šä¸‹é¢æ²¡æœ‰æŒ‡å®šwebpackChunkNameï¼Œæ¯ä¸ªç»„ä»¶æ‰“åŒ…æˆä¸€ä¸ªjsæ–‡ä»¶ã€‚
const Foo = () =&gt; import(&#39;../components/Foo&#39;)
const Aoo = () =&gt; import(&#39;../components/Aoo&#39;)
// ä¸‹é¢2è¡Œä»£ç ï¼ŒæŒ‡å®šäº†ç›¸åŒçš„webpackChunkNameï¼Œä¼šåˆå¹¶æ‰“åŒ…æˆä¸€ä¸ªjsæ–‡ä»¶ã€‚
// const Foo = () =&gt; import(/* webpackChunkName: &#39;ImportFuncDemo&#39; / &#39;../components/Foo&#39;)
// const Aoo = () =&gt; import(/ webpackChunkName: &#39;ImportFuncDemo&#39; */ &#39;../components/Aoo&#39;)
export default new Router(&#123;
 routes: [
 &#123;
 path: &#39;/Foo&#39;,
 name: &#39;Foo&#39;,
 component: Foo
 &#125;,
 &#123;
 path: &#39;/Aoo&#39;,
 name: &#39;Aoo&#39;,
 component: Aoo
 &#125;
 ]
&#125;)
</code></pre>
<p>3ã€ webpackæä¾›çš„require.ensure()å®ç°æ‡’åŠ è½½</p>
<ul>
<li>1ï¼švue-routeré…ç½®è·¯ç”±ï¼Œä½¿ç”¨webpackçš„require.ensureæŠ€æœ¯ï¼Œä¹Ÿå¯ä»¥å®ç°æŒ‰éœ€åŠ è½½ã€‚</li>
<li>2ï¼šè¿™ç§æƒ…å†µä¸‹ï¼Œå¤šä¸ªè·¯ç”±æŒ‡å®šç›¸åŒçš„chunkNameï¼Œä¼šåˆå¹¶æ‰“åŒ…æˆä¸€ä¸ªjsæ–‡ä»¶ã€‚</li>
<li>3ï¼šrequire.ensureå¯å®ç°æŒ‰éœ€åŠ è½½èµ„æºï¼ŒåŒ…æ‹¬js,cssç­‰ã€‚ä»–ä¼šç»™é‡Œé¢requireçš„æ–‡ä»¶å•ç‹¬æ‰“åŒ…ï¼Œä¸ä¼šå’Œä¸»æ–‡ä»¶æ‰“åŒ…åœ¨ä¸€èµ·ã€‚</li>
<li>4ï¼šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ•°ç»„ï¼Œè¡¨æ˜ç¬¬äºŒä¸ªå‚æ•°é‡Œéœ€è¦ä¾èµ–çš„æ¨¡å—ï¼Œè¿™äº›ä¼šæå‰åŠ è½½ã€‚</li>
<li>5ï¼šç¬¬äºŒä¸ªæ˜¯å›è°ƒå‡½æ•°,åœ¨è¿™ä¸ªå›è°ƒå‡½æ•°é‡Œé¢requireçš„æ–‡ä»¶ä¼šè¢«å•ç‹¬æ‰“åŒ…æˆä¸€ä¸ªchunk,ä¸ä¼šå’Œä¸»æ–‡ä»¶æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œè¿™æ ·å°±ç”Ÿæˆäº†ä¸¤ä¸ªchunk,ç¬¬ä¸€æ¬¡åŠ è½½æ—¶åªåŠ è½½ä¸»æ–‡ä»¶ã€‚</li>
<li>6ï¼šç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯é”™è¯¯å›è°ƒã€‚</li>
<li>7ï¼šç¬¬å››ä¸ªå‚æ•°æ˜¯å•ç‹¬æ‰“åŒ…çš„chunkçš„æ–‡ä»¶å</li>
</ul>
<pre><code class="javascript">import Vue from &#39;vue&#39;;
import Router from &#39;vue-router&#39;;
const HelloWorld=resolve=&gt;&#123;
 require.ensure([&#39;@/components/HelloWorld&#39;],()=&gt;&#123;
 resolve(require(&#39;@/components/HelloWorld&#39;))
 &#125;)
 &#125;
Vue.use(&#39;Router&#39;)
export default new Router(&#123;
 routes:[&#123;
 &#123;path:&#39;./&#39;,
 name:&#39;HelloWorld&#39;,
 component:HelloWorld
 &#125;
 &#125;]
&#125;)
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸ä»€ä¹ˆæ˜¯Vue-jsåŠ¨æ€ç»„ä»¶ä¸å¼‚æ­¥ç»„ä»¶ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸ä»€ä¹ˆæ˜¯Vue-jsåŠ¨æ€ç»„ä»¶ä¸å¼‚æ­¥ç»„ä»¶ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ä»€ä¹ˆæ˜¯Vue.jsåŠ¨æ€ç»„ä»¶ä¸å¼‚æ­¥ç»„ä»¶ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ä»€ä¹ˆæ˜¯Vue.jsåŠ¨æ€ç»„ä»¶ä¸å¼‚æ­¥ç»„ä»¶ï¼Ÿ</h3><h4 id="1-åŠ¨æ€ç»„ä»¶"><a href="#1-åŠ¨æ€ç»„ä»¶" class="headerlink" title="1.åŠ¨æ€ç»„ä»¶"></a>1.åŠ¨æ€ç»„ä»¶</h4><ul>
<li>:is &#x3D; â€œcomponent-nameâ€ ç”¨æ³•</li>
<li>éœ€è¦æ ¹æ®æ•°æ®ï¼ŒåŠ¨æ€æ¸²æŸ“çš„åœºæ™¯ã€‚å³ç»„ä»¶ç±»å‹ä¸ç¡®å®š</li>
</ul>
<pre><code class="html">//ä»£ç å®ä¾‹
&lt;template&gt;
  &lt;div&gt;
      &lt;p&gt;vueé«˜çº§ç‰¹æ€§&lt;/p&gt;
      &lt;hr&gt;
      &lt;!-- åŠ¨æ€ç»„ä»¶ --&gt;
      &lt;component :is=&quot;NextTickName&quot;&gt;&lt;/component&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;style&gt;
&lt;/style&gt;
</code></pre>
<pre><code class="javascript">&lt;script&gt;
import NextTick from &#39;./nextTick&#39;
export default &#123;
  components: &#123;
    NextTick
  &#125;,
  data () &#123;
    return &#123;
      name: &#39;å¤¹å¿ƒ&#39;,
      website: &#123;
        url: &#39;http://imooc.com/&#39;,
        title: &#39;imooc&#39;,
        subTitle: &#39;ç¨‹åºå‘˜çš„æ¢¦å·¥å‚&#39;
      &#125;,
      NextTickName: &#39;NextTick&#39;
    &#125;
  &#125;
&#125;
&lt;/script&gt;
</code></pre>
<h4 id="2-å¼‚æ­¥ç»„ä»¶"><a href="#2-å¼‚æ­¥ç»„ä»¶" class="headerlink" title="2.å¼‚æ­¥ç»„ä»¶"></a>2.å¼‚æ­¥ç»„ä»¶</h4><ul>
<li>import() å‡½æ•°</li>
<li>æŒ‰éœ€åŠ è½½ï¼Œå¼‚æ­¥åŠ è½½å¤§ç»„ä»¶</li>
</ul>
<pre><code class="javascript">export default &#123;
  components: &#123;
    FormDemo: () =&gt; import(&#39;../components/FormDemo&#39;)
  &#125;
&#125;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸è¯´ä¸€ä¸‹Vueä¸­è·¯ç”±è·³è½¬å’Œä¼ å€¼çš„æ–¹å¼"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸è¯´ä¸€ä¸‹Vueä¸­è·¯ç”±è·³è½¬å’Œä¼ å€¼çš„æ–¹å¼" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸è¯´ä¸€ä¸‹Vueä¸­è·¯ç”±è·³è½¬å’Œä¼ å€¼çš„æ–¹å¼"></a>â™¥ï¸â™¥ï¸â™¥ï¸è¯´ä¸€ä¸‹Vueä¸­è·¯ç”±è·³è½¬å’Œä¼ å€¼çš„æ–¹å¼</h3><p>1ã€è·¯ç”±è·³è½¬</p>
<p>router-linkç»„ä»¶ é»˜è®¤ä¼šè¢«æ¸²æŸ“æˆä¸€ä¸ª æ ‡ç­¾ï¼Œè¿›è¡Œè·³è½¬ï¼Œåœ¨ç»„ä»¶ä¸­å¯ä»¥é€šè¿‡ç»‘å®štoå±æ€§æ¥æŒ‡å®šè¦è·³è½¬çš„é“¾æ¥ï¼›tagå±æ€§æŒ‡æœ¬æ¥çš„æ ‡ç­¾</p>
<blockquote>
<p>$router.push()æ–¹æ³•</p>
</blockquote>
<p>2ã€è·¯ç”±ä¼ å‚</p>
<p>query</p>
<pre><code class="javascript">this.$router.push(&#123;
 path: &#39;blogDetail&#39;, 
 query: &#123; 
 id: item.id,
 views: item.views
 &#125;
&#125;)
</code></pre>
<p>params</p>
<pre><code class="javascript">this.$router.push(&#123;
 name: &#39;blogDetail&#39;, 
 params: &#123; 
 id: item.id,
 views: item.views
 &#125;
&#125;)
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸æœ€è¿‘å…³æ³¨äº†ä»€ä¹ˆæ–°æŠ€æœ¯å—ï¼Œç®€å•è¯´ä¸‹ä½ çš„ç†è§£ï¼ˆVue3-0ä¸Vue2-0å¯¹æ¯”"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸æœ€è¿‘å…³æ³¨äº†ä»€ä¹ˆæ–°æŠ€æœ¯å—ï¼Œç®€å•è¯´ä¸‹ä½ çš„ç†è§£ï¼ˆVue3-0ä¸Vue2-0å¯¹æ¯”" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸æœ€è¿‘å…³æ³¨äº†ä»€ä¹ˆæ–°æŠ€æœ¯å—ï¼Œç®€å•è¯´ä¸‹ä½ çš„ç†è§£ï¼ˆVue3.0ä¸Vue2.0å¯¹æ¯”)"></a>â™¥ï¸â™¥ï¸â™¥ï¸æœ€è¿‘å…³æ³¨äº†ä»€ä¹ˆæ–°æŠ€æœ¯å—ï¼Œç®€å•è¯´ä¸‹ä½ çš„ç†è§£ï¼ˆVue3.0ä¸Vue2.0å¯¹æ¯”)</h3><p>[Vue3.0ä¸Vue2.0åŒºåˆ«]: 	â€œ<a href="https://zhuanlan.zhihu.com/p/389421424">https://zhuanlan.zhihu.com/p/389421424</a>  â€œ</p>
<h4 id="ä¸€ã€å…­å¤§äº®ç‚¹"><a href="#ä¸€ã€å…­å¤§äº®ç‚¹" class="headerlink" title="ä¸€ã€å…­å¤§äº®ç‚¹"></a>ä¸€ã€å…­å¤§äº®ç‚¹</h4><p>æ€§èƒ½æ¯”vue2.xå¿«1.2~2å€</p>
<p>æ”¯æŒtree-shakingï¼ŒæŒ‰éœ€ç¼–è¯‘ï¼Œä½“ç§¯æ¯”vue2.xæ›´å°</p>
<p>æ”¯æŒç»„åˆAPI</p>
<p>æ›´å¥½çš„æ”¯æŒTS</p>
<p>æ›´å…ˆè¿›çš„ç»„ä»¶</p>
<h4 id="äºŒã€æ€§èƒ½æ¯”vue2-xå¿«1-2-2å€å¦‚ä½•å®ç°çš„å‘¢"><a href="#äºŒã€æ€§èƒ½æ¯”vue2-xå¿«1-2-2å€å¦‚ä½•å®ç°çš„å‘¢" class="headerlink" title="äºŒã€æ€§èƒ½æ¯”vue2.xå¿«1.2~2å€å¦‚ä½•å®ç°çš„å‘¢"></a>äºŒã€æ€§èƒ½æ¯”vue2.xå¿«1.2~2å€å¦‚ä½•å®ç°çš„å‘¢</h4><p>1.diffç®—æ³•æ›´å¿«</p>
<p>vue2.0æ˜¯éœ€è¦å…¨å±€å»æ¯”è¾ƒæ¯ä¸ªèŠ‚ç‚¹çš„ï¼Œè‹¥å‘ç°æœ‰èŠ‚ç‚¹å‘ç”Ÿå˜åŒ–åï¼Œå°±å»æ›´æ–°è¯¥èŠ‚ç‚¹</p>
<p>vue3.0æ˜¯åœ¨åˆ›å»ºè™šæ‹Ÿdomä¸­ï¼Œä¼šæ ¹æ®DOMçš„çš„å†…å®¹ä¼šä¸ä¼šå‘ç”Ÿå†…å®¹å˜åŒ–ï¼Œæ·»åŠ é™æ€æ ‡è®°ï¼Œ è°æœ‰flagï¼æ¯”è¾ƒè°ã€‚</p>
<p>2ã€é™æ€æå‡</p>
<p>vue2ä¸­æ— è®ºå…ƒç´ æ˜¯å¦å‚ä¸æ›´æ–°ï¼Œæ¯æ¬¡éƒ½ä¼šé‡æ–°åˆ›å»ºï¼Œç„¶åå†æ¸²æŸ“ vue3ä¸­å¯¹äºä¸å‚ä¸æ›´æ–°çš„å…ƒç´ ï¼Œä¼šåšé™æ€æå‡ï¼Œåªè¢«åˆ›å»ºä¸€æ¬¡ï¼Œåœ¨æ¸²æŸ“æ—¶ç›´æ¥å¤ç”¨å³å¯</p>
<p>3ã€äº‹ä»¶ä¾¦å¬ç¼“å­˜é»˜è®¤æƒ…å†µä¸‹ï¼Œonclickä¸ºåŠ¨æ€ç»‘å®šï¼Œæ‰€ä»¥æ¯æ¬¡éƒ½ä¼šè¿½è¸ªå®ƒçš„å˜åŒ–ï¼Œä½†æ˜¯å› ä¸ºæ˜¯åŒä¸€å‡½æ•°ï¼Œæ²¡æœ‰å¿…è¦è¿½è¸ªå˜åŒ–ï¼Œç›´æ¥ç¼“å­˜å¤ç”¨å³å¯åœ¨ä¹‹å‰ä¼šæ·»åŠ é™æ€æ ‡è®°8 ä¼šæŠŠç‚¹å‡»äº‹ä»¶å½“åšåŠ¨æ€å±æ€§ ä¼šè¿›è¡Œdiffç®—æ³•æ¯”è¾ƒï¼Œ ä½†æ˜¯åœ¨äº‹ä»¶ç›‘å¬ç¼“å­˜ä¹‹åå°±æ²¡æœ‰é™æ€æ ‡è®°äº†ï¼Œå°±ä¼šè¿›è¡Œç¼“å­˜å¤ç”¨</p>
<h4 id="ä¸‰ã€ä¸ºä»€ä¹ˆvue3-0ä½“ç§¯æ¯”vue2-xå°"><a href="#ä¸‰ã€ä¸ºä»€ä¹ˆvue3-0ä½“ç§¯æ¯”vue2-xå°" class="headerlink" title="ä¸‰ã€ä¸ºä»€ä¹ˆvue3.0ä½“ç§¯æ¯”vue2.xå°"></a>ä¸‰ã€ä¸ºä»€ä¹ˆvue3.0ä½“ç§¯æ¯”vue2.xå°</h4><p>åœ¨vue3.0ä¸­åˆ›å»ºvueé¡¹ç›® é™¤äº†vue-cliï¼Œwebpackå¤–è¿˜æœ‰ ä¸€ç§åˆ›å»ºæ–¹æ³•æ˜¯Vite Viteæ˜¯ä½œè€…å¼€å‘çš„ä¸€æ¬¾æœ‰æ„å–ä»£webpackçš„å·¥å…·ï¼Œå…¶å®ç°åŸç†æ˜¯åˆ©ç”¨ES6çš„importä¼šå‘é€è¯·æ±‚å»åŠ è½½æ–‡ä»¶çš„ç‰¹æ€§ï¼Œæ‹¦æˆªè¿™äº›è¯·æ±‚ï¼Œåšä¸€äº›é¢„ç¼–è¯‘ï¼Œçœå»webpackå†—é•¿çš„æ‰“åŒ…æ—¶é—´</p>
<h4 id="å››ã€vue3-0ç»„åˆAPI"><a href="#å››ã€vue3-0ç»„åˆAPI" class="headerlink" title="å››ã€vue3.0ç»„åˆAPI"></a>å››ã€vue3.0ç»„åˆAPI</h4><p>1.è¯´ä¸€è¯´vue3.0çš„ç»„åˆAPIè·Ÿä¹‹å‰vue2.0åœ¨å®Œæˆä¸šåŠ¡é€»è¾‘ä¸Šçš„åŒºåˆ«ï¼š</p>
<p>åœ¨vue2.0ä¸­ï¼š ä¸»è¦æ˜¯å¾€data å’Œmethodé‡Œé¢æ·»åŠ å†…å®¹ï¼Œä¸€ä¸ªä¸šåŠ¡é€»è¾‘éœ€è¦ä»€ä¹ˆdataå’Œmethodå°±å¾€é‡Œé¢æ·»åŠ ï¼Œè€Œç»„åˆAPIå°±æ˜¯ æœ‰ä¸€ä¸ªè‡ªå·±çš„æ–¹æ³•ï¼Œé‡Œé¢æœ‰è‡ªå·±ä¸“æ³¨çš„data å’Œmethodã€‚</p>
<p>2.å†è¯´ä¸€ä¸‹ç»„åˆAPIçš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼š é¦–å…ˆcomposition APIï¼ˆç»„åˆAPIï¼‰ å’Œ Option APIï¼ˆvue2.0ä¸­çš„dataå’Œmethodï¼‰å¯ä»¥å…±ç”¨ composition APIï¼ˆç»„åˆAPIï¼‰æœ¬è´¨å°±æ˜¯æŠŠå†…å®¹æ·»åŠ åˆ°Option APIä¸­è¿›è¡Œä½¿ç”¨</p>
<h4 id="äº”ã€refå’Œreactiveçš„ç®€å•ç†è§£"><a href="#äº”ã€refå’Œreactiveçš„ç®€å•ç†è§£" class="headerlink" title="äº”ã€refå’Œreactiveçš„ç®€å•ç†è§£"></a>äº”ã€refå’Œreactiveçš„ç®€å•ç†è§£</h4><p>1.refå’Œreactiveéƒ½æ˜¯vue3çš„ç›‘å¬æ•°æ®çš„æ–¹æ³•ï¼Œæœ¬è´¨æ˜¯proxy </p>
<p>2.ref åŸºæœ¬ç±»å‹å¤æ‚ç±»å‹éƒ½å¯ä»¥ç›‘å¬(æˆ‘ä»¬ä¸€èˆ¬ç”¨refç›‘å¬åŸºæœ¬ç±»å‹)ï¼Œreactiveåªèƒ½ç›‘å¬å¯¹è±¡ï¼ˆarrï¼Œjsonï¼‰ </p>
<p>3.refåº•å±‚è¿˜æ˜¯reactive</p>
<h4 id="å…­ã€å¯¹ç”Ÿå‘½å‘¨æœŸçš„ç›‘å¬ï¼ˆrefè·å–å±æ€§ï¼‰"><a href="#å…­ã€å¯¹ç”Ÿå‘½å‘¨æœŸçš„ç›‘å¬ï¼ˆrefè·å–å±æ€§ï¼‰" class="headerlink" title="å…­ã€å¯¹ç”Ÿå‘½å‘¨æœŸçš„ç›‘å¬ï¼ˆrefè·å–å±æ€§ï¼‰"></a>å…­ã€å¯¹ç”Ÿå‘½å‘¨æœŸçš„ç›‘å¬ï¼ˆrefè·å–å±æ€§ï¼‰</h4><h4 id="ä¸ƒã€proxyå“åº”å¼æœ¬è´¨"><a href="#ä¸ƒã€proxyå“åº”å¼æœ¬è´¨" class="headerlink" title="ä¸ƒã€proxyå“åº”å¼æœ¬è´¨"></a>ä¸ƒã€proxyå“åº”å¼æœ¬è´¨</h4><h3 id="â™¥ï¸â™¥ï¸â™¥ï¸v-ifå’Œv-showçš„åŒºåˆ«"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸v-ifå’Œv-showçš„åŒºåˆ«" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸v-ifå’Œv-showçš„åŒºåˆ«"></a>â™¥ï¸â™¥ï¸â™¥ï¸v-ifå’Œv-showçš„åŒºåˆ«</h3><p>1ã€æ‰‹æ®µï¼šv-ifæ˜¯åŠ¨æ€çš„å‘DOMæ ‘æ·»åŠ æˆ–è€…åˆ é™¤DOMå…ƒç´ ï¼›v-showæ˜¯é€šè¿‡è®¾ç½®DOMå…ƒç´ çš„displayæ ·å¼å±æ€§æ§åˆ¶æ˜¾ç¤ºå’Œéšè—ã€‚</p>
<p>2ã€ç¼–è¯‘è¿‡ç¨‹ï¼šv-ifåˆ‡æ¢æœ‰ä¸€ä¸ªå±€éƒ¨ç¼–è¯‘&#x2F;å¸è½½çš„è¿‡ç¨‹ï¼Œ åˆ‡æ¢è¿‡ç¨‹ä¸­åˆé€‚åœ°é”€æ¯å’Œé‡å»ºå†…éƒ¨çš„äº‹ä»¶ç›‘å¬å’Œå­ç»„ä»¶ï¼›v-showåªæ˜¯ç®€å•çš„åŸºäºcssåˆ‡æ¢ã€‚</p>
<p>3ã€ç¼–è¯‘æ¡ä»¶ï¼šv-ifæ˜¯æƒ°æ€§çš„ï¼Œå¦‚æœåˆå§‹æ¡ä»¶ä¸ºå‡ï¼Œåˆ™ä»€ä¹ˆä¹Ÿä¸åšï¼›åªæœ‰åœ¨æ¡ä»¶ç¬¬ä¸€æ¬¡å˜ä¸ºçœŸæ—¶æ‰å¼€å§‹å±€éƒ¨ç¼–è¯‘ï¼ˆç¼–è¯‘è¢«ç¼“å­˜ï¼Ÿç¼–è¯‘è¢«ç¼“å­˜åï¼Œç„¶åå†åˆ‡æ¢çš„æ—¶å€™è¿›è¡Œå±€éƒ¨å¸è½½); v-showæ˜¯åœ¨ä»»ä½•æ¡ä»¶ä¸‹ï¼ˆé¦–æ¬¡æ¡ä»¶æ˜¯å¦ä¸ºçœŸï¼‰éƒ½è¢«ç¼–è¯‘ï¼Œç„¶åè¢«ç¼“å­˜ï¼Œè€Œä¸”DOMå…ƒç´ ä¿ç•™</p>
<p>4ã€æ€§èƒ½æ¶ˆè€—ï¼šv-ifæœ‰æ›´é«˜çš„åˆ‡æ¢æ¶ˆè€—ï¼›v-showæœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“æ¶ˆè€— ä½¿ç”¨åœºæ™¯ï¼šv-ifé€‚åˆè¿è¥æ¡ä»¶ä¸å¤§å¯èƒ½æ”¹å˜ï¼›v-showé€‚åˆé¢‘ç¹åˆ‡æ¢</p>
<p>6ã€ç›¸åŒç‚¹ï¼š v-show éƒ½å¯ä»¥åŠ¨æ€æ§åˆ¶ç€domå…ƒç´ çš„æ˜¾ç¤ºéšè— </p>
<p>â€‹    ä¸åŒç‚¹ï¼š v-if çš„æ˜¾ç¤ºéšè—æ˜¯å°†DOMå…ƒç´ æ•´ä¸ªæ·»åŠ æˆ–åˆ é™¤ï¼Œv-show çš„æ˜¾ç¤ºéšè—æ˜¯ä¸ºDOMå…ƒç´ æ·»</p>
<p>7ã€åŠ cssçš„æ ·å¼displayï¼Œè®¾ç½®noneæˆ–è€…æ˜¯blockï¼ŒDOMå…ƒç´ æ˜¯è¿˜å­˜åœ¨çš„</p>
<p>8ã€åœ¨æ¸²æŸ“å¤šä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œå¯ä»¥æŠŠä¸€ä¸ª å…ƒç´ ä½œä¸ºåŒ…è£…å…ƒç´ ï¼Œå¹¶ä½¿ç”¨v-if è¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼Œæœ€ç»ˆçš„æ¸²æŸ“ä¸ä¼šåŒ…å«è¿™ä¸ªå…ƒç´ ï¼Œv-showæ˜¯ä¸æ”¯æŒ è¯­æ³•</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ç®€è¿°Vueæ¯ä¸ªç”Ÿå‘½å‘¨æœŸå…·ä½“é€‚åˆå“ªäº›åœºæ™¯"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ç®€è¿°Vueæ¯ä¸ªç”Ÿå‘½å‘¨æœŸå…·ä½“é€‚åˆå“ªäº›åœºæ™¯" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ç®€è¿°Vueæ¯ä¸ªç”Ÿå‘½å‘¨æœŸå…·ä½“é€‚åˆå“ªäº›åœºæ™¯"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ç®€è¿°Vueæ¯ä¸ªç”Ÿå‘½å‘¨æœŸå…·ä½“é€‚åˆå“ªäº›åœºæ™¯</h3><table>
<thead>
<tr>
<th align="center">é’©å­å‡½æ•°</th>
<th align="center">å…·ä½“å‘ç”Ÿäº†ä»€ä¹ˆ</th>
</tr>
</thead>
<tbody><tr>
<td align="center">beforeCreate</td>
<td align="center">åˆå§‹åŒ–ç•Œé¢å‰ : åœ¨å½“å‰é˜¶æ®µdataã€methodsã€computedä»¥åŠwatchä¸Šçš„æ•°æ®å’Œæ–¹æ³•éƒ½ä¸èƒ½è¢«è®¿é—®ï¼Œéƒ½è¿˜æ²¡æœ‰å®Œæˆåˆå§‹åŒ–ã€‚</td>
</tr>
<tr>
<td align="center">created</td>
<td align="center">åˆå§‹åŒ–ç•Œé¢å : åœ¨å®ä¾‹åˆ›å»ºå®Œæˆåå‘ç”Ÿï¼Œå½“å‰é˜¶æ®µå·²ç»å®Œæˆäº†æ•°æ®è§‚æµ‹ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥ä½¿ç”¨æ•°æ®ï¼Œæ›´æ”¹æ•°æ®ï¼Œåœ¨è¿™é‡Œæ›´æ”¹æ•°æ®ä¸ä¼šè§¦å‘updatedå‡½æ•°,ä¹Ÿå°±æ˜¯ä¸ä¼šæ›´æ–°è§†å›¾ã€‚å®ä¾‹çš„dataæ•°æ®å’Œmethodsæ–¹æ³•éƒ½å·²ç»è¢«åˆå§‹åŒ–å®Œæ¯•äº†ï¼Œå¯ä»¥æ­£å¸¸è®¿é—®</td>
</tr>
<tr>
<td align="center">beforeMount</td>
<td align="center">æŒ‚è½½å‰ ï¼šå®Œæˆæ¨¡æ¿ç¼–è¯‘ï¼Œè™šæ‹ŸDomå·²ç»åˆ›å»ºå®Œæˆï¼Œå³å°†å¼€å§‹æ¸²æŸ“ã€‚åœ¨æ­¤æ—¶ä¹Ÿå¯ä»¥å¯¹æ•°æ®è¿›è¡Œæ›´æ”¹ï¼Œä¸ä¼šè§¦å‘updatedã€‚æ•°æ®è¿˜æ²¡æœ‰æ›´æ–°åˆ°é¡µé¢ä¸Šå»ã€‚å½“ç¼–è¯‘å®Œæˆä¹‹åï¼Œåªæ˜¯åœ¨å†…å­˜ä¸­å·²ç»æœ‰äº†ç¼–è¯‘å¥½çš„é¡µé¢ï¼Œä½†å¹¶æœªæ¸²æŸ“ã€‚</td>
</tr>
<tr>
<td align="center">mounted</td>
<td align="center">æŒ‚è½½å®Œæˆ ï¼š å°†ç¼–è¯‘å¥½çš„æ¨¡æ¿æŒ‚è½½åˆ°é¡µé¢ (è™šæ‹ŸDOMæŒ‚è½½) ï¼Œå¯ä»¥åœ¨è¿™è¿›è¡Œå¼‚æ­¥è¯·æ±‚ä»¥åŠDOMèŠ‚ç‚¹çš„è®¿é—®ï¼Œåœ¨vueç”¨$refæ“ä½œ</td>
</tr>
<tr>
<td align="center">beforeUpdate</td>
<td align="center">æ›´æ–°æ•°æ®å‰ ï¼š ç»„ä»¶æ•°æ®æ›´æ–°ä¹‹å‰è°ƒç”¨ï¼Œæ•°æ®éƒ½æ˜¯æ–°çš„,é¡µé¢ä¸Šæ•°æ®éƒ½æ˜¯æ—§çš„ã€‚å°†è¦æ ¹æ®æœ€æ–°çš„dataæ•°æ®ï¼Œé‡æ–°è§£ææ‰€æœ‰æŒ‡ä»¤ï¼Œä»è€Œé‡æ–°æ¸²æŸ“æµè§ˆå™¨é¡µé¢ã€‚</td>
</tr>
<tr>
<td align="center">updated</td>
<td align="center">ç»„ä»¶æ›´æ–°å ï¼š renderé‡æ–°æ¸²æŸ“ , æ­¤æ—¶æ•°æ®å’Œç•Œé¢éƒ½æ˜¯æ–°çš„ ,è¦æ³¨æ„çš„æ˜¯é¿å…åœ¨æ­¤æœŸé—´æ›´æ”¹æ•°æ®ï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šå¯¼è‡´æ— é™å¾ªç¯çš„æ›´æ–°</td>
</tr>
<tr>
<td align="center">beforeDestroy</td>
<td align="center">ç»„ä»¶å¸è½½å‰ : å®ä¾‹é”€æ¯ä¹‹å‰ï¼Œåœ¨å½“å‰é˜¶æ®µå®ä¾‹å®Œå…¨å¯ä»¥è¢«ä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™æ—¶è¿›è¡Œå–„åæ”¶å°¾å·¥ä½œï¼Œæ¯”å¦‚æ¸…é™¤è®¡æ—¶å™¨</td>
</tr>
<tr>
<td align="center">destroyed</td>
<td align="center">ç»„ä»¶å¸è½½å ï¼š ç»„ä»¶å·²è¢«æ‹†è§£ï¼Œæ•°æ®ç»‘å®šè¢«å¸é™¤ï¼Œç›‘å¬è¢«ç§»å‡ºï¼Œå­å®ä¾‹ä¹Ÿç»Ÿç»Ÿè¢«é”€æ¯ã€‚</td>
</tr>
<tr>
<td align="center">activited</td>
<td align="center">keep-alive ä¸“å± , ç»„ä»¶è¢«æ¿€æ´»æ—¶è°ƒç”¨</td>
</tr>
<tr>
<td align="center">deactivated</td>
<td align="center">keep-alive ä¸“å± , ç»„ä»¶è¢«é”€æ¯æ—¶è°ƒç”¨</td>
</tr>
</tbody></table>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ä»€ä¹ˆæ˜¯v-modelï¼Ÿå®ƒçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ä»€ä¹ˆæ˜¯v-modelï¼Ÿå®ƒçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ä»€ä¹ˆæ˜¯v-modelï¼Ÿå®ƒçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ä»€ä¹ˆæ˜¯v-modelï¼Ÿå®ƒçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>1ã€v-modelæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œå¯ä»¥çœ‹æˆæ˜¯value + input æ–¹æ³•çš„è¯­æ³•ç³–ã€‚å¯ä»¥é€šè¿‡modelçš„propå±æ€§å’Œeventäº‹ä»¶æ¥è¿›è¡Œè‡ªå®šä¹‰ã€‚</p>
<p>2ã€v-modelæ˜¯vueçš„åŒå‘ç»‘å®šçš„æŒ‡ä»¤ï¼Œèƒ½å°†é¡µé¢ä¸Šæ§ä»¶è¾“å…¥çš„å€¼åŒæ­¥æ›´æ–°åˆ°ç›¸å…³ç»‘å®šçš„dataå±æ€§ï¼Œ ä¹Ÿä¼šåœ¨æ›´æ–°dataç»‘å®šå±æ€§æ—¶å€™ï¼Œæ›´æ–°é¡µé¢ä¸Šè¾“å…¥æ§ä»¶çš„å€¼ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸ç®€å•è¯´ä¸€ä¸‹-å¾®ä¿¡å°ç¨‹åº-ä¸Vueçš„åŒºåˆ«ï¼ˆäº†è§£å³å¯ï¼Œå…·ä½“åŒºåˆ«è¯·çœ‹å„è‡ªå…·ä½“éƒ¨åˆ†ï¼‰"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸ç®€å•è¯´ä¸€ä¸‹-å¾®ä¿¡å°ç¨‹åº-ä¸Vueçš„åŒºåˆ«ï¼ˆäº†è§£å³å¯ï¼Œå…·ä½“åŒºåˆ«è¯·çœ‹å„è‡ªå…·ä½“éƒ¨åˆ†ï¼‰" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ç®€å•è¯´ä¸€ä¸‹ å¾®ä¿¡å°ç¨‹åº ä¸Vueçš„åŒºåˆ«ï¼ˆäº†è§£å³å¯ï¼Œå…·ä½“åŒºåˆ«è¯·çœ‹å„è‡ªå…·ä½“éƒ¨åˆ†ï¼‰"></a>â™¥ï¸â™¥ï¸â™¥ï¸ç®€å•è¯´ä¸€ä¸‹ å¾®ä¿¡å°ç¨‹åº ä¸Vueçš„åŒºåˆ«ï¼ˆäº†è§£å³å¯ï¼Œå…·ä½“åŒºåˆ«è¯·çœ‹å„è‡ªå…·ä½“éƒ¨åˆ†ï¼‰</h3><p>1ã€ç”Ÿå‘½å‘¨æœŸï¼š</p>
<p>å°ç¨‹åºçš„é’©å­å‡½æ•°è¦ç®€å•å¾—å¤š ã€‚ vueçš„é’©å­å‡½æ•°åœ¨è·³è½¬æ–°é¡µé¢æ—¶ï¼Œé’©å­å‡½æ•°éƒ½ä¼šè§¦å‘ï¼Œä½†æ˜¯å°ç¨‹åºçš„é’©å­å‡½æ•°ï¼Œé¡µé¢ä¸åŒçš„è·³è½¬æ–¹å¼ï¼Œè§¦å‘çš„é’©å­å¹¶ä¸ä¸€æ ·ã€‚</p>
<p>åœ¨é¡µé¢åŠ è½½è¯·æ±‚æ•°æ®æ—¶ï¼Œä¸¤è€…é’©å­çš„ä½¿ç”¨æœ‰äº›ç±»ä¼¼ï¼Œvueä¸€èˆ¬ä¼šåœ¨createdæˆ–è€…mountedä¸­è¯·æ±‚æ•°æ®ï¼Œè€Œåœ¨å°ç¨‹åºï¼Œä¼šåœ¨onLoadæˆ–è€…onShowä¸­è¯·æ±‚æ•°æ®ã€‚</p>
<p>2ã€æ•°æ®ç»‘å®šï¼š</p>
<p>vueåŠ¨æ€ç»‘å®šä¸€ä¸ªå˜é‡çš„å€¼ä¸ºå…ƒç´ çš„æŸä¸ªå±æ€§çš„æ—¶å€™ï¼Œä¼šåœ¨å˜é‡å‰é¢åŠ ä¸Šå†’å·ï¼š</p>
<p>å°ç¨‹åº ç»‘å®šæŸä¸ªå˜é‡çš„å€¼ä¸ºå…ƒç´ å±æ€§æ—¶ï¼Œä¼šç”¨ä¸¤ä¸ªå¤§æ‹¬å·æ‹¬èµ·æ¥ï¼Œå¦‚æœä¸åŠ æ‹¬å·ï¼Œä¸ºè¢«è®¤ä¸ºæ˜¯å­—ç¬¦ä¸²</p>
<p>3ã€åˆ—è¡¨å¾ªç¯</p>
<p>4ã€æ˜¾ç¤ºä¸éšè—å…ƒç´ </p>
<p>vueä¸­ï¼Œä½¿ç”¨v-if å’Œv-showæ§åˆ¶å…ƒç´ çš„æ˜¾ç¤ºå’Œéšè—</p>
<p>å°ç¨‹åºä¸­ï¼Œä½¿ç”¨wx-ifå’Œhiddenæ§åˆ¶å…ƒç´ çš„æ˜¾ç¤ºå’Œéšè—</p>
<p>5ã€äº‹ä»¶å¤„ç†</p>
<p>vueï¼šä½¿ç”¨v-on:eventç»‘å®šäº‹ä»¶ï¼Œæˆ–è€…ä½¿ç”¨@eventç»‘å®šäº‹ä»¶</p>
<p>å°ç¨‹åºä¸­ï¼Œå…¨ç”¨bindtap(bind+event)ï¼Œæˆ–è€…catchtap(catch+event)ç»‘å®šäº‹ä»¶</p>
<p>6ã€æ•°æ®çš„åŒå‘ç»‘å®š</p>
<p>åœ¨vueä¸­,åªéœ€è¦å†è¡¨å•å…ƒç´ ä¸ŠåŠ ä¸Šv-model,ç„¶åå†ç»‘å®šdataä¸­å¯¹åº”çš„ä¸€ä¸ªå€¼ï¼Œå½“è¡¨å•å…ƒç´ å†…å®¹å‘ç”Ÿå˜åŒ–æ—¶ï¼Œdataä¸­å¯¹åº”çš„å€¼ä¹Ÿä¼šç›¸åº”æ”¹å˜ ã€‚</p>
<p>å½“è¡¨å•å†…å®¹å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šè§¦å‘è¡¨å•å…ƒç´ ä¸Šç»‘å®šçš„æ–¹æ³•ï¼Œç„¶ååœ¨è¯¥æ–¹æ³•ä¸­ï¼Œé€šè¿‡this.setData({key:value})æ¥å°†è¡¨å•ä¸Šçš„å€¼èµ‹å€¼ç»™dataä¸­çš„å¯¹åº”å€¼ ã€‚ </p>
<p>7ã€ç»‘å®šäº‹ä»¶ä¼ å‚</p>
<p>åœ¨vueä¸­ï¼Œç»‘å®šäº‹ä»¶ä¼ å‚æŒºç®€å•ï¼Œåªéœ€è¦åœ¨è§¦å‘äº‹ä»¶çš„æ–¹æ³•ä¸­ï¼ŒæŠŠéœ€è¦ä¼ é€’çš„æ•°æ®ä½œä¸ºå½¢å‚ä¼ å…¥å°±å¯ä»¥äº†</p>
<p>åœ¨å°ç¨‹åºä¸­ï¼Œä¸èƒ½ç›´æ¥åœ¨ç»‘å®šäº‹ä»¶çš„æ–¹æ³•ä¸­ä¼ å…¥å‚æ•°ï¼Œéœ€è¦å°†å‚æ•°ä½œä¸ºå±æ€§å€¼ï¼Œç»‘å®šåˆ°å…ƒç´ ä¸Šçš„data-å±æ€§ä¸Šï¼Œç„¶ååœ¨æ–¹æ³•ä¸­ï¼Œé€šè¿‡e.currentTarget.dataset.*çš„æ–¹å¼è·å–</p>
<p>8ã€çˆ¶å­ç»„ä»¶é€šä¿¡</p>
<p>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œåªéœ€è¦åœ¨å­ç»„ä»¶é€šè¿‡v-bindä¼ å…¥ä¸€ä¸ªå€¼ï¼Œåœ¨å­ç»„ä»¶ä¸­ï¼Œé€šè¿‡propsæ¥æ”¶ï¼Œå³å¯å®Œæˆæ•°æ®çš„ä¼ é€’çˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šä¿¡å’Œvueç±»ä¼¼ï¼Œä½†æ˜¯å°ç¨‹åºæ²¡æœ‰é€šè¿‡v-bindï¼Œè€Œæ˜¯ç›´æ¥å°†å€¼èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ åœ¨å­ç»„ä»¶propertiesä¸­ï¼Œæ¥æ”¶ä¼ é€’çš„å€¼</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vueçš„ç»„ä»¶é€šä¿¡"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vueçš„ç»„ä»¶é€šä¿¡" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vueçš„ç»„ä»¶é€šä¿¡"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vueçš„ç»„ä»¶é€šä¿¡</h3><p>1ã€propså’Œ$emit</p>
<p>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®æ˜¯é€šè¿‡propä¼ é€’çš„ï¼Œå­ç»„ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶æ˜¯é€šè¿‡$emitè§¦å‘äº‹ä»¶</p>
<p>2ã€$attrså’Œ$listeners</p>
<p>3ã€ä¸­å¤®äº‹ä»¶æ€»çº¿ bus</p>
<p>ä¸Šé¢ä¸¤ç§æ–¹å¼å¤„ç†çš„éƒ½æ˜¯çˆ¶å­ç»„ä»¶ä¹‹é—´çš„æ•°æ®ä¼ é€’ï¼Œè€Œå¦‚æœä¸¤ä¸ªç»„ä»¶ä¸æ˜¯çˆ¶å­å…³ç³»å‘¢ï¼Ÿè¿™ç§æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨ä¸­å¤®äº‹ä»¶æ€»çº¿çš„æ–¹å¼ã€‚æ–°å»ºä¸€ä¸ªVueäº‹ä»¶buså¯¹è±¡ï¼Œç„¶åé€šè¿‡bus.$emitè§¦å‘äº‹ä»¶ï¼Œbus.$onç›‘å¬è§¦å‘çš„äº‹ä»¶ã€‚</p>
<p>4ã€provideå’Œinject</p>
<p>çˆ¶ç»„ä»¶ä¸­é€šè¿‡provideræ¥æä¾›å˜é‡ï¼Œç„¶ååœ¨å­ç»„ä»¶ä¸­é€šè¿‡injectæ¥æ³¨å…¥å˜é‡ã€‚ä¸è®ºå­ç»„ä»¶æœ‰å¤šæ·±ï¼Œåªè¦è°ƒç”¨äº†injecté‚£ä¹ˆå°±å¯ä»¥æ³¨å…¥providerä¸­çš„æ•°æ®ã€‚è€Œä¸æ˜¯å±€é™äºåªèƒ½ä»å½“å‰çˆ¶ç»„ä»¶çš„propå±æ€§æ¥è·å–æ•°æ®ï¼Œåªè¦åœ¨çˆ¶ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œå­ç»„ä»¶éƒ½å¯ä»¥è°ƒç”¨ã€‚</p>
<p>5ã€v-model</p>
<p>çˆ¶ç»„ä»¶é€šè¿‡v-modelä¼ é€’å€¼ç»™å­ç»„ä»¶æ—¶ï¼Œä¼šè‡ªåŠ¨ä¼ é€’ä¸€ä¸ªvalueçš„propå±æ€§ï¼Œåœ¨å­ç»„ä»¶ä¸­é€šè¿‡this.$emit(â€˜inputâ€™,val)è‡ªåŠ¨ä¿®æ”¹v-modelç»‘å®šçš„å€¼</p>
<p>6ã€$parentå’Œ$children</p>
<p>7ã€boradcastå’Œdispatch</p>
<p>8ã€vuexå¤„ç†ç»„ä»¶ä¹‹é—´çš„æ•°æ®äº¤äº’ å¦‚æœä¸šåŠ¡é€»è¾‘å¤æ‚ï¼Œå¾ˆå¤šç»„ä»¶ä¹‹é—´éœ€è¦åŒæ—¶å¤„ç†ä¸€äº›å…¬å…±çš„æ•°æ®ï¼Œè¿™ä¸ªæ—¶å€™æ‰æœ‰ä¸Šé¢è¿™ä¸€äº›æ–¹æ³•å¯èƒ½ä¸åˆ©äºé¡¹ç›®çš„ç»´æŠ¤ï¼Œvuexçš„åšæ³•å°±æ˜¯å°†è¿™ä¸€äº›å…¬å…±çš„æ•°æ®æŠ½ç¦»å‡ºæ¥ï¼Œç„¶åå…¶ä»–ç»„ä»¶å°±å¯ä»¥å¯¹è¿™ä¸ªå…¬å…±æ•°æ®è¿›è¡Œè¯»å†™æ“ä½œï¼Œè¿™æ ·è¾¾åˆ°äº†è§£è€¦çš„ç›®çš„ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vueå¦‚ä½•åœ¨ç”¨æˆ·æ²¡ç™»é™†çš„æ—¶å€™é‡å®šå‘ç™»å½•ç•Œé¢ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vueå¦‚ä½•åœ¨ç”¨æˆ·æ²¡ç™»é™†çš„æ—¶å€™é‡å®šå‘ç™»å½•ç•Œé¢ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vueå¦‚ä½•åœ¨ç”¨æˆ·æ²¡ç™»é™†çš„æ—¶å€™é‡å®šå‘ç™»å½•ç•Œé¢ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vueå¦‚ä½•åœ¨ç”¨æˆ·æ²¡ç™»é™†çš„æ—¶å€™é‡å®šå‘ç™»å½•ç•Œé¢ï¼Ÿ</h3><p>ç°åœ¨ æˆ‘ä»¬éœ€è¦å®ç°è¿™æ · ä¸€ä¸ªåŠŸèƒ½ï¼Œç™»å½•æ‹¦æˆªï¼Œå…¶å®å°±æ˜¯ è·¯ç”±æ‹¦æˆªï¼Œé¦–å…ˆåœ¨å®šä¹‰è·¯ç”±çš„æ—¶å€™å°±éœ€è¦å¤šæ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰å­—æ®µrequireAuthï¼Œç”¨äºåˆ¤æ–­è¯¥è·¯ç”±çš„è®¿é—®æ˜¯å¦éœ€è¦ç™»å½•ã€‚å¦‚æœç”¨æˆ·å·²ç»ç™»å½•ï¼Œåˆ™é¡ºåˆ©è¿›å…¥è·¯ç”±ï¼Œ å¦åˆ™å°±è¿›å…¥ç™»å½•é¡µé¢ã€‚åœ¨è·¯ç”±ç®¡ç†é¡µé¢æ·»åŠ metaå­—æ®µ</p>
<pre><code class="javascript">&#123;
 path:&#39;/manage&#39;,
 name:&#39;manage&#39;,
 component:manage,
 meta:&#123;requireAuth:true&#125;
&#125;
</code></pre>
<p>åœ¨å…¥å£æ–‡ä»¶ä¸­ï¼Œæ·»åŠ è·¯ç”±å®ˆå«</p>
<p>å…ˆåˆ¤æ–­è¯¥è·¯ç”±æ˜¯å¦éœ€è¦ç™»å½•æƒé™</p>
<p>åˆ¤æ–­æœ¬åœ°æ˜¯å¦å­˜åœ¨tokenï¼Œå¦‚æœå­˜åœ¨tokenå°±next()ï¼Œä¸å­˜åœ¨tokené‡å®šå‘åˆ°ç™»å½•é¡µ</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸Vuexå’Œreduxæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä»–ä»¬çš„å…±åŒæ€æƒ³ã€‚"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸Vuexå’Œreduxæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä»–ä»¬çš„å…±åŒæ€æƒ³ã€‚" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸Vuexå’Œreduxæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä»–ä»¬çš„å…±åŒæ€æƒ³ã€‚"></a>â™¥ï¸â™¥ï¸â™¥ï¸Vuexå’Œreduxæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä»–ä»¬çš„å…±åŒæ€æƒ³ã€‚</h3><p>Reduxå’ŒVuexåŒºåˆ«</p>
<p>Vuexæ”¹è¿›äº†Reduxä¸­çš„Actionå’ŒReducerå‡½æ•°ï¼Œä»¥mutationså˜åŒ–å‡½æ•°å–ä»£Reducerï¼Œæ— éœ€switchï¼Œåªéœ€åœ¨å¯¹åº”çš„mutationå‡½æ•°é‡Œæ”¹å˜stateå€¼å°±å¯ä»¥</p>
<p>Vuexç”±äºVueè‡ªåŠ¨é‡æ–°æ¸²æŸ“çš„ç‰¹æ€§ï¼Œæ— éœ€è®¢é˜…é‡æ–°æ¸²æŸ“å‡½æ•°ï¼Œåªè¦ç”Ÿæˆæ–°çš„stateå°±å¯ä»¥</p>
<p>Vuexæ•°æ®æµçš„é¡ºåºæ˜¯:Viewè°ƒç”¨store.commitæäº¤å¯¹åº”çš„è¯·æ±‚åˆ°Storeä¸­å¯¹åº”çš„mutationå‡½æ•° â€“ storeæ”¹å˜(vueæ£€æµ‹åˆ°æ•°æ®å˜åŒ–è‡ªåŠ¨æ¸²æŸ“)</p>
<p>å…±åŒæ€æƒ³</p>
<ul>
<li>å•ä¸€çš„æ•°æ®æº</li>
<li>å˜åŒ–å¯ä»¥é¢„æµ‹</li>
<li>æœ¬è´¨ä¸Š:Reduxå’ŒVuexéƒ½æ˜¯å¯¹MVVMæ€æƒ³çš„æœåŠ¡ï¼Œå°†æ•°æ®ä»è§†å›¾ä¸­æŠ½ç¦»çš„ä¸€ç§æ–¹æ¡ˆ</li>
<li>å½¢å¼ä¸Š:Vuexå€Ÿé‰´äº†Reduxï¼Œå°†storeä½œä¸ºå…¨å±€çš„æ•°æ®ä¸­å¿ƒï¼Œè¿›è¡Œæ•°æ®ç®¡ç†</li>
</ul>
<hr>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Composition-APIçš„å‡ºç°å¸¦æ¥å“ªäº›æ–°çš„å¼€å‘ä½“éªŒï¼Œä¸ºå•¥éœ€è¦è¿™ä¸ªï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Composition-APIçš„å‡ºç°å¸¦æ¥å“ªäº›æ–°çš„å¼€å‘ä½“éªŒï¼Œä¸ºå•¥éœ€è¦è¿™ä¸ªï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Composition APIçš„å‡ºç°å¸¦æ¥å“ªäº›æ–°çš„å¼€å‘ä½“éªŒï¼Œä¸ºå•¥éœ€è¦è¿™ä¸ªï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Composition APIçš„å‡ºç°å¸¦æ¥å“ªäº›æ–°çš„å¼€å‘ä½“éªŒï¼Œä¸ºå•¥éœ€è¦è¿™ä¸ªï¼Ÿ</h3><p>1ï¼šåœ¨Compostion API ä¸­æ—¶æ ¹æ®é€»è¾‘ç›¸å…³ç»„ç»‡ä»£ç çš„ï¼Œæé«˜å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œç±»ä¼¼äºreactçš„hookå†™æ³•ã€‚</p>
<p>2ï¼šæ›´å¥½çš„é‡ç”¨é€»è¾‘ä»£ç ï¼Œåœ¨Options APIä¸­é€šè¿‡MIxinsé‡ç”¨é€»è¾‘ä»£ç ï¼Œå®¹æ˜“å‘ç”Ÿå‘½åå†²çªä¸”å…³ç³»ä¸æ¸…ã€‚</p>
<p>3ï¼šè§£å†³åœ¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°ç»å¸¸åŒ…å«ä¸ç›¸å…³çš„é€»è¾‘ï¼Œä½†åˆä¸å¾—ä¸æŠŠç›¸å…³é€»è¾‘åˆ†ç¦»åˆ°äº†å‡ ä¸ªä¸åŒæ–¹æ³•ä¸­çš„é—®é¢˜ï¼Œå¦‚åœ¨mountedä¸­è®¾ç½®å®šæ—¶å™¨ï¼Œä½†éœ€è¦åœ¨destroyedä¸­æ¥æ¸…é™¤å®šæ—¶å™¨ï¼Œå°†åŒä¸€åŠŸèƒ½çš„ä»£ç æ‹†åˆ†åˆ°ä¸åŒçš„ä½ç½®ï¼Œé€ æˆåæœŸä»£ç ç»´æŠ¤çš„å›°éš¾ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ä¸ºä»€ä¹ˆVuexçš„mutationä¸èƒ½åšå¼‚æ­¥æ“ä½œ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ä¸ºä»€ä¹ˆVuexçš„mutationä¸èƒ½åšå¼‚æ­¥æ“ä½œ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ä¸ºä»€ä¹ˆVuexçš„mutationä¸èƒ½åšå¼‚æ­¥æ“ä½œ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ä¸ºä»€ä¹ˆVuexçš„mutationä¸èƒ½åšå¼‚æ­¥æ“ä½œ</h3><p>Vuexä¸­æ‰€æœ‰çš„çŠ¶æ€æ›´æ–°çš„å”¯ä¸€é€”å¾„éƒ½æ˜¯mutationï¼Œå¼‚æ­¥æ“ä½œé€šè¿‡ Action æ¥æäº¤ mutationå®ç°ï¼Œè¿™æ ·ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ–ï¼Œä»è€Œè®©æˆ‘ä»¬èƒ½å¤Ÿå®ç°ä¸€äº›å·¥å…·å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°äº†è§£æˆ‘ä»¬çš„åº”ç”¨ã€‚æ¯ä¸ªmutationæ‰§è¡Œå®Œæˆåéƒ½ä¼šå¯¹åº”åˆ°ä¸€ä¸ªæ–°çš„çŠ¶æ€å˜æ›´ï¼Œè¿™æ ·devtoolså°±å¯ä»¥æ‰“ä¸ªå¿«ç…§å­˜ä¸‹æ¥ï¼Œå¦åˆ™æ— æ³•è¢«devtoolsæ‰€ç›‘æµ‹ã€‚å¦‚æœmutationæ”¯æŒå¼‚æ­¥æ“ä½œï¼Œå°±æ²¡æœ‰åŠæ³•çŸ¥é“çŠ¶æ€æ˜¯ä½•æ—¶æ›´æ–°çš„ï¼Œæ— æ³•å¾ˆå¥½çš„è¿›è¡ŒçŠ¶æ€çš„è¿½è¸ªï¼Œç»™è°ƒè¯•å¸¦æ¥å›°éš¾ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸è¯´æ˜ä¸€ä¸‹å°è£…vueç»„ä»¶çš„åŸåˆ™å’Œæ–¹æ³•"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸è¯´æ˜ä¸€ä¸‹å°è£…vueç»„ä»¶çš„åŸåˆ™å’Œæ–¹æ³•" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸è¯´æ˜ä¸€ä¸‹å°è£…vueç»„ä»¶çš„åŸåˆ™å’Œæ–¹æ³•"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸è¯´æ˜ä¸€ä¸‹å°è£…vueç»„ä»¶çš„åŸåˆ™å’Œæ–¹æ³•</h3><p>[å°è£…vueç»„ä»¶çš„åŸåˆ™å’ŒæŠ€å·§]: 	â€œ<a href="https://blog.csdn.net/leilei__66/article/details/119348108">https://blog.csdn.net/leilei__66/article/details/119348108</a> â€œ</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Object-definePropertyæœ‰ä»€ä¹ˆç¼ºç‚¹"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Object-definePropertyæœ‰ä»€ä¹ˆç¼ºç‚¹" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Object.definePropertyæœ‰ä»€ä¹ˆç¼ºç‚¹"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Object.definePropertyæœ‰ä»€ä¹ˆç¼ºç‚¹</h3><p>1ï¼šæ— æ³•ç›‘æ§åˆ°æ•°ç»„ä¸‹æ ‡çš„å˜åŒ–ï¼Œå¯¼è‡´é€šè¿‡æ•°ç»„ä¸‹æ ‡æ·»åŠ å…ƒç´ ï¼Œä¸èƒ½å®æ—¶å“åº”ï¼›</p>
<p>2ï¼šåªèƒ½åŠ«æŒå¯¹è±¡çš„å±æ€§ï¼Œä»è€Œéœ€è¦å¯¹æ¯ä¸ªå¯¹è±¡ï¼Œæ¯ä¸ªå±æ€§è¿›è¡Œéå†ï¼Œå¦‚æœï¼Œå±æ€§å€¼æ˜¯å¯¹è±¡ï¼Œè¿˜éœ€è¦æ·±åº¦éå†ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸axiosæ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆä½¿ç”¨ï¼Ÿæè¿°ä½¿ç”¨å®ƒå®ç°ç™»å½•åŠŸèƒ½çš„æµç¨‹"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸axiosæ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆä½¿ç”¨ï¼Ÿæè¿°ä½¿ç”¨å®ƒå®ç°ç™»å½•åŠŸèƒ½çš„æµç¨‹" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸axiosæ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆä½¿ç”¨ï¼Ÿæè¿°ä½¿ç”¨å®ƒå®ç°ç™»å½•åŠŸèƒ½çš„æµç¨‹?"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸axiosæ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆä½¿ç”¨ï¼Ÿæè¿°ä½¿ç”¨å®ƒå®ç°ç™»å½•åŠŸèƒ½çš„æµç¨‹?</h3><p>axios æ˜¯è¯·æ±‚åå°èµ„æºçš„æ¨¡å—ã€‚ </p>
<p>é€šè¿‡npm install axios -Sæ¥å®‰è£…ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬éœ€è¦å°è£…æ‹¦æˆªå™¨ã€‚</p>
<p>åœ¨å®ç°ç™»å½•çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬ä¸€èˆ¬åœ¨è¯·æ±‚æ‹¦æˆªå™¨ä¸­æ¥åŠ å…¥tokenï¼Œåœ¨å“åº”è¯·æ±‚å™¨ä¸­é€šè¿‡åˆ¤æ–­åç«¯è¿”å›çš„çŠ¶æ€ç æ¥å¯¹è¿”å›çš„æ•°æ®è¿›è¡Œä¸åŒçš„å¤„ç†ã€‚å¦‚æœå‘é€çš„æ˜¯è·¨åŸŸè¯·æ±‚ï¼Œéœ€åœ¨é…ç½®æ–‡ä»¶ä¸­ config&#x2F;index.js è¿›è¡Œä»£ç†é…ç½®ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-computedå’Œwatcherçš„åŒºåˆ«ï¼Ÿwatchå®ç°åŸç†ï¼Ÿwatchæœ‰å‡ ç§å†™æ³•ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-computedå’Œwatcherçš„åŒºåˆ«ï¼Ÿwatchå®ç°åŸç†ï¼Ÿwatchæœ‰å‡ ç§å†™æ³•ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ computedå’Œwatcherçš„åŒºåˆ«ï¼Ÿwatchå®ç°åŸç†ï¼Ÿwatchæœ‰å‡ ç§å†™æ³•ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ computedå’Œwatcherçš„åŒºåˆ«ï¼Ÿwatchå®ç°åŸç†ï¼Ÿwatchæœ‰å‡ ç§å†™æ³•ï¼Ÿ</h3><p>è®¡ç®—å±æ€§computed :</p>
<ol>
<li>æ”¯æŒç¼“å­˜ï¼Œåªæœ‰ä¾èµ–æ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œæ‰ä¼šé‡æ–°è¿›è¡Œè®¡ç®—</li>
<li>ä¸æ”¯æŒå¼‚æ­¥ï¼Œå½“computedå†…æœ‰å¼‚æ­¥æ“ä½œæ—¶æ— æ•ˆï¼Œæ— æ³•ç›‘å¬æ•°æ®çš„å˜åŒ–</li>
<li>computed å±æ€§å€¼ä¼šé»˜è®¤èµ°ç¼“å­˜ï¼Œè®¡ç®—å±æ€§æ˜¯åŸºäºå®ƒä»¬çš„å“åº”å¼ä¾èµ–è¿›è¡Œç¼“å­˜çš„ï¼Œä¹Ÿå°±æ˜¯åŸºäºdataä¸­å£°æ˜è¿‡æˆ–è€…çˆ¶ç»„ä»¶ä¼ é€’çš„propsä¸­çš„æ•°æ®é€šè¿‡è®¡ç®—å¾—åˆ°çš„å€¼</li>
<li>å¦‚æœä¸€ä¸ªå±æ€§æ˜¯ç”±å…¶ä»–å±æ€§è®¡ç®—è€Œæ¥çš„ï¼Œè¿™ä¸ªå±æ€§ä¾èµ–å…¶ä»–å±æ€§ï¼Œæ˜¯ä¸€ä¸ªå¤šå¯¹ä¸€æˆ–è€…ä¸€å¯¹ä¸€ï¼Œä¸€èˆ¬ç”¨computed</li>
<li>å¦‚æœcomputedå±æ€§å±æ€§å€¼æ˜¯å‡½æ•°ï¼Œé‚£ä¹ˆé»˜è®¤ä¼šèµ°getæ–¹æ³•ï¼›å‡½æ•°çš„è¿”å›å€¼å°±æ˜¯å±æ€§çš„å±æ€§å€¼ï¼›åœ¨computedä¸­çš„ï¼Œå±æ€§éƒ½æœ‰ä¸€ä¸ªgetå’Œä¸€ä¸ªsetæ–¹æ³•ï¼Œå½“æ•°æ®å˜åŒ–æ—¶ï¼Œè°ƒç”¨setæ–¹æ³•ã€‚</li>
</ol>
<p>ä¾¦å¬å±æ€§watchï¼š </p>
<ol>
<li>ä¸æ”¯æŒç¼“å­˜ï¼Œæ•°æ®å˜ï¼Œç›´æ¥ä¼šè§¦å‘ç›¸åº”çš„æ“ä½œï¼›</li>
<li>watchæ”¯æŒå¼‚æ­¥ï¼›</li>
<li>ç›‘å¬çš„å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æœ€æ–°çš„å€¼ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¾“å…¥ä¹‹å‰çš„å€¼ï¼›</li>
<li>å½“ä¸€ä¸ªå±æ€§å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéœ€è¦æ‰§è¡Œå¯¹åº”çš„æ“ä½œï¼›ä¸€å¯¹å¤šï¼›</li>
<li>ç›‘å¬æ•°æ®å¿…é¡»æ˜¯dataä¸­å£°æ˜è¿‡æˆ–è€…çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„propsä¸­çš„æ•°æ®ï¼Œå½“æ•°æ®å˜åŒ–æ—¶ï¼Œè§¦å‘å…¶ä»–æ“ä½œï¼Œå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œ</li>
</ol>
<p>immediateï¼šç»„ä»¶åŠ è½½ç«‹å³è§¦å‘å›è°ƒå‡½æ•°æ‰§è¡Œï¼Œ</p>
<p>deep: æ·±åº¦ç›‘å¬ï¼Œä¸ºäº†å‘ç°å¯¹è±¡å†…éƒ¨å€¼çš„å˜åŒ–ï¼Œå¤æ‚ç±»å‹çš„æ•°æ®æ—¶ä½¿ç”¨ï¼Œä¾‹å¦‚æ•°ç»„ä¸­çš„å¯¹è±¡å†…å®¹çš„æ”¹å˜ï¼Œæ³¨æ„ç›‘å¬æ•°ç»„çš„å˜åŠ¨ä¸éœ€è¦è¿™ä¹ˆåšã€‚</p>
<p>æ³¨æ„ï¼šdeepæ— æ³•ç›‘å¬åˆ°æ•°ç»„çš„å˜åŠ¨å’Œå¯¹è±¡çš„æ–°å¢ï¼Œå‚è€ƒvueæ•°ç»„å˜å¼‚,åªæœ‰ä»¥å“åº”å¼çš„æ–¹å¼è§¦å‘æ‰ä¼šè¢«ç›‘å¬åˆ°ã€‚</p>
<p>watchå·¥ä½œåŸç†:</p>
<p>watchåœ¨ä¸€å¼€å§‹åˆå§‹åŒ–çš„æ—¶å€™ï¼Œä¼šè¯»å–ä¸€éç›‘å¬çš„æ•°æ®çš„å€¼ï¼Œæ­¤æ—¶é‚£ä¸ªæ•°æ®å°±æ”¶é›†åˆ°watchçš„watcheräº†ï¼Œç„¶åä½ ç»™watchè®¾ç½®çš„handlerï¼Œwatch ä¼šæ”¾å…¥watcherçš„æ›´æ–°å‡½æ•°ä¸­ï¼Œå½“æ•°æ®æ”¹å˜æ—¶ï¼Œé€šçŸ¥watchçš„watcherè¿›è¡Œæ›´æ–°ï¼Œäºæ˜¯ä½ è®¾ç½®çš„handlerå°±è¢«è°ƒç”¨äº†ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸å¦‚æœä½ æ˜¯leaderï¼Œåšç®¡ç†ç³»ç»Ÿé¡¹ç›®Vueå’ŒReactæ€ä¹ˆé€‰æ‹©ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸å¦‚æœä½ æ˜¯leaderï¼Œåšç®¡ç†ç³»ç»Ÿé¡¹ç›®Vueå’ŒReactæ€ä¹ˆé€‰æ‹©ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸å¦‚æœä½ æ˜¯leaderï¼Œåšç®¡ç†ç³»ç»Ÿé¡¹ç›®Vueå’ŒReactæ€ä¹ˆé€‰æ‹©ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸å¦‚æœä½ æ˜¯leaderï¼Œåšç®¡ç†ç³»ç»Ÿé¡¹ç›®Vueå’ŒReactæ€ä¹ˆé€‰æ‹©ï¼Ÿ</h3><p>è¯„ä¼°é¡¹ç›®æˆå‘˜çš„æ°´å¹³ï¼Œå¦‚æœæˆå‘˜jsåŸºç¡€è¾ƒå¥½ã€ç¼–ç èƒ½åŠ›è¾ƒå¼ºåˆ™é€‰æ‹©Reactï¼Œå¦åˆ™Vueã€‚</p>
<p>è¯„ä¼°ç³»ç»Ÿçš„å¤§å°ï¼Œå¦‚æœæƒ³æ„å»ºç”Ÿæ€ç³»ç»Ÿï¼Œåˆ™é€‰æ‹©Reactï¼Œå¦‚æœè¦æ±‚è€Œå¿«ï¼Œç®€å•å’Œâ€œèƒ½ç”¨å°±è¡Œâ€,åˆ™é€‰æ‹©Vueã€‚</p>
<p>è¯„ä¼°ç³»ç»Ÿè¿è¡Œç¯å¢ƒï¼Œå¦‚æœä½ æƒ³è¦ä¸€ä¸ªåŒæ—¶é€‚ç”¨äºWebç«¯å’ŒåŸç”ŸAPPçš„æ¡†æ¶ï¼Œè¯·é€‰æ‹©React(RN)ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vueå’ŒReactåŒºåˆ«"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vueå’ŒReactåŒºåˆ«" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vueå’ŒReactåŒºåˆ«"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vueå’ŒReactåŒºåˆ«</h3><p>1ï¼šVue ä½¿ç”¨çš„æ˜¯ web å¼€å‘è€…æ›´ç†Ÿæ‚‰çš„æ¨¡æ¿ä¸ç‰¹æ€§ï¼ŒVueçš„APIè·Ÿä¼ ç»Ÿwebå¼€å‘è€…ç†Ÿæ‚‰çš„æ¨¡æ¿å¥‘åˆåº¦æ›´é«˜ï¼Œæ¯”å¦‚Vueçš„å•æ–‡ä»¶ç»„ä»¶æ˜¯ä»¥æ¨¡æ¿+JavaScript+CSSçš„ç»„åˆæ¨¡å¼å‘ˆç°ï¼Œå®ƒè·Ÿwebç°æœ‰çš„HTMLã€JavaScriptã€CSSèƒ½å¤Ÿæ›´å¥½åœ°é…åˆã€‚React çš„ç‰¹è‰²åœ¨äºå‡½æ•°å¼ç¼–ç¨‹çš„ç†å¿µå’Œä¸°å¯Œçš„æŠ€æœ¯é€‰å‹ï¼ŒVueæ›´åŠ æ³¨é‡webå¼€å‘è€…çš„ä¹ æƒ¯ã€‚</p>
<p>2ï¼šVueè·ŸReactçš„æœ€å¤§åŒºåˆ«åœ¨äºæ•°æ®çš„reactivityï¼Œå°±æ˜¯ååº”å¼ç³»ç»Ÿä¸Šã€‚Vueæä¾›ååº”å¼çš„æ•°æ®ï¼Œå½“æ•°æ®æ”¹åŠ¨æ—¶ï¼Œç•Œé¢å°±ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œè€ŒReacté‡Œé¢éœ€è¦è°ƒç”¨æ–¹æ³•SetStateã€‚æˆ‘æŠŠä¸¤è€…åˆ†åˆ«ç§°ä¸ºPush-basedå’ŒPull-based</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vueè·¯ç”±å®ç°çš„åº•å±‚åŸç†"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vueè·¯ç”±å®ç°çš„åº•å±‚åŸç†" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vueè·¯ç”±å®ç°çš„åº•å±‚åŸç†"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vueè·¯ç”±å®ç°çš„åº•å±‚åŸç†</h3><p>åœ¨Vueä¸­åˆ©ç”¨æ•°æ®åŠ«æŒdefinePropertyåœ¨åŸå‹prototypeä¸Šåˆå§‹åŒ–äº†ä¸€äº›getter,åˆ†åˆ«æ˜¯routerä»£è¡¨å½“å‰Routerçš„å®ä¾‹ ã€route ä»£è¡¨å½“å‰Routerçš„ä¿¡æ¯ã€‚åœ¨installä¸­ä¹Ÿå…¨å±€æ³¨å†Œäº†router-view,router-link,å…¶ä¸­çš„Vue.util.defineReactive, è¿™æ˜¯Vueé‡Œé¢è§‚å¯Ÿè€…åŠ«æŒæ•°æ®çš„æ–¹æ³•ï¼ŒåŠ«æŒ<em>route</em>ï¼Œå½“routeè§¦å‘setteræ–¹æ³•çš„æ—¶å€™ï¼Œåˆ™ä¼šé€šçŸ¥åˆ°ä¾èµ–çš„ç»„ä»¶ã€‚</p>
<p>æ¥ä¸‹æ¥åœ¨initä¸­ï¼Œä¼šæŒ‚è½½åˆ¤æ–­æ˜¯è·¯ç”±çš„æ¨¡å¼ï¼Œæ˜¯historyæˆ–è€…æ˜¯hash,ç‚¹å‡»è¡Œä¸ºæŒ‰é’®ï¼Œè°ƒç”¨hashchangeæˆ– è€…popstateçš„åŒæ—¶æ›´*route,*routeçš„æ›´æ–°ä¼šè§¦å‘route-viewçš„é‡æ–°æ¸²æŸ“ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸å¦‚ä½•å°è£…ä¸€ä¸ªé€šç”¨ç»„ä»¶"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸å¦‚ä½•å°è£…ä¸€ä¸ªé€šç”¨ç»„ä»¶" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸å¦‚ä½•å°è£…ä¸€ä¸ªé€šç”¨ç»„ä»¶"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸å¦‚ä½•å°è£…ä¸€ä¸ªé€šç”¨ç»„ä»¶</h3><p>é€šç”¨ç»„ä»¶çš„å°è£…å°±æ˜¯å¯¹å¯å¤ç”¨ç»„ä»¶çš„è§£è€¦å’Œæ ·å¼å¤ç”¨ï¼Œä¸ºäº†è§£è€¦ä¸€èˆ¬æ•°æ®éƒ½æ˜¯é€šè¿‡çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥ï¼Œåœ¨å­ç»„ä»¶ä¸­è¿›è¡Œæ•°æ®å¤„ç†ï¼Œå¯¹äºä¸€äº›è¾ƒä¸ºå¤æ‚çš„æ•°æ®å¯èƒ½è¿˜éœ€è¦åšæ•°æ®éªŒè¯ï¼Œä¸ºäº†é¿å…é«˜è€¦åˆï¼Œé€»è¾‘æœ€å¥½æ”¾åœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œé€šè¿‡è‡ªå®šä¹‰äº‹ä»¶å°†æ•°æ®å›ä¼ ï¼Œå­ç»„ä»¶åªæ˜¯ä¸€ä¸ªæ‰¿è½½ä½“ï¼Œè¿™æ ·æ—¢é™ä½è€¦åˆï¼Œä¿è¯å­ç»„ä»¶ä¸­æ•°æ®å’Œé€»è¾‘ä¸ä¼šæ··ä¹±ã€‚å¦‚æœåŒä¸€ç»„ä»¶éœ€è¦é€‚åº”ä¸åŒéœ€æ±‚æ—¶ï¼Œæˆ‘ä»¬éœ€è¦é…åˆslotæ¥ä½¿ç”¨ï¼Œå¯ä»¥é€šè¿‡å…·åæ’æ§½çµæ´»åœ°è§£å†³äº†ä¸åŒåœºæ™¯åŒä¸€ç»„ä»¶ä¸åŒé…ç½®çš„é—®é¢˜ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vue-proxyçš„åŸç†"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vue-proxyçš„åŸç†" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vue proxyçš„åŸç†"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vue proxyçš„åŸç†</h3><p>ä¸»è¦é€šè¿‡Proxyå¯¹å¯¹è±¡è¿›è¡Œç»‘å®šç›‘å¬å¤„ç†ï¼Œé€šè¿‡new Mapå¯¹å¯¹è±¡çš„å±æ€§æ“ä½œè¿›è¡Œå¤„ç†ï¼Œå°†è¦æ‰§è¡Œçš„å‡½æ•°åŒ¹é…åˆ°å­˜åˆ°å¯¹åº”çš„propä¸Šé¢ï¼Œé€šè¿‡æ¯æ¬¡çš„è®¿é—®è§¦å‘getæ–¹æ³•ï¼Œè¿›è¡Œå­˜æ–¹æ³•çš„æ“ä½œï¼Œé€šè¿‡ä¿®æ”¹è§¦å‘setçš„æ–¹æ³•ï¼Œæ­¤æ—¶æ‰§è¡Œå›è°ƒç›‘å¬çš„å‡½æ•°ï¼Œè¿™æ ·è¾¾åˆ°ä¿®æ”¹æ•°æ®å’Œè§†å›¾çš„</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-definePropertyåœ¨æ•°æ®åŠ«æŒåæ˜¯å¦‚ä½•é€šçŸ¥æ•°æ®çš„æ›´æ–°å’Œè§†å›¾çš„æ›´æ–°çš„"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-definePropertyåœ¨æ•°æ®åŠ«æŒåæ˜¯å¦‚ä½•é€šçŸ¥æ•°æ®çš„æ›´æ–°å’Œè§†å›¾çš„æ›´æ–°çš„" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ definePropertyåœ¨æ•°æ®åŠ«æŒåæ˜¯å¦‚ä½•é€šçŸ¥æ•°æ®çš„æ›´æ–°å’Œè§†å›¾çš„æ›´æ–°çš„"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ definePropertyåœ¨æ•°æ®åŠ«æŒåæ˜¯å¦‚ä½•é€šçŸ¥æ•°æ®çš„æ›´æ–°å’Œè§†å›¾çš„æ›´æ–°çš„</h3><p>vueçš„åŒå‘ç»‘å®šæ˜¯ç”±æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒè€…ï¼è®¢é˜…è€…æ¨¡å¼å®ç°çš„ï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯æ•°æ®åŠ«æŒï¼Ÿvueæ˜¯å¦‚ä½•è¿›è¡Œæ•°æ®åŠ«æŒçš„ï¼Ÿè¯´ç™½äº†å°±æ˜¯é€šè¿‡Object.defineProperty()æ¥åŠ«æŒå¯¹è±¡å±æ€§çš„setterå’Œgetteræ“ä½œï¼Œåœ¨æ•°æ®å˜åŠ¨æ—¶åšä½ æƒ³è¦åšçš„äº‹æƒ…</p>
<p>æˆ‘ä»¬å·²ç»çŸ¥é“å®ç°æ•°æ®çš„åŒå‘ç»‘å®šï¼Œé¦–å…ˆè¦å¯¹æ•°æ®è¿›è¡ŒåŠ«æŒç›‘å¬ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸ªç›‘å¬å™¨Observerï¼Œç”¨æ¥ç›‘å¬æ‰€æœ‰å±æ€§ã€‚å¦‚æœå±æ€§å‘ç”Ÿå˜åŒ–äº†ï¼Œå°±éœ€è¦å‘Šè¯‰è®¢é˜…è€…Watcherçœ‹æ˜¯å¦éœ€è¦æ›´æ–°ã€‚å› ä¸ºè®¢é˜…è€…æ˜¯æœ‰å¾ˆå¤šä¸ªï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æœ‰ä¸€ä¸ªæ¶ˆæ¯è®¢é˜…å™¨Depæ¥ä¸“é—¨æ”¶é›†è¿™äº›è®¢é˜…è€…ï¼Œç„¶ååœ¨ç›‘å¬å™¨Observerå’Œè®¢é˜…è€…Watcherä¹‹é—´è¿›è¡Œç»Ÿä¸€ç®¡ç†çš„ã€‚æ¥ç€ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æœ‰ä¸€ä¸ªæŒ‡ä»¤è§£æå™¨Compileï¼Œå¯¹æ¯ä¸ªèŠ‚ç‚¹å…ƒç´ è¿›è¡Œæ‰«æå’Œè§£æï¼Œå°†ç›¸å…³æŒ‡ä»¤ï¼ˆå¦‚v-modelï¼Œv-onï¼‰å¯¹åº”åˆå§‹åŒ–æˆä¸€ä¸ªè®¢é˜…è€…Watcherï¼Œå¹¶æ›¿æ¢æ¨¡æ¿æ•°æ®æˆ–è€…ç»‘å®šç›¸åº”çš„å‡½æ•°ï¼Œæ­¤æ—¶å½“è®¢é˜…è€…Watcheræ¥æ”¶åˆ°ç›¸åº”å±æ€§çš„å˜åŒ–ï¼Œå°±ä¼šæ‰§è¡Œå¯¹åº”çš„æ›´æ–°å‡½æ•°ï¼Œä»è€Œæ›´æ–°è§†å›¾ã€‚å› æ­¤æ¥ä¸‹å»æˆ‘ä»¬æ‰§è¡Œä»¥ä¸‹3ä¸ªæ­¥éª¤ï¼Œå®ç°æ•°æ®çš„åŒå‘ç»‘å®šï¼š</p>
<p>1.å®ç°ä¸€ä¸ªç›‘å¬å™¨Observerï¼Œç”¨æ¥åŠ«æŒå¹¶ç›‘å¬æ‰€æœ‰å±æ€§ï¼Œå¦‚æœæœ‰å˜åŠ¨çš„ï¼Œå°±é€šçŸ¥è®¢é˜…è€…ã€‚</p>
<p>2.å®ç°ä¸€ä¸ªè®¢é˜…è€…Watcherï¼Œæ¯ä¸€ä¸ªWatcheréƒ½ç»‘å®šä¸€ä¸ªæ›´æ–°å‡½æ•°ï¼Œwatcherå¯ä»¥æ”¶åˆ°å±æ€§çš„å˜åŒ–é€šçŸ¥å¹¶æ‰§è¡Œç›¸åº”çš„å‡½æ•°ï¼Œä»è€Œæ›´æ–°è§†å›¾ã€‚</p>
<p>3.å®ç°ä¸€ä¸ªè§£æå™¨Compileï¼Œå¯ä»¥æ‰«æå’Œè§£ææ¯ä¸ªèŠ‚ç‚¹çš„ç›¸å…³æŒ‡ä»¤ï¼ˆv-modelï¼Œv-onç­‰æŒ‡ä»¤ï¼‰ï¼Œå¦‚æœèŠ‚ç‚¹å­˜åœ¨v-modelï¼Œv-onç­‰æŒ‡ä»¤ï¼Œåˆ™è§£æå™¨Compileåˆå§‹åŒ–è¿™ç±»èŠ‚ç‚¹çš„æ¨¡æ¿æ•°æ®ï¼Œä½¿ä¹‹å¯ä»¥æ˜¾ç¤ºåœ¨è§†å›¾ä¸Šï¼Œç„¶ååˆå§‹åŒ–ç›¸åº”çš„è®¢é˜…è€…ï¼ˆWatcherï¼‰ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vueæ˜¯æ€ä¹ˆåšè™šæ‹ŸDOMçš„diffçš„"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vueæ˜¯æ€ä¹ˆåšè™šæ‹ŸDOMçš„diffçš„" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vueæ˜¯æ€ä¹ˆåšè™šæ‹ŸDOMçš„diffçš„"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vueæ˜¯æ€ä¹ˆåšè™šæ‹ŸDOMçš„diffçš„</h3><p>[Vueè™šæ‹ŸDOMä»¥åŠdiffç®—æ³•]: 	â€œ<a href="https://blog.csdn.net/wytraining/article/details/110831015">https://blog.csdn.net/wytraining/article/details/110831015</a> â€œ</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vuexå¦‚ä½•å®ç°è·¨ç»„ä»·çš„æ•°æ®ç›‘å¬"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vuexå¦‚ä½•å®ç°è·¨ç»„ä»·çš„æ•°æ®ç›‘å¬" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vuexå¦‚ä½•å®ç°è·¨ç»„ä»·çš„æ•°æ®ç›‘å¬"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vuexå¦‚ä½•å®ç°è·¨ç»„ä»·çš„æ•°æ®ç›‘å¬</h3><p>[Vuexè·¨ç»„ä»·çš„æ•°æ®ç›‘å¬]: 	â€œ<a href="https://blog.csdn.net/Flowering_Vivian/article/details/108868907">https://blog.csdn.net/Flowering_Vivian/article/details/108868907</a> â€œ</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸axiosè°å°è£…çš„ï¼Œæ€ä¹ˆå°è£…çš„"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸axiosè°å°è£…çš„ï¼Œæ€ä¹ˆå°è£…çš„" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸axiosè°å°è£…çš„ï¼Œæ€ä¹ˆå°è£…çš„"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸axiosè°å°è£…çš„ï¼Œæ€ä¹ˆå°è£…çš„</h3><pre><code class="javascript">// ä½¿ç”¨axiosç”¨äºå¯¹æ•°æ®çš„è¯·æ±‚
import axios from &#39;axios&#39;
// åˆ›å»ºaxioså®ä¾‹
const instance = axios.create(&#123;
 baseURL: baseURL + version,
 timeout: 5000
&#125;)
// åˆ›å»ºè¯·æ±‚çš„æ‹¦æˆªå™¨
instance.interceptors.request.use(config =&gt; &#123;
 config.headers[&#39;Authorization&#39;] = localStorage.getItem(&#39;token&#39;)
 return config
&#125;, error =&gt; &#123;
 return Promise.reject(error)
&#125;)
// åˆ›å»ºå“åº”çš„æ‹¦æˆªå™¨
instance.interceptors.response.use(response =&gt; &#123;
 let res = null
 // å¯¹ç›¸åº”çš„æ•°æ®è¿›è¡Œè¿‡æ»¤
 if (response.status === 200) &#123;
 if (response.data &amp;&amp; response.data.err === 0) &#123;
 res = response.data.data
 &#125; else if (response.data.err === -1) &#123;
 return alert(&#39;tokenæ— æ•ˆ&#39;)
 &#125;
 &#125; else &#123;
 return alert(&#39;è¯·æ±‚å¤±è´¥&#39;)
 &#125;
 return res
&#125;, error =&gt; &#123;
 return Promise.reject(error)
&#125;)
export default instance
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸è™šæ‹Ÿdomä¸ºä»€ä¹ˆä¼šæé«˜æ€§èƒ½ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸è™šæ‹Ÿdomä¸ºä»€ä¹ˆä¼šæé«˜æ€§èƒ½ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸è™šæ‹Ÿdomä¸ºä»€ä¹ˆä¼šæé«˜æ€§èƒ½ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸è™šæ‹Ÿdomä¸ºä»€ä¹ˆä¼šæé«˜æ€§èƒ½ï¼Ÿ</h3><p>1ã€è™šæ‹Ÿ dom ç›¸å½“äºåœ¨ js å’ŒçœŸå® dom ä¸­é—´åŠ äº†ä¸€ä¸ªç¼“å­˜ï¼Œåˆ©ç”¨ dom çš„ diff ç®—æ³•é¿å…äº†æ²¡æœ‰å¿…è¦çš„ dom æ“ä½œï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚<br>2ã€ç”¨ JavaScript å¯¹è±¡ç»“æ„è¡¨ç¤º DOM æ ‘çš„ç»“æ„ï¼›ç„¶åç”¨è¿™ä¸ªæ ‘æ„å»ºä¸€ä¸ªçœŸæ­£çš„ DOM æ ‘ï¼Œæ’åˆ°æ–‡æ¡£å½“ä¸­ï¼Œå½“çŠ¶æ€å˜æ›´çš„æ—¶å€™ï¼Œé‡æ–°æ„é€ ä¸€æ£µæ–°çš„å¯¹è±¡æ ‘ã€‚ç„¶åç”¨æ–°çš„æ ‘å’Œæ—§çš„æ ‘è¿›è¡Œæ¯”è¾ƒï¼Œè®°å½•ä¸¤æ£µæ ‘å·®å¼‚æŠŠ 2 æ‰€è®°å½•çš„å·®å¼‚åº”ç”¨åˆ°æ­¥éª¤ 1 æ‰€æ„å»ºçš„çœŸæ­£çš„ DOM æ ‘ä¸Šï¼Œè§†å›¾å°±æ›´æ–°äº†ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vueçš„computedçš„åŸç†"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vueçš„computedçš„åŸç†" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vueçš„computedçš„åŸç†"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vueçš„computedçš„åŸç†</h3><h4 id="1-computedå¤§è‡´æµç¨‹"><a href="#1-computedå¤§è‡´æµç¨‹" class="headerlink" title="1.computedå¤§è‡´æµç¨‹"></a>1.computedå¤§è‡´æµç¨‹</h4><p>computedæ˜¯vueä¸­çš„è®¡ç®—å±æ€§ï¼Œåœ¨ä¾èµ–çš„å€¼å‘ç”Ÿå˜åŒ–çš„æ—¶å€™è¿›è¡Œé‡æ–°è®¡ç®—ï¼Œå¦åˆ™ä½¿ç”¨ç¼“å­˜ã€‚</p>
<p>å‰é¢è¯´åˆ°computedåªæœ‰åœ¨ä¾èµ–å‘ç”Ÿå˜åŒ–æ‰ä¼šé‡æ–°è®¡ç®—ï¼Œé‚£ä¹ˆå¦‚ä½•å¾—çŸ¥computedçš„å€¼å‘ç”Ÿäº†å˜åŒ–å‘¢</p>
<p>è¿™ä¸»è¦æ˜¯Watcherä¸­çš„dirtyå±æ€§ï¼Œdirtyå±æ€§ä¸ºtrueæ—¶ï¼Œè¯´æ˜computedä¸­çš„å€¼éœ€è¦é‡æ–°è®¡ç®—ï¼Œdirtyä¸ºfalseæ—¶ï¼Œåˆ™è¯´æ˜ä¾èµ–æ²¡æœ‰å˜åŒ–ï¼Œä¸éœ€è¦é‡æ–°è®¡ç®—</p>
<p>å½“è®¡ç®—å±æ€§çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè®¡ç®—å±æ€§çš„watcherå’Œç»„ä»¶çš„watcheréƒ½ä¼šå¾—åˆ°é€šçŸ¥ã€‚</p>
<p>è®¡ç®—å±æ€§çš„watcherä¼šå°†dirtyç½®ä¸ºtrue,ç»„ä»¶çš„Watcherå¾—åˆ°é€šçŸ¥ï¼ŒåŒæ ·å°†dirtyå±æ€§ç½®ä¸ºfalse,é‡æ–°è®¡ç®—å€¼ï¼Œç”¨äºæœ¬æ¬¡æ¸²æŸ“ã€‚</p>
<p>ç®€å•æ¥è¯´,computedå°±æ˜¯å®šä¹‰åœ¨vmä¸Šçš„ä¸€ä¸ªgetterå±æ€§ï¼Œè¿™ä¸ªgetterå±æ€§è¢«è§¦å‘æ—¶ä¼šåšä¸¤ä»¶äº‹</p>
<ol>
<li>è®¡ç®—å½“å‰å±æ€§çš„å€¼ï¼Œæ­¤æ—¶ä¼šä½¿ç”¨Watcherå»è§‚å¯Ÿè®¡ç®—å±æ€§ä¸­ç”¨åˆ°çš„æ‰€æœ‰å…¶ä»–æ•°æ®çš„å˜åŒ–ã€‚åŒæ—¶å°†è®¡ç®—å±æ€§çš„Watcherçš„dirtyå±æ€§è®¾ç½®ä¸ºfalse.</li>
</ol>
<p>2.å½“è®¡ç®—å±æ€§ä¸­ç”¨åˆ°çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶,å°†å¾—åˆ°é€šçŸ¥ä»è€Œè¿›è¡Œé‡æ–°æ¸²æŸ“</p>
<p>Watcherä¸­çš„dependå’Œevaluateæ–¹æ³•æ˜¯ä¸“é—¨ç”¨äºå®ç°è®¡ç®—å±æ€§çš„ä¸¤ä¸ªAPI</p>
<pre><code class="javascript">export default class Watcher &#123;
     constructor(vm, expOrFn, cb, options) &#123;
         if(options) &#123;
             this.lazy = !!options.lazy;
         &#125;  else &#123;
             this.lazy = false;
         &#125;
         this.dirty = this.lazy;
         this.value = this.lazy ? undefined : this.get()
     &#125;
     evaluate() &#123;
        this.value = this.get()
        this.dirty = false; 
    &#125;
    depend() &#123;
        let i = this.deps.length
        while(i--) &#123;
            this.deps[i].depend()
        &#125;
    &#125;
&#125;
</code></pre>
<p>æ‰§è¡Œdependæ–¹æ³•å¯ä»¥å°†ç»„ä»¶ä¸­çš„watcherå®ä¾‹æ·»åŠ åˆ°depå®ä¾‹çš„ä¾èµ–åˆ—è¡¨ä¸­ã€‚æ¢å¥è¯è¯´,this.depsæ˜¯è®¡ç®—å±æ€§ä¸­ç”¨åˆ°çš„æ‰€æœ‰çŠ¶æ€çš„depå®ä¾‹,è€Œä¾æ¬¡æ‰§è¡Œäº†depå®ä¾‹çš„dependæ–¹æ³•å°±æ˜¯å°†ç»„ä»¶çš„watcherä¾æ¬¡åŠ å…¥åˆ°è¿™äº›depå®ä¾‹çš„ä¾èµ–åˆ—è¡¨ã€‚è¿™å°±å®ç°äº†è®©ç»„ä»¶çš„watcherè§‚å¯Ÿè®¡ç®—å±æ€§ä¸­ç”¨åˆ°çš„æ‰€æœ‰çš„çŠ¶æ€çš„å˜åŒ–ã€‚</p>
<h4 id="2-Computedé€»è¾‘å˜åŒ–"><a href="#2-Computedé€»è¾‘å˜åŒ–" class="headerlink" title="2.Computedé€»è¾‘å˜åŒ–"></a>2.Computedé€»è¾‘å˜åŒ–</h4><p>computedåœ¨vue2.5.2ä¸­çš„å®ç°å‘ç”Ÿäº†ä¸€äº›å˜åŒ–,å› ä¸ºä¹‹å‰çš„computedçš„è®¡ç®—å­˜åœ¨ä¸€äº›é€»è¾‘ä¸Šçš„æ¼æ´,å› ä¸ºåªè¦ä¾èµ–çš„å€¼å‘ç”Ÿäº†å˜åŒ–,vueå°±è®¤ä¸ºå€¼å‘ç”Ÿäº†å˜åŒ–ï¼Œç»„ä»¶ä¼šé‡æ–°èµ°ä¸€éæ¸²æŸ“çš„æµç¨‹ï¼Œä½†å®é™…ä¸ŠUIä¸ä¼šç”±å˜åŒ–ï¼Œæµªè´¹äº†ä¸€äº›æ€§èƒ½ã€‚</p>
<p>æ”¹åŠ¨ä¹‹åçš„é€»è¾‘ï¼š</p>
<p>ç»„ä»¶çš„watcherä¸å†ç›‘å¬è®¡ç®—å±æ€§çš„å˜åŒ–,è€Œæ˜¯è®©è®¡ç®—å±æ€§çš„watcherå¾—åˆ°é€šçŸ¥å,è®¡ç®—ä¸€æ¬¡è®¡ç®—å±æ€§çš„å€¼ï¼Œå¦‚æœå‘ç°è¿™ä¸€æ¬¡è®¡ç®—å‡ºæ¥çš„å€¼ä¸ä¸Šä¸€æ¬¡è®¡ç®—å‡ºæ¥çš„å€¼ä¸ä¸€æ ·ï¼Œå†å»ä¸»åŠ¨é€šçŸ¥ç»„ä»¶çš„watcherè¿›è¡Œé‡æ–°æ¸²æŸ“ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­å­ç»„ä»¶æ˜¯å¦å¯ä»¥ä¿®æ”¹propsï¼Œå¦‚æœæƒ³ä¿®æ”¹çš„è¯å¦‚ä½•ä¿®æ”¹"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­å­ç»„ä»¶æ˜¯å¦å¯ä»¥ä¿®æ”¹propsï¼Œå¦‚æœæƒ³ä¿®æ”¹çš„è¯å¦‚ä½•ä¿®æ”¹" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­å­ç»„ä»¶æ˜¯å¦å¯ä»¥ä¿®æ”¹propsï¼Œå¦‚æœæƒ³ä¿®æ”¹çš„è¯å¦‚ä½•ä¿®æ”¹"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vueä¸­å­ç»„ä»¶æ˜¯å¦å¯ä»¥ä¿®æ”¹propsï¼Œå¦‚æœæƒ³ä¿®æ”¹çš„è¯å¦‚ä½•ä¿®æ”¹</h3><p>vueæ˜¯å•å‘æ•°æ®æµï¼Œçˆ¶ç»„ä»¶é€šè¿‡propsä¼ å€¼ç»™å­ç»„ä»¶ï¼Œå¦‚æœåœ¨å­ç»„ä»¶ä¸­ä¿®æ”¹ä¼šæŠ¥é”™ï¼Œä¸€èˆ¬æ˜¯ä¸åœ¨å­ç»„ä»¶ä¸­ä¿®æ”¹propsçš„ï¼Œä½†å¶å°”æœ‰éœ€è¦åœ¨å­ç»„ä»¶æœ‰ä¿®æ”¹props,è¿™é‡Œä»‹ç»ä¸‰ç§å¯ä»¥ä¿®æ”¹å­ç»„ä»¶propsçš„æ–¹æ³•ã€‚</p>
<p>1.çˆ¶ç»„ä»¶ç”¨syncä¿®é¥°ï¼Œå­ç»„ä»¶é€šè¿‡<code>$emit(&#39;update:å‚æ•°&#39;ï¼Œå€¼)</code>å‡½æ•°å»ä¿®æ”¹ã€‚åœ¨é¡¹ç›®ä¸­é€šå¸¸å¯ä»¥ç”¨æ”¹æ–¹æ³•å…³é—­å¼¹æ¡†</p>
<pre><code class="vue">&lt;template&gt;
    //çˆ¶ç»„ä»¶
   &lt;CommonDialog
     :title=&quot;dialogTitle&quot;
     :showDialog.sync=&quot;isShowDialog&quot;
     :footer=&quot;true&quot;
     :width=&quot;dialogWidth&quot;
   &gt;
      ....
   &lt;/CommonDialog&gt;
&lt;/template&gt;
</code></pre>
<pre><code class="vue">//å­ç»„ä»¶ å¼¹æ¡†æ˜¯å¦æ‰“å¼€props: showDialog
&lt;el-dialog :title=&quot;title&quot; :visible=&quot;showDialog&quot; :show-close=&quot;false&quot; :width=&quot;width&quot;&gt;
      &lt;i class=&quot;el-dialog__headerbtn&quot; @click=&quot;closeModal&quot;&gt;
        &lt;span class=&quot;iconfont iconclose&quot;&gt;&lt;/span&gt;
      &lt;/i&gt;
      &lt;div class=&quot;dialog-body&quot;&gt;
          &lt;slot&gt;&lt;/slot&gt;
      &lt;/div&gt;
      &lt;div v-if=&quot;!footer&quot; slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;
        &lt;slot name=&quot;footer&quot;&gt;&lt;/slot&gt;
      &lt;/div&gt;
    &lt;/el-dialog&gt;
</code></pre>
<pre><code class="javascript">//å…³é—­å¼¹æ¡†------å­ç»„ä»¶ä¿®æ”¹props
 closeModal() &#123;
   this.$emit(&quot;update:showDialog&quot;, false);
 &#125;,
</code></pre>
<p>2.å¦‚æœpropsæ˜¯å¯¹è±¡ï¼Œåœ¨å­ç»„ä»¶ä¸­ä¿®æ”¹props</p>
<pre><code class="vue">&lt;template&gt;
  &lt;div class=&quot;csd-select&quot;&gt;
    &lt;el-popover
      placement=&quot;bottom&quot;
      :width=&quot;width&quot;
      :trigger=&quot;config.trigger&quot;
      :config=&quot;config&quot;
      transition=&quot;fade-in&quot;
      popper-class=&quot;casade-selector&quot;
      v-model=&quot;options_show&quot;
    &gt;
    ...
    &lt;/el-popover&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default &#123;
  name: &quot;CasadeSelector&quot;,
  props: &#123;
    config: &#123;
      type: Object,
      //è®©propsé»˜è®¤è¿”å›
      default() &#123;
        return &#123;&#125;;
      &#125;
    &#125;,
  &#125;,
&lt;/script&gt;
</code></pre>
<p>3.propsæ˜¯åŒå‘ç»‘å®šçš„</p>
<pre><code class="vue">&lt;template&gt;
    &lt;control v-model=&quot;deviceF&quot;&gt;&lt;/control&gt;
&lt;/template&gt;

 //v-modelé‡Œé¢å†™ä¸Šæˆ‘ä»¬è¦ä¼ ç»™å­ç»„ä»¶ï¼Œå¹¶ä¸”è¿˜ä¼šåœ¨å­ç»„ä»¶ä¸­æ”¹å˜è¿™ä¸ªå€¼
 &lt;script&gt;
 import control from &#39;@/components/control&#39;
 export default &#123;
    name:&quot;test&quot;,
    components: &#123;
        control
    &#125;,
    data () &#123;
        return &#123;
        deviceF: true,
        &#125;
    &#125;
&#125;
 &lt;/script&gt;
</code></pre>
<pre><code class="vue">&lt;template&gt;
   &lt;div&gt;
       &#123;&#123;device&#125;&#125;
       &lt;button @click=&quot;look&quot;&gt;æ”¹å˜å€¼&lt;/button&gt;
   &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default &#123;
 data () &#123;
   return &#123;
     device: this.value,  //å®šä¹‰ä¸€ä¸‹
   &#125;
 &#125;,
 props: [&#39;value&#39;],//å› ä¸ºæƒ³è¦æ”¹å˜deviceï¼Œæ‰€ä»¥deviceè¦å†™æˆvalueï¼Œè¿™é‡Œæ˜¯å†™æ­»çš„
 components: &#123;
 &#125;,
 methods: &#123;
   look () &#123;
     this.device = !this.device
     this.$emit(&#39;input&#39;, this.device)  //è¿™æ ·this.deviceå°±ä¼šè¢«ä¿®æ”¹ï¼›å‰é¢çš„inputæ˜¯å›ºå®šå†™æ­»çš„
   &#125;
 &#125;
&#125;
&lt;/script&gt;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vuexåˆ·æ–°é¡µé¢æ•°æ®ä¼šä¸¢å¤±å—ï¼Ÿå’‹è§£å†³çš„ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vuexåˆ·æ–°é¡µé¢æ•°æ®ä¼šä¸¢å¤±å—ï¼Ÿå’‹è§£å†³çš„ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vuexåˆ·æ–°é¡µé¢æ•°æ®ä¼šä¸¢å¤±å—ï¼Ÿå’‹è§£å†³çš„ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vuexåˆ·æ–°é¡µé¢æ•°æ®ä¼šä¸¢å¤±å—ï¼Ÿå’‹è§£å†³çš„ï¼Ÿ</h3><p>1ã€é—®é¢˜æè¿°ï¼šé¡µé¢åˆ·æ–°çš„æ—¶å€™vuexé‡Œçš„æ•°æ®ä¼šé‡æ–°åˆå§‹åŒ–ï¼Œå¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚å› ä¸ºvuexé‡Œçš„æ•°æ®æ˜¯ä¿å­˜åœ¨è¿è¡Œå†…å­˜ä¸­çš„ï¼Œå½“é¡µé¢åˆ·æ–°æ—¶ï¼Œé¡µé¢ä¼šé‡æ–°åŠ è½½vueå®ä¾‹ï¼Œvuexé‡Œé¢çš„æ•°æ®å°±ä¼šè¢«é‡æ–°èµ‹å€¼ã€‚</p>
<p>2ã€è§£å†³æ€è·¯ï¼š</p>
<p>åŠæ³•ä¸€ï¼šå°†vuexä¸­çš„æ•°æ®ç›´æ¥ä¿å­˜åˆ°æµè§ˆå™¨ç¼“å­˜ä¸­ï¼ˆsessionStorageã€localStorageã€cookieï¼‰ </p>
<p>åŠæ³•äºŒï¼šåœ¨é¡µé¢åˆ·æ–°çš„æ—¶å€™å†æ¬¡è¯·æ±‚è¿œç¨‹æ•°æ®ï¼Œä½¿ä¹‹åŠ¨æ€æ›´æ–°vuexæ•°æ® åŠæ³•ä¸‰ï¼šåœ¨çˆ¶é¡µé¢å‘åå°è¯·æ±‚è¿œç¨‹æ•°æ®ï¼Œå¹¶ä¸”åœ¨é¡µé¢åˆ·æ–°å‰å°†vuexçš„æ•°æ®å…ˆä¿å­˜è‡³sessionStorageï¼ˆä»¥é˜²è¯·æ±‚æ•°æ®é‡è¿‡å¤§é¡µé¢åŠ è½½æ—¶æ‹¿ä¸åˆ°è¿”å›çš„æ•°æ®ï¼‰</p>
<p>3ã€ è§£å†³è¿‡ç¨‹ï¼š</p>
<p>3.1ã€é€‰æ‹©åˆé€‚çš„æµè§ˆå™¨å­˜å‚¨</p>
<p>3.2ã€è§£å†³æ–¹æ¡ˆç”±äºstateé‡Œçš„æ•°æ®æ˜¯å“åº”å¼ï¼Œæ‰€ä»¥sessionStorageå­˜å‚¨ä¹Ÿè¦è·Ÿéšå˜åŒ–ï¼Œè€Œä¸”åªèƒ½é€šè¿‡mutationsæ¥æ”¹å˜stateä¸­çš„å€¼ã€‚ é¦–å…ˆåœ¨ç”¨æˆ·ç™»å½•æˆåŠŸä¹‹åï¼Œç„¶åæŠŠç”¨æˆ·ä¿¡æ¯ï¼Œèœå•ä¿¡æ¯é€šè¿‡actionsåˆ†å‘ä¿å­˜è‡³vuexä¸­ã€‚ç„¶ååœ¨èœå•é¡µé¢è®¡ç®—vuexä¸­stateçš„èœå•æ•°æ®ï¼Œå°†æ•°æ®è§£æç»„è£…æˆå‰ç«¯ç»„ä»¶æ‰€éœ€çš„æ ¼å¼ï¼Œç„¶åæ¸²æŸ“ç»„ä»¶ï¼Œç”Ÿæˆèœå•æ ‘ã€‚å¦‚æœé¡µé¢æ²¡æœ‰åˆ·æ–°ï¼Œåˆ™ä¸€åˆ‡æ­£å¸¸ã€‚</p>
<p>ç›‘å¬æµè§ˆå™¨åˆ·æ–°å‰äº‹ä»¶ï¼Œåœ¨æµè§ˆå™¨åˆ·æ–°ä¹‹å‰å°±æŠŠvuexé‡Œçš„æ•°æ®ä¿å­˜è‡³sessionStorageä¸­ï¼Œåˆ·æ–°æˆåŠŸåå¦‚æœå¼‚æ­¥è¯·æ±‚çš„æ•°æ®è¿˜æ²¡è¿”å›åˆ™ç›´æ¥è·å–sessionStorageé‡Œçš„æ•°æ®ï¼Œå¦åˆ™è·å–vuexé‡Œçš„æ•°æ®ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ä»€ä¹ˆæ˜¯Vue-nextTick-ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ä»€ä¹ˆæ˜¯Vue-nextTick-ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ä»€ä¹ˆæ˜¯Vue.nextTick()ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ä»€ä¹ˆæ˜¯Vue.nextTick()ï¼Ÿ</h3><p>$nextTick æ˜¯åœ¨ä¸‹æ¬¡DOMæ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒã€‚åœ¨ä¿®æ”¹æ•°æ®ä¹‹åç«‹å³ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè·å–æ›´æ–°åçš„DOMï¼Œæ„æ€æ˜¯ ç­‰ä½ domåŠ è½½å®Œæ¯•ä»¥åå†å»è°ƒç”¨nextTick()é‡Œé¢çš„æ•°æ®å†…å®¹</p>
<hr>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ä½ çŸ¥é“Vueå“åº”å¼æ•°æ®åŸç†å—ï¼ŸProxyä¸Object-definePropertyä¼˜åŠ£å¯¹æ¯”ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ä½ çŸ¥é“Vueå“åº”å¼æ•°æ®åŸç†å—ï¼ŸProxyä¸Object-definePropertyä¼˜åŠ£å¯¹æ¯”ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ä½ çŸ¥é“Vueå“åº”å¼æ•°æ®åŸç†å—ï¼ŸProxyä¸Object.definePropertyä¼˜åŠ£å¯¹æ¯”ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ä½ çŸ¥é“Vueå“åº”å¼æ•°æ®åŸç†å—ï¼ŸProxyä¸Object.definePropertyä¼˜åŠ£å¯¹æ¯”ï¼Ÿ</h3><p>1ã€å“åº”å¼åŸç†</p>
<p>vueçš„å“åº”å¼å®ç°ä¸»è¦æ˜¯åˆ©ç”¨äº†Object.definePropertyçš„æ–¹æ³•é‡Œé¢çš„setter ä¸getteræ–¹æ³•çš„è§‚å¯Ÿè€…æ¨¡å¼æ¥å®ç°ã€‚åœ¨ç»„ä»¶åˆå§‹åŒ–æ—¶ä¼šç»™æ¯ä¸€ä¸ªdataå±æ€§æ³¨å†Œgetterå’Œsetterï¼Œç„¶åå†new ä¸€ä¸ªè‡ªå·±çš„Watcherå¯¹è±¡ï¼Œæ­¤æ—¶watcherä¼šç«‹å³è°ƒç”¨ç»„ä»¶çš„renderå‡½æ•°å»ç”Ÿæˆè™šæ‹ŸDOMã€‚åœ¨è°ƒç”¨renderçš„æ—¶å€™ï¼Œå°±ä¼šéœ€è¦ç”¨åˆ°dataçš„å±æ€§å€¼ï¼Œæ­¤æ—¶ä¼šè§¦å‘getterå‡½æ•°ï¼Œå°†å½“å‰çš„Watcherå‡½æ•°æ³¨å†Œè¿›subé‡Œã€‚å½“dataå±æ€§å‘ç”Ÿæ”¹å˜ä¹‹åï¼Œå°±ä¼šéå†subé‡Œæ‰€æœ‰çš„watcherå¯¹è±¡ï¼Œé€šçŸ¥å®ƒä»¬å»é‡æ–°æ¸²æŸ“ç»„ä»¶ã€‚</p>
<p>2ã€proxyçš„ä¼˜åŠ¿å¦‚ä¸‹ï¼š</p>
<p>Proxy å¯ä»¥ç›´æ¥ç›‘å¬å¯¹è±¡è€Œéå±æ€§ï¼Œå¯ä»¥ç›´æ¥ç›‘å¬æ•°ç»„çš„å˜åŒ–ï¼›</p>
<p>Proxy æœ‰å¤šè¾¾ 13 ç§æ‹¦æˆªæ–¹æ³•,ä¸é™äº applyã€ownKeysã€deletePropertyã€has ç­‰ç­‰æ˜¯</p>
<p>Object.defineProperty ä¸å…·å¤‡çš„ï¼›</p>
<p>Proxy è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°å¯¹è±¡,æˆ‘ä»¬å¯ä»¥åªæ“ä½œæ–°çš„å¯¹è±¡è¾¾åˆ°ç›®çš„,è€Œ Object.defineProperty åªèƒ½éå†å¯¹è±¡å±æ€§ç›´æ¥ä¿®æ”¹ï¼›</p>
<p>3ã€Object.defineProperty çš„ä¼˜åŠ¿å¦‚ä¸‹:</p>
<p>å…¼å®¹æ€§å¥½ï¼Œæ”¯æŒ IE9ï¼Œè€Œ Proxy çš„å­˜åœ¨æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜,è€Œä¸”æ— æ³•ç”¨ polyfill(å«ç‰‡)æ¥å¼¥è¡¥</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-vue-routerè·¯ç”±å®ç°åŸç†"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-vue-routerè·¯ç”±å®ç°åŸç†" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ vue-routerè·¯ç”±å®ç°åŸç†"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ vue-routerè·¯ç”±å®ç°åŸç†</h3><p>[vue-routerè·¯ç”±æ¨¡å¼]: 	â€œ<a href="https://blog.csdn.net/weixin_43638968/article/details/109303363">https://blog.csdn.net/weixin_43638968/article/details/109303363</a>  â€œ</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-Vue3ä¸­çš„åŒå‘æ•°æ®ç»‘å®šproxy"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-Vue3ä¸­çš„åŒå‘æ•°æ®ç»‘å®šproxy" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ Vue3ä¸­çš„åŒå‘æ•°æ®ç»‘å®šproxy"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ Vue3ä¸­çš„åŒå‘æ•°æ®ç»‘å®šproxy</h3><p>Proxyç›¸å½“äºåœ¨ç›®æ ‡å¯¹è±¡ä¹‹å‰æ¶è®¾ä¸€å±‚â€œæ‹¦æˆªâ€ï¼Œå¤–ç•Œå¯¹è¯¥å¯¹è±¡çš„è®¿é—®ï¼Œéƒ½å¿…é¡»å…ˆé€šè¿‡è¿™å±‚æ‹¦æˆªï¼Œå› æ­¤æä¾›äº†ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥å¯¹å¤–ç•Œçš„è®¿é—®è¿›è¡Œè¿‡æ»¤å’Œæ”¹å†™,æˆ‘ä»¬å¯ä»¥è¿™æ ·è®¤ä¸º,Proxyæ˜¯Object.definePropertyçš„å…¨æ–¹ä½åŠ å¼ºç‰ˆï¼Œå®ƒè§£å†³äº†ä¹‹å‰definePropertyæ— æ³•ç›‘å¬åˆ°æ•°ç»„å˜åŒ–ç­‰ç¼ºç‚¹ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-Vueå’ŒReactä¸­diffç®—æ³•åŒºåˆ«"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-Vueå’ŒReactä¸­diffç®—æ³•åŒºåˆ«" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ Vueå’ŒReactä¸­diffç®—æ³•åŒºåˆ«"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ Vueå’ŒReactä¸­diffç®—æ³•åŒºåˆ«</h3><p>vueå’Œreactçš„diffç®—æ³•ï¼Œéƒ½æ˜¯å¿½ç•¥è·¨çº§æ¯”è¾ƒï¼ŒåªåšåŒçº§æ¯”è¾ƒã€‚vue diffæ—¶è°ƒåŠ¨patchå‡½æ•°ï¼Œå‚æ•°æ˜¯vnodeå’ŒoldVnodeï¼Œåˆ†åˆ«ä»£è¡¨æ–°æ—§èŠ‚ç‚¹ã€‚</p>
<p>1.vueå¯¹æ¯”èŠ‚ç‚¹ã€‚å½“èŠ‚ç‚¹å…ƒç´ ç›¸åŒï¼Œä½†æ˜¯classnameä¸åŒï¼Œè®¤ä¸ºæ˜¯ä¸åŒç±»å‹çš„å…ƒç´ ï¼Œåˆ é™¤é‡å»ºï¼Œè€Œreactè®¤ä¸ºæ˜¯åŒç±»å‹èŠ‚ç‚¹ï¼Œåªæ˜¯ä¿®æ”¹èŠ‚ç‚¹å±æ€§ã€‚</p>
<p>2.vueçš„åˆ—è¡¨å¯¹æ¯”ï¼Œé‡‡ç”¨çš„æ˜¯ä¸¤ç«¯åˆ°ä¸­é—´æ¯”å¯¹çš„æ–¹å¼ï¼Œè€Œreacté‡‡ç”¨çš„æ˜¯ä»å·¦åˆ°å³ä¾æ¬¡å¯¹æ¯”çš„æ–¹å¼ã€‚å½“ä¸€ä¸ªé›†åˆåªæ˜¯æŠŠæœ€åä¸€ä¸ªèŠ‚ç‚¹ç§»åˆ°äº†ç¬¬ä¸€ä¸ªï¼Œreactä¼šæŠŠå‰é¢çš„èŠ‚ç‚¹ä¾æ¬¡ç§»åŠ¨ï¼Œè€Œvueåªä¼šæŠŠæœ€åä¸€ä¸ªèŠ‚ç‚¹ç§»åˆ°ç¬¬ä¸€ä¸ªã€‚æ€»ä½“ä¸Šï¼Œvueçš„æ–¹å¼æ¯”è¾ƒé«˜æ•ˆã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vue-å“åº”å¼åŸç†"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vue-å“åº”å¼åŸç†" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vue å“åº”å¼åŸç†"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸Vue å“åº”å¼åŸç†</h3><p>[Vue å“åº”å¼åŸç†]: 	â€œ<a href="https://juejin.cn/post/6844903561327820808">https://juejin.cn/post/6844903561327820808</a> â€œ</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-nextTickçŸ¥é“å—ã€å®ç°çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯å®ä»»åŠ¡è¿˜æ˜¯å¾®ä»»åŠ¡ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-nextTickçŸ¥é“å—ã€å®ç°çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯å®ä»»åŠ¡è¿˜æ˜¯å¾®ä»»åŠ¡ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ nextTickçŸ¥é“å—ã€å®ç°çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯å®ä»»åŠ¡è¿˜æ˜¯å¾®ä»»åŠ¡ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ nextTickçŸ¥é“å—ã€å®ç°çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯å®ä»»åŠ¡è¿˜æ˜¯å¾®ä»»åŠ¡ï¼Ÿ</h3><p>å¾®ä»»åŠ¡</p>
<p>åŸç†ï¼šnextTickæ–¹æ³•ä¸»è¦æ˜¯ä½¿ç”¨äº†å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ï¼Œå®šä¹‰äº†ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•ï¼Œå¤šæ¬¡è°ƒç”¨nextTickä¼šå°†æ–¹æ³•å­˜å…¥é˜Ÿåˆ—ä¸­ï¼Œé€šè¿‡è¿™ä¸ªå¼‚æ­¥æ–¹æ³•æ¸…ç©ºé˜Ÿåˆ—ã€‚</p>
<p>ä½œç”¨ï¼š nextTickç”¨äºä¸‹æ¬¡Domæ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒï¼Œåœ¨ä¿®æ”¹æ•°æ®ä¹‹åä½¿ç”¨nextTickç”¨äºä¸‹æ¬¡Domæ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒï¼Œåœ¨ä¿®æ”¹æ•°æ®ä¹‹åä½¿ç”¨nextTickç”¨äºä¸‹æ¬¡Domæ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒï¼Œåœ¨ä¿®æ”¹æ•°æ®ä¹‹åä½¿ç”¨nextTick,åˆ™å¯ä»¥åœ¨å›è°ƒä¸­è·å–æ›´æ–°åçš„DOMã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-Vueé¡¹ç›®å¸¸è§ä¼˜åŒ–ç‚¹"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-Vueé¡¹ç›®å¸¸è§ä¼˜åŒ–ç‚¹" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ Vueé¡¹ç›®å¸¸è§ä¼˜åŒ–ç‚¹"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ Vueé¡¹ç›®å¸¸è§ä¼˜åŒ–ç‚¹</h3><p>1ã€é¦–å±åŠ è½½ä¼˜åŒ–</p>
<p>2ã€è·¯ç”±æ‡’åŠ è½½</p>
<pre><code class="javascript">&#123; 
 path: &#39;/&#39;,
 name: &#39;home&#39;, 
 component: () =&gt; import(&#39;./views/home/index.vue&#39;), 
 meta: &#123; isShowHead: true &#125;
&#125;
</code></pre>
<p>3ã€å¼€å¯æœåŠ¡å™¨ Gzip</p>
<p>å¼€å¯ Gzip å°±æ˜¯ä¸€ç§å‹ç¼©æŠ€æœ¯ï¼Œéœ€è¦å‰ç«¯æä¾›å‹ç¼©åŒ…ï¼Œç„¶ååœ¨æœåŠ¡å™¨å¼€å¯å‹ç¼©ï¼Œæ–‡ä»¶åœ¨æœåŠ¡å™¨å‹ç¼©åä¼ ç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨è§£å‹åè¿›è¡Œå†è¿›è¡Œè§£æã€‚é¦–å…ˆå®‰è£… webpack æä¾›çš„compression-webpack-pluginè¿›è¡Œå‹ç¼©,ç„¶ååœ¨ vue.config.jsï¼š</p>
<pre><code class="javascript">const CompressionWebpackPlugin = require(&#39;compression-webpack-plugin&#39;)
const productionGzipExtensions = [&#39;js&#39;, &#39;css&#39;]......plugins: [ 
 new CompressionWebpackPlugin(
 &#123; 
 algorithm: &#39;gzip&#39;, 
 test: new RegExp(&#39;\.(&#39; + productionGzipExtensions.join(&#39;|&#39;) + &#39;)$&#39;), 
 threshold: 10240, 
 minRatio: 0.8 
 &#125;
)]....
</code></pre>
<p>4ã€å¯åŠ¨ CDN åŠ é€Ÿ</p>
<p>æˆ‘ä»¬ç»§ç»­é‡‡ç”¨ cdn çš„æ–¹å¼æ¥å¼•å…¥ä¸€äº›ç¬¬ä¸‰æ–¹èµ„æºï¼Œå°±å¯ä»¥ç¼“è§£æˆ‘ä»¬æœåŠ¡å™¨çš„å‹åŠ›ï¼ŒåŸç†æ˜¯å°†æˆ‘ä»¬çš„å‹åŠ›åˆ†ç»™å…¶ä»–æœåŠ¡å™¨ç‚¹ã€‚</p>
<p>5ã€ä»£ç å±‚é¢ä¼˜åŒ–</p>
<p>computed å’Œ watch åŒºåˆ†ä½¿ç”¨åœºæ™¯</p>
<p>computedï¼š æ˜¯è®¡ç®—å±æ€§ï¼Œä¾èµ–å…¶å®ƒå±æ€§å€¼ï¼Œå¹¶ä¸” computed çš„å€¼æœ‰ç¼“å­˜ï¼Œåªæœ‰å®ƒä¾èµ–çš„å±æ€§å€¼å‘ç”Ÿæ”¹å˜ï¼Œä¸‹ä¸€æ¬¡è·å– computed çš„å€¼æ—¶æ‰ä¼šé‡æ–°è®¡ç®— computed çš„å€¼ã€‚å½“æˆ‘ä»¬éœ€è¦è¿›è¡Œæ•°å€¼è®¡ç®—ï¼Œå¹¶ä¸”ä¾èµ–äºå…¶å®ƒæ•°æ®æ—¶ï¼Œåº”è¯¥ä½¿ç”¨ computedï¼Œå› ä¸ºå¯ä»¥åˆ©ç”¨ computed çš„ç¼“å­˜ç‰¹æ€§ï¼Œé¿å…æ¯æ¬¡è·å–å€¼æ—¶ï¼Œéƒ½è¦é‡æ–°è®¡ç®—ï¼›</p>
<p> watchï¼šç±»ä¼¼äºæŸäº›æ•°æ®çš„ç›‘å¬å›è°ƒ ï¼Œæ¯å½“ç›‘å¬çš„æ•°æ®å˜åŒ–æ—¶éƒ½ä¼šæ‰§è¡Œå›è°ƒè¿›è¡Œåç»­æ“ä½œï¼›å½“æˆ‘ä»¬éœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æˆ–å¼€é”€è¾ƒå¤§çš„æ“ä½œæ—¶ï¼Œåº”è¯¥ä½¿ç”¨ watchï¼Œä½¿ç”¨ watch é€‰é¡¹å…è®¸æˆ‘ä»¬æ‰§è¡Œå¼‚æ­¥æ“ä½œ( è®¿é—®ä¸€ä¸ª API )ï¼Œé™åˆ¶æˆ‘ä»¬æ‰§è¡Œè¯¥æ“ä½œçš„é¢‘ç‡ï¼Œå¹¶åœ¨æˆ‘ä»¬å¾—åˆ°æœ€ç»ˆç»“æœå‰ï¼Œè®¾ç½®ä¸­é—´çŠ¶æ€ã€‚è¿™äº›éƒ½æ˜¯è®¡ç®—å±æ€§æ— æ³•åšåˆ°çš„ã€‚</p>
<p>v-if å’Œ v-show åŒºåˆ†ä½¿ç”¨åœºæ™¯ v-if é€‚ç”¨äºåœ¨è¿è¡Œæ—¶å¾ˆå°‘æ”¹å˜æ¡ä»¶ï¼Œä¸éœ€è¦é¢‘ç¹åˆ‡æ¢æ¡ä»¶çš„åœºæ™¯ï¼›v-showåˆ™é€‚ç”¨äºéœ€è¦éå¸¸é¢‘ç¹åˆ‡æ¢æ¡ä»¶çš„åœºæ™¯ã€‚è¿™é‡Œè¦è¯´çš„ä¼˜åŒ–ç‚¹åœ¨äºå‡å°‘é¡µé¢ä¸­ dom æ€»æ•°ï¼Œæˆ‘æ¯”è¾ƒå€¾å‘äºä½¿ç”¨ v-ifï¼Œå› ä¸ºå‡å°‘äº† dom æ•°é‡ã€‚</p>
<p>v-for éå†å¿…é¡»ä¸º item æ·»åŠ  keyï¼Œä¸”é¿å…åŒæ—¶ä½¿ç”¨ v-if v-for éå†å¿…é¡»ä¸º item æ·»åŠ  keyï¼Œå¾ªç¯è°ƒç”¨å­ç»„ä»¶æ—¶æ·»åŠ  keyï¼Œkey å¯ä»¥å”¯ä¸€æ ‡è¯†ä¸€ä¸ªå¾ªç¯ä¸ªä½“ï¼Œå¯ä»¥ä½¿ç”¨ä¾‹å¦‚ item.id ä½œä¸º key é¿å…åŒæ—¶ä½¿ç”¨ v-ifï¼Œvfor æ¯” v-if ä¼˜å…ˆçº§é«˜ï¼Œå¦‚æœæ¯ä¸€æ¬¡éƒ½éœ€è¦éå†æ•´ä¸ªæ•°ç»„ï¼Œå°†ä¼šå½±å“é€Ÿåº¦ã€‚</p>
<p>6ã€Webpack å¯¹å›¾ç‰‡è¿›è¡Œå‹ç¼©</p>
<p>7ã€é¿å…å†…å­˜æ³„æ¼</p>
<p>8ã€å‡å°‘ ES6 è½¬ä¸º ES5 çš„å†—ä½™ä»£ç </p>
]]></content>
      <categories>
        <category>æŠ€æœ¯é¢è¯•</category>
        <category>Vue-Vue3</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯é¢è¯•å¤§å…¨ES6</title>
    <url>/2022/10/31/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8ES6/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆES6ï¼‰"><a href="#å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆES6ï¼‰" class="headerlink" title="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆES6ï¼‰"></a>å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆES6ï¼‰</h1><p>å‰ç«¯é¢è¯•é¢˜ç±»ç›®åˆ†ç±»</p>
<ul>
<li>HTML5 + CSS3</li>
<li>JavaScript</li>
<li>Vue + Vue3</li>
<li>React</li>
<li>Webpack</li>
<li>æœåŠ¡ç«¯</li>
</ul>
<hr>
<p>è€ƒç‚¹é¢‘ç‡ ï¼šâ™¥ï¸ ã€ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-varã€letã€constä¹‹é—´çš„åŒºåˆ«"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-varã€letã€constä¹‹é—´çš„åŒºåˆ«" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ varã€letã€constä¹‹é—´çš„åŒºåˆ«"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ varã€letã€constä¹‹é—´çš„åŒºåˆ«</h3><h4 id="ä¸€ã€var"><a href="#ä¸€ã€var" class="headerlink" title="ä¸€ã€var"></a>ä¸€ã€var</h4><p>åœ¨ES5ä¸­ï¼Œé¡¶å±‚å¯¹è±¡çš„å±æ€§å’Œå…¨å±€å˜é‡æ˜¯ç­‰ä»·çš„ï¼Œç”¨<code>var</code>å£°æ˜çš„å˜é‡æ—¢æ˜¯å…¨å±€å˜é‡ï¼Œä¹Ÿæ˜¯é¡¶å±‚å˜é‡</p>
<p>æ³¨æ„ï¼šé¡¶å±‚å¯¹è±¡ï¼Œåœ¨æµè§ˆå™¨ç¯å¢ƒæŒ‡çš„æ˜¯<code>window</code>å¯¹è±¡ï¼Œåœ¨ <code>Node</code> æŒ‡çš„æ˜¯<code>global</code>å¯¹è±¡</p>
<pre><code class="javascript">var a = 10;
console.log(window.a) // 10
</code></pre>
<p>ä½¿ç”¨<code>var</code>å£°æ˜çš„å˜é‡å­˜åœ¨å˜é‡æå‡çš„æƒ…å†µ</p>
<pre><code class="javascript">console.log(a) // undefined
var a = 20
</code></pre>
<p>åœ¨ç¼–è¯‘é˜¶æ®µï¼Œç¼–è¯‘å™¨ä¼šå°†å…¶å˜æˆä»¥ä¸‹æ‰§è¡Œ</p>
<pre><code class="javascript">var a
console.log(a)
a = 20
</code></pre>
<p>ä½¿ç”¨<code>var</code>ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå¯¹ä¸€ä¸ªå˜é‡è¿›è¡Œå¤šæ¬¡å£°æ˜ï¼Œåé¢å£°æ˜çš„å˜é‡ä¼šè¦†ç›–å‰é¢çš„å˜é‡å£°æ˜</p>
<pre><code class="javascript">var a = 20 
var a = 30
console.log(a) // 30
</code></pre>
<p>åœ¨å‡½æ•°ä¸­ä½¿ç”¨ä½¿ç”¨<code>var</code>å£°æ˜å˜é‡æ—¶å€™ï¼Œè¯¥å˜é‡æ˜¯å±€éƒ¨çš„</p>
<pre><code class="javascript">var a = 20
function change()&#123;
    var a = 30
&#125;
change()
console.log(a) // 20 
</code></pre>
<p>è€Œå¦‚æœåœ¨å‡½æ•°å†…ä¸ä½¿ç”¨<code>var</code>ï¼Œè¯¥å˜é‡æ˜¯å…¨å±€çš„</p>
<pre><code class="javascript">var a = 20
function change()&#123;
   a = 30
&#125;
change()
console.log(a) // 30 
</code></pre>
<h4 id="äºŒã€let"><a href="#äºŒã€let" class="headerlink" title="äºŒã€let"></a>äºŒã€let</h4><p><code>let</code>æ˜¯<code>ES6</code>æ–°å¢çš„å‘½ä»¤ï¼Œç”¨æ¥å£°æ˜å˜é‡</p>
<p>ç”¨æ³•ç±»ä¼¼äº<code>var</code>ï¼Œä½†æ˜¯æ‰€å£°æ˜çš„å˜é‡ï¼Œåªåœ¨<code>let</code>å‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆ</p>
<pre><code class="javascript">&#123;
    let a = 20
&#125;
console.log(a) // ReferenceError: a is not defined.
</code></pre>
<p>ä¸å­˜åœ¨å˜é‡æå‡</p>
<pre><code class="javascript">console.log(a) // æŠ¥é”™ReferenceError
let a = 2
</code></pre>
<p>è¿™è¡¨ç¤ºåœ¨å£°æ˜å®ƒä¹‹å‰ï¼Œå˜é‡<code>a</code>æ˜¯ä¸å­˜åœ¨çš„ï¼Œè¿™æ—¶å¦‚æœç”¨åˆ°å®ƒï¼Œå°±ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯</p>
<p>åªè¦å—çº§ä½œç”¨åŸŸå†…å­˜åœ¨<code>let</code>å‘½ä»¤ï¼Œè¿™ä¸ªåŒºåŸŸå°±ä¸å†å—å¤–éƒ¨å½±å“</p>
<pre><code class="javascript">var a = 123
if (true) &#123;
    a = &#39;abc&#39; // ReferenceError
    let a;
&#125;
</code></pre>
<p>ä½¿ç”¨<code>let</code>å£°æ˜å˜é‡å‰ï¼Œè¯¥å˜é‡éƒ½ä¸å¯ç”¨ï¼Œä¹Ÿå°±æ˜¯å¤§å®¶å¸¸è¯´çš„â€œæš‚æ—¶æ€§æ­»åŒºâ€</p>
<p>æœ€åï¼Œ<code>let</code>ä¸å…è®¸åœ¨ç›¸åŒä½œç”¨åŸŸä¸­é‡å¤å£°æ˜</p>
<pre><code class="javascript">let a = 20
let a = 30
// Uncaught SyntaxError: Identifier &#39;a&#39; has already been declared
</code></pre>
<p>æ³¨æ„çš„æ˜¯ç›¸åŒä½œç”¨åŸŸï¼Œä¸‹é¢è¿™ç§æƒ…å†µæ˜¯ä¸ä¼šæŠ¥é”™çš„</p>
<pre><code class="javascript">let a = 20
&#123;
    let a = 30
&#125;
</code></pre>
<p>å› æ­¤ï¼Œæˆ‘ä»¬ä¸èƒ½åœ¨å‡½æ•°å†…éƒ¨é‡æ–°å£°æ˜å‚æ•°</p>
<pre><code class="javascript">function func(arg) &#123;
  let arg;
&#125;
func()
// Uncaught SyntaxError: Identifier &#39;arg&#39; has already been declared
</code></pre>
<h4 id="ä¸‰ã€const"><a href="#ä¸‰ã€const" class="headerlink" title="ä¸‰ã€const"></a>ä¸‰ã€const</h4><p><code>const</code>å£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ï¼Œä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜</p>
<pre><code class="javascript">const a = 1
a = 3
// TypeError: Assignment to constant variable.
</code></pre>
<p>è¿™æ„å‘³ç€ï¼Œ<code>const</code>ä¸€æ—¦å£°æ˜å˜é‡ï¼Œå°±å¿…é¡»ç«‹å³åˆå§‹åŒ–ï¼Œä¸èƒ½ç•™åˆ°ä»¥åèµ‹å€¼</p>
<pre><code class="javascript">const a;
// SyntaxError: Missing initializer in const declaration
</code></pre>
<p>å¦‚æœä¹‹å‰ç”¨<code>var</code>æˆ–<code>let</code>å£°æ˜è¿‡å˜é‡ï¼Œå†ç”¨<code>const</code>å£°æ˜åŒæ ·ä¼šæŠ¥é”™</p>
<pre><code class="javascript">var a = 20
let b = 20
const a = 30
const b = 30
// éƒ½ä¼šæŠ¥é”™
</code></pre>
<p><code>const</code>å®é™…ä¸Šä¿è¯çš„å¹¶ä¸æ˜¯å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€æ‰€ä¿å­˜çš„æ•°æ®ä¸å¾—æ”¹åŠ¨</p>
<p>å¯¹äºç®€å•ç±»å‹çš„æ•°æ®ï¼Œå€¼å°±ä¿å­˜åœ¨å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ï¼Œå› æ­¤ç­‰åŒäºå¸¸é‡</p>
<p>å¯¹äºå¤æ‚ç±»å‹çš„æ•°æ®ï¼Œå˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œä¿å­˜çš„åªæ˜¯ä¸€ä¸ªæŒ‡å‘å®é™…æ•°æ®çš„æŒ‡é’ˆï¼Œ<code>const</code>åªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯å›ºå®šçš„ï¼Œå¹¶ä¸èƒ½ç¡®ä¿æ”¹å˜é‡çš„ç»“æ„ä¸å˜</p>
<pre><code class="javascript">const foo = &#123;&#125;;

// ä¸º foo æ·»åŠ ä¸€ä¸ªå±æ€§ï¼Œå¯ä»¥æˆåŠŸ
foo.prop = 123;
foo.prop // 123

// å°† foo æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ï¼Œå°±ä¼šæŠ¥é”™
foo = &#123;&#125;; // TypeError: &quot;foo&quot; is read-only
</code></pre>
<p>å…¶å®ƒæƒ…å†µï¼Œ<code>const</code>ä¸<code>let</code>ä¸€è‡´</p>
<h4 id="å››ã€åŒºåˆ«"><a href="#å››ã€åŒºåˆ«" class="headerlink" title="å››ã€åŒºåˆ«"></a>å››ã€åŒºåˆ«</h4><p><code>var</code>ã€<code>let</code>ã€<code>const</code>ä¸‰è€…åŒºåˆ«å¯ä»¥å›´ç»•ä¸‹é¢äº”ç‚¹å±•å¼€ï¼š</p>
<ul>
<li>å˜é‡æå‡</li>
<li>æš‚æ—¶æ€§æ­»åŒº</li>
<li>å—çº§ä½œç”¨åŸŸ</li>
<li>é‡å¤å£°æ˜</li>
<li>ä¿®æ”¹å£°æ˜çš„å˜é‡</li>
<li>ä½¿ç”¨</li>
</ul>
<h5 id="å˜é‡æå‡"><a href="#å˜é‡æå‡" class="headerlink" title="å˜é‡æå‡"></a>å˜é‡æå‡</h5><pre><code class="css">var `å£°æ˜çš„å˜é‡å­˜åœ¨å˜é‡æå‡ï¼Œå³å˜é‡å¯ä»¥åœ¨å£°æ˜ä¹‹å‰è°ƒç”¨ï¼Œå€¼ä¸º`undefined
</code></pre>
<p><code>let</code>å’Œ<code>const</code>ä¸å­˜åœ¨å˜é‡æå‡ï¼Œå³å®ƒä»¬æ‰€å£°æ˜çš„å˜é‡ä¸€å®šè¦åœ¨å£°æ˜åä½¿ç”¨ï¼Œå¦åˆ™æŠ¥é”™</p>
<pre><code class="javascript">// var
console.log(a)  // undefined
var a = 10

// let 
console.log(b)  // Cannot access &#39;b&#39; before initialization
let b = 10

// const
console.log(c)  // Cannot access &#39;c&#39; before initialization
const c = 10
</code></pre>
<h5 id="æš‚æ—¶æ€§æ­»åŒº"><a href="#æš‚æ—¶æ€§æ­»åŒº" class="headerlink" title="æš‚æ—¶æ€§æ­»åŒº"></a>æš‚æ—¶æ€§æ­»åŒº</h5><p><code>var</code>ä¸å­˜åœ¨æš‚æ—¶æ€§æ­»åŒº</p>
<p><code>let</code>å’Œ<code>const</code>å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œåªæœ‰ç­‰åˆ°å£°æ˜å˜é‡çš„é‚£ä¸€è¡Œä»£ç å‡ºç°ï¼Œæ‰å¯ä»¥è·å–å’Œä½¿ç”¨è¯¥å˜é‡</p>
<pre><code class="javascript">// var
console.log(a)  // undefined
var a = 10

// let
console.log(b)  // Cannot access &#39;b&#39; before initialization
let b = 10

// const
console.log(c)  // Cannot access &#39;c&#39; before initialization
const c = 10
</code></pre>
<h5 id="å—çº§ä½œç”¨åŸŸ"><a href="#å—çº§ä½œç”¨åŸŸ" class="headerlink" title="å—çº§ä½œç”¨åŸŸ"></a>å—çº§ä½œç”¨åŸŸ</h5><p><code>var</code>ä¸å­˜åœ¨å—çº§ä½œç”¨åŸŸ</p>
<p><code>let</code>å’Œ<code>const</code>å­˜åœ¨å—çº§ä½œç”¨åŸŸ</p>
<pre><code class="javascript">// var
&#123;
    var a = 20
&#125;
console.log(a)  // 20

// let
&#123;
    let b = 20
&#125;
console.log(b)  // Uncaught ReferenceError: b is not defined

// const
&#123;
    const c = 20
&#125;
console.log(c)  // Uncaught ReferenceError: c is not defined
</code></pre>
<h5 id="é‡å¤å£°æ˜"><a href="#é‡å¤å£°æ˜" class="headerlink" title="é‡å¤å£°æ˜"></a>é‡å¤å£°æ˜</h5><p><code>var</code>å…è®¸é‡å¤å£°æ˜å˜é‡</p>
<p><code>let</code>å’Œ<code>const</code>åœ¨åŒä¸€ä½œç”¨åŸŸä¸å…è®¸é‡å¤å£°æ˜å˜é‡</p>
<pre><code class="javascript">// var
var a = 10
var a = 20 // 20

// let
let b = 10
let b = 20 // Identifier &#39;b&#39; has already been declared

// const
const c = 10
const c = 20 // Identifier &#39;c&#39; has already been declared
</code></pre>
<h5 id="ä¿®æ”¹å£°æ˜çš„å˜é‡"><a href="#ä¿®æ”¹å£°æ˜çš„å˜é‡" class="headerlink" title="ä¿®æ”¹å£°æ˜çš„å˜é‡"></a>ä¿®æ”¹å£°æ˜çš„å˜é‡</h5><p><code>var</code>å’Œ<code>let</code>å¯ä»¥</p>
<p><code>const</code>å£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ã€‚ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜</p>
<pre><code class="javascript">// var
var a = 10
a = 20
console.log(a)  // 20

//let
let b = 10
b = 20
console.log(b)  // 20

// const
const c = 10
c = 20
console.log(c) // Uncaught TypeError: Assignment to constant variable
</code></pre>
<h5 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h5><p>èƒ½ç”¨<code>const</code>çš„æƒ…å†µå°½é‡ä½¿ç”¨<code>const</code>ï¼Œå…¶ä»–æƒ…å†µä¸‹å¤§å¤šæ•°ä½¿ç”¨<code>let</code>ï¼Œé¿å…ä½¿ç”¨<code>var</code></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-ES6ä¸­æ•°ç»„æ–°å¢äº†å“ªäº›æ‰©å±•"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-ES6ä¸­æ•°ç»„æ–°å¢äº†å“ªäº›æ‰©å±•" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ ES6ä¸­æ•°ç»„æ–°å¢äº†å“ªäº›æ‰©å±•?"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ ES6ä¸­æ•°ç»„æ–°å¢äº†å“ªäº›æ‰©å±•?</h3><h4 id="ä¸€ã€æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨"><a href="#ä¸€ã€æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨" class="headerlink" title="ä¸€ã€æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨"></a>ä¸€ã€æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨</h4><p>ES6é€šè¿‡æ‰©å±•å…ƒç´ ç¬¦<code>...</code>ï¼Œå¥½æ¯” <code>rest</code> å‚æ•°çš„é€†è¿ç®—ï¼Œå°†ä¸€ä¸ªæ•°ç»„è½¬ä¸ºç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ—</p>
<pre><code class="javascript">console.log(...[1, 2, 3])
// 1 2 3

console.log(1, ...[2, 3, 4], 5)
// 1 2 3 4 5

[...document.querySelectorAll(&#39;div&#39;)]
// [&lt;div&gt;, &lt;div&gt;, &lt;div&gt;]
</code></pre>
<p>ä¸»è¦ç”¨äºå‡½æ•°è°ƒç”¨çš„æ—¶å€™ï¼Œå°†ä¸€ä¸ªæ•°ç»„å˜ä¸ºå‚æ•°åºåˆ—</p>
<pre><code class="javascript">function push(array, ...items) &#123;
  array.push(...items);
&#125;

function add(x, y) &#123;
  return x + y;
&#125;

const numbers = [4, 38];
add(...numbers) // 42
</code></pre>
<p>å¯ä»¥å°†æŸäº›æ•°æ®ç»“æ„è½¬ä¸ºæ•°ç»„</p>
<pre><code class="javascript">[...document.querySelectorAll(&#39;div&#39;)]
</code></pre>
<p>èƒ½å¤Ÿæ›´ç®€å•å®ç°æ•°ç»„å¤åˆ¶</p>
<pre><code class="javascript">const a1 = [1, 2];
const [...a2] = a1;
// [1,2]
</code></pre>
<p>æ•°ç»„çš„åˆå¹¶ä¹Ÿæ›´ä¸ºç®€æ´äº†</p>
<pre><code class="javascript">const arr1 = [&#39;a&#39;, &#39;b&#39;];
const arr2 = [&#39;c&#39;];
const arr3 = [&#39;d&#39;, &#39;e&#39;];
[...arr1, ...arr2, ...arr3]
// [ &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39; ]
</code></pre>
<p>æ³¨æ„ï¼šé€šè¿‡æ‰©å±•è¿ç®—ç¬¦å®ç°çš„æ˜¯æµ…æ‹·è´ï¼Œä¿®æ”¹äº†å¼•ç”¨æŒ‡å‘çš„å€¼ï¼Œä¼šåŒæ­¥åæ˜ åˆ°æ–°æ•°ç»„</p>
<p>ä¸‹é¢çœ‹ä¸ªä¾‹å­å°±æ¸…æ¥šå¤šäº†</p>
<pre><code class="javascript">const arr1 = [&#39;a&#39;, &#39;b&#39;,[1,2]];
const arr2 = [&#39;c&#39;];
const arr3  = [...arr1,...arr2]
arr1[2][0] = 9999 // ä¿®æ”¹arr1é‡Œé¢æ•°ç»„æˆå‘˜å€¼
console.log(arr3) // å½±å“åˆ°arr3,[&#39;a&#39;,&#39;b&#39;,[9999,2],&#39;c&#39;]
</code></pre>
<p>æ‰©å±•è¿ç®—ç¬¦å¯ä»¥ä¸è§£æ„èµ‹å€¼ç»“åˆèµ·æ¥ï¼Œç”¨äºç”Ÿæˆæ•°ç»„</p>
<pre><code class="javascript">const [first, ...rest] = [1, 2, 3, 4, 5];
first // 1
rest  // [2, 3, 4, 5]

const [first, ...rest] = [];
first // undefined
rest  // []

const [first, ...rest] = [&quot;foo&quot;];
first  // &quot;foo&quot;
rest   // []
</code></pre>
<p>å¦‚æœå°†æ‰©å±•è¿ç®—ç¬¦ç”¨äºæ•°ç»„èµ‹å€¼ï¼Œåªèƒ½æ”¾åœ¨å‚æ•°çš„æœ€åä¸€ä½ï¼Œå¦åˆ™ä¼šæŠ¥é”™</p>
<pre><code class="javascript">const [...butLast, last] = [1, 2, 3, 4, 5];
// æŠ¥é”™

const [first, ...middle, last] = [1, 2, 3, 4, 5];
// æŠ¥é”™
</code></pre>
<p>å¯ä»¥å°†å­—ç¬¦ä¸²è½¬ä¸ºçœŸæ­£çš„æ•°ç»„</p>
<pre><code class="javascript">[...&#39;hello&#39;]
// [ &quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot; ]
</code></pre>
<p>å®šä¹‰äº†éå†å™¨ï¼ˆIteratorï¼‰æ¥å£çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥ç”¨æ‰©å±•è¿ç®—ç¬¦è½¬ä¸ºçœŸæ­£çš„æ•°ç»„</p>
<pre><code class="javascript">let nodeList = document.querySelectorAll(&#39;div&#39;);
let array = [...nodeList];

let map = new Map([
  [1, &#39;one&#39;],
  [2, &#39;two&#39;],
  [3, &#39;three&#39;],
]);

let arr = [...map.keys()]; // [1, 2, 3]
</code></pre>
<p>å¦‚æœå¯¹æ²¡æœ‰ Iterator æ¥å£çš„å¯¹è±¡ï¼Œä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼Œå°†ä¼šæŠ¥é”™</p>
<pre><code class="javascript">const obj = &#123;a: 1, b: 2&#125;;
let arr = [...obj]; // TypeError: Cannot spread non-iterable object
</code></pre>
<h4 id="äºŒã€æ„é€ å‡½æ•°æ–°å¢çš„æ–¹æ³•"><a href="#äºŒã€æ„é€ å‡½æ•°æ–°å¢çš„æ–¹æ³•" class="headerlink" title="äºŒã€æ„é€ å‡½æ•°æ–°å¢çš„æ–¹æ³•"></a>äºŒã€æ„é€ å‡½æ•°æ–°å¢çš„æ–¹æ³•</h4><p>å…³äºæ„é€ å‡½æ•°ï¼Œæ•°ç»„æ–°å¢çš„æ–¹æ³•æœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>Array.from()</li>
<li>Array.of()</li>
</ul>
<h5 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from()"></a>Array.from()</h5><p>å°†ä¸¤ç±»å¯¹è±¡è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ï¼šç±»ä¼¼æ•°ç»„çš„å¯¹è±¡å’Œå¯éå†<code>ï¼ˆiterableï¼‰</code>çš„å¯¹è±¡ï¼ˆåŒ…æ‹¬ <code>ES6</code> æ–°å¢çš„æ•°æ®ç»“æ„ <code>Set</code> å’Œ <code>Map</code>ï¼‰</p>
<pre><code class="javascript">let arrayLike = &#123;
    &#39;0&#39;: &#39;a&#39;,
    &#39;1&#39;: &#39;b&#39;,
    &#39;2&#39;: &#39;c&#39;,
    length: 3
&#125;;
let arr2 = Array.from(arrayLike); // [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]
</code></pre>
<p>è¿˜å¯ä»¥æ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œç”¨æ¥å¯¹æ¯ä¸ªå…ƒç´ è¿›è¡Œå¤„ç†ï¼Œå°†å¤„ç†åçš„å€¼æ”¾å…¥è¿”å›çš„æ•°ç»„</p>
<pre><code class="javascript">Array.from([1, 2, 3], (x) =&gt; x * x)
// [1, 4, 9]
</code></pre>
<h5 id="Array-of"><a href="#Array-of" class="headerlink" title="Array.of()"></a>Array.of()</h5><p>ç”¨äºå°†ä¸€ç»„å€¼ï¼Œè½¬æ¢ä¸ºæ•°ç»„</p>
<pre><code class="javascript">Array.of(3, 11, 8) // [3,11,8]
</code></pre>
<p>æ²¡æœ‰å‚æ•°çš„æ—¶å€™ï¼Œè¿”å›ä¸€ä¸ªç©ºæ•°ç»„</p>
<p>å½“å‚æ•°åªæœ‰ä¸€ä¸ªçš„æ—¶å€™ï¼Œå®é™…ä¸Šæ˜¯æŒ‡å®šæ•°ç»„çš„é•¿åº¦</p>
<p>å‚æ•°ä¸ªæ•°ä¸å°‘äº 2 ä¸ªæ—¶ï¼Œ<code>Array()</code>æ‰ä¼šè¿”å›ç”±å‚æ•°ç»„æˆçš„æ–°æ•°ç»„</p>
<pre><code class="javascript">Array() // []
Array(3) // [, , ,]
Array(3, 11, 8) // [3, 11, 8]
</code></pre>
<h4 id="ä¸‰ã€å®ä¾‹å¯¹è±¡æ–°å¢çš„æ–¹æ³•"><a href="#ä¸‰ã€å®ä¾‹å¯¹è±¡æ–°å¢çš„æ–¹æ³•" class="headerlink" title="ä¸‰ã€å®ä¾‹å¯¹è±¡æ–°å¢çš„æ–¹æ³•"></a>ä¸‰ã€å®ä¾‹å¯¹è±¡æ–°å¢çš„æ–¹æ³•</h4><p>å…³äºæ•°ç»„å®ä¾‹å¯¹è±¡æ–°å¢çš„æ–¹æ³•æœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>copyWithin()</li>
<li>find()ã€findIndex()</li>
<li>fill()</li>
<li>entries()ï¼Œkeys()ï¼Œvalues()</li>
<li>includes()</li>
<li>flat()ï¼ŒflatMap()</li>
</ul>
<h5 id="copyWithin"><a href="#copyWithin" class="headerlink" title="copyWithin()"></a>copyWithin()</h5><p>å°†æŒ‡å®šä½ç½®çš„æˆå‘˜å¤åˆ¶åˆ°å…¶ä»–ä½ç½®ï¼ˆä¼šè¦†ç›–åŸæœ‰æˆå‘˜ï¼‰ï¼Œç„¶åè¿”å›å½“å‰æ•°ç»„</p>
<p>å‚æ•°å¦‚ä¸‹ï¼š</p>
<ul>
<li>targetï¼ˆå¿…éœ€ï¼‰ï¼šä»è¯¥ä½ç½®å¼€å§‹æ›¿æ¢æ•°æ®ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå€’æ•°ã€‚</li>
<li>startï¼ˆå¯é€‰ï¼‰ï¼šä»è¯¥ä½ç½®å¼€å§‹è¯»å–æ•°æ®ï¼Œé»˜è®¤ä¸º 0ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºä»æœ«å°¾å¼€å§‹è®¡ç®—ã€‚</li>
<li>endï¼ˆå¯é€‰ï¼‰ï¼šåˆ°è¯¥ä½ç½®å‰åœæ­¢è¯»å–æ•°æ®ï¼Œé»˜è®¤ç­‰äºæ•°ç»„é•¿åº¦ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºä»æœ«å°¾å¼€å§‹è®¡ç®—ã€‚</li>
</ul>
<pre><code>[1, 2, 3, 4, 5].copyWithin(0, 3) // å°†ä» 3 å·ä½ç›´åˆ°æ•°ç»„ç»“æŸçš„æˆå‘˜ï¼ˆ4 å’Œ 5ï¼‰ï¼Œå¤åˆ¶åˆ°ä» 0 å·ä½å¼€å§‹çš„ä½ç½®ï¼Œç»“æœè¦†ç›–äº†åŸæ¥çš„ 1 å’Œ 2
// [4, 5, 3, 4, 5] 
</code></pre>
<h5 id="find-ã€findIndex"><a href="#find-ã€findIndex" class="headerlink" title="find()ã€findIndex()"></a>find()ã€findIndex()</h5><p><code>find()</code>ç”¨äºæ‰¾å‡ºç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜</p>
<p>å‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæ¥å—ä¸‰ä¸ªå‚æ•°ä¾æ¬¡ä¸ºå½“å‰çš„å€¼ã€å½“å‰çš„ä½ç½®å’ŒåŸæ•°ç»„</p>
<pre><code class="javascript">[1, 5, 10, 15].find(function(value, index, arr) &#123;
  return value &gt; 9;
&#125;) // 10
findIndex`è¿”å›ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜çš„ä½ç½®ï¼Œå¦‚æœæ‰€æœ‰æˆå‘˜éƒ½ä¸ç¬¦åˆæ¡ä»¶ï¼Œåˆ™è¿”å›`-1
[1, 5, 10, 15].findIndex(function(value, index, arr) &#123;
  return value &gt; 9;
&#125;) // 2
</code></pre>
<p>è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½å¯ä»¥æ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œç”¨æ¥ç»‘å®šå›è°ƒå‡½æ•°çš„<code>this</code>å¯¹è±¡ã€‚</p>
<pre><code class="javascript">function f(v)&#123;
  return v &gt; this.age;
&#125;
let person = &#123;name: &#39;John&#39;, age: 20&#125;;
[10, 12, 26, 15].find(f, person);    // 26
</code></pre>
<h5 id="fill"><a href="#fill" class="headerlink" title="fill()"></a>fill()</h5><p>ä½¿ç”¨ç»™å®šå€¼ï¼Œå¡«å……ä¸€ä¸ªæ•°ç»„</p>
<pre><code class="javascript">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;].fill(7)
// [7, 7, 7]

new Array(3).fill(7)
// [7, 7, 7]
</code></pre>
<p>è¿˜å¯ä»¥æ¥å—ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œç”¨äºæŒ‡å®šå¡«å……çš„èµ·å§‹ä½ç½®å’Œç»“æŸä½ç½®</p>
<pre><code class="javascript">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;].fill(7, 1, 2)
// [&#39;a&#39;, 7, &#39;c&#39;]
</code></pre>
<p>æ³¨æ„ï¼Œå¦‚æœå¡«å……çš„ç±»å‹ä¸ºå¯¹è±¡ï¼Œåˆ™æ˜¯æµ…æ‹·è´</p>
<h5 id="entries-ï¼Œkeys-ï¼Œvalues"><a href="#entries-ï¼Œkeys-ï¼Œvalues" class="headerlink" title="entries()ï¼Œkeys()ï¼Œvalues()"></a>entries()ï¼Œkeys()ï¼Œvalues()</h5><p><code>keys()</code>æ˜¯å¯¹é”®åçš„éå†ã€<code>values()</code>æ˜¯å¯¹é”®å€¼çš„éå†ï¼Œ<code>entries()</code>æ˜¯å¯¹é”®å€¼å¯¹çš„éå†</p>
<pre><code class="javascript">for (let index of [&#39;a&#39;, &#39;b&#39;].keys()) &#123;
  console.log(index);
&#125;
// 0
// 1

for (let elem of [&#39;a&#39;, &#39;b&#39;].values()) &#123;
  console.log(elem);
&#125;
// &#39;a&#39;
// &#39;b&#39;

for (let [index, elem] of [&#39;a&#39;, &#39;b&#39;].entries()) &#123;
  console.log(index, elem);
&#125;
// 0 &quot;a&quot;
</code></pre>
<h5 id="includes"><a href="#includes" class="headerlink" title="includes()"></a>includes()</h5><p>ç”¨äºåˆ¤æ–­æ•°ç»„æ˜¯å¦åŒ…å«ç»™å®šçš„å€¼</p>
<pre><code class="javascript">[1, 2, 3].includes(2)     // true
[1, 2, 3].includes(4)     // false
[1, 2, NaN].includes(NaN) // true
</code></pre>
<p>æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæœç´¢çš„èµ·å§‹ä½ç½®ï¼Œé»˜è®¤ä¸º<code>0</code></p>
<p>å‚æ•°ä¸ºè´Ÿæ•°åˆ™è¡¨ç¤ºå€’æ•°çš„ä½ç½®</p>
<pre><code class="javascript">[1, 2, 3].includes(3, 3);  // false
[1, 2, 3].includes(3, -1); // true
</code></pre>
<h5 id="flat-ï¼ŒflatMap"><a href="#flat-ï¼ŒflatMap" class="headerlink" title="flat()ï¼ŒflatMap()"></a>flat()ï¼ŒflatMap()</h5><p>å°†æ•°ç»„æ‰å¹³åŒ–å¤„ç†ï¼Œè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œå¯¹åŸæ•°æ®æ²¡æœ‰å½±å“</p>
<pre><code class="javascript">[1, 2, [3, 4]].flat()
// [1, 2, 3, 4]
</code></pre>
<p><code>flat()</code>é»˜è®¤åªä¼šâ€œæ‹‰å¹³â€ä¸€å±‚ï¼Œå¦‚æœæƒ³è¦â€œæ‹‰å¹³â€å¤šå±‚çš„åµŒå¥—æ•°ç»„ï¼Œå¯ä»¥å°†<code>flat()</code>æ–¹æ³•çš„å‚æ•°å†™æˆä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæƒ³è¦æ‹‰å¹³çš„å±‚æ•°ï¼Œé»˜è®¤ä¸º1</p>
<pre><code class="javascript">[1, 2, [3, [4, 5]]].flat()
// [1, 2, 3, [4, 5]]

[1, 2, [3, [4, 5]]].flat(2)
// [1, 2, 3, 4, 5]
</code></pre>
<p><code>flatMap()</code>æ–¹æ³•å¯¹åŸæ•°ç»„çš„æ¯ä¸ªæˆå‘˜æ‰§è¡Œä¸€ä¸ªå‡½æ•°ç›¸å½“äºæ‰§è¡Œ<code>Array.prototype.map()</code>ï¼Œç„¶åå¯¹è¿”å›å€¼ç»„æˆçš„æ•°ç»„æ‰§è¡Œ<code>flat()</code>æ–¹æ³•ã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œä¸æ”¹å˜åŸæ•°ç»„</p>
<pre><code class="javascript">// ç›¸å½“äº [[2, 4], [3, 6], [4, 8]].flat()
[2, 3, 4].flatMap((x) =&gt; [x, x * 2])
// [2, 4, 3, 6, 4, 8]
flatMap()`æ–¹æ³•è¿˜å¯ä»¥æœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œç”¨æ¥ç»‘å®šéå†å‡½æ•°é‡Œé¢çš„`this
</code></pre>
<h4 id="å››ã€æ•°ç»„çš„ç©ºä½"><a href="#å››ã€æ•°ç»„çš„ç©ºä½" class="headerlink" title="å››ã€æ•°ç»„çš„ç©ºä½"></a>å››ã€æ•°ç»„çš„ç©ºä½</h4><p>æ•°ç»„çš„ç©ºä½æŒ‡ï¼Œæ•°ç»„çš„æŸä¸€ä¸ªä½ç½®æ²¡æœ‰ä»»ä½•å€¼</p>
<p>ES6 åˆ™æ˜¯æ˜ç¡®å°†ç©ºä½è½¬ä¸º<code>undefined</code>ï¼ŒåŒ…æ‹¬<code>Array.from</code>ã€æ‰©å±•è¿ç®—ç¬¦ã€<code>copyWithin()</code>ã€<code>fill()</code>ã€<code>entries()</code>ã€<code>keys()</code>ã€<code>values()</code>ã€<code>find()</code>å’Œ<code>findIndex()</code></p>
<p>å»ºè®®å¤§å®¶åœ¨æ—¥å¸¸ä¹¦å†™ä¸­ï¼Œé¿å…å‡ºç°ç©ºä½</p>
<h4 id="äº”ã€æ’åºç¨³å®šæ€§"><a href="#äº”ã€æ’åºç¨³å®šæ€§" class="headerlink" title="äº”ã€æ’åºç¨³å®šæ€§"></a>äº”ã€æ’åºç¨³å®šæ€§</h4><p>å°†<code>sort()</code>é»˜è®¤è®¾ç½®ä¸ºç¨³å®šçš„æ’åºç®—æ³•</p>
<pre><code class="javascript">const arr = [
  &#39;peach&#39;,
  &#39;straw&#39;,
  &#39;apple&#39;,
  &#39;spork&#39;
];

const stableSorting = (s1, s2) =&gt; &#123;
  if (s1[0] &lt; s2[0]) return -1;
  return 1;
&#125;;

arr.sort(stableSorting)
// [&quot;apple&quot;, &quot;peach&quot;, &quot;straw&quot;, &quot;spork&quot;]
</code></pre>
<p>æ’åºç»“æœä¸­ï¼Œ<code>straw</code>åœ¨<code>spork</code>çš„å‰é¢ï¼Œè·ŸåŸå§‹é¡ºåºä¸€è‡´</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-ES6ä¸­å¯¹è±¡æ–°å¢äº†å“ªäº›æ‰©å±•"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-ES6ä¸­å¯¹è±¡æ–°å¢äº†å“ªäº›æ‰©å±•" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ ES6ä¸­å¯¹è±¡æ–°å¢äº†å“ªäº›æ‰©å±•?"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ ES6ä¸­å¯¹è±¡æ–°å¢äº†å“ªäº›æ‰©å±•?</h3><h4 id="ä¸€ã€å±æ€§çš„ç®€å†™"><a href="#ä¸€ã€å±æ€§çš„ç®€å†™" class="headerlink" title="ä¸€ã€å±æ€§çš„ç®€å†™"></a>ä¸€ã€å±æ€§çš„ç®€å†™</h4><p>ES6ä¸­ï¼Œå½“å¯¹è±¡é”®åä¸å¯¹åº”å€¼åç›¸ç­‰çš„æ—¶å€™ï¼Œå¯ä»¥è¿›è¡Œç®€å†™</p>
<pre><code class="javascript">const baz = &#123;foo:foo&#125;

// ç­‰åŒäº
const baz = &#123;foo&#125;
</code></pre>
<p>æ–¹æ³•ä¹Ÿèƒ½å¤Ÿè¿›è¡Œç®€å†™</p>
<pre><code class="javascript">const o = &#123;
  method() &#123;
    return &quot;Hello!&quot;;
  &#125;
&#125;;

// ç­‰åŒäº

const o = &#123;
  method: function() &#123;
    return &quot;Hello!&quot;;
  &#125;
&#125;
</code></pre>
<p>åœ¨å‡½æ•°å†…ä½œä¸ºè¿”å›å€¼ï¼Œä¹Ÿä¼šå˜å¾—æ–¹ä¾¿å¾ˆå¤š</p>
<pre><code class="javascript">function getPoint() &#123;
  const x = 1;
  const y = 10;
  return &#123;x, y&#125;;
&#125;

getPoint()
// &#123;x:1, y:10&#125;
</code></pre>
<p>æ³¨æ„ï¼šç®€å†™çš„å¯¹è±¡æ–¹æ³•ä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°ï¼Œå¦åˆ™ä¼šæŠ¥é”™</p>
<pre><code class="javascript">const obj = &#123;
  f() &#123;
    this.foo = &#39;bar&#39;;
  &#125;
&#125;;

new obj.f() // æŠ¥é”™
</code></pre>
<h4 id="äºŒã€å±æ€§åè¡¨è¾¾å¼"><a href="#äºŒã€å±æ€§åè¡¨è¾¾å¼" class="headerlink" title="äºŒã€å±æ€§åè¡¨è¾¾å¼"></a>äºŒã€å±æ€§åè¡¨è¾¾å¼</h4><p>ES6 å…è®¸å­—é¢é‡å®šä¹‰å¯¹è±¡æ—¶ï¼Œå°†è¡¨è¾¾å¼æ”¾åœ¨æ‹¬å·å†…</p>
<pre><code class="javascript">let lastWord = &#39;last word&#39;;

const a = &#123;
  &#39;first word&#39;: &#39;hello&#39;,
  [lastWord]: &#39;world&#39;
&#125;;

a[&#39;first word&#39;] // &quot;hello&quot;
a[lastWord] // &quot;world&quot;
a[&#39;last word&#39;] // &quot;world&quot;
</code></pre>
<p>è¡¨è¾¾å¼è¿˜å¯ä»¥ç”¨äºå®šä¹‰æ–¹æ³•å</p>
<pre><code class="javascript">let obj = &#123;
  [&#39;h&#39; + &#39;ello&#39;]() &#123;
    return &#39;hi&#39;;
  &#125;
&#125;;

obj.hello() // hi
</code></pre>
<p>æ³¨æ„ï¼Œå±æ€§åè¡¨è¾¾å¼ä¸ç®€æ´è¡¨ç¤ºæ³•ï¼Œä¸èƒ½åŒæ—¶ä½¿ç”¨ï¼Œä¼šæŠ¥é”™</p>
<pre><code class="javascript">// æŠ¥é”™
const foo = &#39;bar&#39;;
const bar = &#39;abc&#39;;
const baz = &#123; [foo] &#125;;

// æ­£ç¡®
const foo = &#39;bar&#39;;
const baz = &#123; [foo]: &#39;abc&#39;&#125;;
</code></pre>
<p>æ³¨æ„ï¼Œå±æ€§åè¡¨è¾¾å¼å¦‚æœæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šè‡ªåŠ¨å°†å¯¹è±¡è½¬ä¸ºå­—ç¬¦ä¸²<code>[object Object]</code></p>
<pre><code class="javascript">const keyA = &#123;a: 1&#125;;
const keyB = &#123;b: 2&#125;;

const myObject = &#123;
  [keyA]: &#39;valueA&#39;,
  [keyB]: &#39;valueB&#39;
&#125;;

myObject // Object &#123;[object Object]: &quot;valueB&quot;&#125;
</code></pre>
<h4 id="ä¸‰ã€superå…³é”®å­—"><a href="#ä¸‰ã€superå…³é”®å­—" class="headerlink" title="ä¸‰ã€superå…³é”®å­—"></a>ä¸‰ã€superå…³é”®å­—</h4><p><code>this</code>å…³é”®å­—æ€»æ˜¯æŒ‡å‘å‡½æ•°æ‰€åœ¨çš„å½“å‰å¯¹è±¡ï¼ŒES6 åˆæ–°å¢äº†å¦ä¸€ä¸ªç±»ä¼¼çš„å…³é”®å­—<code>super</code>ï¼ŒæŒ‡å‘å½“å‰å¯¹è±¡çš„åŸå‹å¯¹è±¡</p>
<pre><code class="javascript">const proto = &#123;
  foo: &#39;hello&#39;
&#125;;

const obj = &#123;
  foo: &#39;world&#39;,
  find() &#123;
    return super.foo;
  &#125;
&#125;;

Object.setPrototypeOf(obj, proto); // ä¸ºobjè®¾ç½®åŸå‹å¯¹è±¡
obj.find() // &quot;hello&quot;
</code></pre>
<h4 id="å››ã€æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨"><a href="#å››ã€æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨" class="headerlink" title="å››ã€æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨"></a>å››ã€æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨</h4><p>åœ¨è§£æ„èµ‹å€¼ä¸­ï¼Œæœªè¢«è¯»å–çš„å¯éå†çš„å±æ€§ï¼Œåˆ†é…åˆ°æŒ‡å®šçš„å¯¹è±¡ä¸Šé¢</p>
<pre><code class="javascript">let &#123; x, y, ...z &#125; = &#123; x: 1, y: 2, a: 3, b: 4 &#125;;
x // 1
y // 2
z // &#123; a: 3, b: 4 &#125;
</code></pre>
<p>æ³¨æ„ï¼šè§£æ„èµ‹å€¼å¿…é¡»æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œå¦åˆ™ä¼šæŠ¥é”™</p>
<p>è§£æ„èµ‹å€¼æ˜¯æµ…æ‹·è´</p>
<pre><code class="javascript">let obj = &#123; a: &#123; b: 1 &#125; &#125;;
let &#123; ...x &#125; = obj;
obj.a.b = 2; // ä¿®æ”¹objé‡Œé¢aå±æ€§ä¸­é”®å€¼
x.a.b // 2ï¼Œå½±å“åˆ°äº†ç»“æ„å‡ºæ¥xçš„å€¼
</code></pre>
<p>å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦ç­‰åŒäºä½¿ç”¨<code>Object.assign()</code>æ–¹æ³•</p>
<h4 id="äº”ã€å±æ€§çš„éå†"><a href="#äº”ã€å±æ€§çš„éå†" class="headerlink" title="äº”ã€å±æ€§çš„éå†"></a>äº”ã€å±æ€§çš„éå†</h4><p>ES6 ä¸€å…±æœ‰ 5 ç§æ–¹æ³•å¯ä»¥éå†å¯¹è±¡çš„å±æ€§ã€‚</p>
<ul>
<li>forâ€¦inï¼šå¾ªç¯éå†å¯¹è±¡è‡ªèº«çš„å’Œç»§æ‰¿çš„å¯æšä¸¾å±æ€§ï¼ˆä¸å« Symbol å±æ€§ï¼‰</li>
<li>Object.keys(obj)ï¼šè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…æ‹¬å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼ˆä¸å« Symbol å±æ€§ï¼‰çš„é”®å</li>
<li>Object.getOwnPropertyNames(obj)ï¼šå›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å±æ€§ï¼ˆä¸å« Symbol å±æ€§ï¼Œä½†æ˜¯åŒ…æ‹¬ä¸å¯æšä¸¾å±æ€§ï¼‰çš„é”®å</li>
<li>Object.getOwnPropertySymbols(obj)ï¼šè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰ Symbol å±æ€§çš„é”®å</li>
<li>Reflect.ownKeys(obj)ï¼šè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰é”®åï¼Œä¸ç®¡é”®åæ˜¯ Symbol æˆ–å­—ç¬¦ä¸²ï¼Œä¹Ÿä¸ç®¡æ˜¯å¦å¯æšä¸¾</li>
</ul>
<p>ä¸Šè¿°éå†ï¼Œéƒ½éµå®ˆåŒæ ·çš„å±æ€§éå†çš„æ¬¡åºè§„åˆ™ï¼š</p>
<ul>
<li>é¦–å…ˆéå†æ‰€æœ‰æ•°å€¼é”®ï¼ŒæŒ‰ç…§æ•°å€¼å‡åºæ’åˆ—</li>
<li>å…¶æ¬¡éå†æ‰€æœ‰å­—ç¬¦ä¸²é”®ï¼ŒæŒ‰ç…§åŠ å…¥æ—¶é—´å‡åºæ’åˆ—</li>
<li>æœ€åéå†æ‰€æœ‰ Symbol é”®ï¼ŒæŒ‰ç…§åŠ å…¥æ—¶é—´å‡åºæ’</li>
</ul>
<pre><code class="javascript">Reflect.ownKeys(&#123; [Symbol()]:0, b:0, 10:0, 2:0, a:0 &#125;)
// [&#39;2&#39;, &#39;10&#39;, &#39;b&#39;, &#39;a&#39;, Symbol()]
</code></pre>
<h4 id="å…­ã€å¯¹è±¡æ–°å¢çš„æ–¹æ³•"><a href="#å…­ã€å¯¹è±¡æ–°å¢çš„æ–¹æ³•" class="headerlink" title="å…­ã€å¯¹è±¡æ–°å¢çš„æ–¹æ³•"></a>å…­ã€å¯¹è±¡æ–°å¢çš„æ–¹æ³•</h4><p>å…³äºå¯¹è±¡æ–°å¢çš„æ–¹æ³•ï¼Œåˆ†åˆ«æœ‰ä»¥ä¸‹ï¼š</p>
<ul>
<li>Object.is()</li>
<li>Object.assign()</li>
<li>Object.getOwnPropertyDescriptors()</li>
<li>Object.setPrototypeOf()ï¼ŒObject.getPrototypeOf()</li>
<li>Object.keys()ï¼ŒObject.values()ï¼ŒObject.entries()</li>
<li>Object.fromEntries()</li>
</ul>
<h5 id="Object-is"><a href="#Object-is" class="headerlink" title="Object.is()"></a>Object.is()</h5><p>ä¸¥æ ¼åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œä¸ä¸¥æ ¼æ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆ&#x3D;&#x3D;&#x3D;ï¼‰çš„è¡Œä¸ºåŸºæœ¬ä¸€è‡´ï¼Œä¸åŒä¹‹å¤„åªæœ‰ä¸¤ä¸ªï¼šä¸€æ˜¯<code>+0</code>ä¸ç­‰äº<code>-0</code>ï¼ŒäºŒæ˜¯<code>NaN</code>ç­‰äºè‡ªèº«</p>
<pre><code class="javascript">+0 === -0 //true
NaN === NaN // false

Object.is(+0, -0) // false
Object.is(NaN, NaN) // true
</code></pre>
<h5 id="Object-assign"><a href="#Object-assign" class="headerlink" title="Object.assign()"></a>Object.assign()</h5><pre><code class="javascript">Object.assign()`æ–¹æ³•ç”¨äºå¯¹è±¡çš„åˆå¹¶ï¼Œå°†æºå¯¹è±¡`source`çš„æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼Œå¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡`target
</code></pre>
<p><code>Object.assign()</code>æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç›®æ ‡å¯¹è±¡ï¼Œåé¢çš„å‚æ•°éƒ½æ˜¯æºå¯¹è±¡</p>
<pre><code class="javascript">const target = &#123; a: 1, b: 1 &#125;;

const source1 = &#123; b: 2, c: 2 &#125;;
const source2 = &#123; c: 3 &#125;;

Object.assign(target, source1, source2);
target // &#123;a:1, b:2, c:3&#125;
</code></pre>
<p>æ³¨æ„ï¼š<code>Object.assign()</code>æ–¹æ³•æ˜¯æµ…æ‹·è´ï¼Œé‡åˆ°åŒåå±æ€§ä¼šè¿›è¡Œæ›¿æ¢</p>
<h5 id="Object-getOwnPropertyDescriptors"><a href="#Object-getOwnPropertyDescriptors" class="headerlink" title="Object.getOwnPropertyDescriptors()"></a>Object.getOwnPropertyDescriptors()</h5><p>è¿”å›æŒ‡å®šå¯¹è±¡æ‰€æœ‰è‡ªèº«å±æ€§ï¼ˆéç»§æ‰¿å±æ€§ï¼‰çš„æè¿°å¯¹è±¡</p>
<pre><code class="javascript">const obj = &#123;
  foo: 123,
  get bar() &#123; return &#39;abc&#39; &#125;
&#125;;

Object.getOwnPropertyDescriptors(obj)
// &#123; foo:
//    &#123; value: 123,
//      writable: true,
//      enumerable: true,
//      configurable: true &#125;,
//   bar:
//    &#123; get: [Function: get bar],
//      set: undefined,
//      enumerable: true,
//      configurable: true &#125; &#125;
</code></pre>
<h5 id="Object-setPrototypeOf"><a href="#Object-setPrototypeOf" class="headerlink" title="Object.setPrototypeOf()"></a>Object.setPrototypeOf()</h5><p><code>Object.setPrototypeOf</code>æ–¹æ³•ç”¨æ¥è®¾ç½®ä¸€ä¸ªå¯¹è±¡çš„åŸå‹å¯¹è±¡</p>
<pre><code class="javascript">Object.setPrototypeOf(object, prototype)

// ç”¨æ³•
const o = Object.setPrototypeOf(&#123;&#125;, null);
</code></pre>
<h5 id="Object-getPrototypeOf"><a href="#Object-getPrototypeOf" class="headerlink" title="Object.getPrototypeOf()"></a>Object.getPrototypeOf()</h5><p>ç”¨äºè¯»å–ä¸€ä¸ªå¯¹è±¡çš„åŸå‹å¯¹è±¡</p>
<pre><code class="javascript">Object.getPrototypeOf(obj);
</code></pre>
<h5 id="Object-keys"><a href="#Object-keys" class="headerlink" title="Object.keys()"></a>Object.keys()</h5><p>è¿”å›è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†ï¼ˆenumerableï¼‰å±æ€§çš„é”®åçš„æ•°ç»„</p>
<pre><code class="javascript">var obj = &#123; foo: &#39;bar&#39;, baz: 42 &#125;;
Object.keys(obj)
// [&quot;foo&quot;, &quot;baz&quot;]
</code></pre>
<h5 id="Object-values"><a href="#Object-values" class="headerlink" title="Object.values()"></a>Object.values()</h5><p>è¿”å›è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†ï¼ˆenumerableï¼‰å±æ€§çš„é”®å¯¹åº”å€¼çš„æ•°ç»„</p>
<pre><code class="javascript">const obj = &#123; foo: &#39;bar&#39;, baz: 42 &#125;;
Object.values(obj)
// [&quot;bar&quot;, 42]
</code></pre>
<h5 id="Object-entries"><a href="#Object-entries" class="headerlink" title="Object.entries()"></a>Object.entries()</h5><p>è¿”å›ä¸€ä¸ªå¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†ï¼ˆenumerableï¼‰å±æ€§çš„é”®å€¼å¯¹çš„æ•°ç»„</p>
<pre><code class="javascript">const obj = &#123; foo: &#39;bar&#39;, baz: 42 &#125;;
Object.entries(obj)
// [ [&quot;foo&quot;, &quot;bar&quot;], [&quot;baz&quot;, 42] ]
</code></pre>
<h5 id="Object-fromEntries"><a href="#Object-fromEntries" class="headerlink" title="Object.fromEntries()"></a>Object.fromEntries()</h5><p>ç”¨äºå°†ä¸€ä¸ªé”®å€¼å¯¹æ•°ç»„è½¬ä¸ºå¯¹è±¡</p>
<pre><code class="javascript">Object.fromEntries([
  [&#39;foo&#39;, &#39;bar&#39;],
  [&#39;baz&#39;, 42]
])
// &#123; foo: &quot;bar&quot;, baz: 42 &#125;
</code></pre>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-ES6ä¸­å‡½æ•°æ–°å¢äº†å“ªäº›æ‰©å±•"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-ES6ä¸­å‡½æ•°æ–°å¢äº†å“ªäº›æ‰©å±•" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ ES6ä¸­å‡½æ•°æ–°å¢äº†å“ªäº›æ‰©å±•?"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ ES6ä¸­å‡½æ•°æ–°å¢äº†å“ªäº›æ‰©å±•?</h3><h4 id="ä¸€ã€å‚æ•°"><a href="#ä¸€ã€å‚æ•°" class="headerlink" title="ä¸€ã€å‚æ•°"></a>ä¸€ã€å‚æ•°</h4><p><code>ES6</code>å…è®¸ä¸ºå‡½æ•°çš„å‚æ•°è®¾ç½®é»˜è®¤å€¼</p>
<pre><code class="javascript">function log(x, y = &#39;World&#39;) &#123;
  console.log(x, y);
&#125;

console.log(&#39;Hello&#39;) // Hello World
console.log(&#39;Hello&#39;, &#39;China&#39;) // Hello China
console.log(&#39;Hello&#39;, &#39;&#39;) // Hello
</code></pre>
<p>å‡½æ•°çš„å½¢å‚æ˜¯é»˜è®¤å£°æ˜çš„ï¼Œä¸èƒ½ä½¿ç”¨<code>let</code>æˆ–<code>const</code>å†æ¬¡å£°æ˜</p>
<pre><code class="javascript">function foo(x = 5) &#123;
    let x = 1; // error
    const x = 2; // error
&#125;
</code></pre>
<p>å‚æ•°é»˜è®¤å€¼å¯ä»¥ä¸è§£æ„èµ‹å€¼çš„é»˜è®¤å€¼ç»“åˆèµ·æ¥ä½¿ç”¨</p>
<pre><code class="javascript">function foo(&#123;x, y = 5&#125;) &#123;
  console.log(x, y);
&#125;

foo(&#123;&#125;) // undefined 5
foo(&#123;x: 1&#125;) // 1 5
foo(&#123;x: 1, y: 2&#125;) // 1 2
foo() // TypeError: Cannot read property &#39;x&#39; of undefined
</code></pre>
<p>ä¸Šé¢çš„<code>foo</code>å‡½æ•°ï¼Œå½“å‚æ•°ä¸ºå¯¹è±¡çš„æ—¶å€™æ‰èƒ½è¿›è¡Œè§£æ„ï¼Œå¦‚æœæ²¡æœ‰æä¾›å‚æ•°çš„æ—¶å€™ï¼Œå˜é‡<code>x</code>å’Œ<code>y</code>å°±ä¸ä¼šç”Ÿæˆï¼Œä»è€ŒæŠ¥é”™ï¼Œè¿™é‡Œè®¾ç½®é»˜è®¤å€¼é¿å…</p>
<pre><code class="javascript">function foo(&#123;x, y = 5&#125; = &#123;&#125;) &#123;
  console.log(x, y);
&#125;

foo() // undefined 5
</code></pre>
<p>å‚æ•°é»˜è®¤å€¼åº”è¯¥æ˜¯å‡½æ•°çš„å°¾å‚æ•°ï¼Œå¦‚æœä¸æ˜¯éå°¾éƒ¨çš„å‚æ•°è®¾ç½®é»˜è®¤å€¼ï¼Œå®é™…ä¸Šè¿™ä¸ªå‚æ•°æ˜¯æ²¡å‘çœç•¥çš„</p>
<pre><code class="javascript">function f(x = 1, y) &#123;
  return [x, y];
&#125;

f() // [1, undefined]
f(2) // [2, undefined]
f(, 1) // æŠ¥é”™
f(undefined, 1) // [1, 1]
</code></pre>
<h4 id="äºŒã€å±æ€§"><a href="#äºŒã€å±æ€§" class="headerlink" title="äºŒã€å±æ€§"></a>äºŒã€å±æ€§</h4><h5 id="å‡½æ•°çš„lengthå±æ€§"><a href="#å‡½æ•°çš„lengthå±æ€§" class="headerlink" title="å‡½æ•°çš„lengthå±æ€§"></a>å‡½æ•°çš„lengthå±æ€§</h5><p><code>length</code>å°†è¿”å›æ²¡æœ‰æŒ‡å®šé»˜è®¤å€¼çš„å‚æ•°ä¸ªæ•°</p>
<pre><code class="javascript">(function (a) &#123;&#125;).length // 1
(function (a = 5) &#123;&#125;).length // 0
(function (a, b, c = 5) &#123;&#125;).length // 2
</code></pre>
<p><code>rest</code> å‚æ•°ä¹Ÿä¸ä¼šè®¡å…¥<code>length</code>å±æ€§</p>
<pre><code class="javascript">(function(...args) &#123;&#125;).length // 0
</code></pre>
<p>å¦‚æœè®¾ç½®äº†é»˜è®¤å€¼çš„å‚æ•°ä¸æ˜¯å°¾å‚æ•°ï¼Œé‚£ä¹ˆ<code>length</code>å±æ€§ä¹Ÿä¸å†è®¡å…¥åé¢çš„å‚æ•°äº†</p>
<pre><code class="javascript">(function (a = 0, b, c) &#123;&#125;).length // 0
(function (a, b = 1, c) &#123;&#125;).length // 1
</code></pre>
<h5 id="nameå±æ€§"><a href="#nameå±æ€§" class="headerlink" title="nameå±æ€§"></a>nameå±æ€§</h5><p>è¿”å›è¯¥å‡½æ•°çš„å‡½æ•°å</p>
<pre><code class="javascript">var f = function () &#123;&#125;;

// ES5
f.name // &quot;&quot;

// ES6
f.name // &quot;f&quot;
</code></pre>
<p>å¦‚æœå°†ä¸€ä¸ªå…·åå‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œåˆ™ <code>name</code>å±æ€§éƒ½è¿”å›è¿™ä¸ªå…·åå‡½æ•°åŸæœ¬çš„åå­—</p>
<pre><code class="javascript">const bar = function baz() &#123;&#125;;
bar.name // &quot;baz&quot;
Function`æ„é€ å‡½æ•°è¿”å›çš„å‡½æ•°å®ä¾‹ï¼Œ`name`å±æ€§çš„å€¼ä¸º`anonymous
(new Function).name // &quot;anonymous&quot;
</code></pre>
<p><code>bind</code>è¿”å›çš„å‡½æ•°ï¼Œ<code>name</code>å±æ€§å€¼ä¼šåŠ ä¸Š<code>bound</code>å‰ç¼€</p>
<pre><code class="javascript">function foo() &#123;&#125;;
foo.bind(&#123;&#125;).name // &quot;bound foo&quot;

(function()&#123;&#125;).bind(&#123;&#125;).name // &quot;bound &quot;
</code></pre>
<h4 id="ä¸‰ã€ä½œç”¨åŸŸ"><a href="#ä¸‰ã€ä½œç”¨åŸŸ" class="headerlink" title="ä¸‰ã€ä½œç”¨åŸŸ"></a>ä¸‰ã€ä½œç”¨åŸŸ</h4><p>ä¸€æ—¦è®¾ç½®äº†å‚æ•°çš„é»˜è®¤å€¼ï¼Œå‡½æ•°è¿›è¡Œå£°æ˜åˆå§‹åŒ–æ—¶ï¼Œå‚æ•°ä¼šå½¢æˆä¸€ä¸ªå•ç‹¬çš„ä½œç”¨åŸŸ</p>
<p>ç­‰åˆ°åˆå§‹åŒ–ç»“æŸï¼Œè¿™ä¸ªä½œç”¨åŸŸå°±ä¼šæ¶ˆå¤±ã€‚è¿™ç§è¯­æ³•è¡Œä¸ºï¼Œåœ¨ä¸è®¾ç½®å‚æ•°é»˜è®¤å€¼æ—¶ï¼Œæ˜¯ä¸ä¼šå‡ºç°çš„</p>
<p>ä¸‹é¢ä¾‹å­ä¸­ï¼Œ<code>y=x</code>ä¼šå½¢æˆä¸€ä¸ªå•ç‹¬ä½œç”¨åŸŸï¼Œ<code>x</code>æ²¡æœ‰è¢«å®šä¹‰ï¼Œæ‰€ä»¥æŒ‡å‘å…¨å±€å˜é‡<code>x</code></p>
<pre><code class="javascript">let x = 1;

function f(y = x) &#123; 
  // ç­‰åŒäº let y = x  
  let x = 2; 
  console.log(y);
&#125;

f() // 1
</code></pre>
<h4 id="å››ã€ä¸¥æ ¼æ¨¡å¼"><a href="#å››ã€ä¸¥æ ¼æ¨¡å¼" class="headerlink" title="å››ã€ä¸¥æ ¼æ¨¡å¼"></a>å››ã€ä¸¥æ ¼æ¨¡å¼</h4><p>åªè¦å‡½æ•°å‚æ•°ä½¿ç”¨äº†é»˜è®¤å€¼ã€è§£æ„èµ‹å€¼ã€æˆ–è€…æ‰©å±•è¿ç®—ç¬¦ï¼Œé‚£ä¹ˆå‡½æ•°å†…éƒ¨å°±ä¸èƒ½æ˜¾å¼è®¾å®šä¸ºä¸¥æ ¼æ¨¡å¼ï¼Œå¦åˆ™ä¼šæŠ¥é”™</p>
<pre><code class="javascript">// æŠ¥é”™
function doSomething(a, b = a) &#123;
  &#39;use strict&#39;;
  // code
&#125;

// æŠ¥é”™
const doSomething = function (&#123;a, b&#125;) &#123;
  &#39;use strict&#39;;
  // code
&#125;;

// æŠ¥é”™
const doSomething = (...a) =&gt; &#123;
  &#39;use strict&#39;;
  // code
&#125;;

const obj = &#123;
  // æŠ¥é”™
  doSomething(&#123;a, b&#125;) &#123;
    &#39;use strict&#39;;
    // code
  &#125;
&#125;;
</code></pre>
<h4 id="äº”ã€ç®­å¤´å‡½æ•°"><a href="#äº”ã€ç®­å¤´å‡½æ•°" class="headerlink" title="äº”ã€ç®­å¤´å‡½æ•°"></a>äº”ã€ç®­å¤´å‡½æ•°</h4><p>ä½¿ç”¨â€œç®­å¤´â€ï¼ˆ<code>=&gt;</code>ï¼‰å®šä¹‰å‡½æ•°</p>
<pre><code class="javascript">var f = v =&gt; v;

// ç­‰åŒäº
var f = function (v) &#123;
  return v;
&#125;;
</code></pre>
<p>å¦‚æœç®­å¤´å‡½æ•°ä¸éœ€è¦å‚æ•°æˆ–éœ€è¦å¤šä¸ªå‚æ•°ï¼Œå°±ä½¿ç”¨ä¸€ä¸ªåœ†æ‹¬å·ä»£è¡¨å‚æ•°éƒ¨åˆ†</p>
<pre><code class="javascript">var f = () =&gt; 5;
// ç­‰åŒäº
var f = function () &#123; return 5 &#125;;

var sum = (num1, num2) =&gt; num1 + num2;
// ç­‰åŒäº
var sum = function(num1, num2) &#123;
  return num1 + num2;
&#125;;
</code></pre>
<p>å¦‚æœç®­å¤´å‡½æ•°çš„ä»£ç å—éƒ¨åˆ†å¤šäºä¸€æ¡è¯­å¥ï¼Œå°±è¦ä½¿ç”¨å¤§æ‹¬å·å°†å®ƒä»¬æ‹¬èµ·æ¥ï¼Œå¹¶ä¸”ä½¿ç”¨<code>return</code>è¯­å¥è¿”å›</p>
<pre><code class="javascript">var sum = (num1, num2) =&gt; &#123; return num1 + num2; &#125;
</code></pre>
<p>å¦‚æœè¿”å›å¯¹è±¡ï¼Œéœ€è¦åŠ æ‹¬å·å°†å¯¹è±¡åŒ…è£¹</p>
<pre><code class="javascript">let getTempItem = id =&gt; (&#123; id: id, name: &quot;Temp&quot; &#125;);
</code></pre>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>å‡½æ•°ä½“å†…çš„<code>this</code>å¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ—¶æ‰€åœ¨çš„å¯¹è±¡</li>
<li>ä¸å¯ä»¥å½“ä½œæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯ä»¥ä½¿ç”¨<code>new</code>å‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯</li>
<li>ä¸å¯ä»¥ä½¿ç”¨<code>arguments</code>å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨ <code>rest</code> å‚æ•°ä»£æ›¿</li>
<li>ä¸å¯ä»¥ä½¿ç”¨<code>yield</code>å‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œ Generator å‡½æ•°</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-ES6ä¸­æ–°å¢çš„Setã€Mapä¸¤ç§æ•°æ®ç»“æ„æ€ä¹ˆç†è§£"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-ES6ä¸­æ–°å¢çš„Setã€Mapä¸¤ç§æ•°æ®ç»“æ„æ€ä¹ˆç†è§£" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ ES6ä¸­æ–°å¢çš„Setã€Mapä¸¤ç§æ•°æ®ç»“æ„æ€ä¹ˆç†è§£?"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ ES6ä¸­æ–°å¢çš„Setã€Mapä¸¤ç§æ•°æ®ç»“æ„æ€ä¹ˆç†è§£?</h3><p><code>Set</code>æ˜¯ä¸€ç§å«åšé›†åˆçš„æ•°æ®ç»“æ„ï¼Œ<code>Map</code>æ˜¯ä¸€ç§å«åšå­—å…¸çš„æ•°æ®ç»“æ„</p>
<p>ä»€ä¹ˆæ˜¯é›†åˆï¼Ÿä»€ä¹ˆåˆæ˜¯å­—å…¸ï¼Ÿ</p>
<ul>
<li>é›†åˆ<br>æ˜¯ç”±ä¸€å †æ— åºçš„ã€ç›¸å…³è”çš„ï¼Œä¸”ä¸é‡å¤çš„å†…å­˜ç»“æ„ã€æ•°å­¦ä¸­ç§°ä¸ºå…ƒç´ ã€‘ç»„æˆçš„ç»„åˆ</li>
<li>å­—å…¸<br>æ˜¯ä¸€äº›å…ƒç´ çš„é›†åˆã€‚æ¯ä¸ªå…ƒç´ æœ‰ä¸€ä¸ªç§°ä½œkey çš„åŸŸï¼Œä¸åŒå…ƒç´ çš„key å„ä¸ç›¸åŒ</li>
</ul>
<p>åŒºåˆ«ï¼Ÿ</p>
<ul>
<li>å…±åŒç‚¹ï¼šé›†åˆã€å­—å…¸éƒ½å¯ä»¥å­˜å‚¨ä¸é‡å¤çš„å€¼</li>
<li>ä¸åŒç‚¹ï¼šé›†åˆæ˜¯ä»¥[å€¼ï¼Œå€¼]çš„å½¢å¼å­˜å‚¨å…ƒç´ ï¼Œå­—å…¸æ˜¯ä»¥[é”®ï¼Œå€¼]çš„å½¢å¼å­˜å‚¨</li>
</ul>
<h4 id="ä¸€ã€Set"><a href="#ä¸€ã€Set" class="headerlink" title="ä¸€ã€Set"></a>ä¸€ã€Set</h4><p><code>Set</code>æ˜¯<code>es6</code>æ–°å¢çš„æ•°æ®ç»“æ„ï¼Œç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ˜¯æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç§°ä¸ºé›†åˆ</p>
<p><code>Set</code>æœ¬èº«æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ Set æ•°æ®ç»“æ„</p>
<pre><code>const s = new Set();
</code></pre>
<h5 id="å¢åˆ æ”¹æŸ¥"><a href="#å¢åˆ æ”¹æŸ¥" class="headerlink" title="å¢åˆ æ”¹æŸ¥"></a>å¢åˆ æ”¹æŸ¥</h5><p><code>Set</code>çš„å®ä¾‹å…³äºå¢åˆ æ”¹æŸ¥çš„æ–¹æ³•ï¼š</p>
<ul>
<li>add()</li>
<li>delete()</li>
<li>has()</li>
<li>clear()</li>
</ul>
<h6 id="add"><a href="#add" class="headerlink" title="add()"></a>add()</h6><p>æ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å› <code>Set</code> ç»“æ„æœ¬èº«</p>
<p>å½“æ·»åŠ å®ä¾‹ä¸­å·²ç»å­˜åœ¨çš„å…ƒç´ ï¼Œ<code>set</code>ä¸ä¼šè¿›è¡Œå¤„ç†æ·»åŠ </p>
<pre><code>s.add(1).add(2).add(2); // 2åªè¢«æ·»åŠ äº†ä¸€æ¬¡
</code></pre>
<h6 id="delete"><a href="#delete" class="headerlink" title="delete()"></a>delete()</h6><p>åˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸ</p>
<pre><code>s.delete(1)
</code></pre>
<h6 id="has"><a href="#has" class="headerlink" title="has()"></a>has()</h6><p>è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œåˆ¤æ–­è¯¥å€¼æ˜¯å¦ä¸º<code>Set</code>çš„æˆå‘˜</p>
<pre><code>s.has(2)
</code></pre>
<h6 id="clear"><a href="#clear" class="headerlink" title="clear()"></a>clear()</h6><p>æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼</p>
<pre><code>s.clear()
</code></pre>
<h6 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h6><p><code>Set</code>å®ä¾‹éå†çš„æ–¹æ³•æœ‰å¦‚ä¸‹ï¼š</p>
<p>å…³äºéå†çš„æ–¹æ³•ï¼Œæœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>keys()ï¼šè¿”å›é”®åçš„éå†å™¨</li>
<li>values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨</li>
<li>entries()ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨</li>
<li>forEach()ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜</li>
</ul>
<p><code>Set</code>çš„éå†é¡ºåºå°±æ˜¯æ’å…¥é¡ºåº</p>
<p><code>keys</code>æ–¹æ³•ã€<code>values</code>æ–¹æ³•ã€<code>entries</code>æ–¹æ³•è¿”å›çš„éƒ½æ˜¯éå†å™¨å¯¹è±¡</p>
<pre><code class="javascript">let set = new Set([&#39;red&#39;, &#39;green&#39;, &#39;blue&#39;]);

for (let item of set.keys()) &#123;
  console.log(item);
&#125;
// red
// green
// blue

for (let item of set.values()) &#123;
  console.log(item);
&#125;
// red
// green
// blue

for (let item of set.entries()) &#123;
  console.log(item);
&#125;
// [&quot;red&quot;, &quot;red&quot;]
// [&quot;green&quot;, &quot;green&quot;]
// [&quot;blue&quot;, &quot;blue&quot;]
forEach()`ç”¨äºå¯¹æ¯ä¸ªæˆå‘˜æ‰§è¡ŒæŸç§æ“ä½œï¼Œæ²¡æœ‰è¿”å›å€¼ï¼Œé”®å€¼ã€é”®åéƒ½ç›¸ç­‰ï¼ŒåŒæ ·çš„`forEach`æ–¹æ³•æœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œç”¨äºç»‘å®šå¤„ç†å‡½æ•°çš„`this
let set = new Set([1, 4, 9]);
set.forEach((value, key) =&gt; console.log(key + &#39; : &#39; + value))
// 1 : 1
// 4 : 4
// 9 : 9
</code></pre>
<p>æ‰©å±•è¿ç®—ç¬¦å’Œ<code> Set</code> ç»“æ„ç›¸ç»“åˆå®ç°æ•°ç»„æˆ–å­—ç¬¦ä¸²å»é‡</p>
<pre><code class="javascript">// æ•°ç»„
let arr = [3, 5, 2, 2, 5, 5];
let unique = [...new Set(arr)]; // [3, 5, 2]

// å­—ç¬¦ä¸²
let str = &quot;352255&quot;;
let unique = [...new Set(str)].join(&quot;&quot;); // &#39;352&#39;
</code></pre>
<p>å®ç°å¹¶é›†ã€äº¤é›†ã€å’Œå·®é›†</p>
<pre><code class="javascript">let a = new Set([1, 2, 3]);
let b = new Set([4, 3, 2]);

// å¹¶é›†
let union = new Set([...a, ...b]);
// Set &#123;1, 2, 3, 4&#125;

// äº¤é›†
let intersect = new Set([...a].filter(x =&gt; b.has(x)));
// set &#123;2, 3&#125;

// ï¼ˆa ç›¸å¯¹äº b çš„ï¼‰å·®é›†
let difference = new Set([...a].filter(x =&gt; !b.has(x)));
// Set &#123;1&#125;
</code></pre>
<h4 id="äºŒã€Map"><a href="#äºŒã€Map" class="headerlink" title="äºŒã€Map"></a>äºŒã€Map</h4><p><code>Map</code>ç±»å‹æ˜¯é”®å€¼å¯¹çš„æœ‰åºåˆ—è¡¨ï¼Œè€Œé”®å’Œå€¼éƒ½å¯ä»¥æ˜¯ä»»æ„ç±»å‹</p>
<p><code>Map</code>æœ¬èº«æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ <code>Map</code> æ•°æ®ç»“æ„</p>
<pre><code class="javascript">const m = new Map()
</code></pre>
<h5 id="å¢åˆ æ”¹æŸ¥-1"><a href="#å¢åˆ æ”¹æŸ¥-1" class="headerlink" title="å¢åˆ æ”¹æŸ¥"></a>å¢åˆ æ”¹æŸ¥</h5><p><code>Map</code> ç»“æ„çš„å®ä¾‹é’ˆå¯¹å¢åˆ æ”¹æŸ¥æœ‰ä»¥ä¸‹å±æ€§å’Œæ“ä½œæ–¹æ³•ï¼š</p>
<ul>
<li>size å±æ€§</li>
<li>set()</li>
<li>get()</li>
<li>has()</li>
<li>delete()</li>
<li>clear()</li>
</ul>
<h6 id="size"><a href="#size" class="headerlink" title="size"></a>size</h6><p><code>size</code>å±æ€§è¿”å› Map ç»“æ„çš„æˆå‘˜æ€»æ•°ã€‚</p>
<pre><code class="javascript">const map = new Map();
map.set(&#39;foo&#39;, true);
map.set(&#39;bar&#39;, false);

map.size // 2
</code></pre>
<h6 id="set"><a href="#set" class="headerlink" title="set()"></a>set()</h6><p>è®¾ç½®é”®å<code>key</code>å¯¹åº”çš„é”®å€¼ä¸º<code>value</code>ï¼Œç„¶åè¿”å›æ•´ä¸ª Map ç»“æ„</p>
<p>å¦‚æœ<code>key</code>å·²ç»æœ‰å€¼ï¼Œåˆ™é”®å€¼ä¼šè¢«æ›´æ–°ï¼Œå¦åˆ™å°±æ–°ç”Ÿæˆè¯¥é”®</p>
<p>åŒæ—¶è¿”å›çš„æ˜¯å½“å‰<code>Map</code>å¯¹è±¡ï¼Œå¯é‡‡ç”¨é“¾å¼å†™æ³•</p>
<pre><code class="javascript">const m = new Map();

m.set(&#39;edition&#39;, 6)        // é”®æ˜¯å­—ç¬¦ä¸²
m.set(262, &#39;standard&#39;)     // é”®æ˜¯æ•°å€¼
m.set(undefined, &#39;nah&#39;)    // é”®æ˜¯ undefined
m.set(1, &#39;a&#39;).set(2, &#39;b&#39;).set(3, &#39;c&#39;) // é“¾å¼æ“ä½œ
</code></pre>
<h6 id="get"><a href="#get" class="headerlink" title="get()"></a>get()</h6><pre><code class="javascript">get`æ–¹æ³•è¯»å–`key`å¯¹åº”çš„é”®å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°`key`ï¼Œè¿”å›`undefined
const m = new Map();

const hello = function() &#123;console.log(&#39;hello&#39;);&#125;;
m.set(hello, &#39;Hello ES6!&#39;) // é”®æ˜¯å‡½æ•°

m.get(hello)  // Hello ES6!
</code></pre>
<h6 id="has-1"><a href="#has-1" class="headerlink" title="has()"></a>has()</h6><p><code>has</code>æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªé”®æ˜¯å¦åœ¨å½“å‰ Map å¯¹è±¡ä¹‹ä¸­</p>
<pre><code class="javascript">const m = new Map();

m.set(&#39;edition&#39;, 6);
m.set(262, &#39;standard&#39;);
m.set(undefined, &#39;nah&#39;);

m.has(&#39;edition&#39;)     // true
m.has(&#39;years&#39;)       // false
m.has(262)           // true
m.has(undefined)     // true
</code></pre>
<h6 id="delete-1"><a href="#delete-1" class="headerlink" title="delete()"></a>delete()</h6><pre><code class="javascript">delete`æ–¹æ³•åˆ é™¤æŸä¸ªé”®ï¼Œè¿”å›`true`ã€‚å¦‚æœåˆ é™¤å¤±è´¥ï¼Œè¿”å›`false
const m = new Map();
m.set(undefined, &#39;nah&#39;);
m.has(undefined)     // true

m.delete(undefined)
m.has(undefined)       // false
</code></pre>
<h6 id="clear-1"><a href="#clear-1" class="headerlink" title="clear()"></a>clear()</h6><p><code>clear</code>æ–¹æ³•æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼</p>
<pre><code class="javascript">let map = new Map();
map.set(&#39;foo&#39;, true);
map.set(&#39;bar&#39;, false);

map.size // 2
map.clear()
map.size // 0
</code></pre>
<h6 id="éå†-1"><a href="#éå†-1" class="headerlink" title="éå†"></a>éå†</h6><p><code>Map </code>ç»“æ„åŸç”Ÿæä¾›ä¸‰ä¸ªéå†å™¨ç”Ÿæˆå‡½æ•°å’Œä¸€ä¸ªéå†æ–¹æ³•ï¼š</p>
<ul>
<li>keys()ï¼šè¿”å›é”®åçš„éå†å™¨</li>
<li>values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨</li>
<li>entries()ï¼šè¿”å›æ‰€æœ‰æˆå‘˜çš„éå†å™¨</li>
<li>forEach()ï¼šéå† Map çš„æ‰€æœ‰æˆå‘˜</li>
</ul>
<p>éå†é¡ºåºå°±æ˜¯æ’å…¥é¡ºåº</p>
<pre><code class="javascript">const map = new Map([
  [&#39;F&#39;, &#39;no&#39;],
  [&#39;T&#39;,  &#39;yes&#39;],
]);

for (let key of map.keys()) &#123;
  console.log(key);
&#125;
// &quot;F&quot;
// &quot;T&quot;

for (let value of map.values()) &#123;
  console.log(value);
&#125;
// &quot;no&quot;
// &quot;yes&quot;

for (let item of map.entries()) &#123;
  console.log(item[0], item[1]);
&#125;
// &quot;F&quot; &quot;no&quot;
// &quot;T&quot; &quot;yes&quot;

// æˆ–è€…
for (let [key, value] of map.entries()) &#123;
  console.log(key, value);
&#125;
// &quot;F&quot; &quot;no&quot;
// &quot;T&quot; &quot;yes&quot;

// ç­‰åŒäºä½¿ç”¨map.entries()
for (let [key, value] of map) &#123;
  console.log(key, value);
&#125;
// &quot;F&quot; &quot;no&quot;
// &quot;T&quot; &quot;yes&quot;

map.forEach(function(value, key, map) &#123;
  console.log(&quot;Key: %s, Value: %s&quot;, key, value);
&#125;);
</code></pre>
<h4 id="ä¸‰ã€WeakSet-å’Œ-WeakMap"><a href="#ä¸‰ã€WeakSet-å’Œ-WeakMap" class="headerlink" title="ä¸‰ã€WeakSet å’Œ WeakMap"></a>ä¸‰ã€WeakSet å’Œ WeakMap</h4><h5 id="WeakSet"><a href="#WeakSet" class="headerlink" title="WeakSet"></a>WeakSet</h5><p>åˆ›å»º<code>WeakSet</code>å®ä¾‹</p>
<pre><code class="javascript">const ws = new WeakSet();
</code></pre>
<p><code>WeakSet </code>å¯ä»¥æ¥å—ä¸€ä¸ªå…·æœ‰ <code>Iterable </code>æ¥å£çš„å¯¹è±¡ä½œä¸ºå‚æ•°</p>
<pre><code class="javascript">const a = [[1, 2], [3, 4]];
const ws = new WeakSet(a);
// WeakSet &#123;[1, 2], [3, 4]&#125;
</code></pre>
<p>åœ¨<code>API</code>ä¸­<code>WeakSet</code>ä¸<code>Set</code>æœ‰ä¸¤ä¸ªåŒºåˆ«ï¼š</p>
<ul>
<li>æ²¡æœ‰éå†æ“ä½œçš„<code>API</code></li>
<li>æ²¡æœ‰<code>size</code>å±æ€§</li>
</ul>
<p><code>WeackSet</code>åªèƒ½æˆå‘˜åªèƒ½æ˜¯å¼•ç”¨ç±»å‹ï¼Œè€Œä¸èƒ½æ˜¯å…¶ä»–ç±»å‹çš„å€¼</p>
<pre><code class="javascript">let ws=new WeakSet();

// æˆå‘˜ä¸æ˜¯å¼•ç”¨ç±»å‹
let weakSet=new WeakSet([2,3]);
console.log(weakSet) // æŠ¥é”™

// æˆå‘˜ä¸ºå¼•ç”¨ç±»å‹
let obj1=&#123;name:1&#125;
let obj2=&#123;name:1&#125;
let ws=new WeakSet([obj1,obj2]); 
console.log(ws) //WeakSet &#123;&#123;â€¦&#125;, &#123;â€¦&#125;&#125;
</code></pre>
<p><code>WeakSet </code>é‡Œé¢çš„å¼•ç”¨åªè¦åœ¨å¤–éƒ¨æ¶ˆå¤±ï¼Œå®ƒåœ¨ <code>WeakSet </code>é‡Œé¢çš„å¼•ç”¨å°±ä¼šè‡ªåŠ¨æ¶ˆå¤±</p>
<h5 id="WeakMap"><a href="#WeakMap" class="headerlink" title="WeakMap"></a>WeakMap</h5><p><code>WeakMap</code>ç»“æ„ä¸<code>Map</code>ç»“æ„ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ç”¨äºç”Ÿæˆé”®å€¼å¯¹çš„é›†åˆ</p>
<p>åœ¨<code>API</code>ä¸­<code>WeakMap</code>ä¸<code>Map</code>æœ‰ä¸¤ä¸ªåŒºåˆ«ï¼š</p>
<ul>
<li>æ²¡æœ‰éå†æ“ä½œçš„<code>API</code></li>
<li>æ²¡æœ‰<code>clear</code>æ¸…ç©ºæ–¹æ³•</li>
</ul>
<pre><code class="javascript">// WeakMap å¯ä»¥ä½¿ç”¨ set æ–¹æ³•æ·»åŠ æˆå‘˜
const wm1 = new WeakMap();
const key = &#123;foo: 1&#125;;
wm1.set(key, 2);
wm1.get(key) // 2

// WeakMap ä¹Ÿå¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„ï¼Œ
// ä½œä¸ºæ„é€ å‡½æ•°çš„å‚æ•°
const k1 = [1, 2, 3];
const k2 = [4, 5, 6];
const wm2 = new WeakMap([[k1, &#39;foo&#39;], [k2, &#39;bar&#39;]]);
wm2.get(k2) // &quot;bar&quot;
</code></pre>
<p><code>WeakMap</code>åªæ¥å—å¯¹è±¡ä½œä¸ºé”®åï¼ˆ<code>null</code>é™¤å¤–ï¼‰ï¼Œä¸æ¥å—å…¶ä»–ç±»å‹çš„å€¼ä½œä¸ºé”®å</p>
<pre><code class="javascript">const map = new WeakMap();
map.set(1, 2)
// TypeError: 1 is not an object!
map.set(Symbol(), 2)
// TypeError: Invalid value used as weak map key
map.set(null, 2)
// TypeError: Invalid value used as weak map key
</code></pre>
<p><code>WeakMap</code>çš„é”®åæ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œä¸€æ—¦ä¸å†éœ€è¦ï¼Œé‡Œé¢çš„é”®åå¯¹è±¡å’Œæ‰€å¯¹åº”çš„é”®å€¼å¯¹ä¼šè‡ªåŠ¨æ¶ˆå¤±ï¼Œä¸ç”¨æ‰‹åŠ¨åˆ é™¤å¼•ç”¨</p>
<p>ä¸¾ä¸ªåœºæ™¯ä¾‹å­ï¼š</p>
<p>åœ¨ç½‘é¡µçš„ DOM å…ƒç´ ä¸Šæ·»åŠ æ•°æ®ï¼Œå°±å¯ä»¥ä½¿ç”¨<code>WeakMap</code>ç»“æ„ï¼Œå½“è¯¥ DOM å…ƒç´ è¢«æ¸…é™¤ï¼Œå…¶æ‰€å¯¹åº”çš„<code>WeakMap</code>è®°å½•å°±ä¼šè‡ªåŠ¨è¢«ç§»é™¤</p>
<pre><code class="javascript">const wm = new WeakMap();
const element = document.getElementById(&#39;example&#39;);
wm.set(element, &#39;some information&#39;);
wm.get(element) // &quot;some information&quot;
</code></pre>
<p>æ³¨æ„ï¼š<code>WeakMap</code> å¼±å¼•ç”¨çš„åªæ˜¯é”®åï¼Œè€Œä¸æ˜¯é”®å€¼ã€‚é”®å€¼ä¾ç„¶æ˜¯æ­£å¸¸å¼•ç”¨</p>
<p>ä¸‹é¢ä»£ç ä¸­ï¼Œé”®å€¼<code>obj</code>ä¼šåœ¨<code>WeakMap</code>äº§ç”Ÿæ–°çš„å¼•ç”¨ï¼Œå½“ä½ ä¿®æ”¹<code>obj</code>ä¸ä¼šå½±å“åˆ°å†…éƒ¨</p>
<pre><code class="javascript">const wm = new WeakMap();
let key = &#123;&#125;;
let obj = &#123;foo: 1&#125;;

wm.set(key, obj);
obj = null;
wm.get(key)
// Object &#123;foo: 1&#125;
</code></pre>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-ä½ æ˜¯æ€ä¹ˆç†è§£ES6ä¸­-Promiseçš„ï¼Ÿä½¿ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-ä½ æ˜¯æ€ä¹ˆç†è§£ES6ä¸­-Promiseçš„ï¼Ÿä½¿ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ ä½ æ˜¯æ€ä¹ˆç†è§£ES6ä¸­ Promiseçš„ï¼Ÿä½¿ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ ä½ æ˜¯æ€ä¹ˆç†è§£ES6ä¸­ Promiseçš„ï¼Ÿä½¿ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€ä»‹ç»"><a href="#ä¸€ã€ä»‹ç»" class="headerlink" title="ä¸€ã€ä»‹ç»"></a>ä¸€ã€ä»‹ç»</h4><p><code>Promise </code>ï¼Œè¯‘ä¸ºæ‰¿è¯ºï¼Œæ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆï¼ˆå›è°ƒå‡½æ•°ï¼‰æ›´åŠ åˆç†å’Œæ›´åŠ å¼ºå¤§</p>
<p>åœ¨ä»¥å¾€æˆ‘ä»¬å¦‚æœå¤„ç†å¤šå±‚å¼‚æ­¥æ“ä½œï¼Œæˆ‘ä»¬å¾€å¾€ä¼šåƒä¸‹é¢é‚£æ ·ç¼–å†™æˆ‘ä»¬çš„ä»£ç </p>
<pre><code class="javascript">doSomething(function(result) &#123;
  doSomethingElse(result, function(newResult) &#123;
    doThirdThing(newResult, function(finalResult) &#123;
      console.log(&#39;å¾—åˆ°æœ€ç»ˆç»“æœ: &#39; + finalResult);
    &#125;, failureCallback);
  &#125;, failureCallback);
&#125;, failureCallback);
</code></pre>
<p>é˜…è¯»ä¸Šé¢ä»£ç ï¼Œæ˜¯ä¸æ˜¯å¾ˆéš¾å—ï¼Œä¸Šè¿°å½¢æˆäº†ç»å…¸çš„å›è°ƒåœ°ç‹±</p>
<p>ç°åœ¨é€šè¿‡<code>Promise</code>çš„æ”¹å†™ä¸Šé¢çš„ä»£ç </p>
<pre><code class="javascript">doSomething().then(function(result) &#123;
  return doSomethingElse(result);
&#125;)
.then(function(newResult) &#123;
  return doThirdThing(newResult);
&#125;)
.then(function(finalResult) &#123;
  console.log(&#39;å¾—åˆ°æœ€ç»ˆç»“æœ: &#39; + finalResult);
&#125;)
.catch(failureCallback);
</code></pre>
<p>ç¬é—´æ„Ÿå—åˆ°<code>promise</code>è§£å†³å¼‚æ­¥æ“ä½œçš„ä¼˜ç‚¹ï¼š</p>
<ul>
<li>é“¾å¼æ“ä½œå‡ä½äº†ç¼–ç éš¾åº¦</li>
<li>ä»£ç å¯è¯»æ€§æ˜æ˜¾å¢å¼º</li>
</ul>
<p>ä¸‹é¢æˆ‘ä»¬æ­£å¼æ¥è®¤è¯†<code>promise</code>ï¼š</p>
<h5 id="çŠ¶æ€"><a href="#çŠ¶æ€" class="headerlink" title="çŠ¶æ€"></a>çŠ¶æ€</h5><p><code>promise</code>å¯¹è±¡ä»…æœ‰ä¸‰ç§çŠ¶æ€</p>
<ul>
<li><code>pending</code>ï¼ˆè¿›è¡Œä¸­ï¼‰</li>
<li><code>fulfilled</code>ï¼ˆå·²æˆåŠŸï¼‰</li>
<li><code>rejected</code>ï¼ˆå·²å¤±è´¥ï¼‰</li>
</ul>
<h5 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h5><ul>
<li>å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ï¼Œåªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€</li>
<li>ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼ˆä»<code>pending</code>å˜ä¸º<code>fulfilled</code>å’Œä»<code>pending</code>å˜ä¸º<code>rejected</code>ï¼‰ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœ</li>
</ul>
<h5 id="æµç¨‹"><a href="#æµç¨‹" class="headerlink" title="æµç¨‹"></a>æµç¨‹</h5><p>è®¤çœŸé˜…è¯»ä¸‹å›¾ï¼Œæˆ‘ä»¬èƒ½å¤Ÿè½»æ¾äº†è§£<code>promise</code>æ•´ä¸ªæµç¨‹</p>
<p><img src="/2022/10/31/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8ES6/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f31623032616539302d353861392d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<h4 id="äºŒã€ç”¨æ³•"><a href="#äºŒã€ç”¨æ³•" class="headerlink" title="äºŒã€ç”¨æ³•"></a>äºŒã€ç”¨æ³•</h4><p><code>Promise</code>å¯¹è±¡æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ<code>Promise</code>å®ä¾‹</p>
<pre><code class="javascript">const promise = new Promise(function(resolve, reject) &#123;&#125;);
Promise`æ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°çš„ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯`resolve`å’Œ`reject
</code></pre>
<ul>
<li><code>resolve</code>å‡½æ•°çš„ä½œç”¨æ˜¯ï¼Œå°†<code>Promise</code>å¯¹è±¡çš„çŠ¶æ€ä»â€œæœªå®Œæˆâ€å˜ä¸ºâ€œæˆåŠŸâ€</li>
<li><code>reject</code>å‡½æ•°çš„ä½œç”¨æ˜¯ï¼Œå°†<code>Promise</code>å¯¹è±¡çš„çŠ¶æ€ä»â€œæœªå®Œæˆâ€å˜ä¸ºâ€œå¤±è´¥â€</li>
</ul>
<h5 id="å®ä¾‹æ–¹æ³•"><a href="#å®ä¾‹æ–¹æ³•" class="headerlink" title="å®ä¾‹æ–¹æ³•"></a>å®ä¾‹æ–¹æ³•</h5><p><code>Promise</code>æ„å»ºå‡ºæ¥çš„å®ä¾‹å­˜åœ¨ä»¥ä¸‹æ–¹æ³•ï¼š</p>
<ul>
<li>then()</li>
<li>catch()</li>
<li>finally()</li>
</ul>
<h6 id="then"><a href="#then" class="headerlink" title="then()"></a>then()</h6><p><code>then</code>æ˜¯å®ä¾‹çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶çš„å›è°ƒå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<code>resolved</code>çŠ¶æ€çš„å›è°ƒå‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯<code>rejected</code>çŠ¶æ€çš„å›è°ƒå‡½æ•°</p>
<p><code>then</code>æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„<code>Promise</code>å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯<code>promise</code>èƒ½é“¾å¼ä¹¦å†™çš„åŸå› </p>
<pre><code class="javascript">getJSON(&quot;/posts.json&quot;).then(function(json) &#123;
  return json.post;
&#125;).then(function(post) &#123;
  // ...
&#125;);
</code></pre>
<h6 id="catch"><a href="#catch" class="headerlink" title="catch"></a>catch</h6><p><code>catch()</code>æ–¹æ³•æ˜¯<code>.then(null, rejection)</code>æˆ–<code>.then(undefined, rejection)</code>çš„åˆ«åï¼Œç”¨äºæŒ‡å®šå‘ç”Ÿé”™è¯¯æ—¶çš„å›è°ƒå‡½æ•°</p>
<pre><code class="javascript">getJSON(&#39;/posts.json&#39;).then(function(posts) &#123;
  // ...
&#125;).catch(function(error) &#123;
  // å¤„ç† getJSON å’Œ å‰ä¸€ä¸ªå›è°ƒå‡½æ•°è¿è¡Œæ—¶å‘ç”Ÿçš„é”™è¯¯
  console.log(&#39;å‘ç”Ÿé”™è¯¯ï¼&#39;, error);
&#125;);
</code></pre>
<p><code>Promise </code>å¯¹è±¡çš„é”™è¯¯å…·æœ‰â€œå†’æ³¡â€æ€§è´¨ï¼Œä¼šä¸€ç›´å‘åä¼ é€’ï¼Œç›´åˆ°è¢«æ•è·ä¸ºæ­¢</p>
<pre><code class="javascript">getJSON(&#39;/post/1.json&#39;).then(function(post) &#123;
  return getJSON(post.commentURL);
&#125;).then(function(comments) &#123;
  // some code
&#125;).catch(function(error) &#123;
  // å¤„ç†å‰é¢ä¸‰ä¸ªPromiseäº§ç”Ÿçš„é”™è¯¯
&#125;);
</code></pre>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œä½¿ç”¨<code>catch</code>æ–¹æ³•ä»£æ›¿<code>then()</code>ç¬¬äºŒä¸ªå‚æ•°</p>
<p><code>Promise </code>å¯¹è±¡æŠ›å‡ºçš„é”™è¯¯ä¸ä¼šä¼ é€’åˆ°å¤–å±‚ä»£ç ï¼Œå³ä¸ä¼šæœ‰ä»»ä½•ååº”</p>
<pre><code class="javascript">const someAsyncThing = function() &#123;
  return new Promise(function(resolve, reject) &#123;
    // ä¸‹é¢ä¸€è¡Œä¼šæŠ¥é”™ï¼Œå› ä¸ºxæ²¡æœ‰å£°æ˜
    resolve(x + 2);
  &#125;);
&#125;;
</code></pre>
<p>æµè§ˆå™¨è¿è¡Œåˆ°è¿™ä¸€è¡Œï¼Œä¼šæ‰“å°å‡ºé”™è¯¯æç¤º<code>ReferenceError: x is not defined</code>ï¼Œä½†æ˜¯ä¸ä¼šé€€å‡ºè¿›ç¨‹</p>
<p><code>catch()</code>æ–¹æ³•ä¹‹ä¸­ï¼Œè¿˜èƒ½å†æŠ›å‡ºé”™è¯¯ï¼Œé€šè¿‡åé¢<code>catch</code>æ–¹æ³•æ•è·åˆ°</p>
<h6 id="finally"><a href="#finally" class="headerlink" title="finally()"></a>finally()</h6><p><code>finally()</code>æ–¹æ³•ç”¨äºæŒ‡å®šä¸ç®¡ Promise å¯¹è±¡æœ€åçŠ¶æ€å¦‚ä½•ï¼Œéƒ½ä¼šæ‰§è¡Œçš„æ“ä½œ</p>
<pre><code class="javascript">promise
.then(result =&gt; &#123;Â·Â·Â·&#125;)
.catch(error =&gt; &#123;Â·Â·Â·&#125;)
.finally(() =&gt; &#123;Â·Â·Â·&#125;);
</code></pre>
<h5 id="æ„é€ å‡½æ•°æ–¹æ³•"><a href="#æ„é€ å‡½æ•°æ–¹æ³•" class="headerlink" title="æ„é€ å‡½æ•°æ–¹æ³•"></a>æ„é€ å‡½æ•°æ–¹æ³•</h5><p><code>Promise</code>æ„é€ å‡½æ•°å­˜åœ¨ä»¥ä¸‹æ–¹æ³•ï¼š</p>
<ul>
<li>all()</li>
<li>race()</li>
<li>allSettled()</li>
<li>resolve()</li>
<li>reject()</li>
<li>try()</li>
</ul>
<h6 id="all"><a href="#all" class="headerlink" title="all()"></a>all()</h6><p><code>Promise.all()</code>æ–¹æ³•ç”¨äºå°†å¤šä¸ª <code>Promise </code>å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ <code>Promise </code>å®ä¾‹</p>
<pre><code class="javascript">const p = Promise.all([p1, p2, p3]);
</code></pre>
<p>æ¥å—ä¸€ä¸ªæ•°ç»„ï¼ˆè¿­ä»£å¯¹è±¡ï¼‰ä½œä¸ºå‚æ•°ï¼Œæ•°ç»„æˆå‘˜éƒ½åº”ä¸º<code>Promise</code>å®ä¾‹</p>
<p>å®ä¾‹<code>p</code>çš„çŠ¶æ€ç”±<code>p1</code>ã€<code>p2</code>ã€<code>p3</code>å†³å®šï¼Œåˆ†ä¸ºä¸¤ç§ï¼š</p>
<ul>
<li>åªæœ‰<code>p1</code>ã€<code>p2</code>ã€<code>p3</code>çš„çŠ¶æ€éƒ½å˜æˆ<code>fulfilled</code>ï¼Œ<code>p</code>çš„çŠ¶æ€æ‰ä¼šå˜æˆ<code>fulfilled</code>ï¼Œæ­¤æ—¶<code>p1</code>ã€<code>p2</code>ã€<code>p3</code>çš„è¿”å›å€¼ç»„æˆä¸€ä¸ªæ•°ç»„ï¼Œä¼ é€’ç»™<code>p</code>çš„å›è°ƒå‡½æ•°</li>
<li>åªè¦<code>p1</code>ã€<code>p2</code>ã€<code>p3</code>ä¹‹ä¸­æœ‰ä¸€ä¸ªè¢«<code>rejected</code>ï¼Œ<code>p</code>çš„çŠ¶æ€å°±å˜æˆ<code>rejected</code>ï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ªè¢«<code>reject</code>çš„å®ä¾‹çš„è¿”å›å€¼ï¼Œä¼šä¼ é€’ç»™<code>p</code>çš„å›è°ƒå‡½æ•°</li>
</ul>
<p>æ³¨æ„ï¼Œå¦‚æœä½œä¸ºå‚æ•°çš„ <code>Promise</code> å®ä¾‹ï¼Œè‡ªå·±å®šä¹‰äº†<code>catch</code>æ–¹æ³•ï¼Œé‚£ä¹ˆå®ƒä¸€æ—¦è¢«<code>rejected</code>ï¼Œå¹¶ä¸ä¼šè§¦å‘<code>Promise.all()</code>çš„<code>catch</code>æ–¹æ³•</p>
<pre><code class="javascript">const p1 = new Promise((resolve, reject) =&gt; &#123;
  resolve(&#39;hello&#39;);
&#125;)
.then(result =&gt; result)
.catch(e =&gt; e);

const p2 = new Promise((resolve, reject) =&gt; &#123;
  throw new Error(&#39;æŠ¥é”™äº†&#39;);
&#125;)
.then(result =&gt; result)
.catch(e =&gt; e);

Promise.all([p1, p2])
.then(result =&gt; console.log(result))
.catch(e =&gt; console.log(e));
// [&quot;hello&quot;, Error: æŠ¥é”™äº†]
</code></pre>
<p>å¦‚æœ<code>p2</code>æ²¡æœ‰è‡ªå·±çš„<code>catch</code>æ–¹æ³•ï¼Œå°±ä¼šè°ƒç”¨<code>Promise.all()</code>çš„<code>catch</code>æ–¹æ³•</p>
<pre><code class="javascript">const p1 = new Promise((resolve, reject) =&gt; &#123;
  resolve(&#39;hello&#39;);
&#125;)
.then(result =&gt; result);

const p2 = new Promise((resolve, reject) =&gt; &#123;
  throw new Error(&#39;æŠ¥é”™äº†&#39;);
&#125;)
.then(result =&gt; result);

Promise.all([p1, p2])
.then(result =&gt; console.log(result))
.catch(e =&gt; console.log(e));
// Error: æŠ¥é”™äº†
</code></pre>
<h6 id="race"><a href="#race" class="headerlink" title="race()"></a>race()</h6><p><code>Promise.race()</code>æ–¹æ³•åŒæ ·æ˜¯å°†å¤šä¸ª Promise å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹</p>
<pre><code class="javascript">const p = Promise.race([p1, p2, p3]);
</code></pre>
<p>åªè¦<code>p1</code>ã€<code>p2</code>ã€<code>p3</code>ä¹‹ä¸­æœ‰ä¸€ä¸ªå®ä¾‹ç‡å…ˆæ”¹å˜çŠ¶æ€ï¼Œ<code>p</code>çš„çŠ¶æ€å°±è·Ÿç€æ”¹å˜</p>
<p>ç‡å…ˆæ”¹å˜çš„ Promise å®ä¾‹çš„è¿”å›å€¼åˆ™ä¼ é€’ç»™<code>p</code>çš„å›è°ƒå‡½æ•°</p>
<pre><code class="javascript">const p = Promise.race([
  fetch(&#39;/resource-that-may-take-a-while&#39;),
  new Promise(function (resolve, reject) &#123;
    setTimeout(() =&gt; reject(new Error(&#39;request timeout&#39;)), 5000)
  &#125;)
]);

p
.then(console.log)
.catch(console.error);
</code></pre>
<h6 id="allSettled"><a href="#allSettled" class="headerlink" title="allSettled()"></a>allSettled()</h6><p><code>Promise.allSettled()</code>æ–¹æ³•æ¥å—ä¸€ç»„ Promise å®ä¾‹ä½œä¸ºå‚æ•°ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹</p>
<p>åªæœ‰ç­‰åˆ°æ‰€æœ‰è¿™äº›å‚æ•°å®ä¾‹éƒ½è¿”å›ç»“æœï¼Œä¸ç®¡æ˜¯<code>fulfilled</code>è¿˜æ˜¯<code>rejected</code>ï¼ŒåŒ…è£…å®ä¾‹æ‰ä¼šç»“æŸ</p>
<pre><code class="javascript">const promises = [
  fetch(&#39;/api-1&#39;),
  fetch(&#39;/api-2&#39;),
  fetch(&#39;/api-3&#39;),
];

await Promise.allSettled(promises);
removeLoadingIndicator();
</code></pre>
<h6 id="resolve"><a href="#resolve" class="headerlink" title="resolve()"></a>resolve()</h6><p>å°†ç°æœ‰å¯¹è±¡è½¬ä¸º <code>Promise </code>å¯¹è±¡</p>
<pre><code class="javascript">Promise.resolve(&#39;foo&#39;)
// ç­‰ä»·äº
new Promise(resolve =&gt; resolve(&#39;foo&#39;))
</code></pre>
<p>å‚æ•°å¯ä»¥åˆ†æˆå››ç§æƒ…å†µï¼Œåˆ†åˆ«å¦‚ä¸‹ï¼š</p>
<ul>
<li>å‚æ•°æ˜¯ä¸€ä¸ª Promise å®ä¾‹ï¼Œ<code>promise.resolve</code>å°†ä¸åšä»»ä½•ä¿®æ”¹ã€åŸå°ä¸åŠ¨åœ°è¿”å›è¿™ä¸ªå®ä¾‹</li>
<li>å‚æ•°æ˜¯ä¸€ä¸ª<code>thenable</code>å¯¹è±¡ï¼Œ<code>promise.resolve</code>ä¼šå°†è¿™ä¸ªå¯¹è±¡è½¬ä¸º <code>Promise </code>å¯¹è±¡ï¼Œç„¶åå°±ç«‹å³æ‰§è¡Œ<code>thenable</code>å¯¹è±¡çš„<code>then()</code>æ–¹æ³•</li>
<li>å‚æ•°ä¸æ˜¯å…·æœ‰<code>then()</code>æ–¹æ³•çš„å¯¹è±¡ï¼Œæˆ–æ ¹æœ¬å°±ä¸æ˜¯å¯¹è±¡ï¼Œ<code>Promise.resolve()</code>ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ Promise å¯¹è±¡ï¼ŒçŠ¶æ€ä¸º<code>resolved</code></li>
<li>æ²¡æœ‰å‚æ•°æ—¶ï¼Œç›´æ¥è¿”å›ä¸€ä¸ª<code>resolved</code>çŠ¶æ€çš„ Promise å¯¹è±¡</li>
</ul>
<h6 id="reject"><a href="#reject" class="headerlink" title="reject()"></a>reject()</h6><pre><code class="javascript">Promise.reject(reason)`æ–¹æ³•ä¹Ÿä¼šè¿”å›ä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ï¼Œè¯¥å®ä¾‹çš„çŠ¶æ€ä¸º`rejected
const p = Promise.reject(&#39;å‡ºé”™äº†&#39;);
// ç­‰åŒäº
const p = new Promise((resolve, reject) =&gt; reject(&#39;å‡ºé”™äº†&#39;))

p.then(null, function (s) &#123;
  console.log(s)
&#125;);
// å‡ºé”™äº†
</code></pre>
<p><code>Promise.reject()</code>æ–¹æ³•çš„å‚æ•°ï¼Œä¼šåŸå°ä¸åŠ¨åœ°å˜æˆåç»­æ–¹æ³•çš„å‚æ•°</p>
<pre><code class="javascript">Promise.reject(&#39;å‡ºé”™äº†&#39;)
.catch(e =&gt; &#123;
  console.log(e === &#39;å‡ºé”™äº†&#39;)
&#125;)
// true
</code></pre>
<h4 id="ä¸‰ã€ä½¿ç”¨åœºæ™¯"><a href="#ä¸‰ã€ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä¸‰ã€ä½¿ç”¨åœºæ™¯"></a>ä¸‰ã€ä½¿ç”¨åœºæ™¯</h4><p>å°†å›¾ç‰‡çš„åŠ è½½å†™æˆä¸€ä¸ª<code>Promise</code>ï¼Œä¸€æ—¦åŠ è½½å®Œæˆï¼Œ<code>Promise</code>çš„çŠ¶æ€å°±å‘ç”Ÿå˜åŒ–</p>
<pre><code class="javascript">const preloadImage = function (path) &#123;
  return new Promise(function (resolve, reject) &#123;
    const image = new Image();
    image.onload  = resolve;
    image.onerror = reject;
    image.src = path;
  &#125;);
&#125;;
</code></pre>
<p>é€šè¿‡é“¾å¼æ“ä½œï¼Œå°†å¤šä¸ªæ¸²æŸ“æ•°æ®åˆ†åˆ«ç»™ä¸ª<code>then</code>ï¼Œè®©å…¶å„å¸å…¶èŒã€‚æˆ–å½“ä¸‹ä¸ªå¼‚æ­¥è¯·æ±‚ä¾èµ–ä¸Šä¸ªè¯·æ±‚ç»“æœçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½å¤Ÿé€šè¿‡é“¾å¼æ“ä½œå‹å¥½è§£å†³é—®é¢˜</p>
<pre><code class="javascript">// å„å¸å…¶èŒ
getInfo().then(res=&gt;&#123;
    let &#123; bannerList &#125; = res
    //æ¸²æŸ“è½®æ’­å›¾
    console.log(bannerList)
    return res
&#125;).then(res=&gt;&#123;
    
    let &#123; storeList &#125; = res
    //æ¸²æŸ“åº—é“ºåˆ—è¡¨
    console.log(storeList)
    return res
&#125;).then(res=&gt;&#123;
    let &#123; categoryList &#125; = res
    console.log(categoryList)
    //æ¸²æŸ“åˆ†ç±»åˆ—è¡¨
    return res
&#125;)
</code></pre>
<p>é€šè¿‡<code>all()</code>å®ç°å¤šä¸ªè¯·æ±‚åˆå¹¶åœ¨ä¸€èµ·ï¼Œæ±‡æ€»æ‰€æœ‰è¯·æ±‚ç»“æœï¼Œåªéœ€è®¾ç½®ä¸€ä¸ª<code>loading</code>å³å¯</p>
<pre><code class="javascript">function initLoad()&#123;
    // loading.show() //åŠ è½½loading
    Promise.all([getBannerList(),getStoreList(),getCategoryList()]).then(res=&gt;&#123;
        console.log(res)
        loading.hide() //å…³é—­loading
    &#125;).catch(err=&gt;&#123;
        console.log(err)
        loading.hide()//å…³é—­loading
    &#125;)
&#125;
//æ•°æ®åˆå§‹åŒ–    
initLoad()
</code></pre>
<p>é€šè¿‡<code>race</code>å¯ä»¥è®¾ç½®å›¾ç‰‡è¯·æ±‚è¶…æ—¶</p>
<pre><code class="javascript">//è¯·æ±‚æŸä¸ªå›¾ç‰‡èµ„æº
function requestImg()&#123;
    var p = new Promise(function(resolve, reject)&#123;
        var img = new Image();
        img.onload = function()&#123;
           resolve(img);
        &#125;
        //img.src = &quot;https://b-gold-cdn.xitu.io/v3/static/img/logo.a7995ad.svg&quot;; æ­£ç¡®çš„
        img.src = &quot;https://b-gold-cdn.xitu.io/v3/static/img/logo.a7995ad.svg1&quot;;
    &#125;);
    return p;
&#125;

//å»¶æ—¶å‡½æ•°ï¼Œç”¨äºç»™è¯·æ±‚è®¡æ—¶
function timeout()&#123;
    var p = new Promise(function(resolve, reject)&#123;
        setTimeout(function()&#123;
            reject(&#39;å›¾ç‰‡è¯·æ±‚è¶…æ—¶&#39;);
        &#125;, 5000);
    &#125;);
    return p;
&#125;

Promise
.race([requestImg(), timeout()])
.then(function(results)&#123;
    console.log(results);
&#125;)
.catch(function(reason)&#123;
    console.log(reason);
&#125;);
</code></pre>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-æ€ä¹ˆç†è§£ES6ä¸­-Generatorçš„ï¼Ÿä½¿ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-æ€ä¹ˆç†è§£ES6ä¸­-Generatorçš„ï¼Ÿä½¿ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ æ€ä¹ˆç†è§£ES6ä¸­ Generatorçš„ï¼Ÿä½¿ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ æ€ä¹ˆç†è§£ES6ä¸­ Generatorçš„ï¼Ÿä½¿ç”¨åœºæ™¯ï¼Ÿ</h3><p>Generator å‡½æ•°æ˜¯ ES6 æä¾›çš„ä¸€ç§å¼‚æ­¥ç¼–ç¨‹è§£å†³æ–¹æ¡ˆï¼Œè¯­æ³•è¡Œä¸ºä¸ä¼ ç»Ÿå‡½æ•°å®Œå…¨ä¸åŒ</p>
<p>å›é¡¾ä¸‹ä¸Šæ–‡æåˆ°çš„è§£å†³å¼‚æ­¥çš„æ‰‹æ®µï¼š</p>
<ul>
<li>å›è°ƒå‡½æ•°</li>
<li>promise</li>
</ul>
<p>é‚£ä¹ˆï¼Œä¸Šæ–‡æˆ‘ä»¬æåˆ°<code>promsie</code>å·²ç»æ˜¯ä¸€ç§æ¯”è¾ƒæµè¡Œçš„è§£å†³å¼‚æ­¥æ–¹æ¡ˆï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¿˜å‡ºç°<code>Generator</code>ï¼Ÿç”šè‡³<code>async/await</code>å‘¢ï¼Ÿ</p>
<p>è¯¥é—®é¢˜æˆ‘ä»¬ç•™åœ¨åé¢å†è¿›è¡Œåˆ†æï¼Œä¸‹é¢å…ˆè®¤è¯†ä¸‹<code>Generator</code></p>
<h4 id="Generatorå‡½æ•°"><a href="#Generatorå‡½æ•°" class="headerlink" title="Generatorå‡½æ•°"></a>Generatorå‡½æ•°</h4><p>æ‰§è¡Œ <code>Generator</code> å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼Œå¯ä»¥ä¾æ¬¡éå† <code>Generator</code> å‡½æ•°å†…éƒ¨çš„æ¯ä¸€ä¸ªçŠ¶æ€</p>
<p>å½¢å¼ä¸Šï¼Œ<code>Generator </code>å‡½æ•°æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªç‰¹å¾ï¼š</p>
<ul>
<li><code>function</code>å…³é”®å­—ä¸å‡½æ•°åä¹‹é—´æœ‰ä¸€ä¸ªæ˜Ÿå·</li>
<li>å‡½æ•°ä½“å†…éƒ¨ä½¿ç”¨<code>yield</code>è¡¨è¾¾å¼ï¼Œå®šä¹‰ä¸åŒçš„å†…éƒ¨çŠ¶æ€</li>
</ul>
<pre><code class="javascript">function* helloWorldGenerator() &#123;
  yield &#39;hello&#39;;
  yield &#39;world&#39;;
  return &#39;ending&#39;;
&#125;
</code></pre>
<h4 id="äºŒã€ä½¿ç”¨"><a href="#äºŒã€ä½¿ç”¨" class="headerlink" title="äºŒã€ä½¿ç”¨"></a>äºŒã€ä½¿ç”¨</h4><p><code>Generator</code> å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼Œå³å…·æœ‰<code>Symbol.iterator</code>å±æ€§ï¼Œå¹¶ä¸”è¿”å›ç»™è‡ªå·±</p>
<pre><code class="javascript">function* gen()&#123;
  // some code
&#125;

var g = gen();

g[Symbol.iterator]() === g
// true
</code></pre>
<p>é€šè¿‡<code>yield</code>å…³é”®å­—å¯ä»¥æš‚åœ<code>generator</code>å‡½æ•°è¿”å›çš„éå†å™¨å¯¹è±¡çš„çŠ¶æ€</p>
<pre><code class="javascript">function* helloWorldGenerator() &#123;
  yield &#39;hello&#39;;
  yield &#39;world&#39;;
  return &#39;ending&#39;;
&#125;
var hw = helloWorldGenerator();
</code></pre>
<p>ä¸Šè¿°å­˜åœ¨ä¸‰ä¸ªçŠ¶æ€ï¼š<code>hello</code>ã€<code>world</code>ã€<code>return</code></p>
<p>é€šè¿‡<code>next</code>æ–¹æ³•æ‰ä¼šéå†åˆ°ä¸‹ä¸€ä¸ªå†…éƒ¨çŠ¶æ€ï¼Œå…¶è¿è¡Œé€»è¾‘å¦‚ä¸‹ï¼š</p>
<ul>
<li>é‡åˆ°<code>yield</code>è¡¨è¾¾å¼ï¼Œå°±æš‚åœæ‰§è¡Œåé¢çš„æ“ä½œï¼Œå¹¶å°†ç´§è·Ÿåœ¨<code>yield</code>åé¢çš„é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œä½œä¸ºè¿”å›çš„å¯¹è±¡çš„<code>value</code>å±æ€§å€¼ã€‚</li>
<li>ä¸‹ä¸€æ¬¡è°ƒç”¨<code>next</code>æ–¹æ³•æ—¶ï¼Œå†ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ª<code>yield</code>è¡¨è¾¾å¼</li>
<li>å¦‚æœæ²¡æœ‰å†é‡åˆ°æ–°çš„<code>yield</code>è¡¨è¾¾å¼ï¼Œå°±ä¸€ç›´è¿è¡Œåˆ°å‡½æ•°ç»“æŸï¼Œç›´åˆ°<code>return</code>è¯­å¥ä¸ºæ­¢ï¼Œå¹¶å°†<code>return</code>è¯­å¥åé¢çš„è¡¨è¾¾å¼çš„å€¼ï¼Œä½œä¸ºè¿”å›çš„å¯¹è±¡çš„<code>value</code>å±æ€§å€¼ã€‚</li>
<li>å¦‚æœè¯¥å‡½æ•°æ²¡æœ‰<code>return</code>è¯­å¥ï¼Œåˆ™è¿”å›çš„å¯¹è±¡çš„<code>value</code>å±æ€§å€¼ä¸º<code>undefined</code></li>
</ul>
<pre><code class="javascript">hw.next()
// &#123; value: &#39;hello&#39;, done: false &#125;

hw.next()
// &#123; value: &#39;world&#39;, done: false &#125;

hw.next()
// &#123; value: &#39;ending&#39;, done: true &#125;

hw.next()
// &#123; value: undefined, done: true &#125;
</code></pre>
<p><code>done</code>ç”¨æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸‹ä¸ªçŠ¶æ€ï¼Œ<code>value</code>å¯¹åº”çŠ¶æ€å€¼</p>
<pre><code class="javascript">yield`è¡¨è¾¾å¼æœ¬èº«æ²¡æœ‰è¿”å›å€¼ï¼Œæˆ–è€…è¯´æ€»æ˜¯è¿”å›`undefined
</code></pre>
<p>é€šè¿‡è°ƒç”¨<code>next</code>æ–¹æ³•å¯ä»¥å¸¦ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°å°±ä¼šè¢«å½“ä½œä¸Šä¸€ä¸ª<code>yield</code>è¡¨è¾¾å¼çš„è¿”å›å€¼</p>
<pre><code class="javascript">function* foo(x) &#123;
  var y = 2 * (yield (x + 1));
  var z = yield (y / 3);
  return (x + y + z);
&#125;

var a = foo(5);
a.next() // Object&#123;value:6, done:false&#125;
a.next() // Object&#123;value:NaN, done:false&#125;
a.next() // Object&#123;value:NaN, done:true&#125;

var b = foo(5);
b.next() // &#123; value:6, done:false &#125;
b.next(12) // &#123; value:8, done:false &#125;
b.next(13) // &#123; value:42, done:true &#125;
</code></pre>
<p>æ­£å› ä¸º<code>Generator </code>å‡½æ•°è¿”å›<code>Iterator</code>å¯¹è±¡ï¼Œå› æ­¤æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡<code>for...of</code>è¿›è¡Œéå†</p>
<pre><code class="javascript">function* foo() &#123;
  yield 1;
  yield 2;
  yield 3;
  yield 4;
  yield 5;
  return 6;
&#125;

for (let v of foo()) &#123;
  console.log(v);
&#125;
// 1 2 3 4 5
</code></pre>
<p>åŸç”Ÿå¯¹è±¡æ²¡æœ‰éå†æ¥å£ï¼Œé€šè¿‡<code>Generator </code>å‡½æ•°ä¸ºå®ƒåŠ ä¸Šè¿™ä¸ªæ¥å£ï¼Œå°±èƒ½ä½¿ç”¨<code>for...of</code>è¿›è¡Œéå†äº†</p>
<pre><code class="javascript">function* objectEntries(obj) &#123;
  let propKeys = Reflect.ownKeys(obj);

  for (let propKey of propKeys) &#123;
    yield [propKey, obj[propKey]];
  &#125;
&#125;

let jane = &#123; first: &#39;Jane&#39;, last: &#39;Doe&#39; &#125;;

for (let [key, value] of objectEntries(jane)) &#123;
  console.log(`$&#123;key&#125;: $&#123;value&#125;`);
&#125;
// first: Jane
// last: Doe
</code></pre>
<h4 id="ä¸‰ã€å¼‚æ­¥è§£å†³æ–¹æ¡ˆ"><a href="#ä¸‰ã€å¼‚æ­¥è§£å†³æ–¹æ¡ˆ" class="headerlink" title="ä¸‰ã€å¼‚æ­¥è§£å†³æ–¹æ¡ˆ"></a>ä¸‰ã€å¼‚æ­¥è§£å†³æ–¹æ¡ˆ</h4><p>å›é¡¾ä¹‹å‰å±•å¼€å¼‚æ­¥è§£å†³çš„æ–¹æ¡ˆï¼š</p>
<ul>
<li>å›è°ƒå‡½æ•°</li>
<li>Promise å¯¹è±¡</li>
<li>generator å‡½æ•°</li>
<li>async&#x2F;await</li>
</ul>
<p>è¿™é‡Œé€šè¿‡æ–‡ä»¶è¯»å–æ¡ˆä¾‹ï¼Œå°†å‡ ç§è§£å†³å¼‚æ­¥çš„æ–¹æ¡ˆè¿›è¡Œä¸€ä¸ªæ¯”è¾ƒï¼š</p>
<h5 id="å›è°ƒå‡½æ•°"><a href="#å›è°ƒå‡½æ•°" class="headerlink" title="å›è°ƒå‡½æ•°"></a>å›è°ƒå‡½æ•°</h5><p>æ‰€è°“å›è°ƒå‡½æ•°ï¼Œå°±æ˜¯æŠŠä»»åŠ¡çš„ç¬¬äºŒæ®µå•ç‹¬å†™åœ¨ä¸€ä¸ªå‡½æ•°é‡Œé¢ï¼Œç­‰åˆ°é‡æ–°æ‰§è¡Œè¿™ä¸ªä»»åŠ¡çš„æ—¶å€™ï¼Œå†è°ƒç”¨è¿™ä¸ªå‡½æ•°</p>
<pre><code class="javascript">fs.readFile(&#39;/etc/fstab&#39;, function (err, data) &#123;
  if (err) throw err;
  console.log(data);
  fs.readFile(&#39;/etc/shells&#39;, function (err, data) &#123;
    if (err) throw err;
    console.log(data);
  &#125;);
&#125;);
</code></pre>
<p><code>readFile</code>å‡½æ•°çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œå°±æ˜¯å›è°ƒå‡½æ•°ï¼Œç­‰åˆ°æ“ä½œç³»ç»Ÿè¿”å›äº†<code>/etc/passwd</code>è¿™ä¸ªæ–‡ä»¶ä»¥åï¼Œå›è°ƒå‡½æ•°æ‰ä¼šæ‰§è¡Œ</p>
<h5 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h5><p><code>Promise</code>å°±æ˜¯ä¸ºäº†è§£å†³å›è°ƒåœ°ç‹±è€Œäº§ç”Ÿçš„ï¼Œå°†å›è°ƒå‡½æ•°çš„åµŒå¥—ï¼Œæ”¹æˆé“¾å¼è°ƒç”¨</p>
<pre><code class="javascript">const fs = require(&#39;fs&#39;);

const readFile = function (fileName) &#123;
  return new Promise(function (resolve, reject) &#123;
    fs.readFile(fileName, function(error, data) &#123;
      if (error) return reject(error);
      resolve(data);
    &#125;);
  &#125;);
&#125;;


readFile(&#39;/etc/fstab&#39;).then(data =&gt;&#123;
    console.log(data)
    return readFile(&#39;/etc/shells&#39;)
&#125;).then(data =&gt; &#123;
    console.log(data)
&#125;)
</code></pre>
<p>è¿™ç§é“¾å¼æ“ä½œå½¢å¼ï¼Œä½¿å¼‚æ­¥ä»»åŠ¡çš„ä¸¤æ®µæ‰§è¡Œæ›´æ¸…æ¥šäº†ï¼Œä½†æ˜¯ä¹Ÿå­˜åœ¨äº†å¾ˆæ˜æ˜¾çš„é—®é¢˜ï¼Œä»£ç å˜å¾—å†—æ‚äº†ï¼Œè¯­ä¹‰åŒ–å¹¶ä¸å¼º</p>
<h5 id="generator"><a href="#generator" class="headerlink" title="generator"></a>generator</h5><p><code>yield</code>è¡¨è¾¾å¼å¯ä»¥æš‚åœå‡½æ•°æ‰§è¡Œï¼Œ<code>next</code>æ–¹æ³•ç”¨äºæ¢å¤å‡½æ•°æ‰§è¡Œï¼Œè¿™ä½¿å¾—<code>Generator</code>å‡½æ•°éå¸¸é€‚åˆå°†å¼‚æ­¥ä»»åŠ¡åŒæ­¥åŒ–</p>
<pre><code class="javascript">const gen = function* () &#123;
  const f1 = yield readFile(&#39;/etc/fstab&#39;);
  const f2 = yield readFile(&#39;/etc/shells&#39;);
  console.log(f1.toString());
  console.log(f2.toString());
&#125;;
</code></pre>
<h5 id="async-x2F-await"><a href="#async-x2F-await" class="headerlink" title="async&#x2F;await"></a>async&#x2F;await</h5><p>å°†ä¸Šé¢<code>Generator</code>å‡½æ•°æ”¹æˆ<code>async/await</code>å½¢å¼ï¼Œæ›´ä¸ºç®€æ´ï¼Œè¯­ä¹‰åŒ–æ›´å¼ºäº†</p>
<pre><code class="javascript">const asyncReadFile = async function () &#123;
  const f1 = await readFile(&#39;/etc/fstab&#39;);
  const f2 = await readFile(&#39;/etc/shells&#39;);
  console.log(f1.toString());
  console.log(f2.toString());
&#125;;
</code></pre>
<h5 id="åŒºåˆ«ï¼š"><a href="#åŒºåˆ«ï¼š" class="headerlink" title="åŒºåˆ«ï¼š"></a>åŒºåˆ«ï¼š</h5><p>é€šè¿‡ä¸Šè¿°ä»£ç è¿›è¡Œåˆ†æï¼Œå°†<code>promise</code>ã€<code>Generator</code>ã€<code>async/await</code>è¿›è¡Œæ¯”è¾ƒï¼š</p>
<ul>
<li><code>promise</code>å’Œ<code>async/await</code>æ˜¯ä¸“é—¨ç”¨äºå¤„ç†å¼‚æ­¥æ“ä½œçš„</li>
<li><code>Generator</code>å¹¶ä¸æ˜¯ä¸ºå¼‚æ­¥è€Œè®¾è®¡å‡ºæ¥çš„ï¼Œå®ƒè¿˜æœ‰å…¶ä»–åŠŸèƒ½ï¼ˆå¯¹è±¡è¿­ä»£ã€æ§åˆ¶è¾“å‡ºã€éƒ¨ç½²<code>Interator</code>æ¥å£â€¦ï¼‰</li>
<li><code>promise</code>ç¼–å†™ä»£ç ç›¸æ¯”<code>Generator</code>ã€<code>async</code>æ›´ä¸ºå¤æ‚åŒ–ï¼Œä¸”å¯è¯»æ€§ä¹Ÿç¨å·®</li>
<li><code>Generator</code>ã€<code>async</code>éœ€è¦ä¸<code>promise</code>å¯¹è±¡æ­é…å¤„ç†å¼‚æ­¥æƒ…å†µ</li>
<li><code>async</code>å®è´¨æ˜¯<code>Generator</code>çš„è¯­æ³•ç³–ï¼Œç›¸å½“äºä¼šè‡ªåŠ¨æ‰§è¡Œ<code>Generator</code>å‡½æ•°</li>
<li><code>async</code>ä½¿ç”¨ä¸Šæ›´ä¸ºç®€æ´ï¼Œå°†å¼‚æ­¥ä»£ç ä»¥åŒæ­¥çš„å½¢å¼è¿›è¡Œç¼–å†™ï¼Œæ˜¯å¤„ç†å¼‚æ­¥ç¼–ç¨‹çš„æœ€ç»ˆæ–¹æ¡ˆ</li>
</ul>
<h4 id="å››ã€ä½¿ç”¨åœºæ™¯"><a href="#å››ã€ä½¿ç”¨åœºæ™¯" class="headerlink" title="å››ã€ä½¿ç”¨åœºæ™¯"></a>å››ã€ä½¿ç”¨åœºæ™¯</h4><p><code>Generator</code>æ˜¯å¼‚æ­¥è§£å†³çš„ä¸€ç§æ–¹æ¡ˆï¼Œæœ€å¤§ç‰¹ç‚¹åˆ™æ˜¯å°†å¼‚æ­¥æ“ä½œåŒæ­¥åŒ–è¡¨è¾¾å‡ºæ¥</p>
<pre><code class="javascript">function* loadUI() &#123;
  showLoadingScreen();
  yield loadUIDataAsynchronously();
  hideLoadingScreen();
&#125;
var loader = loadUI();
// åŠ è½½UI
loader.next()

// å¸è½½UI
loader.next()
</code></pre>
<p>åŒ…æ‹¬<code>redux-saga </code>ä¸­é—´ä»¶ä¹Ÿå……åˆ†åˆ©ç”¨äº†<code>Generator</code>ç‰¹æ€§</p>
<pre><code class="javascript">import &#123; call, put, takeEvery, takeLatest &#125; from &#39;redux-saga/effects&#39;
import Api from &#39;...&#39;

function* fetchUser(action) &#123;
   try &#123;
      const user = yield call(Api.fetchUser, action.payload.userId);
      yield put(&#123;type: &quot;USER_FETCH_SUCCEEDED&quot;, user: user&#125;);
   &#125; catch (e) &#123;
      yield put(&#123;type: &quot;USER_FETCH_FAILED&quot;, message: e.message&#125;);
   &#125;
&#125;

function* mySaga() &#123;
  yield takeEvery(&quot;USER_FETCH_REQUESTED&quot;, fetchUser);
&#125;

function* mySaga() &#123;
  yield takeLatest(&quot;USER_FETCH_REQUESTED&quot;, fetchUser);
&#125;

export default mySaga;
</code></pre>
<p>è¿˜èƒ½åˆ©ç”¨<code>Generator</code>å‡½æ•°ï¼Œåœ¨å¯¹è±¡ä¸Šå®ç°<code>Iterator</code>æ¥å£</p>
<pre><code class="javascript">function* iterEntries(obj) &#123;
  let keys = Object.keys(obj);
  for (let i=0; i &lt; keys.length; i++) &#123;
    let key = keys[i];
    yield [key, obj[key]];
  &#125;
&#125;

let myObj = &#123; foo: 3, bar: 7 &#125;;

for (let [key, value] of iterEntries(myObj)) &#123;
  console.log(key, value);
&#125;

// foo 3
// bar 7
</code></pre>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-æ€ä¹ˆç†è§£ES6ä¸­Proxyçš„ï¼Ÿä½¿ç”¨åœºæ™¯"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-æ€ä¹ˆç†è§£ES6ä¸­Proxyçš„ï¼Ÿä½¿ç”¨åœºæ™¯" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ æ€ä¹ˆç†è§£ES6ä¸­Proxyçš„ï¼Ÿä½¿ç”¨åœºæ™¯?"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ æ€ä¹ˆç†è§£ES6ä¸­Proxyçš„ï¼Ÿä½¿ç”¨åœºæ™¯?</h3><p>å®šä¹‰ï¼š ç”¨äºå®šä¹‰åŸºæœ¬æ“ä½œçš„è‡ªå®šä¹‰è¡Œä¸º</p>
<p>æœ¬è´¨ï¼š ä¿®æ”¹çš„æ˜¯ç¨‹åºé»˜è®¤å½¢ä¸ºï¼Œå°±å½¢åŒäºåœ¨ç¼–ç¨‹è¯­è¨€å±‚é¢ä¸Šåšä¿®æ”¹ï¼Œå±äºå…ƒç¼–ç¨‹<code>(meta programming)</code></p>
<p>å…ƒç¼–ç¨‹ï¼ˆMetaprogrammingï¼Œåˆè¯‘è¶…ç¼–ç¨‹ï¼Œæ˜¯æŒ‡æŸç±»è®¡ç®—æœºç¨‹åºçš„ç¼–å†™ï¼Œè¿™ç±»è®¡ç®—æœºç¨‹åºç¼–å†™æˆ–è€…æ“çºµå…¶å®ƒç¨‹åºï¼ˆæˆ–è€…è‡ªèº«ï¼‰ä½œä¸ºå®ƒä»¬çš„æ•°æ®ï¼Œæˆ–è€…åœ¨è¿è¡Œæ—¶å®Œæˆéƒ¨åˆ†æœ¬åº”åœ¨ç¼–è¯‘æ—¶å®Œæˆçš„å·¥ä½œ</p>
<p>ä¸€æ®µä»£ç æ¥ç†è§£</p>
<pre><code class="c">#!/bin/bash
# metaprogram
echo &#39;#!/bin/bash&#39; &gt;program
for ((I=1; I&lt;=1024; I++)) do
    echo &quot;echo $I&quot; &gt;&gt;program
done
chmod +x program
</code></pre>
<p>è¿™æ®µç¨‹åºæ¯æ‰§è¡Œä¸€æ¬¡èƒ½å¸®æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªåä¸º<code>program</code>çš„æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹ä¸º1024è¡Œ<code>echo</code>ï¼Œå¦‚æœæˆ‘ä»¬æ‰‹åŠ¨æ¥å†™1024è¡Œä»£ç ï¼Œæ•ˆç‡æ˜¾ç„¶ä½æ•ˆ</p>
<ul>
<li>å…ƒç¼–ç¨‹ä¼˜ç‚¹ï¼šä¸æ‰‹å·¥ç¼–å†™å…¨éƒ¨ä»£ç ç›¸æ¯”ï¼Œç¨‹åºå‘˜å¯ä»¥è·å¾—æ›´é«˜çš„å·¥ä½œæ•ˆç‡ï¼Œæˆ–è€…ç»™ä¸ç¨‹åºæ›´å¤§çš„çµæ´»åº¦å»å¤„ç†æ–°çš„æƒ…å½¢è€Œæ— éœ€é‡æ–°ç¼–è¯‘</li>
</ul>
<p><code>Proxy</code> äº¦æ˜¯å¦‚æ­¤ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„ä»£ç†ï¼Œä»è€Œå®ç°åŸºæœ¬æ“ä½œçš„æ‹¦æˆªå’Œè‡ªå®šä¹‰ï¼ˆå¦‚å±æ€§æŸ¥æ‰¾ã€èµ‹å€¼ã€æšä¸¾ã€å‡½æ•°è°ƒç”¨ç­‰ï¼‰</p>
<h4 id="äºŒã€ç”¨æ³•-1"><a href="#äºŒã€ç”¨æ³•-1" class="headerlink" title="äºŒã€ç”¨æ³•"></a>äºŒã€ç”¨æ³•</h4><p><code>Proxy</code>ä¸º æ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ <code>Proxy </code>å®ä¾‹</p>
<pre><code class="javascript">var proxy = new Proxy(target, handler)
</code></pre>
<p>å‚æ•°</p>
<p><code>target</code>è¡¨ç¤ºæ‰€è¦æ‹¦æˆªçš„ç›®æ ‡å¯¹è±¡ï¼ˆä»»ä½•ç±»å‹çš„å¯¹è±¡ï¼ŒåŒ…æ‹¬åŸç”Ÿæ•°ç»„ï¼Œå‡½æ•°ï¼Œç”šè‡³å¦ä¸€ä¸ªä»£ç†ï¼‰ï¼‰</p>
<p><code>handler</code>é€šå¸¸ä»¥å‡½æ•°ä½œä¸ºå±æ€§çš„å¯¹è±¡ï¼Œå„å±æ€§ä¸­çš„å‡½æ•°åˆ†åˆ«å®šä¹‰äº†åœ¨æ‰§è¡Œå„ç§æ“ä½œæ—¶ä»£ç† <code>p</code> çš„è¡Œä¸º</p>
<p>handlerè§£æ</p>
<p>å…³äº<code>handler</code>æ‹¦æˆªå±æ€§ï¼Œæœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>get(target,propKey,receiver)ï¼šæ‹¦æˆªå¯¹è±¡å±æ€§çš„è¯»å–</li>
<li>set(target,propKey,value,receiver)ï¼šæ‹¦æˆªå¯¹è±¡å±æ€§çš„è®¾ç½®</li>
<li>has(target,propKey)ï¼šæ‹¦æˆª<code>propKey in proxy</code>çš„æ“ä½œï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼</li>
<li>deleteProperty(target,propKey)ï¼šæ‹¦æˆª<code>delete proxy[propKey]</code>çš„æ“ä½œï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼</li>
<li>ownKeys(target)ï¼šæ‹¦æˆª<code>Object.keys(proxy)</code>ã€<code>for...in</code>ç­‰å¾ªç¯ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„</li>
<li>getOwnPropertyDescriptor(target, propKey)ï¼šæ‹¦æˆª<code>Object.getOwnPropertyDescriptor(proxy, propKey)</code>ï¼Œè¿”å›å±æ€§çš„æè¿°å¯¹è±¡</li>
<li>defineProperty(target, propKey, propDesc)ï¼šæ‹¦æˆª<code>Object.defineProperty(proxy, propKey, propDescï¼‰</code>ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼</li>
<li>preventExtensions(target)ï¼šæ‹¦æˆª<code>Object.preventExtensions(proxy)</code>ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼</li>
<li>getPrototypeOf(target)ï¼šæ‹¦æˆª<code>Object.getPrototypeOf(proxy)</code>ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡</li>
<li>isExtensible(target)ï¼šæ‹¦æˆª<code>Object.isExtensible(proxy)</code>ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼</li>
<li>setPrototypeOf(target, proto)ï¼šæ‹¦æˆª<code>Object.setPrototypeOf(proxy, proto)</code>ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼</li>
<li>apply(target, object, args)ï¼šæ‹¦æˆª Proxy å®ä¾‹ä½œä¸ºå‡½æ•°è°ƒç”¨çš„æ“ä½œ</li>
<li>construct(target, args)ï¼šæ‹¦æˆª Proxy å®ä¾‹ä½œä¸ºæ„é€ å‡½æ•°è°ƒç”¨çš„æ“ä½œ</li>
</ul>
<p>Reflect</p>
<p>è‹¥éœ€è¦åœ¨<code>Proxy</code>å†…éƒ¨è°ƒç”¨å¯¹è±¡çš„é»˜è®¤è¡Œä¸ºï¼Œå»ºè®®ä½¿ç”¨<code>Reflect</code>ï¼Œå…¶æ˜¯<code>ES6</code>ä¸­æ“ä½œå¯¹è±¡è€Œæä¾›çš„æ–° <code>API</code></p>
<p>åŸºæœ¬ç‰¹ç‚¹ï¼š</p>
<ul>
<li>åªè¦<code>Proxy</code>å¯¹è±¡å…·æœ‰çš„ä»£ç†æ–¹æ³•ï¼Œ<code>Reflect</code>å¯¹è±¡å…¨éƒ¨å…·æœ‰ï¼Œä»¥é™æ€æ–¹æ³•çš„å½¢å¼å­˜åœ¨</li>
<li>ä¿®æ”¹æŸäº›<code>Object</code>æ–¹æ³•çš„è¿”å›ç»“æœï¼Œè®©å…¶å˜å¾—æ›´åˆç†ï¼ˆå®šä¹‰ä¸å­˜åœ¨å±æ€§è¡Œä¸ºçš„æ—¶å€™ä¸æŠ¥é”™è€Œæ˜¯è¿”å›<code>false</code>ï¼‰</li>
<li>è®©<code>Object</code>æ“ä½œéƒ½å˜æˆå‡½æ•°è¡Œä¸º</li>
</ul>
<p>ä¸‹é¢æˆ‘ä»¬ä»‹ç»<code>proxy</code>å‡ ç§ç”¨æ³•ï¼š</p>
<h5 id="get-1"><a href="#get-1" class="headerlink" title="get()"></a>get()</h5><p><code>get</code>æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œä¾æ¬¡ä¸ºç›®æ ‡å¯¹è±¡ã€å±æ€§åå’Œ <code>proxy</code> å®ä¾‹æœ¬èº«ï¼Œæœ€åä¸€ä¸ªå‚æ•°å¯é€‰</p>
<pre><code class="javascript">var person = &#123;
  name: &quot;å¼ ä¸‰&quot;
&#125;;

var proxy = new Proxy(person, &#123;
  get: function(target, propKey) &#123;
    return Reflect.get(target,propKey)
  &#125;
&#125;);

proxy.name // &quot;å¼ ä¸‰&quot;
</code></pre>
<p><code>get</code>èƒ½å¤Ÿå¯¹æ•°ç»„å¢åˆ æ”¹æŸ¥è¿›è¡Œæ‹¦æˆªï¼Œä¸‹é¢æ˜¯è¯•ä¸‹ä½ æ•°ç»„è¯»å–è´Ÿæ•°çš„ç´¢å¼•</p>
<pre><code class="javascript">function createArray(...elements) &#123;
  let handler = &#123;
    get(target, propKey, receiver) &#123;
      let index = Number(propKey);
      if (index &lt; 0) &#123;
        propKey = String(target.length + index);
      &#125;
      return Reflect.get(target, propKey, receiver);
    &#125;
  &#125;;

  let target = [];
  target.push(...elements);
  return new Proxy(target, handler);
&#125;

let arr = createArray(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;);
arr[-1] // c
</code></pre>
<p>æ³¨æ„ï¼šå¦‚æœä¸€ä¸ªå±æ€§ä¸å¯é…ç½®ï¼ˆconfigurableï¼‰ä¸”ä¸å¯å†™ï¼ˆwritableï¼‰ï¼Œåˆ™ Proxy ä¸èƒ½ä¿®æ”¹è¯¥å±æ€§ï¼Œå¦åˆ™ä¼šæŠ¥é”™</p>
<pre><code class="javascript">const target = Object.defineProperties(&#123;&#125;, &#123;
  foo: &#123;
    value: 123,
    writable: false,
    configurable: false
  &#125;,
&#125;);

const handler = &#123;
  get(target, propKey) &#123;
    return &#39;abc&#39;;
  &#125;
&#125;;

const proxy = new Proxy(target, handler);

proxy.foo
// TypeError: Invariant check failed
</code></pre>
<h5 id="set-1"><a href="#set-1" class="headerlink" title="set()"></a>set()</h5><p><code>set</code>æ–¹æ³•ç”¨æ¥æ‹¦æˆªæŸä¸ªå±æ€§çš„èµ‹å€¼æ“ä½œï¼Œå¯ä»¥æ¥å—å››ä¸ªå‚æ•°ï¼Œä¾æ¬¡ä¸ºç›®æ ‡å¯¹è±¡ã€å±æ€§åã€å±æ€§å€¼å’Œ <code>Proxy</code> å®ä¾‹æœ¬èº«</p>
<p>å‡å®š<code>Person</code>å¯¹è±¡æœ‰ä¸€ä¸ª<code>age</code>å±æ€§ï¼Œè¯¥å±æ€§åº”è¯¥æ˜¯ä¸€ä¸ªä¸å¤§äº 200 çš„æ•´æ•°ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨<code>Proxy</code>ä¿è¯<code>age</code>çš„å±æ€§å€¼ç¬¦åˆè¦æ±‚</p>
<pre><code class="javascript">let validator = &#123;
  set: function(obj, prop, value) &#123;
    if (prop === &#39;age&#39;) &#123;
      if (!Number.isInteger(value)) &#123;
        throw new TypeError(&#39;The age is not an integer&#39;);
      &#125;
      if (value &gt; 200) &#123;
        throw new RangeError(&#39;The age seems invalid&#39;);
      &#125;
    &#125;

    // å¯¹äºæ»¡è¶³æ¡ä»¶çš„ age å±æ€§ä»¥åŠå…¶ä»–å±æ€§ï¼Œç›´æ¥ä¿å­˜
    obj[prop] = value;
  &#125;
&#125;;

let person = new Proxy(&#123;&#125;, validator);

person.age = 100;

person.age // 100
person.age = &#39;young&#39; // æŠ¥é”™
person.age = 300 // æŠ¥é”™
</code></pre>
<p>å¦‚æœç›®æ ‡å¯¹è±¡è‡ªèº«çš„æŸä¸ªå±æ€§ï¼Œä¸å¯å†™ä¸”ä¸å¯é…ç½®ï¼Œé‚£ä¹ˆ<code>set</code>æ–¹æ³•å°†ä¸èµ·ä½œç”¨</p>
<pre><code class="javascript">const obj = &#123;&#125;;
Object.defineProperty(obj, &#39;foo&#39;, &#123;
  value: &#39;bar&#39;,
  writable: false,
&#125;);

const handler = &#123;
  set: function(obj, prop, value, receiver) &#123;
    obj[prop] = &#39;baz&#39;;
  &#125;
&#125;;

const proxy = new Proxy(obj, handler);
proxy.foo = &#39;baz&#39;;
proxy.foo // &quot;bar&quot;
</code></pre>
<p>æ³¨æ„ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œ<code>set</code>ä»£ç†å¦‚æœæ²¡æœ‰è¿”å›<code>true</code>ï¼Œå°±ä¼šæŠ¥é”™</p>
<pre><code class="javascript">&#39;use strict&#39;;
const handler = &#123;
  set: function(obj, prop, value, receiver) &#123;
    obj[prop] = receiver;
    // æ— è®ºæœ‰æ²¡æœ‰ä¸‹é¢è¿™ä¸€è¡Œï¼Œéƒ½ä¼šæŠ¥é”™
    return false;
  &#125;
&#125;;
const proxy = new Proxy(&#123;&#125;, handler);
proxy.foo = &#39;bar&#39;;
// TypeError: &#39;set&#39; on proxy: trap returned falsish for property &#39;foo&#39;
</code></pre>
<h5 id="deleteProperty"><a href="#deleteProperty" class="headerlink" title="deleteProperty()"></a>deleteProperty()</h5><p><code>deleteProperty</code>æ–¹æ³•ç”¨äºæ‹¦æˆª<code>delete</code>æ“ä½œï¼Œå¦‚æœè¿™ä¸ªæ–¹æ³•æŠ›å‡ºé”™è¯¯æˆ–è€…è¿”å›<code>false</code>ï¼Œå½“å‰å±æ€§å°±æ— æ³•è¢«<code>delete</code>å‘½ä»¤åˆ é™¤</p>
<pre><code class="javascript">var handler = &#123;
  deleteProperty (target, key) &#123;
    invariant(key, &#39;delete&#39;);
    Reflect.deleteProperty(target,key)
    return true;
  &#125;
&#125;;
function invariant (key, action) &#123;
  if (key[0] === &#39;_&#39;) &#123;
    throw new Error(`æ— æ³•åˆ é™¤ç§æœ‰å±æ€§`);
  &#125;
&#125;

var target = &#123; _prop: &#39;foo&#39; &#125;;
var proxy = new Proxy(target, handler);
delete proxy._prop
// Error: æ— æ³•åˆ é™¤ç§æœ‰å±æ€§
</code></pre>
<p>æ³¨æ„ï¼Œç›®æ ‡å¯¹è±¡è‡ªèº«çš„ä¸å¯é…ç½®ï¼ˆconfigurableï¼‰çš„å±æ€§ï¼Œä¸èƒ½è¢«<code>deleteProperty</code>æ–¹æ³•åˆ é™¤ï¼Œå¦åˆ™æŠ¥é”™</p>
<h5 id="å–æ¶ˆä»£ç†"><a href="#å–æ¶ˆä»£ç†" class="headerlink" title="å–æ¶ˆä»£ç†"></a>å–æ¶ˆä»£ç†</h5><pre><code class="javascript">Proxy.revocable(target, handler);
</code></pre>
<h4 id="ä¸‰ã€ä½¿ç”¨åœºæ™¯-1"><a href="#ä¸‰ã€ä½¿ç”¨åœºæ™¯-1" class="headerlink" title="ä¸‰ã€ä½¿ç”¨åœºæ™¯"></a>ä¸‰ã€ä½¿ç”¨åœºæ™¯</h4><p><code>Proxy</code>å…¶åŠŸèƒ½éå¸¸ç±»ä¼¼äºè®¾è®¡æ¨¡å¼ä¸­çš„ä»£ç†æ¨¡å¼ï¼Œå¸¸ç”¨åŠŸèƒ½å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ‹¦æˆªå’Œç›‘è§†å¤–éƒ¨å¯¹å¯¹è±¡çš„è®¿é—®</li>
<li>é™ä½å‡½æ•°æˆ–ç±»çš„å¤æ‚åº¦</li>
<li>åœ¨å¤æ‚æ“ä½œå‰å¯¹æ“ä½œè¿›è¡Œæ ¡éªŒæˆ–å¯¹æ‰€éœ€èµ„æºè¿›è¡Œç®¡ç†</li>
</ul>
<p>ä½¿ç”¨ <code>Proxy</code> ä¿éšœæ•°æ®ç±»å‹çš„å‡†ç¡®æ€§</p>
<pre><code class="javascript">let numericDataStore = &#123; count: 0, amount: 1234, total: 14 &#125;;
numericDataStore = new Proxy(numericDataStore, &#123;
    set(target, key, value, proxy) &#123;
        if (typeof value !== &#39;number&#39;) &#123;
            throw Error(&quot;å±æ€§åªèƒ½æ˜¯numberç±»å‹&quot;);
        &#125;
        return Reflect.set(target, key, value, proxy);
    &#125;
&#125;);

numericDataStore.count = &quot;foo&quot;
// Error: å±æ€§åªèƒ½æ˜¯numberç±»å‹

numericDataStore.count = 333
// èµ‹å€¼æˆåŠŸ
</code></pre>
<p>å£°æ˜äº†ä¸€ä¸ªç§æœ‰çš„ <code>apiKey</code>ï¼Œä¾¿äº <code>api</code> è¿™ä¸ªå¯¹è±¡å†…éƒ¨çš„æ–¹æ³•è°ƒç”¨ï¼Œä½†ä¸å¸Œæœ›ä»å¤–éƒ¨ä¹Ÿèƒ½å¤Ÿè®¿é—® <code>api._apiKey</code></p>
<pre><code class="javascript">let api = &#123;
    _apiKey: &#39;123abc456def&#39;,
    getUsers: function()&#123; &#125;,
    getUser: function(userId)&#123; &#125;,
    setUser: function(userId, config)&#123; &#125;
&#125;;
const RESTRICTED = [&#39;_apiKey&#39;];
api = new Proxy(api, &#123;
    get(target, key, proxy) &#123;
        if(RESTRICTED.indexOf(key) &gt; -1) &#123;
            throw Error(`$&#123;key&#125; ä¸å¯è®¿é—®.`);
        &#125; return Reflect.get(target, key, proxy);
    &#125;,
    set(target, key, value, proxy) &#123;
        if(RESTRICTED.indexOf(key) &gt; -1) &#123;
            throw Error(`$&#123;key&#125; ä¸å¯ä¿®æ”¹`);
        &#125; return Reflect.get(target, key, value, proxy);
    &#125;
&#125;);

console.log(api._apiKey)
api._apiKey = &#39;987654321&#39;
// ä¸Šè¿°éƒ½æŠ›å‡ºé”™è¯¯
</code></pre>
<p>è¿˜èƒ½é€šè¿‡ä½¿ç”¨<code>Proxy</code>å®ç°è§‚å¯Ÿè€…æ¨¡å¼</p>
<p>è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver modeï¼‰æŒ‡çš„æ˜¯å‡½æ•°è‡ªåŠ¨è§‚å¯Ÿæ•°æ®å¯¹è±¡ï¼Œä¸€æ—¦å¯¹è±¡æœ‰å˜åŒ–ï¼Œå‡½æ•°å°±ä¼šè‡ªåŠ¨æ‰§è¡Œ</p>
<p><code>observable</code>å‡½æ•°è¿”å›ä¸€ä¸ªåŸå§‹å¯¹è±¡çš„ <code>Proxy</code> ä»£ç†ï¼Œæ‹¦æˆªèµ‹å€¼æ“ä½œï¼Œè§¦å‘å……å½“è§‚å¯Ÿè€…çš„å„ä¸ªå‡½æ•°</p>
<pre><code class="javascript">const queuedObservers = new Set();

const observe = fn =&gt; queuedObservers.add(fn);
const observable = obj =&gt; new Proxy(obj, &#123;set&#125;);

function set(target, key, value, receiver) &#123;
  const result = Reflect.set(target, key, value, receiver);
  queuedObservers.forEach(observer =&gt; observer());
  return result;
&#125;
</code></pre>
<p>è§‚å¯Ÿè€…å‡½æ•°éƒ½æ”¾è¿›<code>Set</code>é›†åˆï¼Œå½“ä¿®æ”¹<code>obj</code>çš„å€¼ï¼Œåœ¨ä¼š<code>set</code>å‡½æ•°ä¸­æ‹¦æˆªï¼Œè‡ªåŠ¨æ‰§è¡Œ<code>Set</code>æ‰€æœ‰çš„è§‚å¯Ÿè€…</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-æ€ä¹ˆç†è§£ES6ä¸­Moduleçš„ï¼Ÿä½¿ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-æ€ä¹ˆç†è§£ES6ä¸­Moduleçš„ï¼Ÿä½¿ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ æ€ä¹ˆç†è§£ES6ä¸­Moduleçš„ï¼Ÿä½¿ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ æ€ä¹ˆç†è§£ES6ä¸­Moduleçš„ï¼Ÿä½¿ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€ä»‹ç»-1"><a href="#ä¸€ã€ä»‹ç»-1" class="headerlink" title="ä¸€ã€ä»‹ç»"></a>ä¸€ã€ä»‹ç»</h4><p>æ¨¡å—ï¼Œï¼ˆModuleï¼‰ï¼Œæ˜¯èƒ½å¤Ÿå•ç‹¬å‘½åå¹¶ç‹¬ç«‹åœ°å®Œæˆä¸€å®šåŠŸèƒ½çš„ç¨‹åºè¯­å¥é›†åˆï¼ˆå³ç¨‹åºä»£ç å’Œæ•°æ®ç»“æ„çš„é›†åˆä½“ï¼‰ã€‚</p>
<p>ä¸¤ä¸ªåŸºæœ¬çš„ç‰¹å¾ï¼šå¤–éƒ¨ç‰¹å¾å’Œå†…éƒ¨</p>
<ul>
<li>å¤–éƒ¨ç‰¹å¾æ˜¯æŒ‡æ¨¡å—è·Ÿå¤–éƒ¨ç¯å¢ƒè”ç³»çš„æ¥å£ï¼ˆå³å…¶ä»–æ¨¡å—æˆ–ç¨‹åºè°ƒç”¨è¯¥æ¨¡å—çš„æ–¹å¼ï¼ŒåŒ…æ‹¬æœ‰è¾“å…¥è¾“å‡ºå‚æ•°ã€å¼•ç”¨çš„å…¨å±€å˜é‡ï¼‰å’Œæ¨¡å—çš„åŠŸèƒ½</li>
<li>å†…éƒ¨ç‰¹å¾æ˜¯æŒ‡æ¨¡å—çš„å†…éƒ¨ç¯å¢ƒå…·æœ‰çš„ç‰¹ç‚¹ï¼ˆå³è¯¥æ¨¡å—çš„å±€éƒ¨æ•°æ®å’Œç¨‹åºä»£ç ï¼‰</li>
</ul>
<h5 id="ä¸ºä»€ä¹ˆéœ€è¦æ¨¡å—åŒ–"><a href="#ä¸ºä»€ä¹ˆéœ€è¦æ¨¡å—åŒ–" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦æ¨¡å—åŒ–"></a>ä¸ºä»€ä¹ˆéœ€è¦æ¨¡å—åŒ–</h5><ul>
<li>ä»£ç æŠ½è±¡</li>
<li>ä»£ç å°è£…</li>
<li>ä»£ç å¤ç”¨</li>
<li>ä¾èµ–ç®¡ç†</li>
</ul>
<p>å¦‚æœæ²¡æœ‰æ¨¡å—åŒ–ï¼Œæˆ‘ä»¬ä»£ç ä¼šæ€æ ·ï¼Ÿ</p>
<ul>
<li>å˜é‡å’Œæ–¹æ³•ä¸å®¹æ˜“ç»´æŠ¤ï¼Œå®¹æ˜“æ±¡æŸ“å…¨å±€ä½œç”¨åŸŸ</li>
<li>åŠ è½½èµ„æºçš„æ–¹å¼é€šè¿‡scriptæ ‡ç­¾ä»ä¸Šåˆ°ä¸‹ã€‚</li>
<li>ä¾èµ–çš„ç¯å¢ƒä¸»è§‚é€»è¾‘åé‡ï¼Œä»£ç è¾ƒå¤šå°±ä¼šæ¯”è¾ƒå¤æ‚ã€‚</li>
<li>å¤§å‹é¡¹ç›®èµ„æºéš¾ä»¥ç»´æŠ¤ï¼Œç‰¹åˆ«æ˜¯å¤šäººåˆä½œçš„æƒ…å†µä¸‹ï¼Œèµ„æºçš„å¼•å…¥ä¼šè®©äººå¥”æºƒ</li>
</ul>
<p>å› æ­¤ï¼Œéœ€è¦ä¸€ç§å°†<code>JavaScript</code>ç¨‹åºæ¨¡å—åŒ–çš„æœºåˆ¶ï¼Œå¦‚</p>
<ul>
<li>CommonJs (å…¸å‹ä»£è¡¨ï¼šnode.jsæ—©æœŸ)</li>
<li>AMD (å…¸å‹ä»£è¡¨ï¼šrequire.js)</li>
<li>CMD (å…¸å‹ä»£è¡¨ï¼šsea.js)</li>
</ul>
<h5 id="AMD"><a href="#AMD" class="headerlink" title="AMD"></a>AMD</h5><p><code>Asynchronous ModuleDefinition</code>ï¼ˆAMDï¼‰ï¼Œå¼‚æ­¥æ¨¡å—å®šä¹‰ï¼Œé‡‡ç”¨å¼‚æ­¥æ–¹å¼åŠ è½½æ¨¡å—ã€‚æ‰€æœ‰ä¾èµ–æ¨¡å—çš„è¯­å¥ï¼Œéƒ½å®šä¹‰åœ¨ä¸€ä¸ªå›è°ƒå‡½æ•°ä¸­ï¼Œç­‰åˆ°æ¨¡å—åŠ è½½å®Œæˆä¹‹åï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°æ‰ä¼šè¿è¡Œ</p>
<p>ä»£è¡¨åº“ä¸º<code>require.js</code></p>
<pre><code class="javascript">/** main.js å…¥å£æ–‡ä»¶/ä¸»æ¨¡å— **/
// é¦–å…ˆç”¨config()æŒ‡å®šå„æ¨¡å—è·¯å¾„å’Œå¼•ç”¨å
require.config(&#123;
  baseUrl: &quot;js/lib&quot;,
  paths: &#123;
    &quot;jquery&quot;: &quot;jquery.min&quot;,  //å®é™…è·¯å¾„ä¸ºjs/lib/jquery.min.js
    &quot;underscore&quot;: &quot;underscore.min&quot;,
  &#125;
&#125;);
// æ‰§è¡ŒåŸºæœ¬æ“ä½œ
require([&quot;jquery&quot;,&quot;underscore&quot;],function($,_)&#123;
  // some code here
&#125;);
</code></pre>
<h5 id="CommonJs"><a href="#CommonJs" class="headerlink" title="CommonJs"></a>CommonJs</h5><p><code>CommonJS</code> æ˜¯ä¸€å¥— <code>Javascript</code> æ¨¡å—è§„èŒƒï¼Œç”¨äºæœåŠ¡ç«¯</p>
<pre><code class="javascript">// a.js
module.exports=&#123; foo , bar&#125;

// b.js
const &#123; foo,bar &#125; = require(&#39;./a.js&#39;)
</code></pre>
<p>å…¶æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ‰€æœ‰ä»£ç éƒ½è¿è¡Œåœ¨æ¨¡å—ä½œç”¨åŸŸï¼Œä¸ä¼šæ±¡æŸ“å…¨å±€ä½œç”¨åŸŸ</li>
<li>æ¨¡å—æ˜¯åŒæ­¥åŠ è½½çš„ï¼Œå³åªæœ‰åŠ è½½å®Œæˆï¼Œæ‰èƒ½æ‰§è¡Œåé¢çš„æ“ä½œ</li>
<li>æ¨¡å—åœ¨é¦–æ¬¡æ‰§è¡Œåå°±ä¼šç¼“å­˜ï¼Œå†æ¬¡åŠ è½½åªè¿”å›ç¼“å­˜ç»“æœï¼Œå¦‚æœæƒ³è¦å†æ¬¡æ‰§è¡Œï¼Œå¯æ¸…é™¤ç¼“å­˜</li>
<li><code>require</code>è¿”å›çš„å€¼æ˜¯è¢«è¾“å‡ºçš„å€¼çš„æ‹·è´ï¼Œæ¨¡å—å†…éƒ¨çš„å˜åŒ–ä¹Ÿä¸ä¼šå½±å“è¿™ä¸ªå€¼</li>
</ul>
<p>æ—¢ç„¶å­˜åœ¨äº†<code>AMD</code>ä»¥åŠ<code>CommonJs</code>æœºåˆ¶ï¼Œ<code>ES6</code>çš„<code>Module</code>åˆæœ‰ä»€ä¹ˆä¸ä¸€æ ·ï¼Ÿ</p>
<p>ES6 åœ¨è¯­è¨€æ ‡å‡†çš„å±‚é¢ä¸Šï¼Œå®ç°äº†<code>Module</code>ï¼Œå³æ¨¡å—åŠŸèƒ½ï¼Œå®Œå…¨å¯ä»¥å–ä»£ <code>CommonJS </code>å’Œ <code>AMD </code>è§„èŒƒï¼Œæˆä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨é€šç”¨çš„æ¨¡å—è§£å†³æ–¹æ¡ˆ</p>
<p><code>CommonJS</code> å’Œ<code> AMD</code> æ¨¡å—ï¼Œéƒ½åªèƒ½åœ¨è¿è¡Œæ—¶ç¡®å®šè¿™äº›ä¸œè¥¿ã€‚æ¯”å¦‚ï¼Œ<code>CommonJS </code>æ¨¡å—å°±æ˜¯å¯¹è±¡ï¼Œè¾“å…¥æ—¶å¿…é¡»æŸ¥æ‰¾å¯¹è±¡å±æ€§</p>
<pre><code class="javascript">// CommonJSæ¨¡å—
let &#123; stat, exists, readfile &#125; = require(&#39;fs&#39;);

// ç­‰åŒäº
let _fs = require(&#39;fs&#39;);
let stat = _fs.stat;
let exists = _fs.exists;
let readfile = _fs.readfile;
</code></pre>
<p><code>ES6</code>è®¾è®¡æ€æƒ³æ˜¯å°½é‡çš„é™æ€åŒ–ï¼Œä½¿å¾—ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œä»¥åŠè¾“å…¥å’Œè¾“å‡ºçš„å˜é‡</p>
<pre><code class="javascript">// ES6æ¨¡å—
import &#123; stat, exists, readFile &#125; from &#39;fs&#39;;
</code></pre>
<p>ä¸Šè¿°ä»£ç ï¼ŒåªåŠ è½½3ä¸ªæ–¹æ³•ï¼Œå…¶ä»–æ–¹æ³•ä¸åŠ è½½ï¼Œå³ <code>ES6</code> å¯ä»¥åœ¨ç¼–è¯‘æ—¶å°±å®Œæˆæ¨¡å—åŠ è½½</p>
<p>ç”±äºç¼–è¯‘åŠ è½½ï¼Œä½¿å¾—é™æ€åˆ†ææˆä¸ºå¯èƒ½ã€‚åŒ…æ‹¬ç°åœ¨æµè¡Œçš„<code>typeScript</code>ä¹Ÿæ˜¯ä¾é é™æ€åˆ†æå®ç°åŠŸèƒ½</p>
<h4 id="äºŒã€ä½¿ç”¨-1"><a href="#äºŒã€ä½¿ç”¨-1" class="headerlink" title="äºŒã€ä½¿ç”¨"></a>äºŒã€ä½¿ç”¨</h4><p><code>ES6</code>æ¨¡å—å†…éƒ¨è‡ªåŠ¨é‡‡ç”¨äº†ä¸¥æ ¼æ¨¡å¼ï¼Œè¿™é‡Œå°±ä¸å±•å¼€ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶ï¼Œæ¯•ç«Ÿè¿™æ˜¯<code>ES5</code>ä¹‹å‰å°±å·²ç»è§„å®šå¥½</p>
<p>æ¨¡å—åŠŸèƒ½ä¸»è¦ç”±ä¸¤ä¸ªå‘½ä»¤æ„æˆï¼š</p>
<ul>
<li><code>export</code>ï¼šç”¨äºè§„å®šæ¨¡å—çš„å¯¹å¤–æ¥å£</li>
<li><code>import</code>ï¼šç”¨äºè¾“å…¥å…¶ä»–æ¨¡å—æä¾›çš„åŠŸèƒ½</li>
</ul>
<h5 id="export"><a href="#export" class="headerlink" title="export"></a>export</h5><p>ä¸€ä¸ªæ¨¡å—å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å†…éƒ¨çš„æ‰€æœ‰å˜é‡ï¼Œå¤–éƒ¨æ— æ³•è·å–ã€‚å¦‚æœä½ å¸Œæœ›å¤–éƒ¨èƒ½å¤Ÿè¯»å–æ¨¡å—å†…éƒ¨çš„æŸä¸ªå˜é‡ï¼Œå°±å¿…é¡»ä½¿ç”¨<code>export</code>å…³é”®å­—è¾“å‡ºè¯¥å˜é‡</p>
<pre><code class="javascript">// profile.js
export var firstName = &#39;Michael&#39;;
export var lastName = &#39;Jackson&#39;;
export var year = 1958;

æˆ– 
// å»ºè®®ä½¿ç”¨ä¸‹é¢å†™æ³•ï¼Œè¿™æ ·èƒ½ç¬é—´ç¡®å®šè¾“å‡ºäº†å“ªäº›å˜é‡
var firstName = &#39;Michael&#39;;
var lastName = &#39;Jackson&#39;;
var year = 1958;

export &#123; firstName, lastName, year &#125;;
</code></pre>
<p>è¾“å‡ºå‡½æ•°æˆ–ç±»</p>
<pre><code class="javascript">export function multiply(x, y) &#123;
  return x * y;
&#125;;
</code></pre>
<p>é€šè¿‡<code>as</code>å¯ä»¥è¿›è¡Œè¾“å‡ºå˜é‡çš„é‡å‘½å</p>
<pre><code class="javascript">function v1() &#123; ... &#125;
function v2() &#123; ... &#125;

export &#123;
  v1 as streamV1,
  v2 as streamV2,
  v2 as streamLatestVersion
&#125;;
</code></pre>
<h5 id="import"><a href="#import" class="headerlink" title="import"></a>import</h5><p>ä½¿ç”¨<code>export</code>å‘½ä»¤å®šä¹‰äº†æ¨¡å—çš„å¯¹å¤–æ¥å£ä»¥åï¼Œå…¶ä»– JS æ–‡ä»¶å°±å¯ä»¥é€šè¿‡<code>import</code>å‘½ä»¤åŠ è½½è¿™ä¸ªæ¨¡å—</p>
<pre><code class="javascript">// main.js
import &#123; firstName, lastName, year &#125; from &#39;./profile.js&#39;;

function setName(element) &#123;
  element.textContent = firstName + &#39; &#39; + lastName;
&#125;
</code></pre>
<p>åŒæ ·å¦‚æœæƒ³è¦è¾“å…¥å˜é‡èµ·åˆ«åï¼Œé€šè¿‡<code>as</code>å…³é”®å­—</p>
<pre><code class="javascript">import &#123; lastName as surname &#125; from &#39;./profile.js&#39;;
</code></pre>
<p>å½“åŠ è½½æ•´ä¸ªæ¨¡å—çš„æ—¶å€™ï¼Œéœ€è¦ç”¨åˆ°æ˜Ÿå·<code>*</code></p>
<pre><code class="javascript">// circle.js
export function area(radius) &#123;
  return Math.PI * radius * radius;
&#125;

export function circumference(radius) &#123;
  return 2 * Math.PI * radius;
&#125;

// main.js
import * as circle from &#39;./circle&#39;;
console.log(circle)   // &#123;area:area,circumference:circumference&#125;
</code></pre>
<p>è¾“å…¥çš„å˜é‡éƒ½æ˜¯åªè¯»çš„ï¼Œä¸å…è®¸ä¿®æ”¹ï¼Œä½†æ˜¯å¦‚æœæ˜¯å¯¹è±¡ï¼Œå…è®¸ä¿®æ”¹å±æ€§</p>
<pre><code class="javascript">import &#123;a&#125; from &#39;./xxx.js&#39;

a.foo = &#39;hello&#39;; // åˆæ³•æ“ä½œ
a = &#123;&#125;; // Syntax Error : &#39;a&#39; is read-only;
</code></pre>
<p>ä¸è¿‡å»ºè®®å³ä½¿èƒ½ä¿®æ”¹ï¼Œä½†æˆ‘ä»¬ä¸å»ºè®®ã€‚å› ä¸ºä¿®æ”¹ä¹‹åï¼Œæˆ‘ä»¬å¾ˆéš¾å·®é”™</p>
<p><code>import</code>åé¢æˆ‘ä»¬å¸¸æ¥ç€<code>from</code>å…³é”®å­—ï¼Œ<code>from</code>æŒ‡å®šæ¨¡å—æ–‡ä»¶çš„ä½ç½®ï¼Œå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„</p>
<pre><code class="javascript">import &#123; a &#125; from &#39;./a&#39;;
</code></pre>
<p>å¦‚æœåªæœ‰ä¸€ä¸ªæ¨¡å—åï¼Œéœ€è¦æœ‰é…ç½®æ–‡ä»¶ï¼Œå‘Šè¯‰å¼•æ“æ¨¡å—çš„ä½ç½®</p>
<pre><code class="javascript">import &#123; myMethod &#125; from &#39;util&#39;;
</code></pre>
<p>åœ¨ç¼–è¯‘é˜¶æ®µï¼Œ<code>import</code>ä¼šæå‡åˆ°æ•´ä¸ªæ¨¡å—çš„å¤´éƒ¨ï¼Œé¦–å…ˆæ‰§è¡Œ</p>
<pre><code class="javascript">foo();

import &#123; foo &#125; from &#39;my_module&#39;;
</code></pre>
<p>å¤šæ¬¡é‡å¤æ‰§è¡ŒåŒæ ·çš„å¯¼å…¥ï¼Œåªä¼šæ‰§è¡Œä¸€æ¬¡</p>
<pre><code class="javascript">import &#39;lodash&#39;;
import &#39;lodash&#39;;
</code></pre>
<p>ä¸Šé¢çš„æƒ…å†µï¼Œå¤§å®¶éƒ½èƒ½çœ‹åˆ°ç”¨æˆ·åœ¨å¯¼å…¥æ¨¡å—çš„æ—¶å€™ï¼Œéœ€è¦çŸ¥é“åŠ è½½çš„å˜é‡åå’Œå‡½æ•°ï¼Œå¦åˆ™æ— æ³•åŠ è½½</p>
<p>å¦‚æœä¸éœ€è¦çŸ¥é“å˜é‡åæˆ–å‡½æ•°å°±å®ŒæˆåŠ è½½ï¼Œå°±è¦ç”¨åˆ°<code>export default</code>å‘½ä»¤ï¼Œä¸ºæ¨¡å—æŒ‡å®šé»˜è®¤è¾“å‡º</p>
<pre><code class="javascript">// export-default.js
export default function () &#123;
    console.log(&#39;foo&#39;);
&#125;
</code></pre>
<p>åŠ è½½è¯¥æ¨¡å—çš„æ—¶å€™ï¼Œ<code>import</code>å‘½ä»¤å¯ä»¥ä¸ºè¯¥å‡½æ•°æŒ‡å®šä»»æ„åå­—</p>
<pre><code class="javascript">// import-default.js
import customName from &#39;./export-default&#39;;
customName(); // &#39;foo&#39;
</code></pre>
<h4 id="åŠ¨æ€åŠ è½½"><a href="#åŠ¨æ€åŠ è½½" class="headerlink" title="åŠ¨æ€åŠ è½½"></a>åŠ¨æ€åŠ è½½</h4><p>å…è®¸æ‚¨ä»…åœ¨éœ€è¦æ—¶åŠ¨æ€åŠ è½½æ¨¡å—ï¼Œè€Œä¸å¿…é¢„å…ˆåŠ è½½æ‰€æœ‰æ¨¡å—ï¼Œè¿™å­˜åœ¨æ˜æ˜¾çš„æ€§èƒ½ä¼˜åŠ¿</p>
<p>è¿™ä¸ªæ–°åŠŸèƒ½å…è®¸æ‚¨å°†<code>import()</code>ä½œä¸ºå‡½æ•°è°ƒç”¨ï¼Œå°†å…¶ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ¨¡å—çš„è·¯å¾„ã€‚ å®ƒè¿”å›ä¸€ä¸ª <code>promise</code>ï¼Œå®ƒç”¨ä¸€ä¸ªæ¨¡å—å¯¹è±¡æ¥å®ç°ï¼Œè®©ä½ å¯ä»¥è®¿é—®è¯¥å¯¹è±¡çš„å¯¼å‡º</p>
<pre><code class="javascript">import(&#39;/modules/myModule.mjs&#39;)
  .then((module) =&gt; &#123;
    // Do something with the module.
  &#125;);
</code></pre>
<h4 id="å¤åˆå†™æ³•"><a href="#å¤åˆå†™æ³•" class="headerlink" title="å¤åˆå†™æ³•"></a>å¤åˆå†™æ³•</h4><p>å¦‚æœåœ¨ä¸€ä¸ªæ¨¡å—ä¹‹ä¸­ï¼Œå…ˆè¾“å…¥åè¾“å‡ºåŒä¸€ä¸ªæ¨¡å—ï¼Œ<code>import</code>è¯­å¥å¯ä»¥ä¸<code>export</code>è¯­å¥å†™åœ¨ä¸€èµ·</p>
<pre><code class="javascript">export &#123; foo, bar &#125; from &#39;my_module&#39;;

// å¯ä»¥ç®€å•ç†è§£ä¸º
import &#123; foo, bar &#125; from &#39;my_module&#39;;
export &#123; foo, bar &#125;;
</code></pre>
<p>åŒç†èƒ½å¤Ÿæ­é…<code>as</code>ã€<code>*</code>æ­é…ä½¿ç”¨</p>
<h4 id="ä¸‰ã€ä½¿ç”¨åœºæ™¯-2"><a href="#ä¸‰ã€ä½¿ç”¨åœºæ™¯-2" class="headerlink" title="ä¸‰ã€ä½¿ç”¨åœºæ™¯"></a>ä¸‰ã€ä½¿ç”¨åœºæ™¯</h4><p>å¦‚ä»Šï¼Œ<code>ES6</code>æ¨¡å—åŒ–å·²ç»æ·±å…¥æˆ‘ä»¬æ—¥å¸¸é¡¹ç›®å¼€å‘ä¸­ï¼Œåƒ<code>vue</code>ã€<code>react</code>é¡¹ç›®æ­å»ºé¡¹ç›®ï¼Œç»„ä»¶åŒ–å¼€å‘å¤„å¤„å¯è§ï¼Œå…¶ä¹Ÿæ˜¯ä¾èµ–æ¨¡å—åŒ–å®ç°</p>
<p><code>vue</code>ç»„ä»¶</p>
<pre><code class="javascript">&lt;template&gt;
  &lt;div class=&quot;App&quot;&gt;
      ç»„ä»¶åŒ–å¼€å‘ ---- æ¨¡å—åŒ–
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default &#123;
  name: &#39;HelloWorld&#39;,
  props: &#123;
    msg: String
  &#125;
&#125;
&lt;/script&gt;
</code></pre>
<p><code>react</code>ç»„ä»¶</p>
<pre><code class="javascript">function App() &#123;
  return (
    &lt;div className=&quot;App&quot;&gt;
        ç»„ä»¶åŒ–å¼€å‘ ---- æ¨¡å—åŒ–
    &lt;/div&gt;
  );
&#125;

export default App;
</code></pre>
<p>åŒ…æ‹¬å®Œæˆä¸€äº›å¤æ‚åº”ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ‹†åˆ†æˆå„ä¸ªæ¨¡å—</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-æ€ä¹ˆç†è§£ES6ä¸­-Decorator-çš„ï¼Ÿä½¿ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-æ€ä¹ˆç†è§£ES6ä¸­-Decorator-çš„ï¼Ÿä½¿ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ æ€ä¹ˆç†è§£ES6ä¸­ Decorator çš„ï¼Ÿä½¿ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ æ€ä¹ˆç†è§£ES6ä¸­ Decorator çš„ï¼Ÿä½¿ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€ä»‹ç»-2"><a href="#ä¸€ã€ä»‹ç»-2" class="headerlink" title="ä¸€ã€ä»‹ç»"></a>ä¸€ã€ä»‹ç»</h4><p>Decoratorï¼Œå³è£…é¥°å™¨ï¼Œä»åå­—ä¸Šå¾ˆå®¹æ˜“è®©æˆ‘ä»¬è”æƒ³åˆ°è£…é¥°è€…æ¨¡å¼</p>
<p>ç®€å•æ¥è®²ï¼Œè£…é¥°è€…æ¨¡å¼å°±æ˜¯ä¸€ç§åœ¨ä¸æ”¹å˜åŸç±»å’Œä½¿ç”¨ç»§æ‰¿çš„æƒ…å†µä¸‹ï¼ŒåŠ¨æ€åœ°æ‰©å±•å¯¹è±¡åŠŸèƒ½çš„è®¾è®¡ç†è®ºã€‚</p>
<p><code>ES6</code>ä¸­<code>Decorator</code>åŠŸèƒ½äº¦å¦‚æ­¤ï¼Œå…¶æœ¬è´¨ä¹Ÿä¸æ˜¯ä»€ä¹ˆé«˜å¤§ä¸Šçš„ç»“æ„ï¼Œå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œç”¨äºæ‰©å±•ç±»å±æ€§å’Œç±»æ–¹æ³•</p>
<p>è¿™é‡Œå®šä¹‰ä¸€ä¸ªå£«å…µï¼Œè¿™æ—¶å€™ä»–ä»€ä¹ˆè£…å¤‡éƒ½æ²¡æœ‰</p>
<pre><code class="javascript">class soldier&#123; 
&#125;
</code></pre>
<p>å®šä¹‰ä¸€ä¸ªå¾—åˆ° AK è£…å¤‡çš„å‡½æ•°ï¼Œå³è£…é¥°å™¨</p>
<pre><code class="javascript">function strong(target)&#123;
    target.AK = true
&#125;
</code></pre>
<p>ä½¿ç”¨è¯¥è£…é¥°å™¨å¯¹å£«å…µè¿›è¡Œå¢å¼º</p>
<pre><code class="javascript">@strong
class soldier&#123;
&#125;
</code></pre>
<p>è¿™æ—¶å€™å£«å…µå°±æœ‰æ­¦å™¨äº†</p>
<pre><code class="javascript">soldier.AK // true
</code></pre>
<p>ä¸Šè¿°ä»£ç è™½ç„¶ç®€å•ï¼Œä½†ä¹Ÿèƒ½å¤Ÿæ¸…æ™°çœ‹åˆ°äº†ä½¿ç”¨<code>Decorator</code>ä¸¤å¤§ä¼˜ç‚¹ï¼š</p>
<ul>
<li>ä»£ç å¯è¯»æ€§å˜å¼ºäº†ï¼Œè£…é¥°å™¨å‘½åç›¸å½“äºä¸€ä¸ªæ³¨é‡Š</li>
<li>åœ¨ä¸æ”¹å˜åŸæœ‰ä»£ç æƒ…å†µä¸‹ï¼Œå¯¹åŸæ¥åŠŸèƒ½è¿›è¡Œæ‰©å±•</li>
</ul>
<h4 id="äºŒã€ç”¨æ³•-2"><a href="#äºŒã€ç”¨æ³•-2" class="headerlink" title="äºŒã€ç”¨æ³•"></a>äºŒã€ç”¨æ³•</h4><p><code>Docorator</code>ä¿®é¥°å¯¹è±¡ä¸ºä¸‹é¢ä¸¤ç§ï¼š</p>
<ul>
<li>ç±»çš„è£…é¥°</li>
<li>ç±»å±æ€§çš„è£…é¥°</li>
</ul>
<h5 id="ç±»çš„è£…é¥°"><a href="#ç±»çš„è£…é¥°" class="headerlink" title="ç±»çš„è£…é¥°"></a>ç±»çš„è£…é¥°</h5><p>å½“å¯¹ç±»æœ¬èº«è¿›è¡Œè£…é¥°çš„æ—¶å€™ï¼Œèƒ½å¤Ÿæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå³ç±»æœ¬èº«</p>
<p>å°†è£…é¥°å™¨è¡Œä¸ºè¿›è¡Œåˆ†è§£ï¼Œå¤§å®¶èƒ½å¤Ÿæœ‰ä¸ªæ›´æ·±å…¥çš„äº†è§£</p>
<pre><code class="javascript">@decorator
class A &#123;&#125;

// ç­‰åŒäº

class A &#123;&#125;
A = decorator(A) || A;
</code></pre>
<p>ä¸‹é¢<code>@testable</code>å°±æ˜¯ä¸€ä¸ªè£…é¥°å™¨ï¼Œ<code>target</code>å°±æ˜¯ä¼ å…¥çš„ç±»ï¼Œå³<code>MyTestableClass</code>ï¼Œå®ç°äº†ä¸ºç±»æ·»åŠ é™æ€å±æ€§</p>
<pre><code class="javascript">@testable
class MyTestableClass &#123;
  // ...
&#125;

function testable(target) &#123;
  target.isTestable = true;
&#125;

MyTestableClass.isTestable // true
</code></pre>
<p>å¦‚æœæƒ³è¦ä¼ é€’å‚æ•°ï¼Œå¯ä»¥åœ¨è£…é¥°å™¨å¤–å±‚å†å°è£…ä¸€å±‚å‡½æ•°</p>
<pre><code class="javascript">function testable(isTestable) &#123;
  return function(target) &#123;
    target.isTestable = isTestable;
  &#125;
&#125;

@testable(true)
class MyTestableClass &#123;&#125;
MyTestableClass.isTestable // true

@testable(false)
class MyClass &#123;&#125;
MyClass.isTestable // false
</code></pre>
<h5 id="ç±»å±æ€§çš„è£…é¥°"><a href="#ç±»å±æ€§çš„è£…é¥°" class="headerlink" title="ç±»å±æ€§çš„è£…é¥°"></a>ç±»å±æ€§çš„è£…é¥°</h5><p>å½“å¯¹ç±»å±æ€§è¿›è¡Œè£…é¥°çš„æ—¶å€™ï¼Œèƒ½å¤Ÿæ¥å—ä¸‰ä¸ªå‚æ•°ï¼š</p>
<ul>
<li>ç±»çš„åŸå‹å¯¹è±¡</li>
<li>éœ€è¦è£…é¥°çš„å±æ€§å</li>
<li>è£…é¥°å±æ€§åçš„æè¿°å¯¹è±¡</li>
</ul>
<p>é¦–å…ˆå®šä¹‰ä¸€ä¸ª<code>readonly</code>è£…é¥°å™¨</p>
<pre><code class="javascript">function readonly(target, name, descriptor)&#123;
  descriptor.writable = false; // å°†å¯å†™å±æ€§è®¾ä¸ºfalse
  return descriptor;
&#125;
</code></pre>
<p>ä½¿ç”¨<code>readonly</code>è£…é¥°ç±»çš„<code>name</code>æ–¹æ³•</p>
<pre><code class="javascript">class Person &#123;
  @readonly
  name() &#123; return `$&#123;this.first&#125; $&#123;this.last&#125;` &#125;
&#125;
</code></pre>
<p>ç›¸å½“äºä»¥ä¸‹è°ƒç”¨</p>
<pre><code class="javascript">readonly(Person.prototype, &#39;name&#39;, descriptor);
</code></pre>
<p>å¦‚æœä¸€ä¸ªæ–¹æ³•æœ‰å¤šä¸ªè£…é¥°å™¨ï¼Œå°±åƒæ´‹è‘±ä¸€æ ·ï¼Œå…ˆä»å¤–åˆ°å†…è¿›å…¥ï¼Œå†ç”±å†…åˆ°å¤–æ‰§è¡Œ</p>
<pre><code class="javascript">function dec(id)&#123;
    console.log(&#39;evaluated&#39;, id);
    return (target, property, descriptor) =&gt;console.log(&#39;executed&#39;, id);
&#125;

class Example &#123;
    @dec(1)
    @dec(2)
    method()&#123;&#125;
&#125;
// evaluated 1
// evaluated 2
// executed 2
// executed 1
</code></pre>
<p>å¤–å±‚è£…é¥°å™¨<code>@dec(1)</code>å…ˆè¿›å…¥ï¼Œä½†æ˜¯å†…å±‚è£…é¥°å™¨<code>@dec(2)</code>å…ˆæ‰§è¡Œ</p>
<h4 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h4><p>è£…é¥°å™¨ä¸èƒ½ç”¨äºä¿®é¥°å‡½æ•°ï¼Œå› ä¸ºå‡½æ•°å­˜åœ¨å˜é‡å£°æ˜æƒ…å†µ</p>
<pre><code class="javascript">var counter = 0;

var add = function () &#123;
  counter++;
&#125;;

@add
function foo() &#123;
&#125;
</code></pre>
<p>ç¼–è¯‘é˜¶æ®µï¼Œå˜æˆä¸‹é¢</p>
<pre><code class="javascript">var counter;
var add;

@add
function foo() &#123;
&#125;

counter = 0;

add = function () &#123;
  counter++;
&#125;;
</code></pre>
<p>æ„å›¾æ˜¯æ‰§è¡Œå<code>counter</code>ç­‰äº 1ï¼Œä½†æ˜¯å®é™…ä¸Šç»“æœæ˜¯<code>counter</code>ç­‰äº 0</p>
<h4 id="ä¸‰ã€ä½¿ç”¨åœºæ™¯-3"><a href="#ä¸‰ã€ä½¿ç”¨åœºæ™¯-3" class="headerlink" title="ä¸‰ã€ä½¿ç”¨åœºæ™¯"></a>ä¸‰ã€ä½¿ç”¨åœºæ™¯</h4><p>åŸºäº<code>Decorator</code>å¼ºå¤§çš„ä½œç”¨ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå®Œæˆå„ç§åœºæ™¯çš„éœ€æ±‚ï¼Œä¸‹é¢ç®€å•åˆ—ä¸¾å‡ ç§ï¼š</p>
<p>ä½¿ç”¨<code>react-redux</code>çš„æ—¶å€™ï¼Œå¦‚æœå†™æˆä¸‹é¢è¿™ç§å½¢å¼ï¼Œæ—¢ä¸é›…è§‚ä¹Ÿå¾ˆéº»çƒ¦</p>
<pre><code class="javascript">class MyReactComponent extends React.Component &#123;&#125;

export default connect(mapStateToProps, mapDispatchToProps)(MyReactComponent);
</code></pre>
<p>é€šè¿‡è£…é¥°å™¨å°±å˜å¾—ç®€æ´å¤šäº†</p>
<pre><code class="javascript">@connect(mapStateToProps, mapDispatchToProps)
export default class MyReactComponent extends React.Component &#123;&#125;
</code></pre>
<p>å°†<code>mixins</code>ï¼Œä¹Ÿå¯ä»¥å†™æˆè£…é¥°å™¨ï¼Œè®©ä½¿ç”¨æ›´ä¸ºç®€æ´äº†</p>
<pre><code class="javascript">function mixins(...list) &#123;
  return function (target) &#123;
    Object.assign(target.prototype, ...list);
  &#125;;
&#125;

// ä½¿ç”¨
const Foo = &#123;
  foo() &#123; console.log(&#39;foo&#39;) &#125;
&#125;;

@mixins(Foo)
class MyClass &#123;&#125;

let obj = new MyClass();
obj.foo() // &quot;foo&quot;
</code></pre>
<p>ä¸‹é¢å†è®²è®²<code>core-decorators.js</code>å‡ ä¸ªå¸¸è§çš„è£…é¥°å™¨</p>
<h5 id="antobind"><a href="#antobind" class="headerlink" title="@antobind"></a>@antobind</h5><p><code>autobind</code>è£…é¥°å™¨ä½¿å¾—æ–¹æ³•ä¸­çš„<code>this</code>å¯¹è±¡ï¼Œç»‘å®šåŸå§‹å¯¹è±¡</p>
<pre><code class="javascript">import &#123; autobind &#125; from &#39;core-decorators&#39;;

class Person &#123;
  @autobind
  getPerson() &#123;
    return this;
  &#125;
&#125;

let person = new Person();
let getPerson = person.getPerson;

getPerson() === person;
// true
</code></pre>
<h5 id="readonly"><a href="#readonly" class="headerlink" title="@readonly"></a>@readonly</h5><p><code>readonly</code>è£…é¥°å™¨ä½¿å¾—å±æ€§æˆ–æ–¹æ³•ä¸å¯å†™</p>
<pre><code class="javascript">import &#123; readonly &#125; from &#39;core-decorators&#39;;

class Meal &#123;
  @readonly
  entree = &#39;steak&#39;;
&#125;

var dinner = new Meal();
dinner.entree = &#39;salmon&#39;;
// Cannot assign to read only property &#39;entree&#39; of [object Object]
</code></pre>
<h4 id="deprecate"><a href="#deprecate" class="headerlink" title="@deprecate"></a>@deprecate</h4><p><code>deprecate</code>æˆ–<code>deprecated</code>è£…é¥°å™¨åœ¨æ§åˆ¶å°æ˜¾ç¤ºä¸€æ¡è­¦å‘Šï¼Œè¡¨ç¤ºè¯¥æ–¹æ³•å°†åºŸé™¤</p>
<pre><code class="javascript">import &#123; deprecate &#125; from &#39;core-decorators&#39;;

class Person &#123;
  @deprecate
  facepalm() &#123;&#125;

  @deprecate(&#39;åŠŸèƒ½åºŸé™¤äº†&#39;)
  facepalmHard() &#123;&#125;
&#125;

let person = new Person();

person.facepalm();
// DEPRECATION Person#facepalm: This function will be removed in future versions.

person.facepalmHard();
// DEPRECATION Person#facepalmHard: åŠŸèƒ½åºŸé™¤äº†
</code></pre>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-Symbolæ•°æ®ç±»å‹"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-Symbolæ•°æ®ç±»å‹" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ Symbolæ•°æ®ç±»å‹"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ Symbolæ•°æ®ç±»å‹</h3><p>ES6å¼•å…¥ä¸€ç§æ–°çš„åŸå§‹æ•°æ®ç±»å‹ä¸º Symbol ï¼Œè¡¨ç¤ºä¸º ç‹¬ä¸€æ— äºŒ çš„å€¼ï¼Œç”¨æ¥å®šä¹‰ç‹¬ä¸€æ— äºŒçš„å¯¹è±¡å±æ€§åã€‚</p>
<h4 id="Symbolçš„è®²è§£"><a href="#Symbolçš„è®²è§£" class="headerlink" title="Symbolçš„è®²è§£"></a>Symbolçš„è®²è§£</h4><p>4ä¸ªæ–¹é¢è¯´è¯´Symbolæ•°æ®ç±»å‹ï¼š</p>
<ol>
<li>Symbolçš„å®šä¹‰ï¼›</li>
<li>Symbolä½œä¸ºå¯¹è±¡å±æ€§åï¼›</li>
<li>Symbolä½¿ç”¨åœºæ™¯ï¼›</li>
<li>Symbolè·å–ã€‚</li>
</ol>
<h4 id="Symbolçš„å®šä¹‰"><a href="#Symbolçš„å®šä¹‰" class="headerlink" title="Symbolçš„å®šä¹‰"></a>Symbolçš„å®šä¹‰</h4><ul>
<li>ä¸€ç§Symbolç±»å‹å¯ä»¥é€šè¿‡ä½¿ç”¨Symbol()å‡½æ•°æ¥ç”Ÿæˆï¼›</li>
<li>Symbol()å‡½æ•°å¯ä»¥æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°</li>
</ul>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="ini">let s1 = Symbol(&#39;web&#39;);
let s2 = Symbol(&#39;web&#39;);
console.log(s1 === s2);
console.log(typeof s1);
console.log(typeof s2);
å¤åˆ¶ä»£ç 
</code></pre>
<p>chromeæˆªå›¾ï¼š</p>
<p><img src="/2022/10/31/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8ES6/170563012a3ecec6~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.awebp" alt="img"></p>
<p>ç”±å›¾å¯çŸ¥ï¼šSymbol()å‡½æ•°æ¥æ”¶çš„å‚æ•°ç›¸åŒï¼Œå…¶å˜é‡çš„å€¼ä¹Ÿä¸åŒï¼Œs1å’Œs2æ˜¯Symbolç±»å‹çš„å˜é‡ï¼Œå› ä¸ºå˜é‡çš„å€¼ä¸åŒï¼Œæ‰€ä»¥æ‰“å°çš„ç»“æœä¸ºfalseã€‚ä½¿ç”¨typeofæ¥è·å–ç›¸åº”çš„ç±»å‹ï¼Œæ‰€ä»¥æ‰“å°çš„ç»“æœéƒ½ä¸ºsymbolã€‚</p>
<h4 id="Symbolä½œä¸ºå¯¹è±¡å±æ€§å"><a href="#Symbolä½œä¸ºå¯¹è±¡å±æ€§å" class="headerlink" title="Symbolä½œä¸ºå¯¹è±¡å±æ€§å"></a>Symbolä½œä¸ºå¯¹è±¡å±æ€§å</h4><p>Symbolå¯ä»¥é€šè¿‡ä¸‰ç§æ–¹å¼ä½œä¸ºå¯¹è±¡å±æ€§åã€‚</p>
<ul>
<li>ç¬¬ä¸€ç§ï¼š</li>
</ul>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="ini">let symbol = Symbol();
let a = &#123;&#125;;
a[symbol] = &#39;web&#39;;
</code></pre>
<p>ç”±ä»£ç å¯çŸ¥ï¼šé¦–å…ˆå£°æ˜äº†ä¸€ä¸ªSymbolç±»å‹çš„å˜é‡symbolï¼Œä¸€ä¸ªç©ºçš„å¯¹è±¡ä¸ºaï¼Œé€šè¿‡a[symbol]ç»™aå¯¹è±¡èµ‹å€¼ä¸€ä¸ªwebçš„å­—ç¬¦ä¸²ã€‚è¡¨ç¤ºsymbolä½œä¸ºå¯¹è±¡å±æ€§åï¼Œwebä½œä¸ºå®ƒçš„å±æ€§å€¼ã€‚</p>
<ul>
<li>ç¬¬äºŒç§ï¼š</li>
</ul>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="ini">let symbol = Symbol();
let a = &#123;
    [symbol]:&#39;web&#39;
&#125;;
</code></pre>
<p>ç”±ä»£ç å¯çŸ¥ï¼šé¦–å…ˆå£°æ˜äº†ä¸€ä¸ªSymbolç±»å‹çš„å˜é‡symbolï¼Œæ¥ç€åœ¨å£°æ˜å¯¹è±¡açš„åŒæ—¶é€šè¿‡[symbol]ç»™aå¯¹è±¡æ€§èµ‹å€¼ä¸ºwebçš„å­—ç¬¦ä¸²ã€‚</p>
<ul>
<li>ç¬¬ä¸‰ç§ï¼š</li>
</ul>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="ini">let symbol = Symbol();
let a = &#123;&#125;;
Object.defineProperty(a, symbol, &#123;value: &#39;web&#39;&#125;);
</code></pre>
<p>ç”±ä»£ç å¯çŸ¥ï¼šé¦–å…ˆå£°æ˜äº†ä¸€ä¸ªSymbolç±»å‹çš„å˜é‡symbolï¼Œä¸€ä¸ªç©ºå¯¹è±¡ä¸ºaï¼Œé€šè¿‡Object.defineProperty()æ–¹æ³•ç»™aå¯¹è±¡èµ‹å€¼ä¸ºwebçš„å­—ç¬¦ä¸²ã€‚</p>
<blockquote>
<p>Symbolçš„å€¼ä½œä¸ºå¯¹è±¡å±æ€§åï¼Œæ˜¯ä¸èƒ½ç”¨ç‚¹è¿ç®—ç¬¦çš„ã€‚</p>
</blockquote>
<h4 id="Symbolä½¿ç”¨åœºæ™¯"><a href="#Symbolä½¿ç”¨åœºæ™¯" class="headerlink" title="Symbolä½¿ç”¨åœºæ™¯"></a>Symbolä½¿ç”¨åœºæ™¯</h4><p>ä¸€ç§æœ‰ä¸¤ç§ä½¿ç”¨åœºæ™¯ï¼š</p>
<ol>
<li>å› ä¸ºSymbolçš„å€¼æ˜¯å‡ä¸ç›¸ç­‰çš„ï¼Œæ‰€ä»¥Symbolç±»å‹çš„å€¼ä½œä¸ºå¯¹è±¡å±æ€§åï¼Œä¸ä¼šå‡ºç°é‡å¤ã€‚</li>
<li>ä»£ç å½¢æˆå¼ºè€¦åˆçš„æŸä¸€ä¸ªå…·ä½“çš„å­—ç¬¦ä¸²ã€‚</li>
</ol>
<h4 id="Symbolè·å–"><a href="#Symbolè·å–" class="headerlink" title="Symbolè·å–"></a>Symbolè·å–</h4><p>é€šè¿‡Object.getOwnPropertySymbols()æ–¹æ³•ï¼Œå¯ä»¥è·å–æŒ‡å®šå¯¹è±¡çš„æ‰€æœ‰Symbolså±æ€§åã€‚:</p>
<p>å‚è€ƒæ–‡çŒ®ï¼š</p>
<p>[è¯­éŸ³ä»“åº“]: 	â€œ<a href="https://github.com/febobo/web-interview">https://github.com/febobo/web-interview</a> â€œ</p>
]]></content>
      <categories>
        <category>æŠ€æœ¯é¢è¯•</category>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯é¢è¯•å¤§å…¨ç®—æ³•ç¯‡</title>
    <url>/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆç®—æ³•ï¼‰"><a href="#å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆç®—æ³•ï¼‰" class="headerlink" title="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆç®—æ³•ï¼‰"></a>å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆç®—æ³•ï¼‰</h1><p>å‰ç«¯é¢è¯•é¢˜ç±»ç›®åˆ†ç±»</p>
<ul>
<li>HTML5 + CSS3</li>
<li>JavaScript</li>
<li>Vue + Vue3</li>
<li>React</li>
<li>Webpack</li>
<li>æœåŠ¡ç«¯</li>
</ul>
<hr>
<p>è€ƒç‚¹é¢‘ç‡ ï¼šâ™¥ï¸ ã€ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸</p>
<h2 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h2><h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-ç®—æ³•ä¸­æ—¶é—´å¤æ‚åº¦ï¼Œç©ºé—´å¤æ‚åº¦çš„ç†è§£ï¼Ÿå¦‚ä½•è®¡ç®—ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-ç®—æ³•ä¸­æ—¶é—´å¤æ‚åº¦ï¼Œç©ºé—´å¤æ‚åº¦çš„ç†è§£ï¼Ÿå¦‚ä½•è®¡ç®—ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ ç®—æ³•ä¸­æ—¶é—´å¤æ‚åº¦ï¼Œç©ºé—´å¤æ‚åº¦çš„ç†è§£ï¼Ÿå¦‚ä½•è®¡ç®—ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ ç®—æ³•ä¸­æ—¶é—´å¤æ‚åº¦ï¼Œç©ºé—´å¤æ‚åº¦çš„ç†è§£ï¼Ÿå¦‚ä½•è®¡ç®—ï¼Ÿ</h3><h4 id="ä¸€ã€å‰è¨€"><a href="#ä¸€ã€å‰è¨€" class="headerlink" title="ä¸€ã€å‰è¨€"></a>ä¸€ã€å‰è¨€</h4><p>ç®—æ³•ï¼ˆAlgorithmï¼‰æ˜¯æŒ‡ç”¨æ¥æ“ä½œæ•°æ®ã€è§£å†³ç¨‹åºé—®é¢˜çš„ä¸€ç»„æ–¹æ³•ã€‚å¯¹äºåŒä¸€ä¸ªé—®é¢˜ï¼Œä½¿ç”¨ä¸åŒçš„ç®—æ³•ï¼Œä¹Ÿè®¸æœ€ç»ˆå¾—åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œä½†åœ¨è¿‡ç¨‹ä¸­æ¶ˆè€—çš„èµ„æºå’Œæ—¶é—´å´ä¼šæœ‰å¾ˆå¤§çš„åŒºåˆ«</p>
<p>è¡¡é‡ä¸åŒç®—æ³•ä¹‹é—´çš„ä¼˜åŠ£ä¸»è¦æ˜¯é€šè¿‡æ—¶é—´å’Œç©ºé—´ä¸¤ä¸ªç»´åº¦å»è€ƒé‡ï¼š</p>
<ul>
<li>æ—¶é—´ç»´åº¦ï¼šæ˜¯æŒ‡æ‰§è¡Œå½“å‰ç®—æ³•æ‰€æ¶ˆè€—çš„æ—¶é—´ï¼Œæˆ‘ä»¬é€šå¸¸ç”¨ã€Œæ—¶é—´å¤æ‚åº¦ã€æ¥æè¿°ã€‚</li>
<li>ç©ºé—´ç»´åº¦ï¼šæ˜¯æŒ‡æ‰§è¡Œå½“å‰ç®—æ³•éœ€è¦å ç”¨å¤šå°‘å†…å­˜ç©ºé—´ï¼Œæˆ‘ä»¬é€šå¸¸ç”¨ã€Œç©ºé—´å¤æ‚åº¦ã€æ¥æè¿°</li>
</ul>
<p>é€šå¸¸ä¼šé‡åˆ°ä¸€ç§æƒ…å†µï¼Œæ—¶é—´å’Œç©ºé—´ç»´åº¦ä¸èƒ½å¤Ÿå…¼é¡¾ï¼Œéœ€è¦åœ¨ä¸¤è€…ä¹‹é—´å–å¾—ä¸€ä¸ªå¹³è¡¡ç‚¹æ˜¯æˆ‘ä»¬éœ€è¦è€ƒè™‘çš„</p>
<p>ä¸€ä¸ªç®—æ³•é€šå¸¸å­˜åœ¨æœ€å¥½ã€å¹³å‡ã€æœ€åä¸‰ç§æƒ…å†µï¼Œæˆ‘ä»¬ä¸€èˆ¬å…³æ³¨çš„æ˜¯æœ€åæƒ…å†µ</p>
<p>æœ€åæƒ…å†µæ˜¯ç®—æ³•è¿è¡Œæ—¶é—´çš„ä¸Šç•Œï¼Œå¯¹äºæŸäº›ç®—æ³•æ¥è¯´ï¼Œæœ€åæƒ…å†µå‡ºç°çš„æ¯”è¾ƒé¢‘ç¹ï¼Œä¹Ÿæ„å‘³ç€å¹³å‡æƒ…å†µå’Œæœ€åæƒ…å†µä¸€æ ·å·®</p>
<h4 id="äºŒã€æ—¶é—´å¤æ‚åº¦"><a href="#äºŒã€æ—¶é—´å¤æ‚åº¦" class="headerlink" title="äºŒã€æ—¶é—´å¤æ‚åº¦"></a>äºŒã€æ—¶é—´å¤æ‚åº¦</h4><p>æ—¶é—´å¤æ‚åº¦æ˜¯æŒ‡æ‰§è¡Œè¿™ä¸ªç®—æ³•æ‰€éœ€è¦çš„è®¡ç®—å·¥ä½œé‡ï¼Œå…¶å¤æ‚åº¦åæ˜ äº†ç¨‹åºæ‰§è¡Œæ—¶é—´ã€Œéšè¾“å…¥è§„æ¨¡å¢é•¿è€Œå¢é•¿çš„é‡çº§ã€ï¼Œåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šèƒ½å¾ˆå¥½åœ°åæ˜ å‡ºç®—æ³•çš„ä¼˜åŠ£ä¸å¦</p>
<p>ä¸€ä¸ªç®—æ³•èŠ±è´¹çš„æ—¶é—´ä¸ç®—æ³•ä¸­è¯­å¥çš„ã€Œæ‰§è¡Œæ¬¡æ•°æˆæ­£æ¯”ã€ï¼Œæ‰§è¡Œæ¬¡æ•°è¶Šå¤šï¼ŒèŠ±è´¹çš„æ—¶é—´å°±è¶Šå¤š</p>
<p>ç®—æ³•çš„å¤æ‚åº¦é€šå¸¸ç”¨å¤§Oç¬¦å·è¡¨è¿°ï¼Œå®šä¹‰ä¸º<code>T(n) = O(f(n))</code>ï¼Œå¸¸è§çš„æ—¶é—´å¤æ‚åº¦æœ‰ï¼šO(1)å¸¸æ•°å‹ã€O(log n)å¯¹æ•°å‹ã€O(n)çº¿æ€§å‹ã€O(nlogn)çº¿æ€§å¯¹æ•°å‹ã€O(n^2)å¹³æ–¹å‹ã€O(n^3)ç«‹æ–¹å‹ã€O(n^k)kæ¬¡æ–¹å‹ã€O(2^n)æŒ‡æ•°å‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f33336435656266302d313666632d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>ä»ä¸Šè¿°å¯ä»¥çœ‹åˆ°ï¼Œéšç€é—®é¢˜è§„æ¨¡<code>n</code>çš„ä¸æ–­å¢å¤§ï¼Œä¸Šè¿°æ—¶é—´å¤æ‚åº¦ä¸æ–­å¢å¤§ï¼Œç®—æ³•çš„æ‰§è¡Œæ•ˆç‡è¶Šä½ï¼Œç”±å°åˆ°å¤§æ’åºå¦‚ä¸‹ï¼š</p>
<pre><code class="ini">ÎŸ(1)ï¼œÎŸ(log n)ï¼œÎŸ(n)ï¼œÎŸ(nlog n)ï¼œÎŸ(n2)ï¼œÎŸ(n3)ï¼œâ€¦ï¼œÎŸ(2^n)ï¼œÎŸ(n!)
</code></pre>
<p>æ³¨æ„çš„æ˜¯ï¼Œç®—æ³•å¤æ‚åº¦åªæ˜¯æè¿°ç®—æ³•çš„å¢é•¿è¶‹åŠ¿ï¼Œå¹¶ä¸èƒ½è¯´ä¸€ä¸ªç®—æ³•ä¸€å®šæ¯”å¦å¤–ä¸€ä¸ªç®—æ³•é«˜æ•ˆï¼Œå¦‚æœå¸¸æ•°é¡¹è¿‡å¤§çš„æ—¶å€™ä¹Ÿä¼šå¯¼è‡´ç®—æ³•çš„æ‰§è¡Œæ—¶é—´å˜é•¿</p>
<p>å…³äºå¦‚ä½•è®¡ç®—æ—¶é—´å¤æ‚åº¦ï¼Œå¯ä»¥çœ‹çœ‹å¦‚ä¸‹ç®€å•ä¾‹å­ï¼š</p>
<pre><code class="javascript">function process(n) &#123;
  let a = 1
  let b = 2
  let sum = a + b
  for(let i = 0; i &lt; n; i++) &#123;
    sum += i
  &#125;
  return sum
&#125;
</code></pre>
<p>è¯¥å‡½æ•°ç®—æ³•éœ€è¦æ‰§è¡Œçš„è¿ç®—æ¬¡æ•°ç”¨è¾“å…¥å¤§å°<code>n</code>çš„å‡½æ•°è¡¨ç¤ºï¼Œå³ <code>T(n) = 2 + n + 1</code>ï¼Œé‚£ä¹ˆæ—¶é—´å¤æ‚åº¦ä¸º<code>O(n + 3)</code>ï¼Œåˆå› ä¸ºæ—¶é—´å¤æ‚åº¦åªå…³æ³¨æœ€é«˜æ•°é‡çº§ï¼Œä¸”ä¸ä¹‹ç³»æ•°ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œå› æ­¤ä¸Šè¿°çš„æ—¶é—´å¤æ‚åº¦ä¸º<code>O(n)</code></p>
<p>åˆæ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<pre><code class="javascript">function process(n) &#123;
 let count = 0
  for(let i = 0; i &lt; n; i++)&#123;
    for(let i = 0; i &lt; n; i++)&#123;
      count += 1
    &#125;
  &#125;
&#125;
</code></pre>
<p>å¾ªç¯é‡Œé¢åµŒå¥—å¾ªç¯ï¼Œå¤–é¢çš„å¾ªç¯æ‰§è¡Œä¸€æ¬¡ï¼Œé‡Œé¢çš„å¾ªç¯æ‰§è¡Œ<code>n</code>æ¬¡ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º <code>O(n*n*1 + 2) = O(n^2)</code></p>
<p>å¯¹äºé¡ºåºæ‰§è¡Œçš„è¯­å¥ï¼Œæ€»çš„æ—¶é—´å¤æ‚åº¦ç­‰äºå…¶ä¸­æœ€å¤§çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">function process(n) &#123;
  let sum = 0
  for(let i = 0; i &lt; n; i++) &#123;
    sum += i
  &#125;
  for(let i = 0; i &lt; n; i++)&#123;
    for(let i = 0; i &lt; n; i++)&#123;
      sum += 1
    &#125;
  &#125;
  return sum
&#125;
</code></pre>
<p>ä¸Šè¿°ç¬¬ä¸€éƒ¨åˆ†å¤æ‚åº¦ä¸º<code>O(n)</code>ï¼Œç¬¬äºŒéƒ¨åˆ†å¤æ‚åº¦ä¸º<code>O(n^2)</code>ï¼Œæ€»å¤æ‚åº¦ä¸º<code>max(O(n^2), O(n)) = O(n^2)</code></p>
<p>åˆå¦‚ä¸‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<pre><code class="javascript">function process(n) &#123;
  let i = 1; // â‘ 
  while (i &lt;= n) &#123;
     i = i * 2; // â‘¡
  &#125;
&#125;
</code></pre>
<p>å¾ªç¯è¯­å¥ä¸­ä»¥2çš„å€æ•°æ¥é€¼è¿‘<code>n</code>ï¼Œæ¯æ¬¡éƒ½ä¹˜ä»¥2ã€‚å¦‚æœç”¨å…¬å¼è¡¨ç¤ºå°±æ˜¯1 * 2 * 2 * 2 â€¦ * 2 &lt;&#x3D;nï¼Œä¹Ÿå°±æ˜¯è¯´2çš„<code>x</code>æ¬¡æ–¹å°äºç­‰äº<code>n</code>æ—¶ä¼šæ‰§è¡Œå¾ªç¯ä½“ï¼Œè®°ä½œ<code>2^x &lt;= n</code>ï¼Œäºæ˜¯å¾—å‡º<code>x&lt;=logn</code></p>
<p>å› æ­¤å¾ªç¯åœ¨æ‰§è¡Œ<code>logn</code>æ¬¡ä¹‹åï¼Œä¾¿ç»“æŸï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º<code>O(logn)</code></p>
<p>åŒç†ï¼Œå¦‚æœä¸€ä¸ª<code>O(n)</code>å¾ªç¯é‡Œé¢åµŒå¥—<code>O(logn)</code>çš„å¾ªç¯ï¼Œåˆ™æ—¶é—´å¤æ‚åº¦ä¸º<code>O(nlogn)</code>ï¼Œåƒ<code>O(n^3)</code>æ— éä¹Ÿå°±æ˜¯åµŒå¥—äº†ä¸‰å±‚<code>O(n)</code>å¾ªç¯</p>
<h4 id="ä¸‰ã€ç©ºé—´å¤æ‚åº¦"><a href="#ä¸‰ã€ç©ºé—´å¤æ‚åº¦" class="headerlink" title="ä¸‰ã€ç©ºé—´å¤æ‚åº¦"></a>ä¸‰ã€ç©ºé—´å¤æ‚åº¦</h4><p>ç©ºé—´å¤æ‚åº¦ä¸»è¦æŒ‡æ‰§è¡Œç®—æ³•æ‰€éœ€å†…å­˜çš„å¤§å°ï¼Œç”¨äºå¯¹ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­æ‰€éœ€è¦çš„ä¸´æ—¶å­˜å‚¨ç©ºé—´çš„åº¦é‡</p>
<p>é™¤äº†éœ€è¦å­˜å‚¨ç©ºé—´ã€æŒ‡ä»¤ã€å¸¸æ•°ã€å˜é‡å’Œè¾“å…¥æ•°æ®å¤–ï¼Œè¿˜åŒ…æ‹¬å¯¹æ•°æ®è¿›è¡Œæ“ä½œçš„å·¥ä½œå•å…ƒå’Œå­˜å‚¨è®¡ç®—æ‰€éœ€ä¿¡æ¯çš„è¾…åŠ©ç©ºé—´</p>
<p>ä¸‹é¢ç»™å‡ºç©ºé—´å¤æ‚åº¦ä¸º<code>O(1)</code>çš„ç¤ºä¾‹ï¼Œå¦‚ä¸‹</p>
<pre><code class="javascript">let a = 1
let b = 2
let c = 3
</code></pre>
<p>ä¸Šè¿°ä»£ç çš„ä¸´æ—¶ç©ºé—´ä¸ä¼šéšç€<code>n</code>çš„å˜åŒ–è€Œå˜åŒ–ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä¸º<code>O(1)</code></p>
<pre><code class="javascript">let arr []
for(i=1; i&lt;=n; ++i)&#123;
  arr.push(i)
&#125;
</code></pre>
<p>ä¸Šè¿°å¯ä»¥çœ‹åˆ°ï¼Œéšç€<code>n</code>çš„å¢åŠ ï¼Œæ•°ç»„çš„å ç”¨çš„å†…å­˜ç©ºé—´è¶Šå¤§</p>
<p>é€šå¸¸æ¥è¯´ï¼Œåªè¦ç®—æ³•ä¸æ¶‰åŠåˆ°åŠ¨æ€åˆ†é…çš„ç©ºé—´ï¼Œä»¥åŠé€’å½’ã€æ ˆæ‰€éœ€çš„ç©ºé—´ï¼Œç©ºé—´å¤æ‚åº¦é€šå¸¸ä¸º<code>O(1)</code>ï¼Œä¸€ä¸ªä¸€ç»´æ•°ç»„<code>a[n]</code>ï¼Œç©ºé—´å¤æ‚åº¦<code>O(n)</code>ï¼ŒäºŒç»´æ•°ç»„ä¸º<code>O(n^2)</code></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹æ•°æ®ç»“æ„çš„ç†è§£ï¼Ÿæœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹æ•°æ®ç»“æ„çš„ç†è§£ï¼Ÿæœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹æ•°æ®ç»“æ„çš„ç†è§£ï¼Ÿæœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹æ•°æ®ç»“æ„çš„ç†è§£ï¼Ÿæœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>æ•°æ®ç»“æ„æ˜¯è®¡ç®—æœºå­˜å‚¨ã€ç»„ç»‡æ•°æ®çš„æ–¹å¼ï¼Œæ˜¯æŒ‡ç›¸äº’ä¹‹é—´å­˜åœ¨ä¸€ç§æˆ–å¤šç§ç‰¹å®šå…³ç³»çš„æ•°æ®å…ƒç´ çš„é›†åˆ</p>
<p>å‰é¢è®²åˆ°ï¼Œä¸€ä¸ªç¨‹åº &#x3D; ç®—æ³• + æ•°æ®ç»“æ„ï¼Œæ•°æ®ç»“æ„æ˜¯å®ç°ç®—æ³•çš„åŸºç¡€ï¼Œé€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„å¯ä»¥å¸¦æ¥æ›´é«˜çš„è¿è¡Œæˆ–è€…å­˜å‚¨æ•ˆç‡</p>
<p>æ•°æ®å…ƒç´ ç›¸äº’ä¹‹é—´çš„å…³ç³»ç§°ä¸ºç»“æ„ï¼Œæ ¹æ®æ•°æ®å…ƒç´ ä¹‹é—´å…³ç³»çš„ä¸åŒç‰¹æ€§ï¼Œé€šå¸¸æœ‰å¦‚ä¸‹å››ç±»åŸºæœ¬çš„ç»“æ„ï¼š</p>
<ul>
<li>é›†åˆç»“æ„ï¼šè¯¥ç»“æ„çš„æ•°æ®å…ƒç´ é—´çš„å…³ç³»æ˜¯â€œå±äºåŒä¸€ä¸ªé›†åˆâ€</li>
<li>çº¿æ€§ç»“æ„ï¼šè¯¥ç»“æ„çš„æ•°æ®å…ƒç´ ä¹‹é—´å­˜åœ¨ç€ä¸€å¯¹ä¸€çš„å…³ç³»</li>
<li>æ ‘å‹ç»“æ„ï¼šè¯¥ç»“æ„çš„æ•°æ®å…ƒç´ ä¹‹é—´å­˜åœ¨ç€ä¸€å¯¹å¤šçš„å…³ç³»</li>
<li>å›¾å½¢ç»“æ„ï¼šè¯¥ç»“æ„çš„æ•°æ®å…ƒç´ ä¹‹é—´å­˜åœ¨ç€å¤šå¯¹å¤šçš„å…³ç³»ï¼Œä¹Ÿç§°ç½‘çŠ¶ç»“æ„</li>
</ul>
<p>ç”±äºæ•°æ®ç»“æ„ç§ç±»å¤ªå¤šï¼Œé€»è¾‘ç»“æ„å¯ä»¥å†åˆ†æˆä¸ºï¼š</p>
<ul>
<li>çº¿æ€§ç»“æ„ï¼šæœ‰åºæ•°æ®å…ƒç´ çš„é›†åˆï¼Œå…¶ä¸­æ•°æ®å…ƒç´ ä¹‹é—´çš„å…³ç³»æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»ï¼Œé™¤äº†ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªæ•°æ®å…ƒç´ ä¹‹å¤–ï¼Œå…¶å®ƒæ•°æ®å…ƒç´ éƒ½æ˜¯é¦–å°¾ç›¸æ¥çš„</li>
<li>éçº¿æ€§ç»“æ„ï¼šå„ä¸ªæ•°æ®å…ƒç´ ä¸å†ä¿æŒåœ¨ä¸€ä¸ªçº¿æ€§åºåˆ—ä¸­ï¼Œæ¯ä¸ªæ•°æ®å…ƒç´ å¯èƒ½ä¸é›¶ä¸ªæˆ–è€…å¤šä¸ªå…¶ä»–æ•°æ®å…ƒç´ å‘ç”Ÿå…³è”</li>
</ul>
<p><a href="https://camo.githubusercontent.com/c16cd7ef078a9270d5e13a8eca64d7b5469bf5ba3cfa7b88564c0065ba3ba230/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f39616564633564302d316161362d313165632d386536342d3931666465633066303561312e706e67"><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f39616564633564302d316161362d313165632d386536342d3931666465633066303561312e706e67.png" alt="img"></a></p>
<h4 id="äºŒã€æœ‰å“ªäº›"><a href="#äºŒã€æœ‰å“ªäº›" class="headerlink" title="äºŒã€æœ‰å“ªäº›"></a>äºŒã€æœ‰å“ªäº›</h4><p>å¸¸è§çš„æ•°æ®ç»“æ„æœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ•°ç»„</li>
<li>æ ˆ</li>
<li>é˜Ÿåˆ—</li>
<li>é“¾è¡¨</li>
<li>æ ‘</li>
<li>å›¾</li>
<li>å †</li>
<li>æ•£åˆ—è¡¨</li>
</ul>
<h5 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h5><p>åœ¨ç¨‹åºè®¾è®¡ä¸­ï¼Œä¸ºäº†å¤„ç†æ–¹ä¾¿ï¼Œ ä¸€èˆ¬æƒ…å†µæŠŠå…·æœ‰ç›¸åŒç±»å‹çš„è‹¥å¹²å˜é‡æŒ‰æœ‰åºçš„å½¢å¼ç»„ç»‡èµ·æ¥ï¼Œè¿™äº›æŒ‰åºæ’åˆ—çš„åŒç±»æ•°æ®å…ƒç´ çš„é›†åˆç§°ä¸ºæ•°ç»„</p>
<h5 id="æ ˆ"><a href="#æ ˆ" class="headerlink" title="æ ˆ"></a>æ ˆ</h5><p>ä¸€ç§ç‰¹æ®Šçš„çº¿æ€§è¡¨ï¼Œåªèƒ½åœ¨æŸä¸€ç«¯æ’å…¥å’Œåˆ é™¤çš„ç‰¹æ®Šçº¿æ€§è¡¨ï¼ŒæŒ‰ç…§å…ˆè¿›åå‡ºçš„ç‰¹æ€§å­˜å‚¨æ•°æ®</p>
<p>å…ˆè¿›å…¥çš„æ•°æ®è¢«å‹å…¥æ ˆåº•ï¼Œæœ€åçš„æ•°æ®åœ¨æ ˆé¡¶ï¼Œéœ€è¦è¯»æ•°æ®çš„æ—¶å€™ä»æ ˆé¡¶å¼€å§‹å¼¹å‡ºæ•°æ®</p>
<h5 id="é˜Ÿåˆ—"><a href="#é˜Ÿåˆ—" class="headerlink" title="é˜Ÿåˆ—"></a>é˜Ÿåˆ—</h5><p>è·Ÿæ ˆåŸºæœ¬ä¸€è‡´ï¼Œä¹Ÿæ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿æ€§è¡¨ï¼Œå…¶ç‰¹æ€§æ˜¯å…ˆè¿›å…ˆå‡ºï¼Œåªå…è®¸åœ¨è¡¨çš„å‰ç«¯è¿›è¡Œåˆ é™¤æ“ä½œï¼Œè€Œåœ¨è¡¨çš„åç«¯è¿›è¡Œæ’å…¥æ“ä½œ</p>
<h5 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h5><p>æ˜¯ä¸€ç§ç‰©ç†å­˜å‚¨å•å…ƒä¸Šéè¿ç»­ã€éé¡ºåºçš„å­˜å‚¨ç»“æ„ï¼Œæ•°æ®å…ƒç´ çš„é€»è¾‘é¡ºåºæ˜¯é€šè¿‡é“¾è¡¨ä¸­çš„æŒ‡é’ˆé“¾æ¥æ¬¡åºå®ç°çš„</p>
<p>é“¾è¡¨ç”±ä¸€ç³»åˆ—ç»“ç‚¹ï¼ˆé“¾è¡¨ä¸­æ¯ä¸€ä¸ªå…ƒç´ ç§°ä¸ºç»“ç‚¹ï¼‰ç»„æˆï¼Œç»“ç‚¹å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆ</p>
<p>ä¸€èˆ¬æƒ…å†µï¼Œæ¯ä¸ªç»“ç‚¹åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼šä¸€ä¸ªæ˜¯å­˜å‚¨æ•°æ®å…ƒç´ çš„æ•°æ®åŸŸï¼Œå¦ä¸€ä¸ªæ˜¯å­˜å‚¨ä¸‹ä¸€ä¸ªç»“ç‚¹åœ°å€çš„æŒ‡é’ˆåŸŸ</p>
<h5 id="æ ‘"><a href="#æ ‘" class="headerlink" title="æ ‘"></a>æ ‘</h5><p>æ ‘æ˜¯å…¸å‹çš„éçº¿æ€§ç»“æ„ï¼Œåœ¨æ ‘çš„ç»“æ„ä¸­ï¼Œæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæ ¹ç»“ç‚¹ï¼Œè¯¥ç»“ç‚¹æ²¡æœ‰å‰é©±ç»“ç‚¹ã€‚åœ¨æ ‘ç»“æ„ä¸­çš„å…¶ä»–ç»“ç‚¹éƒ½æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå‰é©±ç»“ç‚¹ï¼Œè€Œä¸”å¯ä»¥æœ‰ä¸¤ä¸ªä»¥ä¸Šçš„åç»§ç»“ç‚¹</p>
<h5 id="å›¾"><a href="#å›¾" class="headerlink" title="å›¾"></a>å›¾</h5><p>ä¸€ç§éçº¿æ€§ç»“æ„ã€‚åœ¨å›¾ç»“ç»“æ„ä¸­ï¼Œæ•°æ®ç»“ç‚¹ä¸€èˆ¬ç§°ä¸ºé¡¶ç‚¹ï¼Œè€Œè¾¹æ˜¯é¡¶ç‚¹çš„æœ‰åºå¶å¯¹ã€‚å¦‚æœä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´å­˜åœ¨ä¸€æ¡è¾¹ï¼Œé‚£ä¹ˆå°±è¡¨ç¤ºè¿™ä¸¤ä¸ªé¡¶ç‚¹å…·æœ‰ç›¸é‚»å…³ç³»</p>
<h5 id="å †"><a href="#å †" class="headerlink" title="å †"></a>å †</h5><p>å †æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ ‘å½¢æ•°æ®ç»“æ„ï¼Œæ¯ä¸ªç»“ç‚¹éƒ½æœ‰ä¸€ä¸ªå€¼ï¼Œç‰¹ç‚¹æ˜¯æ ¹ç»“ç‚¹çš„å€¼æœ€å°ï¼ˆæˆ–æœ€å¤§ï¼‰ï¼Œä¸”æ ¹ç»“ç‚¹çš„ä¸¤ä¸ªå­æ ‘ä¹Ÿæ˜¯ä¸€ä¸ªå †</p>
<h5 id="æ•£åˆ—è¡¨"><a href="#æ•£åˆ—è¡¨" class="headerlink" title="æ•£åˆ—è¡¨"></a>æ•£åˆ—è¡¨</h5><p>è‹¥ç»“æ„ä¸­å­˜åœ¨å…³é”®å­—å’Œ<code>K</code>ç›¸ç­‰çš„è®°å½•ï¼Œåˆ™å¿…å®šåœ¨<code>f(K)</code>çš„å­˜å‚¨ä½ç½®ä¸Šï¼Œä¸éœ€æ¯”è¾ƒä¾¿å¯ç›´æ¥å–å¾—æ‰€æŸ¥è®°å½•</p>
<h4 id="ä¸‰ã€åŒºåˆ«"><a href="#ä¸‰ã€åŒºåˆ«" class="headerlink" title="ä¸‰ã€åŒºåˆ«"></a>ä¸‰ã€åŒºåˆ«</h4><p>ä¸Šè¿°çš„æ•°æ®ç»“æ„ï¼Œä¹‹å‰çš„åŒºåˆ«å¯ä»¥åˆ†æˆçº¿æ€§ç»“æ„å’Œéçº¿æ€§ç»“æ„ï¼š</p>
<ul>
<li>çº¿æ€§ç»“æ„æœ‰ï¼šæ•°ç»„ã€æ ˆã€é˜Ÿåˆ—ã€é“¾è¡¨ç­‰</li>
<li>éçº¿æ€§ç»“æ„æœ‰ï¼šæ ‘ã€å›¾ã€å †ç­‰</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹æ ˆã€é˜Ÿåˆ—çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹æ ˆã€é˜Ÿåˆ—çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹æ ˆã€é˜Ÿåˆ—çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹æ ˆã€é˜Ÿåˆ—çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ ˆ"><a href="#ä¸€ã€æ ˆ" class="headerlink" title="ä¸€ã€æ ˆ"></a>ä¸€ã€æ ˆ</h4><p>æ ˆï¼ˆstackï¼‰åˆåå †æ ˆï¼Œå®ƒæ˜¯ä¸€ç§è¿ç®—å—é™çš„çº¿æ€§è¡¨ï¼Œé™å®šä»…åœ¨è¡¨å°¾è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œçš„çº¿æ€§è¡¨</p>
<p>è¡¨å°¾è¿™ä¸€ç«¯è¢«ç§°ä¸ºæ ˆé¡¶ï¼Œç›¸ååœ°å¦ä¸€ç«¯è¢«ç§°ä¸ºæ ˆåº•ï¼Œå‘æ ˆé¡¶æ’å…¥å…ƒç´ è¢«ç§°ä¸ºè¿›æ ˆã€å…¥æ ˆã€å‹æ ˆï¼Œä»æ ˆé¡¶åˆ é™¤å…ƒç´ åˆç§°ä½œå‡ºæ ˆ</p>
<p>æ‰€ä»¥å…¶æŒ‰ç…§å…ˆè¿›åå‡ºçš„åŸåˆ™å­˜å‚¨æ•°æ®ï¼Œå…ˆè¿›å…¥çš„æ•°æ®è¢«å‹å…¥æ ˆåº•ï¼Œæœ€åçš„æ•°æ®åœ¨æ ˆé¡¶ï¼Œéœ€è¦è¯»æ•°æ®çš„æ—¶å€™ä»æ ˆé¡¶å¼€å§‹å¼¹å‡ºæ•°æ®ï¼Œå…·æœ‰è®°å¿†ä½œç”¨</p>
<p>å…³äºæ ˆçš„ç®€å•å®ç°ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">class Stack &#123;
  constructor() &#123;
    this.items = [];
  &#125;

  /**
   * æ·»åŠ ä¸€ä¸ªï¼ˆæˆ–å‡ ä¸ªï¼‰æ–°å…ƒç´ åˆ°æ ˆé¡¶
   * @param &#123;*&#125; element æ–°å…ƒç´ 
   */
  push(element) &#123;
    this.items.push(element)
  &#125;

  /**
   * ç§»é™¤æ ˆé¡¶çš„å…ƒç´ ï¼ŒåŒæ—¶è¿”å›è¢«ç§»é™¤çš„å…ƒç´ 
   */
  pop() &#123;
    return this.items.pop()
  &#125;

  /**
   * è¿”å›æ ˆé¡¶çš„å…ƒç´ ï¼Œä¸å¯¹æ ˆåšä»»ä½•ä¿®æ”¹ï¼ˆè¿™ä¸ªæ–¹æ³•ä¸ä¼šç§»é™¤æ ˆé¡¶çš„å…ƒç´ ï¼Œä»…ä»…è¿”å›å®ƒï¼‰
   */
  peek() &#123;
    return this.items[this.items.length - 1]
  &#125;

  /**
   * å¦‚æœæ ˆé‡Œæ²¡æœ‰ä»»ä½•å…ƒç´ å°±è¿”å›true,å¦åˆ™è¿”å›false
   */
  isEmpty() &#123;
    return this.items.length === 0
  &#125;

  /**
   * ç§»é™¤æ ˆé‡Œçš„æ‰€æœ‰å…ƒç´ 
   */
  clear() &#123;
    this.items = []
  &#125;

  /**
   * è¿”å›æ ˆé‡Œçš„å…ƒç´ ä¸ªæ•°ã€‚è¿™ä¸ªæ–¹æ³•å’Œæ•°ç»„çš„lengthå±æ€§å¾ˆç±»ä¼¼
   */
  size() &#123;
    return this.items.length
  &#125;
&#125;
</code></pre>
<p>å…³äºæ ˆçš„æ“ä½œä¸»è¦çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<ul>
<li>pushï¼šå…¥æ ˆæ“ä½œ</li>
<li>popï¼šå‡ºæ ˆæ“ä½œ</li>
</ul>
<h4 id="äºŒã€é˜Ÿåˆ—"><a href="#äºŒã€é˜Ÿåˆ—" class="headerlink" title="äºŒã€é˜Ÿåˆ—"></a>äºŒã€é˜Ÿåˆ—</h4><p>è·Ÿæ ˆååˆ†ç›¸ä¼¼ï¼Œé˜Ÿåˆ—æ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿æ€§è¡¨ï¼Œç‰¹æ®Šä¹‹å¤„åœ¨äºå®ƒåªå…è®¸åœ¨è¡¨çš„å‰ç«¯ï¼ˆfrontï¼‰è¿›è¡Œåˆ é™¤æ“ä½œï¼Œè€Œåœ¨è¡¨çš„åç«¯ï¼ˆrearï¼‰è¿›è¡Œæ’å…¥æ“ä½œ</p>
<p>è¿›è¡Œæ’å…¥æ“ä½œçš„ç«¯ç§°ä¸ºé˜Ÿå°¾ï¼Œè¿›è¡Œåˆ é™¤æ“ä½œçš„ç«¯ç§°ä¸ºé˜Ÿå¤´ï¼Œå½“é˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ æ—¶ï¼Œç§°ä¸ºç©ºé˜Ÿåˆ—</p>
<p>åœ¨é˜Ÿåˆ—ä¸­æ’å…¥ä¸€ä¸ªé˜Ÿåˆ—å…ƒç´ ç§°ä¸ºå…¥é˜Ÿï¼Œä»é˜Ÿåˆ—ä¸­åˆ é™¤ä¸€ä¸ªé˜Ÿåˆ—å…ƒç´ ç§°ä¸ºå‡ºé˜Ÿã€‚å› ä¸ºé˜Ÿåˆ—åªå…è®¸åœ¨ä¸€ç«¯æ’å…¥ï¼Œåœ¨å¦ä¸€ç«¯åˆ é™¤ï¼Œæ‰€ä»¥åªæœ‰æœ€æ—©è¿›å…¥é˜Ÿåˆ—çš„å…ƒç´ æ‰èƒ½æœ€å…ˆä»é˜Ÿåˆ—ä¸­åˆ é™¤ï¼Œæ•…é˜Ÿåˆ—åˆç§°ä¸ºå…ˆè¿›å…ˆå‡º</p>
<p>ç®€å•å®ç°ä¸€ä¸ªé˜Ÿåˆ—çš„æ–¹å¼ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code>class Queue &#123;
    constructor() &#123;
        this.list = []
        this.frontIndex = 0
        this.tailIndex = 0
    &#125;
    enqueue(item) &#123;
        this.list[this.tailIndex++] = item
    &#125;
    unqueue() &#123;
        const item  = this.list[this.frontIndex]
        this.frontIndex++        
        return item
    &#125;
&#125;
</code></pre>
<p>ä¸Šè¿°è¿™ç§å…¥é˜Ÿå’Œå‡ºé˜Ÿæ“ä½œä¸­ï¼Œå¤´å°¾æŒ‡é’ˆåªå¢åŠ ä¸å‡å°ï¼Œè‡´ä½¿è¢«åˆ å…ƒç´ çš„ç©ºé—´æ°¸è¿œæ— æ³•é‡æ–°åˆ©ç”¨</p>
<p>å½“é˜Ÿåˆ—ä¸­å®é™…çš„å…ƒç´ ä¸ªæ•°è¿œè¿œå°äºå‘é‡ç©ºé—´çš„è§„æ¨¡æ—¶ï¼Œä¹Ÿå¯èƒ½ç”±äºå°¾æŒ‡é’ˆå·²è¶…è¶Šå‘é‡ç©ºé—´çš„ä¸Šç•Œè€Œä¸èƒ½åšå…¥é˜Ÿæ“ä½œï¼Œå‡ºè¯¥ç°è±¡ç§°ä¸ºâ€å‡æº¢â€</p>
<p>åœ¨å®é™…ä½¿ç”¨é˜Ÿåˆ—æ—¶ï¼Œä¸ºäº†ä½¿é˜Ÿåˆ—ç©ºé—´èƒ½é‡å¤ä½¿ç”¨ï¼Œå¾€å¾€å¯¹é˜Ÿåˆ—çš„ä½¿ç”¨æ–¹æ³•ç¨åŠ æ”¹è¿›ï¼š</p>
<p>æ— è®ºæ’å…¥æˆ–åˆ é™¤ï¼Œä¸€æ—¦<code>rear</code>æŒ‡é’ˆå¢1æˆ–<code>front</code>æŒ‡é’ˆå¢1 æ—¶è¶…å‡ºäº†æ‰€åˆ†é…çš„é˜Ÿåˆ—ç©ºé—´ï¼Œå°±è®©å®ƒæŒ‡å‘è¿™ç‰‡è¿ç»­ç©ºé—´çš„èµ·å§‹ä½ç½®ï¼Œè¿™ç§é˜Ÿåˆ—ä¹Ÿå°±æ˜¯å¾ªç¯é˜Ÿåˆ—</p>
<p>ä¸‹é¢å®ç°ä¸€ä¸ªå¾ªç¯é˜Ÿåˆ—ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">class Queue &#123;
    constructor(size) &#123;
        this.size = size; // é•¿åº¦éœ€è¦é™åˆ¶, æ¥è¾¾åˆ°ç©ºé—´çš„åˆ©ç”¨, ä»£è¡¨ç©ºé—´çš„é•¿åº¦
        this.list = [];
        this.font = 0; // æŒ‡å‘é¦–å…ƒç´ 
        this.rear = 0;  // æŒ‡å‘å‡†å¤‡æ’å…¥å…ƒç´ çš„ä½ç½®
    &#125;
    enQueue() &#123;
        if (this.isFull() == true) &#123;
            return false
        &#125;
        this.rear = this.rear % this.k;
        this._data[this.rear++] = value;
        return true
    &#125;
    deQueue() &#123;
        if(this.isEmpty())&#123;
            return false;
        &#125;
        this.font++;
        this.font = this.font % this.k;
        return true;
    &#125;
    isEmpty() &#123;
        return this.font == this.rear - 1;
    &#125;
    isFull() &#123;
        return this.rear % this.k == this.font;
    &#125;
&#125;
</code></pre>
<p>ä¸Šè¿°é€šè¿‡æ±‚ä½™çš„å½¢å¼ä»£è¡¨é¦–å°¾æŒ‡é’ˆå¢1 æ—¶è¶…å‡ºäº†æ‰€åˆ†é…çš„é˜Ÿåˆ—ç©ºé—´</p>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><h5 id="æ ˆ-1"><a href="#æ ˆ-1" class="headerlink" title="æ ˆ"></a>æ ˆ</h5><p>å€ŸåŠ©æ ˆçš„å…ˆè¿›åå‡ºçš„ç‰¹æ€§ï¼Œå¯ä»¥ç®€å•å®ç°ä¸€ä¸ªé€†åºæ•°å¤„çš„åŠŸèƒ½ï¼Œé¦–å…ˆæŠŠæ‰€æœ‰å…ƒç´ ä¾æ¬¡å…¥æ ˆï¼Œç„¶åæŠŠæ‰€æœ‰å…ƒç´ å‡ºæ ˆå¹¶è¾“å‡º</p>
<p>åŒ…æ‹¬ç¼–è¯‘å™¨çš„åœ¨å¯¹è¾“å…¥çš„è¯­æ³•è¿›è¡Œåˆ†æçš„æ—¶å€™ï¼Œä¾‹å¦‚<code>&quot;()&quot;</code>ã€<code>&quot;&#123;&#125;&quot;</code>ã€<code>&quot;[]&quot;</code>è¿™äº›æˆå¯¹å‡ºç°çš„ç¬¦å·ï¼Œå€ŸåŠ©æ ˆçš„ç‰¹æ€§ï¼Œå‡¡æ˜¯é‡åˆ°æ‹¬å·çš„å‰åŠéƒ¨åˆ†ï¼Œå³æŠŠè¿™ä¸ªå…ƒç´ å…¥æ ˆï¼Œå‡¡æ˜¯é‡åˆ°æ‹¬å·çš„ååŠéƒ¨åˆ†å°±æ¯”å¯¹æ ˆé¡¶å…ƒç´ æ˜¯å¦è¯¥å…ƒç´ ç›¸åŒ¹é…ï¼Œå¦‚æœåŒ¹é…ï¼Œåˆ™å‰åŠéƒ¨åˆ†å‡ºæ ˆï¼Œå¦åˆ™å°±æ˜¯åŒ¹é…å‡ºé”™</p>
<p>åŒ…æ‹¬å‡½æ•°è°ƒç”¨å’Œé€’å½’çš„æ—¶å€™ï¼Œæ¯è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œåº•å±‚éƒ½ä¼šè¿›è¡Œå…¥æ ˆæ“ä½œï¼Œå‡ºæ ˆåˆ™è¿”å›å‡½æ•°çš„è¿”å›å€¼</p>
<p>ç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼Œå¯ä»¥æŠŠä¹’ä¹“çƒç›’æ¯”å–»æˆä¸€ä¸ªå †æ ˆï¼Œçƒä¸€ä¸ªä¸€ä¸ªæ”¾è¿›å»ï¼ˆå…¥æ ˆï¼‰ï¼Œæœ€å…ˆæ”¾è¿›å»çš„è¦ç­‰å…¶åé¢çš„å…¨éƒ¨æ‹¿å‡ºæ¥åæ‰èƒ½å‡ºæ¥ï¼ˆå‡ºæ ˆï¼‰ï¼Œè¿™ç§å°±æ˜¯å…¸å‹çš„å…ˆè¿›åå‡ºæ¨¡å‹</p>
<h5 id="é˜Ÿåˆ—-1"><a href="#é˜Ÿåˆ—-1" class="headerlink" title="é˜Ÿåˆ—"></a>é˜Ÿåˆ—</h5><p>å½“æˆ‘ä»¬éœ€è¦æŒ‰ç…§ä¸€å®šçš„é¡ºåºæ¥å¤„ç†æ•°æ®ï¼Œè€Œè¯¥æ•°æ®çš„æ•°æ®é‡åœ¨ä¸æ–­åœ°å˜åŒ–çš„æ—¶å€™ï¼Œåˆ™éœ€è¦é˜Ÿåˆ—æ¥å¸®åŠ©è§£é¢˜</p>
<p>é˜Ÿåˆ—çš„ä½¿ç”¨å¹¿æ³›åº”ç”¨åœ¨å¹¿åº¦ä¼˜å…ˆæœç´¢ç§ï¼Œä¾‹å¦‚å±‚æ¬¡éå†ä¸€ä¸ªäºŒå‰æ ‘çš„èŠ‚ç‚¹å€¼ï¼ˆåç»­å°†åˆ°ï¼‰</p>
<p>ç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼Œæ’é˜Ÿä¹°ç¥¨ï¼Œæ’åœ¨é˜Ÿå¤´çš„æ°¸è¿œå…ˆå¤„ç†ï¼Œåé¢çš„å¿…é¡»ç­‰åˆ°å‰é¢çš„å…¨éƒ¨å¤„ç†å®Œæ¯•å†è¿›è¡Œå¤„ç†ï¼Œè¿™ä¹Ÿæ˜¯å…¸å‹çš„å…ˆè¿›å…ˆå‡ºæ¨¡å‹</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹é“¾è¡¨çš„ç†è§£ï¼Ÿå¸¸è§çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹é“¾è¡¨çš„ç†è§£ï¼Ÿå¸¸è§çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹é“¾è¡¨çš„ç†è§£ï¼Ÿå¸¸è§çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹é“¾è¡¨çš„ç†è§£ï¼Ÿå¸¸è§çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-1"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-1" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>é“¾è¡¨ï¼ˆLinked Listï¼‰æ˜¯ä¸€ç§ç‰©ç†å­˜å‚¨å•å…ƒä¸Šéè¿ç»­ã€éé¡ºåºçš„å­˜å‚¨ç»“æ„ï¼Œæ•°æ®å…ƒç´ çš„é€»è¾‘é¡ºåºæ˜¯é€šè¿‡é“¾è¡¨ä¸­çš„æŒ‡é’ˆé“¾æ¥æ¬¡åºå®ç°çš„ï¼Œç”±ä¸€ç³»åˆ—ç»“ç‚¹ï¼ˆé“¾è¡¨ä¸­æ¯ä¸€ä¸ªå…ƒç´ ç§°ä¸ºç»“ç‚¹ï¼‰ç»„æˆ</p>
<p>æ¯ä¸ªç»“ç‚¹åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼šä¸€ä¸ªæ˜¯å­˜å‚¨æ•°æ®å…ƒç´ çš„æ•°æ®åŸŸï¼Œå¦ä¸€ä¸ªæ˜¯å­˜å‚¨ä¸‹ä¸€ä¸ªç»“ç‚¹åœ°å€çš„æŒ‡é’ˆåŸŸ</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65346539333439302d316337362d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>èŠ‚ç‚¹ç”¨ä»£ç è¡¨ç¤ºï¼Œåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">class Node &#123;
  constructor(val) &#123;
    this.val = val;
    this.next = null;
  &#125;
&#125;
</code></pre>
<ul>
<li>data è¡¨ç¤ºèŠ‚ç‚¹å­˜æ”¾çš„æ•°æ®</li>
<li>next è¡¨ç¤ºä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘çš„å†…å­˜ç©ºé—´</li>
</ul>
<p>ç›¸æ¯”äºçº¿æ€§è¡¨é¡ºåºç»“æ„ï¼Œæ“ä½œå¤æ‚ã€‚ç”±äºä¸å¿…é¡»æŒ‰é¡ºåºå­˜å‚¨ï¼Œé“¾è¡¨åœ¨æ’å…¥çš„æ—¶å€™å¯ä»¥è¾¾åˆ°<code>O(1)</code>çš„å¤æ‚åº¦ï¼Œæ¯”å¦ä¸€ç§çº¿æ€§è¡¨é¡ºåºè¡¨å¿«å¾—å¤šï¼Œä½†æ˜¯æŸ¥æ‰¾ä¸€ä¸ªèŠ‚ç‚¹æˆ–è€…è®¿é—®ç‰¹å®šç¼–å·çš„èŠ‚ç‚¹åˆ™éœ€è¦O(n)çš„æ—¶é—´ï¼Œè€Œçº¿æ€§è¡¨å’Œé¡ºåºè¡¨ç›¸åº”çš„æ—¶é—´å¤æ‚åº¦åˆ†åˆ«æ˜¯<code>O(logn)</code>å’Œ<code>O(1)</code></p>
<p>é“¾è¡¨çš„ç»“æ„ä¹Ÿååˆ†å¤šï¼Œå¸¸è§çš„æœ‰å››ç§å½¢å¼ï¼š</p>
<ul>
<li>å•é“¾è¡¨ï¼šé™¤äº†å¤´èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹ï¼Œå…¶ä»–èŠ‚ç‚¹åªåŒ…å«ä¸€ä¸ªåç»§æŒ‡é’ˆ</li>
<li>å¾ªç¯é“¾è¡¨ï¼šè·Ÿå•é“¾è¡¨å”¯ä¸€çš„åŒºåˆ«å°±åœ¨äºå®ƒçš„å°¾ç»“ç‚¹åˆæŒ‡å›äº†é“¾è¡¨çš„å¤´ç»“ç‚¹ï¼Œé¦–å°¾ç›¸è¿ï¼Œå½¢æˆäº†ä¸€ä¸ªç¯</li>
<li>åŒå‘é“¾è¡¨ï¼šæ¯ä¸ªç»“ç‚¹å…·æœ‰ä¸¤ä¸ªæ–¹å‘æŒ‡é’ˆï¼Œåç»§æŒ‡é’ˆ(next)æŒ‡å‘åé¢çš„ç»“ç‚¹ï¼Œå‰é©±æŒ‡é’ˆ(prev)æŒ‡å‘å‰é¢çš„ç»“ç‚¹ï¼Œå…¶ä¸­èŠ‚ç‚¹çš„å‰é©±æŒ‡é’ˆå’Œå°¾ç»“ç‚¹çš„åç»§æŒ‡é’ˆå‡æŒ‡å‘ç©ºåœ°å€NULL</li>
<li>åŒå‘å¾ªç¯é“¾è¡¨ï¼šè·ŸåŒå‘é“¾è¡¨åŸºæœ¬ä¸€è‡´ï¼Œä¸è¿‡å¤´èŠ‚ç‚¹å‰é©±æŒ‡é’ˆæŒ‡å‘å°¾è¿¹è¯¶å•å’Œå°¾èŠ‚ç‚¹çš„åç»§æŒ‡é’ˆæŒ‡å‘å¤´èŠ‚ç‚¹</li>
</ul>
<h4 id="äºŒã€æ“ä½œ"><a href="#äºŒã€æ“ä½œ" class="headerlink" title="äºŒã€æ“ä½œ"></a>äºŒã€æ“ä½œ</h4><p>å…³äºé“¾è¡¨çš„æ“ä½œå¯ä»¥ä¸»è¦åˆ†æˆå¦‚ä¸‹ï¼š</p>
<ul>
<li>éå†</li>
<li>æ’å…¥</li>
<li>åˆ é™¤</li>
</ul>
<h5 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h5><p>éå†å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯æ ¹æ®<code>next</code>æŒ‡é’ˆéå†ä¸‹å»ï¼Œç›´åˆ°ä¸º<code>null</code>ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">let current = head
while(current)&#123;
 console.log(current.val)
  current = current.next
&#125;
</code></pre>
<h5 id="æ’å…¥"><a href="#æ’å…¥" class="headerlink" title="æ’å…¥"></a>æ’å…¥</h5><p>å‘é“¾è¡¨ä¸­é—´æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œå¯ä»¥å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f66356665356664302d316337362d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæ’å…¥èŠ‚ç‚¹å¯ä»¥åˆ†æˆå¦‚ä¸‹æ­¥éª¤ï¼š</p>
<ul>
<li>å­˜å‚¨æ’å…¥ä½ç½®çš„å‰ä¸€ä¸ªèŠ‚ç‚¹</li>
<li>å­˜å‚¨æ’å…¥ä½ç½®çš„åä¸€ä¸ªèŠ‚ç‚¹</li>
<li>å°†æ’å…¥ä½ç½®çš„å‰ä¸€ä¸ªèŠ‚ç‚¹çš„ next æŒ‡å‘æ’å…¥èŠ‚ç‚¹</li>
<li>å°†æ’å…¥èŠ‚ç‚¹çš„ next æŒ‡å‘å‰é¢å­˜å‚¨çš„ next èŠ‚ç‚¹</li>
</ul>
<p>ç›¸å…³ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="javascript">let current = head
while (current &lt; position)&#123;
  pervious = current;
  current = current.next;
&#125;
pervious.next = node;
node.next = current;
</code></pre>
<p>å¦‚æœåœ¨å¤´èŠ‚ç‚¹è¿›è¡Œæ’å…¥æ“ä½œçš„æ—¶å€™ï¼Œä¼šå®ç°<code>previousNode</code>èŠ‚ç‚¹ä¸º<code>undefined</code>ï¼Œä¸é€‚åˆä¸Šè¿°æ–¹å¼</p>
<p>è§£æ”¾æ–¹å¼å¯ä»¥æ˜¯åœ¨å¤´èŠ‚ç‚¹å‰é¢æ·»åŠ ä¸€ä¸ªè™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼Œä¿è¯æ’å…¥è¡Œä¸ºä¸€è‡´</p>
<h5 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h5><p>å‘é“¾è¡¨ä»»æ„ä½ç½®åˆ é™¤èŠ‚ç‚¹ï¼Œå¦‚ä¸‹å›¾æ“ä½œï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f30313630636439302d316337372d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°åˆ é™¤èŠ‚ç‚¹çš„æ­¥éª¤ä¸ºå¦‚ä¸‹ï¼š</p>
<ul>
<li>è·å–åˆ é™¤èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹</li>
<li>è·å–åˆ é™¤èŠ‚ç‚¹çš„åä¸€ä¸ªèŠ‚ç‚¹</li>
<li>å°†å‰ä¸€ä¸ªèŠ‚ç‚¹çš„ next æŒ‡å‘åä¸€ä¸ªèŠ‚ç‚¹</li>
<li>å‘åˆ é™¤èŠ‚ç‚¹çš„ next æŒ‡å‘ä¸ºnull</li>
</ul>
<p>å¦‚æœæƒ³è¦åˆ é™¤åˆ¶å®šçš„èŠ‚ç‚¹ï¼Œç¤ºæ„ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">while (current != node)&#123;
  pervious = current;
  current = current.next;
  nextNode = current.next;
&#125;
pervious.next = nextNode
</code></pre>
<p>åŒæ ·å¦‚ä½•å¸Œæœ›åˆ é™¤èŠ‚ç‚¹å¤„ç†è¡Œä¸ºä¸€è‡´ï¼Œå¯ä»¥åœ¨å¤´èŠ‚ç‚¹å‰é¢æ·»åŠ ä¸€ä¸ªè™šæ‹Ÿå¤´èŠ‚ç‚¹</p>
<h5 id="ä¸‰ã€åº”ç”¨åœºæ™¯-1"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-1" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h5><p>ç¼“å­˜æ˜¯ä¸€ç§æé«˜æ•°æ®è¯»å–æ€§èƒ½çš„æŠ€æœ¯ï¼Œåœ¨ç¡¬ä»¶è®¾è®¡ã€è½¯ä»¶å¼€å‘ä¸­éƒ½æœ‰ç€éå¸¸å¹¿æ³›çš„åº”ç”¨ï¼Œæ¯”å¦‚å¸¸è§çš„<code>CPU</code>ç¼“å­˜ã€æ•°æ®åº“ç¼“å­˜ã€æµè§ˆå™¨ç¼“å­˜ç­‰ç­‰</p>
<p>å½“ç¼“å­˜ç©ºé—´è¢«ç”¨æ»¡æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šä½¿ç”¨<code>LRU</code>æœ€è¿‘æœ€å¥½ä½¿ç”¨ç­–ç•¥å»æ¸…æ¥šï¼Œè€Œå®ç°<code>LRU</code>ç®—æ³•çš„æ•°æ®ç»“æ„æ˜¯é“¾è¡¨ï¼Œæ€è·¯å¦‚ä¸‹ï¼š</p>
<p>ç»´æŠ¤ä¸€ä¸ªæœ‰åºå•é“¾è¡¨ï¼Œè¶Šé è¿‘é“¾è¡¨å°¾éƒ¨çš„ç»“ç‚¹æ˜¯è¶Šæ—©ä¹‹å‰è®¿é—®çš„ã€‚å½“æœ‰ä¸€ä¸ªæ–°çš„æ•°æ®è¢«è®¿é—®æ—¶ï¼Œæˆ‘ä»¬ä»é“¾è¡¨å¤´éƒ¨å¼€å§‹é¡ºåºéå†é“¾è¡¨</p>
<ul>
<li>å¦‚æœæ­¤æ•°æ®ä¹‹å‰å·²ç»è¢«ç¼“å­˜åœ¨é“¾è¡¨ä¸­äº†ï¼Œæˆ‘ä»¬éå†å¾—åˆ°è¿™ä¸ªæ•°æ®çš„å¯¹åº”ç»“ç‚¹ï¼Œå¹¶å°†å…¶ä»åŸæ¥çš„ä½ç½®åˆ é™¤ï¼Œå¹¶æ’å…¥åˆ°é“¾è¡¨å¤´éƒ¨</li>
<li>å¦‚æœæ­¤æ•°æ®æ²¡åœ¨ç¼“å­˜é“¾è¡¨ä¸­<ul>
<li>å¦‚æœæ­¤æ—¶ç¼“å­˜æœªæ»¡ï¼Œå¯ç›´æ¥åœ¨é“¾è¡¨å¤´éƒ¨æ’å…¥æ–°èŠ‚ç‚¹å­˜å‚¨æ­¤æ•°æ®</li>
<li>å¦‚æœæ­¤æ—¶ç¼“å­˜å·²æ»¡ï¼Œåˆ™åˆ é™¤é“¾è¡¨å°¾éƒ¨èŠ‚ç‚¹ï¼Œå†åœ¨é“¾è¡¨å¤´éƒ¨æ’å…¥æ–°èŠ‚ç‚¹</li>
</ul>
</li>
</ul>
<p>ç”±äºé“¾è¡¨æ’å…¥åˆ é™¤æ•ˆç‡æé«˜ï¼Œè¾¾åˆ°O(1)ã€‚å¯¹äºä¸éœ€è¦æœç´¢ä½†å˜åŠ¨é¢‘ç¹ä¸”æ— æ³•é¢„çŸ¥æ•°é‡ä¸Šé™çš„æ•°æ®çš„æƒ…å†µçš„æ—¶å€™ï¼Œéƒ½å¯ä»¥ä½¿ç”¨é“¾è¡¨</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹é›†åˆçš„ç†è§£ï¼Ÿå¸¸è§çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹é›†åˆçš„ç†è§£ï¼Ÿå¸¸è§çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹é›†åˆçš„ç†è§£ï¼Ÿå¸¸è§çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹é›†åˆçš„ç†è§£ï¼Ÿå¸¸è§çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-2"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-2" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>é›†åˆï¼ˆSetï¼‰ï¼ŒæŒ‡å…·æœ‰æŸç§ç‰¹å®šæ€§è´¨çš„äº‹ç‰©çš„æ€»ä½“ï¼Œé‡Œé¢çš„æ¯ä¸€é¡¹å†…å®¹ç§°ä½œå…ƒç´ </p>
<p>åœ¨æ•°å­¦ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°é›†åˆçš„æ¦‚å¿µï¼š</p>
<ul>
<li>æœ‰é™é›†åˆï¼šä¾‹å¦‚ä¸€ä¸ªç­é›†æ‰€æœ‰çš„åŒå­¦æ„æˆçš„é›†åˆ</li>
<li>æ— é™é›†åˆï¼šä¾‹å¦‚å…¨ä½“è‡ªç„¶æ•°é›†åˆ</li>
</ul>
<p>åœ¨è®¡ç®—æœºä¸­é›†åˆé“ç†ä¹ŸåŸºæœ¬ä¸€è‡´ï¼Œå…·æœ‰ä¸‰å¤§ç‰¹æ€§ï¼š</p>
<ul>
<li>ç¡®å®šæ€§ï¼šäºä¸€ä¸ªç»™å®šçš„é›†åˆï¼Œé›†åˆä¸­çš„å…ƒç´ æ˜¯ç¡®å®šçš„ã€‚å³ä¸€ä¸ªå…ƒç´ ï¼Œæˆ–è€…å±äºè¯¥é›†åˆï¼Œæˆ–è€…ä¸å±äºè¯¥é›†åˆï¼Œä¸¤è€…å¿…å±…å…¶ä¸€</li>
<li>æ— åºæ€§ï¼šåœ¨ä¸€ä¸ªé›†åˆä¸­ï¼Œä¸è€ƒè™‘å…ƒç´ ä¹‹é—´çš„é¡ºåºï¼Œåªè¦å…ƒç´ å®Œå…¨ç›¸åŒï¼Œå°±è®¤ä¸ºæ˜¯åŒä¸€ä¸ªé›†åˆ</li>
<li>äº’å¼‚æ€§ï¼šé›†åˆä¸­ä»»æ„ä¸¤ä¸ªå…ƒç´ éƒ½æ˜¯ä¸åŒçš„</li>
</ul>
<h4 id="äºŒã€æ“ä½œ-1"><a href="#äºŒã€æ“ä½œ-1" class="headerlink" title="äºŒã€æ“ä½œ"></a>äºŒã€æ“ä½œ</h4><p>åœ¨<code>ES6</code>ä¸­ï¼Œé›†åˆæœ¬èº«æ˜¯ä¸€ä¸ªæ„å»ºå‡½æ•°<code>Set</code>ï¼Œç”¨æ¥ç”Ÿæˆ <code>Set</code> æ•°æ®ç»“æ„ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const s = new Set();
</code></pre>
<p>å…³äºé›†åˆå¸¸è§çš„æ–¹æ³•æœ‰ï¼š</p>
<ul>
<li>add()ï¼šå¢</li>
<li>delete()ï¼šåˆ </li>
<li>has()ï¼šæ”¹</li>
<li>clear()ï¼šæŸ¥</li>
</ul>
<h5 id="add"><a href="#add" class="headerlink" title="add()"></a>add()</h5><p>æ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å› <code>Set</code> ç»“æ„æœ¬èº«</p>
<p>å½“æ·»åŠ å®ä¾‹ä¸­å·²ç»å­˜åœ¨çš„å…ƒç´ ï¼Œ<code>set</code>ä¸ä¼šè¿›è¡Œå¤„ç†æ·»åŠ </p>
<pre><code class="javascript">s.add(1).add(2).add(2); // 2åªè¢«æ·»åŠ äº†ä¸€æ¬¡
</code></pre>
<p>ä½“ç°äº†é›†åˆçš„äº’å¼‚æ€§ç‰¹æ€§</p>
<h5 id="delete"><a href="#delete" class="headerlink" title="delete()"></a>delete()</h5><p>åˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸ</p>
<pre><code class="ini">s.delete(1)
</code></pre>
<h5 id="has"><a href="#has" class="headerlink" title="has()"></a>has()</h5><p>è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œåˆ¤æ–­è¯¥å€¼æ˜¯å¦ä¸º<code>Set</code>çš„æˆå‘˜</p>
<pre><code class="ini">s.has(2)
</code></pre>
<h5 id="clear"><a href="#clear" class="headerlink" title="clear()"></a>clear()</h5><p>æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼</p>
<pre><code class="ini">s.clear()
</code></pre>
<p>å…³äºå¤šä¸ªé›†åˆå¸¸è§çš„æ“ä½œæœ‰ï¼š</p>
<ul>
<li>å¹¶é›†</li>
<li>äº¤é›†</li>
<li>å·®é›†</li>
</ul>
<h5 id="å¹¶é›†"><a href="#å¹¶é›†" class="headerlink" title="å¹¶é›†"></a>å¹¶é›†</h5><p>ä¸¤ä¸ªé›†åˆçš„å…±åŒå…ƒç´ ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65643936646635302d316433362d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>ä»£ç å®ç°æ–¹å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">let a = new Set([1, 2, 3]);
let b = new Set([4, 3, 2]);

// å¹¶é›†
let union = new Set([...a, ...b]);
// Set &#123;1, 2, 3, 4&#125;
</code></pre>
<h5 id="äº¤é›†"><a href="#äº¤é›†" class="headerlink" title="äº¤é›†"></a>äº¤é›†</h5><p>ä¸¤ä¸ªé›†åˆ<code>A</code> å’Œ <code>B</code>ï¼Œå³å±äº<code>A</code>åˆå±äº<code>B</code>çš„å…ƒç´ ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f66386139636438302d316433362d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>ç”¨ä»£ç æ ‡è¯†åˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">let a = new Set([1, 2, 3]);
let b = new Set([4, 3, 2]);

// äº¤é›†
let intersect = new Set([...a].filter(x =&gt; b.has(x)));
// set &#123;2, 3&#125;
</code></pre>
<h5 id="å·®é›†"><a href="#å·®é›†" class="headerlink" title="å·®é›†"></a>å·®é›†</h5><p>ä¸¤ä¸ªé›†åˆ<code>A</code> å’Œ <code>B</code>ï¼Œå±äº<code>A</code>çš„å…ƒç´ ä½†ä¸å±äº<code>B</code>çš„å…ƒç´ ç§°ä¸º<code>A</code>ç›¸å¯¹äº<code>B</code>çš„å·®é›†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f30313931633536302d316433372d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>ä»£ç æ ‡è¯†åˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">let a = new Set([1, 2, 3]);
let b = new Set([4, 3, 2]);

// ï¼ˆa ç›¸å¯¹äº b çš„ï¼‰å·®é›†
let difference = new Set([...a].filter(x =&gt; !b.has(x)));
// Set &#123;1&#125;
</code></pre>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯-2"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-2" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ•°ç»„çš„æ¦‚ç‡ä¼šæ¯”é›†åˆæ¦‚ç‡é«˜å¾ˆå¤š</p>
<p>ä½¿ç”¨<code>set</code>é›†åˆçš„åœºæ™¯ä¸€èˆ¬æ˜¯å€ŸåŠ©å…¶ç¡®å®šæ€§ï¼Œå…¶æœ¬èº«åªåŒ…å«ä¸åŒçš„å…ƒç´ </p>
<p>æ‰€ä»¥ï¼Œå¯ä»¥åˆ©ç”¨<code>Set</code>çš„ä¸€äº›åŸç”Ÿæ–¹æ³•è½»æ¾çš„å®Œæˆæ•°ç»„å»é‡ï¼ŒæŸ¥æ‰¾æ•°ç»„å…¬å…±å…ƒç´ åŠä¸åŒå…ƒç´ ç­‰æ“ä½œ</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹æ ‘çš„ç†è§£ï¼Ÿç›¸å…³çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹æ ‘çš„ç†è§£ï¼Ÿç›¸å…³çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹æ ‘çš„ç†è§£ï¼Ÿç›¸å…³çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹æ ‘çš„ç†è§£ï¼Ÿç›¸å…³çš„æ“ä½œæœ‰å“ªäº›ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-3"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-3" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>åœ¨è®¡ç®—æœºé¢†åŸŸï¼Œæ ‘å½¢æ•°æ®ç»“æ„æ˜¯ä¸€ç±»é‡è¦çš„éçº¿æ€§æ•°æ®ç»“æ„ï¼Œå¯ä»¥è¡¨ç¤ºæ•°æ®ä¹‹é—´ä¸€å¯¹å¤šçš„å…³ç³»ã€‚ä»¥æ ‘ä¸äºŒå‰æ ‘æœ€ä¸ºå¸¸ç”¨ï¼Œç›´è§‚çœ‹æ¥ï¼Œæ ‘æ˜¯ä»¥åˆ†æ”¯å…³ç³»å®šä¹‰çš„å±‚æ¬¡ç»“æ„</p>
<p>äºŒå‰æ ‘æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼š</p>
<ul>
<li>æœ¬èº«æ˜¯æœ‰åºæ ‘</li>
<li>æ ‘ä¸­åŒ…å«çš„å„ä¸ªç»“ç‚¹çš„ä¸èƒ½è¶…è¿‡ 2ï¼Œå³åªèƒ½æ˜¯ 0ã€1 æˆ–è€… 2</li>
</ul>
<p>å¦‚ä¸‹å›¾ï¼Œå·¦ä¾§çš„ä¸ºäºŒå‰æ ‘ï¼Œè€Œå³ä¾§çš„å› ä¸ºå¤´ç»“ç‚¹çš„å­ç»“ç‚¹è¶…è¿‡2ï¼Œå› æ­¤ä¸å±äºäºŒå‰æ ‘ï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f36363735383830302d316466652d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>åŒæ—¶ï¼ŒäºŒå‰æ ‘å¯ä»¥ç»§ç»­è¿›è¡Œåˆ†ç±»ï¼Œåˆ†æˆäº†æ»¡äºŒå‰æ ‘å’Œå®ŒæˆäºŒå‰æ ‘ï¼š</p>
<ul>
<li>æ»¡äºŒå‰æ ‘ï¼šå¦‚æœäºŒå‰æ ‘ä¸­é™¤äº†å¶å­ç»“ç‚¹ï¼Œæ¯ä¸ªç»“ç‚¹çš„åº¦éƒ½ä¸º 2</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f37353964623035302d316466652d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<ul>
<li>å®ŒæˆäºŒå‰æ ‘ï¼šå¦‚æœäºŒå‰æ ‘ä¸­é™¤å»æœ€åä¸€å±‚èŠ‚ç‚¹ä¸ºæ»¡äºŒå‰æ ‘ï¼Œä¸”æœ€åä¸€å±‚çš„ç»“ç‚¹ä¾æ¬¡ä»å·¦åˆ°å³åˆ†å¸ƒ</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f38346165333166302d316466652d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<h4 id="äºŒã€æ“ä½œ-2"><a href="#äºŒã€æ“ä½œ-2" class="headerlink" title="äºŒã€æ“ä½œ"></a>äºŒã€æ“ä½œ</h4><p>å…³äºäºŒå‰æ ‘çš„éå†ï¼Œå¸¸è§çš„æœ‰ï¼š</p>
<ul>
<li>å‰åºéå†</li>
<li>ä¸­åºéå†</li>
<li>ååºéå†</li>
<li>å±‚åºéå†</li>
</ul>
<h5 id="å‰åºéå†"><a href="#å‰åºéå†" class="headerlink" title="å‰åºéå†"></a>å‰åºéå†</h5><p>å‰åºéå†çš„å®ç°æ€æƒ³æ˜¯ï¼š</p>
<ul>
<li>è®¿é—®æ ¹èŠ‚ç‚¹</li>
<li>è®¿é—®å½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘</li>
<li>è‹¥å½“å‰èŠ‚ç‚¹æ— å·¦å­æ ‘ï¼Œåˆ™è®¿é—®å½“å‰èŠ‚ç‚¹çš„å³å­</li>
</ul>
<p>æ ¹æ®éå†ç‰¹æ€§ï¼Œé€’å½’ç‰ˆæœ¬ç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const preOrder = (root) =&gt; &#123;
  if(!root)&#123; return &#125;
  console.log(root)
  preOrder(root.left)
  preOrder(root.right)
&#125;
</code></pre>
<p>å¦‚æœä¸ä½¿ç”¨é€’å½’ç‰ˆæœ¬ï¼Œå¯ä»¥å€ŸåŠ©æ ˆå…ˆè¿›åå‡ºçš„ç‰¹æ€§å®ç°ï¼Œå…ˆå°†æ ¹èŠ‚ç‚¹å‹å…¥æ ˆï¼Œå†åˆ†åˆ«å‹å…¥å³èŠ‚ç‚¹å’Œå·¦èŠ‚ç‚¹ï¼Œç›´åˆ°æ ˆä¸­æ²¡æœ‰å…ƒç´ ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const preOrder = (root) =&gt; &#123;
  if(!root)&#123; return &#125;
  const stack = [root]
  while (stack.length) &#123;
    const n = stack.pop()
    console.log(n.val)
    if (n.right) &#123;
      stack.push(n.right)
    &#125;
    if (n.left) &#123;
      stack.push(n.left)
    &#125;
  &#125;
&#125;
</code></pre>
<h5 id="ä¸­åºéå†"><a href="#ä¸­åºéå†" class="headerlink" title="ä¸­åºéå†"></a>ä¸­åºéå†</h5><p>å‰åºéå†çš„å®ç°æ€æƒ³æ˜¯ï¼š</p>
<ul>
<li>è®¿é—®å½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘</li>
<li>è®¿é—®æ ¹èŠ‚ç‚¹</li>
<li>è®¿é—®å½“å‰èŠ‚ç‚¹çš„å³å­</li>
</ul>
<p>é€’å½’ç‰ˆæœ¬å¾ˆå¥½ç†è§£ï¼Œç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const inOrder = (root) =&gt; &#123;
  if (!root) &#123; return &#125;
  inOrder(root.left)
  console.log(root.val)
  inOrder(root.right)
&#125;
</code></pre>
<p>éé€’å½’ç‰ˆæœ¬ä¹Ÿæ˜¯å€ŸåŠ©æ ˆå…ˆè¿›åå‡ºçš„ç‰¹æ€§ï¼Œå¯ä»¥ä¸€ç›´é¦–å…ˆä¸€ç›´å‹å…¥èŠ‚ç‚¹çš„å·¦å…ƒç´ ï¼Œå½“å·¦èŠ‚ç‚¹æ²¡æœ‰åï¼Œæ‰å¼€å§‹è¿›è¡Œå‡ºæ ˆæ“ä½œï¼Œå‹å…¥å³èŠ‚ç‚¹ï¼Œç„¶åæœ‰ä¾æ¬¡å‹å…¥å·¦èŠ‚ç‚¹ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const inOrder = (root) =&gt; &#123;
  if (!root) &#123; return &#125;
  const stack = [root]
  let p = root
  while(stack.length || p)&#123;
    while (p) &#123;
      stack.push(p)
      p = p.left
    &#125;
    const n = stack.pop()
    console.log(n.val)
    p = n.right
  &#125;
&#125;
</code></pre>
<h5 id="ååºéå†"><a href="#ååºéå†" class="headerlink" title="ååºéå†"></a>ååºéå†</h5><p>å‰åºéå†çš„å®ç°æ€æƒ³æ˜¯ï¼š</p>
<ul>
<li>è®¿é—®å½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘</li>
<li>è®¿é—®å½“å‰èŠ‚ç‚¹çš„å³å­</li>
<li>è®¿é—®æ ¹èŠ‚ç‚¹</li>
</ul>
<p>é€’å½’ç‰ˆæœ¬ï¼Œç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const postOrder = (root) =&gt; &#123;
  if (!root) &#123; return &#125;
  postOrder(root.left)
  postOrder(root.right)
  console.log(n.val)
 &#125;
</code></pre>
<p>ååºéå†éé€’å½’ç‰ˆæœ¬å®é™…æ ¹å…¨åºéå†æ˜¯é€†åºå…³ç³»ï¼Œå¯ä»¥å†å¤šåˆ›å»ºä¸€ä¸ªæ ˆç”¨æ¥è¿›è¡Œè¾“å‡ºï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const preOrder = (root) =&gt; &#123;
  if(!root)&#123; return &#125;
  const stack = [root]
  const outPut = []
  while (stack.length) &#123;
    const n = stack.pop()
    outPut.push(n.val)
    if (n.right) &#123;
      stack.push(n.right)
    &#125;
    if (n.left) &#123;
      stack.push(n.left)
    &#125;
  &#125;
  while (outPut.length) &#123;
    const n = outPut.pop()
    console.log(n.val)
  &#125;
&#125;
</code></pre>
<h5 id="å±‚åºéå†"><a href="#å±‚åºéå†" class="headerlink" title="å±‚åºéå†"></a>å±‚åºéå†</h5><p>æŒ‰ç…§äºŒå‰æ ‘ä¸­çš„å±‚æ¬¡ä»å·¦åˆ°å³ä¾æ¬¡éå†æ¯å±‚ä¸­çš„ç»“ç‚¹</p>
<p>å€ŸåŠ©é˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºçš„ç‰¹æ€§ï¼Œä»æ ‘çš„æ ¹ç»“ç‚¹å¼€å§‹ï¼Œä¾æ¬¡å°†å…¶å·¦å­©å­å’Œå³å­©å­å…¥é˜Ÿã€‚è€Œåæ¯æ¬¡é˜Ÿåˆ—ä¸­ä¸€ä¸ªç»“ç‚¹å‡ºé˜Ÿï¼Œéƒ½å°†å…¶å·¦å­©å­å’Œå³å­©å­å…¥é˜Ÿï¼Œç›´åˆ°æ ‘ä¸­æ‰€æœ‰ç»“ç‚¹éƒ½å‡ºé˜Ÿï¼Œå‡ºé˜Ÿç»“ç‚¹çš„å…ˆåé¡ºåºå°±æ˜¯å±‚æ¬¡éå†çš„æœ€ç»ˆç»“æœ</p>
<p>ç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const levelOrder = (root) =&gt; &#123;
    if (!root) &#123; return [] &#125;
    const queue = [[root, 0]]
    const res = []
    while (queue.length) &#123;
        const n = queue.shift()
        const [node, leval] = n
        if (!res[leval]) &#123;
            res[leval] = [node.val]
        &#125; else &#123;
            res[leval].push(node.val)
        &#125;
        if (node.left) &#123; queue.push([node.left, leval + 1]) &#125;
        if (node.right) &#123; queue.push([node.right, leval + 1]) &#125;
    &#125;
    return res
&#125;;
</code></pre>
<h4 id="ä¸‰ã€æ€»ç»“"><a href="#ä¸‰ã€æ€»ç»“" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h4><p>æ ‘æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„éçº¿æ€§ç»“æ„ï¼Œå…¶ä¸­äºŒå‰æ ‘ä»¥äºŒå‰æ ‘æœ€å¸¸è§ï¼ŒäºŒå‰æ ‘çš„éå†æ–¹å¼å¯ä»¥åˆ†æˆå‰åºéå†ã€ä¸­åºéå†ã€ååºéå†</p>
<p>åŒæ—¶ï¼ŒäºŒå‰æ ‘åˆåˆ†æˆäº†å®ŒæˆäºŒå‰æ ‘å’Œæ»¡äºŒå‰æ ‘</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹å †çš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹å †çš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹å †çš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹å †çš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-4"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-4" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>å †(Heap)æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­ä¸€ç±»ç‰¹æ®Šçš„æ•°æ®ç»“æ„çš„ç»Ÿç§°</p>
<p>å †é€šå¸¸æ˜¯ä¸€ä¸ªå¯ä»¥è¢«çœ‹åšä¸€æ£µå®Œå…¨äºŒå‰æ ‘çš„æ•°ç»„å¯¹è±¡ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65613066643166302d316564372d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>æ€»æ˜¯æ»¡è¶³ä¸‹åˆ—æ€§è´¨ï¼š</p>
<ul>
<li>å †ä¸­æŸä¸ªç»“ç‚¹çš„å€¼æ€»æ˜¯ä¸å¤§äºæˆ–ä¸å°äºå…¶çˆ¶ç»“ç‚¹çš„å€¼</li>
<li>å †æ€»æ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘</li>
</ul>
<p>å †åˆå¯ä»¥åˆ†æˆæœ€å¤§å †å’Œæœ€å°å †ï¼š</p>
<ul>
<li>æœ€å¤§å †ï¼šæ¯ä¸ªæ ¹ç»“ç‚¹ï¼Œéƒ½æœ‰æ ¹ç»“ç‚¹çš„å€¼å¤§äºä¸¤ä¸ªå­©å­ç»“ç‚¹çš„å€¼</li>
<li>æœ€å°å †ï¼šæ¯ä¸ªæ ¹ç»“ç‚¹ï¼Œéƒ½æœ‰æ ¹ç»“ç‚¹çš„å€¼å°äºå­©å­ç»“ç‚¹çš„å€¼</li>
</ul>
<h4 id="äºŒã€æ“ä½œ-3"><a href="#äºŒã€æ“ä½œ-3" class="headerlink" title="äºŒã€æ“ä½œ"></a>äºŒã€æ“ä½œ</h4><p>å †çš„å…ƒç´ å­˜å‚¨æ–¹å¼ï¼ŒæŒ‰ç…§å®Œå…¨äºŒå‰æ ‘çš„é¡ºåºå­˜å‚¨æ–¹å¼å­˜å‚¨åœ¨ä¸€ä¸ªä¸€ç»´æ•°ç»„ä¸­ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65613066643166302d316564372d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>ç”¨ä¸€ç»´æ•°ç»„å­˜å‚¨åˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">[0, 1, 2, 3, 4, 5, 6, 7, 8]
</code></pre>
<p>æ ¹æ®å®Œå…¨äºŒå‰æ ‘çš„ç‰¹æ€§ï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹ç‰¹æ€§ï¼š</p>
<ul>
<li>æ•°ç»„é›¶åæ ‡ä»£ç çš„æ˜¯å †é¡¶å…ƒç´ </li>
<li>ä¸€ä¸ªèŠ‚ç‚¹çš„çˆ¶äº²èŠ‚ç‚¹çš„åæ ‡ç­‰äºå…¶åæ ‡é™¤ä»¥2æ•´æ•°éƒ¨åˆ†</li>
<li>ä¸€ä¸ªèŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ç­‰äºå…¶æœ¬èº«èŠ‚ç‚¹åæ ‡ * 2 + 1</li>
<li>ä¸€ä¸ªèŠ‚ç‚¹çš„å³èŠ‚ç‚¹ç­‰äºå…¶æœ¬èº«èŠ‚ç‚¹åæ ‡ * 2 + 2</li>
</ul>
<p>æ ¹æ®ä¸Šè¿°å †çš„ç‰¹æ€§ï¼Œä¸‹é¢æ„å»ºæœ€å°å †çš„æ„é€ å‡½æ•°å’Œå¯¹åº”çš„å±æ€§æ–¹æ³•ï¼š</p>
<pre><code class="javascript">class MinHeap &#123;
  constructor() &#123;
    // å­˜å‚¨å †å…ƒç´ 
    this.heap = []
  &#125;
  // è·å–çˆ¶å…ƒç´ åæ ‡
  getParentIndex(i) &#123;
    return (i - 1) &gt;&gt; 1
  &#125;
  
  // è·å–å·¦èŠ‚ç‚¹å…ƒç´ åæ ‡
  getLeftIndex(i) &#123;
    return i * 2 + 1
  &#125;
  
 // è·å–å³èŠ‚ç‚¹å…ƒç´ åæ ‡
  getRightIndex(i) &#123;
    return i * 2 + 2
  &#125;
  
  // äº¤æ¢å…ƒç´ 
  swap(i1, i2) &#123;
    const temp = this.heap[i1]
    this.heap[i1] = this.heap[i2]
    this.heap[i2] = temp
  &#125;
  
  // æŸ¥çœ‹å †é¡¶å…ƒç´ 
  peek() &#123;
    return this.heap[0]
  &#125;
  
  // è·å–å †å…ƒç´ çš„å¤§å°
  size() &#123;
    return this.heap.length
  &#125;
&#125;
</code></pre>
<p>æ¶‰åŠåˆ°å †çš„æ“ä½œæœ‰ï¼š</p>
<ul>
<li>æ’å…¥</li>
<li>åˆ é™¤</li>
</ul>
<h5 id="æ’å…¥-1"><a href="#æ’å…¥-1" class="headerlink" title="æ’å…¥"></a>æ’å…¥</h5><p>å°†å€¼æ’å…¥å †çš„åº•éƒ¨ï¼Œå³æ•°ç»„çš„å°¾éƒ¨ï¼Œå½“æ’å…¥ä¸€ä¸ªæ–°çš„å…ƒç´ ä¹‹åï¼Œå †çš„ç»“æ„å°±ä¼šè¢«ç ´åï¼Œå› æ­¤éœ€è¦å †ä¸­ä¸€ä¸ªå…ƒç´ åšä¸Šç§»æ“ä½œ</p>
<p>å°†è¿™ä¸ªå€¼å’Œå®ƒçˆ¶èŠ‚ç‚¹è¿›è¡Œäº¤æ¢ï¼Œç›´åˆ°çˆ¶èŠ‚ç‚¹å°äºç­‰äºè¿™ä¸ªæ’å…¥çš„å€¼ï¼Œå¤§å°ä¸º<code>k</code>çš„å †ä¸­æ’å…¥å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ä¸º<code>O(logk)</code></p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ22èŠ‚ç‚¹æ˜¯æ–°æ’å…¥çš„å…ƒç´ ï¼Œç„¶åè¿›è¡Œä¸Šç§»æ“ä½œï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f30363839336662302d316564382d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>ç›¸å…³ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="java">// æ’å…¥å…ƒç´ 
insert(value) &#123;
  this.heap.push(value)
  this.shifUp(this.heap.length - 1)
&#125;

// ä¸Šç§»æ“ä½œ
shiftUp(index) &#123;
  if (index === 0) &#123; return &#125;
  const parentIndex = this.getParentIndex(index)
  if(this.heap[parentIndex] &gt; this.heap[index])&#123;
    this.swap(parentIndex, index)
    this.shiftUp(parentIndex)
  &#125;
&#125;
</code></pre>
<h5 id="åˆ é™¤-1"><a href="#åˆ é™¤-1" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h5><p>å¸¸è§æ“ä½œæ˜¯ç”¨æ•°ç»„å°¾éƒ¨å…ƒç´ æ›¿æ¢å †é¡¶ï¼Œè¿™é‡Œä¸ç›´æ¥åˆ é™¤å †é¡¶ï¼Œå› ä¸ºæ‰€æœ‰çš„å…ƒç´ ä¼šå‘å‰ç§»åŠ¨ä¸€ä½ï¼Œä¼šç ´åäº†å †çš„ç»“æ„</p>
<p>ç„¶åè¿›è¡Œä¸‹ç§»æ“ä½œï¼Œå°†æ–°çš„å †é¡¶å’Œå®ƒçš„å­èŠ‚ç‚¹è¿›è¡Œäº¤æ¢ï¼Œç›´åˆ°å­èŠ‚ç‚¹å¤§äºç­‰äºè¿™ä¸ªæ–°çš„å †é¡¶ï¼Œåˆ é™¤å †é¡¶çš„æ—¶é—´å¤æ‚åº¦ä¸º<code>O(logk)</code></p>
<p>æ•´ä½“å¦‚ä¸‹å›¾æ“ä½œï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f31326132613136302d316564382d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>ç›¸å…³ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">// åˆ é™¤å…ƒç´ 
pop() &#123;
  this.heap[0] = this.heap.pop()
  this.shiftDown(0)
&#125;

// ä¸‹ç§»æ“ä½œ
shiftDown(index) &#123;
  const leftIndex = this.getLeftIndex(index)
  const rightIndex = this.getRightIndex(index)
  if (this.heap[leftIndex] &lt; this.heap[index])&#123;
    this.swap(leftIndex, index)
    this.shiftDown(leftIndex)
  &#125;
  if (this.heap[rightIndex] &lt; this.heap[index])&#123;
    this.swap(rightIndex, index)
    this.shiftDown(rightIndex)
  &#125;
&#125;
</code></pre>
<h5 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h5><p>å…³äºå †çš„æ’å…¥å’Œåˆ é™¤æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯<code>Olog(n)</code>ï¼ŒåŸå› åœ¨äºåŒ…å«nä¸ªèŠ‚ç‚¹çš„å®Œå…¨äºŒå‰æ ‘ï¼Œæ ‘çš„é«˜åº¦ä¸ä¼šè¶…è¿‡<code>log2n</code></p>
<p>å †åŒ–çš„è¿‡ç¨‹æ˜¯é¡ºç€èŠ‚ç‚¹æ‰€åœ¨è·¯å¾„æ¯”è¾ƒäº¤æ¢çš„ï¼Œæ‰€ä»¥å †åŒ–çš„æ—¶é—´å¤æ‚åº¦è·Ÿæ ‘çš„é«˜åº¦æˆæ­£æ¯”ï¼Œä¹Ÿå°±æ˜¯<code>Olog(n)</code>ï¼Œæ’å…¥æ•°æ®å’Œåˆ é™¤å †é¡¶å…ƒç´ çš„ä¸»è¦é€»è¾‘å°±æ˜¯å †åŒ–</p>
<h3 id="ä¸‰ã€æ€»ç»“-1"><a href="#ä¸‰ã€æ€»ç»“-1" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h3><ul>
<li>å †æ˜¯ä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘</li>
<li>å †ä¸­æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¿…é¡»å¤§äºç­‰äº(æˆ–å°äºç­‰äº)å…¶å­æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å€¼</li>
<li>å¯¹äºæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¤§äºç­‰äºå­æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹å€¼çš„å †ï¼Œå«ä½œâ€œå¤§é¡¶å †â€</li>
<li>å¯¹äºæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å°äºç­‰äºå­æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹å€¼çš„å †ï¼Œå«ä½œâ€œå°é¡¶å †â€</li>
<li>æ ¹æ®å †çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å †æ¥è¿›è¡Œæ’åºæ“ä½œï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…¶æ¥æ±‚ç¬¬å‡ å¤§æˆ–è€…ç¬¬å‡ å°çš„å€¼</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹å›¾çš„ç†è§£ï¼Ÿç›¸å…³æ“ä½œæœ‰å“ªäº›ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹å›¾çš„ç†è§£ï¼Ÿç›¸å…³æ“ä½œæœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹å›¾çš„ç†è§£ï¼Ÿç›¸å…³æ“ä½œæœ‰å“ªäº›ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹å›¾çš„ç†è§£ï¼Ÿç›¸å…³æ“ä½œæœ‰å“ªäº›ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-5"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-5" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œå›¾æ˜¯ä¸€ç§æŠ½è±¡çš„æ•°æ®ç±»å‹ï¼Œåœ¨å›¾ä¸­çš„æ•°æ®å…ƒç´ é€šå¸¸ç§°ä¸ºç»“ç‚¹ï¼Œ<code>V</code>æ˜¯æ‰€æœ‰é¡¶ç‚¹çš„é›†åˆï¼Œ<code>E</code>æ˜¯æ‰€æœ‰è¾¹çš„é›†åˆ</p>
<p>å¦‚æœä¸¤ä¸ªé¡¶ç‚¹<code>v</code>,<code> w</code>ï¼Œåªèƒ½ç”±<code>v</code>å‘<code>w</code>ï¼Œè€Œä¸èƒ½ç”±<code>w</code>å‘<code>v</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æŠŠè¿™ç§æƒ…å†µå«åšä¸€ä¸ªä» <code>v</code> åˆ° <code>w</code> çš„æœ‰å‘è¾¹ã€‚<code>v </code>ä¹Ÿè¢«ç§°åšåˆå§‹ç‚¹ï¼Œ<code>w</code>ä¹Ÿè¢«ç§°ä¸ºç»ˆç‚¹ã€‚è¿™ç§å›¾å°±è¢«ç§°åšæœ‰å‘å›¾</p>
<p>å¦‚æœ<code>v</code>å’Œ<code>w</code>æ˜¯æ²¡æœ‰é¡ºåºçš„ï¼Œä»<code>v</code>åˆ°è¾¾<code>w</code>å’Œä»<code>w</code>åˆ°è¾¾<code>v</code>æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œè¿™ç§å›¾å°±è¢«ç§°ä¸ºæ— å‘å›¾</p>
<p>å›¾çš„ç»“æ„æ¯”è¾ƒå¤æ‚ï¼Œä»»æ„ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´éƒ½å¯èƒ½å­˜åœ¨è”ç³»ï¼Œå› æ­¤æ— æ³•ä»¥æ•°æ®å…ƒç´ åœ¨å­˜å‚¨åŒºä¸­çš„ç‰©ç†ä½ç½®æ¥è¡¨ç¤ºå…ƒç´ ä¹‹é—´çš„å…³ç³»</p>
<p>å¸¸è§è¡¨è¾¾å›¾çš„æ–¹å¼æœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>é‚»æ¥çŸ©é˜µ</li>
<li>é‚»æ¥è¡¨</li>
</ul>
<h5 id="é‚»æ¥çŸ©é˜µ"><a href="#é‚»æ¥çŸ©é˜µ" class="headerlink" title="é‚»æ¥çŸ©é˜µ"></a>é‚»æ¥çŸ©é˜µ</h5><p>é€šè¿‡ä½¿ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„<code>G[N][N]</code>è¿›è¡Œè¡¨ç¤º<code>N</code>ä¸ªç‚¹åˆ°<code>N-1</code>ç¼–å·ï¼Œé€šè¿‡é‚»æ¥çŸ©é˜µå¯ä»¥ç«‹åˆ»çœ‹å‡ºä¸¤é¡¶ç‚¹ä¹‹é—´æ˜¯å¦å­˜åœ¨ä¸€æ¡è¾¹ï¼Œåªéœ€è¦æ£€æŸ¥é‚»æ¥çŸ©é˜µè¡Œ<code>i</code>å’Œåˆ—<code>j</code>æ˜¯å¦æ˜¯éé›¶å€¼ï¼Œå¯¹äºæ— å‘å›¾ï¼Œé‚»æ¥çŸ©é˜µæ˜¯å¯¹ç§°çš„</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f38383164343330302d323035392d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<h5 id="é‚»æ¥è¡¨"><a href="#é‚»æ¥è¡¨" class="headerlink" title="é‚»æ¥è¡¨"></a>é‚»æ¥è¡¨</h5><p>å­˜å‚¨æ–¹å¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f39343966656464302d323035392d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>åœ¨<code>javascript</code>ä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>Object</code>è¿›è¡Œè¡¨ç¤ºï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const graph = &#123;
  A: [2, 3, 5],
  B: [2],
  C: [0, 1, 3],
  D: [0, 2],
  E: [6],
  F: [0, 6],
  G: [4, 5]
&#125;
</code></pre>
<p>å›¾çš„æ•°æ®ç»“æ„è¿˜å¯èƒ½åŒ…å«å’Œæ¯æ¡è¾¹ç›¸å…³è”çš„æ•°å€¼ï¼ˆedge valueï¼‰ï¼Œä¾‹å¦‚ä¸€ä¸ªæ ‡å·æˆ–ä¸€ä¸ªæ•°å€¼ï¼ˆå³æƒé‡ï¼Œweightï¼›è¡¨ç¤ºèŠ±è´¹ã€å®¹é‡ã€é•¿åº¦ç­‰ï¼‰</p>
<h4 id="äºŒã€æ“ä½œ-4"><a href="#äºŒã€æ“ä½œ-4" class="headerlink" title="äºŒã€æ“ä½œ"></a>äºŒã€æ“ä½œ</h4><p>å…³äºçš„å›¾çš„æ“ä½œå¸¸è§çš„æœ‰ï¼š</p>
<ul>
<li>æ·±åº¦ä¼˜å…ˆéå†</li>
<li>å¹¿åº¦ä¼˜å…ˆéå†</li>
</ul>
<p>é¦–å…ˆæ„å»ºä¸€ä¸ªå›¾çš„é‚»æ¥çŸ©é˜µè¡¨ç¤ºï¼Œå¦‚ä¸‹é¢çš„å›¾ï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f61313331313739302d323035392d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>ç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const graph = &#123;
  0: [1, 4],
  1: [2, 4],
  2: [2, 3],
  3: [],
  4: [3],
&#125;
</code></pre>
<h5 id="æ·±åº¦ä¼˜å…ˆéå†"><a href="#æ·±åº¦ä¼˜å…ˆéå†" class="headerlink" title="æ·±åº¦ä¼˜å…ˆéå†"></a>æ·±åº¦ä¼˜å…ˆéå†</h5><p>ä¹Ÿå°±æ˜¯å°½å¯èƒ½çš„å¾€æ·±å¤„çš„æœç´¢å›¾çš„åˆ†æ”¯</p>
<p>å®ç°æ€è·¯æ˜¯ï¼Œé¦–å…ˆåº”è¯¥ç¡®å®šä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œç„¶åå¯¹æ ¹èŠ‚ç‚¹çš„æ²¡è®¿é—®è¿‡çš„ç›¸é‚»èŠ‚ç‚¹è¿›è¡Œæ·±åº¦ä¼˜å…ˆéå†</p>
<p>ç¡®å®šä»¥ 0 ä¸ºæ ¹èŠ‚ç‚¹ï¼Œç„¶åè¿›è¡Œæ·±åº¦éå†ï¼Œç„¶åéå†1ï¼Œæ¥ç€éå† 2ï¼Œç„¶å3ï¼Œæ­¤æ—¶å®Œæˆä¸€æ¡åˆ†æ”¯<code>0 - 1- 2- 3</code>çš„éå†ï¼Œæ¢ä¸€æ¡åˆ†æ”¯ï¼Œä¹Ÿå°±æ˜¯4ï¼Œ4åé¢å› ä¸º3å·²ç»éå†è¿‡äº†ï¼Œæ‰€ä»¥å°±ä¸è®¿é—®äº†</p>
<p>ç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const visited = new Set()
const dfs = (n) =&gt; &#123;
  console.log(n)
  visited.add(n) // è®¿é—®è¿‡æ·»åŠ è®°å½•
  graph[n].forEach(c =&gt; &#123;
    if(!visited.has(c))&#123; // åˆ¤æ–­æ˜¯å¦è®¿é—®å‘¢è¿‡
      dfs(c)
    &#125;
  &#125;)
&#125;
</code></pre>
<h5 id="å¹¿åº¦ä¼˜å…ˆéå†"><a href="#å¹¿åº¦ä¼˜å…ˆéå†" class="headerlink" title="å¹¿åº¦ä¼˜å…ˆéå†"></a>å¹¿åº¦ä¼˜å…ˆéå†</h5><p>å…ˆè®¿é—®ç¦»æ ¹èŠ‚ç‚¹æœ€è¿‘çš„èŠ‚ç‚¹ï¼Œç„¶åè¿›è¡Œå…¥é˜Ÿæ“ä½œï¼Œè§£å†³æ€è·¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ–°å»ºä¸€ä¸ªé˜Ÿåˆ—ï¼ŒæŠŠæ ¹èŠ‚ç‚¹å…¥é˜Ÿ</li>
<li>æŠŠé˜Ÿå¤´å‡ºé˜Ÿå¹¶è®¿é—®</li>
<li>æŠŠé˜Ÿå¤´çš„æ²¡è®¿é—®è¿‡çš„ç›¸é‚»èŠ‚ç‚¹å…¥é˜Ÿ</li>
<li>é‡å¤äºŒã€ä¸‰æ­¥éª¤ï¼ŒçŸ¥é“é˜Ÿåˆ—ä¸ºç©º</li>
</ul>
<p>ç”¨ä»£ç æ ‡è¯†åˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const visited = new Set()
const dfs = (n) =&gt; &#123;
  visited.add(n)
  const q = [n]
  while(q.length)&#123;
    const n = q.shift()
    console.log(n)
    graph[n].forEach(c =&gt; &#123;
      if(!visited.has(c))&#123;
        q.push(c)  
        visited.add(c)
      &#125;
    &#125;)
  &#125;
&#125;
</code></pre>
<h4 id="ä¸‰ã€æ€»ç»“-2"><a href="#ä¸‰ã€æ€»ç»“-2" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h4><p>é€šè¿‡ä¸Šé¢çš„åˆæ­¥äº†è§£ï¼Œå¯ä»¥çœ‹åˆ°å›¾å°±æ˜¯ç”±é¡¶ç‚¹çš„æœ‰ç©·éç©ºé›†åˆå’Œé¡¶ç‚¹ä¹‹é—´çš„è¾¹ç»„æˆçš„é›†åˆï¼Œåˆ†æˆäº†æ— å‘å›¾ä¸æœ‰å‘å›¾</p>
<p>å›¾çš„è¡¨è¾¾å½¢å¼å¯ä»¥åˆ†æˆé‚»æ¥çŸ©é˜µå’Œé‚»æ¥è¡¨ä¸¤ç§å½¢å¼ï¼Œåœ¨<code>javascript</code>ä¸­ï¼Œåˆ™å¯ä»¥é€šè¿‡äºŒç»´æ•°ç»„å’Œå¯¹è±¡çš„å½¢å¼è¿›è¡Œè¡¨è¾¾</p>
<p>å›¾å®é™…æ˜¯å¾ˆå¤æ‚çš„ï¼Œåç»­è¿˜å¯ä»¥å»¶ä¼¸å‡ºæ— å‘å›¾å’Œå¸¦æƒå›¾ï¼Œå¯¹åº”å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f62306438383230302d323035392d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¸¸è§çš„æ’åºç®—æ³•æœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¸¸è§çš„æ’åºç®—æ³•æœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¸¸è§çš„æ’åºç®—æ³•æœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¸¸è§çš„æ’åºç®—æ³•æœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-6"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-6" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>æ’åºæ˜¯ç¨‹åºå¼€å‘ä¸­éå¸¸å¸¸è§çš„æ“ä½œï¼Œå¯¹ä¸€ç»„ä»»æ„çš„æ•°æ®å…ƒç´ ç»è¿‡æ’åºæ“ä½œåï¼Œå°±å¯ä»¥æŠŠä»–ä»¬å˜æˆä¸€ç»„ä¸€å®šè§„åˆ™æ’åºçš„æœ‰åºåºåˆ—</p>
<p>æ’åºç®—æ³•å±äºç®—æ³•ä¸­çš„ä¸€ç§ï¼Œè€Œä¸”æ˜¯è¦†ç›–èŒƒå›´æå°çš„ä¸€ç§ï¼Œå½»åº•æŒæ¡æ’åºç®—æ³•å¯¹ç¨‹åºå¼€å‘æ˜¯æœ‰å¾ˆå¤§çš„å¸®åŠ©çš„</p>
<p>å¯¹ä¸æ’åºç®—æ³•çš„å¥½åè¡¡é‡ï¼Œä¸»è¦æ˜¯ä»æ—¶é—´å¤æ‚åº¦ã€ç©ºé—´å¤æ‚åº¦ã€ç¨³å®šæ€§</p>
<p>æ—¶é—´å¤æ‚åº¦ã€ç©ºé—´å¤æ‚åº¦å‰é¢å·²ç»è®²è¿‡ï¼Œè¿™é‡Œä¸»è¦çœ‹çœ‹ç¨³å®šæ€§çš„å®šä¹‰</p>
<p>ç¨³å®šæ€§æŒ‡çš„æ˜¯å‡å®šåœ¨å¾…æ’åºçš„è®°å½•åºåˆ—ä¸­ï¼Œå­˜åœ¨å¤šä¸ªå…·æœ‰ç›¸åŒçš„å…³é”®å­—çš„è®°å½•ï¼Œè‹¥ç»è¿‡æ’åºï¼Œè¿™äº›è®°å½•çš„ç›¸å¯¹æ¬¡åºä¿æŒä¸å˜</p>
<p>å³åœ¨åŸåºåˆ—ä¸­ï¼Œr[i] &#x3D; r[j]ï¼Œä¸” r[i] åœ¨ r[j] ä¹‹å‰ï¼Œè€Œåœ¨æ’åºåçš„åºåˆ—ä¸­ï¼Œr[i] ä»åœ¨ r[j] ä¹‹å‰ï¼Œåˆ™ç§°è¿™ç§æ’åºç®—æ³•æ˜¯ç¨³å®šçš„ï¼›å¦åˆ™ç§°ä¸ºä¸ç¨³å®šçš„</p>
<h4 id="äºŒã€æœ‰å“ªäº›-1"><a href="#äºŒã€æœ‰å“ªäº›-1" class="headerlink" title="äºŒã€æœ‰å“ªäº›"></a>äºŒã€æœ‰å“ªäº›</h4><p>å¸¸è§çš„ç®—æ³•æ’åºç®—æ³•æœ‰ï¼š</p>
<ul>
<li>å†’æ³¡æ’åº</li>
<li>é€‰æ‹©æ’åº</li>
<li>æ’å…¥æ’åº</li>
<li>å½’å¹¶æ’åº</li>
<li>å¿«é€Ÿæ’åº</li>
</ul>
<h5 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h5><p>ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ã€‚å®ƒé‡å¤åœ°èµ°è®¿è¿‡è¦æ’åºçš„æ•°åˆ—ï¼Œä¸€æ¬¡æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœä»–ä»¬çš„é¡ºåºé”™è¯¯å°±æŠŠä»–ä»¬äº¤æ¢è¿‡æ¥</p>
<p>æ€è·¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢å®ƒä»¬ä¸¤ä¸ª</li>
<li>å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ï¼Œè¿™æ ·åœ¨æœ€åçš„å…ƒç´ åº”è¯¥ä¼šæ˜¯æœ€å¤§çš„æ•°</li>
<li>é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ï¼Œé™¤äº†æœ€åä¸€ä¸ª</li>
<li>é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°æ²¡æœ‰ä»»ä½•ä¸€å †æ•°å­—éœ€è¦æ¯”è¾ƒ</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f706963342e7a68696d672e636f6d2f76322d33336139343763373161643632623235346361623632653533363464323831335f622e77656270.gif"></p>
<h5 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h5><p>é€‰æ‹©æ’åºæ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ç§äº¤æ¢æ’åºç®—æ³•</p>
<p>æ— è®ºä»€ä¹ˆæ•°æ®è¿›å»éƒ½æ˜¯ <code>O(nÂ²) </code>çš„æ—¶é—´å¤æ‚åº¦ã€‚æ‰€ä»¥ç”¨åˆ°å®ƒçš„æ—¶å€™ï¼Œæ•°æ®è§„æ¨¡è¶Šå°è¶Šå¥½</p>
<p>å”¯ä¸€çš„å¥½å¤„æ˜¯ä¸å ç”¨é¢å¤–çš„å†…å­˜å­˜å‚¨ç©ºé—´</p>
<p>æ€è·¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>åœ¨æœªæ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œå­˜æ”¾åˆ°æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®</li>
<li>ä»å‰©ä½™æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶åæ”¾åˆ°å·²æ’åºåºåˆ—çš„æœ«å°¾ã€‚</li>
<li>é‡å¤ç¬¬äºŒæ­¥ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æ’åºå®Œæ¯•</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f706963312e7a68696d672e636f6d2f76322d31633765323066333036646463303265623465336135306661373831376666345f622e77656270.gif"></p>
<h5 id="æ’å…¥æ’åº"><a href="#æ’å…¥æ’åº" class="headerlink" title="æ’å…¥æ’åº"></a>æ’å…¥æ’åº</h5><p>æ’å…¥æ’åºæ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•</p>
<p>å®ƒçš„å·¥ä½œåŸç†æ˜¯é€šè¿‡æ„å»ºæœ‰åºåºåˆ—ï¼Œå¯¹äºæœªæ’åºæ•°æ®ï¼Œåœ¨å·²æ’åºåºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼Œæ‰¾åˆ°ç›¸åº”ä½ç½®å¹¶æ’å…¥</p>
<p>è§£å†³æ€è·¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>æŠŠå¾…æ’åºçš„æ•°ç»„åˆ†æˆå·²æ’åºå’Œæœªæ’åºä¸¤éƒ¨åˆ†ï¼Œåˆå§‹çš„æ—¶å€™æŠŠç¬¬ä¸€ä¸ªå…ƒç´ è®¤ä¸ºæ˜¯å·²æ’å¥½åºçš„</li>
<li>ä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ï¼Œåœ¨å·²æ’å¥½åºçš„å­æ•°ç»„ä¸­å¯»æ‰¾åˆ°è¯¥å…ƒç´ åˆé€‚çš„ä½ç½®å¹¶æ’å…¥è¯¥ä½ç½®ï¼ˆå¦‚æœå¾…æ’å…¥çš„å…ƒç´ ä¸æœ‰åºåºåˆ—ä¸­çš„æŸä¸ªå…ƒç´ ç›¸ç­‰ï¼Œåˆ™å°†å¾…æ’å…¥å…ƒç´ æ’å…¥åˆ°ç›¸ç­‰å…ƒç´ çš„åé¢ã€‚ï¼‰</li>
<li>é‡å¤ä¸Šè¿°è¿‡ç¨‹ç›´åˆ°æœ€åä¸€ä¸ªå…ƒç´ è¢«æ’å…¥æœ‰åºå­æ•°ç»„ä¸­</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f706963332e7a68696d672e636f6d2f76322d39316237366538653464616239623063616439613031376437646434333165325f622e77656270.gif"></p>
<h5 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h5><p>å½’å¹¶æ’åºæ˜¯å»ºç«‹åœ¨å½’å¹¶æ“ä½œä¸Šçš„ä¸€ç§æœ‰æ•ˆçš„æ’åºç®—æ³•</p>
<p>è¯¥ç®—æ³•æ˜¯é‡‡ç”¨åˆ†æ²»æ³•çš„ä¸€ä¸ªéå¸¸å…¸å‹çš„åº”ç”¨</p>
<p>å°†å·²æœ‰åºçš„å­åºåˆ—åˆå¹¶ï¼Œå¾—åˆ°å®Œå…¨æœ‰åºçš„åºåˆ—ï¼Œå³å…ˆä½¿æ¯ä¸ªå­åºåˆ—æœ‰åºï¼Œå†ä½¿å­åºåˆ—æ®µé—´æœ‰åº</p>
<p>è§£å†³æ€è·¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>ç”³è¯·ç©ºé—´ï¼Œä½¿å…¶å¤§å°ä¸ºä¸¤ä¸ªå·²ç»æ’åºåºåˆ—ä¹‹å’Œï¼Œè¯¥ç©ºé—´ç”¨æ¥å­˜æ”¾åˆå¹¶åçš„åºåˆ—</li>
<li>è®¾å®šä¸¤ä¸ªæŒ‡é’ˆï¼Œæœ€åˆä½ç½®åˆ†åˆ«ä¸ºä¸¤ä¸ªå·²ç»æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®</li>
<li>æ¯”è¾ƒä¸¤ä¸ªæŒ‡é’ˆæ‰€æŒ‡å‘çš„å…ƒç´ ï¼Œé€‰æ‹©ç›¸å¯¹å°çš„å…ƒç´ æ”¾å…¥åˆ°åˆå¹¶ç©ºé—´ï¼Œå¹¶ç§»åŠ¨æŒ‡é’ˆåˆ°ä¸‹ä¸€ä½ç½®</li>
<li>é‡å¤æ­¥éª¤3ç›´åˆ°æŸä¸€æŒ‡é’ˆåˆ°è¾¾åºåˆ—å°¾</li>
<li>å°†å¦ä¸€åºåˆ—å‰©ä¸‹çš„æ‰€æœ‰å…ƒç´ ç›´æ¥å¤åˆ¶åˆ°åˆå¹¶åºåˆ—å°¾</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f706963332e7a68696d672e636f6d2f76322d63646461336631316336656662633031353737663563323961393036363737325f622e6a7067.jpeg"></p>
<h5 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h5><p>å¿«é€Ÿæ’åºæ˜¯å¯¹å†’æ³¡æ’åºç®—æ³•çš„ä¸€ç§æ”¹è¿›ï¼ŒåŸºæœ¬æ€æƒ³æ˜¯é€šè¿‡ä¸€è¶Ÿæ’åºå°†è¦æ’åºçš„æ•°æ®åˆ†å‰²æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®æ¯”å¦ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®è¦å°</p>
<p>å†æŒ‰è¿™ç§æ–¹æ³•å¯¹è¿™ä¸¤éƒ¨åˆ†æ•°æ®åˆ†åˆ«è¿›è¡Œå¿«é€Ÿæ’åºï¼Œæ•´ä¸ªæ’åºè¿‡ç¨‹å¯ä»¥é€’å½’è¿›è¡Œï¼Œä½¿æ•´ä¸ªæ•°æ®å˜æˆæœ‰åºåºåˆ—</p>
<p>è§£å†³æ€è·¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä»æ•°åˆ—ä¸­æŒ‘å‡ºä¸€ä¸ªå…ƒç´ ï¼Œç§°ä¸ºâ€åŸºå‡†â€ï¼ˆpivotï¼‰</li>
<li>é‡æ–°æ’åºæ•°åˆ—ï¼Œæ‰€æœ‰æ¯”åŸºå‡†å€¼å°çš„å…ƒç´ æ‘†æ”¾åœ¨åŸºå‡†å‰é¢ï¼Œæ‰€æœ‰æ¯”åŸºå‡†å€¼å¤§çš„å…ƒç´ æ‘†åœ¨åŸºå‡†åé¢ï¼ˆç›¸åŒçš„æ•°å¯ä»¥åˆ°ä»»ä½•ä¸€è¾¹ï¼‰ã€‚åœ¨è¿™ä¸ªåˆ†åŒºç»“æŸä¹‹åï¼Œè¯¥åŸºå‡†å°±å¤„äºæ•°åˆ—çš„ä¸­é—´ä½ç½®ã€‚è¿™ä¸ªç§°ä¸ºåˆ†åŒºï¼ˆpartitionï¼‰æ“ä½œ</li>
<li>é€’å½’åœ°ï¼ˆrecursivelyï¼‰æŠŠå°äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—å’Œå¤§äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—æ’åº</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f706963312e7a68696d672e636f6d2f76322d63343131333339623739663932343939646362376235663330346338323666345f622e6a7067.jpeg"></p>
<h2 id="ä¸‰ã€åŒºåˆ«-1"><a href="#ä¸‰ã€åŒºåˆ«-1" class="headerlink" title="ä¸‰ã€åŒºåˆ«"></a>ä¸‰ã€åŒºåˆ«</h2><p>é™¤äº†ä¸Šè¿°çš„æ’åºç®—æ³•ä¹‹å¤–ï¼Œè¿˜å­˜åœ¨å…¶ä»–çš„æ’åºç®—æ³•ï¼Œä¾‹å¦‚å¸Œå°”æ’åºã€å †æ’åºç­‰ç­‰â€¦â€¦</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹å†’æ³¡æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹å†’æ³¡æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹å†’æ³¡æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹å†’æ³¡æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-7"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-7" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰ï¼Œæ˜¯ä¸€ç§è®¡ç®—æœºç§‘å­¦é¢†åŸŸçš„è¾ƒç®€å•çš„æ’åºç®—æ³•</p>
<p>å†’æ³¡æ’åºçš„æ€æƒ³å°±æ˜¯åœ¨æ¯æ¬¡éå†ä¸€éæœªæ’åºçš„æ•°åˆ—ä¹‹åï¼Œå°†ä¸€ä¸ªæ•°æ®å…ƒç´ æµ®ä¸Šå»ï¼ˆä¹Ÿå°±æ˜¯æ’å¥½äº†ä¸€ä¸ªæ•°æ®ï¼‰</p>
<p>å¦‚åŒç¢³é…¸é¥®æ–™ä¸­äºŒæ°§åŒ–ç¢³çš„æ°”æ³¡æœ€ç»ˆä¼šä¸Šæµ®åˆ°é¡¶ç«¯ä¸€æ ·ï¼Œæ•…åâ€œå†’æ³¡æ’åºâ€</p>
<p>å‡å¦‚æˆ‘ä»¬è¦æŠŠ 12ã€35ã€99ã€18ã€76 è¿™ 5 ä¸ªæ•°ä»å¤§åˆ°å°è¿›è¡Œæ’åºï¼Œé‚£ä¹ˆæ•°è¶Šå¤§ï¼Œè¶Šéœ€è¦æŠŠå®ƒæ”¾åœ¨å‰é¢</p>
<p>æ€è·¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä»åå¼€å§‹éå†ï¼Œé¦–å…ˆæ¯”è¾ƒ 18 å’Œ 76ï¼Œå‘ç° 76 æ¯” 18 å¤§ï¼Œå°±æŠŠä¸¤ä¸ªæ•°äº¤æ¢é¡ºåºï¼Œå¾—åˆ° 12ã€35ã€99ã€76ã€18</li>
<li>æ¥ç€æ¯”è¾ƒ 76 å’Œ 99ï¼Œå‘ç° 76 æ¯” 99 å°ï¼Œæ‰€ä»¥ä¸ç”¨äº¤æ¢é¡ºåº</li>
<li>æ¥ç€æ¯”è¾ƒ 99 å’Œ 35ï¼Œå‘ç° 99 æ¯” 35 å¤§ï¼Œäº¤æ¢é¡ºåº</li>
<li>æ¥ç€æ¯”è¾ƒ 99 å’Œ 12ï¼Œå‘ç° 99 æ¯” 12 å¤§ï¼Œäº¤æ¢é¡ºåº</li>
</ul>
<p>æœ€ç»ˆç¬¬ 1 è¶Ÿæ’åºçš„ç»“æœå˜æˆäº† 99ã€12ã€35ã€76ã€18ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f37613336333737302d323635322d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>ä¸Šè¿°å¯ä»¥çœ‹åˆ°ï¼Œç»è¿‡ç¬¬ä¸€è¶Ÿçš„æ’åºï¼Œå¯ä»¥å¾—åˆ°æœ€å¤§çš„å…ƒç´ ï¼Œæ¥ä¸‹æ¥ç¬¬äºŒè¶Ÿæ’åºåˆ™å¯¹å‰©ä¸‹çš„çš„4ä¸ªå…ƒç´ è¿›è¡Œæ’åºï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f38346239646466302d323635322d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>ç»è¿‡ç¬¬ 2 è¶Ÿæ’åºï¼Œç»“æœä¸º 99ã€76ã€12ã€35ã€18</p>
<p>ç„¶åå¼€å§‹ç¬¬3è¶Ÿçš„æ’åºï¼Œç»“æœä¸º99ã€76ã€35ã€12ã€18</p>
<p>ç„¶åç¬¬å››è¶Ÿæ’åºç»“æœä¸º99ã€76ã€35ã€18ã€12</p>
<p>ç»è¿‡ 4 è¶Ÿæ’åºä¹‹åï¼Œåªå‰©ä¸€ä¸ª 12 éœ€è¦æ’åºäº†ï¼Œè¿™æ—¶å·²ç»æ²¡æœ‰å¯æ¯”è¾ƒçš„å…ƒç´ äº†ï¼Œè¿™æ—¶æ’åºå®Œæˆ</p>
<h4 id="äºŒã€å¦‚ä½•å®ç°"><a href="#äºŒã€å¦‚ä½•å®ç°" class="headerlink" title="äºŒã€å¦‚ä½•å®ç°"></a>äºŒã€å¦‚ä½•å®ç°</h4><p>å¦‚æœè¦å®ç°ä¸€ä¸ªä»å°åˆ°å¤§çš„æ’åºï¼Œç®—æ³•åŸç†å¦‚ä¸‹ï¼š</p>
<ul>
<li>é¦–å…ˆæ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ æ¯”ç¬¬äºŒä¸ªå…ƒç´ å¤§ï¼Œåˆ™äº¤æ¢å®ƒä»¬</li>
<li>é’ˆå¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ åšåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ï¼Œè¿™æ ·ï¼Œæœ€åçš„å…ƒç´ å›äº‹æœ€å¤§çš„æ•°</li>
<li>é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ï¼Œé™¤äº†æœ€åä¸€ä¸ª</li>
<li>æŒç»­æ¯æ¬¡å¯¹è¶Šæ¥è¶Šå°‘çš„å…ƒç´ é‡å¤ä¸Šé¢çš„æ­¥éª¤ï¼Œç›´åˆ°æ²¡æœ‰ä»»ä½•ä¸€å¯¹æ•°å­—éœ€è¦æ¯”è¾ƒ</li>
</ul>
<p>ç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">function bubbleSort(arr) &#123;
    const len = arr.length;
    for (let i = 0; i &lt; len - 1; i++) &#123;
        for (let j = 0; j &lt; len - 1 - i; j++) &#123;
            if (arr[j] &gt; arr[j+1]) &#123;        // ç›¸é‚»å…ƒç´ ä¸¤ä¸¤å¯¹æ¯”
                var temp = arr[j+1];        // å…ƒç´ äº¤æ¢
                arr[j+1] = arr[j];
                arr[j] = temp;
            &#125;
        &#125;
    &#125;
    return arr;
&#125;
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼šå†’æ³¡æ’åºåœ¨æ¯ä¸€è½®æ’åºä¸­éƒ½ä¼šä½¿ä¸€ä¸ªå…ƒç´ æ’åˆ°ä¸€è¶Ÿï¼Œ ä¹Ÿå°±æ˜¯æœ€ç»ˆéœ€è¦ n-1 è½®è¿™æ ·çš„æ’åº</p>
<p>è€Œåœ¨æ¯è½®æ’åºä¸­éƒ½éœ€è¦å¯¹ç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œåœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œæ¯æ¬¡æ¯”è¾ƒä¹‹åéƒ½éœ€è¦äº¤æ¢ä½ç½®ï¼Œæ­¤æ—¶æ—¶é—´å¤æ‚åº¦ä¸º<code>O(n^2)</code></p>
<h5 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h5><p>å¯¹å†’æ³¡æ’åºå¸¸è§çš„æ”¹è¿›æ–¹æ³•æ˜¯åŠ å…¥ä¸€æ ‡å¿—æ€§å˜é‡<code>exchange</code>ï¼Œç”¨äºæ ‡å¿—æŸä¸€è¶Ÿæ’åºè¿‡ç¨‹ä¸­æ˜¯å¦æœ‰æ•°æ®äº¤æ¢</p>
<p>å¦‚æœè¿›è¡ŒæŸä¸€è¶Ÿæ’åºæ—¶å¹¶æ²¡æœ‰è¿›è¡Œæ•°æ®äº¤æ¢ï¼Œåˆ™è¯´æ˜æ•°æ®å·²ç»æŒ‰è¦æ±‚æ’åˆ—å¥½ï¼Œå¯ç«‹å³ç»“æŸæ’åºï¼Œé¿å…ä¸å¿…è¦çš„æ¯”è¾ƒè¿‡ç¨‹</p>
<p>å¯ä»¥è®¾ç½®ä¸€æ ‡å¿—æ€§å˜é‡<code>pos</code>ï¼Œç”¨äºè®°å½•æ¯è¶Ÿæ’åºä¸­æœ€åä¸€æ¬¡è¿›è¡Œäº¤æ¢çš„ä½ç½®ï¼Œç”±äº<code>pos</code>ä½ç½®ä¹‹åçš„è®°å½•å‡å·²äº¤æ¢åˆ°ä½ï¼Œæ•…åœ¨è¿›è¡Œä¸‹ä¸€è¶Ÿæ’åºæ—¶åªè¦æ‰«æåˆ°<code>pos</code>ä½ç½®å³å¯ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">function bubbleSort1(arr)&#123;
 const i=arr.length-1;//åˆå§‹æ—¶,æœ€åä½ç½®ä¿æŒä¸å˜  
 while(i&gt;0)&#123;
  let pos = 0;//æ¯è¶Ÿå¼€å§‹æ—¶,æ— è®°å½•äº¤æ¢
  for(let j = 0; j &lt; i; j++)&#123;
   if(arr[j] &gt; arr[j+1])&#123;
        let tmp = arr[j];
        arr[j] = arr[j+1];
        arr[j+1] = tmp;
    pos = j;//è®°å½•æœ€åäº¤æ¢çš„ä½ç½®  
   &#125;   
  &#125;
  i = pos;//ä¸ºä¸‹ä¸€è¶Ÿæ’åºä½œå‡†å¤‡
 &#125;
 return arr;
&#125;
</code></pre>
<p>åœ¨å¾…æ’åºçš„æ•°åˆ—æœ‰åºçš„æƒ…å†µä¸‹ï¼Œåªéœ€è¦ä¸€è½®æ’åºå¹¶ä¸”ä¸ç”¨äº¤æ¢ï¼Œæ­¤æ—¶æƒ…å†µæœ€å¥½ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º<code>O(n)</code></p>
<p>å¹¶ä¸”ä»ä¸Šè¿°æ¯”è¾ƒä¸­çœ‹åˆ°ï¼Œåªæœ‰åä¸€ä¸ªå…ƒç´ æ¯”å‰é¢çš„å…ƒç´ å¤§ï¼ˆå°ï¼‰æ—¶æ‰ä¼šå¯¹å®ƒä»¬äº¤æ¢ä½ç½®å¹¶å‘ä¸Šå†’å‡ºï¼Œå¯¹äºåŒæ ·å¤§å°çš„å…ƒç´ ï¼Œæ˜¯ä¸éœ€è¦äº¤æ¢ä½ç½®çš„ï¼Œæ‰€ä»¥å¯¹äºåŒæ ·å¤§å°çš„å…ƒç´ æ¥è¯´ï¼Œç›¸å¯¹ä½ç½®æ˜¯ä¸ä¼šæ”¹å˜çš„ï¼Œå› æ­¤ï¼Œ å†’æ³¡æ’åºæ˜¯ç¨³å®šçš„</p>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯-3"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-3" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>å†’æ³¡æ’çš„æ ¸å¿ƒéƒ¨åˆ†æ˜¯åŒé‡åµŒå¥—å¾ªç¯ï¼Œ<br>æ—¶é—´å¤æ‚åº¦æ˜¯ O(N 2 )ï¼Œç›¸æ¯”å…¶å®ƒæ’åºç®—æ³•ï¼Œè¿™æ˜¯ä¸€ä¸ªç›¸å¯¹è¾ƒé«˜çš„æ—¶é—´å¤æ‚åº¦ï¼Œä¸€èˆ¬æƒ…å†µä¸æ¨èä½¿ç”¨ï¼Œç”±äºå†’æ³¡æ’åºçš„ç®€æ´æ€§ï¼Œé€šå¸¸è¢«ç”¨æ¥å¯¹äºç¨‹åºè®¾è®¡å…¥é—¨çš„å­¦ç”Ÿä»‹ç»ç®—æ³•çš„æ¦‚å¿µ</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹é€‰æ‹©æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹é€‰æ‹©æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹é€‰æ‹©æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹é€‰æ‹©æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-8"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-8" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>é€‰æ‹©æ’åºï¼ˆSelection sortï¼‰æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ï¼Œæ— è®ºä»€ä¹ˆæ•°æ®è¿›å»éƒ½æ˜¯ <code>O(nÂ²) </code>çš„æ—¶é—´å¤æ‚åº¦ï¼Œæ‰€ä»¥ç”¨åˆ°å®ƒçš„æ—¶å€™ï¼Œæ•°æ®è§„æ¨¡è¶Šå°è¶Šå¥½</p>
<p>å…¶åŸºæœ¬æ€æƒ³æ˜¯ï¼šé¦–å…ˆåœ¨æœªæ’åºçš„æ•°åˆ—ä¸­æ‰¾åˆ°æœ€å°(oræœ€å¤§)å…ƒç´ ï¼Œç„¶åå°†å…¶å­˜æ”¾åˆ°æ•°åˆ—çš„èµ·å§‹ä½ç½®</p>
<p>ç„¶åå†ä»å‰©ä½™æœªæ’åºçš„å…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°(oræœ€å¤§)å…ƒç´ ï¼Œç„¶åæ”¾åˆ°å·²æ’åºåºåˆ—çš„æœ«å°¾</p>
<p>ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æ’åºå®Œæ¯•</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œä¸€ä¸ªæ•°ç»„ä¸º 56ã€12ã€80ã€91ã€29ï¼Œå…¶æ’åºè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>ç¬¬ä¸€æ¬¡éå†æ—¶ï¼Œä»ä¸‹æ ‡ä¸º 1 çš„ä½ç½®å³ 56 å¼€å§‹ï¼Œæ‰¾å‡ºå…³é”®å­—å€¼æœ€å°çš„è®°å½• 12ï¼ŒåŒä¸‹æ ‡ä¸º 0 çš„å…³é”®å­— 56 äº¤æ¢ä½ç½®ã€‚æ­¤æ—¶æ•°ç»„ä¸º 12ã€56ã€80ã€91ã€20</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f36306264323035302d323637312d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<ul>
<li>ç¬¬äºŒæ¬¡éå†æ—¶ï¼Œä»ä¸‹æ ‡ä¸º 2 çš„ä½ç½®å³ 56 å¼€å§‹ï¼Œæ‰¾å‡ºæœ€å°å€¼ 20ï¼ŒåŒä¸‹æ ‡ä¸º 2 çš„å…³é”®å­— 56 äº’æ¢ä½ç½®ï¼Œæ­¤æ—¶æ•°ç»„ä¸º12ã€20ã€80ã€91ã€56</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f36623034636634302d323637312d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<ul>
<li>ç¬¬ä¸‰æ¬¡éå†æ—¶ï¼Œä»ä¸‹æ ‡ä¸º 3 çš„ä½ç½®å³ 80 å¼€å§‹ï¼Œæ‰¾å‡ºæœ€å°å€¼ 56ï¼ŒåŒä¸‹æ ‡ä¸º 3 çš„å…³é”®å­— 80 äº’æ¢ä½ç½®ï¼Œæ­¤æ—¶æ•°ç»„ä¸º 12ã€20ã€56ã€91ã€80</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f37353766346530302d323637312d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<ul>
<li>ç¬¬å››æ¬¡éå†æ—¶ï¼Œä»ä¸‹æ ‡ä¸º 4 çš„ä½ç½®å³ 91 å¼€å§‹ï¼Œæ‰¾å‡ºæœ€å°æ˜¯ 80ï¼ŒåŒä¸‹æ ‡ä¸º 4 çš„å…³é”®å­— 91 äº’æ¢ä½ç½®ï¼Œæ­¤æ—¶æ’åºå®Œæˆï¼Œå˜æˆæœ‰åºæ•°ç»„</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f37353766346530302d323637312d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<h4 id="äºŒã€å¦‚ä½•å®ç°-1"><a href="#äºŒã€å¦‚ä½•å®ç°-1" class="headerlink" title="äºŒã€å¦‚ä½•å®ç°"></a>äºŒã€å¦‚ä½•å®ç°</h4><p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºå…·æœ‰ <code>n</code> ä¸ªè®°å½•çš„æ— åºè¡¨éå† <code>n-1</code> æ¬¡ï¼Œç¬¬<code> i</code> æ¬¡ä»æ— åºè¡¨ä¸­ç¬¬ <code>i</code> ä¸ªè®°å½•å¼€å§‹ï¼Œæ‰¾å‡ºååºå…³é”®å­—ä¸­æœ€å°çš„è®°å½•ï¼Œç„¶åæ”¾ç½®åœ¨ç¬¬ <code>i</code> çš„ä½ç½®ä¸Š</p>
<p>ç›´è‡³åˆ°ä»ç¬¬<code>n</code>ä¸ªå’Œç¬¬<code>n-1</code>ä¸ªå…ƒç´ ä¸­é€‰å‡ºæœ€å°çš„æ”¾åœ¨ç¬¬<code>n-1</code>ä¸ªä½ç½®</p>
<p>å¦‚ä¸‹åŠ¨ç”»æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7777772e72756e6f6f622e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031392f30332f73656c656374696f6e536f72742e676966.gif"></p>
<p>ç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">function selectionSort(arr) &#123;
    var len = arr.length;
    var minIndex, temp;
    for (var i = 0; i &lt; len - 1; i++) &#123;
        minIndex = i;
        for (var j = i + 1; j &lt; len; j++) &#123;
            if (arr[j] &lt; arr[minIndex]) &#123;     // å¯»æ‰¾æœ€å°çš„æ•°
                minIndex = j;                 // å°†æœ€å°æ•°çš„ç´¢å¼•ä¿å­˜
            &#125;
        &#125;
        temp = arr[i];
        arr[i] = arr[minIndex];
        arr[minIndex] = temp;
    &#125;
    return arr;
&#125;
</code></pre>
<p>ç¬¬ä¸€æ¬¡å†…å¾ªç¯æ¯”è¾ƒ<code>N - 1</code>æ¬¡ï¼Œç„¶åæ˜¯<code>N-2</code>æ¬¡ï¼Œ<code>N-3</code>æ¬¡ï¼Œâ€¦â€¦ï¼Œæœ€åä¸€æ¬¡å†…å¾ªç¯æ¯”è¾ƒ1æ¬¡<br>å…±æ¯”è¾ƒçš„æ¬¡æ•°æ˜¯ <code>(N - 1) + (N - 2) + ... + 1</code>ï¼Œæ±‚ç­‰å·®æ•°åˆ—å’Œï¼Œå¾— <code>(N - 1 + 1)* N / 2 = N^2 / 2</code>ï¼Œèˆå»æœ€é«˜é¡¹ç³»æ•°ï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸º <code>O(N^2)</code></p>
<p>ä»ä¸Šè¿°ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼Œé€‰æ‹©æ’åºæ˜¯ä¸€ç§ç¨³å®šçš„æ’åº</p>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯-4"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-4" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>å’Œå†’æ³¡æ’åºä¸€è‡´ï¼Œç›¸æ¯”å…¶å®ƒæ’åºç®—æ³•ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªç›¸å¯¹è¾ƒé«˜çš„æ—¶é—´å¤æ‚åº¦ï¼Œä¸€èˆ¬æƒ…å†µä¸æ¨èä½¿ç”¨</p>
<p>ä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯è¦æŒæ¡å†’æ³¡æ’åºçš„æ€æƒ³åŠå®ç°ï¼Œè¿™å¯¹äºæˆ‘ä»¬çš„ç®—æ³•æ€ç»´æ˜¯æœ‰å¾ˆå¤§å¸®åŠ©çš„</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹æ’å…¥æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹æ’å…¥æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹æ’å…¥æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹æ’å…¥æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-9"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-9" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰ï¼Œä¸€èˆ¬ä¹Ÿè¢«ç§°ä¸ºç›´æ¥æ’å…¥æ’åºã€‚å¯¹äºå°‘é‡å…ƒç´ çš„æ’åºï¼Œå®ƒæ˜¯ä¸€ä¸ªæœ‰æ•ˆã€ç®€å•çš„ç®—æ³•</p>
<p>å…¶ä¸»è¦çš„å®ç°æ€æƒ³æ˜¯å°†æ•°æ®æŒ‰ç…§ä¸€å®šçš„é¡ºåºä¸€ä¸ªä¸€ä¸ªçš„æ’å…¥åˆ°æœ‰åºçš„è¡¨ä¸­ï¼Œæœ€ç»ˆå¾—åˆ°çš„åºåˆ—å°±æ˜¯å·²ç»æ’åºå¥½çš„æ•°æ®</p>
<p>æ’å…¥æ’åºçš„å·¥ä½œæ–¹å¼åƒè®¸å¤šäººæ’åºä¸€æ‰‹æ‰‘å…‹ç‰Œï¼Œå¼€å§‹æ—¶ï¼Œæˆ‘ä»¬çš„å·¦æ‰‹ä¸ºç©ºå¹¶ä¸”æ¡Œå­ä¸Šçš„ç‰Œé¢å‘ä¸‹</p>
<p>ç„¶åï¼Œæˆ‘ä»¬æ¯æ¬¡ä»æ¡Œå­ä¸Šæ‹¿èµ°ä¸€å¼ ç‰Œå¹¶å°†å®ƒæ’å…¥å·¦æ‰‹ä¸­æ­£ç¡®çš„ä½ç½®ï¼Œè¯¥æ­£ç¡®ä½ç½®éœ€è¦ä»å³åˆ°å·¦å°†å®ƒä¸å·²åœ¨æ‰‹ä¸­çš„æ¯å¼ ç‰Œè¿›è¡Œæ¯”è¾ƒ</p>
<p>ä¾‹å¦‚ä¸€ä¸ªæ— åºæ•°ç»„ 3ã€1ã€7ã€5ã€2ã€4ã€9ã€6ï¼Œå°†å…¶å‡åºçš„ç»“æœåˆ™å¦‚ä¸‹ï¼š</p>
<p>ä¸€å¼€å§‹æœ‰åºè¡¨ä¸­æ— æ•°æ®ï¼Œç›´æ¥æ’å…¥3</p>
<p>ä»ç¬¬äºŒä¸ªæ•°å¼€å§‹ï¼Œæ’å…¥ä¸€ä¸ªå…ƒç´ 1ï¼Œç„¶åå’Œæœ‰åºè¡¨ä¸­è®°å½•3æ¯”è¾ƒï¼Œ1&lt;3ï¼Œæ‰€ä»¥æ’å…¥åˆ°è®°å½• 3 çš„å·¦ä¾§</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f39643234663566302d323637662d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>å‘æœ‰åºè¡¨æ’å…¥è®°å½• 7 æ—¶ï¼ŒåŒæœ‰åºè¡¨ä¸­è®°å½• 3 è¿›è¡Œæ¯”è¾ƒï¼Œ3&lt;7ï¼Œæ‰€ä»¥æ’å…¥åˆ°è®°å½• 3 çš„å³ä¾§</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f61366139353465302d323637662d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>å‘æœ‰åºè¡¨ä¸­æ’å…¥è®°å½• 5 æ—¶ï¼ŒåŒæœ‰åºè¡¨ä¸­è®°å½• 7 è¿›è¡Œæ¯”è¾ƒï¼Œ5&lt;7ï¼ŒåŒæ—¶ 5&gt;3ï¼Œæ‰€ä»¥æ’å…¥åˆ° 3 å’Œ 7 ä¸­é—´</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f62313938313934302d323637662d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>ç…§æ­¤è§„å¾‹ï¼Œä¾æ¬¡å°†æ— åºè¡¨ä¸­çš„è®°å½• 4ï¼Œ9 å’Œ 6æ’å…¥åˆ°æœ‰åºè¡¨ä¸­</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f62633265643239302d323637662d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<h4 id="äºŒã€å¦‚ä½•å®ç°-2"><a href="#äºŒã€å¦‚ä½•å®ç°-2" class="headerlink" title="äºŒã€å¦‚ä½•å®ç°"></a>äºŒã€å¦‚ä½•å®ç°</h4><p>å°†ç¬¬ä¸€å¾…æ’åºåºåˆ—ç¬¬ä¸€ä¸ªå…ƒç´ çœ‹åšä¸€ä¸ªæœ‰åºåºåˆ—ï¼ŒæŠŠç¬¬äºŒä¸ªå…ƒç´ åˆ°æœ€åä¸€ä¸ªå…ƒç´ å½“æˆæ˜¯æœªæ’åºåºåˆ—ã€‚</p>
<p>ä»å¤´åˆ°å°¾ä¾æ¬¡æ‰«ææœªæ’åºåºåˆ—ï¼Œå°†æ‰«æåˆ°çš„æ¯ä¸ªå…ƒç´ æ’å…¥æœ‰åºåºåˆ—çš„é€‚å½“ä½ç½®</p>
<p>å¦‚æœå¾…æ’å…¥çš„å…ƒç´ ä¸æœ‰åºåºåˆ—ä¸­çš„æŸä¸ªå…ƒç´ ç›¸ç­‰ï¼Œåˆ™å°†å¾…æ’å…¥å…ƒç´ æ’å…¥åˆ°ç›¸ç­‰å…ƒç´ çš„åé¢</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7777772e72756e6f6f622e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031392f30332f696e73657274696f6e536f72742e676966.gif"></p>
<p>ç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">function insertionSort(arr) &#123;
    const len = arr.length;
    let preIndex, current;
    for (let i = 1; i &lt; len; i++) &#123;
        preIndex = i - 1;
        current = arr[i];
        while(preIndex &gt;= 0 &amp;&amp; arr[preIndex] &gt; current) &#123;
            arr[preIndex+1] = arr[preIndex];
            preIndex--;
        &#125;
        arr[preIndex+1] = current;
    &#125;
    return arr;
&#125;
</code></pre>
<p>åœ¨æ’å…¥æ’åºä¸­ï¼Œå½“å¾…æ’åºæ•°ç»„æ˜¯æœ‰åºæ—¶ï¼Œæ˜¯æœ€ä¼˜çš„æƒ…å†µï¼Œåªéœ€å½“å‰æ•°è·Ÿå‰ä¸€ä¸ªæ•°æ¯”è¾ƒä¸€ä¸‹å°±å¯ä»¥äº†ï¼Œè¿™æ—¶ä¸€å…±éœ€è¦æ¯”è¾ƒ<code>N- 1</code>æ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º<code>O(n)</code></p>
<p>æœ€åçš„æƒ…å†µæ˜¯å¾…æ’åºæ•°ç»„æ˜¯é€†åºçš„ï¼Œæ­¤æ—¶éœ€è¦æ¯”è¾ƒæ¬¡æ•°æœ€å¤šï¼Œæ€»æ¬¡æ•°è®°ä¸ºï¼š1+2+3+â€¦+N-1ï¼Œæ‰€ä»¥ï¼Œæ’å…¥æ’åºæœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ä¸º<code>O(n^2)</code></p>
<p>é€šè¿‡ä¸Šé¢äº†è§£ï¼Œå¯ä»¥çœ‹åˆ°æ’å…¥æ’åºæ˜¯ä¸€ç§ç¨³å®šçš„æ’åºæ–¹å¼</p>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯-5"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-5" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>æ’å…¥æ’åºæ—¶é—´å¤æ‚åº¦æ˜¯ O(n2)ï¼Œé€‚ç”¨äºæ•°æ®é‡ä¸å¤§ï¼Œç®—æ³•ç¨³å®šæ€§è¦æ±‚é«˜ï¼Œä¸”æ•°æ®å±€éƒ¨æˆ–æ•´ä½“æœ‰åºçš„æ•°åˆ—æ’åº</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹å½’å¹¶æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹å½’å¹¶æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹å½’å¹¶æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹å½’å¹¶æ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-10"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-10" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>å½’å¹¶æ’åºï¼ˆMerge Sortï¼‰æ˜¯å»ºç«‹å½’å¹¶æ“ä½œä¸Šçš„ä¸€ç§æœ‰æ•ˆï¼Œç¨³å®šçš„æ’åºç®—æ³•ï¼Œè¯¥ç®—æ³•æ˜¯é‡‡ç”¨åˆ†æ²»æ³•çš„ä¸€ä¸ªéå¸¸å…¸å‹çš„åº”ç”¨</p>
<p>å°†å·²æœ‰åºçš„å­åºåˆ—åˆå¹¶ï¼Œå¾—åˆ°å®Œå…¨æœ‰åºçš„åºåˆ—ï¼Œå³å…ˆä½¿æ¯ä¸ªå­åºåˆ—æœ‰åºï¼Œå†ä½¿å­åºåˆ—æ®µé—´æœ‰åº</p>
<p>ä¾‹å¦‚å¯¹äºå«æœ‰ <code>n</code> ä¸ªè®°å½•çš„æ— åºè¡¨ï¼Œé¦–å…ˆé»˜è®¤è¡¨ä¸­æ¯ä¸ªè®°å½•å„ä¸ºä¸€ä¸ªæœ‰åºè¡¨ï¼ˆåªä¸è¿‡è¡¨çš„é•¿åº¦éƒ½ä¸º 1ï¼‰</p>
<p>ç„¶åè¿›è¡Œä¸¤ä¸¤åˆå¹¶ï¼Œä½¿ <code>n</code> ä¸ªæœ‰åºè¡¨å˜ä¸º<code>n/2</code> ä¸ªé•¿åº¦ä¸º 2 æˆ–è€… 1 çš„æœ‰åºè¡¨ï¼ˆä¾‹å¦‚ 4 ä¸ªå°æœ‰åºè¡¨åˆå¹¶ä¸º 2 ä¸ªå¤§çš„æœ‰åºè¡¨ï¼‰</p>
<p>é€šè¿‡ä¸æ–­åœ°è¿›è¡Œä¸¤ä¸¤åˆå¹¶ï¼Œç›´åˆ°å¾—åˆ°ä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> çš„æœ‰åºè¡¨ä¸ºæ­¢</p>
<p>ä¾‹å¦‚å¯¹æ— åºè¡¨{49ï¼Œ38ï¼Œ65ï¼Œ97ï¼Œ76ï¼Œ13ï¼Œ27}è¿›è¡Œå½’å¹¶æ’åºåˆ†æˆäº†åˆ†ã€åˆä¸¤éƒ¨åˆ†ï¼š</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f30356631346236302d323661642d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>å½’å¹¶åˆè¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡å¾—åˆ°çš„æ–°çš„å­è¡¨æœ¬èº«æœ‰åºï¼Œæ‰€ä»¥æœ€ç»ˆå¾—åˆ°æœ‰åºè¡¨</p>
<p>ä¸Šè¿°åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œåˆ™ç§°ä¸ºäºŒè·¯å½’å¹¶ï¼Œå¦‚æœåˆ†æˆä¸‰ä¸ªéƒ¨åˆ†åˆ™ç§°ä¸ºä¸‰è·¯å½’å¹¶ï¼Œä»¥æ­¤ç±»æ¨</p>
<h4 id="äºŒã€å¦‚ä½•å®ç°-3"><a href="#äºŒã€å¦‚ä½•å®ç°-3" class="headerlink" title="äºŒã€å¦‚ä½•å®ç°"></a>äºŒã€å¦‚ä½•å®ç°</h4><p>å…³äºå½’å¹¶æ’åºçš„ç®—æ³•æ€è·¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>åˆ†ï¼šæŠŠæ•°ç»„åˆ†æˆä¸¤åŠï¼Œå†é€’å½’å¯¹å­æ•°ç»„è¿›è¡Œåˆ†æ“ä½œï¼Œç›´è‡³åˆ°ä¸€ä¸ªä¸ªå•ç‹¬æ•°å­—</li>
<li>åˆï¼šæŠŠä¸¤ä¸ªæ•°åˆæˆæœ‰åºæ•°ç»„ï¼Œå†å¯¹æœ‰åºæ•°ç»„è¿›è¡Œåˆå¹¶æ“ä½œï¼Œç›´åˆ°å…¨éƒ¨å­æ•°ç»„åˆæˆä¸€ä¸ªå®Œæ•´çš„æ•°ç»„<ul>
<li>åˆå¹¶æ“ä½œå¯ä»¥æ–°å»ºä¸€ä¸ªæ•°ç»„ï¼Œç”¨äºå­˜æ”¾æ’åºåçš„æ•°ç»„</li>
<li>æ¯”è¾ƒä¸¤ä¸ªæœ‰åºæ•°ç»„çš„å¤´éƒ¨ï¼Œè¾ƒå°è€…å‡ºé˜Ÿå¹¶ä¸”æ¨å…¥åˆ°ä¸Šè¿°æ–°å»ºçš„æ•°ç»„ä¸­</li>
<li>å¦‚æœä¸¤ä¸ªæ•°ç»„è¿˜æœ‰å€¼ï¼Œåˆ™é‡å¤ä¸Šè¿°ç¬¬äºŒæ­¥</li>
<li>å¦‚æœåªæœ‰ä¸€ä¸ªæ•°ç»„æœ‰å€¼ï¼Œåˆ™å°†è¯¥æ•°ç»„çš„å€¼å‡ºé˜Ÿå¹¶æ¨å…¥åˆ°ä¸Šè¿°æ–°å»ºçš„æ•°ç»„ä¸­</li>
</ul>
</li>
</ul>
<p>ç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<pre><code class="javascript">function mergeSort(arr) &#123;  // é‡‡ç”¨è‡ªä¸Šè€Œä¸‹çš„é€’å½’æ–¹æ³•
    const len = arr.length;
    if(len &lt; 2) &#123;
        return arr;
    &#125;
    let middle = Math.floor(len / 2),
        left = arr.slice(0, middle),
        right = arr.slice(middle);
    return merge(mergeSort(left), mergeSort(right));
&#125;

function merge(left, right)
&#123;
    const result = [];

    while (left.length &amp;&amp; right.length) &#123;
        if (left[0] &lt;= right[0]) &#123;
            result.push(left.shift());
        &#125; else &#123;
            result.push(right.shift());
        &#125;
    &#125;

    while (left.length)
        result.push(left.shift());

    while (right.length)
        result.push(right.shift());

    return result;
&#125;
</code></pre>
<p>ä¸Šè¿°å½’å¹¶åˆ†æˆäº†åˆ†ã€åˆä¸¤éƒ¨åˆ†ï¼Œåœ¨å¤„ç†åˆ†è¿‡ç¨‹ä¸­é€’å½’è°ƒç”¨ä¸¤ä¸ªåˆ†çš„æ“ä½œï¼Œæ‰€èŠ±è´¹çš„æ—¶é—´ä¸º2ä¹˜<code>T(n/2)</code>ï¼Œåˆçš„æ“ä½œæ—¶é—´å¤æ‚åº¦åˆ™ä¸º<code>O(n)</code>ï¼Œå› æ­¤å¯ä»¥å¾—åˆ°ä»¥ä¸‹å…¬å¼ï¼š</p>
<p>æ€»çš„æ‰§è¡Œæ—¶é—´ &#x3D; 2 Ã— è¾“å…¥é•¿åº¦ä¸º<code>n/2</code>çš„<code>sort</code>å‡½æ•°çš„æ‰§è¡Œæ—¶é—´ + <code>merge</code>å‡½æ•°çš„æ‰§è¡Œæ—¶é—´<code>O(n)</code></p>
<p>å½“åªæœ‰ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œ<code>T(1) = O(1)</code></p>
<p>å¦‚æœå¯¹<code>T(n) = 2 * T(n/2) + O(n) </code>è¿›è¡Œå·¦å³ &#x2F; nçš„æ“ä½œï¼Œå¾—åˆ° <code>T(n) / n = (n / 2) * T(n/2) + O(1)</code></p>
<p>ç°åœ¨ä»¤ <code>S(n) = T(n)/n</code>ï¼Œåˆ™<code>S(1) = O(1)</code>ï¼Œç„¶ååˆ©ç”¨è¡¨è¾¾å¼å¸¦å…¥å¾—åˆ°<code>S(n) = S(n/2) + O(1)</code></p>
<p>æ‰€ä»¥å¯ä»¥å¾—åˆ°ï¼š<code>S(n) = S(n/2) + O(1) = S(n/4) + O(2) = S(n/8) + O(3) = S(n/2^k) + O(k) = S(1) + O(logn) = O(logn)</code></p>
<p>ç»¼ä¸Šå¯å¾—ï¼Œ<code>T(n) = n * log(n) = nlogn</code></p>
<p>å…³äºå½’å¹¶æ’åºçš„ç¨³å®šæ€§ï¼Œåœ¨è¿›è¡Œåˆå¹¶è¿‡ç¨‹ï¼Œåœ¨1ä¸ªæˆ–2ä¸ªå…ƒç´ æ—¶ï¼Œ1ä¸ªå…ƒç´ ä¸ä¼šäº¤æ¢ï¼Œ2ä¸ªå…ƒç´ å¦‚æœå¤§å°ç›¸ç­‰ä¹Ÿä¸ä¼šäº¤æ¢ï¼Œç”±æ­¤å¯è§å½’å¹¶æ’åºæ˜¯ç¨³å®šçš„æ’åºç®—æ³•</p>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯-6"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-6" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>åœ¨å¤–æ’åºä¸­é€šå¸¸ä½¿ç”¨æ’åº-å½’å¹¶çš„ç­–ç•¥ï¼Œå¤–æ’åºæ˜¯æŒ‡å¤„ç†è¶…è¿‡å†…å­˜é™åº¦çš„æ•°æ®çš„æ’åºç®—æ³•ï¼Œé€šå¸¸å°†ä¸­é—´ç»“æœæ”¾åœ¨è¯»å†™è¾ƒæ…¢çš„å¤–å­˜å‚¨å™¨ï¼Œå¦‚ä¸‹åˆ†æˆä¸¤ä¸ªé˜¶æ®µï¼š</p>
<ul>
<li>æ’åºé˜¶æ®µï¼šè¯»å…¥èƒ½å¤Ÿæ”¾è¿›å†…å­˜ä¸­çš„æ•°æ®é‡ï¼Œå°†å…¶æ’åºè¾“å‡ºåˆ°ä¸´æ—¶æ–‡ä»¶ï¼Œä¸€æ¬¡è¿›è¡Œï¼Œå°†å¸¦æ’åºæ•°æ®ç»„ç»‡ä¸ºå¤šä¸ªæœ‰åºçš„ä¸´æ—¶æ–‡ä»¶</li>
<li>å½’å¹¶é˜¶æ®µï¼šå°†è¿™äº›ä¸´æ—¶æ–‡ä»¶ç»„åˆä¸ºå¤§çš„æœ‰åºæ–‡ä»¶</li>
</ul>
<p>ä¾‹å¦‚ï¼Œä½¿ç”¨100må†…å­˜å¯¹900mçš„æ•°æ®è¿›è¡Œæ’åºï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>è¯»å…¥100mæ•°æ®å†…å­˜ï¼Œç”¨å¸¸è§„æ–¹å¼æ’åº</li>
<li>å°†æ’åºåçš„æ•°æ®å†™å…¥ç£ç›˜</li>
<li>é‡å¤å‰ä¸¤ä¸ªæ­¥éª¤ï¼Œå¾—åˆ°9ä¸ª100mçš„ä¸´æ—¶æ–‡ä»¶</li>
<li>å°†100mçš„å†…å­˜åˆ’åˆ†ä¸º10ä»½ï¼Œå°†9ä»½ä¸ºè¾“å…¥ç¼“å†²åŒºï¼Œç¬¬10ä»½ä¸ºè¾“å‡ºç¼“å†²åŒº</li>
<li>è¿›è¡Œä¹è·¯å½’å¹¶æ’åºï¼Œå°†ç»“æœè¾“å‡ºåˆ°ç¼“å†²åŒº<ul>
<li>è‹¥è¾“å‡ºç¼“å†²åŒºæ»¡ï¼Œå°†æ•°æ®å†™åˆ°ç›®æ ‡æ–‡ä»¶ï¼Œæ¸…ç©ºç¼“å†²åŒº</li>
<li>è‹¥ç¼“å†²åŒºç©ºï¼Œè¯»å…¥ç›¸åº”æ–‡ä»¶çš„ä¸‹ä¸€ä»½æ•°æ®</li>
</ul>
</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹å¿«é€Ÿæ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹å¿«é€Ÿæ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹å¿«é€Ÿæ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹å¿«é€Ÿæ’åºçš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-11"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-11" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰ç®—æ³•æ˜¯åœ¨å†’æ³¡æ’åºçš„åŸºç¡€ä¸Šè¿›è¡Œæ”¹è¿›çš„ä¸€ç§ç®—æ³•ï¼Œä»åå­—ä¸Šçœ‹å°±çŸ¥é“è¯¥æ’åºç®—æ³•çš„ç‰¹ç‚¹æ˜¯å¿«ã€æ•ˆç‡é«˜ï¼Œæ˜¯å¤„ç†å¤§æ•°æ®æœ€å¿«çš„æ’åºç®—æ³•ä¹‹ä¸€</p>
<p>å®ç°çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šé€šè¿‡ä¸€æ¬¡æ’åºå°†æ•´ä¸ªæ— åºè¡¨åˆ†æˆç›¸äº’ç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†ä¸­çš„æ•°æ®éƒ½æ¯”å¦ä¸€éƒ¨åˆ†ä¸­åŒ…å«çš„æ•°æ®çš„å€¼å°</p>
<p>ç„¶åç»§ç»­æ²¿ç”¨æ­¤æ–¹æ³•åˆ†åˆ«å¯¹ä¸¤éƒ¨åˆ†è¿›è¡ŒåŒæ ·çš„æ“ä½œï¼Œç›´åˆ°æ¯ä¸€ä¸ªå°éƒ¨åˆ†ä¸å¯å†åˆ†ï¼Œæ‰€å¾—åˆ°çš„æ•´ä¸ªåºåˆ—å°±å˜æˆæœ‰åºåºåˆ—</p>
<p>ä¾‹å¦‚ï¼Œå¯¹æ— åºè¡¨49ï¼Œ38ï¼Œ65ï¼Œ97ï¼Œ76ï¼Œ13ï¼Œ27ï¼Œ49è¿›è¡Œå¿«é€Ÿæ’åºï¼Œå¤§è‡´è¿‡ç¨‹ä¸ºï¼š</p>
<ul>
<li>é¦–å…ˆä»è¡¨ä¸­é€‰å–ä¸€ä¸ªè®°å½•çš„å…³é”®å­—ä½œä¸ºåˆ†å‰²ç‚¹ï¼ˆç§°ä¸ºâ€œæ¢è½´â€æˆ–è€…æ”¯ç‚¹ï¼Œä¸€èˆ¬é€‰æ‹©ç¬¬ä¸€ä¸ªå…³é”®å­—ï¼‰ï¼Œä¾‹å¦‚é€‰å– 49</li>
<li>å°†è¡¨æ ¼ä¸­å¤§äº 49 ä¸ªæ”¾ç½®äº 49 çš„å³ä¾§ï¼Œå°äº 49 çš„æ”¾ç½®äº 49 çš„å·¦ä¾§ï¼Œå‡è®¾å®Œæˆåçš„æ— åºè¡¨ä¸ºï¼š{27ï¼Œ38ï¼Œ13ï¼Œ49ï¼Œ65ï¼Œ97ï¼Œ76ï¼Œ49}</li>
<li>ä»¥ 49 ä¸ºæ”¯ç‚¹ï¼Œå°†æ•´ä¸ªæ— åºè¡¨åˆ†å‰²æˆäº†ä¸¤ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«ä¸º{27ï¼Œ38ï¼Œ13}å’Œ{65ï¼Œ97ï¼Œ76ï¼Œ49}ï¼Œç»§ç»­é‡‡ç”¨æ­¤ç§æ–¹æ³•åˆ†åˆ«å¯¹ä¸¤ä¸ªå­è¡¨è¿›è¡Œæ’åº</li>
<li>å‰éƒ¨åˆ†å­è¡¨ä»¥ 27 ä¸ºæ”¯ç‚¹ï¼Œæ’åºåçš„å­è¡¨ä¸º{13ï¼Œ27ï¼Œ38}ï¼Œæ­¤éƒ¨åˆ†å·²ç»æœ‰åºï¼›åéƒ¨åˆ†å­è¡¨ä»¥ 65 ä¸ºæ”¯ç‚¹ï¼Œæ’åºåçš„å­è¡¨ä¸º{49ï¼Œ65ï¼Œ97ï¼Œ76}</li>
<li>æ­¤æ—¶å‰åŠéƒ¨åˆ†å­è¡¨ä¸­çš„æ•°æ®å·²å®Œæˆæ’åºï¼›åéƒ¨åˆ†å­è¡¨ç»§ç»­ä»¥ 65 ä¸ºæ”¯ç‚¹ï¼Œå°†å…¶åˆ†å‰²ä¸º{49}å’Œ{97ï¼Œ76}ï¼Œå‰è€…ä¸éœ€æ’åºï¼Œåè€…æ’åºåçš„ç»“æœä¸º{76ï¼Œ 97}</li>
<li>é€šè¿‡ä»¥ä¸Šå‡ æ­¥çš„æ’åºï¼Œæœ€åç”±å­è¡¨{13ï¼Œ27ï¼Œ38}ã€{49}ã€{49}ã€{65}ã€{76ï¼Œ97}æ„æˆæœ‰åºè¡¨ï¼š{13ï¼Œ27ï¼Œ38ï¼Œ49ï¼Œ49ï¼Œ65ï¼Œ76ï¼Œ97}</li>
</ul>
<h4 id="äºŒã€å¦‚ä½•å®ç°-4"><a href="#äºŒã€å¦‚ä½•å®ç°-4" class="headerlink" title="äºŒã€å¦‚ä½•å®ç°"></a>äºŒã€å¦‚ä½•å®ç°</h4><p>å¯ä»¥åˆ†æˆä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ul>
<li>åˆ†åŒºï¼šä»æ•°ç»„ä¸­é€‰æ‹©ä»»æ„ä¸€ä¸ªåŸºå‡†ï¼Œæ‰€æœ‰æ¯”åŸºå‡†å°çš„å…ƒç´ æ”¾åœ¨åŸºå‡†çš„å·¦è¾¹ï¼Œæ¯”åŸºå‡†å¤§çš„å…ƒç´ æ”¾åˆ°åŸºå‡†çš„å³è¾¹</li>
<li>é€’å½’ï¼šé€’å½’åœ°å¯¹åŸºå‡†å‰åçš„å­æ•°ç»„è¿›è¡Œåˆ†åŒº</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7777772e72756e6f6f622e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031392f30332f717569636b536f72742e676966.gif"></p>
<p>ç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">function quickSort (arr) &#123;
  const rec = (arr) =&gt; &#123;
    if (arr.length &lt;= 1) &#123; return arr; &#125;
    const left = [];
    const right = [];
    const mid = arr[0]; // åŸºå‡†å…ƒç´ 
    for (let i = 1; i &lt; arr.length; i++)&#123;
      if (arr[i] &lt; mid) &#123;
        left.push(arr[i]);
      &#125; else &#123;
        right.push(arr[i]);
      &#125;
    &#125;
    return [...rec(left), mid, ...rec(right)]
  &#125;
  return rec(arr)
&#125;;
</code></pre>
<p>å¿«é€Ÿæ’åºæ˜¯å†’æ³¡æ’åºçš„å‡çº§ç‰ˆï¼Œæœ€åæƒ…å†µä¸‹æ¯ä¸€æ¬¡åŸºå‡†å…ƒç´ éƒ½æ˜¯æ•°ç»„ä¸­æœ€å°æˆ–è€…æœ€å¤§çš„å…ƒç´ ï¼Œåˆ™å¿«é€Ÿæ’åºå°±æ˜¯å†’æ³¡æ’åº</p>
<p>è¿™ç§æƒ…å†µæ—¶é—´å¤æ‚åº¦å°±æ˜¯å†’æ³¡æ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼š<code>T[n] = n * (n-1) = n^2 + n</code>ï¼Œä¹Ÿå°±æ˜¯<code>O(n^2)</code></p>
<p>æœ€å¥½æƒ…å†µä¸‹æ˜¯<code>O(nlogn)</code>ï¼Œå…¶ä¸­é€’å½’ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å…¬å¼ï¼š<code>T[n] = aT[n/b] + f(n)</code>ï¼Œæ¨å¯¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f62363031393534302d326235652d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>å…³äºä¸Šè¿°ä»£ç å®ç°çš„å¿«é€Ÿæ’åºï¼Œå¯ä»¥çœ‹åˆ°æ˜¯ç¨³å®šçš„</p>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯-7"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-7" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>å¿«é€Ÿæ’åºæ—¶é—´å¤æ‚åº¦ä¸º<code>O(nlogn)</code>ï¼Œæ˜¯ç›®å‰åŸºäºæ¯”è¾ƒçš„å†…éƒ¨æ’åºä¸­è¢«è®¤ä¸ºæœ€å¥½çš„æ–¹æ³•ï¼Œå½“æ•°æ®è¿‡å¤§ä¸”æ•°æ®æ‚ä¹±æ— ç« æ—¶ï¼Œåˆ™é€‚åˆé‡‡ç”¨å¿«é€Ÿæ’åº</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹äºŒåˆ†æŸ¥æ‰¾çš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹äºŒåˆ†æŸ¥æ‰¾çš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹äºŒåˆ†æŸ¥æ‰¾çš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹äºŒåˆ†æŸ¥æ‰¾çš„ç†è§£ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-12"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-12" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒäºŒåˆ†æŸ¥æ‰¾ç®—æ³•ï¼Œä¹Ÿç§°æŠ˜åŠæœç´¢ç®—æ³•ï¼Œæ˜¯ä¸€ç§åœ¨æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾æŸä¸€ç‰¹å®šå…ƒç´ çš„æœç´¢ç®—æ³•</p>
<p>æƒ³è¦åº”ç”¨äºŒåˆ†æŸ¥æ‰¾æ³•ï¼Œåˆ™è¿™ä¸€å †æ•°åº”æœ‰å¦‚ä¸‹ç‰¹æ€§ï¼š</p>
<ul>
<li>å­˜å‚¨åœ¨æ•°ç»„ä¸­</li>
<li>æœ‰åºæ’åº</li>
</ul>
<p>æœç´¢è¿‡ç¨‹ä»æ•°ç»„çš„ä¸­é—´å…ƒç´ å¼€å§‹ï¼Œå¦‚æœä¸­é—´å…ƒç´ æ­£å¥½æ˜¯è¦æŸ¥æ‰¾çš„å…ƒç´ ï¼Œåˆ™æœç´¢è¿‡ç¨‹ç»“æŸ</p>
<p>å¦‚æœæŸä¸€ç‰¹å®šå…ƒç´ å¤§äºæˆ–è€…å°äºä¸­é—´å…ƒç´ ï¼Œåˆ™åœ¨æ•°ç»„å¤§äºæˆ–å°äºä¸­é—´å…ƒç´ çš„é‚£ä¸€åŠä¸­æŸ¥æ‰¾ï¼Œè€Œä¸”è·Ÿå¼€å§‹ä¸€æ ·ä»ä¸­é—´å…ƒç´ å¼€å§‹æ¯”è¾ƒ</p>
<p>å¦‚æœåœ¨æŸä¸€æ­¥éª¤æ•°ç»„ä¸ºç©ºï¼Œåˆ™ä»£è¡¨æ‰¾ä¸åˆ°</p>
<p>è¿™ç§æœç´¢ç®—æ³•æ¯ä¸€æ¬¡æ¯”è¾ƒéƒ½ä½¿æœç´¢èŒƒå›´ç¼©å°ä¸€åŠ</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65323130383532302d323938372d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>ç›¸æ¯”æ™®é€šçš„é¡ºåºæŸ¥æ‰¾ï¼Œé™¤äº†æ•°æ®é‡å¾ˆå°‘çš„æƒ…å†µä¸‹ï¼ŒäºŒåˆ†æŸ¥æ‰¾ä¼šæ¯”é¡ºåºæŸ¥æ‰¾æ›´å¿«ï¼ŒåŒºåˆ«å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f706963322e7a68696d672e636f6d2f76322d34333333396239363364623633623333313037623536353033616436623162355f622e676966.gif"></p>
<h4 id="äºŒã€å¦‚ä½•å®ç°-5"><a href="#äºŒã€å¦‚ä½•å®ç°-5" class="headerlink" title="äºŒã€å¦‚ä½•å®ç°"></a>äºŒã€å¦‚ä½•å®ç°</h4><p>åŸºäºäºŒåˆ†æŸ¥æ‰¾çš„å®ç°ï¼Œå¦‚æœæ•°æ®æ˜¯æœ‰åºçš„ï¼Œå¹¶ä¸”ä¸å­˜åœ¨é‡å¤é¡¹ï¼Œå®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">function BinarySearch(arr, target) &#123;
    if (arr.length &lt;= 1) return -1
    // ä½ä½ä¸‹æ ‡
    let lowIndex = 0
    // é«˜ä½ä¸‹æ ‡
    let highIndex = arr.length - 1

    while (lowIndex &lt;= highIndex) &#123;
        // ä¸­é—´ä¸‹æ ‡
        const midIndex = Math.floor((lowIndex + highIndex) / 2)
        if (target &lt; arr[midIndex]) &#123;
            highIndex = midIndex - 1
        &#125; else if (target &gt; arr[midIndex]) &#123;
            lowIndex = midIndex + 1
        &#125; else &#123;
            // target === arr[midIndex]
            return midIndex
        &#125;
    &#125;
    return -1
&#125;
</code></pre>
<p>å¦‚æœæ•°ç»„ä¸­å­˜åœ¨é‡å¤é¡¹ï¼Œè€Œæˆ‘ä»¬éœ€è¦æ‰¾å‡ºç¬¬ä¸€ä¸ªåˆ¶å®šçš„å€¼ï¼Œå®ç°åˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">function BinarySearchFirst(arr, target) &#123;
    if (arr.length &lt;= 1) return -1
    // ä½ä½ä¸‹æ ‡
    let lowIndex = 0
    // é«˜ä½ä¸‹æ ‡
    let highIndex = arr.length - 1

    while (lowIndex &lt;= highIndex) &#123;
        // ä¸­é—´ä¸‹æ ‡
        const midIndex = Math.floor((lowIndex + highIndex) / 2)
        if (target &lt; arr[midIndex]) &#123;
            highIndex = midIndex - 1
        &#125; else if (target &gt; arr[midIndex]) &#123;
            lowIndex = midIndex + 1
        &#125; else &#123;
            // å½“ target ä¸ arr[midIndex] ç›¸ç­‰çš„æ—¶å€™ï¼Œå¦‚æœ midIndex ä¸º0æˆ–è€…å‰ä¸€ä¸ªæ•°æ¯” target å°é‚£ä¹ˆå°±æ‰¾åˆ°äº†ç¬¬ä¸€ä¸ªç­‰äºç»™å®šå€¼çš„å…ƒç´ ï¼Œç›´æ¥è¿”å›
            if (midIndex === 0 || arr[midIndex - 1] &lt; target) return midIndex
            // å¦åˆ™é«˜ä½ä¸‹æ ‡ä¸ºä¸­é—´ä¸‹æ ‡å‡1ï¼Œç»§ç»­æŸ¥æ‰¾
            highIndex = midIndex - 1
        &#125;
    &#125;
    return -1
&#125;
</code></pre>
<p>å®é™…ä¸Šï¼Œé™¤äº†æœ‰åºçš„æ•°ç»„å¯ä»¥ä½¿ç”¨ï¼Œè¿˜æœ‰ä¸€ç§ç‰¹æ®Šçš„æ•°ç»„å¯ä»¥åº”ç”¨ï¼Œé‚£å°±æ˜¯è½®è½¬åçš„æœ‰åºæ•°ç»„</p>
<p>æœ‰åºæ•°ç»„å³ä¸€ä¸ªæœ‰åºæ•°å­—ä»¥æŸä¸€ä¸ªæ•°ä¸ºè½´ï¼Œå°†å…¶ä¹‹å‰çš„æ‰€æœ‰æ•°éƒ½è½®è½¬åˆ°æ•°ç»„çš„æœ«å°¾æ‰€å¾—</p>
<p>ä¾‹å¦‚ï¼Œ[4, 5, 6, 7, 0, 1, 2]å°±æ˜¯ä¸€ä¸ªè½®è½¬åçš„æœ‰åºæ•°ç»„</p>
<p>è¯¥æ•°ç»„çš„ç‰¹æ€§æ˜¯å­˜åœ¨ä¸€ä¸ªåˆ†ç•Œç‚¹ç”¨æ¥åˆ†ç•Œä¸¤ä¸ªæœ‰åºæ•°ç»„ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65656565323133302d323938372d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>åˆ†ç•Œç‚¹æœ‰å¦‚ä¸‹ç‰¹æ€§ï¼š</p>
<ul>
<li>åˆ†ç•Œç‚¹å…ƒç´  &gt;&#x3D; ç¬¬ä¸€ä¸ªå…ƒç´ </li>
<li>åˆ†ç•Œç‚¹å…ƒç´  &lt; ç¬¬ä¸€ä¸ªå…ƒç´ </li>
</ul>
<p>ä»£ç å®ç°å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">function search (nums, target) &#123;
  // å¦‚æœä¸ºç©ºæˆ–è€…æ˜¯ç©ºæ•°ç»„çš„æƒ…å†µ
  if (nums == null || !nums.length) &#123;
    return -1;
  &#125;
  // æœç´¢åŒºé—´æ˜¯å‰é—­åé—­
  let begin = 0,
    end = nums.length - 1;
  while (begin &lt;= end) &#123;
    // ä¸‹é¢è¿™æ ·å†™æ˜¯è€ƒè™‘å¤§æ•°æƒ…å†µä¸‹é¿å…æº¢å‡º
    let mid = begin + ((end - begin) &gt;&gt; 1);
    if (nums[mid] == target) &#123;
      return mid;
    &#125;
    // å¦‚æœå·¦è¾¹æ˜¯æœ‰åºçš„
    if (nums[begin] &lt;= nums[mid]) &#123;
      //åŒæ—¶targetåœ¨[ nums[begin],nums[mid] ]ä¸­ï¼Œé‚£ä¹ˆå°±åœ¨è¿™æ®µæœ‰åºåŒºé—´æŸ¥æ‰¾
      if (nums[begin] &lt;= target &amp;&amp; target &lt;= nums[mid]) &#123;
        end = mid - 1;
      &#125; else &#123;
        //å¦åˆ™å»åæ–¹å‘æŸ¥æ‰¾
        begin = mid + 1;
      &#125;
      //å¦‚æœå³ä¾§æ˜¯æœ‰åºçš„
    &#125; else &#123;
      //åŒæ—¶targetåœ¨[ nums[mid],nums[end] ]ä¸­ï¼Œé‚£ä¹ˆå°±åœ¨è¿™æ®µæœ‰åºåŒºé—´æŸ¥æ‰¾
      if (nums[mid] &lt;= target &amp;&amp; target &lt;= nums[end]) &#123;
        begin = mid + 1;
      &#125; else &#123;
        end = mid - 1;
      &#125;
    &#125;
  &#125;
  return -1;
&#125;;
</code></pre>
<p>å¯¹æ¯”æ™®é€šçš„äºŒåˆ†æŸ¥æ‰¾æ³•ï¼Œä¸ºäº†ç¡®å®šç›®æ ‡æ•°ä¼šè½åœ¨äºŒåˆ†åçš„å“ªä¸ªéƒ¨åˆ†ï¼Œæˆ‘ä»¬éœ€è¦æ›´å¤šçš„åˆ¤å®šæ¡ä»¶</p>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯-8"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-8" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>äºŒåˆ†æŸ¥æ‰¾æ³•çš„<code>O(logn)</code>è®©å®ƒæˆä¸ºååˆ†é«˜æ•ˆçš„ç®—æ³•ã€‚ä¸è¿‡å®ƒçš„ç¼ºé™·å´ä¹Ÿæ˜¯æ¯”è¾ƒæ˜æ˜¾ï¼Œå°±åœ¨å®ƒçš„é™å®šä¹‹ä¸Šï¼š</p>
<ul>
<li>æœ‰åºï¼šæˆ‘ä»¬å¾ˆéš¾ä¿è¯æˆ‘ä»¬çš„æ•°ç»„éƒ½æ˜¯æœ‰åºçš„</li>
<li>æ•°ç»„ï¼šæ•°ç»„è¯»å–æ•ˆç‡æ˜¯O(1)ï¼Œå¯æ˜¯å®ƒçš„æ’å…¥å’Œåˆ é™¤æŸä¸ªå…ƒç´ çš„æ•ˆç‡å´æ˜¯O(n)ï¼Œå¹¶ä¸”æ•°ç»„çš„å­˜å‚¨æ˜¯éœ€è¦è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œä¸é€‚åˆå¤§æ•°æ®çš„æƒ…å†µ</li>
</ul>
<p>å…³äºäºŒåˆ†æŸ¥æ‰¾çš„åº”ç”¨åœºæ™¯ï¼Œä¸»è¦å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä¸é€‚åˆæ•°æ®é‡å¤ªå°çš„æ•°åˆ—ï¼›æ•°åˆ—å¤ªå°ï¼Œç›´æ¥é¡ºåºéå†è¯´ä¸å®šæ›´å¿«ï¼Œä¹Ÿæ›´ç®€å•</li>
<li>æ¯æ¬¡å…ƒç´ ä¸å…ƒç´ çš„æ¯”è¾ƒæ˜¯æ¯”è¾ƒè€—æ—¶çš„ï¼Œè¿™ä¸ªæ¯”è¾ƒæ“ä½œè€—æ—¶å æ•´ä¸ªéå†ç®—æ³•æ—¶é—´çš„å¤§éƒ¨åˆ†ï¼Œé‚£ä¹ˆä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾å°±èƒ½æœ‰æ•ˆå‡å°‘å…ƒç´ æ¯”è¾ƒçš„æ¬¡æ•°</li>
<li>ä¸é€‚åˆæ•°æ®é‡å¤ªå¤§çš„æ•°åˆ—ï¼ŒäºŒåˆ†æŸ¥æ‰¾ä½œç”¨çš„æ•°æ®ç»“æ„æ˜¯é¡ºåºè¡¨ï¼Œä¹Ÿå°±æ˜¯æ•°ç»„ï¼Œæ•°ç»„æ˜¯éœ€è¦è¿ç»­çš„å†…å­˜ç©ºé—´çš„ï¼Œç³»ç»Ÿå¹¶ä¸ä¸€å®šæœ‰è¿™ä¹ˆå¤§çš„è¿ç»­å†…å­˜ç©ºé—´å¯ä»¥ä½¿ç”¨</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹åˆ†è€Œæ²»ä¹‹ã€åŠ¨æ€è§„åˆ’çš„ç†è§£ï¼ŸåŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹åˆ†è€Œæ²»ä¹‹ã€åŠ¨æ€è§„åˆ’çš„ç†è§£ï¼ŸåŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹åˆ†è€Œæ²»ä¹‹ã€åŠ¨æ€è§„åˆ’çš„ç†è§£ï¼ŸåŒºåˆ«ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹åˆ†è€Œæ²»ä¹‹ã€åŠ¨æ€è§„åˆ’çš„ç†è§£ï¼ŸåŒºåˆ«ï¼Ÿ</h3><h4 id="ä¸€ã€åˆ†è€Œæ²»ä¹‹"><a href="#ä¸€ã€åˆ†è€Œæ²»ä¹‹" class="headerlink" title="ä¸€ã€åˆ†è€Œæ²»ä¹‹"></a>ä¸€ã€åˆ†è€Œæ²»ä¹‹</h4><p>åˆ†è€Œæ²»ä¹‹æ˜¯ç®—æ³•è®¾è®¡ä¸­çš„ä¸€ç§æ–¹æ³•ï¼Œå°±æ˜¯æŠŠä¸€ä¸ªå¤æ‚çš„é—®é¢˜åˆ†æˆä¸¤ä¸ªæˆ–æ›´å¤šçš„ç›¸åŒæˆ–ç›¸ä¼¼çš„å­é—®é¢˜ï¼Œç›´åˆ°æœ€åå­é—®é¢˜å¯ä»¥ç®€å•çš„ç›´æ¥æ±‚è§£ï¼ŒåŸé—®é¢˜çš„è§£å³å­é—®é¢˜çš„è§£çš„åˆå¹¶</p>
<p>å…³äºåˆ†è€Œæ²»ä¹‹çš„å®ç°ï¼Œéƒ½ä¼šç»å†ä¸‰ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li>åˆ†è§£ï¼šå°†åŸé—®é¢˜åˆ†è§£ä¸ºè‹¥å¹²ä¸ªè§„æ¨¡è¾ƒå°ï¼Œç›¸å¯¹ç‹¬ç«‹ï¼Œä¸åŸé—®é¢˜å½¢å¼ç›¸åŒçš„å­é—®é¢˜</li>
<li>è§£å†³ï¼šè‹¥å­é—®é¢˜è§„æ¨¡è¾ƒå°ä¸”æ˜“äºè§£å†³æ—¶ï¼Œåˆ™ç›´æ¥è§£ã€‚å¦åˆ™ï¼Œé€’å½’åœ°è§£å†³å„å­é—®é¢˜</li>
<li>åˆå¹¶ï¼šå°†å„å­é—®é¢˜çš„è§£åˆå¹¶ä¸ºåŸé—®é¢˜çš„è§£</li>
</ul>
<p>å®é™…ä¸Šï¼Œå…³äºåˆ†è€Œæ²»ä¹‹çš„æ€æƒ³ï¼Œæˆ‘ä»¬åœ¨å‰é¢å·²ç»ä½¿ç”¨ï¼Œä¾‹å¦‚å½’å¹¶æ’åºçš„å®ç°ï¼ŒåŒæ ·ç»å†äº†å®ç°åˆ†è€Œæ²»ä¹‹çš„ä¸‰ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li>åˆ†è§£ï¼šæŠŠæ•°ç»„ä»ä¸­é—´ä¸€åˆ†ä¸ºäºŒ</li>
<li>è§£å†³ï¼šé€’å½’åœ°å¯¹ä¸¤ä¸ªå­æ•°ç»„è¿›è¡Œå½’å¹¶æ’åº</li>
<li>åˆå¹¶ï¼šå°†ä¸¤ä¸ªå­—æ•°ç»„åˆå¹¶ç§°æœ‰åºæ•°ç»„</li>
</ul>
<p>åŒæ ·å…³äºå¿«é€Ÿæ’åºçš„å®ç°ï¼Œäº¦å¦‚æ­¤ï¼š</p>
<ul>
<li>åˆ†ï¼šé€‰åŸºå‡†ï¼ŒæŒ‰åŸºå‡†æŠŠæ•°ç»„åˆ†æˆä¸¤ä¸ªå­—æ•°ç»„</li>
<li>è§£ï¼šé€’å½’åœ°å¯¹ä¸¤ä¸ªå­—æ•°ç»„è¿›è¡Œå¿«é€Ÿæ’åº</li>
<li>åˆï¼šå¯¹ä¸¤ä¸ªå­—æ•°ç»„è¿›è¡Œåˆå¹¶</li>
</ul>
<p>åŒæ ·äºŒåˆ†æœç´¢ä¹Ÿèƒ½ä½¿ç”¨åˆ†è€Œæ²»ä¹‹çš„æ€æƒ³å»å®ç°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">function binarySearch(arr,l,r,target)&#123;
    if(l&gt; r)&#123;
        return -1;
    &#125;
    let mid = l + Math.floor((r-l)/2)
    if(arr[mid] === target)&#123;
        return mid;
    &#125;else if(arr[mid] &lt; target )&#123;
        return binarySearch(arr,mid + 1,r,target)
    &#125;else&#123;
        return binarySearch(arr,l,mid - 1,target)
    &#125;
&#125;
</code></pre>
<h4 id="äºŒã€åŠ¨æ€è§„åˆ’"><a href="#äºŒã€åŠ¨æ€è§„åˆ’" class="headerlink" title="äºŒã€åŠ¨æ€è§„åˆ’"></a>äºŒã€åŠ¨æ€è§„åˆ’</h4><p>åŠ¨æ€è§„åˆ’ï¼ŒåŒæ ·æ˜¯ç®—æ³•è®¾è®¡ä¸­çš„ä¸€ç§æ–¹æ³•ï¼Œæ˜¯ä¸€ç§åœ¨æ•°å­¦ã€ç®¡ç†ç§‘å­¦ã€è®¡ç®—æœºç§‘å­¦ã€ç»æµå­¦å’Œç”Ÿç‰©ä¿¡æ¯å­¦ä¸­ä½¿ç”¨çš„ï¼Œé€šè¿‡æŠŠåŸé—®é¢˜åˆ†è§£ä¸ºç›¸å¯¹ç®€å•çš„å­é—®é¢˜çš„æ–¹å¼æ±‚è§£å¤æ‚é—®é¢˜çš„æ–¹æ³•</p>
<p>å¸¸å¸¸é€‚ç”¨äºæœ‰é‡å å­é—®é¢˜å’Œæœ€ä¼˜å­ç»“æ„æ€§è´¨çš„é—®é¢˜</p>
<p>ç®€å•æ¥è¯´ï¼ŒåŠ¨æ€è§„åˆ’å…¶å®å°±æ˜¯ï¼Œç»™å®šä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æŠŠå®ƒæ‹†æˆä¸€ä¸ªä¸ªå­é—®é¢˜ï¼Œç›´åˆ°å­é—®é¢˜å¯ä»¥ç›´æ¥è§£å†³</p>
<p>ç„¶åå‘¢ï¼ŒæŠŠå­é—®é¢˜ç­”æ¡ˆä¿å­˜èµ·æ¥ï¼Œä»¥å‡å°‘é‡å¤è®¡ç®—ã€‚å†æ ¹æ®å­é—®é¢˜ç­”æ¡ˆåæ¨ï¼Œå¾—å‡ºåŸé—®é¢˜è§£çš„ä¸€ç§æ–¹æ³•ã€‚</p>
<p>ä¸€èˆ¬è¿™äº›å­é—®é¢˜å¾ˆç›¸ä¼¼ï¼Œå¯ä»¥é€šè¿‡å‡½æ•°å…³ç³»å¼é€’æ¨å‡ºæ¥ï¼Œä¾‹å¦‚æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å…¬å¼ï¼šå½“ n å¤§äº 2çš„æ—¶å€™ï¼ŒF(n) &#x3D; F(n-1) + F(n-2) ï¼Œ</p>
<p>f(10)&#x3D; f(9)+f(8),f(9) &#x3D; f(8) + f(7)â€¦æ˜¯é‡å å­é—®é¢˜ï¼Œå½“n &#x3D; 1ã€2çš„æ—¶å€™ï¼Œå¯¹åº”çš„å€¼ä¸º2ï¼Œè¿™æ—¶å€™å°±é€šè¿‡å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ•°ç»„è®°å½•æ¯ä¸€æ­¥è®¡ç®—çš„ç»“æœï¼Œä»¥æ­¤ç±»æ¨ï¼Œå‡å°‘ä¸å¿…è¦çš„é‡å¤è®¡ç®—</p>
<h5 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h5><p>å¦‚æœä¸€ä¸ªé—®é¢˜ï¼Œå¯ä»¥æŠŠæ‰€æœ‰å¯èƒ½çš„ç­”æ¡ˆç©·ä¸¾å‡ºæ¥ï¼Œå¹¶ä¸”ç©·ä¸¾å‡ºæ¥åï¼Œå‘ç°å­˜åœ¨é‡å å­é—®é¢˜ï¼Œå°±å¯ä»¥è€ƒè™‘ä½¿ç”¨åŠ¨æ€è§„åˆ’</p>
<p>æ¯”å¦‚ä¸€äº›æ±‚æœ€å€¼çš„åœºæ™¯ï¼Œå¦‚æœ€é•¿é€’å¢å­åºåˆ—ã€æœ€å°ç¼–è¾‘è·ç¦»ã€èƒŒåŒ…é—®é¢˜ã€å‡‘é›¶é’±é—®é¢˜ç­‰ç­‰ï¼Œéƒ½æ˜¯åŠ¨æ€è§„åˆ’çš„ç»å…¸åº”ç”¨åœºæ™¯</p>
<p>å…³äºåŠ¨æ€è§„åˆ’é¢˜ç›®è§£å†³çš„æ­¥éª¤ï¼Œä¸€èˆ¬å¦‚ä¸‹ï¼š</p>
<ul>
<li>æè¿°æœ€ä¼˜è§£çš„ç»“æ„</li>
<li>é€’å½’å®šä¹‰æœ€ä¼˜è§£çš„å€¼</li>
<li>æŒ‰è‡ªåº•å‘ä¸Šçš„æ–¹å¼è®¡ç®—æœ€ä¼˜è§£çš„å€¼</li>
<li>ç”±è®¡ç®—å‡ºçš„ç»“æœæ„é€ ä¸€ä¸ªæœ€ä¼˜è§£</li>
</ul>
<h4 id="ä¸‰ã€åŒºåˆ«-2"><a href="#ä¸‰ã€åŒºåˆ«-2" class="headerlink" title="ä¸‰ã€åŒºåˆ«"></a>ä¸‰ã€åŒºåˆ«</h4><p>åŠ¨æ€è§„åˆ’ç®—æ³•ä¸åˆ†æ²»æ³•ç±»ä¼¼ï¼Œå…¶åŸºæœ¬æ€æƒ³ä¹Ÿæ˜¯å°†å¾…æ±‚è§£é—®é¢˜åˆ†è§£æˆè‹¥å¹²ä¸ªå­é—®é¢˜ï¼Œå…ˆæ±‚è§£å­é—®é¢˜ï¼Œç„¶åä»è¿™äº›å­é—®é¢˜çš„è§£å¾—åˆ°åŸé—®é¢˜çš„è§£</p>
<p>ä¸åˆ†æ²»æ³•ä¸åŒçš„æ˜¯ï¼Œé€‚åˆäºç”¨åŠ¨æ€è§„åˆ’æ±‚è§£çš„é—®é¢˜ï¼Œç»åˆ†è§£å¾—åˆ°å­é—®é¢˜å¾€å¾€ä¸æ˜¯äº’ç›¸ç‹¬ç«‹çš„ï¼Œè€Œåˆ†è€Œæ²»ä¹‹çš„å­é—®é¢˜æ˜¯ç›¸äº’ç‹¬ç«‹çš„</p>
<p>è‹¥ç”¨åˆ†æ²»æ³•æ¥è§£è¿™ç±»é—®é¢˜ï¼Œåˆ™åˆ†è§£å¾—åˆ°çš„å­é—®é¢˜æ•°ç›®å¤ªå¤šï¼Œæœ‰äº›å­é—®é¢˜è¢«é‡å¤è®¡ç®—äº†å¾ˆå¤šæ¬¡</p>
<p>å¦‚æœæˆ‘ä»¬èƒ½å¤Ÿä¿å­˜å·²è§£å†³çš„å­é—®é¢˜çš„ç­”æ¡ˆï¼Œè€Œåœ¨éœ€è¦æ—¶å†æ‰¾å‡ºå·²æ±‚å¾—çš„ç­”æ¡ˆï¼Œè¿™æ ·å°±å¯ä»¥é¿å…å¤§é‡çš„é‡å¤è®¡ç®—ï¼ŒèŠ‚çœæ—¶é—´</p>
<p>ç»¼ä¸Šï¼Œå¯å¾—ï¼š</p>
<ul>
<li>åŠ¨æ€è§„åˆ’ï¼šæœ‰æœ€ä¼˜å­ç»“æ„å’Œé‡å å­é—®é¢˜</li>
<li>åˆ†è€Œæ²»ä¹‹ï¼šå„å­é—®é¢˜ç‹¬ç«‹</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹è´ªå¿ƒç®—æ³•ã€å›æº¯ç®—æ³•çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹è´ªå¿ƒç®—æ³•ã€å›æº¯ç®—æ³•çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹è´ªå¿ƒç®—æ³•ã€å›æº¯ç®—æ³•çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹è´ªå¿ƒç®—æ³•ã€å›æº¯ç®—æ³•çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€è´ªå¿ƒç®—æ³•"><a href="#ä¸€ã€è´ªå¿ƒç®—æ³•" class="headerlink" title="ä¸€ã€è´ªå¿ƒç®—æ³•"></a>ä¸€ã€è´ªå¿ƒç®—æ³•</h4><p>è´ªå¿ƒç®—æ³•ï¼Œåˆç§°è´ªå©ªç®—æ³•ï¼Œæ˜¯ç®—æ³•è®¾è®¡ä¸­çš„ä¸€ç§æ€æƒ³</p>
<p>å…¶æœŸå¾…æ¯ä¸€ä¸ªé˜¶æ®µéƒ½æ˜¯å±€éƒ¨æœ€ä¼˜çš„é€‰æ‹©ï¼Œä»è€Œè¾¾åˆ°å…¨å±€æœ€ä¼˜ï¼Œä½†æ˜¯ç»“æœå¹¶ä¸ä¸€å®šæ˜¯æœ€ä¼˜çš„</p>
<p>ä¸¾ä¸ªé›¶é’±å…‘æ¢çš„ä¾‹å­ï¼Œå¦‚æœä½ æœ‰1å…ƒã€2å…ƒã€5å…ƒçš„é’±å¸æ•°å¼ ï¼Œç”¨äºå…‘æ¢ä¸€å®šçš„é‡‘é¢ï¼Œä½†æ˜¯è¦æ±‚å…‘æ¢çš„é’±å¸å¼ æ•°æœ€å°‘</p>
<p>å¦‚æœç°åœ¨ä½ è¦å…‘æ¢11å…ƒï¼ŒæŒ‰ç…§è´ªå¿ƒç®—æ³•çš„æ€æƒ³ï¼Œå…ˆé€‰æ‹©é¢é¢æœ€å¤§çš„5å…ƒé’±å¸è¿›è¡Œå…‘æ¢ï¼Œé‚£ä¹ˆå°±å¾—åˆ°11 &#x3D; 5 + 5 + 1 çš„é€‰æ‹©ï¼Œè¿™ç§æƒ…å†µæ˜¯æœ€ä¼˜çš„</p>
<p>ä½†æ˜¯å¦‚æœä½ æ‰‹ä¸Šé’±å¸çš„é¢é¢ä¸º1ã€3ã€4ï¼Œæƒ³è¦å…‘æ¢6å…ƒï¼ŒæŒ‰ç…§è´ªå¿ƒç®—æ³•çš„æ€è·¯ï¼Œæˆ‘ä»¬ä¼š 6 &#x3D; 4 + 1 + 1è¿™æ ·é€‰æ‹©ï¼Œè¿™ç§æƒ…å†µç»“æœå°±ä¸æ˜¯æœ€ä¼˜çš„é€‰æ‹©</p>
<p>ä»ä¸Šé¢ä¾‹å­å¯ä»¥çœ‹åˆ°ï¼Œè´ªå¿ƒç®—æ³•å­˜åœ¨ä¸€äº›å¼Šç«¯ï¼Œä½¿ç”¨åˆ°è´ªå¿ƒç®—æ³•çš„åœºæ™¯ï¼Œéƒ½ä¼šå­˜åœ¨ä¸€ä¸ªç‰¹æ€§ï¼š</p>
<p>ä¸€æ—¦ä¸€ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡è´ªå¿ƒæ³•æ¥è§£å†³ï¼Œé‚£ä¹ˆè´ªå¿ƒæ³•ä¸€èˆ¬æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„æœ€å¥½åŠæ³•</p>
<p>è‡³äºæ˜¯å¦é€‰æ‹©è´ªå¿ƒç®—æ³•ï¼Œä¸»è¦çœ‹æ˜¯å¦æœ‰å¦‚ä¸‹ä¸¤å¤§ç‰¹æ€§ï¼š</p>
<ul>
<li>è´ªå¿ƒé€‰æ‹©ï¼šå½“æŸä¸€ä¸ªé—®é¢˜çš„æ•´ä½“æœ€ä¼˜è§£å¯é€šè¿‡ä¸€ç³»åˆ—å±€éƒ¨çš„æœ€ä¼˜è§£çš„é€‰æ‹©è¾¾åˆ°ï¼Œå¹¶ä¸”æ¯æ¬¡åšå‡ºçš„é€‰æ‹©å¯ä»¥ä¾èµ–ä»¥å‰åšå‡ºçš„é€‰æ‹©ï¼Œä½†ä¸éœ€è¦ä¾èµ–åé¢éœ€è¦åšå‡ºçš„é€‰æ‹©</li>
<li>æœ€ä¼˜å­ç»“æ„ï¼šå¦‚æœä¸€ä¸ªé—®é¢˜çš„æœ€ä¼˜è§£åŒ…å«å…¶å­é—®é¢˜çš„æœ€ä¼˜è§£ï¼Œåˆ™æ­¤é—®é¢˜å…·å¤‡æœ€ä¼˜å­ç»“æ„çš„æ€§è´¨ã€‚é—®é¢˜çš„æœ€ä¼˜å­ç»“æ„æ€§è´¨æ˜¯è¯¥é—®é¢˜æ˜¯å¦å¯ä»¥ç”¨è´ªå¿ƒç®—æ³•æ±‚è§£çš„å…³é”®æ‰€åœ¨</li>
</ul>
<h4 id="äºŒã€å›æº¯ç®—æ³•"><a href="#äºŒã€å›æº¯ç®—æ³•" class="headerlink" title="äºŒã€å›æº¯ç®—æ³•"></a>äºŒã€å›æº¯ç®—æ³•</h4><p>å›æº¯ç®—æ³•ï¼Œä¹Ÿæ˜¯ç®—æ³•è®¾è®¡ä¸­çš„ä¸€ç§æ€æƒ³ï¼Œæ˜¯ä¸€ç§æ¸è¿›å¼å¯»æ‰¾å¹¶æ„å»ºé—®é¢˜è§£å†³æ–¹å¼çš„ç­–ç•¥</p>
<p>å›æº¯ç®—æ³•ä¼šå…ˆä»ä¸€ä¸ªå¯èƒ½çš„å·¥ä½œå¼€å§‹è§£å†³é—®é¢˜ï¼Œå¦‚æœä¸è¡Œï¼Œå°±å›æº¯å¹¶é€‰æ‹©å¦ä¸€ä¸ªåŠ¨ä½œï¼ŒçŸ¥é“å°†é—®é¢˜è§£å†³</p>
<p>ä½¿ç”¨å›æº¯ç®—æ³•çš„é—®é¢˜ï¼Œæœ‰å¦‚ä¸‹ç‰¹æ€§ï¼š</p>
<ul>
<li>æœ‰å¾ˆå¤šè·¯ï¼Œä¾‹å¦‚ä¸€ä¸ªçŸ©é˜µçš„æ–¹å‘æˆ–è€…æ ‘çš„è·¯å¾„</li>
<li>åœ¨è¿™äº›çš„è·¯é‡Œé¢ï¼Œæœ‰æ­»è·¯ä¹Ÿæœ‰ç”Ÿè·¯ï¼Œæ€è·¯å³ä¸ç¬¦åˆé¢˜ç›®è¦æ±‚çš„è·¯ï¼Œç”Ÿè·¯åˆ™ç¬¦åˆ</li>
<li>é€šå¸¸ä½¿ç”¨é€’å½’æ¥æ¨¡æ‹Ÿæ‰€æœ‰çš„è·¯</li>
</ul>
<p>å¸¸è§çš„ä¼ªä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">result = []
function backtrack(è·¯å¾„, é€‰æ‹©åˆ—è¡¨):
  if æ»¡è¶³ç»“æŸæ¡ä»¶:
    result.add(è·¯å¾„)
  return

  for é€‰æ‹© of é€‰æ‹©åˆ—è¡¨:
    åšé€‰æ‹©
    backtrack(è·¯å¾„, é€‰æ‹©åˆ—è¡¨)
    æ’¤é”€é€‰æ‹©
</code></pre>
<p>é‡ç‚¹è§£å†³ä¸‰ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>è·¯å¾„ï¼šä¹Ÿå°±æ˜¯å·²ç»åšå‡ºçš„é€‰æ‹©</li>
<li>é€‰æ‹©åˆ—è¡¨</li>
<li>ç»“æŸæ¡ä»¶</li>
</ul>
<p>ä¾‹å¦‚ç»å…¸ä½¿ç”¨å›æº¯ç®—æ³•ä¸ºè§£å†³å…¨æ’åˆ—çš„é—®é¢˜ï¼Œå¦‚ä¸‹ï¼š</p>
<p>ä¸€ä¸ªä¸å«é‡å¤æ•°å­—çš„æ•°ç»„ <code>nums</code> ï¼Œæˆ‘ä»¬è¦è¿”å›å…¶æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ—ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜çš„æ€è·¯æ˜¯ï¼š</p>
<ul>
<li>ç”¨é€’å½’æ¨¡æ‹Ÿæ‰€æœ‰çš„æƒ…å†µ</li>
<li>é‡åˆ°åŒ…å«é‡å¤å…ƒç´ çš„æƒ…å†µåˆ™å›æº¯</li>
<li>æ”¶é›†åˆ°æ‰€æœ‰åˆ°è¾¾é€’å½’ç»ˆç‚¹çš„æƒ…å†µï¼Œå¹¶è¿”å›ã€</li>
</ul>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f32613033306630302d326538652d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>ç”¨ä»£ç è¡¨ç¤ºåˆ™å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">var permute = function(nums) &#123;
    const res = [], path = [];
    backtracking(nums, nums.length, []);
    return res;
    
    function backtracking(n, k, used) &#123;
        if(path.length === k) &#123;
            res.push(Array.from(path));
            return;
        &#125;
        for (let i = 0; i &lt; k; i++ ) &#123;
            if(used[i]) continue;
            path.push(n[i]);
            used[i] = true; // åŒæ”¯
            backtracking(n, k, used);
            path.pop();
            used[i] = false;
        &#125;
    &#125;
&#125;;
</code></pre>
<h4 id="ä¸‰ã€æ€»ç»“-3"><a href="#ä¸‰ã€æ€»ç»“-3" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h4><p>å‰é¢ä¹Ÿåˆæ­¥äº†è§£åˆ°åˆ†è€Œæ²»ä¹‹ã€åŠ¨æ€è§„åˆ’ï¼Œç°åœ¨å†äº†è§£åˆ°è´ªå¿ƒç®—æ³•ã€å›æº¯ç®—æ³•</p>
<p>å…¶ä¸­å…³äºåˆ†è€Œæ²»ä¹‹ã€åŠ¨æ€è§„åˆ’ã€è´ªå¿ƒç­–ç•¥ä¸‰è€…çš„æ±‚è§£æ€è·¯å¦‚ä¸‹ï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f35303462353233302d326538652d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>å…¶ä¸­ä¸‰è€…å¯¹åº”çš„ç»å…¸é—®é¢˜å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2022/11/05/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8%E7%AE%97%E6%B3%95%E7%AF%87/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f36326364633931302d326538652d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<h3 id="å‚è€ƒæ–‡çŒ®ï¼š"><a href="#å‚è€ƒæ–‡çŒ®ï¼š" class="headerlink" title="å‚è€ƒæ–‡çŒ®ï¼š"></a>å‚è€ƒæ–‡çŒ®ï¼š</h3><p><a href="https://github.com/febobo/web-interview">https://github.com/febobo/web-interview</a></p>
]]></content>
      <categories>
        <category>æŠ€æœ¯é¢è¯•</category>
        <category>ç®—æ³•ç¯‡</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯é¢è¯•é¢˜å¤§å…¨å‰ç«¯å·¥ç¨‹åŒ–</title>
    <url>/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆå‰ç«¯å·¥ç¨‹åŒ–ï¼‰"><a href="#å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆå‰ç«¯å·¥ç¨‹åŒ–ï¼‰" class="headerlink" title="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆå‰ç«¯å·¥ç¨‹åŒ–ï¼‰"></a>å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆå‰ç«¯å·¥ç¨‹åŒ–ï¼‰</h1><p>å‰ç«¯é¢è¯•é¢˜ç±»ç›®åˆ†ç±»</p>
<ul>
<li>HTML5 + CSS3</li>
<li>JavaScript</li>
<li>Vue + Vue3</li>
<li>React</li>
<li>Webpack</li>
<li>æœåŠ¡ç«¯</li>
</ul>
<hr>
<p>è€ƒç‚¹é¢‘ç‡ ï¼šâ™¥ï¸ ã€ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸</p>
<h2 id="å‰ç«¯å·¥ç¨‹åŒ–"><a href="#å‰ç«¯å·¥ç¨‹åŒ–" class="headerlink" title="å‰ç«¯å·¥ç¨‹åŒ–"></a>å‰ç«¯å·¥ç¨‹åŒ–</h2><h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä»€ä¹ˆæ˜¯-bundle-ä»€ä¹ˆæ˜¯-chunkï¼Œä»€ä¹ˆæ˜¯moduleï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä»€ä¹ˆæ˜¯-bundle-ä»€ä¹ˆæ˜¯-chunkï¼Œä»€ä¹ˆæ˜¯moduleï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä»€ä¹ˆæ˜¯ bundle, ä»€ä¹ˆæ˜¯ chunkï¼Œä»€ä¹ˆæ˜¯moduleï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä»€ä¹ˆæ˜¯ bundle, ä»€ä¹ˆæ˜¯ chunkï¼Œä»€ä¹ˆæ˜¯moduleï¼Ÿ</h3><h4 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h4><p><code>bundle</code>ã€<code>module</code>ã€<code>chunk</code> éƒ½æ˜¯ webpack ä¸­çš„æœ¯è¯­ï¼Œä¸‹é¢å°±ä¸€ä¸ªä¸€ä¸ªä»‹ç»ä»–ä»¬çš„å®šä¹‰æ˜¯ä»€ä¹ˆï¼Œæ€ä¹ˆäº§ç”Ÿçš„ã€‚</p>
<h5 id="Bundle"><a href="#Bundle" class="headerlink" title="Bundle"></a>Bundle</h5><p>Bundleæ˜¯ç”±å¤šä¸ªä¸åŒçš„æ¨¡å—ç”Ÿæˆï¼Œbundles åŒ…å«äº†æ—©å·²ç»è¿‡åŠ è½½å’Œç¼–è¯‘çš„æœ€ç»ˆæºæ–‡ä»¶ç‰ˆæœ¬ã€‚ Bundle åˆ†ç¦»ï¼ˆBundle Splittingï¼‰:è¿™ä¸ªæµç¨‹æä¾›äº†ä¸€ä¸ªä¼˜åŒ– build çš„æ–¹æ³•ï¼Œå…è®¸ webpack ä¸ºåº”ç”¨ç¨‹åºç”Ÿæˆå¤šä¸ª bundleã€‚æœ€ç»ˆæ•ˆæœæ˜¯ï¼Œå½“å…¶ä»–æŸäº› bundle çš„æ”¹åŠ¨æ—¶ï¼Œå½¼æ­¤ç‹¬ç«‹çš„å¦ä¸€äº› bundle éƒ½å¯ä»¥ä¸å—åˆ°å½±å“ï¼Œå‡å°‘éœ€è¦é‡æ–°å‘å¸ƒçš„ä»£ç é‡ï¼Œå› æ­¤ç”±å®¢æˆ·ç«¯é‡æ–°ä¸‹è½½å¹¶åˆ©ç”¨æµè§ˆå™¨ç¼“å­˜ã€‚</p>
<h5 id="Module"><a href="#Module" class="headerlink" title="Module"></a>Module</h5><p>æ¨¡å—ï¼ˆModuleï¼‰æä¾›æ¯”è¾ƒå®Œæ•´ç¨‹åºæ¥è§¦é¢ï¼ˆsurface areaï¼‰æ›´å°çš„ç¦»æ•£åŠŸèƒ½å—ã€‚ç²¾å¿ƒç¼–å†™çš„æ¨¡å—æä¾›äº†å¯é çš„æŠ½è±¡å’Œå°è£…ç•Œé™ï¼Œä½¿å¾—åº”ç”¨ç¨‹åºä¸­æ¯ä¸ªæ¨¡å—éƒ½å…·æœ‰æ¡ç†æ¸…æ¥šçš„è®¾è®¡å’Œæ˜ç¡®çš„ç›®çš„ã€‚ æ¨¡å—è§£æï¼ˆModule Resolutionï¼‰ä¸€ä¸ªæ¨¡å—å¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªæ¨¡å—çš„ä¾èµ–æ¨¡å—ï¼Œresolver æ˜¯ä¸€ä¸ªåº“ï¼ˆlibaryï¼‰ç”¨äºå¸®åŠ©æ‰¾ä¸åˆ°æ¨¡å—çš„ç»å¯¹è·¯å¾„ï¼Œæ¨¡å—å°†åœ¨resolve.modulesä¸­æŒ‡å®šçš„æ‰€æœ‰ç›®å½•å†…æœç´¢ã€‚</p>
<h5 id="Chunk"><a href="#Chunk" class="headerlink" title="Chunk"></a>Chunk</h5><p>Chunkè¿™æ˜¯ webpack ç‰¹å®šçš„æœ¯è¯­è¢«ç”¨åœ¨å†…éƒ¨æ¥ç®¡ç† building è¿‡ç¨‹ã€‚bundle æ˜¯ç”± chunk ç»„æˆï¼Œå…¶ä¸­æœ‰å‡ ç§ç±»å‹ï¼ˆä¾‹å¦‚ï¼Œå…¥å£ chunk(entry chunk)å’Œå­ chunk(child chunk)ï¼‰ã€‚é€šå¸¸ chunk ä¼šç›´æ¥å¯¹åº”æ‰€è¾“å‡ºçš„ bundleï¼Œä½†æ˜¯æœ‰ä¸€äº›é…ç½®å¹¶ä¸ä¼šäº§ç”Ÿä¸€å¯¹ä¸€çš„å…³ç³»ã€‚ ä»£ç åˆ†ç¦»ï¼ˆCode Splittingï¼‰æŒ‡å°†ä»£ç åˆ†ç¦»åˆ°æ¯ä¸ª bundles&#x2F;chunks é‡Œé¢ï¼Œä½ å¯ä»¥æŒ‰éœ€åŠ è½½ï¼Œè€Œä¸æ˜¯åŠ è½½ä¸€ä¸ªåŒ…å«å…¨éƒ¨çš„ bundleã€‚ é…ç½®ï¼ˆConfigurationï¼‰webpack çš„é…ç½®æ–‡ä»¶æ˜¯ä¸€ä¸ªæ™®é€šçš„ JavaScript æ–‡ä»¶ï¼Œå®ƒå¯¼å‡ºä¸ºä¸€ä¸ªå¯¹è±¡ã€‚ç„¶åç”± webpack æ ¹æ®è¿™ä¸ªå¯¹è±¡å®šä¹‰çš„å±æ€§è¿›è¡Œå¤„ç†ã€‚</p>
<h4 id="Bundle-VS-Chunk-VS-Module"><a href="#Bundle-VS-Chunk-VS-Module" class="headerlink" title="Bundle VS Chunk VS Module"></a>Bundle VS Chunk VS Module</h4><p>æˆ‘ä»¬ä»å®šä¹‰å’Œæ—¶æœŸæ¥è¯´ï¼š</p>
<ul>
<li>â€œæ¨¡å—â€<code>(module)</code>çš„æ¦‚å¿µå¤§å®¶éƒ½æ¯”è¾ƒç†Ÿæ‚‰ï¼Œå¦‚ <code>CommonJS æ¨¡å—</code>ã€<code>AMD</code>ã€<code>ES6 Modules</code> æ¨¡å—</li>
<li><code>chunk</code> è¡¨ç¤ºæ‰“åŒ…çš„æ—¶å€™äº§ç”Ÿå¾—æ¨¡å—ï¼Œç”±ä»–æ¥ç»„æˆ <code>bundle</code></li>
<li>æ‰“åŒ…å®Œæˆçš„æºä»£ç </li>
</ul>
<p>æˆ‘ä»¬ç°åœ¨å°±åªåˆ›å»ºä¸€ä¸ªèƒ½ç¼–è¯‘<code>js</code>çš„<code>webpack</code>é…ç½®ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”åœ¨å½“æ–‡ä»¶å¤¹ä¸­æ‰“å¼€ <code>bash or cmd</code>ã€‚</li>
<li><code>npm init -y</code> ç”Ÿæˆ<code>package.json</code>ã€‚</li>
<li>å¦‚æœä½ å®‰è£…äº†<code>cnpm or yarn</code> å°±æ‰§è¡Œ <code>cnpm i webpack webpack-cli -D</code>, å®‰è£…<code>webpack</code>çš„åŒ…ã€‚</li>
<li>åˆ›å»º<code>src</code>ï¼Œåœ¨<code>src</code>å†…éƒ¨åˆ›å»º<code>chunk0.js</code>ã€<code>chunk1.js</code>ã€<code>common.js</code>ã€<code>index.js</code>ã€<code>style.css</code>ï¼Œå¹¶ä¸”ç¼–å†™å†…éƒ¨ä»£ç </li>
<li>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>webpack.config.js</code></li>
<li>ç›´æ¥åœ¨<code>cmd</code>ä¸­è¿è¡Œ <code>webpack</code></li>
</ol>
<p>ä¸‹é¢æ˜¯ä»£ç  </p>
<p>chunk0.js</p>
<pre><code class="javascript">export default function add(a, b) &#123;
  return a + b;
&#125;
</code></pre>
<p>chunk1.js</p>
<pre><code class="javascript">export default function flow() &#123;
  return &quot;flow&quot;;
&#125;
</code></pre>
<p>common.js</p>
<pre><code class="javascript">export default function commonJs() &#123;
  return &quot;commonJs&quot;;
&#125;
</code></pre>
<p>index.js</p>
<pre><code class="javascript">import add from &quot;./chunk0.js&quot;;
import commonJs from &quot;./common&quot;;
console.log(add(1, 2));
console.log(commonJs());
</code></pre>
<p>webpack.config.js</p>
<pre><code class="java">module.exports = &#123;
  mode: &quot;production&quot;, // å¦‚æœä¸æ·»åŠ å°±ä¼šè­¦å‘Š
  entry: &#123;
    index: &quot;./src/index.js&quot;, // ä¸€ä¸ªå…¥å£æ–‡ä»¶
    chunk1: &quot;./src/chunk1.js&quot; // ä¸¤ä¸€ä¸ªå…¥å£æ–‡ä»¶
  &#125;,
  output: &#123;
    filename: &quot;[name].bundle.js&quot; // å‡ºå£æ–‡ä»¶
  &#125;
&#125;;
</code></pre>
<p>è¿è¡Œçš„æ•ˆæœå¦‚ä¸‹</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image-20221104082742567.png"></p>
<p>é€šè¿‡ä¸Šé¢çš„ä»£ç çŸ¥é“ï¼Œ<code>module</code> å°±æ˜¯æ²¡æœ‰è¢«ç¼–è¯‘ä¹‹å‰çš„ä»£ç ï¼Œé€šè¿‡ <code>webpack</code> çš„æ ¹æ®æ–‡ä»¶å¼•ç”¨å…³ç³»ç”Ÿæˆ <code>chunk</code> æ–‡ä»¶ï¼Œwebpack å¤„ç†å¥½ <code>chunk</code> æ–‡ä»¶åï¼Œç”Ÿæˆè¿è¡Œåœ¨æµè§ˆå™¨ä¸­çš„ä»£ç  <code>bundle</code>ã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-hash-chunkhash-contenthashä¸‰è€…åŒºåˆ«"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-hash-chunkhash-contenthashä¸‰è€…åŒºåˆ«" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ hash chunkhash contenthashä¸‰è€…åŒºåˆ«"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ hash chunkhash contenthashä¸‰è€…åŒºåˆ«</h3><h4 id="ä¸€ã€Webpackä¸hashç®—æ³•"><a href="#ä¸€ã€Webpackä¸hashç®—æ³•" class="headerlink" title="ä¸€ã€Webpackä¸hashç®—æ³•"></a>ä¸€ã€Webpackä¸hashç®—æ³•</h4><p>åœ¨ä½¿ç”¨Webpackå¯¹æ„å»ºçš„æ—¶å€™ï¼ŒWebpackä¼šæ ¹æ®æ‰€æœ‰çš„æ–‡ä»¶å†…å®¹è®¡ç®—å‡ºä¸€ä¸ªç‰¹æ®Šçš„å­—ç¬¦ä¸²ã€‚åªè¦æœ‰æ–‡ä»¶çš„å†…å®¹å˜åŒ–äº†ï¼ŒWebpackå°±ä¼šè®¡ç®—å‡ºä¸€ä¸ªæ–°çš„ç‰¹æ®Šå­—ç¬¦ä¸²ã€‚</p>
<p>Webpackåœ¨æ ¹æ®æ–‡ä»¶å†…å®¹è®¡ç®—å‡ºä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œä½¿ç”¨çš„å°±æ˜¯hashç®—æ³•ï¼Œè¿™ä¸ªç‰¹æ®Šå­—ç¬¦ä¸²ä¸€èˆ¬å«åšhashå€¼ã€‚</p>
<p>æˆ‘ä»¬ä¸€èˆ¬å–è®¡ç®—å‡ºçš„ç‰¹æ®Šå­—ç¬¦ä¸²çš„å‰å…«ä½ä½œä¸ºæ–‡ä»¶åçš„ä¸€éƒ¨åˆ†ï¼Œå› ä¸ºhashç®—æ³•è®¡ç®—å‡ºçš„å‰å…«ä½åŸºæœ¬å¯ä»¥ä¿è¯å”¯ä¸€æ€§äº†ã€‚</p>
<p>åœ¨Webpacké‡Œï¼Œæˆ‘ä»¬é€šå¸¸ç”¨[hash:8]è¿™ç§å½¢å¼è¡¨ç¤ºå–hashå€¼çš„å‰å…«ä½ï¼Œä¾‹å¦‚åœ¨Webpacké…ç½®æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬ç”¨ filename: â€˜jQuery-[hash:8].jsâ€™ã€‚</p>
<h4 id="äºŒã€webpackä¸­hashã€chunkhashå’Œcontenthashçš„åŒºåˆ«"><a href="#äºŒã€webpackä¸­hashã€chunkhashå’Œcontenthashçš„åŒºåˆ«" class="headerlink" title="äºŒã€webpackä¸­hashã€chunkhashå’Œcontenthashçš„åŒºåˆ«"></a>äºŒã€webpackä¸­hashã€chunkhashå’Œcontenthashçš„åŒºåˆ«</h4><p>Webpacké€šè¿‡å¯¹æ–‡ä»¶è¿›è¡Œhashç®—æ³•è·å¾—çš„hashå€¼ï¼Œé™¤äº†æœ‰hashï¼Œè¿˜æœ‰chunkhashå’Œcontenthashï¼Œé‚£ä¹ˆè¿™ä¸‰è€…æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ</p>
<p>é¦–å…ˆï¼Œhashã€chunkhashå’Œcontenthashè¿™ä¸‰è€…éƒ½æ˜¯æ ¹æ®æ–‡ä»¶å†…å®¹è®¡ç®—å‡ºçš„hashå€¼ï¼Œåªæ˜¯å®ƒä»¬æ‰€è®¡ç®—çš„æ–‡ä»¶ä¸ä¸€æ ·ã€‚</p>
<p>hashæ˜¯æ ¹æ®æ‰“åŒ…ä¸­æ‰€æœ‰çš„æ–‡ä»¶è®¡ç®—å‡ºçš„hashå€¼ã€‚åœ¨ä¸€æ¬¡æ‰“åŒ…ä¸­ï¼Œæ‰€æœ‰å‡ºå£æ–‡ä»¶çš„filenameè·å¾—çš„[hash]éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>chunkhashæ˜¯æ ¹æ®æ‰“åŒ…è¿‡ç¨‹ä¸­å½“å‰chunkè®¡ç®—å‡ºçš„hashå€¼ã€‚å¦‚æœWebpacké…ç½®æ˜¯å¤šå…¥å£é…ç½®ï¼Œé‚£ä¹ˆé€šå¸¸ä¼šç”Ÿæˆå¤šä¸ªchunkï¼Œæ¯ä¸ªchunkå¯¹åº”çš„å‡ºå£filenameè·å¾—çš„[chunkhash]æ˜¯ä¸ä¸€æ ·çš„ã€‚è¿™æ ·å¯ä»¥ä¿è¯æ‰“åŒ…åæ¯ä¸€ä¸ªJSæ–‡ä»¶åéƒ½ä¸ä¸€æ ·ï¼ˆè¿™ä¹ˆè¯´ä¸å¤ªä¸¥è°¨ï¼Œä½†æœ‰åŠ©äºç†è§£ï¼‰ã€‚</p>
<p>Webpacké…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼Œç¬¬ä¸€æ¬¡æ‰“åŒ…filenameå–å€¼ä¸ºâ€™[name]-[hash:8].jsâ€™ï¼Œç¬¬äºŒæ¬¡ä¸ºâ€™[name]-[chunkhash:8].jsâ€™ã€‚</p>
<pre><code class="javascript">const path = require(&#39;path&#39;);
module.exports = &#123;
    entry: &#123;
        app1: &#39;./a.js&#39;,
        app2: &#39;./b.js&#39;,
        app3: &#39;./c.js&#39;,
&#125;,
output: &#123;
path: path.resolve(__dirname, &#39;&#39;),
filename: &#39;[name]-[hash:8].js&#39;
// filename: &#39;[name]-[chunkhash:8].js&#39;
&#125;,
mode: &#39;none&#39;
&#125;;
</code></pre>
<p>contenthashæœ‰ç‚¹åƒchunkhashï¼Œæ˜¯æ ¹æ®æ‰“åŒ…æ—¶CSSå†…å®¹è®¡ç®—å‡ºçš„hashå€¼ã€‚ä¸€èˆ¬åœ¨ä½¿ç”¨æå–CSSçš„æ’ä»¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä½¿ç”¨contenthashã€‚ä¾‹å¦‚ä¸‹é¢çš„é…ç½®ï¼Œæˆ‘ä»¬ç”Ÿæˆçš„CSSæ–‡ä»¶åå¯èƒ½ä¼šæ˜¯main.3aa2e3c6.cssã€‚</p>
<pre><code class="javascript">plugins:[
new miniExtractPlugin(&#123;
        filename: &#39;main.[contenthash:8].css&#39;
&#125;)
]
</code></pre>
<h4 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><p>Webpackä¸­hashã€chunkhashå’Œcontenthashä¸»è¦ä¸æµè§ˆå™¨ç¼“å­˜è¡Œä¸ºæœ‰å…³ã€‚æµè§ˆå™¨åœ¨åˆæ¬¡è¯·æ±‚æœåŠ¡ç«¯èµ„æºçš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ç»™JSã€CSSå’Œå›¾ç‰‡ç­‰èµ„æºä¸€ä¸ªè¾ƒé•¿çš„ç¼“å­˜æ—¶é—´ï¼Œæˆ‘ä»¬é€šè¿‡ç»™èµ„æºåç§°å¢åŠ hashå€¼æ¥æ§åˆ¶æµè§ˆå™¨æ˜¯å¦ç»§ç»­ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚hashã€chunkhashå’Œcontenthashè¿™ä¸‰è€…éƒ½æ˜¯æ ¹æ®æ–‡ä»¶å†…å®¹è®¡ç®—å‡ºçš„hashå€¼ï¼Œ[hash]æ˜¯æ ¹æ®å…¨éƒ¨å‚ä¸æ‰“åŒ…çš„æ–‡ä»¶è®¡ç®—å‡ºæ¥çš„ï¼Œ[chunkhash]æ˜¯æ ¹æ®å½“å‰æ‰“åŒ…çš„chunkè®¡ç®—å‡ºæ¥çš„ï¼Œ[contenthash]æ˜¯CSSæ–‡ä»¶çš„ã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä½ çŸ¥é“ä»€ä¹ˆæ˜¯è„šæ‰‹æ¶å—ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä½ çŸ¥é“ä»€ä¹ˆæ˜¯è„šæ‰‹æ¶å—ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä½ çŸ¥é“ä»€ä¹ˆæ˜¯è„šæ‰‹æ¶å—ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä½ çŸ¥é“ä»€ä¹ˆæ˜¯è„šæ‰‹æ¶å—ï¼Ÿ</h3><p>è„šæ‰‹æ¶çš„æ¦‚å¿µå’Œä½œç”¨ï¼šå°±æ˜¯æ‹¥æœ‰å®Œæ•´çš„å¼€å‘ç¯å¢ƒï¼Œå¸®åŠ©æˆ‘ä»¬å¿«é€Ÿçš„ç”Ÿæˆä¸€å¥—æ—¢å®šçš„é¡¹ç›®æ¶æ„ã€æ–‡ä»¶ã€é…ç½®ã€‚ä½¿ç”¨è€…åªéœ€è¦ä¸“æ³¨è‡ªå·±çš„ä¸šåŠ¡ä»£ç å³å¯ï¼Œä¸éœ€è¦ä½¿ç”¨è€…å•ç‹¬é…ç½® </p>
<p>è„šæ‰‹æ¶çš„æ„æˆï¼šå¸¸è§çš„è„šæ‰‹æ¶çš„å¼€å‘ç¯å¢ƒä¸»è¦åˆ†ä¸ºä¸‰ç§æ¨¡å¼ï¼šç”Ÿäº§æ¨¡å¼ï¼Œå¼€å‘æ¨¡å¼ï¼Œæµ‹è¯•æ¨¡å¼ã€‚ä»¥åŠéœ€è¦é…ç½®å®Œæ•´çš„è·¯ç”±ç³»ç»Ÿ(vue-router,react-router-dom)ï¼Œå’ŒçŠ¶æ€ç®¡ç†ç³»ç»Ÿ(vuex,redux)æ‰èƒ½ä¿è¯å¼€å‘ç¯å¢ƒçš„å®Œæ•´æ€§ </p>
<p>å¸¸è§çš„è„šæ‰‹æ¶ï¼šVue-cli,Creat-React-app,umi-app</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä½ å¯¹webpackçš„ç†è§£ï¼Ÿè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä½ å¯¹webpackçš„ç†è§£ï¼Ÿè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä½ å¯¹webpackçš„ç†è§£ï¼Ÿè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä½ å¯¹webpackçš„ç†è§£ï¼Ÿè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h3><h4 id="ä¸€ã€èƒŒæ™¯"><a href="#ä¸€ã€èƒŒæ™¯" class="headerlink" title="ä¸€ã€èƒŒæ™¯"></a>ä¸€ã€èƒŒæ™¯</h4><p><code>Webpack</code> æœ€åˆçš„ç›®æ ‡æ˜¯å®ç°å‰ç«¯é¡¹ç›®çš„æ¨¡å—åŒ–ï¼Œæ—¨åœ¨æ›´é«˜æ•ˆåœ°ç®¡ç†å’Œç»´æŠ¤é¡¹ç›®ä¸­çš„æ¯ä¸€ä¸ªèµ„æº</p>
<h5 id="æ¨¡å—åŒ–"><a href="#æ¨¡å—åŒ–" class="headerlink" title="æ¨¡å—åŒ–"></a>æ¨¡å—åŒ–</h5><p>æœ€æ—©çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé€šè¿‡æ–‡ä»¶åˆ’åˆ†çš„å½¢å¼å®ç°æ¨¡å—åŒ–ï¼Œä¹Ÿå°±æ˜¯å°†æ¯ä¸ªåŠŸèƒ½åŠå…¶ç›¸å…³çŠ¶æ€æ•°æ®å„è‡ªå•ç‹¬æ”¾åˆ°ä¸åŒçš„<code> JS</code> æ–‡ä»¶ä¸­</p>
<p>çº¦å®šæ¯ä¸ªæ–‡ä»¶æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ¨¡å—ï¼Œç„¶åå†å°†è¿™äº›<code>js</code>æ–‡ä»¶å¼•å…¥åˆ°é¡µé¢ï¼Œä¸€ä¸ª<code>script</code>æ ‡ç­¾å¯¹åº”ä¸€ä¸ªæ¨¡å—ï¼Œç„¶åè°ƒç”¨æ¨¡å—åŒ–çš„æˆå‘˜</p>
<pre><code class="ini">&lt;script src=&quot;module-a.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;module-b.js&quot;&gt;&lt;/script&gt;
</code></pre>
<p>ä½†è¿™ç§æ¨¡å—å¼Šç«¯ååˆ†çš„æ˜æ˜¾ï¼Œæ¨¡å—éƒ½æ˜¯åœ¨å…¨å±€ä¸­å·¥ä½œï¼Œå¤§é‡æ¨¡å—æˆå‘˜æ±¡æŸ“äº†ç¯å¢ƒï¼Œæ¨¡å—ä¸æ¨¡å—ä¹‹é—´å¹¶æ²¡æœ‰ä¾èµ–å…³ç³»ã€ç»´æŠ¤å›°éš¾ã€æ²¡æœ‰ç§æœ‰ç©ºé—´ç­‰é—®é¢˜</p>
<p>é¡¹ç›®ä¸€æ—¦å˜å¤§ï¼Œä¸Šè¿°é—®é¢˜ä¼šå°¤å…¶æ˜æ˜¾</p>
<p>éšåï¼Œå°±å‡ºç°äº†å‘½åç©ºé—´æ–¹å¼ï¼Œè§„å®šæ¯ä¸ªæ¨¡å—åªæš´éœ²ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œç„¶åæ¨¡å—çš„å†…å®¹éƒ½æŒ‚è½½åˆ°è¿™ä¸ªå¯¹è±¡ä¸­</p>
<pre><code class="javascript">window.moduleA = &#123;
  method1: function () &#123;
    console.log(&#39;moduleA#method1&#39;)
  &#125;
&#125;
</code></pre>
<p>è¿™ç§æ–¹å¼ä¹Ÿå¹¶æ²¡æœ‰è§£å†³ç¬¬ä¸€ç§æ–¹å¼çš„ä¾èµ–ç­‰é—®é¢˜</p>
<p>å†åæ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°ä¸ºæ¨¡å—æä¾›ç§æœ‰ç©ºé—´ï¼Œé€šè¿‡å‚æ•°çš„å½¢å¼ä½œä¸ºä¾èµ–å£°æ˜ï¼Œå¦‚ä¸‹</p>
<pre><code class="javascript">// module-a.js
(function ($) &#123;
  var name = &#39;module-a&#39;

  function method1 () &#123;
    console.log(name + &#39;#method1&#39;)
    $(&#39;body&#39;).animate(&#123; margin: &#39;200px&#39; &#125;)
  &#125;
    
  window.moduleA = &#123;
    method1: method1
  &#125;
&#125;)(jQuery)
</code></pre>
<p>ä¸Šè¿°çš„æ–¹å¼éƒ½æ˜¯æ—©æœŸè§£å†³æ¨¡å—çš„æ–¹å¼ï¼Œä½†æ˜¯ä»ç„¶å­˜åœ¨ä¸€äº›æ²¡æœ‰è§£å†³çš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æ˜¯ç”¨è¿‡<code>script</code>æ ‡ç­¾åœ¨é¡µé¢å¼•å…¥è¿™äº›æ¨¡å—çš„ï¼Œè¿™äº›æ¨¡å—çš„åŠ è½½å¹¶ä¸å—ä»£ç çš„æ§åˆ¶ï¼Œæ—¶é—´ä¸€ä¹…ç»´æŠ¤èµ·æ¥ä¹Ÿååˆ†çš„éº»çƒ¦</p>
<p>ç†æƒ³çš„è§£å†³æ–¹å¼æ˜¯ï¼Œåœ¨é¡µé¢ä¸­å¼•å…¥ä¸€ä¸ª<code>JS</code>å…¥å£æ–‡ä»¶ï¼Œå…¶ä½™ç”¨åˆ°çš„æ¨¡å—å¯ä»¥é€šè¿‡ä»£ç æ§åˆ¶ï¼ŒæŒ‰éœ€åŠ è½½è¿›æ¥</p>
<p>é™¤äº†æ¨¡å—åŠ è½½çš„é—®é¢˜ä»¥å¤–ï¼Œè¿˜éœ€è¦è§„å®šæ¨¡å—åŒ–çš„è§„èŒƒï¼Œå¦‚ä»Šæµè¡Œçš„åˆ™æ˜¯<code>CommonJS </code>ã€<code>ES Modules</code></p>
<h4 id="äºŒã€é—®é¢˜"><a href="#äºŒã€é—®é¢˜" class="headerlink" title="äºŒã€é—®é¢˜"></a>äºŒã€é—®é¢˜</h4><p>ä»åç«¯æ¸²æŸ“çš„<code>JSP</code>ã€<code>PHP</code>ï¼Œåˆ°å‰ç«¯åŸç”Ÿ<code>JavaScript</code>ï¼Œå†åˆ°<code>jQuery</code>å¼€å‘ï¼Œå†åˆ°ç›®å‰çš„ä¸‰å¤§æ¡†æ¶<code>Vue</code>ã€<code>React</code>ã€<code>Angular</code></p>
<p>å¼€å‘æ–¹å¼ï¼Œä¹Ÿä»<code>javascript</code>åˆ°åé¢çš„<code>es5</code>ã€<code>es6ã€7ã€8ã€9ã€10</code>ï¼Œå†åˆ°<code>typescript</code>ï¼ŒåŒ…æ‹¬ç¼–å†™<code>CSS</code>çš„é¢„å¤„ç†å™¨<code>less</code>ã€<code>scss</code>ç­‰</p>
<p>ç°ä»£å‰ç«¯å¼€å‘å·²ç»å˜å¾—ååˆ†çš„å¤æ‚ï¼Œæ‰€ä»¥æˆ‘ä»¬å¼€å‘è¿‡ç¨‹ä¸­ä¼šé‡åˆ°å¦‚ä¸‹çš„é—®é¢˜ï¼š</p>
<ul>
<li>éœ€è¦é€šè¿‡æ¨¡å—åŒ–çš„æ–¹å¼æ¥å¼€å‘</li>
<li>ä½¿ç”¨ä¸€äº›é«˜çº§çš„ç‰¹æ€§æ¥åŠ å¿«æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡æˆ–è€…å®‰å…¨æ€§ï¼Œæ¯”å¦‚é€šè¿‡ES6+ã€TypeScriptå¼€å‘è„šæœ¬é€»è¾‘ï¼Œé€šè¿‡sassã€lessç­‰æ–¹å¼æ¥ç¼–å†™cssæ ·å¼ä»£ç </li>
<li>ç›‘å¬æ–‡ä»¶çš„å˜åŒ–æ¥å¹¶ä¸”åæ˜ åˆ°æµè§ˆå™¨ä¸Šï¼Œæé«˜å¼€å‘çš„æ•ˆç‡</li>
<li>JavaScript ä»£ç éœ€è¦æ¨¡å—åŒ–ï¼ŒHTML å’Œ CSS è¿™äº›èµ„æºæ–‡ä»¶ä¹Ÿä¼šé¢ä¸´éœ€è¦è¢«æ¨¡å—åŒ–çš„é—®é¢˜</li>
<li>å¼€å‘å®Œæˆåæˆ‘ä»¬è¿˜éœ€è¦å°†ä»£ç è¿›è¡Œå‹ç¼©ã€åˆå¹¶ä»¥åŠå…¶ä»–ç›¸å…³çš„ä¼˜åŒ–</li>
</ul>
<p>è€Œ<code>webpack</code>æ°å·§å¯ä»¥è§£å†³ä»¥ä¸Šé—®é¢˜</p>
<h4 id="ä¸‰ã€æ˜¯ä»€ä¹ˆ"><a href="#ä¸‰ã€æ˜¯ä»€ä¹ˆ" class="headerlink" title="ä¸‰ã€æ˜¯ä»€ä¹ˆ"></a>ä¸‰ã€æ˜¯ä»€ä¹ˆ</h4><p><code>webpack</code> æ˜¯ä¸€ä¸ªç”¨äºç°ä»£<code>JavaScript</code>åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å·¥å…·</p>
<ul>
<li>é™æ€æ¨¡å—</li>
</ul>
<p>è¿™é‡Œçš„é™æ€æ¨¡å—æŒ‡çš„æ˜¯å¼€å‘é˜¶æ®µï¼Œå¯ä»¥è¢« <code>webpack</code> ç›´æ¥å¼•ç”¨çš„èµ„æºï¼ˆå¯ä»¥ç›´æ¥è¢«è·å–æ‰“åŒ…è¿›<code>bundle.js</code>çš„èµ„æºï¼‰</p>
<p>å½“ <code>webpack </code>å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šåœ¨å†…éƒ¨æ„å»ºä¸€ä¸ªä¾èµ–å›¾ï¼Œæ­¤ä¾èµ–å›¾å¯¹åº”æ˜ å°„åˆ°é¡¹ç›®æ‰€éœ€çš„æ¯ä¸ªæ¨¡å—ï¼ˆä¸å†å±€é™<code>js</code>æ–‡ä»¶ï¼‰ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ª <code>bundle</code></p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f39636531393461302d613537382d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<h5 id="webpackçš„èƒ½åŠ›ï¼š"><a href="#webpackçš„èƒ½åŠ›ï¼š" class="headerlink" title="webpackçš„èƒ½åŠ›ï¼š"></a><code>webpack</code>çš„èƒ½åŠ›ï¼š</h5><p>ç¼–è¯‘ä»£ç èƒ½åŠ›ï¼Œæé«˜æ•ˆç‡ï¼Œè§£å†³æµè§ˆå™¨å…¼å®¹é—®é¢˜<br><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f63356332643336302d613539322d313165622d616239302d6439616538313462323430642e706e67.png"><br>æ¨¡å—æ•´åˆèƒ½åŠ›ï¼Œæé«˜æ€§èƒ½ï¼Œå¯ç»´æŠ¤æ€§ï¼Œè§£å†³æµè§ˆå™¨é¢‘ç¹è¯·æ±‚æ–‡ä»¶çš„é—®é¢˜<br><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f64333036643236302d613539322d313165622d616239302d6439616538313462323430642e706e67.png"><br>ä¸‡ç‰©çš†å¯æ¨¡å—èƒ½åŠ›ï¼Œé¡¹ç›®ç»´æŠ¤æ€§å¢å¼ºï¼Œæ”¯æŒä¸åŒç§ç±»çš„å‰ç«¯æ¨¡å—ç±»å‹ï¼Œç»Ÿä¸€çš„æ¨¡å—åŒ–æ–¹æ¡ˆï¼Œæ‰€æœ‰èµ„æºæ–‡ä»¶çš„åŠ è½½éƒ½å¯ä»¥é€šè¿‡ä»£ç æ§åˆ¶<br><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65336335613034302d613539322d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-webpackçš„æ ¸å¿ƒæ€æƒ³æ˜¯ä»€ä¹ˆ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-webpackçš„æ ¸å¿ƒæ€æƒ³æ˜¯ä»€ä¹ˆ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ webpackçš„æ ¸å¿ƒæ€æƒ³æ˜¯ä»€ä¹ˆ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ webpackçš„æ ¸å¿ƒæ€æƒ³æ˜¯ä»€ä¹ˆ</h3><p>ä¸‡ç‰©çš†æ¨¡å—ï¼šåœ¨webpacckçš„ä¸–ç•Œä¸­ï¼Œå…¶ä»–ä»»ä½•èµ„æºéƒ½å¯ä»¥å½“åšæ¨¡å—çš„æ–¹å¼å¼•å…¥ </p>
<p>ä»£ç åˆ†å‰²ï¼šwebapp çš„ä¼˜åŒ–å…³é”®åœ¨äºä»£ç ä½“ç§¯ï¼Œå½“åº”ç”¨ä½“ç§¯å¢å¤§ï¼Œå®ç°ä»£ç çš„æŒ‰éœ€åŠ è½½æ˜¯åˆšéœ€ï¼Œè¿™ä¹Ÿæ˜¯ webpack å‡ºç°çš„æ ¹æœ¬åŸå›  </p>
<p>å¯å®šåˆ¶åŒ–ï¼šä»»ä½•ä¸€ä¸ªå·¥å…·éƒ½ä¸å¯èƒ½è§£å†³æ‰€æœ‰é—®é¢˜ï¼Œæä¾›è§£å†³æ–¹æ¡ˆæ‰æ˜¯æœ€å¯è¡Œçš„ï¼ŒwebpackåŸºäºå¯å®šåˆ¶åŒ–çš„ç†å¿µæ„å»ºï¼Œé€šè¿‡æ’ä»¶ç³»ç»Ÿï¼Œé…ç½®æ–‡ä»¶ï¼Œå¯å®ç°å¤§å‹é¡¹ç›®çš„å®šåˆ¶éœ€æ±‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´è¯´webpackçš„æ„å»ºæµç¨‹"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´è¯´webpackçš„æ„å»ºæµç¨‹" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´è¯´webpackçš„æ„å»ºæµç¨‹?"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´è¯´webpackçš„æ„å»ºæµç¨‹?</h3><h4 id="ä¸€ã€è¿è¡Œæµç¨‹"><a href="#ä¸€ã€è¿è¡Œæµç¨‹" class="headerlink" title="ä¸€ã€è¿è¡Œæµç¨‹"></a>ä¸€ã€è¿è¡Œæµç¨‹</h4><p><code>webpack</code> çš„è¿è¡Œæµç¨‹æ˜¯ä¸€ä¸ªä¸²è¡Œçš„è¿‡ç¨‹ï¼Œå®ƒçš„å·¥ä½œæµç¨‹å°±æ˜¯å°†å„ä¸ªæ’ä»¶ä¸²è”èµ·æ¥</p>
<p>åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¼šå¹¿æ’­äº‹ä»¶ï¼Œæ’ä»¶åªéœ€è¦ç›‘å¬å®ƒæ‰€å…³å¿ƒçš„äº‹ä»¶ï¼Œå°±èƒ½åŠ å…¥åˆ°è¿™æ¡<code>webpack</code>æœºåˆ¶ä¸­ï¼Œå»æ”¹å˜<code>webpack</code>çš„è¿ä½œï¼Œä½¿å¾—æ•´ä¸ªç³»ç»Ÿæ‰©å±•æ€§è‰¯å¥½</p>
<p>ä»å¯åŠ¨åˆ°ç»“æŸä¼šä¾æ¬¡æ‰§è¡Œä»¥ä¸‹ä¸‰å¤§æ­¥éª¤ï¼š</p>
<ul>
<li>åˆå§‹åŒ–æµç¨‹ï¼šä»é…ç½®æ–‡ä»¶å’Œ <code>Shell</code> è¯­å¥ä¸­è¯»å–ä¸åˆå¹¶å‚æ•°ï¼Œå¹¶åˆå§‹åŒ–éœ€è¦ä½¿ç”¨çš„æ’ä»¶å’Œé…ç½®æ’ä»¶ç­‰æ‰§è¡Œç¯å¢ƒæ‰€éœ€è¦çš„å‚æ•°</li>
<li>ç¼–è¯‘æ„å»ºæµç¨‹ï¼šä» Entry å‘å‡ºï¼Œé’ˆå¯¹æ¯ä¸ª Module ä¸²è¡Œè°ƒç”¨å¯¹åº”çš„ Loader å»ç¿»è¯‘æ–‡ä»¶å†…å®¹ï¼Œå†æ‰¾åˆ°è¯¥ Module ä¾èµ–çš„ Moduleï¼Œé€’å½’åœ°è¿›è¡Œç¼–è¯‘å¤„ç†</li>
<li>è¾“å‡ºæµç¨‹ï¼šå¯¹ç¼–è¯‘åçš„ Module ç»„åˆæˆ Chunkï¼ŒæŠŠ Chunk è½¬æ¢æˆæ–‡ä»¶ï¼Œè¾“å‡ºåˆ°æ–‡ä»¶ç³»ç»Ÿ</li>
</ul>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f62353636643430302d613635382d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<h5 id="åˆå§‹åŒ–æµç¨‹"><a href="#åˆå§‹åŒ–æµç¨‹" class="headerlink" title="åˆå§‹åŒ–æµç¨‹"></a>åˆå§‹åŒ–æµç¨‹</h5><p>ä»é…ç½®æ–‡ä»¶å’Œ <code>Shell</code> è¯­å¥ä¸­è¯»å–ä¸åˆå¹¶å‚æ•°ï¼Œå¾—å‡ºæœ€ç»ˆçš„å‚æ•°</p>
<p>é…ç½®æ–‡ä»¶é»˜è®¤ä¸‹ä¸º<code>webpack.config.js</code>ï¼Œä¹Ÿæˆ–è€…é€šè¿‡å‘½ä»¤çš„å½¢å¼æŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œä¸»è¦ä½œç”¨æ˜¯ç”¨äºæ¿€æ´»<code>webpack</code>çš„åŠ è½½é¡¹å’Œæ’ä»¶</p>
<p>å…³äºæ–‡ä»¶é…ç½®å†…å®¹åˆ†æï¼Œå¦‚ä¸‹æ³¨é‡Šï¼š</p>
<pre><code class="javascript">var path = require(&#39;path&#39;);
var node_modules = path.resolve(__dirname, &#39;node_modules&#39;);
var pathToReact = path.resolve(node_modules, &#39;react/dist/react.min.js&#39;);

module.exports = &#123;
  // å…¥å£æ–‡ä»¶ï¼Œæ˜¯æ¨¡å—æ„å»ºçš„èµ·ç‚¹ï¼ŒåŒæ—¶æ¯ä¸€ä¸ªå…¥å£æ–‡ä»¶å¯¹åº”æœ€åç”Ÿæˆçš„ä¸€ä¸ª chunkã€‚
  entry: &#39;./path/to/my/entry/file.js&#39;ï¼Œ
  // æ–‡ä»¶è·¯å¾„æŒ‡å‘(å¯åŠ å¿«æ‰“åŒ…è¿‡ç¨‹)ã€‚
  resolve: &#123;
    alias: &#123;
      &#39;react&#39;: pathToReact
    &#125;
  &#125;,
  // ç”Ÿæˆæ–‡ä»¶ï¼Œæ˜¯æ¨¡å—æ„å»ºçš„ç»ˆç‚¹ï¼ŒåŒ…æ‹¬è¾“å‡ºæ–‡ä»¶ä¸è¾“å‡ºè·¯å¾„ã€‚
  output: &#123;
    path: path.resolve(__dirname, &#39;build&#39;),
    filename: &#39;[name].js&#39;
  &#125;,
  // è¿™é‡Œé…ç½®äº†å¤„ç†å„æ¨¡å—çš„ loader ï¼ŒåŒ…æ‹¬ css é¢„å¤„ç† loader ï¼Œes6 ç¼–è¯‘ loaderï¼Œå›¾ç‰‡å¤„ç† loaderã€‚
  module: &#123;
    loaders: [
      &#123;
        test: /\.js$/,
        loader: &#39;babel&#39;,
        query: &#123;
          presets: [&#39;es2015&#39;, &#39;react&#39;]
        &#125;
      &#125;
    ],
    noParse: [pathToReact]
  &#125;,
  // webpack å„æ’ä»¶å¯¹è±¡ï¼Œåœ¨ webpack çš„äº‹ä»¶æµä¸­æ‰§è¡Œå¯¹åº”çš„æ–¹æ³•ã€‚
  plugins: [
    new webpack.HotModuleReplacementPlugin()
  ]
&#125;;
webpack` å°† `webpack.config.js` ä¸­çš„å„ä¸ªé…ç½®é¡¹æ‹·è´åˆ° `options` å¯¹è±¡ä¸­ï¼Œå¹¶åŠ è½½ç”¨æˆ·é…ç½®çš„ `plugins
</code></pre>
<p>å®Œæˆä¸Šè¿°æ­¥éª¤ä¹‹åï¼Œåˆ™å¼€å§‹åˆå§‹åŒ–<code>Compiler</code>ç¼–è¯‘å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æŒæ§è€…<code>webpack</code>å£°æ˜å‘¨æœŸï¼Œä¸æ‰§è¡Œå…·ä½“çš„ä»»åŠ¡ï¼Œåªæ˜¯è¿›è¡Œä¸€äº›è°ƒåº¦å·¥ä½œ</p>
<pre><code class="javascript">class Compiler extends Tapable &#123;
    constructor(context) &#123;
        super();
        this.hooks = &#123;
            beforeCompile: new AsyncSeriesHook([&quot;params&quot;]),
            compile: new SyncHook([&quot;params&quot;]),
            afterCompile: new AsyncSeriesHook([&quot;compilation&quot;]),
            make: new AsyncParallelHook([&quot;compilation&quot;]),
            entryOption: new SyncBailHook([&quot;context&quot;, &quot;entry&quot;])
            // å®šä¹‰äº†å¾ˆå¤šä¸åŒç±»å‹çš„é’©å­
        &#125;;
        // ...
    &#125;
&#125;

function webpack(options) &#123;
  var compiler = new Compiler();
  ...// æ£€æŸ¥options,è‹¥watchå­—æ®µä¸ºtrue,åˆ™å¼€å¯watchçº¿ç¨‹
  return compiler;
&#125;
...
</code></pre>
<p><code>Compiler</code> å¯¹è±¡ç»§æ‰¿è‡ª <code>Tapable</code>ï¼Œåˆå§‹åŒ–æ—¶å®šä¹‰äº†å¾ˆå¤šé’©å­å‡½æ•°</p>
<h5 id="ç¼–è¯‘æ„å»ºæµç¨‹"><a href="#ç¼–è¯‘æ„å»ºæµç¨‹" class="headerlink" title="ç¼–è¯‘æ„å»ºæµç¨‹"></a>ç¼–è¯‘æ„å»ºæµç¨‹</h5><p>æ ¹æ®é…ç½®ä¸­çš„ <code>entry</code> æ‰¾å‡ºæ‰€æœ‰çš„å…¥å£æ–‡ä»¶</p>
<pre><code class="javascript">module.exports = &#123;
  entry: &#39;./src/file.js&#39;
&#125;
</code></pre>
<p>åˆå§‹åŒ–å®Œæˆåä¼šè°ƒç”¨<code>Compiler</code>çš„<code>run</code>æ¥çœŸæ­£å¯åŠ¨<code>webpack</code>ç¼–è¯‘æ„å»ºæµç¨‹ï¼Œä¸»è¦æµç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>compile</code> å¼€å§‹ç¼–è¯‘</li>
<li><code>make</code> ä»å…¥å£ç‚¹åˆ†ææ¨¡å—åŠå…¶ä¾èµ–çš„æ¨¡å—ï¼Œåˆ›å»ºè¿™äº›æ¨¡å—å¯¹è±¡</li>
<li><code>build-module</code> æ„å»ºæ¨¡å—</li>
<li><code>seal</code> å°è£…æ„å»ºç»“æœ</li>
<li><code>emit</code> æŠŠå„ä¸ªchunkè¾“å‡ºåˆ°ç»“æœæ–‡ä»¶</li>
</ul>
<h5 id="compile-ç¼–è¯‘"><a href="#compile-ç¼–è¯‘" class="headerlink" title="compile ç¼–è¯‘"></a>compile ç¼–è¯‘</h5><p>æ‰§è¡Œäº†<code>run</code>æ–¹æ³•åï¼Œé¦–å…ˆä¼šè§¦å‘<code>compile</code>ï¼Œä¸»è¦æ˜¯æ„å»ºä¸€ä¸ª<code>Compilation</code>å¯¹è±¡</p>
<p>è¯¥å¯¹è±¡æ˜¯ç¼–è¯‘é˜¶æ®µçš„ä¸»è¦æ‰§è¡Œè€…ï¼Œä¸»è¦ä¼šä¾æ¬¡ä¸‹è¿°æµç¨‹ï¼šæ‰§è¡Œæ¨¡å—åˆ›å»ºã€ä¾èµ–æ”¶é›†ã€åˆ†å—ã€æ‰“åŒ…ç­‰ä¸»è¦ä»»åŠ¡çš„å¯¹è±¡</p>
<h5 id="make-ç¼–è¯‘æ¨¡å—"><a href="#make-ç¼–è¯‘æ¨¡å—" class="headerlink" title="make ç¼–è¯‘æ¨¡å—"></a>make ç¼–è¯‘æ¨¡å—</h5><p>å½“å®Œæˆäº†ä¸Šè¿°çš„<code>compilation</code>å¯¹è±¡åï¼Œå°±å¼€å§‹ä»<code>Entry</code>å…¥å£æ–‡ä»¶å¼€å§‹è¯»å–ï¼Œä¸»è¦æ‰§è¡Œ<code>_addModuleChain()</code>å‡½æ•°ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">_addModuleChain(context, dependency, onModule, callback) &#123;
   ...
   // æ ¹æ®ä¾èµ–æŸ¥æ‰¾å¯¹åº”çš„å·¥å‚å‡½æ•°
   const Dep = /** @type &#123;DepConstructor&#125; */ (dependency.constructor);
   const moduleFactory = this.dependencyFactories.get(Dep);
   
   // è°ƒç”¨å·¥å‚å‡½æ•°NormalModuleFactoryçš„createæ¥ç”Ÿæˆä¸€ä¸ªç©ºçš„NormalModuleå¯¹è±¡
   moduleFactory.create(&#123;
       dependencies: [dependency]
       ...
   &#125;, (err, module) =&gt; &#123;
       ...
       const afterBuild = () =&gt; &#123;
        this.processModuleDependencies(module, err =&gt; &#123;
         if (err) return callback(err);
         callback(null, module);
           &#125;);
    &#125;;
       
       this.buildModule(module, false, null, null, err =&gt; &#123;
           ...
           afterBuild();
       &#125;)
   &#125;)
&#125;
</code></pre>
<p>è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<p><code>_addModuleChain</code>ä¸­æ¥æ”¶å‚æ•°<code>dependency</code>ä¼ å…¥çš„å…¥å£ä¾èµ–ï¼Œä½¿ç”¨å¯¹åº”çš„å·¥å‚å‡½æ•°<code>NormalModuleFactory.create</code>æ–¹æ³•ç”Ÿæˆä¸€ä¸ªç©ºçš„<code>module</code>å¯¹è±¡</p>
<p>å›è°ƒä¸­ä¼šæŠŠæ­¤<code>module</code>å­˜å…¥<code>compilation.modules</code>å¯¹è±¡å’Œ<code>dependencies.module</code>å¯¹è±¡ä¸­ï¼Œç”±äºæ˜¯å…¥å£æ–‡ä»¶ï¼Œä¹Ÿä¼šå­˜å…¥<code>compilation.entries</code>ä¸­</p>
<p>éšåæ‰§è¡Œ<code>buildModule</code>è¿›å…¥çœŸæ­£çš„æ„å»ºæ¨¡å—<code>module</code>å†…å®¹çš„è¿‡ç¨‹</p>
<h5 id="build-module-å®Œæˆæ¨¡å—ç¼–è¯‘"><a href="#build-module-å®Œæˆæ¨¡å—ç¼–è¯‘" class="headerlink" title="build module å®Œæˆæ¨¡å—ç¼–è¯‘"></a>build module å®Œæˆæ¨¡å—ç¼–è¯‘</h5><p>è¿™é‡Œä¸»è¦è°ƒç”¨é…ç½®çš„<code>loaders</code>ï¼Œå°†æˆ‘ä»¬çš„æ¨¡å—è½¬æˆæ ‡å‡†çš„<code>JS</code>æ¨¡å—</p>
<p>åœ¨ç”¨<code> Loader</code> å¯¹ä¸€ä¸ªæ¨¡å—è½¬æ¢å®Œåï¼Œä½¿ç”¨ <code>acorn</code> è§£æè½¬æ¢åçš„å†…å®¹ï¼Œè¾“å‡ºå¯¹åº”çš„æŠ½è±¡è¯­æ³•æ ‘ï¼ˆ<code>AST</code>ï¼‰ï¼Œä»¥æ–¹ä¾¿ <code>Webpack </code>åé¢å¯¹ä»£ç çš„åˆ†æ</p>
<p>ä»é…ç½®çš„å…¥å£æ¨¡å—å¼€å§‹ï¼Œåˆ†æå…¶ <code>AST</code>ï¼Œå½“é‡åˆ°<code>require</code>ç­‰å¯¼å…¥å…¶å®ƒæ¨¡å—è¯­å¥æ—¶ï¼Œä¾¿å°†å…¶åŠ å…¥åˆ°ä¾èµ–çš„æ¨¡å—åˆ—è¡¨ï¼ŒåŒæ—¶å¯¹æ–°æ‰¾å‡ºçš„ä¾èµ–æ¨¡å—é€’å½’åˆ†æï¼Œæœ€ç»ˆææ¸…æ‰€æœ‰æ¨¡å—çš„ä¾èµ–å…³ç³»</p>
<h5 id="è¾“å‡ºæµç¨‹"><a href="#è¾“å‡ºæµç¨‹" class="headerlink" title="è¾“å‡ºæµç¨‹"></a>è¾“å‡ºæµç¨‹</h5><h5 id="seal-è¾“å‡ºèµ„æº"><a href="#seal-è¾“å‡ºèµ„æº" class="headerlink" title="seal è¾“å‡ºèµ„æº"></a>seal è¾“å‡ºèµ„æº</h5><p><code>seal</code>æ–¹æ³•ä¸»è¦æ˜¯è¦ç”Ÿæˆ<code>chunks</code>ï¼Œå¯¹<code>chunks</code>è¿›è¡Œä¸€ç³»åˆ—çš„ä¼˜åŒ–æ“ä½œï¼Œå¹¶ç”Ÿæˆè¦è¾“å‡ºçš„ä»£ç </p>
<p><code>webpack</code> ä¸­çš„ <code>chunk</code> ï¼Œå¯ä»¥ç†è§£ä¸ºé…ç½®åœ¨ <code>entry</code> ä¸­çš„æ¨¡å—ï¼Œæˆ–è€…æ˜¯åŠ¨æ€å¼•å…¥çš„æ¨¡å—</p>
<p>æ ¹æ®å…¥å£å’Œæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œç»„è£…æˆä¸€ä¸ªä¸ªåŒ…å«å¤šä¸ªæ¨¡å—çš„ <code>Chunk</code>ï¼Œå†æŠŠæ¯ä¸ª <code>Chunk</code> è½¬æ¢æˆä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶åŠ å…¥åˆ°è¾“å‡ºåˆ—è¡¨</p>
<h5 id="emit-è¾“å‡ºå®Œæˆ"><a href="#emit-è¾“å‡ºå®Œæˆ" class="headerlink" title="emit è¾“å‡ºå®Œæˆ"></a>emit è¾“å‡ºå®Œæˆ</h5><p>åœ¨ç¡®å®šå¥½è¾“å‡ºå†…å®¹åï¼Œæ ¹æ®é…ç½®ç¡®å®šè¾“å‡ºçš„è·¯å¾„å’Œæ–‡ä»¶å</p>
<pre><code class="javascript">output: &#123;
    path: path.resolve(__dirname, &#39;build&#39;),
        filename: &#39;[name].js&#39;
&#125;
</code></pre>
<p>åœ¨ <code>Compiler</code> å¼€å§‹ç”Ÿæˆæ–‡ä»¶å‰ï¼Œé’©å­ <code>emit</code> ä¼šè¢«æ‰§è¡Œï¼Œè¿™æ˜¯æˆ‘ä»¬ä¿®æ”¹æœ€ç»ˆæ–‡ä»¶çš„æœ€åä¸€ä¸ªæœºä¼š</p>
<p>ä»è€Œ<code>webpack</code>æ•´ä¸ªæ‰“åŒ…è¿‡ç¨‹åˆ™ç»“æŸäº†</p>
<h4 id="å°ç»“-1"><a href="#å°ç»“-1" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f64373766633536302d613635382d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-Loaderå’ŒPluginçš„åŒºåˆ«"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-Loaderå’ŒPluginçš„åŒºåˆ«" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸  Loaderå’ŒPluginçš„åŒºåˆ«"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸  Loaderå’ŒPluginçš„åŒºåˆ«</h3><h4 id="loaderæ˜¯ä¸€ä¸ªè½¬æ¢å™¨"><a href="#loaderæ˜¯ä¸€ä¸ªè½¬æ¢å™¨" class="headerlink" title="loaderæ˜¯ä¸€ä¸ªè½¬æ¢å™¨"></a>loaderæ˜¯ä¸€ä¸ªè½¬æ¢å™¨</h4><p>1ã€ç”¨äºå¯¹æ¨¡å—æºç æ–‡ä»¶çš„é¢„ç¼–è¯‘å’Œè½¬æ¢ï¼Œï¼Œloaderæè¿°äº†webpackå¦‚ä½•å¤„ç†éjavascriptæ¨¡å—ã€‚</p>
<p>2ã€æ²¡æœ‰loaderï¼Œæ„å»ºçš„æ‰“åŒ…è¿‡ç¨‹æ— æ³•é¡ºåˆ©å®Œæˆ</p>
<p>3ã€loaderä½œç”¨åœ¨æ‰“åŒ…å‰</p>
<p>4ã€å°†Aæ–‡ä»¶è½¬æ¢ä¸ºBæ–‡ä»¶ï¼Œæ“ä½œçš„æ˜¯æ–‡ä»¶ï¼Œæ¯”å¦‚å°†A.scssè½¬æ¢ä¸ºA.cssï¼Œæ˜¯å•çº¯çš„æ–‡ä»¶è½¬æ¢è¿‡ç¨‹</p>
<h4 id="Pluginæ˜¯æ’ä»¶æ‰©å±•å™¨"><a href="#Pluginæ˜¯æ’ä»¶æ‰©å±•å™¨" class="headerlink" title="Pluginæ˜¯æ’ä»¶æ‰©å±•å™¨"></a>Pluginæ˜¯æ’ä»¶æ‰©å±•å™¨</h4><p>1ã€pluginæ„å»ºè¿‡ç¨‹æ›´å®Œæ•´çš„è¡¥å……å’Œä¼˜åŒ–ï¼Œå¦‚ä½¿ç”¨new UglifyJsPlugin(),new CssMinimizerPlugin()å‹ç¼©jså’Œcss</p>
<p>2ã€æ²¡æœ‰pluginï¼Œæ–‡ä»¶çš„æ‰“åŒ…è¿‡ç¨‹å¯ä»¥å®Œæˆ</p>
<p>3ã€pluginä½œç”¨äºæ•´ä¸ªæ‰“åŒ…è¿‡ç¨‹ï¼Œ</p>
<p>4ã€é’ˆå¯¹webpackçš„æ‰“åŒ…è¿‡ç¨‹ï¼Œä»–ä¸ç›´æ¥æ“ä½œæ–‡ä»¶ï¼Œè€Œæ˜¯åŸºäºäº‹ä»¶æœºåˆ¶å·¥ä½œï¼Œä¼šç›‘å¬webpackæ‰“åŒ…è¿‡ç¨‹çš„äº‹ä»¶é’©å­ï¼Œæ‰§è¡Œä»»åŠ¡ï¼Œé€šè¿‡äº‹ä»¶é’©å­æ‹¦æˆªwebpackçš„æ‰§è¡Œã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-æœ‰å“ªäº›å¸¸è§çš„Loader"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-æœ‰å“ªäº›å¸¸è§çš„Loader" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ æœ‰å“ªäº›å¸¸è§çš„Loader"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ æœ‰å“ªäº›å¸¸è§çš„Loader</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p><code>loader</code> ç”¨äºå¯¹æ¨¡å—çš„â€æºä»£ç â€è¿›è¡Œè½¬æ¢ï¼Œåœ¨ <code>import</code> æˆ–â€åŠ è½½â€æ¨¡å—æ—¶é¢„å¤„ç†æ–‡ä»¶</p>
<p><code>webpack</code>åšçš„äº‹æƒ…ï¼Œä»…ä»…æ˜¯åˆ†æå‡ºå„ç§æ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œç„¶åå½¢æˆèµ„æºåˆ—è¡¨ï¼Œæœ€ç»ˆæ‰“åŒ…ç”Ÿæˆåˆ°æŒ‡å®šçš„æ–‡ä»¶ä¸­ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f37623864393634302d613666662d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<p>åœ¨<code>webpack</code>å†…éƒ¨ä¸­ï¼Œä»»ä½•æ–‡ä»¶éƒ½æ˜¯æ¨¡å—ï¼Œä¸ä»…ä»…åªæ˜¯<code>js</code>æ–‡ä»¶</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨é‡åˆ°<code>import</code>æˆ–è€…<code>load</code>åŠ è½½æ¨¡å—çš„æ—¶å€™ï¼Œ<code>webpack</code>åªæ”¯æŒå¯¹<code>js</code>æ–‡ä»¶æ‰“åŒ…</p>
<p>åƒ<code>css</code>ã€<code>sass</code>ã€<code>png</code>ç­‰è¿™äº›ç±»å‹çš„æ–‡ä»¶çš„æ—¶å€™ï¼Œ<code>webpack</code>åˆ™æ— èƒ½ä¸ºåŠ›ï¼Œè¿™æ—¶å€™å°±éœ€è¦é…ç½®å¯¹åº”çš„<code>loader</code>è¿›è¡Œæ–‡ä»¶å†…å®¹çš„è§£æ</p>
<p>åœ¨åŠ è½½æ¨¡å—çš„æ—¶å€™ï¼Œæ‰§è¡Œé¡ºåºå¦‚ä¸‹ï¼š</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f39633263343362302d613666662d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>å½“ <code>webpack</code> ç¢°åˆ°ä¸è¯†åˆ«çš„æ¨¡å—çš„æ—¶å€™ï¼Œ<code>webpack</code> ä¼šåœ¨é…ç½®çš„ä¸­æŸ¥æ‰¾è¯¥æ–‡ä»¶è§£æè§„åˆ™</p>
<p>å…³äºé…ç½®<code>loader</code>çš„æ–¹å¼æœ‰ä¸‰ç§ï¼š</p>
<ul>
<li>é…ç½®æ–¹å¼ï¼ˆæ¨èï¼‰ï¼šåœ¨ webpack.config.jsæ–‡ä»¶ä¸­æŒ‡å®š loader</li>
<li>å†…è”æ–¹å¼ï¼šåœ¨æ¯ä¸ª import è¯­å¥ä¸­æ˜¾å¼æŒ‡å®š loader</li>
<li>CLI æ–¹å¼ï¼šåœ¨ shell å‘½ä»¤ä¸­æŒ‡å®šå®ƒä»¬</li>
</ul>
<h5 id="é…ç½®æ–¹å¼"><a href="#é…ç½®æ–¹å¼" class="headerlink" title="é…ç½®æ–¹å¼"></a>é…ç½®æ–¹å¼</h5><p>å…³äº<code>loader</code>çš„é…ç½®ï¼Œæˆ‘ä»¬æ˜¯å†™åœ¨<code>module.rules</code>å±æ€§ä¸­ï¼Œå±æ€§ä»‹ç»å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>rules</code>æ˜¯ä¸€ä¸ªæ•°ç»„çš„å½¢å¼ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é…ç½®å¾ˆå¤šä¸ª<code>loader</code></li>
<li>æ¯ä¸€ä¸ª<code>loader</code>å¯¹åº”ä¸€ä¸ªå¯¹è±¡çš„å½¢å¼ï¼Œå¯¹è±¡å±æ€§<code>test</code> ä¸ºåŒ¹é…çš„è§„åˆ™ï¼Œä¸€èˆ¬æƒ…å†µä¸ºæ­£åˆ™è¡¨è¾¾å¼</li>
<li>å±æ€§<code>use</code>é’ˆå¯¹åŒ¹é…åˆ°æ–‡ä»¶ç±»å‹ï¼Œè°ƒç”¨å¯¹åº”çš„ <code>loader</code> è¿›è¡Œå¤„ç†</li>
</ul>
<p>ä»£ç ç¼–å†™ï¼Œå¦‚ä¸‹å½¢å¼ï¼š</p>
<pre><code class="javascript">module.exports = &#123;
  module: &#123;
    rules: [
      &#123;
        test: /\.css$/,
        use: [
          &#123; loader: &#39;style-loader&#39; &#125;,
          &#123;
            loader: &#39;css-loader&#39;,
            options: &#123;
              modules: true
            &#125;
          &#125;,
          &#123; loader: &#39;sass-loader&#39; &#125;
        ]
      &#125;
    ]
  &#125;
&#125;;
</code></pre>
<h4 id="äºŒã€ç‰¹æ€§"><a href="#äºŒã€ç‰¹æ€§" class="headerlink" title="äºŒã€ç‰¹æ€§"></a>äºŒã€ç‰¹æ€§</h4><p>è¿™é‡Œç»§ç»­æ‹¿ä¸Šè¿°ä»£ç ï¼Œæ¥è®²è®²<code>loader</code>çš„ç‰¹æ€§</p>
<p>ä»ä¸Šè¿°ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œåœ¨å¤„ç†<code>css</code>æ¨¡å—çš„æ—¶å€™ï¼Œ<code>use</code>å±æ€§ä¸­é…ç½®äº†ä¸‰ä¸ª<code>loader</code>åˆ†åˆ«å¤„ç†<code>css</code>æ–‡ä»¶</p>
<p>å› ä¸º<code>loader </code>æ”¯æŒé“¾å¼è°ƒç”¨ï¼Œé“¾ä¸­çš„æ¯ä¸ª<code>loader</code>ä¼šå¤„ç†ä¹‹å‰å·²å¤„ç†è¿‡çš„èµ„æºï¼Œæœ€ç»ˆå˜ä¸º<code>js</code>ä»£ç ã€‚é¡ºåºä¸ºç›¸åçš„é¡ºåºæ‰§è¡Œï¼Œå³ä¸Šè¿°æ‰§è¡Œæ–¹å¼ä¸º<code>sass-loader</code>ã€<code>css-loader</code>ã€<code>style-loader</code></p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œ<code>loader</code>çš„ç‰¹æ€§è¿˜æœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>loader å¯ä»¥æ˜¯åŒæ­¥çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯å¼‚æ­¥çš„</li>
<li>loader è¿è¡Œåœ¨ Node.js ä¸­ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ‰§è¡Œä»»ä½•æ“ä½œ</li>
<li>é™¤äº†å¸¸è§çš„é€šè¿‡ <code>package.json</code> çš„ <code>main</code> æ¥å°†ä¸€ä¸ª npm æ¨¡å—å¯¼å‡ºä¸º loaderï¼Œè¿˜å¯ä»¥åœ¨ module.rules ä¸­ä½¿ç”¨ <code>loader</code> å­—æ®µç›´æ¥å¼•ç”¨ä¸€ä¸ªæ¨¡å—</li>
<li>æ’ä»¶(plugin)å¯ä»¥ä¸º loader å¸¦æ¥æ›´å¤šç‰¹æ€§</li>
<li>loader èƒ½å¤Ÿäº§ç”Ÿé¢å¤–çš„ä»»æ„æ–‡ä»¶</li>
</ul>
<p>å¯ä»¥é€šè¿‡ loader çš„é¢„å¤„ç†å‡½æ•°ï¼Œä¸º JavaScript ç”Ÿæ€ç³»ç»Ÿæä¾›æ›´å¤šèƒ½åŠ›ã€‚ç”¨æˆ·ç°åœ¨å¯ä»¥æ›´åŠ çµæ´»åœ°å¼•å…¥ç»†ç²’åº¦é€»è¾‘ï¼Œä¾‹å¦‚ï¼šå‹ç¼©ã€æ‰“åŒ…ã€è¯­è¨€ç¿»è¯‘å’Œæ›´å¤šå…¶ä»–ç‰¹æ€§</p>
<h4 id="ä¸‰ã€å¸¸è§çš„loader"><a href="#ä¸‰ã€å¸¸è§çš„loader" class="headerlink" title="ä¸‰ã€å¸¸è§çš„loader"></a>ä¸‰ã€å¸¸è§çš„loader</h4><p>åœ¨é¡µé¢å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸æ€§åŠ è½½é™¤äº†<code>js</code>æ–‡ä»¶ä»¥å¤–çš„å†…å®¹ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦é…ç½®å“åº”çš„<code>loader</code>è¿›è¡ŒåŠ è½½</p>
<p>å¸¸è§çš„<code>loader</code>å¦‚ä¸‹ï¼š</p>
<ul>
<li>style-loader: å°†cssæ·»åŠ åˆ°DOMçš„å†…è”æ ·å¼æ ‡ç­¾styleé‡Œ</li>
<li>css-loader :å…è®¸å°†cssæ–‡ä»¶é€šè¿‡requireçš„æ–¹å¼å¼•å…¥ï¼Œå¹¶è¿”å›cssä»£ç </li>
<li>less-loader: å¤„ç†less</li>
<li>sass-loader: å¤„ç†sass</li>
<li>postcss-loader: ç”¨postcssæ¥å¤„ç†CSS</li>
<li>autoprefixer-loader: å¤„ç†CSS3å±æ€§å‰ç¼€ï¼Œå·²è¢«å¼ƒç”¨ï¼Œå»ºè®®ç›´æ¥ä½¿ç”¨postcss</li>
<li>file-loader: åˆ†å‘æ–‡ä»¶åˆ°outputç›®å½•å¹¶è¿”å›ç›¸å¯¹è·¯å¾„</li>
<li>url-loader: å’Œfile-loaderç±»ä¼¼ï¼Œä½†æ˜¯å½“æ–‡ä»¶å°äºè®¾å®šçš„limitæ—¶å¯ä»¥è¿”å›ä¸€ä¸ªData Url</li>
<li>html-minify-loader: å‹ç¼©HTML</li>
<li>babel-loader :ç”¨babelæ¥è½¬æ¢ES6æ–‡ä»¶åˆ°ES</li>
</ul>
<p>ä¸‹é¢ç»™å‡ºä¸€äº›å¸¸è§çš„<code>loader</code>çš„ä½¿ç”¨ï¼š</p>
<h5 id="css-loader"><a href="#css-loader" class="headerlink" title="css-loader"></a>css-loader</h5><p>åˆ†æ <code>css</code> æ¨¡å—ä¹‹é—´çš„å…³ç³»ï¼Œå¹¶åˆæˆâ¼€ä¸ª <code>css</code></p>
<pre><code class="javascript">npm install --save-dev css-loader
rules: [
  ...,
 &#123;
  test: /\.css$/,
    use: &#123;
      loader: &quot;css-loader&quot;,
      options: &#123;
     // å¯ç”¨/ç¦ç”¨ url() å¤„ç†
     url: true,
     // å¯ç”¨/ç¦ç”¨ @import å¤„ç†
     import: true,
        // å¯ç”¨/ç¦ç”¨ Sourcemap
        sourceMap: false
      &#125;
    &#125;
 &#125;
]
</code></pre>
<p>å¦‚æœåªé€šè¿‡<code>css-loader</code>åŠ è½½æ–‡ä»¶ï¼Œè¿™æ—¶å€™é¡µé¢ä»£ç è®¾ç½®çš„æ ·å¼å¹¶æ²¡æœ‰ç”Ÿæ•ˆ</p>
<p>åŸå› åœ¨äºï¼Œ<code>css-loader</code>åªæ˜¯è´Ÿè´£å°†<code>.css</code>æ–‡ä»¶è¿›è¡Œä¸€ä¸ªè§£æï¼Œè€Œå¹¶ä¸ä¼šå°†è§£æåçš„<code>css</code>æ’å…¥åˆ°é¡µé¢ä¸­</p>
<p>å¦‚æœæˆ‘ä»¬å¸Œæœ›å†å®Œæˆæ’å…¥<code>style</code>çš„æ“ä½œï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦å¦å¤–ä¸€ä¸ª<code>loader</code>ï¼Œå°±æ˜¯<code>style-loader</code></p>
<h5 id="style-loader"><a href="#style-loader" class="headerlink" title="style-loader"></a>style-loader</h5><p>æŠŠ <code>css-loader</code> ç”Ÿæˆçš„å†…å®¹ï¼Œç”¨ <code>style</code> æ ‡ç­¾æŒ‚è½½åˆ°é¡µé¢çš„ <code>head</code> ä¸­</p>
<pre><code class="javascript">npm install --save-dev style-loader
rules: [
  ...,
 &#123;
  test: /\.css$/,
    use: [&quot;style-loader&quot;, &quot;css-loader&quot;]
 &#125;
]
</code></pre>
<p>åŒä¸€ä¸ªä»»åŠ¡çš„ <code>loader</code> å¯ä»¥åŒæ—¶æŒ‚è½½å¤šä¸ªï¼Œå¤„ç†é¡ºåºä¸ºï¼šä»å³åˆ°å·¦ï¼Œä»ä¸‹å¾€ä¸Š</p>
<h5 id="less-loader"><a href="#less-loader" class="headerlink" title="less-loader"></a>less-loader</h5><p>å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¸¸å¸¸ä¼šä½¿ç”¨<code>less</code>ã€<code>sass</code>ã€<code>stylus</code>é¢„å¤„ç†å™¨ç¼–å†™<code>css</code>æ ·å¼ï¼Œä½¿å¼€å‘æ•ˆç‡æé«˜ï¼Œè¿™é‡Œéœ€è¦ä½¿ç”¨<code>less-loader</code></p>
<pre><code class="javascript">npm install less-loader -D
rules: [
  ...,
 &#123;
  test: /\.css$/,
    use: [&quot;style-loader&quot;, &quot;css-loader&quot;,&quot;less-loader&quot;]
 &#125;
]
</code></pre>
<h5 id="raw-loader"><a href="#raw-loader" class="headerlink" title="raw-loader"></a>raw-loader</h5><p>åœ¨ <code>webpack </code>ä¸­é€šè¿‡ <code>import </code>æ–¹å¼å¯¼å…¥æ–‡ä»¶å†…å®¹ï¼Œè¯¥<code>loader </code>å¹¶ä¸æ˜¯å†…ç½®çš„ï¼Œæ‰€ä»¥é¦–å…ˆè¦å®‰è£…</p>
<pre><code class="shell">npm install --save-dev raw-loader
</code></pre>
<p>ç„¶ååœ¨ webpack.config.js ä¸­è¿›è¡Œé…ç½®</p>
<pre><code class="javascript">module.exports = &#123;  
...,  
module: &#123;      
rules: [      
&#123;        
test: /\.(txt|md)$/,  
use: &#39;raw-loader&#39;   
&#125;   
] &#125;&#125;
</code></pre>
<h5 id="file-loader"><a href="#file-loader" class="headerlink" title="file-loader"></a>file-loader</h5><p>æŠŠè¯†åˆ«å‡ºçš„èµ„æºæ¨¡å—ï¼Œç§»åŠ¨åˆ°æŒ‡å®šçš„è¾“å‡ºâ½¬ç›®å½•ï¼Œå¹¶ä¸”è¿”å›è¿™ä¸ªèµ„æºåœ¨è¾“å‡ºç›®å½•çš„åœ°å€(å­—ç¬¦ä¸²)</p>
<pre><code class="javascript">npm install --save-dev file-loader
rules: [  ..., &#123;  
test: /\.(png|jpe?g|gif)$/,    
use: &#123;      
loader: &quot;file-loader&quot;,  
options: &#123;       
// placeholder å ä½ç¬¦ [name] æºèµ„æºæ¨¡å—çš„åç§°        
// [ext] æºèµ„æºæ¨¡å—çš„åç¼€       
name: &quot;[name]_[hash].[ext]&quot;,        //æ‰“åŒ…åçš„å­˜æ”¾ä½ç½®        
outputPath: &quot;./images&quot;,        // æ‰“åŒ…åæ–‡ä»¶çš„ url        
publicPath: &#39;./images&#39;,      &#125;    &#125; &#125;]
</code></pre>
<h5 id="url-loader"><a href="#url-loader" class="headerlink" title="url-loader"></a>url-loader</h5><p>å¯ä»¥å¤„ç†ï§¤ <code>file-loader</code> æ‰€æœ‰çš„äº‹æƒ…ï¼Œä½†æ˜¯é‡åˆ°å›¾ç‰‡æ ¼å¼çš„æ¨¡å—ï¼Œå¯ä»¥é€‰æ‹©æ€§çš„æŠŠå›¾ç‰‡è½¬æˆ <code>base64</code> æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œå¹¶æ‰“åŒ…åˆ° <code>js</code> ä¸­ï¼Œå¯¹å°ä½“ç§¯çš„å›¾ç‰‡æ¯”è¾ƒåˆé€‚ï¼Œå¤§å›¾ç‰‡ï¥§åˆé€‚ã€‚</p>
<pre><code class="javascript">npm install --save-dev url-loader
rules: [  ..., &#123;  
        test: /\.(png|jpe?g|gif)$/,    
        use: &#123;     
        loader: &quot;url-loader&quot;,      
        options: &#123;        
        // placeholder å ä½ç¬¦ [name] æºèµ„æºæ¨¡å—çš„åç§°        
        // [ext] æºèµ„æºæ¨¡å—çš„åç¼€        
        name: &quot;[name]_[hash].[ext]&quot;,        //æ‰“åŒ…åçš„å­˜æ”¾ä½ç½®        
        outputPath: &quot;./images&quot;        // æ‰“åŒ…åæ–‡ä»¶çš„ url        
        publicPath: &#39;./images&#39;,        // å°äº 100 å­—èŠ‚è½¬æˆ base64 æ ¼å¼        limit: 100      &#125;    &#125; &#125;]
</code></pre>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-æœ‰å“ªäº›å¸¸è§çš„Plugin"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-æœ‰å“ªäº›å¸¸è§çš„Plugin" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ æœ‰å“ªäº›å¸¸è§çš„Plugin"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ æœ‰å“ªäº›å¸¸è§çš„Plugin</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-1"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-1" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p><code>Plugin</code>ï¼ˆPlug-inï¼‰æ˜¯ä¸€ç§è®¡ç®—æœºåº”ç”¨ç¨‹åºï¼Œå®ƒå’Œä¸»åº”ç”¨ç¨‹åºäº’ç›¸äº¤äº’ï¼Œä»¥æä¾›ç‰¹å®šçš„åŠŸèƒ½</p>
<p>æ˜¯ä¸€ç§éµå¾ªä¸€å®šè§„èŒƒçš„åº”ç”¨ç¨‹åºæ¥å£ç¼–å†™å‡ºæ¥çš„ç¨‹åºï¼Œåªèƒ½è¿è¡Œåœ¨ç¨‹åºè§„å®šçš„ç³»ç»Ÿä¸‹ï¼Œå› ä¸ºå…¶éœ€è¦è°ƒç”¨åŸçº¯å‡€ç³»ç»Ÿæä¾›çš„å‡½æ•°åº“æˆ–è€…æ•°æ®</p>
<p><code>webpack</code>ä¸­çš„<code>plugin</code>ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œ<code>plugin</code>èµ‹äºˆå…¶å„ç§çµæ´»çš„åŠŸèƒ½ï¼Œä¾‹å¦‚æ‰“åŒ…ä¼˜åŒ–ã€èµ„æºç®¡ç†ã€ç¯å¢ƒå˜é‡æ³¨å…¥ç­‰ï¼Œå®ƒä»¬ä¼šè¿è¡Œåœ¨ <code>webpack</code> çš„ä¸åŒé˜¶æ®µï¼ˆé’©å­ &#x2F; ç”Ÿå‘½å‘¨æœŸï¼‰ï¼Œè´¯ç©¿äº†<code>webpack</code>æ•´ä¸ªç¼–è¯‘å‘¨æœŸ</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f39613034656334302d613763322d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<p>ç›®çš„åœ¨äºè§£å†³<code>loader</code> æ— æ³•å®ç°çš„å…¶ä»–äº‹</p>
<h5 id="é…ç½®æ–¹å¼-1"><a href="#é…ç½®æ–¹å¼-1" class="headerlink" title="é…ç½®æ–¹å¼"></a>é…ç½®æ–¹å¼</h5><p>è¿™é‡Œè®²è¿°æ–‡ä»¶çš„é…ç½®æ–¹å¼ï¼Œä¸€èˆ¬æƒ…å†µï¼Œé€šè¿‡é…ç½®æ–‡ä»¶å¯¼å‡ºå¯¹è±¡ä¸­<code>plugins</code>å±æ€§ä¼ å…¥<code>new</code>å®ä¾‹å¯¹è±¡ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="javascript">const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;); // é€šè¿‡ npm å®‰è£…
const webpack = require(&#39;webpack&#39;); // è®¿é—®å†…ç½®çš„æ’ä»¶
module.exports = &#123;
  ...
  plugins: [
    new webpack.ProgressPlugin(),
    new HtmlWebpackPlugin(&#123; template: &#39;./src/index.html&#39; &#125;),
  ],
&#125;;
</code></pre>
<h4 id="äºŒã€ç‰¹æ€§-1"><a href="#äºŒã€ç‰¹æ€§-1" class="headerlink" title="äºŒã€ç‰¹æ€§"></a>äºŒã€ç‰¹æ€§</h4><p>å…¶æœ¬è´¨æ˜¯ä¸€ä¸ªå…·æœ‰<code>apply</code>æ–¹æ³•<code>javascript</code>å¯¹è±¡</p>
<p><code>apply</code> æ–¹æ³•ä¼šè¢« <code>webpack compiler </code>è°ƒç”¨ï¼Œå¹¶ä¸”åœ¨æ•´ä¸ªç¼–è¯‘ç”Ÿå‘½å‘¨æœŸéƒ½å¯ä»¥è®¿é—® <code>compiler </code>å¯¹è±¡</p>
<pre><code class="javascript">const pluginName = &#39;ConsoleLogOnBuildWebpackPlugin&#39;;

class ConsoleLogOnBuildWebpackPlugin &#123;
  apply(compiler) &#123;
    compiler.hooks.run.tap(pluginName, (compilation) =&gt; &#123;
      console.log(&#39;webpack æ„å»ºè¿‡ç¨‹å¼€å§‹ï¼&#39;);
    &#125;);
  &#125;
&#125;

module.exports = ConsoleLogOnBuildWebpackPlugin;
</code></pre>
<p><code>compiler hook</code> çš„ <code>tap </code>æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œåº”æ˜¯é©¼å³°å¼å‘½åçš„æ’ä»¶åç§°</p>
<p>å…³äºæ•´ä¸ªç¼–è¯‘ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œæœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>entry-option ï¼šåˆå§‹åŒ– option</li>
<li>run</li>
<li>compileï¼š çœŸæ­£å¼€å§‹çš„ç¼–è¯‘ï¼Œåœ¨åˆ›å»º compilation å¯¹è±¡ä¹‹å‰</li>
<li>compilation ï¼šç”Ÿæˆå¥½äº† compilation å¯¹è±¡</li>
<li>make ä» entry å¼€å§‹é€’å½’åˆ†æä¾èµ–ï¼Œå‡†å¤‡å¯¹æ¯ä¸ªæ¨¡å—è¿›è¡Œ build</li>
<li>after-compileï¼š ç¼–è¯‘ build è¿‡ç¨‹ç»“æŸ</li>
<li>emit ï¼šåœ¨å°†å†…å­˜ä¸­ assets å†…å®¹å†™åˆ°ç£ç›˜æ–‡ä»¶å¤¹ä¹‹å‰</li>
<li>after-emit ï¼šåœ¨å°†å†…å­˜ä¸­ assets å†…å®¹å†™åˆ°ç£ç›˜æ–‡ä»¶å¤¹ä¹‹å</li>
<li>doneï¼š å®Œæˆæ‰€æœ‰çš„ç¼–è¯‘è¿‡ç¨‹</li>
<li>failedï¼š ç¼–è¯‘å¤±è´¥çš„æ—¶å€™</li>
</ul>
<h4 id="ä¸‰ã€å¸¸è§çš„Plugin"><a href="#ä¸‰ã€å¸¸è§çš„Plugin" class="headerlink" title="ä¸‰ã€å¸¸è§çš„Plugin"></a>ä¸‰ã€å¸¸è§çš„Plugin</h4><p>å¸¸è§çš„<code>plugin</code>æœ‰å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f62643734393430302d613763322d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>ä¸‹é¢ä»‹ç»å‡ ä¸ªå¸¸ç”¨çš„æ’ä»¶ç”¨æ³•ï¼š</p>
<h5 id="HtmlWebpackPlugin"><a href="#HtmlWebpackPlugin" class="headerlink" title="HtmlWebpackPlugin"></a>HtmlWebpackPlugin</h5><p>åœ¨æ‰“åŒ…ç»“æŸåï¼Œâ¾ƒåŠ¨ç”Ÿæˆâ¼€ä¸ª <code>html</code> â½‚æ–‡ä»¶ï¼Œå¹¶æŠŠæ‰“åŒ…ç”Ÿæˆçš„<code> js</code> æ¨¡å—å¼•â¼Šåˆ°è¯¥ <code>html</code> ä¸­</p>
<pre><code class="javascript">npm install --save-dev html-webpack-plugin
// webpack.config.js
const HtmlWebpackPlugin = require(&quot;html-webpack-plugin&quot;);
module.exports = &#123;
 ...
  plugins: [
     new HtmlWebpackPlugin(&#123;
       title: &quot;My App&quot;,
       filename: &quot;app.html&quot;,
       template: &quot;./src/html/index.html&quot;
     &#125;) 
  ]
&#125;;
&lt;!--./src/html/index.html--&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
    &lt;title&gt;&lt;%=htmlWebpackPlugin.options.title%&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;html-webpack-plugin&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>åœ¨ <code>html</code> æ¨¡æ¿ä¸­ï¼Œå¯ä»¥é€šè¿‡ <code>&lt;%=htmlWebpackPlugin.options.XXX%&gt;</code> çš„æ–¹å¼è·å–é…ç½®çš„å€¼</p>
<p>æ›´å¤šçš„é…ç½®å¯ä»¥è‡ªå¯»æŸ¥æ‰¾</p>
<h5 id="clean-webpack-plugin"><a href="#clean-webpack-plugin" class="headerlink" title="clean-webpack-plugin"></a>clean-webpack-plugin</h5><p>åˆ é™¤ï¼ˆæ¸…ç†ï¼‰æ„å»ºç›®å½•</p>
<pre><code class="javascript">npm install --save-dev clean-webpack-plugin
const &#123;CleanWebpackPlugin&#125; = require(&#39;clean-webpack-plugin&#39;);
module.exports = &#123;
 ...
  plugins: [
    ...,
    new CleanWebpackPlugin(),
    ...
  ]
&#125;
</code></pre>
<h5 id="mini-css-extract-plugin"><a href="#mini-css-extract-plugin" class="headerlink" title="mini-css-extract-plugin"></a>mini-css-extract-plugin</h5><p>æå– <code>CSS</code> åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­</p>
<pre><code class="javascript">npm install --save-dev mini-css-extract-plugin
const MiniCssExtractPlugin = require(&#39;mini-css-extract-plugin&#39;);
module.exports = &#123; ...,  
                  module: &#123;   
                  rules: [    
                  &#123;     test: /\.s[ac]ss$/,     
                  use: [     
                  &#123;      loader: MiniCssExtractPlugin.loader     &#125;,          
  &#39;css-loader&#39;,          &#39;sass-loader&#39;        ]   &#125;   ] &#125;,  
    plugins: [    ...,    
              new MiniCssExtractPlugin(&#123;     filename: &#39;[name].css&#39;    &#125;),    ...  ]&#125;
</code></pre>
<h5 id="DefinePlugin"><a href="#DefinePlugin" class="headerlink" title="DefinePlugin"></a>DefinePlugin</h5><p>å…è®¸åœ¨ç¼–è¯‘æ—¶åˆ›å»ºé…ç½®çš„å…¨å±€å¯¹è±¡ï¼Œæ˜¯ä¸€ä¸ª<code>webpack</code>å†…ç½®çš„æ’ä»¶ï¼Œä¸éœ€è¦å®‰è£…</p>
<pre><code class="javascript">const &#123; DefinePlugun &#125; = require(&#39;webpack&#39;)module.exports = &#123; ...    plugins:[        new DefinePlugin(&#123;            BASE_URL:&#39;&quot;./&quot;&#39;        &#125;)    ]&#125;
</code></pre>
<p>è¿™æ—¶å€™ç¼–è¯‘<code>template</code>æ¨¡å—çš„æ—¶å€™ï¼Œå°±èƒ½é€šè¿‡ä¸‹è¿°å½¢å¼è·å–å…¨å±€å¯¹è±¡</p>
<pre><code class="javascript">&lt;link rel=&quot;icon&quot; href=&quot;&lt;%= BASE_URL%&gt;favicon.ico&gt;&quot;
</code></pre>
<h5 id="copy-webpack-plugin"><a href="#copy-webpack-plugin" class="headerlink" title="copy-webpack-plugin"></a>copy-webpack-plugin</h5><p>å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•åˆ°æ‰§è¡ŒåŒºåŸŸï¼Œå¦‚<code>vue</code>çš„æ‰“åŒ…è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæˆ‘ä»¬å°†ä¸€äº›æ–‡ä»¶æ”¾åˆ°<code>public</code>çš„ç›®å½•ä¸‹ï¼Œé‚£ä¹ˆè¿™ä¸ªç›®å½•ä¼šè¢«å¤åˆ¶åˆ°<code>dist</code>æ–‡ä»¶å¤¹ä¸­</p>
<pre><code class="javascript">npm install copy-webpack-plugin -D
new CopyWebpackPlugin(&#123;    parrerns:[        &#123;            
  from:&quot;public&quot;,            
  globOptions:&#123;                i
               gnore:[                    &#39;**/index.html&#39;                ]            &#125;        &#125;    ]&#125;)
</code></pre>
<p>å¤åˆ¶çš„è§„åˆ™åœ¨<code>patterns</code>å±æ€§ä¸­è®¾ç½®ï¼š</p>
<ul>
<li>fromï¼šè®¾ç½®ä»å“ªä¸€ä¸ªæºä¸­å¼€å§‹å¤åˆ¶</li>
<li>toï¼šå¤åˆ¶åˆ°çš„ä½ç½®ï¼Œå¯ä»¥çœç•¥ï¼Œä¼šé»˜è®¤å¤åˆ¶åˆ°æ‰“åŒ…çš„ç›®å½•ä¸‹</li>
<li>globOptionsï¼šè®¾ç½®ä¸€äº›é¢å¤–çš„é€‰é¡¹ï¼Œå…¶ä¸­å¯ä»¥ç¼–å†™éœ€è¦å¿½ç•¥çš„æ–‡ä»¶</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´ä¸€ä¸‹-Webpack-çš„çƒ­æ›´æ–°åŸç†"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´ä¸€ä¸‹-Webpack-çš„çƒ­æ›´æ–°åŸç†" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´ä¸€ä¸‹ Webpack çš„çƒ­æ›´æ–°åŸç†"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´ä¸€ä¸‹ Webpack çš„çƒ­æ›´æ–°åŸç†</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-2"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-2" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p><code>HMR </code>å…¨ç§° <code>Hot Module Replacement</code>ï¼Œå¯ä»¥ç†è§£ä¸ºæ¨¡å—çƒ­æ›¿æ¢ï¼ŒæŒ‡åœ¨åº”ç”¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæ›¿æ¢ã€æ·»åŠ ã€åˆ é™¤æ¨¡å—ï¼Œè€Œæ— éœ€é‡æ–°åˆ·æ–°æ•´ä¸ªåº”ç”¨</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬åœ¨åº”ç”¨è¿è¡Œè¿‡ç¨‹ä¸­ä¿®æ”¹äº†æŸä¸ªæ¨¡å—ï¼Œé€šè¿‡è‡ªåŠ¨åˆ·æ–°ä¼šå¯¼è‡´æ•´ä¸ªåº”ç”¨çš„æ•´ä½“åˆ·æ–°ï¼Œé‚£é¡µé¢ä¸­çš„çŠ¶æ€ä¿¡æ¯éƒ½ä¼šä¸¢å¤±</p>
<p>å¦‚æœä½¿ç”¨çš„æ˜¯ <code>HMR</code>ï¼Œå°±å¯ä»¥å®ç°åªå°†ä¿®æ”¹çš„æ¨¡å—å®æ—¶æ›¿æ¢è‡³åº”ç”¨ä¸­ï¼Œä¸å¿…å®Œå…¨åˆ·æ–°æ•´ä¸ªåº”ç”¨</p>
<p>åœ¨<code>webpack</code>ä¸­é…ç½®å¼€å¯çƒ­æ¨¡å—ä¹Ÿéå¸¸çš„ç®€å•ï¼Œå¦‚ä¸‹ä»£ç ï¼š</p>
<pre><code class="javascript">const webpack = require(&#39;webpack&#39;)
module.exports = &#123;
  // ...
  devServer: &#123;
    // å¼€å¯ HMR ç‰¹æ€§
    hot: true
    // hotOnly: true
  &#125;
&#125;
</code></pre>
<p>é€šè¿‡ä¸Šè¿°è¿™ç§é…ç½®ï¼Œå¦‚æœæˆ‘ä»¬ä¿®æ”¹å¹¶ä¿å­˜<code>css</code>æ–‡ä»¶ï¼Œç¡®å®èƒ½å¤Ÿä»¥ä¸åˆ·æ–°çš„å½¢å¼æ›´æ–°åˆ°é¡µé¢ä¸­</p>
<p>ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬ä¿®æ”¹å¹¶ä¿å­˜<code>js</code>æ–‡ä»¶ä¹‹åï¼Œé¡µé¢ä¾æ—§è‡ªåŠ¨åˆ·æ–°äº†ï¼Œè¿™é‡Œå¹¶æ²¡æœ‰è§¦å‘çƒ­æ¨¡å—</p>
<p>æ‰€ä»¥ï¼Œ<code>HMR </code>å¹¶ä¸åƒ <code>Webpack</code> çš„å…¶ä»–ç‰¹æ€§ä¸€æ ·å¯ä»¥å¼€ç®±å³ç”¨ï¼Œéœ€è¦æœ‰ä¸€äº›é¢å¤–çš„æ“ä½œ</p>
<p>æˆ‘ä»¬éœ€è¦å»æŒ‡å®šå“ªäº›æ¨¡å—å‘ç”Ÿæ›´æ–°æ—¶è¿›è¡Œ<code>HRM</code>ï¼Œå¦‚ä¸‹ä»£ç ï¼š</p>
<pre><code class="javascript">if(module.hot)&#123;
    module.hot.accept(&#39;./util.js&#39;,()=&gt;&#123;
        console.log(&quot;util.jsæ›´æ–°äº†&quot;)
    &#125;)
&#125;
</code></pre>
<h4 id="äºŒã€å®ç°åŸç†"><a href="#äºŒã€å®ç°åŸç†" class="headerlink" title="äºŒã€å®ç°åŸç†"></a>äºŒã€å®ç°åŸç†</h4><p>é¦–å…ˆæ¥çœ‹çœ‹ä¸€å¼ å›¾ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f61646330353738302d616364342d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<ul>
<li>Webpack Compileï¼šå°† JS æºä»£ç ç¼–è¯‘æˆ bundle.js</li>
<li>HMR Serverï¼šç”¨æ¥å°†çƒ­æ›´æ–°çš„æ–‡ä»¶è¾“å‡ºç»™ HMR Runtime</li>
<li>Bundle Serverï¼šé™æ€èµ„æºæ–‡ä»¶æœåŠ¡å™¨ï¼Œæä¾›æ–‡ä»¶è®¿é—®è·¯å¾„</li>
<li>HMR Runtimeï¼šsocketæœåŠ¡å™¨ï¼Œä¼šè¢«æ³¨å…¥åˆ°æµè§ˆå™¨ï¼Œæ›´æ–°æ–‡ä»¶çš„å˜åŒ–</li>
<li>bundle.jsï¼šæ„å»ºè¾“å‡ºçš„æ–‡ä»¶</li>
<li>åœ¨HMR Runtime å’Œ HMR Serverä¹‹é—´å»ºç«‹ websocketï¼Œå³å›¾ä¸Š4å·çº¿ï¼Œç”¨äºå®æ—¶æ›´æ–°æ–‡ä»¶å˜åŒ–</li>
</ul>
<p>ä¸Šé¢å›¾ä¸­ï¼Œå¯ä»¥åˆ†æˆä¸¤ä¸ªé˜¶æ®µï¼š</p>
<ul>
<li>å¯åŠ¨é˜¶æ®µä¸ºä¸Šå›¾ 1 - 2 - A - B</li>
</ul>
<p>åœ¨ç¼–å†™æœªç»è¿‡<code>webpack</code>æ‰“åŒ…çš„æºä»£ç åï¼Œ<code>Webpack Compile</code> å°†æºä»£ç å’Œ <code>HMR Runtime</code> ä¸€èµ·ç¼–è¯‘æˆ <code>bundle </code>æ–‡ä»¶ï¼Œä¼ è¾“ç»™<code> Bundle Server</code> é™æ€èµ„æºæœåŠ¡å™¨</p>
<ul>
<li>æ›´æ–°é˜¶æ®µä¸ºä¸Šå›¾ 1 - 2 - 3 - 4</li>
</ul>
<p>å½“æŸä¸€ä¸ªæ–‡ä»¶æˆ–è€…æ¨¡å—å‘ç”Ÿå˜åŒ–æ—¶ï¼Œ<code>webpack </code>ç›‘å¬åˆ°æ–‡ä»¶å˜åŒ–å¯¹æ–‡ä»¶é‡æ–°ç¼–è¯‘æ‰“åŒ…ï¼Œç¼–è¯‘ç”Ÿæˆå”¯ä¸€çš„<code>hash</code>å€¼ï¼Œè¿™ä¸ª<code>hash </code>å€¼ç”¨æ¥ä½œä¸ºä¸‹ä¸€æ¬¡çƒ­æ›´æ–°çš„æ ‡è¯†</p>
<p>æ ¹æ®å˜åŒ–çš„å†…å®¹ç”Ÿæˆä¸¤ä¸ªè¡¥ä¸æ–‡ä»¶ï¼š<code>manifest</code>ï¼ˆåŒ…å«äº† <code>hash</code> å’Œ <code>chundId </code>ï¼Œç”¨æ¥è¯´æ˜å˜åŒ–çš„å†…å®¹ï¼‰å’Œ<code> chunk.js</code> æ¨¡å—</p>
<p>ç”±äº<code>socket</code>æœåŠ¡å™¨åœ¨<code>HMR Runtime</code> å’Œ <code>HMR Server</code>ä¹‹é—´å»ºç«‹ <code>websocket</code>é“¾æ¥ï¼Œå½“æ–‡ä»¶å‘ç”Ÿæ”¹åŠ¨çš„æ—¶å€™ï¼ŒæœåŠ¡ç«¯ä¼šå‘æµè§ˆå™¨æ¨é€ä¸€æ¡æ¶ˆæ¯ï¼Œæ¶ˆæ¯åŒ…å«æ–‡ä»¶æ”¹åŠ¨åç”Ÿæˆçš„<code>hash</code>å€¼ï¼Œå¦‚ä¸‹å›¾çš„<code>h</code>å±æ€§ï¼Œä½œä¸ºä¸‹ä¸€æ¬¡çƒ­æ›´ç»†çš„æ ‡è¯†</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f30356130656466302d616434612d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>åœ¨æµè§ˆå™¨æ¥å—åˆ°è¿™æ¡æ¶ˆæ¯ä¹‹å‰ï¼Œæµè§ˆå™¨å·²ç»åœ¨ä¸Šä¸€æ¬¡<code> socket</code> æ¶ˆæ¯ä¸­å·²ç»è®°ä½äº†æ­¤æ—¶çš„<code> hash</code> æ ‡è¯†ï¼Œè¿™æ—¶å€™æˆ‘ä»¬ä¼šåˆ›å»ºä¸€ä¸ª <code>ajax</code> å»æœåŠ¡ç«¯è¯·æ±‚è·å–åˆ°å˜åŒ–å†…å®¹çš„ <code>manifest</code> æ–‡ä»¶</p>
<p><code>mainfest</code>æ–‡ä»¶åŒ…å«é‡æ–°<code>build</code>ç”Ÿæˆçš„<code>hash</code>å€¼ï¼Œä»¥åŠå˜åŒ–çš„æ¨¡å—ï¼Œå¯¹åº”ä¸Šå›¾çš„<code>c</code>å±æ€§</p>
<p>æµè§ˆå™¨æ ¹æ® <code>manifest</code> æ–‡ä»¶è·å–æ¨¡å—å˜åŒ–çš„å†…å®¹ï¼Œä»è€Œè§¦å‘<code>render</code>æµç¨‹ï¼Œå®ç°å±€éƒ¨æ¨¡å—æ›´æ–°</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f30653762373835302d616434612d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<h4 id="ä¸‰ã€æ€»ç»“"><a href="#ä¸‰ã€æ€»ç»“" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h4><p>å…³äº<code>webpack</code>çƒ­æ¨¡å—æ›´æ–°çš„æ€»ç»“å¦‚ä¸‹ï¼š</p>
<ul>
<li>é€šè¿‡<code>webpack-dev-server</code>åˆ›å»ºä¸¤ä¸ªæœåŠ¡å™¨ï¼šæä¾›é™æ€èµ„æºçš„æœåŠ¡ï¼ˆexpressï¼‰å’ŒSocketæœåŠ¡</li>
<li>express server è´Ÿè´£ç›´æ¥æä¾›é™æ€èµ„æºçš„æœåŠ¡ï¼ˆæ‰“åŒ…åçš„èµ„æºç›´æ¥è¢«æµè§ˆå™¨è¯·æ±‚å’Œè§£æï¼‰</li>
<li>socket server æ˜¯ä¸€ä¸ª websocket çš„é•¿è¿æ¥ï¼ŒåŒæ–¹å¯ä»¥é€šä¿¡</li>
<li>å½“ socket server ç›‘å¬åˆ°å¯¹åº”çš„æ¨¡å—å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶.jsonï¼ˆmanifestæ–‡ä»¶ï¼‰å’Œ.jsæ–‡ä»¶ï¼ˆupdate chunkï¼‰</li>
<li>é€šè¿‡é•¿è¿æ¥ï¼Œsocket server å¯ä»¥ç›´æ¥å°†è¿™ä¸¤ä¸ªæ–‡ä»¶ä¸»åŠ¨å‘é€ç»™å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰</li>
<li>æµè§ˆå™¨æ‹¿åˆ°ä¸¤ä¸ªæ–°çš„æ–‡ä»¶åï¼Œé€šè¿‡HMR runtimeæœºåˆ¶ï¼ŒåŠ è½½è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”é’ˆå¯¹ä¿®æ”¹çš„æ¨¡å—è¿›è¡Œæ›´æ–°</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•ä¼˜åŒ–-Webpack-çš„æ„å»ºé€Ÿåº¦"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•ä¼˜åŒ–-Webpack-çš„æ„å»ºé€Ÿåº¦" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•ä¼˜åŒ– Webpack çš„æ„å»ºé€Ÿåº¦"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•ä¼˜åŒ– Webpack çš„æ„å»ºé€Ÿåº¦</h3><h4 id="ä¸€ã€èƒŒæ™¯-1"><a href="#ä¸€ã€èƒŒæ™¯-1" class="headerlink" title="ä¸€ã€èƒŒæ™¯"></a>ä¸€ã€èƒŒæ™¯</h4><p>éšç€æˆ‘ä»¬çš„é¡¹ç›®æ¶‰åŠåˆ°é¡µé¢è¶Šæ¥è¶Šå¤šï¼ŒåŠŸèƒ½å’Œä¸šåŠ¡ä»£ç ä¹Ÿä¼šéšç€è¶Šå¤šï¼Œç›¸åº”çš„ <code>webpack</code> çš„æ„å»ºæ—¶é—´ä¹Ÿä¼šè¶Šæ¥è¶Šä¹…</p>
<p>æ„å»ºæ—¶é—´ä¸æˆ‘ä»¬æ—¥å¸¸å¼€å‘æ•ˆç‡å¯†åˆ‡ç›¸å…³ï¼Œå½“æˆ‘ä»¬æœ¬åœ°å¼€å‘å¯åŠ¨ <code>devServer</code> æˆ–è€… <code>build</code> çš„æ—¶å€™ï¼Œå¦‚æœæ—¶é—´è¿‡é•¿ï¼Œä¼šå¤§å¤§é™ä½æˆ‘ä»¬çš„å·¥ä½œæ•ˆç‡</p>
<p>æ‰€ä»¥ï¼Œä¼˜åŒ–<code>webpack</code> æ„å»ºé€Ÿåº¦æ˜¯ååˆ†é‡è¦çš„ç¯èŠ‚</p>
<h4 id="äºŒã€å¦‚ä½•ä¼˜åŒ–"><a href="#äºŒã€å¦‚ä½•ä¼˜åŒ–" class="headerlink" title="äºŒã€å¦‚ä½•ä¼˜åŒ–"></a>äºŒã€å¦‚ä½•ä¼˜åŒ–</h4><p>å¸¸è§çš„æå‡æ„å»ºé€Ÿåº¦çš„æ‰‹æ®µæœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä¼˜åŒ– loader é…ç½®</li>
<li>åˆç†ä½¿ç”¨ resolve.extensions</li>
<li>ä¼˜åŒ– resolve.modules</li>
<li>ä¼˜åŒ– resolve.alias</li>
<li>ä½¿ç”¨ DLLPlugin æ’ä»¶</li>
<li>ä½¿ç”¨ cache-loader</li>
<li>terser å¯åŠ¨å¤šçº¿ç¨‹</li>
<li>åˆç†ä½¿ç”¨ sourceMap</li>
</ul>
<h5 id="ä¼˜åŒ–loaderé…ç½®"><a href="#ä¼˜åŒ–loaderé…ç½®" class="headerlink" title="ä¼˜åŒ–loaderé…ç½®"></a>ä¼˜åŒ–loaderé…ç½®</h5><p>åœ¨ä½¿ç”¨<code>loader</code>æ—¶ï¼Œå¯ä»¥é€šè¿‡é…ç½®<code>include</code>ã€<code>exclude</code>ã€<code>test</code>å±æ€§æ¥åŒ¹é…æ–‡ä»¶ï¼Œæ¥è§¦<code>include</code>ã€<code>exclude</code>è§„å®šå“ªäº›åŒ¹é…åº”ç”¨<code>loader</code></p>
<p>å¦‚é‡‡ç”¨ ES6 çš„é¡¹ç›®ä¸ºä¾‹ï¼Œåœ¨é…ç½® <code>babel-loader </code>æ—¶ï¼Œå¯ä»¥è¿™æ ·ï¼š</p>
<pre><code class="javascript">module.exports = &#123;
  module: &#123;
    rules: [
      &#123;
        // å¦‚æœé¡¹ç›®æºç ä¸­åªæœ‰ js æ–‡ä»¶å°±ä¸è¦å†™æˆ /\.jsx?$/ï¼Œæå‡æ­£åˆ™è¡¨è¾¾å¼æ€§èƒ½
        test: /\.js$/,
        // babel-loader æ”¯æŒç¼“å­˜è½¬æ¢å‡ºçš„ç»“æœï¼Œé€šè¿‡ cacheDirectory é€‰é¡¹å¼€å¯
        use: [&#39;babel-loader?cacheDirectory&#39;],
        // åªå¯¹é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ src ç›®å½•ä¸­çš„æ–‡ä»¶é‡‡ç”¨ babel-loader
        include: path.resolve(__dirname, &#39;src&#39;),
      &#125;,
    ]
  &#125;,
&#125;;
</code></pre>
<h5 id="åˆç†ä½¿ç”¨-resolve-extensions"><a href="#åˆç†ä½¿ç”¨-resolve-extensions" class="headerlink" title="åˆç†ä½¿ç”¨ resolve.extensions"></a>åˆç†ä½¿ç”¨ resolve.extensions</h5><p>åœ¨å¼€å‘ä¸­æˆ‘ä»¬ä¼šæœ‰å„ç§å„æ ·çš„æ¨¡å—ä¾èµ–ï¼Œè¿™äº›æ¨¡å—å¯èƒ½æ¥è‡ªäºè‡ªå·±ç¼–å†™çš„ä»£ç ï¼Œä¹Ÿå¯èƒ½æ¥è‡ªç¬¬ä¸‰æ–¹åº“ï¼Œ <code>resolve</code>å¯ä»¥å¸®åŠ©<code>webpack</code>ä»æ¯ä¸ª <code>require/import</code> è¯­å¥ä¸­ï¼Œæ‰¾åˆ°éœ€è¦å¼•å…¥åˆ°åˆé€‚çš„æ¨¡å—ä»£ç </p>
<p>é€šè¿‡<code>resolve.extensions</code>æ˜¯è§£æåˆ°æ–‡ä»¶æ—¶è‡ªåŠ¨æ·»åŠ æ‹“å±•åï¼Œé»˜è®¤æƒ…å†µå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">module.exports = &#123;
    ...
    extensions:[&quot;.warm&quot;,&quot;.mjs&quot;,&quot;.js&quot;,&quot;.json&quot;]
&#125;
</code></pre>
<p>å½“æˆ‘ä»¬å¼•å…¥æ–‡ä»¶çš„æ—¶å€™ï¼Œè‹¥æ²¡æœ‰æ–‡ä»¶åç¼€åï¼Œåˆ™ä¼šæ ¹æ®æ•°ç»„å†…çš„å€¼ä¾æ¬¡æŸ¥æ‰¾</p>
<p>å½“æˆ‘ä»¬é…ç½®çš„æ—¶å€™ï¼Œåˆ™ä¸è¦éšä¾¿æŠŠæ‰€æœ‰åç¼€éƒ½å†™åœ¨é‡Œé¢ï¼Œè¿™ä¼šè°ƒç”¨å¤šæ¬¡æ–‡ä»¶çš„æŸ¥æ‰¾ï¼Œè¿™æ ·å°±ä¼šå‡æ…¢æ‰“åŒ…é€Ÿåº¦</p>
<h5 id="ä¼˜åŒ–-resolve-modules"><a href="#ä¼˜åŒ–-resolve-modules" class="headerlink" title="ä¼˜åŒ– resolve.modules"></a>ä¼˜åŒ– resolve.modules</h5><p><code>resolve.modules</code> ç”¨äºé…ç½® <code>webpack</code> å»å“ªäº›ç›®å½•ä¸‹å¯»æ‰¾ç¬¬ä¸‰æ–¹æ¨¡å—ã€‚é»˜è®¤å€¼ä¸º<code>[&#39;node_modules&#39;]</code>ï¼Œæ‰€ä»¥é»˜è®¤ä¼šä»<code>node_modules</code>ä¸­æŸ¥æ‰¾æ–‡ä»¶<br>å½“å®‰è£…çš„ç¬¬ä¸‰æ–¹æ¨¡å—éƒ½æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ <code>./node_modules </code>ç›®å½•ä¸‹æ—¶ï¼Œæ‰€ä»¥å¯ä»¥æŒ‡æ˜å­˜æ”¾ç¬¬ä¸‰æ–¹æ¨¡å—çš„ç»å¯¹è·¯å¾„ï¼Œä»¥å‡å°‘å¯»æ‰¾ï¼Œé…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">module.exports = &#123;
  resolve: &#123;
    // ä½¿ç”¨ç»å¯¹è·¯å¾„æŒ‡æ˜ç¬¬ä¸‰æ–¹æ¨¡å—å­˜æ”¾çš„ä½ç½®ï¼Œä»¥å‡å°‘æœç´¢æ­¥éª¤
    // å…¶ä¸­ __dirname è¡¨ç¤ºå½“å‰å·¥ä½œç›®å½•ï¼Œä¹Ÿå°±æ˜¯é¡¹ç›®æ ¹ç›®å½•
    modules: [path.resolve(__dirname, &#39;node_modules&#39;)]
  &#125;,
&#125;;
</code></pre>
<h5 id="ä¼˜åŒ–-resolve-alias"><a href="#ä¼˜åŒ–-resolve-alias" class="headerlink" title="ä¼˜åŒ– resolve.alias"></a>ä¼˜åŒ– resolve.alias</h5><p><code>alias</code>ç»™ä¸€äº›å¸¸ç”¨çš„è·¯å¾„èµ·ä¸€ä¸ªåˆ«åï¼Œç‰¹åˆ«å½“æˆ‘ä»¬çš„é¡¹ç›®ç›®å½•ç»“æ„æ¯”è¾ƒæ·±çš„æ—¶å€™ï¼Œä¸€ä¸ªæ–‡ä»¶çš„è·¯å¾„å¯èƒ½æ˜¯<code>./../../</code>çš„å½¢å¼</p>
<p>é€šè¿‡é…ç½®<code>alias</code>ä»¥å‡å°‘æŸ¥æ‰¾è¿‡ç¨‹</p>
<pre><code class="javascript">module.exports = &#123;
    ...
    resolve:&#123;
        alias:&#123;
            &quot;@&quot;:path.resolve(__dirname,&#39;./src&#39;)
        &#125;
    &#125;
&#125;
</code></pre>
<h5 id="ä½¿ç”¨-DLLPlugin-æ’ä»¶"><a href="#ä½¿ç”¨-DLLPlugin-æ’ä»¶" class="headerlink" title="ä½¿ç”¨ DLLPlugin æ’ä»¶"></a>ä½¿ç”¨ DLLPlugin æ’ä»¶</h5><p><code>DLL</code>å…¨ç§°æ˜¯ åŠ¨æ€é“¾æ¥åº“ï¼Œæ˜¯ä¸ºè½¯ä»¶åœ¨winodwç§å®ç°å…±äº«å‡½æ•°åº“çš„ä¸€ç§å®ç°æ–¹å¼ï¼Œè€ŒWebpackä¹Ÿå†…ç½®äº†DLLçš„åŠŸèƒ½ï¼Œä¸ºçš„å°±æ˜¯å¯ä»¥å…±äº«ï¼Œä¸ç»å¸¸æ”¹å˜çš„ä»£ç ï¼ŒæŠ½æˆä¸€ä¸ªå…±äº«çš„åº“ã€‚è¿™ä¸ªåº“åœ¨ä¹‹åçš„ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œä¼šè¢«å¼•å…¥åˆ°å…¶ä»–é¡¹ç›®çš„ä»£ç ä¸­</p>
<p>ä½¿ç”¨æ­¥éª¤åˆ†æˆä¸¤éƒ¨åˆ†ï¼š</p>
<ul>
<li>æ‰“åŒ…ä¸€ä¸ª DLL åº“</li>
<li>å¼•å…¥ DLL åº“</li>
</ul>
<h6 id="æ‰“åŒ…ä¸€ä¸ª-DLL-åº“"><a href="#æ‰“åŒ…ä¸€ä¸ª-DLL-åº“" class="headerlink" title="æ‰“åŒ…ä¸€ä¸ª DLL åº“"></a>æ‰“åŒ…ä¸€ä¸ª DLL åº“</h6><p><code>webpack</code>å†…ç½®äº†ä¸€ä¸ª<code>DllPlugin</code>å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ‰“åŒ…ä¸€ä¸ªDLLçš„åº“æ–‡ä»¶</p>
<pre><code class="javascript">module.exports = &#123;
    ...
    plugins:[
        new webpack.DllPlugin(&#123;
            name:&#39;dll_[name]&#39;,
            path:path.resolve(__dirname,&quot;./dll/[name].mainfest.json&quot;)
        &#125;)
    ]
&#125;
</code></pre>
<h6 id="å¼•å…¥-DLL-åº“"><a href="#å¼•å…¥-DLL-åº“" class="headerlink" title="å¼•å…¥ DLL åº“"></a>å¼•å…¥ DLL åº“</h6><p>ä½¿ç”¨ <code>webpack</code> è‡ªå¸¦çš„ <code>DllReferencePlugin</code> æ’ä»¶å¯¹ <code>mainfest.json</code> æ˜ å°„æ–‡ä»¶è¿›è¡Œåˆ†æï¼Œè·å–è¦ä½¿ç”¨çš„<code>DLL</code>åº“</p>
<p>ç„¶åå†é€šè¿‡<code>AddAssetHtmlPlugin</code>æ’ä»¶ï¼Œå°†æˆ‘ä»¬æ‰“åŒ…çš„<code>DLL</code>åº“å¼•å…¥åˆ°<code>Html</code>æ¨¡å—ä¸­</p>
<pre><code class="javascript">module.exports = &#123;
    ...
    new webpack.DllReferencePlugin(&#123;
        context:path.resolve(__dirname,&quot;./dll/dll_react.js&quot;),
        mainfest:path.resolve(__dirname,&quot;./dll/react.mainfest.json&quot;)
    &#125;),
    new AddAssetHtmlPlugin(&#123;
        outputPath:&quot;./auto&quot;,
        filepath:path.resolve(__dirname,&quot;./dll/dll_react.js&quot;)
    &#125;)
&#125;
</code></pre>
<h5 id="ä½¿ç”¨-cache-loader"><a href="#ä½¿ç”¨-cache-loader" class="headerlink" title="ä½¿ç”¨ cache-loader"></a>ä½¿ç”¨ cache-loader</h5><p>åœ¨ä¸€äº›æ€§èƒ½å¼€é”€è¾ƒå¤§çš„ <code>loader </code>ä¹‹å‰æ·»åŠ  <code>cache-loader</code>ï¼Œä»¥å°†ç»“æœç¼“å­˜åˆ°ç£ç›˜é‡Œï¼Œæ˜¾è‘—æå‡äºŒæ¬¡æ„å»ºé€Ÿåº¦</p>
<p>ä¿å­˜å’Œè¯»å–è¿™äº›ç¼“å­˜æ–‡ä»¶ä¼šæœ‰ä¸€äº›æ—¶é—´å¼€é”€ï¼Œæ‰€ä»¥è¯·åªå¯¹æ€§èƒ½å¼€é”€è¾ƒå¤§çš„ <code>loader</code> ä½¿ç”¨æ­¤<code> loader</code></p>
<pre><code class="javascript">module.exports = &#123;
    module: &#123;
        rules: [
            &#123;
                test: /\.ext$/,
                use: [&#39;cache-loader&#39;, ...loaders],
                include: path.resolve(&#39;src&#39;),
            &#125;,
        ],
    &#125;,
&#125;;
</code></pre>
<h5 id="terser-å¯åŠ¨å¤šçº¿ç¨‹"><a href="#terser-å¯åŠ¨å¤šçº¿ç¨‹" class="headerlink" title="terser å¯åŠ¨å¤šçº¿ç¨‹"></a>terser å¯åŠ¨å¤šçº¿ç¨‹</h5><p>ä½¿ç”¨å¤šè¿›ç¨‹å¹¶è¡Œè¿è¡Œæ¥æé«˜æ„å»ºé€Ÿåº¦</p>
<pre><code class="javascript">module.exports = &#123;
  optimization: &#123;
    minimizer: [
      new TerserPlugin(&#123;
        parallel: true,
      &#125;),
    ],
  &#125;,
&#125;;
</code></pre>
<h5 id="åˆç†ä½¿ç”¨-sourceMap"><a href="#åˆç†ä½¿ç”¨-sourceMap" class="headerlink" title="åˆç†ä½¿ç”¨ sourceMap"></a>åˆç†ä½¿ç”¨ sourceMap</h5><p>æ‰“åŒ…ç”Ÿæˆ <code>sourceMap</code> çš„æ—¶å€™ï¼Œå¦‚æœä¿¡æ¯è¶Šè¯¦ç»†ï¼Œæ‰“åŒ…é€Ÿåº¦å°±ä¼šè¶Šæ…¢ã€‚å¯¹åº”å±æ€§å–å€¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f31313634376166302d623031642d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<h4 id="ä¸‰ã€æ€»ç»“-1"><a href="#ä¸‰ã€æ€»ç»“-1" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h4><p>å¯ä»¥çœ‹åˆ°ï¼Œä¼˜åŒ–<code>webpack</code>æ„å»ºçš„æ–¹å¼æœ‰å¾ˆå¤šï¼Œä¸»è¦å¯ä»¥ä»ä¼˜åŒ–æœç´¢æ—¶é—´ã€ç¼©å°æ–‡ä»¶æœç´¢èŒƒå›´ã€å‡å°‘ä¸å¿…è¦çš„ç¼–è¯‘ç­‰æ–¹é¢å…¥æ‰‹</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-è‡ªå·±å†™è¿‡Loaderå’ŒPluginä¹ˆ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-è‡ªå·±å†™è¿‡Loaderå’ŒPluginä¹ˆ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ è‡ªå·±å†™è¿‡Loaderå’ŒPluginä¹ˆ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ è‡ªå·±å†™è¿‡Loaderå’ŒPluginä¹ˆ</h3><h4 id="ä¸€ã€ç¼–å†™loader"><a href="#ä¸€ã€ç¼–å†™loader" class="headerlink" title="ä¸€ã€ç¼–å†™loader"></a>ä¸€ã€ç¼–å†™loader</h4><p>åœ¨ç¼–å†™ <code>loader</code> å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦äº†è§£ <code>loader</code> çš„æœ¬è´¨</p>
<p>å…¶æœ¬è´¨ä¸ºå‡½æ•°ï¼Œå‡½æ•°ä¸­çš„ <code>this</code> ä½œä¸ºä¸Šä¸‹æ–‡ä¼šè¢« <code>webpack</code> å¡«å……ï¼Œå› æ­¤æˆ‘ä»¬ä¸èƒ½å°† <code>loader</code>è®¾ä¸ºä¸€ä¸ªç®­å¤´å‡½æ•°</p>
<p>å‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œä¸º <code>webpack</code> ä¼ é€’ç»™ <code>loader</code> çš„æ–‡ä»¶æºå†…å®¹</p>
<p>å‡½æ•°ä¸­ <code>this</code> æ˜¯ç”± <code>webpack</code> æä¾›çš„å¯¹è±¡ï¼Œèƒ½å¤Ÿè·å–å½“å‰ <code>loader</code> æ‰€éœ€è¦çš„å„ç§ä¿¡æ¯</p>
<p>å‡½æ•°ä¸­æœ‰å¼‚æ­¥æ“ä½œæˆ–åŒæ­¥æ“ä½œï¼Œå¼‚æ­¥æ“ä½œé€šè¿‡ <code>this.callback</code> è¿”å›ï¼Œè¿”å›å€¼è¦æ±‚ä¸º <code>string</code> æˆ–è€… <code>Buffer</code></p>
<p>ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="javascript">// å¯¼å‡ºä¸€ä¸ªå‡½æ•°ï¼Œsourceä¸ºwebpackä¼ é€’ç»™loaderçš„æ–‡ä»¶æºå†…å®¹
module.exports = function(source) &#123;
    const content = doSomeThing2JsString(source);
    
    // å¦‚æœ loader é…ç½®äº† options å¯¹è±¡ï¼Œé‚£ä¹ˆthis.queryå°†æŒ‡å‘ options
    const options = this.query;
    
    // å¯ä»¥ç”¨ä½œè§£æå…¶ä»–æ¨¡å—è·¯å¾„çš„ä¸Šä¸‹æ–‡
    console.log(&#39;this.context&#39;);
    
    /*
     * this.callback å‚æ•°ï¼š
     * errorï¼šError | nullï¼Œå½“ loader å‡ºé”™æ—¶å‘å¤–æŠ›å‡ºä¸€ä¸ª error
     * contentï¼šString | Bufferï¼Œç»è¿‡ loader ç¼–è¯‘åéœ€è¦å¯¼å‡ºçš„å†…å®¹
     * sourceMapï¼šä¸ºæ–¹ä¾¿è°ƒè¯•ç”Ÿæˆçš„ç¼–è¯‘åå†…å®¹çš„ source map
     * astï¼šæœ¬æ¬¡ç¼–è¯‘ç”Ÿæˆçš„ AST é™æ€è¯­æ³•æ ‘ï¼Œä¹‹åæ‰§è¡Œçš„ loader å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ª ASTï¼Œè¿›è€Œçœå»é‡å¤ç”Ÿæˆ AST çš„è¿‡ç¨‹
     */
    this.callback(null, content); // å¼‚æ­¥
    return content; // åŒæ­¥
&#125;
</code></pre>
<p>ä¸€èˆ¬åœ¨ç¼–å†™<code>loader</code>çš„è¿‡ç¨‹ä¸­ï¼Œä¿æŒåŠŸèƒ½å•ä¸€ï¼Œé¿å…åšå¤šç§åŠŸèƒ½</p>
<p>å¦‚<code>less</code>æ–‡ä»¶è½¬æ¢æˆ <code>css </code>æ–‡ä»¶ä¹Ÿä¸æ˜¯ä¸€æ­¥åˆ°ä½ï¼Œè€Œæ˜¯ <code>less-loader</code>ã€<code>css-loader</code>ã€<code>style-loader</code>å‡ ä¸ª <code>loader </code>çš„é“¾å¼è°ƒç”¨æ‰èƒ½å®Œæˆè½¬æ¢</p>
<h4 id="äºŒã€ç¼–å†™plugin"><a href="#äºŒã€ç¼–å†™plugin" class="headerlink" title="äºŒã€ç¼–å†™plugin"></a>äºŒã€ç¼–å†™plugin</h4><p>ç”±äº<code>webpack</code>åŸºäºå‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œåœ¨è¿è¡Œçš„ç”Ÿå‘½å‘¨æœŸä¸­ä¼šå¹¿æ’­å‡ºè®¸å¤šäº‹ä»¶ï¼Œæ’ä»¶é€šè¿‡ç›‘å¬è¿™äº›äº‹ä»¶ï¼Œå°±å¯ä»¥åœ¨ç‰¹å®šçš„é˜¶æ®µæ‰§è¡Œè‡ªå·±çš„æ’ä»¶ä»»åŠ¡</p>
<p>åœ¨ä¹‹å‰ä¹Ÿäº†è§£è¿‡ï¼Œ<code>webpack</code>ç¼–è¯‘ä¼šåˆ›å»ºä¸¤ä¸ªæ ¸å¿ƒå¯¹è±¡ï¼š</p>
<ul>
<li>compilerï¼šåŒ…å«äº† webpack ç¯å¢ƒçš„æ‰€æœ‰çš„é…ç½®ä¿¡æ¯ï¼ŒåŒ…æ‹¬ optionsï¼Œloader å’Œ pluginï¼Œå’Œ webpack æ•´ä¸ªç”Ÿå‘½å‘¨æœŸç›¸å…³çš„é’©å­</li>
<li>compilationï¼šä½œä¸º plugin å†…ç½®äº‹ä»¶å›è°ƒå‡½æ•°çš„å‚æ•°ï¼ŒåŒ…å«äº†å½“å‰çš„æ¨¡å—èµ„æºã€ç¼–è¯‘ç”Ÿæˆèµ„æºã€å˜åŒ–çš„æ–‡ä»¶ä»¥åŠè¢«è·Ÿè¸ªä¾èµ–çš„çŠ¶æ€ä¿¡æ¯ã€‚å½“æ£€æµ‹åˆ°ä¸€ä¸ªæ–‡ä»¶å˜åŒ–ï¼Œä¸€æ¬¡æ–°çš„ Compilation å°†è¢«åˆ›å»º</li>
</ul>
<p>å¦‚æœè‡ªå·±è¦å®ç°<code>plugin</code>ï¼Œä¹Ÿéœ€è¦éµå¾ªä¸€å®šçš„è§„èŒƒï¼š</p>
<ul>
<li>æ’ä»¶å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°æˆ–è€…æ˜¯ä¸€ä¸ªåŒ…å« <code>apply</code> æ–¹æ³•çš„å¯¹è±¡ï¼Œè¿™æ ·æ‰èƒ½è®¿é—®<code>compiler</code>å®ä¾‹</li>
<li>ä¼ ç»™æ¯ä¸ªæ’ä»¶çš„ <code>compiler</code> å’Œ <code>compilation</code> å¯¹è±¡éƒ½æ˜¯åŒä¸€ä¸ªå¼•ç”¨ï¼Œå› æ­¤ä¸å»ºè®®ä¿®æ”¹</li>
<li>å¼‚æ­¥çš„äº‹ä»¶éœ€è¦åœ¨æ’ä»¶å¤„ç†å®Œä»»åŠ¡æ—¶è°ƒç”¨å›è°ƒå‡½æ•°é€šçŸ¥ <code>Webpack</code> è¿›å…¥ä¸‹ä¸€ä¸ªæµç¨‹ï¼Œä¸ç„¶ä¼šå¡ä½</li>
</ul>
<p>å®ç°<code>plugin</code>çš„æ¨¡æ¿å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">class MyPlugin &#123;
    // Webpack ä¼šè°ƒç”¨ MyPlugin å®ä¾‹çš„ apply æ–¹æ³•ç»™æ’ä»¶å®ä¾‹ä¼ å…¥ compiler å¯¹è±¡
  apply (compiler) &#123;
    // æ‰¾åˆ°åˆé€‚çš„äº‹ä»¶é’©å­ï¼Œå®ç°è‡ªå·±çš„æ’ä»¶åŠŸèƒ½
    compiler.hooks.emit.tap(&#39;MyPlugin&#39;, compilation =&gt; &#123;
        // compilation: å½“å‰æ‰“åŒ…æ„å»ºæµç¨‹çš„ä¸Šä¸‹æ–‡
        console.log(compilation);
        
        // do something...
    &#125;)
  &#125;
&#125;
</code></pre>
<p>åœ¨ <code>emit</code> äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œä»£è¡¨æºæ–‡ä»¶çš„è½¬æ¢å’Œç»„è£…å·²ç»å®Œæˆï¼Œå¯ä»¥è¯»å–åˆ°æœ€ç»ˆå°†è¾“å‡ºçš„èµ„æºã€ä»£ç å—ã€æ¨¡å—åŠå…¶ä¾èµ–ï¼Œå¹¶ä¸”å¯ä»¥ä¿®æ”¹è¾“å‡ºèµ„æºçš„å†…å®¹</p>
<h4 id="ä¸‰ã€æ‰‹å†™ä¸€ä¸ªloaderå’Œplugin"><a href="#ä¸‰ã€æ‰‹å†™ä¸€ä¸ªloaderå’Œplugin" class="headerlink" title="ä¸‰ã€æ‰‹å†™ä¸€ä¸ªloaderå’Œplugin"></a>ä¸‰ã€æ‰‹å†™ä¸€ä¸ªloaderå’Œplugin</h4><p><a href="https://juejin.cn/post/6844903689442820110">æ‰‹å†™ä¸€ä¸ªloaderå’Œplugin</a></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-webpack-proxyå·¥ä½œåŸç†ï¼Ÿä¸ºä»€ä¹ˆèƒ½è§£å†³è·¨åŸŸ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-webpack-proxyå·¥ä½œåŸç†ï¼Ÿä¸ºä»€ä¹ˆèƒ½è§£å†³è·¨åŸŸ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ webpack proxyå·¥ä½œåŸç†ï¼Ÿä¸ºä»€ä¹ˆèƒ½è§£å†³è·¨åŸŸ?"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ webpack proxyå·¥ä½œåŸç†ï¼Ÿä¸ºä»€ä¹ˆèƒ½è§£å†³è·¨åŸŸ?</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-3"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-3" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p><code>webpack proxy</code>ï¼Œå³<code>webpack</code>æä¾›çš„ä»£ç†æœåŠ¡</p>
<p>åŸºæœ¬è¡Œä¸ºå°±æ˜¯æ¥æ”¶å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚åè½¬å‘ç»™å…¶ä»–æœåŠ¡å™¨</p>
<p>å…¶ç›®çš„æ˜¯ä¸ºäº†ä¾¿äºå¼€å‘è€…åœ¨å¼€å‘æ¨¡å¼ä¸‹è§£å†³è·¨åŸŸé—®é¢˜ï¼ˆæµè§ˆå™¨å®‰å…¨ç­–ç•¥é™åˆ¶ï¼‰</p>
<p>æƒ³è¦å®ç°ä»£ç†é¦–å…ˆéœ€è¦ä¸€ä¸ªä¸­é—´æœåŠ¡å™¨ï¼Œ<code>webpack</code>ä¸­æä¾›æœåŠ¡å™¨çš„å·¥å…·ä¸º<code>webpack-dev-server</code></p>
<h5 id="webpack-dev-server"><a href="#webpack-dev-server" class="headerlink" title="webpack-dev-server"></a>webpack-dev-server</h5><p><code>webpack-dev-server</code>æ˜¯ <code>webpack</code> å®˜æ–¹æ¨å‡ºçš„ä¸€æ¬¾å¼€å‘å·¥å…·ï¼Œå°†è‡ªåŠ¨ç¼–è¯‘å’Œè‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨ç­‰ä¸€ç³»åˆ—å¯¹å¼€å‘å‹å¥½çš„åŠŸèƒ½å…¨éƒ¨é›†æˆåœ¨äº†ä¸€èµ·</p>
<p>ç›®çš„æ˜¯ä¸ºäº†æé«˜å¼€å‘è€…æ—¥å¸¸çš„å¼€å‘æ•ˆç‡ï¼Œåªé€‚ç”¨åœ¨å¼€å‘é˜¶æ®µ</p>
<p>å…³äºé…ç½®æ–¹é¢ï¼Œåœ¨<code>webpack</code>é…ç½®å¯¹è±¡å±æ€§ä¸­é€šè¿‡<code>devServer</code>å±æ€§æä¾›ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">// ./webpack.config.js
const path = require(&#39;path&#39;)

module.exports = &#123;
    // ...
    devServer: &#123;
        contentBase: path.join(__dirname, &#39;dist&#39;),
        compress: true,
        port: 9000,
        proxy: &#123;
            &#39;/api&#39;: &#123;
                target: &#39;https://api.github.com&#39;
            &#125;
        &#125;
        // ...
    &#125;
&#125;
</code></pre>
<p><code>devServetr</code>é‡Œé¢<code>proxy</code>åˆ™æ˜¯å…³äºä»£ç†çš„é…ç½®ï¼Œè¯¥å±æ€§ä¸ºå¯¹è±¡çš„å½¢å¼ï¼Œå¯¹è±¡ä¸­æ¯ä¸€ä¸ªå±æ€§å°±æ˜¯ä¸€ä¸ªä»£ç†çš„è§„åˆ™åŒ¹é…</p>
<p>å±æ€§çš„åç§°æ˜¯éœ€è¦è¢«ä»£ç†çš„è¯·æ±‚è·¯å¾„å‰ç¼€ï¼Œä¸€èˆ¬ä¸ºäº†è¾¨åˆ«éƒ½ä¼šè®¾ç½®å‰ç¼€ä¸º<code> /api</code>ï¼Œå€¼ä¸ºå¯¹åº”çš„ä»£ç†åŒ¹é…è§„åˆ™ï¼Œå¯¹åº”å¦‚ä¸‹ï¼š</p>
<ul>
<li>targetï¼šè¡¨ç¤ºçš„æ˜¯ä»£ç†åˆ°çš„ç›®æ ‡åœ°å€</li>
<li>pathRewriteï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„ &#x2F;api-hy ä¹Ÿä¼šè¢«å†™å…¥åˆ°URLä¸­ï¼Œå¦‚æœå¸Œæœ›åˆ é™¤ï¼Œå¯ä»¥ä½¿ç”¨pathRewrite</li>
<li>secureï¼šé»˜è®¤æƒ…å†µä¸‹ä¸æ¥æ”¶è½¬å‘åˆ°httpsçš„æœåŠ¡å™¨ä¸Šï¼Œå¦‚æœå¸Œæœ›æ”¯æŒï¼Œå¯ä»¥è®¾ç½®ä¸ºfalse</li>
<li>changeOriginï¼šå®ƒè¡¨ç¤ºæ˜¯å¦æ›´æ–°ä»£ç†åè¯·æ±‚çš„ headers ä¸­hoståœ°å€</li>
</ul>
<h4 id="äºŒã€å·¥ä½œåŸç†"><a href="#äºŒã€å·¥ä½œåŸç†" class="headerlink" title="äºŒã€å·¥ä½œåŸç†"></a>äºŒã€å·¥ä½œåŸç†</h4><p><code>proxy</code>å·¥ä½œåŸç†å®è´¨ä¸Šæ˜¯åˆ©ç”¨<code>http-proxy-middleware</code> è¿™ä¸ª<code>http</code>ä»£ç†ä¸­é—´ä»¶ï¼Œå®ç°è¯·æ±‚è½¬å‘ç»™å…¶ä»–æœåŠ¡å™¨</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<p>åœ¨å¼€å‘é˜¶æ®µï¼Œæœ¬åœ°åœ°å€ä¸º<code>http://localhost:3000</code>ï¼Œè¯¥æµè§ˆå™¨å‘é€ä¸€ä¸ªå‰ç¼€å¸¦æœ‰<code>/api</code>æ ‡è¯†çš„è¯·æ±‚åˆ°æœåŠ¡ç«¯è·å–æ•°æ®ï¼Œä½†å“åº”è¿™ä¸ªè¯·æ±‚çš„æœåŠ¡å™¨åªæ˜¯å°†è¯·æ±‚è½¬å‘åˆ°å¦ä¸€å°æœåŠ¡å™¨ä¸­</p>
<pre><code class="javascript">const express = require(&#39;express&#39;);
const proxy = require(&#39;http-proxy-middleware&#39;);

const app = express();

app.use(&#39;/api&#39;, proxy(&#123;target: &#39;http://www.example.org&#39;, changeOrigin: true&#125;));
app.listen(3000);

// http://localhost:3000/api/foo/bar -&gt; http://www.example.org/api/foo/bar
</code></pre>
<h4 id="ä¸‰ã€è·¨åŸŸ"><a href="#ä¸‰ã€è·¨åŸŸ" class="headerlink" title="ä¸‰ã€è·¨åŸŸ"></a>ä¸‰ã€è·¨åŸŸ</h4><p>åœ¨å¼€å‘é˜¶æ®µï¼Œ <code>webpack-dev-server</code> ä¼šå¯åŠ¨ä¸€ä¸ªæœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„åº”ç”¨åœ¨å¼€å‘é˜¶æ®µæ˜¯ç‹¬ç«‹è¿è¡Œåœ¨ <code>localhost </code>çš„ä¸€ä¸ªç«¯å£ä¸Šï¼Œè€Œåç«¯æœåŠ¡åˆæ˜¯è¿è¡Œåœ¨å¦å¤–ä¸€ä¸ªåœ°å€ä¸Š</p>
<p>æ‰€ä»¥åœ¨å¼€å‘é˜¶æ®µä¸­ï¼Œç”±äºæµè§ˆå™¨åŒæºç­–ç•¥çš„åŸå› ï¼Œå½“æœ¬åœ°è®¿é—®åç«¯å°±ä¼šå‡ºç°è·¨åŸŸè¯·æ±‚çš„é—®é¢˜</p>
<p>é€šè¿‡è®¾ç½®<code>webpack proxy</code>å®ç°ä»£ç†è¯·æ±‚åï¼Œç›¸å½“äºæµè§ˆå™¨ä¸æœåŠ¡ç«¯ä¸­æ·»åŠ ä¸€ä¸ªä»£ç†è€…</p>
<p>å½“æœ¬åœ°å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œä»£ç†æœåŠ¡å™¨å“åº”è¯¥è¯·æ±‚ï¼Œå¹¶å°†è¯·æ±‚è½¬å‘åˆ°ç›®æ ‡æœåŠ¡å™¨ï¼Œç›®æ ‡æœåŠ¡å™¨å“åº”æ•°æ®åå†å°†æ•°æ®è¿”å›ç»™ä»£ç†æœåŠ¡å™¨ï¼Œæœ€ç»ˆå†ç”±ä»£ç†æœåŠ¡å™¨å°†æ•°æ®å“åº”ç»™æœ¬åœ°</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f36356235653563302d616365352d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>åœ¨ä»£ç†æœåŠ¡å™¨ä¼ é€’æ•°æ®ç»™æœ¬åœ°æµè§ˆå™¨çš„è¿‡ç¨‹ä¸­ï¼Œä¸¤è€…åŒæºï¼Œå¹¶ä¸å­˜åœ¨è·¨åŸŸè¡Œä¸ºï¼Œè¿™æ—¶å€™æµè§ˆå™¨å°±èƒ½æ­£å¸¸æ¥æ”¶æ•°æ®</p>
<p>æ³¨æ„ï¼šæœåŠ¡å™¨ä¸æœåŠ¡å™¨ä¹‹é—´è¯·æ±‚æ•°æ®å¹¶ä¸ä¼šå­˜åœ¨è·¨åŸŸè¡Œä¸ºï¼Œè·¨åŸŸè¡Œä¸ºæ˜¯æµè§ˆå™¨å®‰å…¨ç­–ç•¥é™åˆ¶</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•å€ŸåŠ©webpackæ¥ä¼˜åŒ–å‰ç«¯æ€§èƒ½ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•å€ŸåŠ©webpackæ¥ä¼˜åŒ–å‰ç«¯æ€§èƒ½ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•å€ŸåŠ©webpackæ¥ä¼˜åŒ–å‰ç«¯æ€§èƒ½ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•å€ŸåŠ©webpackæ¥ä¼˜åŒ–å‰ç«¯æ€§èƒ½ï¼Ÿ</h3><h4 id="ä¸€ã€èƒŒæ™¯-2"><a href="#ä¸€ã€èƒŒæ™¯-2" class="headerlink" title="ä¸€ã€èƒŒæ™¯"></a>ä¸€ã€èƒŒæ™¯</h4><p>éšç€å‰ç«¯çš„é¡¹ç›®é€æ¸æ‰©å¤§ï¼Œå¿…ç„¶ä¼šå¸¦æ¥çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯æ€§èƒ½</p>
<p>å°¤å…¶åœ¨å¤§å‹å¤æ‚çš„é¡¹ç›®ä¸­ï¼Œå‰ç«¯ä¸šåŠ¡å¯èƒ½å› ä¸ºä¸€ä¸ªå°å°çš„æ•°æ®ä¾èµ–ï¼Œå¯¼è‡´æ•´ä¸ªé¡µé¢å¡é¡¿ç”šè‡³å¥”æºƒ</p>
<p>ä¸€èˆ¬é¡¹ç›®åœ¨å®Œæˆåï¼Œä¼šé€šè¿‡<code>webpack</code>è¿›è¡Œæ‰“åŒ…ï¼Œåˆ©ç”¨<code>webpack</code>å¯¹å‰ç«¯é¡¹ç›®æ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªååˆ†é‡è¦çš„ç¯èŠ‚</p>
<h4 id="äºŒã€å¦‚ä½•ä¼˜åŒ–-1"><a href="#äºŒã€å¦‚ä½•ä¼˜åŒ–-1" class="headerlink" title="äºŒã€å¦‚ä½•ä¼˜åŒ–"></a>äºŒã€å¦‚ä½•ä¼˜åŒ–</h4><p>é€šè¿‡<code>webpack</code>ä¼˜åŒ–å‰ç«¯çš„æ‰‹æ®µæœ‰ï¼š</p>
<ul>
<li>JSä»£ç å‹ç¼©</li>
<li>CSSä»£ç å‹ç¼©</li>
<li>Htmlæ–‡ä»¶ä»£ç å‹ç¼©</li>
<li>æ–‡ä»¶å¤§å°å‹ç¼©</li>
<li>å›¾ç‰‡å‹ç¼©</li>
<li>Tree Shaking</li>
<li>ä»£ç åˆ†ç¦»</li>
<li>å†…è” chunk</li>
</ul>
<h5 id="JSä»£ç å‹ç¼©"><a href="#JSä»£ç å‹ç¼©" class="headerlink" title="JSä»£ç å‹ç¼©"></a>JSä»£ç å‹ç¼©</h5><p><code>terser</code>æ˜¯ä¸€ä¸ª<code>JavaScript</code>çš„è§£é‡Šã€ç»è‚‰æœºã€å‹ç¼©æœºçš„å·¥å…·é›†ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å‹ç¼©ã€ä¸‘åŒ–æˆ‘ä»¬çš„ä»£ç ï¼Œè®©<code>bundle</code>æ›´å°</p>
<p>åœ¨<code>production</code>æ¨¡å¼ä¸‹ï¼Œ<code>webpack</code> é»˜è®¤å°±æ˜¯ä½¿ç”¨ <code>TerserPlugin</code> æ¥å¤„ç†æˆ‘ä»¬çš„ä»£ç çš„ã€‚å¦‚æœæƒ³è¦è‡ªå®šä¹‰é…ç½®å®ƒï¼Œé…ç½®æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const TerserPlugin = require(&#39;terser-webpack-plugin&#39;)
module.exports = &#123;
    ...
    optimization: &#123;
        minimize: true,
        minimizer: [
            new TerserPlugin(&#123;
                parallel: true // ç”µè„‘cpuæ ¸æ•°-1
            &#125;)
        ]
    &#125;
&#125;
</code></pre>
<p>å±æ€§ä»‹ç»å¦‚ä¸‹ï¼š</p>
<ul>
<li>extractCommentsï¼šé»˜è®¤å€¼ä¸ºtrueï¼Œè¡¨ç¤ºä¼šå°†æ³¨é‡ŠæŠ½å–åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ï¼Œå¼€å‘é˜¶æ®µï¼Œæˆ‘ä»¬å¯è®¾ç½®ä¸º false ï¼Œä¸ä¿ç•™æ³¨é‡Š</li>
<li>parallelï¼šä½¿ç”¨å¤šè¿›ç¨‹å¹¶å‘è¿è¡Œæé«˜æ„å»ºçš„é€Ÿåº¦ï¼Œé»˜è®¤å€¼æ˜¯trueï¼Œå¹¶å‘è¿è¡Œçš„é»˜è®¤æ•°é‡ï¼š os.cpus().length - 1</li>
<li>terserOptionsï¼šè®¾ç½®æˆ‘ä»¬çš„terserç›¸å…³çš„é…ç½®ï¼š<ul>
<li>compressï¼šè®¾ç½®å‹ç¼©ç›¸å…³çš„é€‰é¡¹ï¼Œmangleï¼šè®¾ç½®ä¸‘åŒ–ç›¸å…³çš„é€‰é¡¹ï¼Œå¯ä»¥ç›´æ¥è®¾ç½®ä¸ºtrue</li>
<li>mangleï¼šè®¾ç½®ä¸‘åŒ–ç›¸å…³çš„é€‰é¡¹ï¼Œå¯ä»¥ç›´æ¥è®¾ç½®ä¸ºtrue</li>
<li>toplevelï¼šåº•å±‚å˜é‡æ˜¯å¦è¿›è¡Œè½¬æ¢</li>
<li>keep_classnamesï¼šä¿ç•™ç±»çš„åç§°</li>
<li>keep_fnamesï¼šä¿ç•™å‡½æ•°çš„åç§°</li>
</ul>
</li>
</ul>
<h5 id="CSSä»£ç å‹ç¼©"><a href="#CSSä»£ç å‹ç¼©" class="headerlink" title="CSSä»£ç å‹ç¼©"></a>CSSä»£ç å‹ç¼©</h5><p><code>CSS</code>å‹ç¼©é€šå¸¸æ˜¯å»é™¤æ— ç”¨çš„ç©ºæ ¼ç­‰ï¼Œå› ä¸ºå¾ˆéš¾å»ä¿®æ”¹é€‰æ‹©å™¨ã€å±æ€§çš„åç§°ã€å€¼ç­‰</p>
<p>CSSçš„å‹ç¼©æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦å¤–ä¸€ä¸ªæ’ä»¶ï¼š<code>css-minimizer-webpack-plugin</code></p>
<pre><code class="ini">npm install css-minimizer-webpack-plugin -D
</code></pre>
<p>é…ç½®æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const CssMinimizerPlugin = require(&#39;css-minimizer-webpack-plugin&#39;)
module.exports = &#123;
    // ...
    optimization: &#123;
        minimize: true,
        minimizer: [
            new CssMinimizerPlugin(&#123;
                parallel: true
            &#125;)
        ]
    &#125;
&#125;
</code></pre>
<h5 id="Htmlæ–‡ä»¶ä»£ç å‹ç¼©"><a href="#Htmlæ–‡ä»¶ä»£ç å‹ç¼©" class="headerlink" title="Htmlæ–‡ä»¶ä»£ç å‹ç¼©"></a>Htmlæ–‡ä»¶ä»£ç å‹ç¼©</h5><p>ä½¿ç”¨<code>HtmlWebpackPlugin</code>æ’ä»¶æ¥ç”Ÿæˆ<code>HTML</code>çš„æ¨¡æ¿æ—¶å€™ï¼Œé€šè¿‡é…ç½®å±æ€§<code>minify</code>è¿›è¡Œ<code>html</code>ä¼˜åŒ–</p>
<pre><code class="javascript">module.exports = &#123;
    ...
    plugin:[
        new HtmlwebpackPlugin(&#123;
            ...
            minify:&#123;
                minifyCSS:false, // æ˜¯å¦å‹ç¼©css
                collapseWhitespace:false, // æ˜¯å¦æŠ˜å ç©ºæ ¼
                removeComments:true // æ˜¯å¦ç§»é™¤æ³¨é‡Š
            &#125;
        &#125;)
    ]
&#125;
</code></pre>
<p>è®¾ç½®äº†<code>minify</code>ï¼Œå®é™…ä¼šä½¿ç”¨å¦ä¸€ä¸ªæ’ä»¶<code>html-minifier-terser</code></p>
<h5 id="æ–‡ä»¶å¤§å°å‹ç¼©"><a href="#æ–‡ä»¶å¤§å°å‹ç¼©" class="headerlink" title="æ–‡ä»¶å¤§å°å‹ç¼©"></a>æ–‡ä»¶å¤§å°å‹ç¼©</h5><p>å¯¹æ–‡ä»¶çš„å¤§å°è¿›è¡Œå‹ç¼©ï¼Œå‡å°‘<code>http</code>ä¼ è¾“è¿‡ç¨‹ä¸­å®½å¸¦çš„æŸè€—</p>
<pre><code class="javascript">npm install compression-webpack-plugin -D
new ComepressionPlugin(&#123;
    test:/\.(css|js)$/,  // å“ªäº›æ–‡ä»¶éœ€è¦å‹ç¼©
    threshold:500, // è®¾ç½®æ–‡ä»¶å¤šå¤§å¼€å§‹å‹ç¼©
    minRatio:0.7, // è‡³å°‘å‹ç¼©çš„æ¯”ä¾‹
    algorithm:&quot;gzip&quot;, // é‡‡ç”¨çš„å‹ç¼©ç®—æ³•
&#125;)
</code></pre>
<h5 id="å›¾ç‰‡å‹ç¼©"><a href="#å›¾ç‰‡å‹ç¼©" class="headerlink" title="å›¾ç‰‡å‹ç¼©"></a>å›¾ç‰‡å‹ç¼©</h5><p>ä¸€èˆ¬æ¥è¯´åœ¨æ‰“åŒ…ä¹‹åï¼Œä¸€äº›å›¾ç‰‡æ–‡ä»¶çš„å¤§å°æ˜¯è¿œè¿œè¦æ¯” <code>js</code> æˆ–è€… <code>css</code> æ–‡ä»¶è¦æ¥çš„å¤§ï¼Œæ‰€ä»¥å›¾ç‰‡å‹ç¼©è¾ƒä¸ºé‡è¦</p>
<p>é…ç½®æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">module: &#123;
  rules: [
    &#123;
      test: /\.(png|jpg|gif)$/,
      use: [
        &#123;
          loader: &#39;file-loader&#39;,
          options: &#123;
            name: &#39;[name]_[hash].[ext]&#39;,
            outputPath: &#39;images/&#39;,
          &#125;
        &#125;,
        &#123;
          loader: &#39;image-webpack-loader&#39;,
          options: &#123;
            // å‹ç¼© jpeg çš„é…ç½®
            mozjpeg: &#123;
              progressive: true,
              quality: 65
            &#125;,
            // ä½¿ç”¨ imagemin**-optipng å‹ç¼© pngï¼Œenable: false ä¸ºå…³é—­
            optipng: &#123;
              enabled: false,
            &#125;,
            // ä½¿ç”¨ imagemin-pngquant å‹ç¼© png
            pngquant: &#123;
              quality: &#39;65-90&#39;,
              speed: 4
            &#125;,
            // å‹ç¼© gif çš„é…ç½®
            gifsicle: &#123;
              interlaced: false,
            &#125;,
            // å¼€å¯ webpï¼Œä¼šæŠŠ jpg å’Œ png å›¾ç‰‡å‹ç¼©ä¸º webp æ ¼å¼
            webp: &#123;
              quality: 75
            &#125;
          &#125;
        &#125;
      ]
    &#125;,
  ]
&#125; 
</code></pre>
<h5 id="Tree-Shaking"><a href="#Tree-Shaking" class="headerlink" title="Tree Shaking"></a>Tree Shaking</h5><p><code>Tree Shaking</code> æ˜¯ä¸€ä¸ªæœ¯è¯­ï¼Œåœ¨è®¡ç®—æœºä¸­è¡¨ç¤ºæ¶ˆé™¤æ­»ä»£ç ï¼Œä¾èµ–äº<code>ES Module</code>çš„é™æ€è¯­æ³•åˆ†æï¼ˆä¸æ‰§è¡Œä»»ä½•çš„ä»£ç ï¼Œå¯ä»¥æ˜ç¡®çŸ¥é“æ¨¡å—çš„ä¾èµ–å…³ç³»ï¼‰</p>
<p>åœ¨<code>webpack</code>å®ç°<code>Trss shaking</code>æœ‰ä¸¤ç§ä¸åŒçš„æ–¹æ¡ˆï¼š</p>
<ul>
<li>usedExportsï¼šé€šè¿‡æ ‡è®°æŸäº›å‡½æ•°æ˜¯å¦è¢«ä½¿ç”¨ï¼Œä¹‹åé€šè¿‡Terseræ¥è¿›è¡Œä¼˜åŒ–çš„</li>
<li>sideEffectsï¼šè·³è¿‡æ•´ä¸ªæ¨¡å—&#x2F;æ–‡ä»¶ï¼Œç›´æ¥æŸ¥çœ‹è¯¥æ–‡ä»¶æ˜¯å¦æœ‰å‰¯ä½œç”¨</li>
</ul>
<p>ä¸¤ç§ä¸åŒçš„é…ç½®æ–¹æ¡ˆï¼Œ æœ‰ä¸åŒçš„æ•ˆæœ</p>
<h5 id="usedExports"><a href="#usedExports" class="headerlink" title="usedExports"></a>usedExports</h5><p>é…ç½®æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦å°†<code>usedExports</code>è®¾ä¸º<code>true</code></p>
<pre><code class="javascript">module.exports = &#123;
    ...
    optimization:&#123;
        usedExports
    &#125;
&#125;
</code></pre>
<p>ä½¿ç”¨ä¹‹åï¼Œæ²¡è¢«ç”¨ä¸Šçš„ä»£ç åœ¨<code>webpack</code>æ‰“åŒ…ä¸­ä¼šåŠ å…¥<code>unused harmony export mul</code>æ³¨é‡Šï¼Œç”¨æ¥å‘ŠçŸ¥ <code>Terser</code> åœ¨ä¼˜åŒ–æ—¶ï¼Œå¯ä»¥åˆ é™¤æ‰è¿™æ®µä»£ç </p>
<p>å¦‚ä¸‹é¢<code>sum</code>å‡½æ•°æ²¡è¢«ç”¨åˆ°ï¼Œ<code>webpack</code>æ‰“åŒ…ä¼šæ·»åŠ æ³¨é‡Šï¼Œ<code>terser</code>åœ¨ä¼˜åŒ–æ—¶ï¼Œåˆ™å°†è¯¥å‡½æ•°å»æ‰</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f32316232653230302d616565342d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<h5 id="sideEffects"><a href="#sideEffects" class="headerlink" title="sideEffects"></a>sideEffects</h5><p><code>sideEffects</code>ç”¨äºå‘ŠçŸ¥<code>webpack compiler</code>å“ªäº›æ¨¡å—æ—¶æœ‰å‰¯ä½œç”¨ï¼Œé…ç½®æ–¹æ³•æ˜¯åœ¨<code>package.json</code>ä¸­è®¾ç½®<code>sideEffects</code>å±æ€§</p>
<p>å¦‚æœ<code>sideEffects</code>è®¾ç½®ä¸ºfalseï¼Œå°±æ˜¯å‘ŠçŸ¥<code>webpack</code>å¯ä»¥å®‰å…¨çš„åˆ é™¤æœªç”¨åˆ°çš„<code>exports</code></p>
<p>å¦‚æœæœ‰äº›æ–‡ä»¶éœ€è¦ä¿ç•™ï¼Œå¯ä»¥è®¾ç½®ä¸ºæ•°ç»„çš„å½¢å¼</p>
<pre><code class="javascript">&quot;sideEffecis&quot;:[    &quot;./src/util/format.js&quot;,    &quot;*.css&quot; // æ‰€æœ‰çš„cssæ–‡ä»¶]
</code></pre>
<p>ä¸Šè¿°éƒ½æ˜¯å…³äº<code>javascript</code>çš„<code>tree shaking</code>ï¼Œ<code>css</code>åŒæ ·ä¹Ÿèƒ½å¤Ÿå®ç°<code>tree shaking</code></p>
<h5 id="css-tree-shaking"><a href="#css-tree-shaking" class="headerlink" title="css tree shaking"></a>css tree shaking</h5><p><code>css</code>è¿›è¡Œ<code>tree shaking</code>ä¼˜åŒ–å¯ä»¥å®‰è£…<code>PurgeCss</code>æ’ä»¶</p>
<pre><code class="javascript">npm install purgecss-plugin-webpack -D
const PurgeCssPlugin = require(&#39;purgecss-webpack-plugin&#39;)module.exports = &#123;    ...    plugins:[        new PurgeCssPlugin(&#123;            path:glob.sync(`$&#123;path.resolve(&#39;./src&#39;)&#125;/**/*`), &#123;nodir:true&#125;// srcé‡Œé¢çš„æ‰€æœ‰æ–‡ä»¶            satelist:function()&#123;                return &#123;                    standard:[&quot;html&quot;]                &#125;            &#125;        &#125;)    ]&#125;
</code></pre>
<ul>
<li>pathsï¼šè¡¨ç¤ºè¦æ£€æµ‹å“ªäº›ç›®å½•ä¸‹çš„å†…å®¹éœ€è¦è¢«åˆ†æï¼Œé…åˆä½¿ç”¨glob</li>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼ŒPurgecssä¼šå°†æˆ‘ä»¬çš„htmlæ ‡ç­¾çš„æ ·å¼ç§»é™¤æ‰ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›ä¿ç•™ï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ªsafelistçš„å±æ€§</li>
</ul>
<h5 id="ä»£ç åˆ†ç¦»"><a href="#ä»£ç åˆ†ç¦»" class="headerlink" title="ä»£ç åˆ†ç¦»"></a>ä»£ç åˆ†ç¦»</h5><p>å°†ä»£ç åˆ†ç¦»åˆ°ä¸åŒçš„<code>bundle</code>ä¸­ï¼Œä¹‹åæˆ‘ä»¬å¯ä»¥æŒ‰éœ€åŠ è½½ï¼Œæˆ–è€…å¹¶è¡ŒåŠ è½½è¿™äº›æ–‡ä»¶</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰çš„<code>JavaScript</code>ä»£ç ï¼ˆä¸šåŠ¡ä»£ç ã€ç¬¬ä¸‰æ–¹ä¾èµ–ã€æš‚æ—¶æ²¡æœ‰ç”¨åˆ°çš„æ¨¡å—ï¼‰åœ¨é¦–é¡µå…¨éƒ¨éƒ½åŠ è½½ï¼Œå°±ä¼šå½±å“é¦–é¡µçš„åŠ è½½é€Ÿåº¦</p>
<p>ä»£ç åˆ†ç¦»å¯ä»¥åˆ†å‡ºå‡ºæ›´å°çš„<code>bundle</code>ï¼Œä»¥åŠæ§åˆ¶èµ„æºåŠ è½½ä¼˜å…ˆçº§ï¼Œæä¾›ä»£ç çš„åŠ è½½æ€§èƒ½</p>
<p>è¿™é‡Œé€šè¿‡<code>splitChunksPlugin</code>æ¥å®ç°ï¼Œè¯¥æ’ä»¶<code>webpack</code>å·²ç»é»˜è®¤å®‰è£…å’Œé›†æˆï¼Œåªéœ€è¦é…ç½®å³å¯</p>
<p>é»˜è®¤é…ç½®ä¸­ï¼Œchunksä»…ä»…é’ˆå¯¹äºå¼‚æ­¥ï¼ˆasyncï¼‰è¯·æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸ºinitialæˆ–è€…all</p>
<pre><code class="javascript">module.exports = &#123;    ...    optimization:&#123;        splitChunks:&#123;            chunks:&quot;all&quot;        &#125;    &#125;&#125;
</code></pre>
<p><code>splitChunks</code>ä¸»è¦å±æ€§æœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>Chunksï¼Œå¯¹åŒæ­¥ä»£ç è¿˜æ˜¯å¼‚æ­¥ä»£ç è¿›è¡Œå¤„ç†</li>
<li>minSizeï¼š æ‹†åˆ†åŒ…çš„å¤§å°, è‡³å°‘ä¸ºminSizeï¼Œå¦‚ä½•åŒ…çš„å¤§å°ä¸è¶…è¿‡minSizeï¼Œè¿™ä¸ªåŒ…ä¸ä¼šæ‹†åˆ†</li>
<li>maxSizeï¼š å°†å¤§äºmaxSizeçš„åŒ…ï¼Œæ‹†åˆ†ä¸ºä¸å°äºminSizeçš„åŒ…</li>
<li>minChunksï¼šè¢«å¼•å…¥çš„æ¬¡æ•°ï¼Œé»˜è®¤æ˜¯1</li>
</ul>
<h5 id="å†…è”chunk"><a href="#å†…è”chunk" class="headerlink" title="å†…è”chunk"></a>å†…è”chunk</h5><p>å¯ä»¥é€šè¿‡<code>InlineChunkHtmlPlugin</code>æ’ä»¶å°†ä¸€äº›<code>chunk</code>çš„æ¨¡å—å†…è”åˆ°<code>html</code>ï¼Œå¦‚<code>runtime</code>çš„ä»£ç ï¼ˆå¯¹æ¨¡å—è¿›è¡Œè§£æã€åŠ è½½ã€æ¨¡å—ä¿¡æ¯ç›¸å…³çš„ä»£ç ï¼‰ï¼Œä»£ç é‡å¹¶ä¸å¤§ï¼Œä½†æ˜¯å¿…é¡»åŠ è½½çš„</p>
<pre><code class="javascript">const InlineChunkHtmlPlugin = require(&#39;react-dev-utils/InlineChunkHtmlPlugin&#39;)const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;)module.exports = &#123;    ...    plugin:[        new InlineChunkHtmlPlugin(HtmlWebpackPlugin,[/runtime.+\.js/]&#125;
</code></pre>
<h4 id="ä¸‰ã€æ€»ç»“-2"><a href="#ä¸‰ã€æ€»ç»“-2" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h4><p>å…³äº<code>webpack</code>å¯¹å‰ç«¯æ€§èƒ½çš„ä¼˜åŒ–ï¼Œå¯ä»¥é€šè¿‡æ–‡ä»¶ä½“ç§¯å¤§å°å…¥æ‰‹ï¼Œå…¶æ¬¡è¿˜å¯é€šè¿‡åˆ†åŒ…çš„å½¢å¼ã€å‡å°‘httpè¯·æ±‚æ¬¡æ•°ç­‰æ–¹å¼ï¼Œå®ç°å¯¹å‰ç«¯æ€§èƒ½çš„ä¼˜åŒ–</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä¸webpackç±»ä¼¼çš„å·¥å…·è¿˜æœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä¸webpackç±»ä¼¼çš„å·¥å…·è¿˜æœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä¸webpackç±»ä¼¼çš„å·¥å…·è¿˜æœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä¸webpackç±»ä¼¼çš„å·¥å…·è¿˜æœ‰å“ªäº›ï¼ŸåŒºåˆ«ï¼Ÿ</h3><h4 id="ä¸€ã€æ¨¡å—åŒ–å·¥å…·"><a href="#ä¸€ã€æ¨¡å—åŒ–å·¥å…·" class="headerlink" title="ä¸€ã€æ¨¡å—åŒ–å·¥å…·"></a>ä¸€ã€æ¨¡å—åŒ–å·¥å…·</h4><p>æ¨¡å—åŒ–æ˜¯ä¸€ç§å¤„ç†å¤æ‚ç³»ç»Ÿåˆ†è§£ä¸ºæ›´å¥½çš„å¯ç®¡ç†æ¨¡å—çš„æ–¹å¼</p>
<p>å¯ä»¥ç”¨æ¥åˆ†å‰²ï¼Œç»„ç»‡å’Œæ‰“åŒ…åº”ç”¨ã€‚æ¯ä¸ªæ¨¡å—å®Œæˆä¸€ä¸ªç‰¹å®šçš„å­åŠŸèƒ½ï¼Œæ‰€æœ‰çš„æ¨¡å—æŒ‰æŸç§æ–¹æ³•ç»„è£…èµ·æ¥ï¼Œæˆä¸ºä¸€ä¸ªæ•´ä½“(<code>bundle</code>)</p>
<p>åœ¨å‰ç«¯é¢†åŸŸä¸­ï¼Œå¹¶éåªæœ‰<code>webpack</code>è¿™ä¸€æ¬¾ä¼˜ç§€çš„æ¨¡å—æ‰“åŒ…å·¥å…·ï¼Œè¿˜æœ‰å…¶ä»–ç±»ä¼¼çš„å·¥å…·ï¼Œä¾‹å¦‚<code>Rollup</code>ã€<code>Parcel</code>ã€<code>snowpack</code>ï¼Œä»¥åŠæœ€è¿‘é£å¤´æ— ä¸¤çš„<code>Vite</code></p>
<p>é€šè¿‡è¿™äº›æ¨¡å—æ‰“åŒ…å·¥å…·ï¼Œèƒ½å¤Ÿæé«˜æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ï¼Œå‡å°‘å¼€å‘æˆæœ¬</p>
<p>è¿™é‡Œæ²¡æœ‰æåŠ<code>gulp</code>ã€<code>grunt</code>æ˜¯å› ä¸ºå®ƒä»¬åªæ˜¯å®šä¹‰ä¸ºæ„å»ºå·¥å…·ï¼Œä¸èƒ½ç±»æ¯”</p>
<h5 id="Rollup"><a href="#Rollup" class="headerlink" title="Rollup"></a>Rollup</h5><p><code>Rollup</code> æ˜¯ä¸€æ¬¾ <code>ES Modules</code> æ‰“åŒ…å™¨ï¼Œä»ä½œç”¨ä¸Šæ¥çœ‹ï¼Œ<code>Rollup</code> ä¸ <code>Webpack</code> éå¸¸ç±»ä¼¼ã€‚ä¸è¿‡ç›¸æ¯”äº <code>Webpack</code>ï¼Œ<code>Rollup </code>è¦å°å·§çš„å¤š</p>
<p>ç°åœ¨å¾ˆå¤šæˆ‘ä»¬ç†ŸçŸ¥çš„åº“éƒ½éƒ½ä½¿ç”¨å®ƒè¿›è¡Œæ‰“åŒ…ï¼Œæ¯”å¦‚ï¼š<code>Vue</code>ã€<code>React</code>å’Œ<code>three.js</code>ç­‰</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre><code class="javascript">// ./src/messages.js
export default &#123;
  hi: &#39;Hey Guys, I am zce~&#39;
&#125;

// ./src/logger.js
export const log = msg =&gt; &#123;
  console.log(&#39;---------- INFO ----------&#39;)
  console.log(msg)
  console.log(&#39;--------------------------&#39;)
&#125;

export const error = msg =&gt; &#123;
  console.error(&#39;---------- ERROR ----------&#39;)
  console.error(msg)
  console.error(&#39;---------------------------&#39;)
&#125;

// ./src/index.js
import &#123; log &#125; from &#39;./logger&#39;
import messages from &#39;./messages&#39;
log(messages.hi)
</code></pre>
<p>ç„¶åé€šè¿‡<code>rollup</code>è¿›è¡Œæ‰“åŒ…</p>
<pre><code class="ini">$ npx rollup ./src/index.js --file ./dist/bundle.js
</code></pre>
<p>æ‰“åŒ…ç»“æœå¦‚ä¸‹å›¾</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f38666530373833302d623134332d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œä»£ç éå¸¸ç®€æ´ï¼Œå®Œæˆä¸åƒ<code>webpack</code>é‚£æ ·å­˜åœ¨å¤§é‡å¼•å¯¼ä»£ç å’Œæ¨¡å—å‡½æ•°</p>
<p>å¹¶ä¸”<code>error</code>æ–¹æ³•ç”±äºæ²¡æœ‰è¢«ä½¿ç”¨ï¼Œè¾“å‡ºçš„ç»“æœä¸­å¹¶æ— <code>error</code>æ–¹æ³•ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œ<code>rollup</code>é»˜è®¤å¼€å§‹<code>Tree-shaking</code> ä¼˜åŒ–è¾“å‡ºç»“æœ</p>
<p>å› æ­¤ï¼Œå¯ä»¥çœ‹åˆ°<code>Rollup</code>çš„ä¼˜ç‚¹ï¼š</p>
<ul>
<li>ä»£ç æ•ˆç‡æ›´ç®€æ´ã€æ•ˆç‡æ›´é«˜</li>
<li>é»˜è®¤æ”¯æŒ Tree-shaking</li>
</ul>
<p>ä½†ç¼ºç‚¹ä¹Ÿååˆ†æ˜æ˜¾ï¼ŒåŠ è½½å…¶ä»–ç±»å‹çš„èµ„æºæ–‡ä»¶æˆ–è€…æ”¯æŒå¯¼å…¥ <code>CommonJS</code> æ¨¡å—ï¼Œåˆæˆ–æ˜¯ç¼–è¯‘ <code>ES</code> æ–°ç‰¹æ€§ï¼Œè¿™äº›é¢å¤–çš„éœ€æ±‚ <code>Rollup </code>éœ€è¦ä½¿ç”¨æ’ä»¶å»å®Œæˆ</p>
<p>ç»¼åˆæ¥çœ‹ï¼Œ<code>rollup</code>å¹¶ä¸é€‚åˆå¼€å‘åº”ç”¨ä½¿ç”¨ï¼Œå› ä¸ºéœ€è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œè€Œç›®å‰ç¬¬ä¸‰æ–¹æ¨¡å—å¤§å¤šæ•°ä½¿ç”¨<code>CommonJs</code>æ–¹å¼å¯¼å‡ºæˆå‘˜ï¼Œå¹¶ä¸”<code>rollup</code>ä¸æ”¯æŒ<code>HMR</code>ï¼Œä½¿å¼€å‘æ•ˆç‡é™ä½</p>
<p>ä½†æ˜¯åœ¨ç”¨äºæ‰“åŒ…<code> JavaScript</code> åº“æ—¶ï¼Œ<code>rollup</code>æ¯” <code>webpack</code> æ›´æœ‰ä¼˜åŠ¿ï¼Œå› ä¸ºå…¶æ‰“åŒ…å‡ºæ¥çš„ä»£ç æ›´å°ã€æ›´å¿«ï¼Œå…¶å­˜åœ¨çš„ç¼ºç‚¹å¯ä»¥å¿½ç•¥</p>
<h5 id="Parcel"><a href="#Parcel" class="headerlink" title="Parcel"></a>Parcel</h5><p>Parcel ï¼Œæ˜¯ä¸€æ¬¾å®Œå…¨é›¶é…ç½®çš„å‰ç«¯æ‰“åŒ…å™¨ï¼Œå®ƒæä¾›äº† â€œå‚»ç“œå¼â€ çš„ä½¿ç”¨ä½“éªŒï¼Œåªéœ€äº†è§£ç®€å•çš„å‘½ä»¤ï¼Œå°±èƒ½æ„å»ºå‰ç«¯åº”ç”¨ç¨‹åº</p>
<p><code>Parcel</code> è·Ÿ <code>Webpack</code> ä¸€æ ·éƒ½æ”¯æŒä»¥ä»»æ„ç±»å‹æ–‡ä»¶ä½œä¸ºæ‰“åŒ…å…¥å£ï¼Œä½†å»ºè®®ä½¿ç”¨<code>HTML</code>æ–‡ä»¶ä½œä¸ºå…¥å£ï¼Œè¯¥<code>HTML</code>æ–‡ä»¶åƒå¹³æ—¶ä¸€æ ·æ­£å¸¸ç¼–å†™ä»£ç ã€å¼•ç”¨èµ„æºã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="javascript">&lt;!-- ./src/index.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;Parcel Tutorials&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;script src=&quot;main.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>main.jsæ–‡ä»¶é€šè¿‡<code>ES Moudle</code>æ–¹æ³•å¯¼å…¥å…¶ä»–æ¨¡å—æˆå‘˜</p>
<pre><code class="javascript">// ./src/main.js
import &#123; log &#125; from &#39;./logger&#39;
log(&#39;hello parcel&#39;)
// ./src/logger.js
export const log = msg =&gt; &#123;
  console.log(&#39;---------- INFO ----------&#39;)
  console.log(msg)
&#125;
</code></pre>
<p>è¿è¡Œä¹‹åï¼Œä½¿ç”¨å‘½ä»¤æ‰“åŒ…</p>
<pre><code class="ini">npx parcel src/index.html
</code></pre>
<p>æ‰§è¡Œå‘½ä»¤åï¼Œ<code>Parcel</code>ä¸ä»…æ‰“åŒ…äº†åº”ç”¨ï¼ŒåŒæ—¶ä¹Ÿå¯åŠ¨äº†ä¸€ä¸ªå¼€å‘æœåŠ¡å™¨ï¼Œè·Ÿ<code>webpack Dev Server</code>ä¸€æ ·</p>
<p>è·Ÿ<code>webpack</code>ç±»ä¼¼ï¼Œä¹Ÿæ”¯æŒæ¨¡å—çƒ­æ›¿æ¢ï¼Œä½†ç”¨æ³•æ›´ç®€å•</p>
<p>åŒæ—¶ï¼Œ<code>Parcel</code>æœ‰ä¸ªååˆ†å¥½ç”¨çš„åŠŸèƒ½ï¼šæ”¯æŒè‡ªåŠ¨å®‰è£…ä¾èµ–ï¼Œåƒ<code>webpack</code>å¼€å‘é˜¶æ®µçªç„¶ä½¿ç”¨å®‰è£…æŸä¸ªç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œå¿…ç„¶ä¼šç»ˆæ­¢<code>dev server</code>ç„¶åå®‰è£…å†å¯åŠ¨ã€‚è€Œ<code>Parcel</code>åˆ™å…äº†è¿™ç¹ççš„å·¥ä½œæµç¨‹</p>
<p>åŒæ—¶ï¼Œ<code>Parcel</code>èƒ½å¤Ÿé›¶é…ç½®åŠ è½½å…¶ä»–ç±»å‹çš„èµ„æºæ–‡ä»¶ï¼Œæ— é¡»åƒ<code>webpack</code>é‚£æ ·é…ç½®å¯¹åº”çš„<code>loader</code></p>
<p>æ‰“åŒ…å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<pre><code class="ini">npx parcel src/index.html
</code></pre>
<p>ç”±äºæ‰“åŒ…è¿‡ç¨‹æ˜¯å¤šè¿›ç¨‹åŒæ—¶å·¥ä½œï¼Œæ„å»ºé€Ÿåº¦ä¼šæ¯”<code>Webpack</code> å¿«ï¼Œè¾“å‡ºæ–‡ä»¶ä¹Ÿä¼šè¢«å‹ç¼©ï¼Œå¹¶ä¸”æ ·å¼ä»£ç ä¹Ÿä¼šè¢«å•ç‹¬æå–åˆ°å•ä¸ªæ–‡ä»¶ä¸­</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65633137653761302d623161322d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>å¯ä»¥æ„Ÿå—åˆ°ï¼Œ<code>Parcel </code>ç»™å¼€å‘è€…ä¸€ç§å¾ˆå¤§çš„è‡ªç”±åº¦ï¼Œåªç®¡å»å®ç°ä¸šåŠ¡ä»£ç ï¼Œå…¶ä»–äº‹æƒ…ç”¨<code>Parcel</code>è§£å†³</p>
<h5 id="Snowpack"><a href="#Snowpack" class="headerlink" title="Snowpack"></a>Snowpack</h5><p>Snowpackï¼Œæ˜¯ä¸€ç§é—ªç”µèˆ¬å¿«é€Ÿçš„å‰ç«¯æ„å»ºå·¥å…·ï¼Œä¸“ä¸ºç°ä»£<code>Web</code>è®¾è®¡ï¼Œè¾ƒå¤æ‚çš„æ‰“åŒ…å·¥å…·ï¼ˆå¦‚<code>Webpack</code>æˆ–<code>Parcel</code>ï¼‰çš„æ›¿ä»£æ–¹æ¡ˆï¼Œåˆ©ç”¨<code>JavaScript</code>çš„æœ¬æœºæ¨¡å—ç³»ç»Ÿï¼Œé¿å…ä¸å¿…è¦çš„å·¥ä½œå¹¶ä¿æŒæµç•…çš„å¼€å‘ä½“éªŒ</p>
<p>å¼€å‘é˜¶æ®µï¼Œæ¯æ¬¡ä¿å­˜å•ä¸ªæ–‡ä»¶æ—¶ï¼Œ<code>Webpack</code>å’Œ<code>Parcel</code>éƒ½éœ€è¦é‡æ–°æ„å»ºå’Œé‡æ–°æ‰“åŒ…åº”ç”¨ç¨‹åºçš„æ•´ä¸ª<code>bundle</code>ã€‚è€Œ<code>Snowpack</code>ä¸ºä½ çš„åº”ç”¨ç¨‹åºæ¯ä¸ªæ–‡ä»¶æ„å»ºä¸€æ¬¡ï¼Œå°±å¯ä»¥æ°¸ä¹…ç¼“å­˜ï¼Œæ–‡ä»¶æ›´æ”¹æ—¶ï¼Œ<code>Snowpack</code>ä¼šé‡æ–°æ„å»ºè¯¥å•ä¸ªæ–‡ä»¶</p>
<p>ä¸‹å›¾ç»™å‡º<code>webpack</code>ä¸<code>snowpack</code>æ‰“åŒ…åŒºåˆ«ï¼š</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f37393139373833302d623161332d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>åœ¨é‡æ–°æ„å»ºæ¯æ¬¡å˜æ›´æ—¶æ²¡æœ‰ä»»ä½•çš„æ—¶é—´æµªè´¹ï¼Œåªéœ€è¦åœ¨æµè§ˆå™¨ä¸­è¿›è¡ŒHMRæ›´æ–°</p>
<h5 id="Vite"><a href="#Vite" class="headerlink" title="Vite"></a>Vite</h5><p>vite ï¼Œæ˜¯ä¸€ç§æ–°å‹å‰ç«¯æ„å»ºå·¥å…·ï¼Œèƒ½å¤Ÿæ˜¾è‘—æå‡å‰ç«¯å¼€å‘ä½“éªŒ</p>
<p>å®ƒä¸»è¦ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š</p>
<ul>
<li>ä¸€ä¸ªå¼€å‘æœåŠ¡å™¨ï¼Œå®ƒåŸºäº åŸç”Ÿ ES æ¨¡å— æä¾›äº†ä¸°å¯Œçš„å†…å»ºåŠŸèƒ½ï¼Œå¦‚é€Ÿåº¦å¿«åˆ°æƒŠäººçš„ [æ¨¡å—çƒ­æ›´æ–°HMR</li>
<li>ä¸€å¥—æ„å»ºæŒ‡ä»¤ï¼Œå®ƒä½¿ç”¨ Rollupæ‰“åŒ…ä½ çš„ä»£ç ï¼Œå¹¶ä¸”å®ƒæ˜¯é¢„é…ç½®çš„ï¼Œå¯ä»¥è¾“å‡ºç”¨äºç”Ÿäº§ç¯å¢ƒçš„ä¼˜åŒ–è¿‡çš„é™æ€èµ„æº</li>
</ul>
<p>å…¶ä½œç”¨ç±»ä¼¼<code>webpack </code>+ <code>webpack-dev-server</code>ï¼Œå…¶ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p>
<ul>
<li>å¿«é€Ÿçš„å†·å¯åŠ¨</li>
<li>å³æ—¶çš„æ¨¡å—çƒ­æ›´æ–°</li>
<li>çœŸæ­£çš„æŒ‰éœ€ç¼–è¯‘</li>
</ul>
<p><code>vite</code>ä¼šç›´æ¥å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼Œä¸éœ€è¦è¿›è¡Œæ‰“åŒ…æ“ä½œï¼Œä¹Ÿå°±æ„å‘³ç€ä¸éœ€è¦åˆ†ææ¨¡å—çš„ä¾èµ–ã€ä¸éœ€è¦ç¼–è¯‘ï¼Œå› æ­¤å¯åŠ¨é€Ÿåº¦éå¸¸å¿«</p>
<p>åˆ©ç”¨ç°ä»£æµè§ˆå™¨æ”¯æŒ<code>ES Module</code>çš„ç‰¹æ€§ï¼Œå½“æµè§ˆå™¨è¯·æ±‚æŸä¸ªæ¨¡å—çš„æ—¶å€™ï¼Œå†æ ¹æ®éœ€è¦å¯¹æ¨¡å—çš„å†…å®¹è¿›è¡Œç¼–è¯‘ï¼Œè¿™ç§æ–¹å¼å¤§å¤§ç¼©çŸ­äº†ç¼–è¯‘æ—¶é—´</p>
<p>åŸç†å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f39663265656433302d623134332d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>åœ¨çƒ­æ¨¡å—<code>HMR</code>æ–¹é¢ï¼Œå½“ä¿®æ”¹ä¸€ä¸ªæ¨¡å—çš„æ—¶å€™ï¼Œä»…éœ€è®©æµè§ˆå™¨é‡æ–°è¯·æ±‚è¯¥æ¨¡å—å³å¯ï¼Œæ— é¡»åƒ<code>webpack</code>é‚£æ ·éœ€è¦æŠŠè¯¥æ¨¡å—çš„ç›¸å…³ä¾èµ–æ¨¡å—å…¨éƒ¨ç¼–è¯‘ä¸€æ¬¡ï¼Œæ•ˆç‡æ›´é«˜</p>
<h5 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h5><p>ç›¸æ¯”ä¸Šè¿°çš„æ¨¡å—åŒ–å·¥å…·ï¼Œ<code>webpack</code>å¤§è€Œå…¨ï¼Œå¾ˆå¤šå¸¸ç”¨çš„åŠŸèƒ½åšåˆ°å¼€ç®±å³ç”¨ã€‚æœ‰ä¸¤å¤§æœ€æ ¸å¿ƒçš„ç‰¹ç‚¹ï¼šä¸€åˆ‡çš†æ¨¡å—å’ŒæŒ‰éœ€åŠ è½½</p>
<p>ä¸å…¶ä»–æ„å»ºå·¥å…·ç›¸æ¯”ï¼Œæœ‰å¦‚ä¸‹ä¼˜åŠ¿ï¼š</p>
<ul>
<li>æ™ºèƒ½è§£æï¼šå¯¹ CommonJS ã€ AMD ã€ES6 çš„è¯­æ³•åšäº†å…¼å®¹</li>
<li>ä¸‡ç‰©æ¨¡å—ï¼šå¯¹ jsã€cssã€å›¾ç‰‡ç­‰èµ„æºæ–‡ä»¶éƒ½æ”¯æŒæ‰“åŒ…</li>
<li>å¼€ç®±å³ç”¨ï¼šHRMã€Tree-shakingç­‰åŠŸèƒ½</li>
<li>ä»£ç åˆ†å‰²ï¼šå¯ä»¥å°†ä»£ç åˆ‡å‰²æˆä¸åŒçš„ chunkï¼Œå®ç°æŒ‰éœ€åŠ è½½ï¼Œé™ä½äº†åˆå§‹åŒ–æ—¶é—´</li>
<li>æ’ä»¶ç³»ç»Ÿï¼Œå…·æœ‰å¼ºå¤§çš„ Plugin æ¥å£ï¼Œå…·æœ‰æ›´å¥½çš„çµæ´»æ€§å’Œæ‰©å±•æ€§</li>
<li>æ˜“äºè°ƒè¯•ï¼šæ”¯æŒ SourceUrls å’Œ SourceMaps</li>
<li>å¿«é€Ÿè¿è¡Œï¼šwebpack ä½¿ç”¨å¼‚æ­¥ IO å¹¶å…·æœ‰å¤šçº§ç¼“å­˜ï¼Œè¿™ä½¿å¾— webpack å¾ˆå¿«ä¸”åœ¨å¢é‡ç¼–è¯‘ä¸Šæ›´åŠ å¿«</li>
<li>ç”Ÿæ€ç¯å¢ƒå¥½ï¼šç¤¾åŒºæ›´ä¸°å¯Œï¼Œå‡ºç°çš„é—®é¢˜æ›´å®¹æ˜“è§£å†³</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä»£ç åˆ†å‰²çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä»£ç åˆ†å‰²çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä»£ç åˆ†å‰²çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä»£ç åˆ†å‰²çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿ</h3><p>ä»£ç åˆ†å‰²çš„æœ¬è´¨ï¼š æ˜¯èƒ½å¤ŸæŠŠä»£ç åˆ†ç¦»åˆ°ä¸åŒçš„bundleä¸­ï¼Œé¿å…å‡ºç°å¤§ä½“ç§¯çš„ä»£ç åŒ…ï¼Œç„¶åå¯ä»¥æŒ‰éœ€åŠ è½½æˆ–å¹¶è¡ŒåŠ è½½è¿™äº›æ–‡ä»¶ </p>
<p>ä»£ç åˆ†ç¦»çš„æ„ä¹‰ï¼š ä»£ç åˆ†ç¦»å¯ä»¥è·å–æ›´å°çš„bundleï¼Œä»¥åŠæ§åˆ¶èµ„æºåŠ è½½ä¼˜å…ˆçº§ï¼Œåˆç†ä½¿ç”¨å¯ä»¥æå¤§çš„å‡å°‘åŠ è½½æ—¶é—´ </p>
<p>ä»£ç åˆ†å‰²çš„å®ç°æ–¹å¼æœ‰ä¸‰ç§ï¼š å…¥å£èµ·ç‚¹ï¼šä½¿ç”¨entryæ‰‹åŠ¨åˆ†ç¦»ä»£ç (ä¸å»ºè®®) é˜²æ­¢é‡å¤åŠ è½½ï¼š</p>
<p>ä½¿ç”¨optimization.splitChunksé…ç½®é€‰é¡¹ï¼Œå¯ä»¥å°†ç¬¬ä¸‰æ–¹å…¬å…±æ¨¡å—å’Œä¸šåŠ¡ä»£ç ç›´æ¥åˆ†ç¦» </p>
<p>åŠ¨æ€å¼•å…¥ï¼šä½¿ ç”¨import()æ–¹æ³•æ¥åˆ†ç¦»ä»£ç ï¼ŒåŸç†æ˜¯å½“ Webpack è§£æåˆ°è¯¥è¯­æ³•æ—¶ï¼Œä¼šè‡ªåŠ¨è¿›è¡Œä»£ç åˆ†å‰²ï¼Œåˆ†å‰²å‡ºä¸åŒçš„chunks  </p>
<p>è¯­æ³•ï¼šä½¿ç”¨çš„æ—¶å€™å†å»ä¸‹è½½å¯¹åº”çš„æ–‡ä»¶ï¼Œè¿”å›ä¸€ä¸ªPromiseï¼Œå½“PromiseæˆåŠŸåå†å»æ‰§è¡Œå›è°ƒ</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´ä¸‹-tree-shaking-çš„åŸç†"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´ä¸‹-tree-shaking-çš„åŸç†" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´ä¸‹ tree-shaking çš„åŸç†"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´ä¸‹ tree-shaking çš„åŸç†</h3><p><a href="https://juejin.cn/post/7002410645316436004">tree-shaking çš„åŸç†</a></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-babelåŸç†"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-babelåŸç†" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸  babelåŸç†"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸  babelåŸç†</h3><p><a href="https://blog.csdn.net/wmaoshu/article/details/119813090">babelåŸç†</a></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-linuxéƒ¨ç½²å’Œwindows-severæœåŠ¡å™¨åŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-linuxéƒ¨ç½²å’Œwindows-severæœåŠ¡å™¨åŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸  linuxéƒ¨ç½²å’Œwindows severæœåŠ¡å™¨åŒºåˆ«ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸  linuxéƒ¨ç½²å’Œwindows severæœåŠ¡å™¨åŒºåˆ«ï¼Ÿ</h3><p>æ€§ä»·æ¯”ï¼šLinuxæœåŠ¡å™¨æ€§ä»·æ¯”æ›´é«˜ï¼ŒLinuxä½œä¸ºèµ„æºç®¡ç†å™¨å’Œæ“ä½œç³»ç»Ÿæ¥è¯´ï¼Œæ˜¯å¼€æºçš„ï¼Œå…è´¹çš„ï¼Œè€Œæ­£ç‰ˆwindowsçš„æ“ä½œç³»ç»Ÿæ˜¯æ”¶è´¹çš„ã€‚</p>
<p>æ€§èƒ½æ–¹é¢ï¼šç›¸åŒé…ç½®çš„LinuxæœåŠ¡å™¨çš„æ€§èƒ½æ¯”windowsæœåŠ¡å™¨å¥½ä¸€äº›ï¼ŒLinuxæœåŠ¡å™¨å ç”¨çš„èµ„æºå°‘ä¸€ç‚¹</p>
<p>ç¨³å®šæ€§æ–¹é¢ï¼šWindowç³»ç»Ÿç”¨æˆ·é‡å¤§ï¼Œå› è€Œæ”»å‡»è€…å¤šä¸€äº›ï¼Œæ‰€ä»¥æš´éœ²äº†æ›´å¤šçš„ç³»ç»Ÿå®‰å…¨æ¼æ´ã€‚Linuxæ˜¯å¤šç”¨æˆ·å¤šè¿›ç¨‹ç³»ç»Ÿï¼Œæ„å‘³ç€Linuxèƒ½å¤Ÿä¸€æ¬¡æ€§å¤„ç†å¤§é‡æ­£åœ¨è¿›è¡Œçš„è¿›ç¨‹ï¼Œæ¯”windowså¤„ç†çš„å¤š</p>
<p>å®‰å…¨æ€§æ–¹é¢ï¼šLinuxç³»ç»Ÿå¼€æºè½¯ä»¶çš„å¼€å‘æ–¹å¼æœ‰åŠ©äºæš´éœ²é”™è¯¯ï¼Œé›†ä¼—äººæ™ºæ…§è§£å†³é—®é¢˜ï¼Œè¡¥ä¸æ›´æ–°æ›´å¿«ã€‚è¿™æ˜¯windowsä¸å…·å¤‡çš„ï¼ŒWindowsçš„å¦ä¸€ä¸ªä¸åˆ©å› ç´ æ˜¯å…¶è®¸å¤šåº”ç”¨ç¨‹åºä¾é è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼Œè¿™å°±è¿«ä½¿Windowsçš„é˜²ç«å¢™æ²¡æœ‰Linuxé‚£æ ·ä¸¥æ ¼ã€‚è€ŒLinuxè¿œç¨‹è¿‡ç¨‹è°ƒç”¨æ˜¯é™åˆ¶ä½¿ç”¨çš„ã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-å‰ç«¯èµ„æºå‘å¸ƒè·¯å¾„æ€ä¹ˆå®ç°éè¦†ç›–å¼å‘å¸ƒï¼ˆå¹³æ»‘å‡çº§ï¼‰ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-å‰ç«¯èµ„æºå‘å¸ƒè·¯å¾„æ€ä¹ˆå®ç°éè¦†ç›–å¼å‘å¸ƒï¼ˆå¹³æ»‘å‡çº§ï¼‰ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ å‰ç«¯èµ„æºå‘å¸ƒè·¯å¾„æ€ä¹ˆå®ç°éè¦†ç›–å¼å‘å¸ƒï¼ˆå¹³æ»‘å‡çº§ï¼‰ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ å‰ç«¯èµ„æºå‘å¸ƒè·¯å¾„æ€ä¹ˆå®ç°éè¦†ç›–å¼å‘å¸ƒï¼ˆå¹³æ»‘å‡çº§ï¼‰ï¼Ÿ</h3><p><a href="https://juejin.cn/post/6844903457984512014">å‰ç«¯èµ„æºå‘å¸ƒè·¯å¾„æ€ä¹ˆå®ç°éè¦†ç›–å¼å‘å¸ƒ</a></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä½ æœ‰å‘å¸ƒè¿‡è‡ªå·±çš„npmåŒ…å—ï¼Ÿæµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä½ æœ‰å‘å¸ƒè¿‡è‡ªå·±çš„npmåŒ…å—ï¼Ÿæµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä½ æœ‰å‘å¸ƒè¿‡è‡ªå·±çš„npmåŒ…å—ï¼Ÿæµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä½ æœ‰å‘å¸ƒè¿‡è‡ªå·±çš„npmåŒ…å—ï¼Ÿæµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ</h3><p><a href="https://blog.csdn.net/CapejasmineY/article/details/126251986">npmåŒ…å‘å¸ƒæµç¨‹</a></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä»‹ç»ä¸‹-npm-æ¨¡å—å®‰è£…æœºåˆ¶ï¼Œä¸ºä»€ä¹ˆè¾“å…¥-npm-install-å°±å¯ä»¥è‡ªåŠ¨å®‰è£…å¯¹åº”çš„æ¨¡å—ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä»‹ç»ä¸‹-npm-æ¨¡å—å®‰è£…æœºåˆ¶ï¼Œä¸ºä»€ä¹ˆè¾“å…¥-npm-install-å°±å¯ä»¥è‡ªåŠ¨å®‰è£…å¯¹åº”çš„æ¨¡å—ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä»‹ç»ä¸‹ npm æ¨¡å—å®‰è£…æœºåˆ¶ï¼Œä¸ºä»€ä¹ˆè¾“å…¥ npm install å°±å¯ä»¥è‡ªåŠ¨å®‰è£…å¯¹åº”çš„æ¨¡å—ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä»‹ç»ä¸‹ npm æ¨¡å—å®‰è£…æœºåˆ¶ï¼Œä¸ºä»€ä¹ˆè¾“å…¥ npm install å°±å¯ä»¥è‡ªåŠ¨å®‰è£…å¯¹åº”çš„æ¨¡å—ï¼Ÿ</h3><p><a href="https://www.jianshu.com/p/75786d5c9cac">npm æ¨¡å—å®‰è£…æœºåˆ¶</a></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä½ ä¼šæ­å»ºç§æœ‰çš„npmä»“åº“å—ï¼Ÿæ€ä¹ˆæ­å»ºï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä½ ä¼šæ­å»ºç§æœ‰çš„npmä»“åº“å—ï¼Ÿæ€ä¹ˆæ­å»ºï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä½ ä¼šæ­å»ºç§æœ‰çš„npmä»“åº“å—ï¼Ÿæ€ä¹ˆæ­å»ºï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä½ ä¼šæ­å»ºç§æœ‰çš„npmä»“åº“å—ï¼Ÿæ€ä¹ˆæ­å»ºï¼Ÿ</h3><p><a href="https://zhaomenghuan.js.org/blog/npm-private-repository-verdaccio.html">ç§æœ‰çš„npmä»“åº“</a></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-jenkins-ä¸Šçº¿æµç¨‹"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-jenkins-ä¸Šçº¿æµç¨‹" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸  jenkins ä¸Šçº¿æµç¨‹"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸  jenkins ä¸Šçº¿æµç¨‹</h3><p><a href="https://developer.aliyun.com/article/608413">jenkins ä¸Šçº¿æµç¨‹</a></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä»€ä¹ˆæ˜¯é•¿ç¼“å­˜ï¼Œåœ¨webpackä¸­å¦‚ä½•åšåˆ°é•¿ç¼“å­˜ä¼˜åŒ–ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä»€ä¹ˆæ˜¯é•¿ç¼“å­˜ï¼Œåœ¨webpackä¸­å¦‚ä½•åšåˆ°é•¿ç¼“å­˜ä¼˜åŒ–ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä»€ä¹ˆæ˜¯é•¿ç¼“å­˜ï¼Œåœ¨webpackä¸­å¦‚ä½•åšåˆ°é•¿ç¼“å­˜ä¼˜åŒ–ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä»€ä¹ˆæ˜¯é•¿ç¼“å­˜ï¼Œåœ¨webpackä¸­å¦‚ä½•åšåˆ°é•¿ç¼“å­˜ä¼˜åŒ–ï¼Ÿ</h3><p>æµè§ˆå™¨åœ¨ç”¨æˆ·è®¿é—®é¡µé¢çš„æ—¶å€™ï¼Œéƒ½ä¼šå¯¹é™æ€èµ„æºè¿›è¡Œå­˜å‚¨ï¼Œä½†æ˜¯æ¯æ¬¡ä»£ç æ›´æ–°æˆ–è€…å‡çº§çš„æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½éœ€è¦æµè§ˆå™¨å»é‡æ–°åŠ è½½ä»£ç ï¼Œæœ€æ–¹ä¾¿çš„æ–¹æ³•å°±æ˜¯ä»¥æ–‡ä»¶åçš„æ–¹å¼å¼•å…¥ï¼Œåªä¸‹è½½æ–°çš„ä»£ç å—ï¼Œä¸åŠ è½½æ—§çš„æ²¡æœ‰å˜åŒ–çš„ä»£ç å—ï¼Œè¿™å°±æ˜¯é•¿ç¼“å­˜ï¼Œ</p>
<p>åœ¨webpack4ä¸­ä½¿ç”¨SplitChunkPluginæŠŠç¬¬ä¸‰æ–¹åº“å’Œä¸šåŠ¡ä»£ç åˆ†ç¦»ï¼Œç”±äºç¬¬ä¸‰æ–¹åº“çš„chunkHashæœªæ”¹å˜ï¼Œæ‰€ä»¥åªä¼šå¯¹æ”¹å˜çš„ä¸šåŠ¡ä»£ç çš„æ¨¡å—è¿›è¡Œæ›´æ–°ã€‚è€Œç¬¬ä¸‰æ–¹åº“çš„ä»£ç å—å› ä¸ºé•¿ç¼“å­˜è€Œä¸æ›´æ–°ã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä»€ä¹ˆæ˜¯ç»„ä»¶ï¼Ÿä»€ä¹ˆæ˜¯æ¨¡å—åŒ–ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä»€ä¹ˆæ˜¯ç»„ä»¶ï¼Ÿä»€ä¹ˆæ˜¯æ¨¡å—åŒ–ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä»€ä¹ˆæ˜¯ç»„ä»¶ï¼Ÿä»€ä¹ˆæ˜¯æ¨¡å—åŒ–ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä»€ä¹ˆæ˜¯ç»„ä»¶ï¼Ÿä»€ä¹ˆæ˜¯æ¨¡å—åŒ–ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p>ç»„ä»¶åŒ–</p>
<p>å°±æ˜¯åŸºç¡€åº“æˆ–è€…åŸºç¡€ç»„ä»¶ï¼Œæ„æ€æ˜¯æŠŠä»£ç é‡å¤çš„éƒ¨åˆ†æç‚¼å‡ºä¸€ä¸ªä¸ªç»„ä»¶ä¾›ç»™åŠŸèƒ½ä½¿ç”¨</p>
<p>æ¨¡å—åŒ–</p>
<p>å°±æ˜¯ä¸šåŠ¡æ¡†æ¶æˆ–è€…ä¸šåŠ¡æ¨¡å—ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºæ¡†æ¶ï¼Œæ„æ€æ˜¯æŠŠåŠŸèƒ½è¿›è¡Œåˆ’åˆ†ï¼Œå°†åŒä¸€ç±»å‹çš„ä»£ç æ•´åˆåœ¨ä¸€èµ·ï¼Œæ‰€ä»¥æ¨¡</p>
<p>å—çš„åŠŸèƒ½ç›¸å¯¹å¤æ‚ï¼Œéƒ½å±äºåŒä¸€ä¸ªä¸šåŠ¡ã€‚</p>
<p>åŒºåˆ«ï¼š</p>
<p>ä½¿ç”¨ï¼šç»„ä»¶çš„ä½¿ç”¨èƒ½åœ¨ä¸åŒé¡¹ç›®(æ¨¡å—)é‡å¤åº”ç”¨çš„ä»£ç ï¼Œè€Œæ¨¡å—æŒ‰ç…§é¡¹ç›®åŠŸèƒ½éœ€æ±‚åˆ’åˆ†æˆä¸åŒç±»å‹çš„ä¸šåŠ¡æ¡†æ¶ </p>
<p>ç›®çš„ï¼šç»„ä»¶æ˜¯å¤ç”¨ï¼Œè§£è€¦ï¼Œæ¨¡å—æ˜¯ä¸ºäº†éš”ç¦»ã€å°è£… </p>
<p>ä¾èµ–ï¼šç»„ä»¶ä¹‹é—´ä½ä¾èµ–ï¼Œæ¯”è¾ƒç‹¬ç«‹ï¼Œæ¨¡å—ä¹‹é—´çš„ä¾èµ–å¯é€šè¿‡è·¯ç”±è¿›è¡Œè€¦åˆ </p>
<p>æ¶æ„å®šä½ï¼šç»„ä»¶ä½äºæ¶æ„åº•å±‚ï¼Œè¢«å…¶å®ƒå±‚æ‰€ä¾èµ–ï¼Œæ¨¡å—ä½äºæ¶æ„ä¸šåŠ¡å±‚</p>
<h3 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h3><p><a href="https://juejin.cn/post/6844903935795265549">https://juejin.cn/post/6844903935795265549</a></p>
<p><a href="https://github.com/febobo/web-interview">https://github.com/febobo/web-interview</a></p>
]]></content>
      <categories>
        <category>æŠ€æœ¯é¢è¯•</category>
        <category>å‰ç«¯å·¥ç¨‹åŒ–</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯é¢è¯•å¤§å…¨TypeScript</title>
    <url>/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆTypeScriptï¼‰"><a href="#å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆTypeScriptï¼‰" class="headerlink" title="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆTypeScriptï¼‰"></a>å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆTypeScriptï¼‰</h1><p>å‰ç«¯é¢è¯•é¢˜ç±»ç›®åˆ†ç±»</p>
<ul>
<li>HTML5 + CSS3</li>
<li>JavaScript</li>
<li>Vue + Vue3</li>
<li>React</li>
<li>Webpack</li>
<li>æœåŠ¡ç«¯</li>
</ul>
<hr>
<p>è€ƒç‚¹é¢‘ç‡ ï¼šâ™¥ï¸ ã€ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸</p>
<h2 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h2><h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹-typescript-çš„ç†è§£ï¼Ÿä¸-javascript-çš„åŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹-typescript-çš„ç†è§£ï¼Ÿä¸-javascript-çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹ typescript çš„ç†è§£ï¼Ÿä¸ javascript çš„åŒºåˆ«ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹ typescript çš„ç†è§£ï¼Ÿä¸ javascript çš„åŒºåˆ«ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p><code>TypeScript</code> æ˜¯ <code>JavaScript</code> çš„ç±»å‹çš„è¶…é›†ï¼Œæ”¯æŒ<code>ES6</code>è¯­æ³•ï¼Œæ”¯æŒé¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ¦‚å¿µï¼Œå¦‚ç±»ã€æ¥å£ã€ç»§æ‰¿ã€æ³›å‹ç­‰</p>
<blockquote>
<p>è¶…é›†ï¼Œä¸å¾—ä¸è¯´å¦å¤–ä¸€ä¸ªæ¦‚å¿µï¼Œå­é›†ï¼Œæ€ä¹ˆç†è§£è¿™ä¸¤ä¸ªå‘¢ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä¸€ä¸ªé›†åˆAé‡Œé¢çš„çš„æ‰€æœ‰å…ƒç´ é›†åˆBé‡Œé¢éƒ½å­˜åœ¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç†è§£é›†åˆBæ˜¯é›†åˆAçš„è¶…é›†ï¼Œé›†åˆAä¸ºé›†åˆBçš„å­é›†</p>
</blockquote>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f36316332633166302d303935302d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>å…¶æ˜¯ä¸€ç§é™æ€ç±»å‹æ£€æŸ¥çš„è¯­è¨€ï¼Œæä¾›äº†ç±»å‹æ³¨è§£ï¼Œåœ¨ä»£ç ç¼–è¯‘é˜¶æ®µå°±å¯ä»¥æ£€æŸ¥å‡ºæ•°æ®ç±»å‹çš„é”™è¯¯</p>
<p>åŒæ—¶æ‰©å±•äº†<code> JavaScript</code> çš„è¯­æ³•ï¼Œæ‰€ä»¥ä»»ä½•ç°æœ‰çš„<code> JavaScript</code> ç¨‹åºå¯ä»¥ä¸åŠ æ”¹å˜çš„åœ¨ <code>TypeScript</code> ä¸‹å·¥ä½œ</p>
<p>ä¸ºäº†ä¿è¯å…¼å®¹æ€§ï¼Œ<code>typescript</code>åœ¨ç¼–è¯‘é˜¶æ®µéœ€è¦ç¼–è¯‘å™¨ç¼–è¯‘æˆçº¯<code>Javascript</code>æ¥è¿è¡Œï¼Œæ˜¯ä¸ºå¤§å‹åº”ç”¨ä¹‹å¼€å‘è€Œè®¾è®¡çš„è¯­è¨€ï¼Œå¦‚ä¸‹ï¼š</p>
<p><code>tsx</code>æ–‡ä»¶å¦‚ä¸‹ï¼š</p>
<pre><code class="typescript">const hello : string = &quot;Hello World!&quot;
console.log(hello)
</code></pre>
<p>ç¼–è¯‘æ–‡ä»¶åï¼š</p>
<pre><code class="tsx">const hello = &quot;Hello World!&quot;
console.log(hello)
</code></pre>
<h4 id="äºŒã€ç‰¹æ€§"><a href="#äºŒã€ç‰¹æ€§" class="headerlink" title="äºŒã€ç‰¹æ€§"></a>äºŒã€ç‰¹æ€§</h4><p><code>typescript</code>çš„ç‰¹æ€§ä¸»è¦æœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>ç±»å‹æ‰¹æ³¨å’Œç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥ ï¼šåœ¨ç¼–è¯‘æ—¶æ‰¹æ³¨å˜é‡ç±»å‹</li>
<li>ç±»å‹æ¨æ–­ï¼štsä¸­æ²¡æœ‰æ‰¹æ³¨å˜é‡ç±»å‹ä¼šè‡ªåŠ¨æ¨æ–­å˜é‡çš„ç±»å‹</li>
<li>ç±»å‹æ“¦é™¤ï¼šåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­æ‰¹æ³¨çš„å†…å®¹å’Œæ¥å£ä¼šåœ¨è¿è¡Œæ—¶åˆ©ç”¨å·¥å…·æ“¦é™¤</li>
<li>æ¥å£ï¼štsä¸­ç”¨æ¥å£æ¥å®šä¹‰å¯¹è±¡ç±»å‹</li>
<li>æšä¸¾ï¼šç”¨äºå–å€¼è¢«é™å®šåœ¨ä¸€å®šèŒƒå›´å†…çš„åœºæ™¯</li>
<li>Mixinï¼šå¯ä»¥æ¥å—ä»»æ„ç±»å‹çš„å€¼</li>
<li>æ³›å‹ç¼–ç¨‹ï¼šå†™ä»£ç æ—¶ä½¿ç”¨ä¸€äº›ä»¥åæ‰æŒ‡å®šçš„ç±»å‹</li>
<li>åå­—ç©ºé—´ï¼šåå­—åªåœ¨è¯¥åŒºåŸŸå†…æœ‰æ•ˆï¼Œå…¶ä»–åŒºåŸŸå¯é‡å¤ä½¿ç”¨è¯¥åå­—è€Œä¸å†²çª</li>
<li>å…ƒç»„ï¼šå…ƒç»„åˆå¹¶äº†ä¸åŒç±»å‹çš„å¯¹è±¡ï¼Œç›¸å½“äºä¸€ä¸ªå¯ä»¥è£…ä¸åŒç±»å‹æ•°æ®çš„æ•°ç»„</li>
<li>â€¦</li>
</ul>
<h5 id="ç±»å‹æ‰¹æ³¨"><a href="#ç±»å‹æ‰¹æ³¨" class="headerlink" title="ç±»å‹æ‰¹æ³¨"></a>ç±»å‹æ‰¹æ³¨</h5><p>é€šè¿‡ç±»å‹æ‰¹æ³¨æä¾›åœ¨ç¼–è¯‘æ—¶å¯åŠ¨ç±»å‹æ£€æŸ¥çš„é™æ€ç±»å‹ï¼Œè¿™æ˜¯å¯é€‰çš„ï¼Œè€Œä¸”å¯ä»¥å¿½ç•¥è€Œä½¿ç”¨<code>JavaScript</code>å¸¸è§„çš„åŠ¨æ€ç±»å‹</p>
<pre><code class="tsx">function Add(left: number, right: number): number &#123;
 return left + right;
&#125;
</code></pre>
<p>å¯¹äºåŸºæœ¬ç±»å‹çš„æ‰¹æ³¨æ˜¯<code>number</code>ã€<code>bool</code>å’Œ<code>string</code>ï¼Œè€Œå¼±æˆ–åŠ¨æ€ç±»å‹çš„ç»“æ„åˆ™æ˜¯<code>any</code>ç±»å‹</p>
<h5 id="ç±»å‹æ¨æ–­"><a href="#ç±»å‹æ¨æ–­" class="headerlink" title="ç±»å‹æ¨æ–­"></a>ç±»å‹æ¨æ–­</h5><p>å½“ç±»å‹æ²¡æœ‰ç»™å‡ºæ—¶ï¼ŒTypeScriptç¼–è¯‘å™¨åˆ©ç”¨ç±»å‹æ¨æ–­æ¥æ¨æ–­ç±»å‹ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">let str = &#39;string&#39;
</code></pre>
<p>å˜é‡<code>str</code>è¢«æ¨æ–­ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œè¿™ç§æ¨æ–­å‘ç”Ÿåœ¨åˆå§‹åŒ–å˜é‡å’Œæˆå‘˜ï¼Œè®¾ç½®é»˜è®¤å‚æ•°å€¼å’Œå†³å®šå‡½æ•°è¿”å›å€¼æ—¶</p>
<p>å¦‚æœç”±äºç¼ºä¹å£°æ˜è€Œä¸èƒ½æ¨æ–­å‡ºç±»å‹ï¼Œé‚£ä¹ˆå®ƒçš„ç±»å‹è¢«è§†ä½œé»˜è®¤çš„åŠ¨æ€<code>any</code>ç±»å‹</p>
<h5 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h5><p>æ¥å£ç®€å•æ¥è¯´å°±æ˜¯ç”¨æ¥æè¿°å¯¹è±¡çš„ç±»å‹ æ•°æ®çš„ç±»å‹æœ‰<code>number</code>ã€<code> null</code>ã€<code> string</code>ç­‰æ•°æ®æ ¼å¼ï¼Œå¯¹è±¡çš„ç±»å‹å°±æ˜¯ç”¨æ¥å£æ¥æè¿°çš„</p>
<pre><code class="tsx">interface Person &#123;
    name: string;
    age: number;
&#125;

let tom: Person = &#123;
    name: &#39;Tom&#39;,
    age: 25
&#125;;
</code></pre>
<h4 id="ä¸‰ã€åŒºåˆ«"><a href="#ä¸‰ã€åŒºåˆ«" class="headerlink" title="ä¸‰ã€åŒºåˆ«"></a>ä¸‰ã€åŒºåˆ«</h4><ul>
<li>TypeScript æ˜¯ JavaScript çš„è¶…é›†ï¼Œæ‰©å±•äº† JavaScript çš„è¯­æ³•</li>
<li>TypeScript å¯å¤„ç†å·²æœ‰çš„ JavaScript ä»£ç ï¼Œå¹¶åªå¯¹å…¶ä¸­çš„ TypeScript ä»£ç è¿›è¡Œç¼–è¯‘</li>
<li>TypeScript æ–‡ä»¶çš„åç¼€å .ts ï¼ˆ.tsï¼Œ.tsxï¼Œ.dtsï¼‰ï¼ŒJavaScript æ–‡ä»¶æ˜¯ .js</li>
<li>åœ¨ç¼–å†™ TypeScript çš„æ–‡ä»¶çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨ç¼–è¯‘æˆ js æ–‡ä»¶</li>
</ul>
<p>æ›´å¤šçš„åŒºåˆ«å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f36623534343034302d303935302d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-typescript-çš„æ•°æ®ç±»å‹æœ‰å“ªäº›"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-typescript-çš„æ•°æ®ç±»å‹æœ‰å“ªäº›" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ typescript çš„æ•°æ®ç±»å‹æœ‰å“ªäº›?"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ typescript çš„æ•°æ®ç±»å‹æœ‰å“ªäº›?</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-1"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-1" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p><code>typescript</code> å’Œ <code>javascript</code>å‡ ä¹ä¸€æ ·ï¼Œæ‹¥æœ‰ç›¸åŒçš„æ•°æ®ç±»å‹ï¼Œå¦å¤–åœ¨<code>javascript</code>åŸºç¡€ä¸Šæä¾›äº†æ›´åŠ å®ç”¨çš„ç±»å‹ä¾›å¼€å‘ä½¿ç”¨</p>
<p>åœ¨å¼€å‘é˜¶æ®µï¼Œå¯ä»¥ä¸ºæ˜ç¡®çš„å˜é‡å®šä¹‰ä¸ºæŸç§ç±»å‹ï¼Œè¿™æ ·<code>typescript</code>å°±èƒ½åœ¨ç¼–è¯‘é˜¶æ®µè¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œå½“ç±»å‹ä¸åˆç¬¦é¢„æœŸç»“æœçš„æ—¶å€™åˆ™ä¼šå‡ºç°é”™è¯¯æç¤º</p>
<h4 id="äºŒã€æœ‰å“ªäº›"><a href="#äºŒã€æœ‰å“ªäº›" class="headerlink" title="äºŒã€æœ‰å“ªäº›"></a>äºŒã€æœ‰å“ªäº›</h4><p><code>typescript</code> çš„æ•°æ®ç±»å‹ä¸»è¦æœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>booleanï¼ˆå¸ƒå°”ç±»å‹ï¼‰</li>
<li>numberï¼ˆæ•°å­—ç±»å‹ï¼‰</li>
<li>stringï¼ˆå­—ç¬¦ä¸²ç±»å‹ï¼‰</li>
<li>arrayï¼ˆæ•°ç»„ç±»å‹ï¼‰</li>
<li>tupleï¼ˆå…ƒç»„ç±»å‹ï¼‰</li>
<li>enumï¼ˆæšä¸¾ç±»å‹ï¼‰</li>
<li>anyï¼ˆä»»æ„ç±»å‹ï¼‰</li>
<li>null å’Œ undefined ç±»å‹</li>
<li>Symbol ç±»å‹</li>
<li>bigintç±»å‹</li>
<li>void ç±»å‹</li>
<li>never ç±»å‹</li>
<li>object å¯¹è±¡ç±»å‹</li>
<li>unknown</li>
</ul>
<h5 id="boolean"><a href="#boolean" class="headerlink" title="boolean"></a>boolean</h5><p>å¸ƒå°”ç±»å‹</p>
<pre><code class="tsx">let flag:boolean = true;
// flag = 123; // é”™è¯¯
flag = false;  //æ­£ç¡®
</code></pre>
<h5 id="number"><a href="#number" class="headerlink" title="number"></a>number</h5><p>æ•°å­—ç±»å‹ï¼Œå’Œ<code>javascript</code>ä¸€æ ·ï¼Œ<code>typescript</code>çš„æ•°å€¼ç±»å‹éƒ½æ˜¯æµ®ç‚¹æ•°ï¼Œå¯æ”¯æŒäºŒè¿›åˆ¶ã€å…«è¿›åˆ¶ã€åè¿›åˆ¶å’Œåå…­è¿›åˆ¶</p>
<pre><code class="tsx">let num:number = 123;
// num = &#39;456&#39;; // é”™è¯¯
num = 456;  //æ­£ç¡®
</code></pre>
<p>è¿›åˆ¶è¡¨ç¤ºï¼š</p>
<pre><code class="tsx">let decLiteral: number = 6; // åè¿›åˆ¶
let hexLiteral: number = 0xf00d; // åå…­è¿›åˆ¶
let binaryLiteral: number = 0b1010; // äºŒè¿›åˆ¶
let octalLiteral: number = 0o744; // å…«è¿›åˆ¶
</code></pre>
<h5 id="string"><a href="#string" class="headerlink" title="string"></a>string</h5><p>å­—ç¬¦ä¸²ç±»å‹ï¼Œå’Œ<code>JavaScript</code>ä¸€æ ·ï¼Œå¯ä»¥ä½¿ç”¨åŒå¼•å·ï¼ˆ<code>&quot;</code>ï¼‰æˆ–å•å¼•å·ï¼ˆ<code>&#39;</code>ï¼‰è¡¨ç¤ºå­—ç¬¦ä¸²</p>
<pre><code class="tsx">let str:string = &#39;this is ts&#39;;
str = &#39;test&#39;;
</code></pre>
<p>ä½œä¸ºè¶…é›†ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨æ¨¡ç‰ˆå­—ç¬¦ä¸²&#96;&#96;è¿›è¡ŒåŒ…è£¹ï¼Œé€šè¿‡ ${} åµŒå…¥å˜é‡</p>
<pre><code class="tsx">let name: string = `Gene`;
let age: number = 37;
let sentence: string = `Hello, my name is $&#123; name &#125;
</code></pre>
<h5 id="array"><a href="#array" class="headerlink" title="array"></a>array</h5><p>æ•°ç»„ç±»å‹ï¼Œè·Ÿ<code>javascript</code>ä¸€è‡´ï¼Œé€šè¿‡<code>[]</code>è¿›è¡ŒåŒ…è£¹ï¼Œæœ‰ä¸¤ç§å†™æ³•ï¼š</p>
<p>æ–¹å¼ä¸€ï¼šå…ƒç´ ç±»å‹åé¢æ¥ä¸Š <code>[]</code></p>
<pre><code class="tsx"> let arr:string[] = [&#39;12&#39;, &#39;23&#39;];
 arr = [&#39;45&#39;, &#39;56&#39;];
</code></pre>
<p>æ–¹å¼äºŒï¼šä½¿ç”¨æ•°ç»„æ³›å‹ï¼Œ<code>Array&lt;å…ƒç´ ç±»å‹&gt;</code>ï¼š</p>
<pre><code class="tsx">let arr:Array&lt;number&gt; = [1, 2];
arr = [&#39;45&#39;, &#39;56&#39;];
</code></pre>
<h5 id="tuple"><a href="#tuple" class="headerlink" title="tuple"></a>tuple</h5><p>å…ƒç¥–ç±»å‹ï¼Œå…è®¸è¡¨ç¤ºä¸€ä¸ªå·²çŸ¥å…ƒç´ æ•°é‡å’Œç±»å‹çš„æ•°ç»„ï¼Œå„å…ƒç´ çš„ç±»å‹ä¸å¿…ç›¸åŒ</p>
<pre><code class="tsx">let tupleArr:[number, string, boolean];
tupleArr = [12, &#39;34&#39;, true]; //ok
typleArr = [12, &#39;34&#39;] // no ok
</code></pre>
<p>èµ‹å€¼çš„ç±»å‹ã€ä½ç½®ã€ä¸ªæ•°éœ€è¦å’Œå®šä¹‰ï¼ˆç”Ÿæ˜ï¼‰çš„ç±»å‹ã€ä½ç½®ã€ä¸ªæ•°ä¸€è‡´</p>
<h5 id="enum"><a href="#enum" class="headerlink" title="enum"></a>enum</h5><p><code>enum</code>ç±»å‹æ˜¯å¯¹JavaScriptæ ‡å‡†æ•°æ®ç±»å‹çš„ä¸€ä¸ªè¡¥å……ï¼Œä½¿ç”¨æšä¸¾ç±»å‹å¯ä»¥ä¸ºä¸€ç»„æ•°å€¼èµ‹äºˆå‹å¥½çš„åå­—</p>
<pre><code class="tsx">enum Color &#123;Red, Green, Blue&#125;
let c: Color = Color.Green;
</code></pre>
<h5 id="any"><a href="#any" class="headerlink" title="any"></a>any</h5><p>å¯ä»¥æŒ‡å®šä»»ä½•ç±»å‹çš„å€¼ï¼Œåœ¨ç¼–ç¨‹é˜¶æ®µè¿˜ä¸æ¸…æ¥šç±»å‹çš„å˜é‡æŒ‡å®šä¸€ä¸ªç±»å‹ï¼Œä¸å¸Œæœ›ç±»å‹æ£€æŸ¥å™¨å¯¹è¿™äº›å€¼è¿›è¡Œæ£€æŸ¥è€Œæ˜¯ç›´æ¥è®©å®ƒä»¬é€šè¿‡ç¼–è¯‘é˜¶æ®µçš„æ£€æŸ¥ï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨<code>any</code>ç±»å‹</p>
<p>ä½¿ç”¨<code>any</code>ç±»å‹å…è®¸è¢«èµ‹å€¼ä¸ºä»»æ„ç±»å‹ï¼Œç”šè‡³å¯ä»¥è°ƒç”¨å…¶å±æ€§ã€æ–¹æ³•</p>
<pre><code class="tsx">let num:any = 123;
num = &#39;str&#39;;
num = true;
</code></pre>
<p>å®šä¹‰å­˜å‚¨å„ç§ç±»å‹æ•°æ®çš„æ•°ç»„æ—¶ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">let arrayList: any[] = [1, false, &#39;fine&#39;];
arrayList[1] = 100;
</code></pre>
<h5 id="null-å’Œ-å’Œ-undefined"><a href="#null-å’Œ-å’Œ-undefined" class="headerlink" title="null å’Œ å’Œ undefined"></a>null å’Œ å’Œ undefined</h5><p>åœ¨<code> JavaScript</code> ä¸­ <code>null </code>è¡¨ç¤º â€œä»€ä¹ˆéƒ½æ²¡æœ‰â€ï¼Œæ˜¯ä¸€ä¸ªåªæœ‰ä¸€ä¸ªå€¼çš„ç‰¹æ®Šç±»å‹ï¼Œè¡¨ç¤ºä¸€ä¸ªç©ºå¯¹è±¡å¼•ç”¨ï¼Œè€Œ<code>undefined</code>è¡¨ç¤ºä¸€ä¸ªæ²¡æœ‰è®¾ç½®å€¼çš„å˜é‡</p>
<p>é»˜è®¤æƒ…å†µä¸‹<code>null</code>å’Œ<code>undefined</code>æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ï¼Œ å°±æ˜¯è¯´ä½ å¯ä»¥æŠŠ <code>null </code>å’Œ <code>undefined </code>èµ‹å€¼ç»™ <code>number </code>ç±»å‹çš„å˜é‡</p>
<pre><code class="tsx">let num:number | undefined; // æ•°å€¼ç±»å‹ æˆ–è€… undefined
console.log(num); // æ­£ç¡®
num = 123;
console.log(num); // æ­£ç¡®
</code></pre>
<p>ä½†æ˜¯<code>ts</code>é…ç½®äº†<code>--strictNullChecks</code>æ ‡è®°ï¼Œ<code>null</code>å’Œ<code>undefined</code>åªèƒ½èµ‹å€¼ç»™<code>void</code>å’Œå®ƒä»¬å„è‡ª</p>
<h5 id="void"><a href="#void" class="headerlink" title="void"></a>void</h5><p>ç”¨äºæ ‡è¯†æ–¹æ³•è¿”å›å€¼çš„ç±»å‹ï¼Œè¡¨ç¤ºè¯¥æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ã€‚</p>
<pre><code class="tsx">function hello(): void &#123;
    alert(&quot;Hello Runoob&quot;);
&#125;
</code></pre>
<h5 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h5><p>symbolæˆ‘ä»¬å¹³æ—¶ç”¨çš„æ¯”è¾ƒå°‘ï¼Œæ‰€ä»¥å¯èƒ½äº†è§£ä¹Ÿä¸æ˜¯å¾ˆå¤šï¼Œè¿™é‡Œå°±è¯¦ç»†æ¥è¯´è¯´symbolã€‚</p>
<h6 id="ï¼ˆ1ï¼‰symbol-åŸºæœ¬ä½¿ç”¨"><a href="#ï¼ˆ1ï¼‰symbol-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="ï¼ˆ1ï¼‰symbol åŸºæœ¬ä½¿ç”¨"></a>ï¼ˆ1ï¼‰symbol åŸºæœ¬ä½¿ç”¨</h6><p>symbol æ˜¯ ES6 æ–°å¢çš„ä¸€ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå®ƒç”¨æ¥è¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼ï¼Œå¯ä»¥é€šè¿‡ Symbol æ„é€ å‡½æ•°ç”Ÿæˆã€‚</p>
<pre><code class="typescript">const s = Symbol(); 
typeof s; // symbol
</code></pre>
<p>æ³¨æ„ï¼šSymbol å‰é¢ä¸èƒ½åŠ  newå…³é”®å­—ï¼Œç›´æ¥è°ƒç”¨å³å¯åˆ›å»ºä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„ symbol ç±»å‹çš„å€¼ã€‚</p>
<p>å¯ä»¥åœ¨ä½¿ç”¨ Symbol æ–¹æ³•åˆ›å»º symbol ç±»å‹å€¼çš„æ—¶å€™ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°éœ€è¦æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å¦‚æœä¼ å…¥çš„å‚æ•°ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œä¼šå…ˆè‡ªåŠ¨è°ƒç”¨ä¼ å…¥å‚æ•°çš„ toString æ–¹æ³•è½¬ä¸ºå­—ç¬¦ä¸²ï¼š</p>
<pre><code class="typescript">const s1 = Symbol(&quot;TypeScript&quot;); 
const s2 = Symbol(&quot;Typescript&quot;); 
console.log(s1 === s2); // false
</code></pre>
<p>ä¸Šé¢ä»£ç çš„ç¬¬ä¸‰è¡Œå¯èƒ½ä¼šæŠ¥ä¸€ä¸ªé”™è¯¯ï¼šThis condition will always return â€˜falseâ€™ since the types â€˜unique symbolâ€™ and â€˜unique symbolâ€™ have no overlap. è¿™æ˜¯å› ä¸ºç¼–è¯‘å™¨æ£€æµ‹åˆ°è¿™é‡Œçš„ s1 &#x3D;&#x3D;&#x3D; s2 å§‹ç»ˆæ˜¯falseï¼Œæ‰€ä»¥ç¼–è¯‘å™¨æé†’è¿™ä»£ç å†™çš„å¤šä½™ï¼Œå»ºè®®è¿›è¡Œä¼˜åŒ–ã€‚</p>
<p>ä¸Šé¢ä½¿ç”¨Symbolåˆ›å»ºäº†ä¸¤ä¸ªsymbolå¯¹è±¡ï¼Œæ–¹æ³•ä¸­éƒ½ä¼ å…¥äº†ç›¸åŒçš„å­—ç¬¦ä¸²ï¼Œä½†æ˜¯ä¸¤ä¸ªsymbolå€¼ä»ç„¶æ˜¯falseï¼Œè¿™å°±è¯´æ˜äº† Symbol æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å€¼ã€‚Symbol æ–¹æ³•ä¼ å…¥çš„è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå°±æ˜¯æ–¹ä¾¿æˆ‘ä»¬åŒºåˆ† symbol å€¼çš„ã€‚å¯ä»¥è°ƒç”¨ symbol å€¼çš„ toString æ–¹æ³•å°†å®ƒè½¬ä¸ºå­—ç¬¦ä¸²ï¼š</p>
<pre><code class="typescript">const s1 = Symbol(&quot;Typescript&quot;); 
console.log(s1.toString());  // &#39;Symbol(Typescript)&#39;
console.log(Boolean(s));     // true 
console.log(!s);             // false
</code></pre>
<p>åœ¨TypeScriptä¸­ä½¿ç”¨symbolå°±æ˜¯æŒ‡å®šä¸€ä¸ªå€¼çš„ç±»å‹ä¸ºsymbolç±»å‹ï¼š</p>
<pre><code class="typescript">let a: symbol = Symbol()
</code></pre>
<p>TypeScript ä¸­è¿˜æœ‰ä¸€ä¸ª unique symbol ç±»å‹ï¼Œå®ƒæ˜¯symbolçš„å­ç±»å‹ï¼Œè¿™ç§ç±»å‹çš„å€¼åªèƒ½ç”±<code>Symbol()</code>æˆ–<code>Symbol.for()</code>åˆ›å»ºï¼Œæˆ–è€…é€šè¿‡æŒ‡å®šç±»å‹æ¥æŒ‡å®šå˜é‡æ˜¯è¿™ç§ç±»å‹ã€‚è¿™ç§ç±»å‹çš„å€¼åªèƒ½ç”¨äºå¸¸é‡çš„å®šä¹‰å’Œç”¨äºå±æ€§åã€‚éœ€è¦æ³¨æ„ï¼Œå®šä¹‰unique symbolç±»å‹çš„å€¼ï¼Œå¿…é¡»ç”¨ const è€Œä¸èƒ½ç”¨letæ¥å£°æ˜ã€‚ä¸‹é¢æ¥çœ‹åœ¨TypeScriptä¸­ä½¿ç”¨Symbolå€¼ä½œä¸ºå±æ€§åçš„ä¾‹å­ï¼š</p>
<pre><code class="typescript">const key1: unique symbol = Symbol()
let key2: symbol = Symbol()
const obj = &#123;
    [key1]: &#39;value1&#39;,
    [key2]: &#39;value2&#39;
&#125;
console.log(obj[key1]) // value1
console.log(obj[key2]) // error ç±»å‹â€œsymbolâ€ä¸èƒ½ä½œä¸ºç´¢å¼•ç±»å‹ä½¿ç”¨ã€‚
</code></pre>
<h6 id="ï¼ˆ2ï¼‰symbol-ä½œä¸ºå±æ€§å"><a href="#ï¼ˆ2ï¼‰symbol-ä½œä¸ºå±æ€§å" class="headerlink" title="ï¼ˆ2ï¼‰symbol ä½œä¸ºå±æ€§å"></a>ï¼ˆ2ï¼‰symbol ä½œä¸ºå±æ€§å</h6><p>åœ¨ES6ä¸­ï¼Œå¯¹è±¡çš„å±æ€§æ˜¯æ”¯æŒè¡¨è¾¾å¼çš„ï¼Œå¯ä»¥ä½¿ç”¨äºä¸€ä¸ªå˜é‡æ¥ä½œä¸ºå±æ€§åï¼Œè¿™å¯¹äºä»£ç çš„ç®€åŒ–æœ‰å¾ˆå¤šç”¨å¤„ï¼Œè¡¨è¾¾å¼å¿…é¡»æ”¾åœ¨å¤§æ‹¬å·å†…ï¼š</p>
<pre><code class="typescript">let prop = &quot;name&quot;; 
const obj = &#123; 
  [prop]: &quot;TypeScript&quot; 
&#125;;
console.log(obj.name); // &#39;TypeScript&#39;
</code></pre>
<p>symbol ä¹Ÿå¯ä»¥ä½œä¸ºå±æ€§åï¼Œå› ä¸ºsymbolçš„å€¼æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œæ‰€ä»¥å½“å®ƒä½œä¸ºå±æ€§åæ—¶ï¼Œä¸ä¼šä¸å…¶ä»–ä»»ä½•å±æ€§åé‡å¤ã€‚å½“éœ€è¦è®¿é—®è¿™ä¸ªå±æ€§æ—¶ï¼Œåªèƒ½ä½¿ç”¨è¿™ä¸ªsymbolå€¼æ¥è®¿é—®ï¼ˆå¿…é¡»ä½¿ç”¨æ–¹æ‹¬å·å½¢å¼æ¥è®¿é—®ï¼‰ï¼š</p>
<pre><code class="typescript">let name = Symbol(); 
let obj = &#123; 
  [name]: &quot;TypeScript&quot; 
&#125;;
console.log(obj); // &#123; Symbol(): &#39;TypeScript&#39; &#125;
console.log(obj[name]); // &#39;TypeScript&#39; 
console.log(obj.name);  // undefined
</code></pre>
<p>åœ¨ä½¿ç”¨obj.nameè®¿é—®æ—¶ï¼Œå®é™…ä¸Šæ˜¯å­—ç¬¦ä¸²nameï¼Œè¿™å’Œè®¿é—®æ™®é€šå­—ç¬¦ä¸²ç±»å‹çš„å±æ€§åæ˜¯ä¸€æ ·çš„ï¼Œè¦æƒ³è®¿é—®å±æ€§åä¸ºsymbolç±»å‹çš„å±æ€§æ—¶ï¼Œå¿…é¡»ä½¿ç”¨æ–¹æ‹¬å·ã€‚æ–¹æ‹¬å·ä¸­çš„nameæ‰æ˜¯æˆ‘ä»¬å®šä¹‰çš„symbolç±»å‹çš„å˜é‡nameã€‚</p>
<h6 id="ï¼ˆ3ï¼‰symbol-å±æ€§åéå†"><a href="#ï¼ˆ3ï¼‰symbol-å±æ€§åéå†" class="headerlink" title="ï¼ˆ3ï¼‰symbol å±æ€§åéå†"></a>ï¼ˆ3ï¼‰symbol å±æ€§åéå†</h6><p>ä½¿ç”¨ Symbol ç±»å‹å€¼ä½œä¸ºå±æ€§åï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸ä¼šè¢« forâ€¦inéå†åˆ°çš„ï¼Œä¹Ÿä¸ä¼šè¢« Object.keys() ã€ Object.getOwnPropertyNames() ã€ JSON.stringify() ç­‰æ–¹æ³•è·å–åˆ°ï¼š</p>
<pre><code class="typescript">const name = Symbol(&quot;name&quot;); 
const obj = &#123; 
  [name]: &quot;TypeScript&quot;, 
  age: 18 
&#125;;
for (const key in obj) &#123; 
  console.log(key); 
&#125;  
// =&gt; &#39;age&#39; 
console.log(Object.keys(obj));  // [&#39;age&#39;] 
console.log(Object.getOwnPropertyNames(obj));  // [&#39;age&#39;] 
console.log(JSON.stringify(obj)); // &#39;&#123; &quot;age&quot;: 18 &#125;
</code></pre>
<p>è™½ç„¶è¿™äº›æ–¹æ³•éƒ½ä¸èƒ½è®¿é—®åˆ°Symbolç±»å‹çš„å±æ€§åï¼Œä½†æ˜¯Symbolç±»å‹çš„å±æ€§å¹¶ä¸æ˜¯ç§æœ‰å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨ <code>Object.getOwnPropertySymbols</code> æ–¹æ³•è·å–å¯¹è±¡çš„æ‰€æœ‰symbolç±»å‹çš„å±æ€§åï¼š</p>
<pre><code class="typescript">const name = Symbol(&quot;name&quot;); 
const obj = &#123; 
  [name]: &quot;TypeScript&quot;, 
  age: 18 
&#125;;
const SymbolPropNames = Object.getOwnPropertySymbols(obj); 
console.log(SymbolPropNames); // [ Symbol(name) ] 
console.log(obj[SymbolPropNames[0]]); // &#39;TypeScript&#39; 
</code></pre>
<p>é™¤äº†è¿™ä¸ªæ–¹æ³•ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ES6æä¾›çš„ Reflect å¯¹è±¡çš„é™æ€æ–¹æ³• Reflect.ownKeys ï¼Œå®ƒå¯ä»¥è¿”å›æ‰€æœ‰ç±»å‹çš„å±æ€§åï¼ŒSymbol ç±»å‹çš„ä¹Ÿä¼šè¿”å›ï¼š</p>
<pre><code class="typescript">const name = Symbol(&quot;name&quot;); 
const obj = &#123; 
  [name]: &quot;TypeScript&quot;, 
  age: 18 
&#125;;
console.log(Reflect.ownKeys(obj)); // [ &#39;age&#39;, Symbol(name) ]
</code></pre>
<h6 id="ï¼ˆ4ï¼‰symbol-é™æ€æ–¹æ³•"><a href="#ï¼ˆ4ï¼‰symbol-é™æ€æ–¹æ³•" class="headerlink" title="ï¼ˆ4ï¼‰symbol é™æ€æ–¹æ³•"></a>ï¼ˆ4ï¼‰symbol é™æ€æ–¹æ³•</h6><p>Symbol åŒ…å«ä¸¤ä¸ªé™æ€æ–¹æ³•ï¼Œ for å’Œ keyFor ã€‚</p>
<p>1ï¼‰Symbol.for()</p>
<p>ç”¨Symbolåˆ›å»ºçš„symbolç±»å‹çš„å€¼éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ã€‚ä½¿ç”¨ Symbol.for æ–¹æ³•ä¼ å…¥å­—ç¬¦ä¸²ï¼Œä¼šå…ˆæ£€æŸ¥æœ‰æ²¡æœ‰ä½¿ç”¨è¯¥å­—ç¬¦ä¸²è°ƒç”¨ Symbol.for æ–¹æ³•åˆ›å»ºçš„ symbol å€¼ã€‚å¦‚æœæœ‰ï¼Œè¿”å›è¯¥å€¼ï¼›å¦‚æœæ²¡æœ‰ï¼Œåˆ™ä½¿ç”¨è¯¥å­—ç¬¦ä¸²æ–°åˆ›å»ºä¸€ä¸ªã€‚ä½¿ç”¨è¯¥æ–¹æ³•åˆ›å»º symbol å€¼åä¼šåœ¨å…¨å±€èŒƒå›´è¿›è¡Œæ³¨å†Œã€‚</p>
<pre><code class="typescript">const iframe = document.createElement(&quot;iframe&quot;); 
iframe.src = String(window.location); 
document.body.appendChild(iframe); 

iframe.contentWindow.Symbol.for(&quot;TypeScript&quot;) === Symbol.for(&quot;TypeScript&quot;); // true // æ³¨æ„ï¼šå¦‚æœä½ åœ¨JavaScriptç¯å¢ƒä¸­è¿™æ®µä»£ç æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯å¦‚æœåœ¨TypeScriptå¼€å‘ç¯å¢ƒä¸­ï¼Œå¯èƒ½ä¼šæŠ¥é”™ï¼šç±»å‹â€œWindowâ€ä¸Šä¸å­˜åœ¨å±æ€§â€œSymbolâ€ã€‚ // å› ä¸ºè¿™é‡Œç¼–è¯‘å™¨æ¨æ–­å‡ºiframe.contentWindowæ˜¯Windowç±»å‹ï¼Œä½†æ˜¯TypeScriptçš„å£°æ˜æ–‡ä»¶ä¸­ï¼Œå¯¹Windowçš„å®šä¹‰ç¼ºå°‘Symbolè¿™ä¸ªå­—æ®µï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ï¼Œ
</code></pre>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œåˆ›å»ºäº†ä¸€ä¸ªiframeèŠ‚ç‚¹å¹¶æŠŠå®ƒæ”¾åœ¨bodyä¸­ï¼Œé€šè¿‡è¿™ä¸ª iframe å¯¹è±¡çš„ contentWindow æ‹¿åˆ°è¿™ä¸ª iframe çš„ window å¯¹è±¡ï¼Œåœ¨ iframe.contentWindowä¸Šæ·»åŠ ä¸€ä¸ªå€¼å°±ç›¸å½“äºåœ¨å½“å‰é¡µé¢å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ä¸€æ ·ã€‚å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ iframe ä¸­å®šä¹‰çš„é”®ä¸º TypeScript çš„ symbol å€¼åœ¨å’Œåœ¨å½“å‰é¡µé¢å®šä¹‰çš„é”®ä¸ºâ€™TypeScriptâ€™çš„symbol å€¼ç›¸ç­‰ï¼Œè¯´æ˜å®ƒä»¬æ˜¯åŒä¸€ä¸ªå€¼ã€‚</p>
<p>2ï¼‰Symbol.keyFor()</p>
<p>è¯¥æ–¹æ³•ä¼ å…¥ä¸€ä¸ª symbol å€¼ï¼Œè¿”å›è¯¥å€¼åœ¨å…¨å±€æ³¨å†Œçš„é”®åï¼š</p>
<pre><code class="typescript">const sym = Symbol.for(&quot;TypeScript&quot;); 
console.log(Symbol.keyFor(sym)); // &#39;TypeScript&#39;
</code></pre>
<h5 id="bigint"><a href="#bigint" class="headerlink" title="bigint"></a>bigint</h5><p>BigIntæ˜¯ES6ä¸­æ–°å¼•å…¥çš„æ•°æ®ç±»å‹ï¼Œå®ƒæ˜¯ä¸€ç§å†…ç½®å¯¹è±¡ï¼Œå®ƒæä¾›äº†ä¸€ç§æ–¹æ³•æ¥è¡¨ç¤ºå¤§äº 2- 1 çš„æ•´æ•°ï¼ŒBigIntå¯ä»¥è¡¨ç¤ºä»»æ„å¤§çš„æ•´æ•°ã€‚</p>
<p>ä½¿ç”¨ <code>BigInt</code> å¯ä»¥å®‰å…¨åœ°å­˜å‚¨å’Œæ“ä½œå¤§æ•´æ•°ï¼Œå³ä½¿è¿™ä¸ªæ•°å·²ç»è¶…å‡ºäº†JavaScriptæ„é€ å‡½æ•° Number èƒ½å¤Ÿè¡¨ç¤ºçš„å®‰å…¨æ•´æ•°èŒƒå›´ã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨ JavaScript ä¸­é‡‡ç”¨åŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œè¿™å¯¼è‡´ç²¾åº¦æœ‰é™ï¼Œæ¯”å¦‚ <code>Number.MAX_SAFE_INTEGER</code> ç»™å‡ºäº†å¯ä»¥å®‰å…¨é€’å¢çš„æœ€å¤§å¯èƒ½æ•´æ•°ï¼Œå³<code>2- 1</code>ï¼Œæ¥çœ‹ä¸€ä¸ªä¾‹å­:</p>
<pre><code class="typescript">const max = Number.MAX_SAFE_INTEGER;
const max1 = max + 1
const max2 = max + 2
max1 === max2     // true
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæœ€ç»ˆè¿”å›äº†trueï¼Œè¿™å°±æ˜¯è¶…è¿‡ç²¾è¯»èŒƒå›´é€ æˆçš„é—®é¢˜ï¼Œè€Œ<code>BigInt</code>æ­£æ˜¯è§£å†³è¿™ç±»é—®é¢˜è€Œç”Ÿçš„:</p>
<pre><code class="typescript">const max = BigInt(Number.MAX_SAFE_INTEGER);
const max1 = max + 1n
const max2 = max + 2n
max1 === max2    // false
</code></pre>
<p>è¿™é‡Œéœ€è¦ç”¨ <code>BigInt(number)</code> æŠŠ Number è½¬åŒ–ä¸º <code>BigInt</code>ï¼ŒåŒæ—¶å¦‚æœç±»å‹æ˜¯ <code>BigInt</code> ï¼Œé‚£ä¹ˆæ•°å­—åé¢éœ€è¦åŠ  <code>n</code>ã€‚</p>
<p>åœ¨TypeScriptä¸­ï¼Œ<code>number</code> ç±»å‹è™½ç„¶å’Œ <code>BigInt</code> éƒ½è¡¨ç¤ºæ•°å­—ï¼Œä½†æ˜¯å®é™…ä¸Šä¸¤è€…ç±»å‹æ˜¯å®Œå…¨ä¸åŒçš„:</p>
<pre><code class="typescript">declare let foo: number;
declare let bar: bigint;
foo = bar; // error: Type &#39;bigint&#39; is not assignable to type &#39;number&#39;.
bar = foo; // error: Type &#39;number&#39; is not assignable to type &#39;bigint&#39;.
</code></pre>
<h5 id="never"><a href="#never" class="headerlink" title="never"></a>never</h5><p><code>never</code>æ˜¯å…¶ä»–ç±»å‹ ï¼ˆåŒ…æ‹¬<code>null</code>å’Œ <code>undefined</code>ï¼‰çš„å­ç±»å‹ï¼Œå¯ä»¥èµ‹å€¼ç»™ä»»ä½•ç±»å‹ï¼Œä»£è¡¨ä»ä¸ä¼šå‡ºç°çš„å€¼</p>
<p>ä½†æ˜¯æ²¡æœ‰ç±»å‹æ˜¯ never çš„å­ç±»å‹ï¼Œè¿™æ„å‘³ç€å£°æ˜ <code>never</code> çš„å˜é‡åªèƒ½è¢« <code>never</code> ç±»å‹æ‰€èµ‹å€¼ã€‚</p>
<p><code>never</code> ç±»å‹ä¸€èˆ¬ç”¨æ¥æŒ‡å®šé‚£äº›æ€»æ˜¯ä¼šæŠ›å‡ºå¼‚å¸¸ã€æ— é™å¾ªç¯</p>
<pre><code class="tsx">let a:never;
a = 123; // é”™è¯¯çš„å†™æ³•

a = (() =&gt; &#123; // æ­£ç¡®çš„å†™æ³•
  throw new Error(&#39;é”™è¯¯&#39;);
&#125;)()

// è¿”å›neverçš„å‡½æ•°å¿…é¡»å­˜åœ¨æ— æ³•è¾¾åˆ°çš„ç»ˆç‚¹
function error(message: string): never &#123;
    throw new Error(message);
&#125;
</code></pre>
<h5 id="object"><a href="#object" class="headerlink" title="object"></a>object</h5><p>å¯¹è±¡ç±»å‹ï¼ŒéåŸå§‹ç±»å‹ï¼Œå¸¸è§çš„å½¢å¼é€šè¿‡<code>&#123;&#125;</code>è¿›è¡ŒåŒ…è£¹</p>
<pre><code class="tsx">let obj:object;
obj = &#123;name: &#39;Wang&#39;, age: 25&#125;;
</code></pre>
<h5 id="unknown"><a href="#unknown" class="headerlink" title="unknown"></a>unknown</h5><p>unknown æ˜¯TypeScriptåœ¨3.0ç‰ˆæœ¬æ–°å¢çš„ç±»å‹ï¼Œä¸»è¦ç”¨æ¥æè¿°ç±»å‹å¹¶ä¸ç¡®å®šçš„å˜é‡ã€‚å®ƒçœ‹èµ·æ¥å’Œanyå¾ˆåƒï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰åŒºåˆ«çš„ï¼Œunknownç›¸å¯¹äºanyæ›´å®‰å…¨ã€‚</p>
<p>å¯¹äºanyï¼Œæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<pre><code class="typescript">let value: any
console.log(value.name)
console.log(value.toFixed())
console.log(value.length)
</code></pre>
<p>ä¸Šé¢è¿™äº›è¯­å¥éƒ½ä¸ä¼šæŠ¥é”™ï¼Œå› ä¸ºvalueæ˜¯anyç±»å‹ï¼Œæ‰€ä»¥åé¢ä¸‰ä¸ªæ“ä½œéƒ½æœ‰åˆæ³•çš„æƒ…å†µï¼Œå½“valueæ˜¯ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œè®¿é—®nameå±æ€§æ˜¯æ²¡é—®é¢˜çš„ï¼›å½“valueæ˜¯æ•°å€¼ç±»å‹çš„æ—¶å€™ï¼Œè°ƒç”¨å®ƒçš„toFixedæ–¹æ³•æ²¡é—®é¢˜ï¼›å½“valueæ˜¯å­—ç¬¦ä¸²æˆ–æ•°ç»„æ—¶è·å–å®ƒçš„lengthå±æ€§æ˜¯æ²¡é—®é¢˜çš„ã€‚</p>
<p>å½“æŒ‡å®šå€¼ä¸ºunknownç±»å‹çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰ç¼©å°ç±»å‹èŒƒå›´çš„è¯ï¼Œæ˜¯ä¸èƒ½å¯¹å®ƒè¿›è¡Œä»»ä½•æ“ä½œçš„ã€‚æ€»ä¹‹ï¼Œunknownç±»å‹çš„å€¼ä¸èƒ½éšä¾¿æ“ä½œã€‚é‚£ä»€ä¹ˆæ˜¯ç±»å‹èŒƒå›´ç¼©å°å‘¢ï¼Ÿä¸‹é¢æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<pre><code class="typescript">function getValue(value: unknown): string &#123;
  if (value instanceof Date) &#123; 
    return value.toISOString();
  &#125;
  return String(value);
&#125;
</code></pre>
<p>è¿™é‡Œç”±äºæŠŠvalueçš„ç±»å‹ç¼©å°ä¸ºDateå®ä¾‹çš„èŒƒå›´å†…ï¼Œæ‰€ä»¥è¿›è¡Œäº†value.toISOString()ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨ISOæ ‡å‡†å°† Date å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚</p>
<p>ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ä¹Ÿå¯ä»¥ç¼©å°ç±»å‹èŒƒå›´ï¼š</p>
<pre><code class="typescript">let result: unknown;
if (typeof result === &#39;number&#39;) &#123;
  result.toFixed();
&#125;
</code></pre>
<p>å…³äº unknown ç±»å‹ï¼Œåœ¨ä½¿ç”¨æ—¶éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>ä»»ä½•ç±»å‹çš„å€¼éƒ½å¯ä»¥èµ‹å€¼ç»™ unknown ç±»å‹ï¼š</li>
</ul>
<pre><code class="typescript">let value1: unknown;
value1 = &quot;a&quot;;
value1 = 123;
</code></pre>
<ul>
<li>unknown ä¸å¯ä»¥èµ‹å€¼ç»™å…¶å®ƒç±»å‹ï¼Œåªèƒ½èµ‹å€¼ç»™ unknown å’Œ any ç±»å‹ï¼š</li>
</ul>
<pre><code class="typescript">let value2: unknown;
let value3: string = value2; // error ä¸èƒ½å°†ç±»å‹â€œunknownâ€åˆ†é…ç»™ç±»å‹â€œstringâ€
value1 = value2;
</code></pre>
<ul>
<li>unknown ç±»å‹çš„å€¼ä¸èƒ½è¿›è¡Œä»»ä½•æ“ä½œï¼š</li>
</ul>
<pre><code class="typescript">let value4: unknown;
value4 += 1; // error å¯¹è±¡çš„ç±»å‹ä¸º &quot;unknown&quot;
</code></pre>
<ul>
<li>åªèƒ½å¯¹ unknown è¿›è¡Œç­‰æˆ–ä¸ç­‰æ“ä½œï¼Œä¸èƒ½è¿›è¡Œå…¶å®ƒæ“ä½œï¼š</li>
</ul>
<pre><code class="typescript">value1 === value2;
value1 !== value2;
value1 += value2;  // error
</code></pre>
<ul>
<li>unknown ç±»å‹çš„å€¼ä¸èƒ½è®¿é—®å…¶å±æ€§ã€ä½œä¸ºå‡½æ•°è°ƒç”¨å’Œä½œä¸ºç±»åˆ›å»ºå®ä¾‹ï¼š</li>
</ul>
<pre><code class="typescript">let value5: unknown;
value5.age;   // error
value5();     // error
new value5(); // error
</code></pre>
<p>åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œå¦‚æœæœ‰ç±»å‹æ— æ³•ç¡®å®šçš„æƒ…å†µï¼Œè¦å°½é‡é¿å…ä½¿ç”¨ anyï¼Œå› ä¸º any ä¼šä¸¢å¤±ç±»å‹ä¿¡æ¯ï¼Œä¸€æ—¦ä¸€ä¸ªç±»å‹è¢«æŒ‡å®šä¸º anyï¼Œé‚£ä¹ˆåœ¨å®ƒä¸Šé¢è¿›è¡Œä»»ä½•æ“ä½œéƒ½æ˜¯åˆæ³•çš„ï¼Œæ‰€ä»¥ä¼šæœ‰æ„æƒ³ä¸åˆ°çš„æƒ…å†µå‘ç”Ÿã€‚å› æ­¤å¦‚æœé‡åˆ°æ— æ³•ç¡®å®šç±»å‹çš„æƒ…å†µï¼Œè¦å…ˆè€ƒè™‘ä½¿ç”¨ unknownã€‚</p>
<h4 id="ä¸‰ã€æ€»ç»“"><a href="#ä¸‰ã€æ€»ç»“" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h4><p>å’Œ<code>javascript</code>åŸºæœ¬ä¸€è‡´ï¼Œä¹Ÿåˆ†æˆï¼š</p>
<ul>
<li>åŸºæœ¬ç±»å‹</li>
<li>å¼•ç”¨ç±»å‹</li>
</ul>
<p>åœ¨åŸºç¡€ç±»å‹ä¸Šï¼Œ<code>typescript</code>å¢æ·»äº†<code>void</code>ã€<code>any</code>ã€<code>emum</code>ç­‰åŸå§‹ç±»å‹</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-TypeScript-ä¸­æšä¸¾ç±»å‹çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-TypeScript-ä¸­æšä¸¾ç±»å‹çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ TypeScript ä¸­æšä¸¾ç±»å‹çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ TypeScript ä¸­æšä¸¾ç±»å‹çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-2"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-2" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>æšä¸¾æ˜¯ä¸€ä¸ªè¢«å‘½åçš„æ•´å‹å¸¸æ•°çš„é›†åˆï¼Œç”¨äºå£°æ˜ä¸€ç»„å‘½åçš„å¸¸æ•°,å½“ä¸€ä¸ªå˜é‡æœ‰å‡ ç§å¯èƒ½çš„å–å€¼æ—¶,å¯ä»¥å°†å®ƒå®šä¹‰ä¸ºæšä¸¾ç±»å‹</p>
<p>é€šä¿—æ¥è¯´ï¼Œæšä¸¾å°±æ˜¯ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å¯èƒ½å–å€¼çš„é›†åˆ</p>
<p>åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ä¹Ÿå¾ˆå¸¸è§ï¼Œä¾‹å¦‚è¡¨ç¤ºæ˜ŸæœŸçš„SUNDAYã€MONDAYã€TUESDAYã€WEDNESDAYã€THURSDAYã€FRIDAYã€SATURDAYå°±å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªæšä¸¾</p>
<p>æšä¸¾çš„è¯´æ˜ä¸ç»“æ„å’Œè”åˆç›¸ä¼¼ï¼Œå…¶å½¢å¼ä¸ºï¼š</p>
<pre><code class="ini">enum æšä¸¾å&#123;
    æ ‡è¯†ç¬¦â‘ [=æ•´å‹å¸¸æ•°],
    æ ‡è¯†ç¬¦â‘¡[=æ•´å‹å¸¸æ•°],
    ...
    æ ‡è¯†ç¬¦N[=æ•´å‹å¸¸æ•°],
&#125;æšä¸¾å˜é‡;
</code></pre>
<h4 id="äºŒã€ä½¿ç”¨"><a href="#äºŒã€ä½¿ç”¨" class="headerlink" title="äºŒã€ä½¿ç”¨"></a>äºŒã€ä½¿ç”¨</h4><p>æšä¸¾çš„ä½¿ç”¨æ˜¯é€šè¿‡<code>enum</code>å…³é”®å­—è¿›è¡Œå®šä¹‰ï¼Œå½¢å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">enum xxx &#123; ... &#125;
</code></pre>
<p>å£°æ˜å…³é”®å­—ä¸ºæšä¸¾ç±»å‹çš„æ–¹å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">// å£°æ˜dä¸ºæšä¸¾ç±»å‹Direction
let d: Direction;
</code></pre>
<p>ç±»å‹å¯ä»¥åˆ†æˆï¼š</p>
<ul>
<li>æ•°å­—æšä¸¾</li>
<li>å­—ç¬¦ä¸²æšä¸¾</li>
<li>å¼‚æ„æšä¸¾</li>
</ul>
<h4 id="æ•°å­—æšä¸¾"><a href="#æ•°å­—æšä¸¾" class="headerlink" title="æ•°å­—æšä¸¾"></a>æ•°å­—æšä¸¾</h4><p>å½“æˆ‘ä»¬å£°æ˜ä¸€ä¸ªæšä¸¾ç±»å‹æ˜¯,è™½ç„¶æ²¡æœ‰ç»™å®ƒä»¬èµ‹å€¼,ä½†æ˜¯å®ƒä»¬çš„å€¼å…¶å®æ˜¯é»˜è®¤çš„æ•°å­—ç±»å‹,è€Œä¸”é»˜è®¤ä»0å¼€å§‹ä¾æ¬¡ç´¯åŠ :</p>
<pre><code class="tsx">enum Direction &#123;
    Up,   // å€¼é»˜è®¤ä¸º 0
    Down, // å€¼é»˜è®¤ä¸º 1
    Left, // å€¼é»˜è®¤ä¸º 2
    Right // å€¼é»˜è®¤ä¸º 3
&#125;

console.log(Direction.Up === 0); // true
console.log(Direction.Down === 1); // true
console.log(Direction.Left === 2); // true
console.log(Direction.Right === 3); // true
</code></pre>
<p>å¦‚æœæˆ‘ä»¬å°†ç¬¬ä¸€ä¸ªå€¼è¿›è¡Œèµ‹å€¼åï¼Œåé¢çš„å€¼ä¹Ÿä¼šæ ¹æ®å‰ä¸€ä¸ªå€¼è¿›è¡Œç´¯åŠ 1ï¼š</p>
<pre><code class="tsx">enum Direction &#123;
    Up = 10,
    Down,
    Left,
    Right
&#125;

console.log(Direction.Up, Direction.Down, Direction.Left, Direction.Right); // 10 11 12 13
</code></pre>
<h4 id="å­—ç¬¦ä¸²æšä¸¾"><a href="#å­—ç¬¦ä¸²æšä¸¾" class="headerlink" title="å­—ç¬¦ä¸²æšä¸¾"></a>å­—ç¬¦ä¸²æšä¸¾</h4><pre><code class="tsx">æšä¸¾ç±»å‹çš„å€¼å…¶å®ä¹Ÿå¯ä»¥æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼š

enum Direction &#123;
    Up = &#39;Up&#39;,
    Down = &#39;Down&#39;,
    Left = &#39;Left&#39;,
    Right = &#39;Right&#39;
&#125;

console.log(Direction[&#39;Right&#39;], Direction.Up); // Right Up
</code></pre>
<p>å¦‚æœè®¾å®šäº†ä¸€ä¸ªå˜é‡ä¸ºå­—ç¬¦ä¸²ä¹‹åï¼Œåç»­çš„å­—æ®µä¹Ÿéœ€è¦èµ‹å€¼å­—ç¬¦ä¸²ï¼Œå¦åˆ™æŠ¥é”™ï¼š</p>
<pre><code class="tsx">enum Direction &#123;
 Up = &#39;UP&#39;,
 Down, // error TS1061: Enum member must have initializer
 Left, // error TS1061: Enum member must have initializer
 Right // error TS1061: Enum member must have initializer
&#125;
</code></pre>
<h4 id="å¼‚æ„æšä¸¾"><a href="#å¼‚æ„æšä¸¾" class="headerlink" title="å¼‚æ„æšä¸¾"></a>å¼‚æ„æšä¸¾</h4><p>å³å°†æ•°å­—æšä¸¾å’Œå­—ç¬¦ä¸²æšä¸¾ç»“åˆèµ·æ¥æ··åˆèµ·æ¥ä½¿ç”¨ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">enum BooleanLikeHeterogeneousEnum &#123;
    No = 0,
    Yes = &quot;YES&quot;,
&#125;
</code></pre>
<p>é€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬å¾ˆå°‘ä¼šä½¿ç”¨å¼‚æ„æšä¸¾</p>
<h4 id="æœ¬è´¨"><a href="#æœ¬è´¨" class="headerlink" title="æœ¬è´¨"></a>æœ¬è´¨</h4><p>ç°åœ¨ä¸€ä¸ªæšä¸¾çš„æ¡ˆä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">enum Direction &#123;
    Up,
    Down,
    Left,
    Right
&#125;
</code></pre>
<p>é€šè¿‡ç¼–è¯‘åï¼Œ<code>javascript</code>å¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">var Direction;
(function (Direction) &#123;
    Direction[Direction[&quot;Up&quot;] = 0] = &quot;Up&quot;;
    Direction[Direction[&quot;Down&quot;] = 1] = &quot;Down&quot;;
    Direction[Direction[&quot;Left&quot;] = 2] = &quot;Left&quot;;
    Direction[Direction[&quot;Right&quot;] = 3] = &quot;Right&quot;;
&#125;)(Direction || (Direction = &#123;&#125;));
</code></pre>
<p>ä¸Šè¿°ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œ <code>Direction[Direction[&quot;Up&quot;] = 0] = &quot;Up&quot;</code>å¯ä»¥åˆ†æˆ</p>
<ul>
<li>Direction[â€œUpâ€] &#x3D; 0</li>
<li>Direction[0] &#x3D; â€œUpâ€</li>
</ul>
<p>æ‰€ä»¥å®šä¹‰æšä¸¾ç±»å‹åï¼Œå¯ä»¥é€šè¿‡æ­£åæ˜ å°„æ‹¿åˆ°å¯¹åº”çš„å€¼ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">enum Direction &#123;
    Up,
    Down,
    Left,
    Right
&#125;

console.log(Direction.Up === 0); // true
console.log(Direction[0]); // Up
</code></pre>
<p>å¹¶ä¸”å¤šå¤„å®šä¹‰çš„æšä¸¾æ˜¯å¯ä»¥è¿›è¡Œåˆå¹¶æ“ä½œï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">enum Direction &#123;
    Up = &#39;Up&#39;,
    Down = &#39;Down&#39;,
    Left = &#39;Left&#39;,
    Right = &#39;Right&#39;
&#125;

enum Direction &#123;
    Center = 1
&#125;
</code></pre>
<p>ç¼–è¯‘åï¼Œ<code>js</code>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">var Direction;
(function (Direction) &#123;
    Direction[&quot;Up&quot;] = &quot;Up&quot;;
    Direction[&quot;Down&quot;] = &quot;Down&quot;;
    Direction[&quot;Left&quot;] = &quot;Left&quot;;
    Direction[&quot;Right&quot;] = &quot;Right&quot;;
&#125;)(Direction || (Direction = &#123;&#125;));
(function (Direction) &#123;
    Direction[Direction[&quot;Center&quot;] = 1] = &quot;Center&quot;;
&#125;)(Direction || (Direction = &#123;&#125;));
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>Direction</code>å¯¹è±¡å±æ€§å›å åŠ </p>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>å°±æ‹¿å›ç”Ÿæ´»çš„ä¾‹å­ï¼Œåç«¯è¿”å›çš„å­—æ®µä½¿ç”¨ 0 - 6 æ ‡è®°å¯¹åº”çš„æ—¥æœŸï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨æšä¸¾å¯æé«˜ä»£ç å¯è¯»æ€§ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">enum Days &#123;Sun, Mon, Tue, Wed, Thu, Fri, Sat&#125;;

console.log(Days[&quot;Sun&quot;] === 0); // true
console.log(Days[&quot;Mon&quot;] === 1); // true
console.log(Days[&quot;Tue&quot;] === 2); // true
console.log(Days[&quot;Sat&quot;] === 6); // true
</code></pre>
<p>åŒ…æ‹¬åç«¯æ—¥å¸¸è¿”å›0ã€1 ç­‰ç­‰çŠ¶æ€çš„æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥é€šè¿‡æšä¸¾å»å®šä¹‰ï¼Œè¿™æ ·å¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§ï¼Œä¾¿äºåç»­çš„ç»´æŠ¤</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹-TypeScript-ä¸­æ¥å£çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹-TypeScript-ä¸­æ¥å£çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹ TypeScript ä¸­æ¥å£çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹ TypeScript ä¸­æ¥å£çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-3"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-3" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>æ¥å£æ˜¯ä¸€ç³»åˆ—æŠ½è±¡æ–¹æ³•çš„å£°æ˜ï¼Œæ˜¯ä¸€äº›æ–¹æ³•ç‰¹å¾çš„é›†åˆï¼Œè¿™äº›æ–¹æ³•éƒ½åº”è¯¥æ˜¯æŠ½è±¡çš„ï¼Œéœ€è¦ç”±å…·ä½“çš„ç±»å»å®ç°ï¼Œç„¶åç¬¬ä¸‰æ–¹å°±å¯ä»¥é€šè¿‡è¿™ç»„æŠ½è±¡æ–¹æ³•è°ƒç”¨ï¼Œè®©å…·ä½“çš„ç±»æ‰§è¡Œå…·ä½“çš„æ–¹æ³•</p>
<p>ç®€å•æ¥è®²ï¼Œä¸€ä¸ªæ¥å£æ‰€æè¿°çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ç›¸å…³çš„å±æ€§å’Œæ–¹æ³•ï¼Œä½†å¹¶ä¸æä¾›å…·ä½“åˆ›å»ºæ­¤å¯¹è±¡å®ä¾‹çš„æ–¹æ³•</p>
<p><code>typescript</code>çš„æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€å°±æ˜¯å¯¹ç±»å‹åšæ£€æµ‹ï¼Œè™½ç„¶è¿™ç§æ£€æµ‹æ–¹å¼æ˜¯â€œé¸­å¼è¾¨å‹æ³•â€ï¼Œè€Œæ¥å£çš„ä½œç”¨å°±æ˜¯ä¸ºä¸ºè¿™äº›ç±»å‹å‘½åå’Œä¸ºä½ çš„ä»£ç æˆ–ç¬¬ä¸‰æ–¹ä»£ç å®šä¹‰ä¸€ä¸ªçº¦å®š</p>
<h4 id="äºŒã€ä½¿ç”¨æ–¹å¼"><a href="#äºŒã€ä½¿ç”¨æ–¹å¼" class="headerlink" title="äºŒã€ä½¿ç”¨æ–¹å¼"></a>äºŒã€ä½¿ç”¨æ–¹å¼</h4><p>æ¥å£å®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">interface interface_name &#123;
&#125;
</code></pre>
<p>ä¾‹å¦‚æœ‰ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ª <code>User</code> å¯¹è±¡ï¼Œç„¶åè¿”å›è¿™ä¸ª <code>User</code> å¯¹è±¡çš„ <code>name</code> å±æ€§:</p>
<pre><code class="tsx">const getUserName = (user) =&gt; user.name
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå‚æ•°éœ€è¦æœ‰ä¸€ä¸ª<code>user</code>çš„<code>name</code>å±æ€§ï¼Œå¯ä»¥é€šè¿‡æ¥å£æè¿°<code>user</code>å‚æ•°çš„ç»“æ„</p>
<pre><code class="tsx">interface User &#123;
    name: string
    age: number
&#125;

const getUserName = (user: User) =&gt; user.name
</code></pre>
<p>è¿™äº›å±æ€§å¹¶ä¸ä¸€å®šå…¨éƒ¨å®ç°ï¼Œä¸Šè¿°ä¼ å…¥çš„å¯¹è±¡å¿…é¡»æ‹¥æœ‰<code>name</code>å’Œ<code>age</code>å±æ€§ï¼Œå¦åˆ™<code>typescript</code>åœ¨ç¼–è¯‘é˜¶æ®µä¼šæŠ¥é”™ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f32356433613739302d306232622d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>å¦‚æœä¸æƒ³è¦<code>age</code>å±æ€§çš„è¯ï¼Œè¿™æ—¶å€™å¯ä»¥é‡‡ç”¨å¯é€‰å±æ€§ï¼Œå¦‚ä¸‹è¡¨ç¤ºï¼š</p>
<pre><code class="tsx">interface User &#123;
    name: string
    age?: number
&#125;
</code></pre>
<p>è¿™æ—¶å€™<code>age</code>å±æ€§åˆ™å¯ä»¥æ˜¯<code>number</code>ç±»å‹æˆ–è€…<code>undefined</code>ç±»å‹</p>
<p>æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬æƒ³è¦ä¸€ä¸ªå±æ€§å˜æˆåªè¯»å±æ€§ï¼Œåœ¨<code>typescript</code>åªéœ€è¦ä½¿ç”¨<code>readonly</code>å£°æ˜ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">interface User &#123;
    name: string
    age?: number
    readonly isMale: boolean
&#125;
</code></pre>
<p>å½“æˆ‘ä»¬ä¿®æ”¹å±æ€§çš„æ—¶å€™ï¼Œå°±ä¼šå‡ºç°è­¦å‘Šï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f32663664336333302d306232622d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>è¿™æ˜¯å±æ€§ä¸­æœ‰ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥å¦‚ä¸‹è¡¨ç¤ºï¼š</p>
<pre><code class="tsx">interface User &#123;
    name: string
    age?: number
    readonly isMale: boolean
    say: (words: string) =&gt; string
&#125;
</code></pre>
<p>å¦‚æœä¼ é€’çš„å¯¹è±¡ä¸ä»…ä»…æ˜¯ä¸Šè¿°çš„å±æ€§ï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨ï¼š</p>
<ul>
<li>ç±»å‹æ¨æ–­</li>
</ul>
<pre><code class="tsx">interface User &#123;
    name: string
    age: number
&#125;

const getUserName = (user: User) =&gt; user.name
getUserName(&#123;color: &#39;yellow&#39;&#125; as User)
</code></pre>
<ul>
<li>ç»™æ¥å£æ·»åŠ å­—ç¬¦ä¸²ç´¢å¼•ç­¾å</li>
</ul>
<pre><code class="tsx">interface User &#123;
    name: string
    age: number
    [propName: string]: any;
&#125;
</code></pre>
<p>æ¥å£è¿˜èƒ½å®ç°ç»§æ‰¿ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f33386134313736302d306232622d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>ä¹Ÿå¯ä»¥ç»§æ‰¿å¤šä¸ªï¼Œçˆ¶ç±»é€šè¿‡é€—å·éš”å¼€ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">interface Father &#123;
    color: String
&#125;

interface Mother &#123;
    height: Number
&#125;

interface Son extends Father,Mother&#123;
    name: string
    age: Number
&#125;
</code></pre>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯-1"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-1" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>ä¾‹å¦‚åœ¨<code>javascript</code>ä¸­å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥è·å–ç”¨æˆ·çš„å§“åå’Œå¹´é¾„ï¼š</p>
<pre><code class="tsx">const getUserInfo = function(user) &#123;
    // ...
    return name: $&#123;user.name&#125;, age: $&#123;user.age&#125;
&#125;
</code></pre>
<p>å¦‚æœå¤šäººå¼€å‘çš„éƒ½éœ€è¦ç”¨åˆ°è¿™ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰æ³¨é‡Šï¼Œåˆ™å¯èƒ½å‡ºç°å„ç§è¿è¡Œæ—¶çš„é”™è¯¯ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨æ¥å£å®šä¹‰å‚æ•°å˜é‡ï¼š</p>
<pre><code class="tsx">// å…ˆå®šä¹‰ä¸€ä¸ªæ¥å£
interface IUser &#123;
  name: string;
  age: number;
&#125;

const getUserInfo = (user: IUser): string =&gt; &#123;
  return `name: $&#123;user.name&#125;, age: $&#123;user.age&#125;`;
&#125;;

// æ­£ç¡®çš„è°ƒç”¨
getUserInfo(&#123;name: &quot;koala&quot;, age: 18&#125;);
</code></pre>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹-TypeScript-ä¸­ç±»çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹-TypeScript-ä¸­ç±»çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹ TypeScript ä¸­ç±»çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹ TypeScript ä¸­ç±»çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-4"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-4" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>ç±»ï¼ˆClassï¼‰æ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ï¼ˆOOPï¼ŒObject-Oriented Programmingï¼‰å®ç°ä¿¡æ¯å°è£…çš„åŸºç¡€</p>
<blockquote>
<p>ç±»æ˜¯ä¸€ç§ç”¨æˆ·å®šä¹‰çš„å¼•ç”¨æ•°æ®ç±»å‹ï¼Œä¹Ÿç§°ç±»ç±»å‹</p>
</blockquote>
<p>ä¼ ç»Ÿçš„é¢å‘å¯¹è±¡è¯­è¨€åŸºæœ¬éƒ½æ˜¯åŸºäºç±»çš„ï¼Œ<code>JavaScript</code> åŸºäºåŸå‹çš„æ–¹å¼è®©å¼€å‘è€…å¤šäº†å¾ˆå¤šç†è§£æˆæœ¬</p>
<p>åœ¨ <code>ES6</code> ä¹‹åï¼Œ<code>JavaScript</code> æ‹¥æœ‰äº† <code>class</code> å…³é”®å­—ï¼Œè™½ç„¶æœ¬è´¨ä¾ç„¶æ˜¯æ„é€ å‡½æ•°ï¼Œä½†æ˜¯ä½¿ç”¨èµ·æ¥å·²ç»æ–¹ä¾¿äº†è®¸å¤š</p>
<p>ä½†æ˜¯<code> JavaScript</code> çš„<code>class</code>ä¾ç„¶æœ‰ä¸€äº›ç‰¹æ€§è¿˜æ²¡æœ‰åŠ å…¥ï¼Œæ¯”å¦‚ä¿®é¥°ç¬¦å’ŒæŠ½è±¡ç±»</p>
<p><code>TypeScript</code> çš„ <code>class</code> æ”¯æŒé¢å‘å¯¹è±¡çš„æ‰€æœ‰ç‰¹æ€§ï¼Œæ¯”å¦‚ ç±»ã€æ¥å£ç­‰</p>
<h4 id="äºŒã€ä½¿ç”¨æ–¹å¼-1"><a href="#äºŒã€ä½¿ç”¨æ–¹å¼-1" class="headerlink" title="äºŒã€ä½¿ç”¨æ–¹å¼"></a>äºŒã€ä½¿ç”¨æ–¹å¼</h4><p>å®šä¹‰ç±»çš„å…³é”®å­—ä¸º <code>class</code>ï¼Œåé¢ç´§è·Ÿç±»åï¼Œç±»å¯ä»¥åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ¨¡å—ï¼ˆç±»çš„æ•°æ®æˆå‘˜ï¼‰ï¼š</p>
<ul>
<li>å­—æ®µï¼š å­—æ®µæ˜¯ç±»é‡Œé¢å£°æ˜çš„å˜é‡ã€‚å­—æ®µè¡¨ç¤ºå¯¹è±¡çš„æœ‰å…³æ•°æ®ã€‚</li>
<li>æ„é€ å‡½æ•°ï¼š ç±»å®ä¾‹åŒ–æ—¶è°ƒç”¨ï¼Œå¯ä»¥ä¸ºç±»çš„å¯¹è±¡åˆ†é…å†…å­˜ã€‚</li>
<li>æ–¹æ³•ï¼š æ–¹æ³•ä¸ºå¯¹è±¡è¦æ‰§è¡Œçš„æ“ä½œ</li>
</ul>
<p>å¦‚ä¸‹ä¾‹å­ï¼š</p>
<pre><code class="tsx">class Car &#123;
    // å­—æ®µ
    engine:string;

    // æ„é€ å‡½æ•°
    constructor(engine:string) &#123;
        this.engine = engine
    &#125;

    // æ–¹æ³•
    disp():void &#123;
        console.log(&quot;å‘åŠ¨æœºä¸º :   &quot;+this.engine)
    &#125;
&#125;
</code></pre>
<h5 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h5><p>ç±»çš„ç»§æ‰¿ä½¿ç”¨è¿‡<code>extends</code>çš„å…³é”®å­—</p>
<pre><code class="tsx">class Animal &#123;
    move(distanceInMeters: number = 0) &#123;
        console.log(`Animal moved $&#123;distanceInMeters&#125;m.`);
    &#125;
&#125;

class Dog extends Animal &#123;
    bark() &#123;
        console.log(&#39;Woof! Woof!&#39;);
    &#125;
&#125;

const dog = new Dog();
dog.bark();
dog.move(10);
dog.bark();
</code></pre>
<p><code>Dog</code>æ˜¯ä¸€ä¸ª æ´¾ç”Ÿç±»ï¼Œå®ƒæ´¾ç”Ÿè‡ª <code>Animal</code> åŸºç±»ï¼Œæ´¾ç”Ÿç±»é€šå¸¸è¢«ç§°ä½œå­ç±»ï¼ŒåŸºç±»é€šå¸¸è¢«ç§°ä½œ è¶…ç±»</p>
<p><code>Dog</code>ç±»ç»§æ‰¿äº†<code>Animal</code>ç±»ï¼Œå› æ­¤å®ä¾‹<code>dog</code>ä¹Ÿèƒ½å¤Ÿä½¿ç”¨<code>Animal</code>ç±»<code>move</code>æ–¹æ³•</p>
<p>åŒæ ·ï¼Œç±»ç»§æ‰¿åï¼Œå­ç±»å¯ä»¥å¯¹çˆ¶ç±»çš„æ–¹æ³•é‡æ–°å®šä¹‰ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¹‹ä¸ºæ–¹æ³•çš„é‡å†™ï¼Œé€šè¿‡<code>super</code>å…³é”®å­—æ˜¯å¯¹çˆ¶ç±»çš„ç›´æ¥å¼•ç”¨ï¼Œè¯¥å…³é”®å­—å¯ä»¥å¼•ç”¨çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">class PrinterClass &#123;
   doPrint():void &#123;
      console.log(&quot;çˆ¶ç±»çš„ doPrint() æ–¹æ³•ã€‚&quot;)
   &#125;
&#125;

class StringPrinter extends PrinterClass &#123;
   doPrint():void &#123;
      super.doPrint() // è°ƒç”¨çˆ¶ç±»çš„å‡½æ•°
      console.log(&quot;å­ç±»çš„ doPrint()æ–¹æ³•ã€‚&quot;)
   &#125;
&#125;
</code></pre>
<h5 id="ä¿®é¥°ç¬¦"><a href="#ä¿®é¥°ç¬¦" class="headerlink" title="ä¿®é¥°ç¬¦"></a>ä¿®é¥°ç¬¦</h5><p>å¯ä»¥çœ‹åˆ°ï¼Œä¸Šè¿°çš„å½¢å¼è·Ÿ<code>ES6</code>ååˆ†çš„ç›¸ä¼¼ï¼Œ<code>typescript</code>åœ¨æ­¤åŸºç¡€ä¸Šæ·»åŠ äº†ä¸‰ç§ä¿®é¥°ç¬¦ï¼š</p>
<ul>
<li>å…¬å…± publicï¼šå¯ä»¥è‡ªç”±çš„è®¿é—®ç±»ç¨‹åºé‡Œå®šä¹‰çš„æˆå‘˜</li>
<li>ç§æœ‰ privateï¼šåªèƒ½å¤Ÿåœ¨è¯¥ç±»çš„å†…éƒ¨è¿›è¡Œè®¿é—®</li>
<li>å—ä¿æŠ¤ protectï¼šé™¤äº†åœ¨è¯¥ç±»çš„å†…éƒ¨å¯ä»¥è®¿é—®ï¼Œè¿˜å¯ä»¥åœ¨å­ç±»ä¸­ä»ç„¶å¯ä»¥è®¿é—®</li>
</ul>
<h6 id="ç§æœ‰ä¿®é¥°ç¬¦"><a href="#ç§æœ‰ä¿®é¥°ç¬¦" class="headerlink" title="ç§æœ‰ä¿®é¥°ç¬¦"></a>ç§æœ‰ä¿®é¥°ç¬¦</h6><p>åªèƒ½å¤Ÿåœ¨è¯¥ç±»çš„å†…éƒ¨è¿›è¡Œè®¿é—®ï¼Œå®ä¾‹å¯¹è±¡å¹¶ä¸èƒ½å¤Ÿè®¿é—®</p>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f66353733363566302d306362342d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>å¹¶ä¸”ç»§æ‰¿è¯¥ç±»çš„å­ç±»å¹¶ä¸èƒ½è®¿é—®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f30303732636332302d306362352d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<h6 id="å—ä¿æŠ¤ä¿®é¥°ç¬¦"><a href="#å—ä¿æŠ¤ä¿®é¥°ç¬¦" class="headerlink" title="å—ä¿æŠ¤ä¿®é¥°ç¬¦"></a>å—ä¿æŠ¤ä¿®é¥°ç¬¦</h6><p>è·Ÿç§æœ‰ä¿®é¥°ç¬¦å¾ˆç›¸ä¼¼ï¼Œå®ä¾‹å¯¹è±¡åŒæ ·ä¸èƒ½è®¿é—®å—ä¿æŠ¤çš„å±æ€§ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f30396537323538302d306362352d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>æœ‰ä¸€ç‚¹ä¸åŒçš„æ˜¯ <code>protected</code> æˆå‘˜åœ¨å­ç±»ä¸­ä»ç„¶å¯ä»¥è®¿é—®</p>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f31333766383161302d306362352d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>é™¤äº†ä¸Šè¿°ä¿®é¥°ç¬¦ä¹‹å¤–ï¼Œè¿˜æœ‰åªè¯»ä¿®é¥°ç¬¦</p>
<h6 id="åªè¯»ä¿®é¥°ç¬¦"><a href="#åªè¯»ä¿®é¥°ç¬¦" class="headerlink" title="åªè¯»ä¿®é¥°ç¬¦"></a>åªè¯»ä¿®é¥°ç¬¦</h6><p>é€šè¿‡<code>readonly</code>å…³é”®å­—è¿›è¡Œå£°æ˜ï¼Œåªè¯»å±æ€§å¿…é¡»åœ¨å£°æ˜æ—¶æˆ–æ„é€ å‡½æ•°é‡Œè¢«åˆå§‹åŒ–ï¼Œå¦‚ä¸‹ï¼š</p>
<p><a href="https://camo.githubusercontent.com/f0885f89e9d2d9bc7aa7acd9b815cd6f447ab2ed9d3a5c4df4ccd6974599bf53/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f31653834386432302d306362352d313165632d386536342d3931666465633066303561312e706e67"><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f31653834386432302d306362352d313165632d386536342d3931666465633066303561312e706e67.png" alt="img"></a></p>
<p>é™¤äº†å®ä¾‹å±æ€§ä¹‹å¤–ï¼ŒåŒæ ·å­˜åœ¨é™æ€å±æ€§</p>
<h6 id="é™æ€å±æ€§"><a href="#é™æ€å±æ€§" class="headerlink" title="é™æ€å±æ€§"></a>é™æ€å±æ€§</h6><p>è¿™äº›å±æ€§å­˜åœ¨äºç±»æœ¬èº«ä¸Šé¢è€Œä¸æ˜¯ç±»çš„å®ä¾‹ä¸Šï¼Œé€šè¿‡<code>static</code>è¿›è¡Œå®šä¹‰ï¼Œè®¿é—®è¿™äº›å±æ€§éœ€è¦é€šè¿‡ ç±»å‹.é™æ€å±æ€§ çš„è¿™ç§å½¢å¼è®¿é—®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="tsx">class Square &#123;
    static width = &#39;100px&#39;
&#125;

console.log(Square.width) // 100px
</code></pre>
<p>ä¸Šè¿°çš„ç±»éƒ½èƒ½å‘ç°ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯ï¼Œéƒ½èƒ½å¤Ÿè¢«å®ä¾‹åŒ–ï¼Œåœ¨ <code>typescript</code>ä¸­ï¼Œè¿˜å­˜åœ¨ä¸€ç§æŠ½è±¡ç±»</p>
<h5 id="æŠ½è±¡ç±»"><a href="#æŠ½è±¡ç±»" class="headerlink" title="æŠ½è±¡ç±»"></a>æŠ½è±¡ç±»</h5><p>æŠ½è±¡ç±»åšä¸ºå…¶å®ƒæ´¾ç”Ÿç±»çš„åŸºç±»ä½¿ç”¨ï¼Œå®ƒä»¬ä¸€èˆ¬ä¸ä¼šç›´æ¥è¢«å®ä¾‹åŒ–ï¼Œä¸åŒäºæ¥å£ï¼ŒæŠ½è±¡ç±»å¯ä»¥åŒ…å«æˆå‘˜çš„å®ç°ç»†èŠ‚</p>
<p><code>abstract </code>å…³é”®å­—æ˜¯ç”¨äºå®šä¹‰æŠ½è±¡ç±»å’Œåœ¨æŠ½è±¡ç±»å†…éƒ¨å®šä¹‰æŠ½è±¡æ–¹æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="tsx">abstract class Animal &#123;
    abstract makeSound(): void;
    move(): void &#123;
        console.log(&#39;roaming the earch...&#39;);
    &#125;
&#125;
</code></pre>
<p>è¿™ç§ç±»å¹¶ä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œé€šå¸¸éœ€è¦æˆ‘ä»¬åˆ›å»ºå­ç±»å»ç»§æ‰¿ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">class Cat extends Animal &#123;

    makeSound() &#123;
        console.log(&#39;miao miao&#39;)
    &#125;
&#125;

const cat = new Cat()

cat.makeSound() // miao miao
cat.move() // roaming the earch...
</code></pre>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯-2"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-2" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>é™¤äº†æ—¥å¸¸å€ŸåŠ©ç±»çš„ç‰¹æ€§å®Œæˆæ—¥å¸¸ä¸šåŠ¡ä»£ç ï¼Œè¿˜å¯ä»¥å°†ç±»ï¼ˆclassï¼‰ä¹Ÿå¯ä»¥ä½œä¸ºæ¥å£ï¼Œå°¤å…¶åœ¨ <code>React</code> å·¥ç¨‹ä¸­æ˜¯å¾ˆå¸¸ç”¨çš„ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">export default class Carousel extends React.Component&lt;Props, State&gt; &#123;&#125;
</code></pre>
<p>ç”±äºç»„ä»¶éœ€è¦ä¼ å…¥ <code>props</code> çš„ç±»å‹ <code>Props</code> ï¼ŒåŒæ—¶æœ‰éœ€è¦è®¾ç½®é»˜è®¤ <code>props</code> å³ <code>defaultProps</code>ï¼Œè¿™æ—¶å€™æ›´åŠ é€‚åˆä½¿ç”¨<code>class</code>ä½œä¸ºæ¥å£</p>
<p>å…ˆå£°æ˜ä¸€ä¸ªç±»ï¼Œè¿™ä¸ªç±»åŒ…å«ç»„ä»¶ <code>props</code> æ‰€éœ€çš„ç±»å‹å’Œåˆå§‹å€¼ï¼š</p>
<pre><code class="tsx">// propsçš„ç±»å‹
export default class Props &#123;
  public children: Array&lt;React.ReactElement&lt;any&gt;&gt; | React.ReactElement&lt;any&gt; | never[] = []
  public speed: number = 500
  public height: number = 160
  public animation: string = &#39;easeInOutQuad&#39;
  public isAuto: boolean = true
  public autoPlayInterval: number = 4500
  public afterChange: () =&gt; &#123;&#125;
  public beforeChange: () =&gt; &#123;&#125;
  public selesctedColor: string
  public showDots: boolean = true
&#125;
</code></pre>
<p>å½“æˆ‘ä»¬éœ€è¦ä¼ å…¥ <code>props</code> ç±»å‹çš„æ—¶å€™ç›´æ¥å°† <code>Props</code> ä½œä¸ºæ¥å£ä¼ å…¥ï¼Œæ­¤æ—¶ <code>Props</code> çš„ä½œç”¨å°±æ˜¯æ¥å£ï¼Œè€Œå½“éœ€è¦æˆ‘ä»¬è®¾ç½®<code>defaultProps</code>åˆå§‹å€¼çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦:</p>
<pre><code class="tsx">public static defaultProps = new Props()
</code></pre>
<p><code>Props</code> çš„å®ä¾‹å°±æ˜¯ <code>defaultProps</code> çš„åˆå§‹å€¼ï¼Œè¿™å°±æ˜¯ <code>class </code>ä½œä¸ºæ¥å£çš„å®é™…åº”ç”¨ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ª <code>class</code> èµ·åˆ°äº†æ¥å£å’Œè®¾ç½®åˆå§‹å€¼ä¸¤ä¸ªä½œç”¨ï¼Œæ–¹ä¾¿ç»Ÿä¸€ç®¡ç†ï¼Œå‡å°‘äº†ä»£ç é‡</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹-TypeScript-ä¸­å‡½æ•°çš„ç†è§£ï¼Ÿä¸-JavaScript-å‡½æ•°çš„åŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹-TypeScript-ä¸­å‡½æ•°çš„ç†è§£ï¼Ÿä¸-JavaScript-å‡½æ•°çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹ TypeScript ä¸­å‡½æ•°çš„ç†è§£ï¼Ÿä¸ JavaScript å‡½æ•°çš„åŒºåˆ«ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹ TypeScript ä¸­å‡½æ•°çš„ç†è§£ï¼Ÿä¸ JavaScript å‡½æ•°çš„åŒºåˆ«ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-5"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-5" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>å‡½æ•°æ˜¯<code> JavaScript</code> åº”ç”¨ç¨‹åºçš„åŸºç¡€ï¼Œå¸®åŠ©æˆ‘ä»¬å®ç°æŠ½è±¡å±‚ã€æ¨¡æ‹Ÿç±»ã€ä¿¡æ¯éšè—å’Œæ¨¡å—</p>
<p>åœ¨<code> TypeScript</code> é‡Œï¼Œè™½ç„¶å·²ç»æ”¯æŒç±»ã€å‘½åç©ºé—´å’Œæ¨¡å—ï¼Œä½†å‡½æ•°ä»ç„¶æ˜¯ä¸»è¦å®šä¹‰è¡Œä¸ºçš„æ–¹å¼ï¼Œ<code>TypeScript</code> ä¸º <code>JavaScript</code> å‡½æ•°æ·»åŠ äº†é¢å¤–çš„åŠŸèƒ½ï¼Œä¸°å¯Œäº†æ›´å¤šçš„åº”ç”¨åœºæ™¯</p>
<p>å‡½æ•°ç±»å‹åœ¨ <code>TypeScript</code> ç±»å‹ç³»ç»Ÿä¸­æ‰®æ¼”ç€éå¸¸é‡è¦çš„è§’è‰²ï¼Œå®ƒä»¬æ˜¯å¯ç»„åˆç³»ç»Ÿçš„æ ¸å¿ƒæ„å»ºå—</p>
<h4 id="äºŒã€ä½¿ç”¨æ–¹å¼-2"><a href="#äºŒã€ä½¿ç”¨æ–¹å¼-2" class="headerlink" title="äºŒã€ä½¿ç”¨æ–¹å¼"></a>äºŒã€ä½¿ç”¨æ–¹å¼</h4><p>è·Ÿ<code>javascript</code> å®šä¹‰å‡½æ•°ååˆ†ç›¸ä¼¼ï¼Œå¯ä»¥é€šè¿‡<code>funciton</code> å…³é”®å­—ã€ç®­å¤´å‡½æ•°ç­‰å½¢å¼å»å®šä¹‰ï¼Œä¾‹å¦‚ä¸‹é¢ä¸€ä¸ªç®€å•çš„åŠ æ³•å‡½æ•°ï¼š</p>
<pre><code class="tsx">const add = (a: number, b: number) =&gt; a + b
</code></pre>
<p>ä¸Šè¿°åªå®šä¹‰äº†å‡½æ•°çš„ä¸¤ä¸ªå‚æ•°ç±»å‹ï¼Œè¿™ä¸ªæ—¶å€™æ•´ä¸ªå‡½æ•°è™½ç„¶æ²¡æœ‰è¢«æ˜¾å¼å®šä¹‰ï¼Œä½†æ˜¯å®é™…ä¸Š<code> TypeScript</code> ç¼–è¯‘å™¨æ˜¯èƒ½å¤Ÿé€šè¿‡ç±»å‹æ¨æ–­åˆ°è¿™ä¸ªå‡½æ•°çš„ç±»å‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f34623334313562302d306434322d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>å½“é¼ æ ‡æ”¾ç½®åœ¨ç¬¬ä¸‰è¡Œ<code>add</code>å‡½æ•°åçš„æ—¶å€™ï¼Œä¼šå‡ºç°å®Œæ•´çš„å‡½æ•°å®šä¹‰ç±»å‹ï¼Œé€šè¿‡<code>:</code> çš„å½¢å¼æ¥å®šäºå‚æ•°ç±»å‹ï¼Œé€šè¿‡ <code>=&gt;</code> è¿æ¥å‚æ•°å’Œè¿”å›å€¼ç±»å‹</p>
<p>å½“æˆ‘ä»¬æ²¡æœ‰æä¾›å‡½æ•°å®ç°çš„æƒ…å†µä¸‹ï¼Œæœ‰ä¸¤ç§å£°æ˜å‡½æ•°ç±»å‹çš„æ–¹å¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="tsx">// æ–¹å¼ä¸€
type LongHand = &#123;
  (a: number): number;
&#125;;

// æ–¹å¼äºŒ
type ShortHand = (a: number) =&gt; number;
</code></pre>
<p>å½“å­˜åœ¨å‡½æ•°é‡è½½æ—¶ï¼Œåªèƒ½ä½¿ç”¨æ–¹å¼ä¸€çš„å½¢å¼</p>
<h5 id="å¯é€‰å‚æ•°"><a href="#å¯é€‰å‚æ•°" class="headerlink" title="å¯é€‰å‚æ•°"></a>å¯é€‰å‚æ•°</h5><p>å½“å‡½æ•°çš„å‚æ•°å¯èƒ½æ˜¯ä¸å­˜åœ¨çš„ï¼Œåªéœ€è¦åœ¨å‚æ•°åé¢åŠ ä¸Š <code>?</code> ä»£è¡¨å‚æ•°å¯èƒ½ä¸å­˜åœ¨ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">const add = (a: number, b?: number) =&gt; a + (b ? b : 0)
</code></pre>
<p>è¿™æ—¶å€™å‚æ•°<code>b</code>å¯ä»¥æ˜¯<code>number</code>ç±»å‹æˆ–è€…<code>undefined</code>ç±»å‹ï¼Œå³å¯ä»¥ä¼ ä¸€ä¸ª<code>number</code>ç±»å‹æˆ–è€…ä¸ä¼ éƒ½å¯ä»¥</p>
<h5 id="å‰©ä½™ç±»å‹"><a href="#å‰©ä½™ç±»å‹" class="headerlink" title="å‰©ä½™ç±»å‹"></a>å‰©ä½™ç±»å‹</h5><p>å‰©ä½™å‚æ•°ä¸<code>JavaScript</code>çš„è¯­æ³•ç±»ä¼¼ï¼Œéœ€è¦ç”¨ <code>...</code> æ¥è¡¨ç¤ºå‰©ä½™å‚æ•°</p>
<p>å¦‚æœå‰©ä½™å‚æ•° <code>rest</code> æ˜¯ä¸€ä¸ªç”±<code>number</code>ç±»å‹ç»„æˆçš„æ•°ç»„ï¼Œåˆ™å¦‚ä¸‹è¡¨ç¤ºï¼š</p>
<pre><code class="tsx">const add = (a: number, ...rest: number[]) =&gt; rest.reduce(((a, b) =&gt; a + b), a)
</code></pre>
<h5 id="å‡½æ•°é‡è½½"><a href="#å‡½æ•°é‡è½½" class="headerlink" title="å‡½æ•°é‡è½½"></a>å‡½æ•°é‡è½½</h5><p>å…è®¸åˆ›å»ºæ•°é¡¹åç§°ç›¸åŒä½†è¾“å…¥è¾“å‡ºç±»å‹æˆ–ä¸ªæ•°ä¸åŒçš„å­ç¨‹åºï¼Œå®ƒå¯ä»¥ç®€å•åœ°ç§°ä¸ºä¸€ä¸ªå•ç‹¬åŠŸèƒ½å¯ä»¥æ‰§è¡Œå¤šé¡¹ä»»åŠ¡çš„èƒ½åŠ›</p>
<p>å…³äº<code>typescript</code>å‡½æ•°é‡è½½ï¼Œå¿…é¡»è¦æŠŠç²¾ç¡®çš„å®šä¹‰æ”¾åœ¨å‰é¢ï¼Œæœ€åå‡½æ•°å®ç°æ—¶ï¼Œéœ€è¦ä½¿ç”¨ <code>|</code>æ“ä½œç¬¦æˆ–è€…<code>?</code>æ“ä½œç¬¦ï¼ŒæŠŠæ‰€æœ‰å¯èƒ½çš„è¾“å…¥ç±»å‹å…¨éƒ¨åŒ…å«è¿›å»ï¼Œç”¨äºå…·ä½“å®ç°</p>
<p>è¿™é‡Œçš„å‡½æ•°é‡è½½ä¹Ÿåªæ˜¯å¤šä¸ªå‡½æ•°çš„å£°æ˜ï¼Œå…·ä½“çš„é€»è¾‘è¿˜éœ€è¦è‡ªå·±å»å†™ï¼Œ<code>typescript</code>å¹¶ä¸ä¼šçœŸçš„å°†ä½ çš„å¤šä¸ªé‡å <code>function </code>çš„å‡½æ•°ä½“è¿›è¡Œåˆå¹¶</p>
<p>ä¾‹å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªaddå‡½æ•°ï¼Œå®ƒå¯ä»¥æ¥æ”¶ <code>string</code>ç±»å‹çš„å‚æ•°è¿›è¡Œæ‹¼æ¥ï¼Œä¹Ÿå¯ä»¥æ¥æ”¶ <code>number</code> ç±»å‹çš„å‚æ•°è¿›è¡Œç›¸åŠ ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">// ä¸Šè¾¹æ˜¯å£°æ˜
function add (arg1: string, arg2: string): string
function add (arg1: number, arg2: number): number
// å› ä¸ºæˆ‘ä»¬åœ¨ä¸‹è¾¹æœ‰å…·ä½“å‡½æ•°çš„å®ç°ï¼Œæ‰€ä»¥è¿™é‡Œå¹¶ä¸éœ€è¦æ·»åŠ  declare å…³é”®å­—

// ä¸‹è¾¹æ˜¯å®ç°
function add (arg1: string | number, arg2: string | number) &#123;
  // åœ¨å®ç°ä¸Šæˆ‘ä»¬è¦æ³¨æ„ä¸¥æ ¼åˆ¤æ–­ä¸¤ä¸ªå‚æ•°çš„ç±»å‹æ˜¯å¦ç›¸ç­‰ï¼Œè€Œä¸èƒ½ç®€å•çš„å†™ä¸€ä¸ª arg1 + arg2
  if (typeof arg1 === &#39;string&#39; &amp;&amp; typeof arg2 === &#39;string&#39;) &#123;
    return arg1 + arg2
  &#125; else if (typeof arg1 === &#39;number&#39; &amp;&amp; typeof arg2 === &#39;number&#39;) &#123;
    return arg1 + arg2
  &#125;
&#125;
</code></pre>
<h4 id="ä¸‰ã€åŒºåˆ«-1"><a href="#ä¸‰ã€åŒºåˆ«-1" class="headerlink" title="ä¸‰ã€åŒºåˆ«"></a>ä¸‰ã€åŒºåˆ«</h4><p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼š</p>
<ul>
<li>ä»å®šä¹‰çš„æ–¹å¼è€Œè¨€ï¼Œtypescript å£°æ˜å‡½æ•°éœ€è¦å®šä¹‰å‚æ•°ç±»å‹æˆ–è€…å£°æ˜è¿”å›å€¼ç±»å‹</li>
<li>typescript åœ¨å‚æ•°ä¸­ï¼Œæ·»åŠ å¯é€‰å‚æ•°ä¾›ä½¿ç”¨è€…é€‰æ‹©</li>
<li>typescript å¢æ·»å‡½æ•°é‡è½½åŠŸèƒ½ï¼Œä½¿ç”¨è€…åªéœ€è¦é€šè¿‡æŸ¥çœ‹å‡½æ•°å£°æ˜çš„æ–¹å¼ï¼Œå³å¯çŸ¥é“å‡½æ•°ä¼ é€’çš„å‚æ•°ä¸ªæ•°ä»¥åŠç±»å‹</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹-TypeScript-ä¸­æ³›å‹çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹-TypeScript-ä¸­æ³›å‹çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹ TypeScript ä¸­æ³›å‹çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹ TypeScript ä¸­æ³›å‹çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-6"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-6" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>æ³›å‹ç¨‹åºè®¾è®¡ï¼ˆgeneric programmingï¼‰æ˜¯ç¨‹åºè®¾è®¡è¯­è¨€çš„ä¸€ç§é£æ ¼æˆ–èŒƒå¼</p>
<p>æ³›å‹å…è®¸æˆ‘ä»¬åœ¨å¼ºç±»å‹ç¨‹åºè®¾è®¡è¯­è¨€ä¸­ç¼–å†™ä»£ç æ—¶ä½¿ç”¨ä¸€äº›ä»¥åæ‰æŒ‡å®šçš„ç±»å‹ï¼Œåœ¨å®ä¾‹åŒ–æ—¶ä½œä¸ºå‚æ•°æŒ‡æ˜è¿™äº›ç±»å‹<br>åœ¨<code>typescript</code>ä¸­ï¼Œå®šä¹‰å‡½æ•°ï¼Œæ¥å£æˆ–è€…ç±»çš„æ—¶å€™ï¼Œä¸é¢„å…ˆå®šä¹‰å¥½å…·ä½“çš„ç±»å‹ï¼Œè€Œåœ¨ä½¿ç”¨çš„æ—¶å€™åœ¨æŒ‡å®šç±»å‹çš„ä¸€ç§ç‰¹æ€§</p>
<p>å‡è®¾æˆ‘ä»¬ç”¨ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå¯æ¥å—ä¸€ä¸ª <code>number</code> å‚æ•°å¹¶è¿”å›ä¸€ä¸ª<code> number</code> å‚æ•°ï¼Œå¦‚ä¸‹å†™æ³•ï¼š</p>
<pre><code class="tsx">function returnItem (para: number): number &#123;
    return para
&#125;
</code></pre>
<p>å¦‚æœæˆ‘ä»¬æ‰“ç®—æ¥å—ä¸€ä¸ª <code>string</code> ç±»å‹ï¼Œç„¶åå†è¿”å› <code>string</code>ç±»å‹ï¼Œåˆ™å¦‚ä¸‹å†™æ³•ï¼š</p>
<pre><code class="tsx">function returnItem (para: string): string &#123;
    return para
&#125;
</code></pre>
<p>ä¸Šè¿°ä¸¤ç§ç¼–å†™æ–¹å¼ï¼Œå­˜åœ¨ä¸€ä¸ªæœ€æ˜æ˜¾çš„é—®é¢˜åœ¨äºï¼Œä»£ç é‡å¤åº¦æ¯”è¾ƒé«˜</p>
<p>è™½ç„¶å¯ä»¥ä½¿ç”¨ <code>any</code>ç±»å‹å»æ›¿ä»£ï¼Œä½†è¿™ä¹Ÿå¹¶ä¸æ˜¯å¾ˆå¥½çš„æ–¹æ¡ˆï¼Œå› ä¸ºæˆ‘ä»¬çš„ç›®çš„æ˜¯æ¥æ”¶ä»€ä¹ˆç±»å‹çš„å‚æ•°è¿”å›ä»€ä¹ˆç±»å‹çš„å‚æ•°ï¼Œå³åœ¨è¿è¡Œæ—¶ä¼ å…¥å‚æ•°æˆ‘ä»¬æ‰èƒ½ç¡®å®šç±»å‹</p>
<p>è¿™ç§æƒ…å†µå°±å¯ä»¥ä½¿ç”¨æ³›å‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="tsx">function returnItem&lt;T&gt;(para: T): T &#123;
    return para
&#125;
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæ³›å‹ç»™äºˆå¼€å‘è€…åˆ›é€ çµæ´»ã€å¯é‡ç”¨ä»£ç çš„èƒ½åŠ›</p>
<h4 id="äºŒã€ä½¿ç”¨æ–¹å¼-3"><a href="#äºŒã€ä½¿ç”¨æ–¹å¼-3" class="headerlink" title="äºŒã€ä½¿ç”¨æ–¹å¼"></a>äºŒã€ä½¿ç”¨æ–¹å¼</h4><p>æ³›å‹é€šè¿‡<code>&lt;&gt;</code>çš„å½¢å¼è¿›è¡Œè¡¨è¿°ï¼Œå¯ä»¥å£°æ˜ï¼š</p>
<ul>
<li>å‡½æ•°</li>
<li>æ¥å£</li>
<li>ç±»</li>
</ul>
<h5 id="å‡½æ•°å£°æ˜"><a href="#å‡½æ•°å£°æ˜" class="headerlink" title="å‡½æ•°å£°æ˜"></a>å‡½æ•°å£°æ˜</h5><p>å£°æ˜å‡½æ•°çš„å½¢å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">function returnItem&lt;T&gt;(para: T): T &#123;
    return para
&#125;
</code></pre>
<p>å®šä¹‰æ³›å‹çš„æ—¶å€™ï¼Œå¯ä»¥ä¸€æ¬¡å®šä¹‰å¤šä¸ªç±»å‹å‚æ•°ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥åŒæ—¶å®šä¹‰æ³›å‹ <code>T</code> å’Œ æ³›å‹ <code>U</code>ï¼š</p>
<pre><code class="tsx">function swap&lt;T, U&gt;(tuple: [T, U]): [U, T] &#123;
    return [tuple[1], tuple[0]];
&#125;

swap([7, &#39;seven&#39;]); // [&#39;seven&#39;, 7]
</code></pre>
<h5 id="æ¥å£å£°æ˜"><a href="#æ¥å£å£°æ˜" class="headerlink" title="æ¥å£å£°æ˜"></a>æ¥å£å£°æ˜</h5><p>å£°æ˜æ¥å£çš„å½¢å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">interface ReturnItemFn&lt;T&gt; &#123;
    (para: T): T
&#125;
</code></pre>
<p>é‚£ä¹ˆå½“æˆ‘ä»¬æƒ³ä¼ å…¥ä¸€ä¸ªnumberä½œä¸ºå‚æ•°çš„æ—¶å€™ï¼Œå°±å¯ä»¥è¿™æ ·å£°æ˜å‡½æ•°:</p>
<pre><code class="tsx">const returnItem: ReturnItemFn&lt;number&gt; = para =&gt; para
</code></pre>
<h5 id="ç±»å£°æ˜"><a href="#ç±»å£°æ˜" class="headerlink" title="ç±»å£°æ˜"></a>ç±»å£°æ˜</h5><p>ä½¿ç”¨æ³›å‹å£°æ˜ç±»çš„æ—¶å€™ï¼Œæ—¢å¯ä»¥ä½œç”¨äºç±»æœ¬èº«ï¼Œä¹Ÿå¯ä»¥ä½œç”¨ä¸ç±»çš„æˆå‘˜å‡½æ•°</p>
<p>ä¸‹é¢ç®€å•å®ç°ä¸€ä¸ªå…ƒç´ åŒç±»å‹çš„æ ˆç»“æ„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="tsx">class Stack&lt;T&gt; &#123;
    private arr: T[] = []
    public push(item: T) &#123;
        this.arr.push(item)
    &#125;
    public pop() &#123;
        this.arr.pop()
    &#125;
&#125;
</code></pre>
<p>ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">const stack = new Stacn&lt;number&gt;()
</code></pre>
<p>å¦‚æœä¸Šè¿°åªèƒ½ä¼ é€’ <code>string</code> å’Œ <code>number</code> ç±»å‹ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨ <code>&lt;T extends xx&gt;</code> çš„æ–¹å¼çŒœå®ç°çº¦æŸæ³›å‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f36376432313261302d306531372d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<p>é™¤äº†ä¸Šè¿°çš„å½¢å¼ï¼Œæ³›å‹æ›´é«˜çº§çš„ä½¿ç”¨å¦‚ä¸‹ï¼š</p>
<p>ä¾‹å¦‚è¦è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªå‚æ•°ä¸ºå¯¹è±¡ï¼Œå¦ä¸€ä¸ªå‚æ•°ä¸ºå¯¹è±¡ä¸Šçš„å±æ€§ï¼Œæˆ‘ä»¬é€šè¿‡è¿™ä¸¤ä¸ªå‚æ•°è¿”å›è¿™ä¸ªå±æ€§çš„å€¼</p>
<p>è¿™æ—¶å€™å°±è®¾è®¡åˆ°æ³›å‹çš„ç´¢å¼•ç±»å‹å’Œçº¦æŸç±»å‹å…±åŒå®ç°</p>
<h5 id="ç´¢å¼•ç±»å‹ã€çº¦æŸç±»å‹"><a href="#ç´¢å¼•ç±»å‹ã€çº¦æŸç±»å‹" class="headerlink" title="ç´¢å¼•ç±»å‹ã€çº¦æŸç±»å‹"></a>ç´¢å¼•ç±»å‹ã€çº¦æŸç±»å‹</h5><p>ç´¢å¼•ç±»å‹ <code>keyof T</code> æŠŠä¼ å…¥çš„å¯¹è±¡çš„å±æ€§ç±»å‹å–å‡ºç”Ÿæˆä¸€ä¸ªè”åˆç±»å‹ï¼Œè¿™é‡Œçš„æ³›å‹ U è¢«çº¦æŸåœ¨è¿™ä¸ªè”åˆç±»å‹ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="tsx">function getValue&lt;T extends object, U extends keyof T&gt;(obj: T, key: U) &#123;
  return obj[key] // ok
&#125;
</code></pre>
<p>ä¸Šè¿°ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨æ³›å‹çº¦æŸï¼Œè€Œä¸æ˜¯ç›´æ¥å®šä¹‰ç¬¬ä¸€ä¸ªå‚æ•°ä¸º <code>object</code>ç±»å‹ï¼Œæ˜¯å› ä¸ºé»˜è®¤æƒ…å†µ <code>object</code> æŒ‡çš„æ˜¯<code>&#123;&#125;</code>ï¼Œè€Œæˆ‘ä»¬æ¥æ”¶çš„å¯¹è±¡æ˜¯å„ç§å„æ ·çš„ï¼Œä¸€ä¸ªæ³›å‹æ¥è¡¨ç¤ºä¼ å…¥çš„å¯¹è±¡ç±»å‹ï¼Œæ¯”å¦‚ <code>T extends object</code></p>
<p>ä½¿ç”¨å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f37346663626434302d306531372d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<h5 id="å¤šç±»å‹çº¦æŸ"><a href="#å¤šç±»å‹çº¦æŸ" class="headerlink" title="å¤šç±»å‹çº¦æŸ"></a>å¤šç±»å‹çº¦æŸ</h5><p>ä¾‹å¦‚å¦‚ä¸‹éœ€è¦å®ç°ä¸¤ä¸ªæ¥å£çš„ç±»å‹çº¦æŸï¼š</p>
<pre><code class="tsx">interface FirstInterface &#123;
  doSomething(): number
&#125;

interface SecondInterface &#123;
  doSomethingElse(): string
&#125;
</code></pre>
<p>å¯ä»¥åˆ›å»ºä¸€ä¸ªæ¥å£ç»§æ‰¿ä¸Šè¿°ä¸¤ä¸ªæ¥å£ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">interface ChildInterface extends FirstInterface, SecondInterface &#123;

&#125;
</code></pre>
<p>æ­£ç¡®ä½¿ç”¨å¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">class Demo&lt;T extends ChildInterface&gt; &#123;
  private genericProperty: T

  constructor(genericProperty: T) &#123;
    this.genericProperty = genericProperty
  &#125;
  useT() &#123;
    this.genericProperty.doSomething()
    this.genericProperty.doSomethingElse()
  &#125;
&#125;
</code></pre>
<p>é€šè¿‡æ³›å‹çº¦æŸå°±å¯ä»¥è¾¾åˆ°å¤šç±»å‹çº¦æŸçš„ç›®çš„</p>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯-3"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-3" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>é€šè¿‡ä¸Šé¢åˆæ­¥çš„äº†è§£ï¼Œåè¿°åœ¨ç¼–å†™ <code>typescript</code> çš„æ—¶å€™ï¼Œå®šä¹‰å‡½æ•°ï¼Œæ¥å£æˆ–è€…ç±»çš„æ—¶å€™ï¼Œä¸é¢„å…ˆå®šä¹‰å¥½å…·ä½“çš„ç±»å‹ï¼Œè€Œåœ¨ä½¿ç”¨çš„æ—¶å€™åœ¨æŒ‡å®šç±»å‹çš„ä¸€ç§ç‰¹æ€§çš„æ—¶å€™ï¼Œè¿™ç§æƒ…å†µä¸‹å°±å¯ä»¥ä½¿ç”¨æ³›å‹</p>
<p>çµæ´»çš„ä½¿ç”¨æ³›å‹å®šä¹‰ç±»å‹ï¼Œæ˜¯æŒæ¡<code>typescript</code> å¿…ç»ä¹‹è·¯</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹-TypeScript-ä¸­é«˜çº§ç±»å‹çš„ç†è§£ï¼Ÿæœ‰å“ªäº›ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹-TypeScript-ä¸­é«˜çº§ç±»å‹çš„ç†è§£ï¼Ÿæœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹ TypeScript ä¸­é«˜çº§ç±»å‹çš„ç†è§£ï¼Ÿæœ‰å“ªäº›ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹ TypeScript ä¸­é«˜çº§ç±»å‹çš„ç†è§£ï¼Ÿæœ‰å“ªäº›ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-7"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-7" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>é™¤äº†<code>string</code>ã€<code>number</code>ã€<code>boolean</code> è¿™ç§åŸºç¡€ç±»å‹å¤–ï¼Œåœ¨ <code>typescript</code> ç±»å‹å£°æ˜ä¸­è¿˜å­˜åœ¨ä¸€äº›é«˜çº§çš„ç±»å‹åº”ç”¨</p>
<p>è¿™äº›é«˜çº§ç±»å‹ï¼Œæ˜¯<code>typescript</code>ä¸ºäº†ä¿è¯è¯­è¨€çš„çµæ´»æ€§ï¼Œæ‰€ä½¿ç”¨çš„ä¸€äº›è¯­è¨€ç‰¹æ€§ã€‚è¿™äº›ç‰¹æ€§æœ‰åŠ©äºæˆ‘ä»¬åº”å¯¹å¤æ‚å¤šå˜çš„å¼€å‘åœºæ™¯</p>
<h4 id="äºŒã€æœ‰å“ªäº›-1"><a href="#äºŒã€æœ‰å“ªäº›-1" class="headerlink" title="äºŒã€æœ‰å“ªäº›"></a>äºŒã€æœ‰å“ªäº›</h4><p>å¸¸è§çš„é«˜çº§ç±»å‹æœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>äº¤å‰ç±»å‹</li>
<li>è”åˆç±»å‹</li>
<li>ç±»å‹åˆ«å</li>
<li>ç±»å‹ç´¢å¼•</li>
<li>ç±»å‹çº¦æŸ</li>
<li>æ˜ å°„ç±»å‹</li>
<li>æ¡ä»¶ç±»å‹</li>
</ul>
<h5 id="äº¤å‰ç±»å‹"><a href="#äº¤å‰ç±»å‹" class="headerlink" title="äº¤å‰ç±»å‹"></a>äº¤å‰ç±»å‹</h5><p>é€šè¿‡ <code>&amp;</code> å°†å¤šä¸ªç±»å‹åˆå¹¶ä¸ºä¸€ä¸ªç±»å‹ï¼ŒåŒ…å«äº†æ‰€éœ€çš„æ‰€æœ‰ç±»å‹çš„ç‰¹æ€§ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ç§å¹¶çš„æ“ä½œ</p>
<p>è¯­æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="ini">T &amp; U
</code></pre>
<p>é€‚ç”¨äºå¯¹è±¡åˆå¹¶åœºæ™¯ï¼Œå¦‚ä¸‹å°†å£°æ˜ä¸€ä¸ªå‡½æ•°ï¼Œå°†ä¸¤ä¸ªå¯¹è±¡åˆå¹¶æˆä¸€ä¸ªå¯¹è±¡å¹¶è¿”å›ï¼š</p>
<pre><code class="tsx">function extend&lt;T , U&gt;(first: T, second: U) : T &amp; U &#123;
    let result: &lt;T &amp; U&gt; = &#123;&#125;
    for (let key in first) &#123;
        result[key] = first[key]
    &#125;
    for (let key in second) &#123;
        if(!result.hasOwnProperty(key)) &#123;
            result[key] = second[key]
        &#125;
    &#125;
    return result
&#125;
</code></pre>
<h5 id="è”åˆç±»å‹"><a href="#è”åˆç±»å‹" class="headerlink" title="è”åˆç±»å‹"></a>è”åˆç±»å‹</h5><p>è”åˆç±»å‹çš„è¯­æ³•è§„åˆ™å’Œé€»è¾‘ â€œæˆ–â€ çš„ç¬¦å·ä¸€è‡´ï¼Œè¡¨ç¤ºå…¶ç±»å‹ä¸ºè¿æ¥çš„å¤šä¸ªç±»å‹ä¸­çš„ä»»æ„ä¸€ä¸ªï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªäº¤çš„å…³ç³»</p>
<p>è¯­æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="ini">T | U
</code></pre>
<p>ä¾‹å¦‚ <code>number</code> | <code>string</code> | <code>boolean</code> çš„ç±»å‹åªèƒ½æ˜¯è¿™ä¸‰ä¸ªçš„ä¸€ç§ï¼Œä¸èƒ½å…±å­˜</p>
<p>å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="tsx">function formatCommandline(command: string[] | string) &#123;
  let line = &#39;&#39;;
  if (typeof command === &#39;string&#39;) &#123;
    line = command.trim();
  &#125; else &#123;
    line = command.join(&#39; &#39;).trim();
  &#125;
&#125;
</code></pre>
<h5 id="ç±»å‹åˆ«å"><a href="#ç±»å‹åˆ«å" class="headerlink" title="ç±»å‹åˆ«å"></a>ç±»å‹åˆ«å</h5><p>ç±»å‹åˆ«åä¼šç»™ä¸€ä¸ªç±»å‹èµ·ä¸ªæ–°åå­—ï¼Œç±»å‹åˆ«åæœ‰æ—¶å’Œæ¥å£å¾ˆåƒï¼Œä½†æ˜¯å¯ä»¥ä½œç”¨äºåŸå§‹å€¼ã€è”åˆç±»å‹ã€å…ƒç»„ä»¥åŠå…¶å®ƒä»»ä½•ä½ éœ€è¦æ‰‹å†™çš„ç±»å‹</p>
<p>å¯ä»¥ä½¿ç”¨ <code>type SomeName = someValidTypeAnnotation</code>çš„è¯­æ³•æ¥åˆ›å»ºç±»å‹åˆ«åï¼š</p>
<pre><code class="tsx">type some = boolean | string

const b: some = true // ok
const c: some = &#39;hello&#39; // ok
const d: some = 123 // ä¸èƒ½å°†ç±»å‹â€œ123â€åˆ†é…ç»™ç±»å‹â€œsomeâ€
</code></pre>
<p>æ­¤å¤–ç±»å‹åˆ«åå¯ä»¥æ˜¯æ³›å‹:</p>
<pre><code class="tsx">type Container&lt;T&gt; = &#123; value: T &#125;;
</code></pre>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ç±»å‹åˆ«åæ¥åœ¨å±æ€§é‡Œå¼•ç”¨è‡ªå·±ï¼š</p>
<pre><code class="tsx">type Tree&lt;T&gt; = &#123;
    value: T;
    left: Tree&lt;T&gt;;
    right: Tree&lt;T&gt;;
&#125;
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œç±»å‹åˆ«åå’Œæ¥å£ä½¿ç”¨ååˆ†ç›¸ä¼¼ï¼Œéƒ½å¯ä»¥æè¿°ä¸€ä¸ªå¯¹è±¡æˆ–è€…å‡½æ•°</p>
<p>ä¸¤è€…æœ€å¤§çš„åŒºåˆ«åœ¨äºï¼Œ<code>interface </code>åªèƒ½ç”¨äºå®šä¹‰å¯¹è±¡ç±»å‹ï¼Œè€Œ <code>type</code> çš„å£°æ˜æ–¹å¼é™¤äº†å¯¹è±¡ä¹‹å¤–è¿˜å¯ä»¥å®šä¹‰äº¤å‰ã€è”åˆã€åŸå§‹ç±»å‹ç­‰ï¼Œç±»å‹å£°æ˜çš„æ–¹å¼é€‚ç”¨èŒƒå›´æ˜¾ç„¶æ›´åŠ å¹¿æ³›</p>
<h5 id="ç±»å‹ç´¢å¼•"><a href="#ç±»å‹ç´¢å¼•" class="headerlink" title="ç±»å‹ç´¢å¼•"></a>ç±»å‹ç´¢å¼•</h5><p><code>keyof</code> ç±»ä¼¼äº <code>Object.keys</code> ï¼Œç”¨äºè·å–ä¸€ä¸ªæ¥å£ä¸­ Key çš„è”åˆç±»å‹ã€‚</p>
<pre><code class="tsx">interface Button &#123;
    type: string
    text: string
&#125;

type ButtonKeys = keyof Button
// ç­‰æ•ˆäº
type ButtonKeys = &quot;type&quot; | &quot;text&quot;
</code></pre>
<h5 id="ç±»å‹çº¦æŸ"><a href="#ç±»å‹çº¦æŸ" class="headerlink" title="ç±»å‹çº¦æŸ"></a>ç±»å‹çº¦æŸ</h5><p>é€šè¿‡å…³é”®å­— <code>extend</code> è¿›è¡Œçº¦æŸï¼Œä¸åŒäºåœ¨ <code>class</code> åä½¿ç”¨ <code>extends</code> çš„ç»§æ‰¿ä½œç”¨ï¼Œæ³›å‹å†…ä½¿ç”¨çš„ä¸»è¦ä½œç”¨æ˜¯å¯¹æ³›å‹åŠ ä»¥çº¦æŸ</p>
<pre><code class="tsx">type BaseType = string | number | boolean

// è¿™é‡Œè¡¨ç¤º copy çš„å‚æ•°
// åªèƒ½æ˜¯å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”è¿™å‡ ç§åŸºç¡€ç±»å‹
function copy&lt;T extends BaseType&gt;(arg: T): T &#123;
  return arg
&#125;
</code></pre>
<p>ç±»å‹çº¦æŸé€šå¸¸å’Œç±»å‹ç´¢å¼•ä¸€èµ·ä½¿ç”¨ï¼Œä¾‹å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªæ–¹æ³•ä¸“é—¨ç”¨æ¥è·å–å¯¹è±¡çš„å€¼ï¼Œä½†æ˜¯è¿™ä¸ªå¯¹è±¡å¹¶ä¸ç¡®å®šï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ <code>extends</code> å’Œ <code>keyof</code> è¿›è¡Œçº¦æŸã€‚</p>
<pre><code class="tsx">function getValue&lt;T, K extends keyof T&gt;(obj: T, key: K) &#123;
  return obj[key]
&#125;

const obj = &#123; a: 1 &#125;
const a = getValue(obj, &#39;a&#39;)
</code></pre>
<h5 id="æ˜ å°„ç±»å‹"><a href="#æ˜ å°„ç±»å‹" class="headerlink" title="æ˜ å°„ç±»å‹"></a>æ˜ å°„ç±»å‹</h5><p>é€šè¿‡ <code>in</code> å…³é”®å­—åšç±»å‹çš„æ˜ å°„ï¼Œéå†å·²æœ‰æ¥å£çš„ <code>key</code> æˆ–è€…æ˜¯éå†è”åˆç±»å‹ï¼Œå¦‚ä¸‹ä¾‹å­ï¼š</p>
<pre><code class="tsx">type Readonly&lt;T&gt; = &#123;
    readonly [P in keyof T]: T[P];
&#125;;

interface Obj &#123;
  a: string
  b: string
&#125;

type ReadOnlyObj = Readonly&lt;Obj&gt;
</code></pre>
<p>ä¸Šè¿°çš„ç»“æ„ï¼Œå¯ä»¥åˆ†æˆè¿™äº›æ­¥éª¤ï¼š</p>
<ul>
<li>keyof Tï¼šé€šè¿‡ç±»å‹ç´¢å¼• keyof çš„å¾—åˆ°è”åˆç±»å‹ â€˜aâ€™ | â€˜bâ€™</li>
<li>P in keyof T ç­‰åŒäº p in â€˜aâ€™ | â€˜bâ€™ï¼Œç›¸å½“äºæ‰§è¡Œäº†ä¸€æ¬¡ forEach çš„é€»è¾‘ï¼Œéå† â€˜aâ€™ | â€˜bâ€™</li>
</ul>
<p>æ‰€ä»¥æœ€ç»ˆ<code>ReadOnlyObj</code>çš„æ¥å£ä¸ºä¸‹è¿°ï¼š</p>
<pre><code class="tsx">interface ReadOnlyObj &#123;
    readonly a: string;
    readonly b: string;
&#125;
</code></pre>
<h5 id="æ¡ä»¶ç±»å‹"><a href="#æ¡ä»¶ç±»å‹" class="headerlink" title="æ¡ä»¶ç±»å‹"></a>æ¡ä»¶ç±»å‹</h5><p>æ¡ä»¶ç±»å‹çš„è¯­æ³•è§„åˆ™å’Œä¸‰å…ƒè¡¨è¾¾å¼ä¸€è‡´ï¼Œç»å¸¸ç”¨äºä¸€äº›ç±»å‹ä¸ç¡®å®šçš„æƒ…å†µã€‚</p>
<pre><code class="tsx">T extends U ? X : Y
</code></pre>
<p>ä¸Šé¢çš„æ„æ€å°±æ˜¯ï¼Œå¦‚æœ T æ˜¯ U çš„å­é›†ï¼Œå°±æ˜¯ç±»å‹ Xï¼Œå¦åˆ™ä¸ºç±»å‹ Y</p>
<h4 id="ä¸‰ã€æ€»ç»“-1"><a href="#ä¸‰ã€æ€»ç»“-1" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h4><p>å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœåªæ˜¯æŒæ¡äº† <code>typeScript</code> çš„ä¸€äº›åŸºç¡€ç±»å‹ï¼Œå¯èƒ½å¾ˆéš¾æ¸¸åˆƒæœ‰ä½™çš„å»ä½¿ç”¨ <code>typeScript</code>ï¼Œéœ€è¦äº†è§£ä¸€äº›<code>typescript</code>çš„é«˜é˜¶ç”¨æ³•</p>
<p>å¹¶ä¸”<code>typescript</code>åœ¨ç‰ˆæœ¬çš„è¿­ä»£ä¸­æ–°å¢äº†å¾ˆå¤šåŠŸèƒ½ï¼Œéœ€è¦ä¸æ–­å­¦ä¹ ä¸æŒæ¡</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹-TypeScript-è£…é¥°å™¨çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹-TypeScript-è£…é¥°å™¨çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹ TypeScript è£…é¥°å™¨çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹ TypeScript è£…é¥°å™¨çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-8"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-8" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>è£…é¥°å™¨æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„å£°æ˜ï¼Œå®ƒèƒ½å¤Ÿè¢«é™„åŠ åˆ°ç±»å£°æ˜ï¼Œæ–¹æ³•ï¼Œ è®¿é—®ç¬¦ï¼Œå±æ€§æˆ–å‚æ•°ä¸Š</p>
<p>æ˜¯ä¸€ç§åœ¨ä¸æ”¹å˜åŸç±»å’Œä½¿ç”¨ç»§æ‰¿çš„æƒ…å†µä¸‹ï¼ŒåŠ¨æ€åœ°æ‰©å±•å¯¹è±¡åŠŸèƒ½</p>
<p>åŒæ ·çš„ï¼Œæœ¬è´¨ä¹Ÿä¸æ˜¯ä»€ä¹ˆé«˜å¤§ä¸Šçš„ç»“æ„ï¼Œå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œ<code>@expression</code> çš„å½¢å¼å…¶å®æ˜¯<code>Object.defineProperty</code>çš„è¯­æ³•ç³–</p>
<p><code>expression </code>æ±‚å€¼åå¿…é¡»ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¼šåœ¨è¿è¡Œæ—¶è¢«è°ƒç”¨ï¼Œè¢«è£…é¥°çš„å£°æ˜ä¿¡æ¯åšä¸ºå‚æ•°ä¼ å…¥</p>
<h4 id="äºŒã€ä½¿ç”¨æ–¹å¼-4"><a href="#äºŒã€ä½¿ç”¨æ–¹å¼-4" class="headerlink" title="äºŒã€ä½¿ç”¨æ–¹å¼"></a>äºŒã€ä½¿ç”¨æ–¹å¼</h4><p>ç”±äº<code>typescript</code>æ˜¯ä¸€ä¸ªå®éªŒæ€§ç‰¹æ€§ï¼Œè‹¥è¦ä½¿ç”¨ï¼Œéœ€è¦åœ¨<code>tsconfig.json</code>æ–‡ä»¶å¯åŠ¨ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">&#123;
    &quot;compilerOptions&quot;: &#123;
        &quot;target&quot;: &quot;ES5&quot;,
        &quot;experimentalDecorators&quot;: true
    &#125;
&#125;
</code></pre>
<p><code>typescript</code>è£…é¥°å™¨çš„ä½¿ç”¨å’Œ<code>javascript</code>åŸºæœ¬ä¸€è‡´</p>
<p>ç±»çš„è£…é¥°å™¨å¯ä»¥è£…é¥°ï¼š</p>
<ul>
<li>ç±»</li>
<li>æ–¹æ³•&#x2F;å±æ€§</li>
<li>å‚æ•°</li>
<li>è®¿é—®å™¨</li>
</ul>
<h5 id="ç±»è£…é¥°"><a href="#ç±»è£…é¥°" class="headerlink" title="ç±»è£…é¥°"></a>ç±»è£…é¥°</h5><p>ä¾‹å¦‚å£°æ˜ä¸€ä¸ªå‡½æ•° <code>addAge</code> å»ç»™ Class çš„å±æ€§ <code>age</code> æ·»åŠ å¹´é¾„.</p>
<pre><code class="tsx">function addAge(constructor: Function) &#123;
  constructor.prototype.age = 18;
&#125;

@addAge
class Person&#123;
  name: string;
  age!: number;
  constructor() &#123;
    this.name = &#39;huihui&#39;;
  &#125;
&#125;

let person = new Person();

console.log(person.age); // 18
</code></pre>
<p>ä¸Šè¿°ä»£ç ï¼Œå®é™…ç­‰åŒäºä»¥ä¸‹å½¢å¼ï¼š</p>
<pre><code class="tsx">Person = addAge(function Person() &#123; ... &#125;);
</code></pre>
<p>ä¸Šè¿°å¯ä»¥çœ‹åˆ°ï¼Œå½“è£…é¥°å™¨ä½œä¸ºä¿®é¥°ç±»çš„æ—¶å€™ï¼Œä¼šæŠŠæ„é€ å™¨ä¼ é€’è¿›å»ã€‚ <code>constructor.prototype.age</code> å°±æ˜¯åœ¨æ¯ä¸€ä¸ªå®ä¾‹åŒ–å¯¹è±¡ä¸Šé¢æ·»åŠ ä¸€ä¸ª <code>age</code> å±æ€§</p>
<h5 id="æ–¹æ³•-x2F-å±æ€§è£…é¥°"><a href="#æ–¹æ³•-x2F-å±æ€§è£…é¥°" class="headerlink" title="æ–¹æ³•&#x2F;å±æ€§è£…é¥°"></a>æ–¹æ³•&#x2F;å±æ€§è£…é¥°</h5><p>åŒæ ·ï¼Œè£…é¥°å™¨å¯ä»¥ç”¨äºä¿®é¥°ç±»çš„æ–¹æ³•ï¼Œè¿™æ—¶å€™è£…é¥°å™¨å‡½æ•°æ¥æ”¶çš„å‚æ•°å˜æˆäº†ï¼š</p>
<ul>
<li>targetï¼šå¯¹è±¡çš„åŸå‹</li>
<li>propertyKeyï¼šæ–¹æ³•çš„åç§°</li>
<li>descriptorï¼šæ–¹æ³•çš„å±æ€§æè¿°ç¬¦</li>
</ul>
<p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸‰ä¸ªå±æ€§å®é™…å°±æ˜¯<code>Object.defineProperty</code>çš„ä¸‰ä¸ªå‚æ•°ï¼Œå¦‚æœæ˜¯ç±»çš„å±æ€§ï¼Œåˆ™æ²¡æœ‰ä¼ é€’ç¬¬ä¸‰ä¸ªå‚æ•°</p>
<p>å¦‚ä¸‹ä¾‹å­ï¼š</p>
<pre><code class="tsx">// å£°æ˜è£…é¥°å™¨ä¿®é¥°æ–¹æ³•/å±æ€§
function method(target: any, propertyKey: string, descriptor: PropertyDescriptor) &#123;
  console.log(target);
  console.log(&quot;prop &quot; + propertyKey);
  console.log(&quot;desc &quot; + JSON.stringify(descriptor) + &quot;\n\n&quot;);
  descriptor.writable = false;
&#125;;

function property(target: any, propertyKey: string) &#123;
  console.log(&quot;target&quot;, target)
  console.log(&quot;propertyKey&quot;, propertyKey)
&#125;

class Person&#123;
 @property
 name: string;
 constructor() &#123;
   this.name = &#39;huihui&#39;;
 &#125;

 @method
 say()&#123;
   return &#39;instance method&#39;;
 &#125;

 @method
 static run()&#123;
   return &#39;static method&#39;;
 &#125;
&#125;

const xmz = new Person();

// ä¿®æ”¹å®ä¾‹æ–¹æ³•say
xmz.say = function() &#123;
 return &#39;edit&#39;
&#125;
</code></pre>
<p>è¾“å‡ºå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65393662633162302d313134642d313165632d386536342d3931666465633066303561312e706e67.png"></p>
<h5 id="å‚æ•°è£…é¥°"><a href="#å‚æ•°è£…é¥°" class="headerlink" title="å‚æ•°è£…é¥°"></a>å‚æ•°è£…é¥°</h5><p>æ¥æ”¶3ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>target ï¼šå½“å‰å¯¹è±¡çš„åŸå‹</li>
<li>propertyKey ï¼šå‚æ•°çš„åç§°</li>
<li>indexï¼šå‚æ•°æ•°ç»„ä¸­çš„ä½ç½®</li>
</ul>
<pre><code class="tsx">function logParameter(target: Object, propertyName: string, index: number) &#123;
  console.log(target);
  console.log(propertyName);
  console.log(index);
&#125;

class Employee &#123;
  greet(@logParameter message: string): string &#123;
      return `hello $&#123;message&#125;`;
  &#125;
&#125;
const emp = new Employee();
emp.greet(&#39;hello&#39;);
</code></pre>
<p>è¾“å…¥å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f66326633326465302d313134642d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<h5 id="è®¿é—®å™¨è£…é¥°"><a href="#è®¿é—®å™¨è£…é¥°" class="headerlink" title="è®¿é—®å™¨è£…é¥°"></a>è®¿é—®å™¨è£…é¥°</h5><p>ä½¿ç”¨èµ·æ¥æ–¹å¼ä¸æ–¹æ³•è£…é¥°ä¸€è‡´ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">function modification(target: Object, propertyKey: string, descriptor: PropertyDescriptor) &#123;
  console.log(target);
  console.log(&quot;prop &quot; + propertyKey);
  console.log(&quot;desc &quot; + JSON.stringify(descriptor) + &quot;\n\n&quot;);
&#125;;

class Person&#123;
 _name: string;
 constructor() &#123;
   this._name = &#39;huihui&#39;;
 &#125;

 @modification
 get name() &#123;
   return this._name
 &#125;
&#125;
</code></pre>
<h5 id="è£…é¥°å™¨å·¥å‚"><a href="#è£…é¥°å™¨å·¥å‚" class="headerlink" title="è£…é¥°å™¨å·¥å‚"></a>è£…é¥°å™¨å·¥å‚</h5><p>å¦‚æœæƒ³è¦ä¼ é€’å‚æ•°ï¼Œä½¿è£…é¥°å™¨å˜æˆç±»ä¼¼å·¥å‚å‡½æ•°ï¼Œåªéœ€è¦åœ¨è£…é¥°å™¨å‡½æ•°å†…éƒ¨å†å‡½æ•°ä¸€ä¸ªå‡½æ•°å³å¯ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">function addAge(age: number) &#123;
  return function(constructor: Function) &#123;
    constructor.prototype.age = age
  &#125;
&#125;

@addAge(10)
class Person&#123;
  name: string;
  age!: number;
  constructor() &#123;
    this.name = &#39;huihui&#39;;
  &#125;
&#125;

let person = new Person();
</code></pre>
<h5 id="æ‰§è¡Œé¡ºåº"><a href="#æ‰§è¡Œé¡ºåº" class="headerlink" title="æ‰§è¡Œé¡ºåº"></a>æ‰§è¡Œé¡ºåº</h5><p>å½“å¤šä¸ªè£…é¥°å™¨åº”ç”¨äºä¸€ä¸ªå£°æ˜ä¸Šï¼Œå°†ç”±ä¸Šè‡³ä¸‹ä¾æ¬¡å¯¹è£…é¥°å™¨è¡¨è¾¾å¼æ±‚å€¼ï¼Œæ±‚å€¼çš„ç»“æœä¼šè¢«å½“ä½œå‡½æ•°ï¼Œç”±ä¸‹è‡³ä¸Šä¾æ¬¡è°ƒç”¨ï¼Œä¾‹å¦‚å¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">function f() &#123;
    console.log(&quot;f(): evaluated&quot;);
    return function (target, propertyKey: string, descriptor: PropertyDescriptor) &#123;
        console.log(&quot;f(): called&quot;);
    &#125;
&#125;

function g() &#123;
    console.log(&quot;g(): evaluated&quot;);
    return function (target, propertyKey: string, descriptor: PropertyDescriptor) &#123;
        console.log(&quot;g(): called&quot;);
    &#125;
&#125;

class C &#123;
    @f()
    @g()
    method() &#123;&#125;
&#125;

// è¾“å‡º
f(): evaluated
g(): evaluated
g(): called
f(): called
</code></pre>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯-4"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-4" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨è£…é¥°å™¨å­˜åœ¨ä¸¤ä¸ªæ˜¾è‘—çš„ä¼˜ç‚¹ï¼š</p>
<ul>
<li>ä»£ç å¯è¯»æ€§å˜å¼ºäº†ï¼Œè£…é¥°å™¨å‘½åç›¸å½“äºä¸€ä¸ªæ³¨é‡Š</li>
<li>åœ¨ä¸æ”¹å˜åŸæœ‰ä»£ç æƒ…å†µä¸‹ï¼Œå¯¹åŸæ¥åŠŸèƒ½è¿›è¡Œæ‰©å±•</li>
</ul>
<p>åé¢çš„ä½¿ç”¨åœºæ™¯ä¸­ï¼Œå€ŸåŠ©è£…é¥°å™¨çš„ç‰¹æ€§ï¼Œé™¤äº†æé«˜å¯è¯»æ€§ä¹‹åï¼Œé’ˆå¯¹å·²ç»å­˜åœ¨çš„ç±»ï¼Œå¯ä»¥é€šè¿‡è£…é¥°å™¨çš„ç‰¹æ€§ï¼Œåœ¨ä¸æ”¹å˜åŸæœ‰ä»£ç æƒ…å†µä¸‹ï¼Œå¯¹åŸæ¥åŠŸèƒ½è¿›è¡Œæ‰©å±•</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹-TypeScript-ä¸­å‘½åç©ºé—´ä¸æ¨¡å—çš„ç†è§£ï¼ŸåŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¯¹-TypeScript-ä¸­å‘½åç©ºé—´ä¸æ¨¡å—çš„ç†è§£ï¼ŸåŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹ TypeScript ä¸­å‘½åç©ºé—´ä¸æ¨¡å—çš„ç†è§£ï¼ŸåŒºåˆ«ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¯¹ TypeScript ä¸­å‘½åç©ºé—´ä¸æ¨¡å—çš„ç†è§£ï¼ŸåŒºåˆ«ï¼Ÿ</h3><h4 id="ä¸€ã€æ¨¡å—"><a href="#ä¸€ã€æ¨¡å—" class="headerlink" title="ä¸€ã€æ¨¡å—"></a>ä¸€ã€æ¨¡å—</h4><p><code>TypeScript</code> ä¸<code> ECMAScript</code> 2015 ä¸€æ ·ï¼Œä»»ä½•åŒ…å«é¡¶çº§ <code>import</code> æˆ–è€… <code>export</code> çš„æ–‡ä»¶éƒ½è¢«å½“æˆä¸€ä¸ªæ¨¡å—</p>
<p>ç›¸ååœ°ï¼Œå¦‚æœä¸€ä¸ªæ–‡ä»¶ä¸å¸¦æœ‰é¡¶çº§çš„<code>import</code>æˆ–è€…<code>export</code>å£°æ˜ï¼Œé‚£ä¹ˆå®ƒçš„å†…å®¹è¢«è§†ä¸ºå…¨å±€å¯è§çš„</p>
<p>ä¾‹å¦‚æˆ‘ä»¬åœ¨åœ¨ä¸€ä¸ª <code>TypeScript</code> å·¥ç¨‹ä¸‹å»ºç«‹ä¸€ä¸ªæ–‡ä»¶ <code>1.ts</code>ï¼Œå£°æ˜ä¸€ä¸ªå˜é‡<code>a</code>ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">const a = 1
</code></pre>
<p>ç„¶ååœ¨å¦ä¸€ä¸ªæ–‡ä»¶åŒæ ·å£°æ˜ä¸€ä¸ªå˜é‡<code>a</code>ï¼Œè¿™æ—¶å€™ä¼šå‡ºç°é”™è¯¯ä¿¡æ¯</p>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f61323339643937302d313337652d313165632d613735322d3735373233613634653866352e706e67.png"></p>
<p>æç¤ºé‡å¤å£°æ˜<code>a</code>å˜é‡ï¼Œä½†æ˜¯æ‰€å¤„çš„ç©ºé—´æ˜¯å…¨å±€çš„</p>
<p>å¦‚æœéœ€è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåˆ™é€šè¿‡<code>import</code>æˆ–è€…<code>export</code>å¼•å…¥æ¨¡å—ç³»ç»Ÿå³å¯ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">const a = 10;

export default a
</code></pre>
<p>åœ¨<code>typescript</code>ä¸­ï¼Œ<code>export</code>å…³é”®å­—å¯ä»¥å¯¼å‡ºå˜é‡æˆ–è€…ç±»å‹ï¼Œç”¨æ³•ä¸<code>es6</code>æ¨¡å—ä¸€è‡´ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">export const a = 1
export type Person = &#123;
    name: String
&#125;
</code></pre>
<p>é€šè¿‡<code>import</code> å¼•å…¥æ¨¡å—ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">import &#123; a, Person &#125; from &#39;./export&#39;;
</code></pre>
<h4 id="äºŒã€å‘½åç©ºé—´"><a href="#äºŒã€å‘½åç©ºé—´" class="headerlink" title="äºŒã€å‘½åç©ºé—´"></a>äºŒã€å‘½åç©ºé—´</h4><p>å‘½åç©ºé—´ä¸€ä¸ªæœ€æ˜ç¡®çš„ç›®çš„å°±æ˜¯è§£å†³é‡åé—®é¢˜</p>
<p>å‘½åç©ºé—´å®šä¹‰äº†æ ‡è¯†ç¬¦çš„å¯è§èŒƒå›´ï¼Œä¸€ä¸ªæ ‡è¯†ç¬¦å¯åœ¨å¤šä¸ªåå­—ç©ºé—´ä¸­å®šä¹‰ï¼Œå®ƒåœ¨ä¸åŒåå­—ç©ºé—´ä¸­çš„å«ä¹‰æ˜¯äº’ä¸ç›¸å¹²çš„</p>
<p>è¿™æ ·ï¼Œåœ¨ä¸€ä¸ªæ–°çš„åå­—ç©ºé—´ä¸­å¯å®šä¹‰ä»»ä½•æ ‡è¯†ç¬¦ï¼Œå®ƒä»¬ä¸ä¼šä¸ä»»ä½•å·²æœ‰çš„æ ‡è¯†ç¬¦å‘ç”Ÿå†²çªï¼Œå› ä¸ºå·²æœ‰çš„å®šä¹‰éƒ½å¤„äºå…¶ä»–åå­—ç©ºé—´ä¸­</p>
<p><code>TypeScript</code> ä¸­å‘½åç©ºé—´ä½¿ç”¨ <code>namespace</code> æ¥å®šä¹‰ï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">namespace SomeNameSpaceName &#123;
   export interface ISomeInterfaceName &#123;      &#125;
   export class SomeClassName &#123;      &#125;
&#125;
</code></pre>
<p>ä»¥ä¸Šå®šä¹‰äº†ä¸€ä¸ªå‘½åç©ºé—´ <code>SomeNameSpaceName</code>ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦åœ¨å¤–éƒ¨å¯ä»¥è°ƒç”¨ <code>SomeNameSpaceName</code> ä¸­çš„ç±»å’Œæ¥å£ï¼Œåˆ™éœ€è¦åœ¨ç±»å’Œæ¥å£æ·»åŠ  <code>export</code> å…³é”®å­—</p>
<p>ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="ini">SomeNameSpaceName.SomeClassName
</code></pre>
<p>å‘½åç©ºé—´æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä½œç”¨æ˜¯å°†ä¸€ç³»åˆ—ç›¸å…³çš„å…¨å±€å˜é‡ç»„ç»‡åˆ°ä¸€ä¸ªå¯¹è±¡çš„å±æ€§ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">namespace Letter &#123;
  export let a = 1;
  export let b = 2;
  export let c = 3;
  // ...
  export let z = 26;
&#125;
</code></pre>
<p>ç¼–è¯‘æˆ<code>js</code>å¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">var Letter;
(function (Letter) &#123;
    Letter.a = 1;
    Letter.b = 2;
    Letter.c = 3;
    // ...
    Letter.z = 26;
&#125;)(Letter || (Letter = &#123;&#125;));
</code></pre>
<h4 id="ä¸‰ã€åŒºåˆ«-2"><a href="#ä¸‰ã€åŒºåˆ«-2" class="headerlink" title="ä¸‰ã€åŒºåˆ«"></a>ä¸‰ã€åŒºåˆ«</h4><ul>
<li>å‘½åç©ºé—´æ˜¯ä½äºå…¨å±€å‘½åç©ºé—´ä¸‹çš„ä¸€ä¸ªæ™®é€šçš„å¸¦æœ‰åå­—çš„ JavaScript å¯¹è±¡ï¼Œä½¿ç”¨èµ·æ¥ååˆ†å®¹æ˜“ã€‚ä½†å°±åƒå…¶å®ƒçš„å…¨å±€å‘½åç©ºé—´æ±¡æŸ“ä¸€æ ·ï¼Œå®ƒå¾ˆéš¾å»è¯†åˆ«ç»„ä»¶ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹çš„åº”ç”¨ä¸­</li>
<li>åƒå‘½åç©ºé—´ä¸€æ ·ï¼Œæ¨¡å—å¯ä»¥åŒ…å«ä»£ç å’Œå£°æ˜ã€‚ ä¸åŒçš„æ˜¯æ¨¡å—å¯ä»¥å£°æ˜å®ƒçš„ä¾èµ–</li>
<li>åœ¨æ­£å¸¸çš„TSé¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­å¹¶ä¸å»ºè®®ç”¨å‘½åç©ºé—´ï¼Œä½†é€šå¸¸åœ¨é€šè¿‡ d.ts æ–‡ä»¶æ ‡è®° js åº“ç±»å‹çš„æ—¶å€™ä½¿ç”¨å‘½åç©ºé—´ï¼Œä¸»è¦ä½œç”¨æ˜¯ç»™ç¼–è¯‘å™¨ç¼–å†™ä»£ç çš„æ—¶å€™å‚è€ƒä½¿ç”¨</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•åœ¨Vueé¡¹ç›®ä¸­åº”ç”¨TypeScriptï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•åœ¨Vueé¡¹ç›®ä¸­åº”ç”¨TypeScriptï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•åœ¨Vueé¡¹ç›®ä¸­åº”ç”¨TypeScriptï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•åœ¨Vueé¡¹ç›®ä¸­åº”ç”¨TypeScriptï¼Ÿ</h3><h4 id="ä¸€ã€å‰è¨€"><a href="#ä¸€ã€å‰è¨€" class="headerlink" title="ä¸€ã€å‰è¨€"></a>ä¸€ã€å‰è¨€</h4><p>ä¸linkç±»ä¼¼</p>
<p>åœ¨<code>VUE</code>é¡¹ç›®ä¸­åº”ç”¨<code>typescript</code>ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥ä¸€ä¸ªåº“<code>vue-property-decorator</code>ï¼Œ</p>
<p>å…¶æ˜¯åŸºäº<code>vue-class-component</code>åº“è€Œæ¥ï¼Œè¿™ä¸ªåº“<code>vue</code>å®˜æ–¹æ¨å‡ºçš„ä¸€ä¸ªæ”¯æŒä½¿ç”¨<code>class</code>æ–¹å¼æ¥å¼€å‘<code>vue</code>å•æ–‡ä»¶ç»„ä»¶çš„åº“</p>
<p>ä¸»è¦çš„åŠŸèƒ½å¦‚ä¸‹ï¼š</p>
<ul>
<li>methods å¯ä»¥ç›´æ¥å£°æ˜ä¸ºç±»çš„æˆå‘˜æ–¹æ³•</li>
<li>è®¡ç®—å±æ€§å¯ä»¥è¢«å£°æ˜ä¸ºç±»çš„å±æ€§è®¿é—®å™¨</li>
<li>åˆå§‹åŒ–çš„ data å¯ä»¥è¢«å£°æ˜ä¸ºç±»å±æ€§</li>
<li>dataã€render ä»¥åŠæ‰€æœ‰çš„ Vue ç”Ÿå‘½å‘¨æœŸé’©å­å¯ä»¥ç›´æ¥ä½œä¸ºç±»çš„æˆå‘˜æ–¹æ³•</li>
<li>æ‰€æœ‰å…¶ä»–å±æ€§ï¼Œéœ€è¦æ”¾åœ¨è£…é¥°å™¨ä¸­</li>
</ul>
<h4 id="äºŒã€ä½¿ç”¨-1"><a href="#äºŒã€ä½¿ç”¨-1" class="headerlink" title="äºŒã€ä½¿ç”¨"></a>äºŒã€ä½¿ç”¨</h4><p>vue-property-decorator ä¸»è¦æä¾›äº†å¤šä¸ªè£…é¥°å™¨å’Œä¸€ä¸ªå‡½æ•°:</p>
<ul>
<li>@prop</li>
<li>@ProPsync</li>
<li>@model</li>
<li>@watch</li>
<li>@provide</li>
<li>@Inject</li>
<li>@ProvideReactive</li>
<li>@InjectReactive</li>
<li>@emit</li>
<li>@ref</li>
<li>@component (ç”± vue-class-component æä¾›)</li>
<li>Mixins (ç”± vue-class-component æä¾›)</li>
</ul>
<h5 id="component"><a href="#component" class="headerlink" title="@component"></a><a href="https://github.com/component">@component</a></h5><p><code>Component</code>è£…é¥°å™¨å®ƒæ³¨æ˜äº†æ­¤ç±»ä¸ºä¸€ä¸ª<code>Vue</code>ç»„ä»¶ï¼Œå› æ­¤å³ä½¿æ²¡æœ‰è®¾ç½®é€‰é¡¹ä¹Ÿä¸èƒ½çœç•¥</p>
<p>å¦‚æœéœ€è¦å®šä¹‰æ¯”å¦‚ <code>name</code>ã€<code>components</code>ã€<code>filters</code>ã€<code>directives</code>ä»¥åŠè‡ªå®šä¹‰å±æ€§ï¼Œå°±å¯ä»¥åœ¨<code>Component</code>è£…é¥°å™¨ä¸­å®šä¹‰ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">import &#123;Component,Vue&#125; from &#39;vue-property-decorator&#39;;
import &#123;componentA,componentB&#125; from &#39;@/components&#39;;

 @Component(&#123;
    components:&#123;
        componentA,
        componentB,
    &#125;,
    directives: &#123;
        focus: &#123;
            // æŒ‡ä»¤çš„å®šä¹‰
            inserted: function (el) &#123;
                el.focus()
            &#125;
        &#125;
    &#125;
&#125;)
export default class YourCompoent extends Vue&#123;
   
&#125;
</code></pre>
<h5 id="computedã€dataã€methods"><a href="#computedã€dataã€methods" class="headerlink" title="computedã€dataã€methods"></a>computedã€dataã€methods</h5><p>è¿™é‡Œå–æ¶ˆäº†ç»„ä»¶çš„dataå’Œmethodså±æ€§ï¼Œä»¥å¾€dataè¿”å›å¯¹è±¡ä¸­çš„å±æ€§ã€methodsä¸­çš„æ–¹æ³•éœ€è¦ç›´æ¥å®šä¹‰åœ¨Classä¸­ï¼Œå½“åšç±»çš„å±æ€§å’Œæ–¹æ³•</p>
<pre><code class="tsx">@Component
export default class HelloDecorator extends Vue &#123;
    count: number = 123 // ç±»å±æ€§ç›¸å½“äºä»¥å‰çš„ data

    add(): number &#123; // ç±»æ–¹æ³•å°±æ˜¯ä»¥å‰çš„æ–¹æ³•
        this.count + 1
    &#125;

    // è·å–è®¡ç®—å±æ€§
    get total(): number &#123;
      return this.count + 1
    &#125;

    // è®¾ç½®è®¡ç®—å±æ€§
    set total(param:number): void &#123;
      this.count = param
    &#125;
&#125;
</code></pre>
<h5 id="props"><a href="#props" class="headerlink" title="@props"></a><a href="https://github.com/props">@props</a></h5><p>ç»„ä»¶æ¥æ”¶å±æ€§çš„è£…é¥°å™¨ï¼Œå¦‚ä¸‹ä½¿ç”¨ï¼š</p>
<pre><code class="tsx">import &#123;Component,Vue,Prop&#125; from vue-property-decorator;

@Component
export default class YourComponent extends Vue &#123;
    @Prop(String)
    propA:string;
    
    @Prop([String,Number])
    propB:string|number;
    
    @Prop(&#123;
     type: String, // type: [String , Number]
     default: &#39;default value&#39;, // ä¸€èˆ¬ä¸ºStringæˆ–Number
      //å¦‚æœæ˜¯å¯¹è±¡æˆ–æ•°ç»„çš„è¯ã€‚é»˜è®¤å€¼ä»ä¸€ä¸ªå·¥å‚å‡½æ•°ä¸­è¿”å›
      // defatult: () =&gt; &#123;
      //     return [&#39;a&#39;,&#39;b&#39;]
      // &#125;
     required: true,
     validator: (value) =&gt; &#123;
        return [
          &#39;InProcess&#39;,
          &#39;Settled&#39;
        ].indexOf(value) !== -1
     &#125;
    &#125;)
    propC:string;
&#125;
</code></pre>
<h5 id="watch"><a href="#watch" class="headerlink" title="@watch"></a><a href="https://github.com/watch">@watch</a></h5><p>å®é™…å°±æ˜¯<code>Vue</code>ä¸­çš„ç›‘å¬å™¨ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">import &#123; Vue, Component, Watch &#125; from &#39;vue-property-decorator&#39;

@Component
export default class YourComponent extends Vue &#123;
  @Watch(&#39;child&#39;)
  onChildChanged(val: string, oldVal: string) &#123;&#125;

  @Watch(&#39;person&#39;, &#123; immediate: true, deep: true &#125;)
  onPersonChanged1(val: Person, oldVal: Person) &#123;&#125;

  @Watch(&#39;person&#39;)
  onPersonChanged2(val: Person, oldVal: Person) &#123;&#125;
&#125;
</code></pre>
<h5 id="emit"><a href="#emit" class="headerlink" title="@emit"></a><a href="https://github.com/emit">@emit</a></h5><p><code>vue-property-decorator</code> æä¾›çš„ <code>@Emit</code> è£…é¥°å™¨å°±æ˜¯ä»£æ›¿<code>Vue </code>ä¸­çš„äº‹ä»¶çš„è§¦å‘<code>$emit</code>ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">import &#123;Vue, Component, Emit&#125; from &#39;vue-property-decorator&#39;;
    @Component(&#123;&#125;)
    export default class Some extends Vue&#123;
        mounted()&#123;
            this.$on(&#39;emit-todo&#39;, function(n) &#123;
                console.log(n)
            &#125;)
            this.emitTodo(&#39;world&#39;);
        &#125;
        @Emit()
        emitTodo(n: string)&#123;
            console.log(&#39;hello&#39;);
        &#125;
    &#125;
</code></pre>
<h4 id="ä¸‰-ã€æ€»ç»“"><a href="#ä¸‰-ã€æ€»ç»“" class="headerlink" title="ä¸‰ ã€æ€»ç»“"></a>ä¸‰ ã€æ€»ç»“</h4><p>å¯ä»¥çœ‹åˆ°ä¸Šè¿°<code>typescript</code>ç‰ˆæœ¬çš„<code>vue class</code>çš„è¯­æ³•ä¸å¹³æ—¶<code>javascript</code>ç‰ˆæœ¬ä½¿ç”¨èµ·æ¥è¿˜æ˜¯æœ‰å¾ˆå¤§çš„ä¸åŒï¼Œå¤šå¤„ç”¨åˆ°<code>class</code>ä¸è£…é¥°å™¨ï¼Œä½†å®é™…ä¸Šæœ¬è´¨æ˜¯ä¸€è‡´çš„ï¼Œåªæœ‰ä¸æ–­ç¼–å†™æ‰ä¼šå¾—å¿ƒåº”æ‰‹</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•åœ¨Reacté¡¹ç›®ä¸­åº”ç”¨TypeScriptï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•åœ¨Reacté¡¹ç›®ä¸­åº”ç”¨TypeScriptï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•åœ¨Reacté¡¹ç›®ä¸­åº”ç”¨TypeScriptï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•åœ¨Reacté¡¹ç›®ä¸­åº”ç”¨TypeScriptï¼Ÿ</h3><h4 id="ä¸€ã€å‰è¨€-1"><a href="#ä¸€ã€å‰è¨€-1" class="headerlink" title="ä¸€ã€å‰è¨€"></a>ä¸€ã€å‰è¨€</h4><p>å•ç‹¬çš„ä½¿ç”¨ <code>TypeScript</code> å¹¶ä¸ä¼šå¯¼è‡´å­¦ä¹ æˆæœ¬å¾ˆé«˜ï¼Œä½†æ˜¯ç»å¤§éƒ¨åˆ†å‰ç«¯å¼€å‘è€…çš„é¡¹ç›®éƒ½æ˜¯ä¾èµ–äºæ¡†æ¶çš„</p>
<p>ä¾‹å¦‚ä¸ <code>Vue</code>ã€<code>React</code> è¿™äº›æ¡†æ¶ç»“åˆä½¿ç”¨çš„æ—¶å€™ï¼Œä¼šæœ‰ä¸€å®šçš„é—¨æ§›</p>
<p>ä½¿ç”¨ <code>TypeScript</code> ç¼–å†™ <code>React</code> ä»£ç ï¼Œé™¤äº†éœ€è¦ <code>TypeScript</code> è¿™ä¸ªåº“ä¹‹å¤–ï¼Œè¿˜éœ€è¦å®‰è£… <code>@types/react</code>ã€<code>@types/react-dom</code></p>
<pre><code class="bash">npm i @types/react -s

npm i @types/react-dom -s
</code></pre>
<p>è‡³äºä¸Šè¿°ä½¿ç”¨ <code>@types</code> çš„åº“çš„åŸå› åœ¨äºï¼Œç›®å‰éå¸¸å¤šçš„ <code>JavaScript</code> åº“å¹¶æ²¡æœ‰æä¾›è‡ªå·±å…³äº <code>TypeScript</code> çš„å£°æ˜æ–‡ä»¶</p>
<p>æ‰€ä»¥ï¼Œ<code>ts</code> å¹¶ä¸çŸ¥é“è¿™äº›åº“çš„ç±»å‹ä»¥åŠå¯¹åº”å¯¼å‡ºçš„å†…å®¹ï¼Œè¿™é‡Œ <code>@types</code> å®é™…å°±æ˜¯ç¤¾åŒºä¸­çš„ <code>DefinitelyTyped</code> åº“ï¼Œå®šä¹‰äº†ç›®å‰å¸‚é¢ä¸Šç»å¤§å¤šæ•°çš„ <code>JavaScript</code> åº“çš„å£°æ˜</p>
<p>æ‰€ä»¥ä¸‹è½½ç›¸å…³çš„ <code>JavaScript</code> å¯¹åº”çš„ <code>@types</code> å£°æ˜æ—¶ï¼Œå°±èƒ½å¤Ÿä½¿ç”¨ä½¿ç”¨è¯¥åº“å¯¹åº”çš„ç±»å‹å®šä¹‰</p>
<h4 id="äºŒã€ä½¿ç”¨æ–¹å¼-5"><a href="#äºŒã€ä½¿ç”¨æ–¹å¼-5" class="headerlink" title="äºŒã€ä½¿ç”¨æ–¹å¼"></a>äºŒã€ä½¿ç”¨æ–¹å¼</h4><p>åœ¨ç¼–å†™ <code>React</code> é¡¹ç›®çš„æ—¶å€™ï¼Œæœ€å¸¸è§çš„ä½¿ç”¨çš„ç»„ä»¶å°±æ˜¯ï¼š</p>
<ul>
<li>æ— çŠ¶æ€ç»„ä»¶</li>
<li>æœ‰çŠ¶æ€ç»„ä»¶</li>
<li>å—æ§ç»„ä»¶</li>
</ul>
<h5 id="æ— çŠ¶æ€ç»„ä»¶"><a href="#æ— çŠ¶æ€ç»„ä»¶" class="headerlink" title="æ— çŠ¶æ€ç»„ä»¶"></a>æ— çŠ¶æ€ç»„ä»¶</h5><p>ä¸»è¦ä½œç”¨æ˜¯ç”¨äºå±•ç¤º <code>UI</code>ï¼Œå¦‚æœä½¿ç”¨ <code>js</code> å£°æ˜ï¼Œåˆ™å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="jsx">import * as React from &quot;React&quot;;

export const Logo = (props) =&gt; &#123;
  const &#123; logo, className, alt &#125; = props;

  return &lt;img src=&#123;logo&#125; className=&#123;className&#125; alt=&#123;alt&#125; /&gt;;
&#125;;
</code></pre>
<p>ä½†è¿™æ—¶å€™ <code>ts</code> ä¼šå‡ºç°æŠ¥é”™æç¤ºï¼ŒåŸå› åœ¨äºæ²¡æœ‰å®šä¹‰ <code>porps</code> ç±»å‹ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨ <code>interface</code> æ¥å£å»å®šä¹‰ <code>porps</code> å³å¯ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">import * as React from &quot;React&quot;;

interface IProps &#123;
  logo?: string;
  className?: string;
  alt?: string;
&#125;

export const Logo = (props: IProps) =&gt; &#123;
  const &#123; logo, className, alt &#125; = props;

  return &lt;img src=&#123;logo&#125; className=&#123;className&#125; alt=&#123;alt&#125; /&gt;;
&#125;;
</code></pre>
<p>ä½†æ˜¯æˆ‘ä»¬éƒ½çŸ¥é“ <code>props</code> é‡Œé¢å­˜åœ¨ <code>children</code> å±æ€§ï¼Œæˆ‘ä»¬ä¸å¯èƒ½æ¯ä¸ª <code>porps</code> æ¥å£é‡Œé¢å®šä¹‰å¤šä¸€ä¸ª <code>children</code>ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">interface IProps &#123;
  logo?: string;
  className?: string;
  alt?: string;
  children?: ReactNode;
&#125;
</code></pre>
<p>æ›´åŠ è§„èŒƒçš„å†™æ³•æ˜¯ä½¿ç”¨ <code>React</code> é‡Œé¢å®šä¹‰å¥½çš„ <code>FC</code> å±æ€§ï¼Œé‡Œé¢å·²ç»å®šä¹‰å¥½ <code>children</code> ç±»å‹ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="tsx">export const Logo: React.FC&lt;IProps&gt; = (props) =&gt; &#123;
  const &#123; logo, className, alt &#125; = props;

  return &lt;img src=&#123;logo&#125; className=&#123;className&#125; alt=&#123;alt&#125; /&gt;;
&#125;;
</code></pre>
<ul>
<li>React.FC æ˜¾å¼åœ°å®šä¹‰äº†è¿”å›ç±»å‹ï¼Œå…¶ä»–æ–¹å¼æ˜¯éšå¼æ¨å¯¼çš„</li>
<li>React.FC å¯¹é™æ€å±æ€§ï¼šdisplayNameã€propTypesã€defaultProps æä¾›äº†ç±»å‹æ£€æŸ¥å’Œè‡ªåŠ¨è¡¥å…¨</li>
<li>React.FC ä¸º children æä¾›äº†éšå¼çš„ç±»å‹ï¼ˆReactElement | nullï¼‰</li>
</ul>
<h5 id="æœ‰çŠ¶æ€ç»„ä»¶"><a href="#æœ‰çŠ¶æ€ç»„ä»¶" class="headerlink" title="æœ‰çŠ¶æ€ç»„ä»¶"></a>æœ‰çŠ¶æ€ç»„ä»¶</h5><p>å¯ä»¥æ˜¯ä¸€ä¸ªç±»ç»„ä»¶ä¸”å­˜åœ¨ <code>props</code> å’Œ <code>state</code> å±æ€§</p>
<p>å¦‚æœä½¿ç”¨ <code>TypeScript</code> å£°æ˜åˆ™å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="tsx">import * as React from &quot;React&quot;;

interface IProps &#123;
  color: string;
  size?: string;
&#125;
interface IState &#123;
  count: number;
&#125;
class App extends React.Component&lt;IProps, IState&gt; &#123;
  public state = &#123;
    count: 1,
  &#125;;
  public render() &#123;
    return &lt;div&gt;Hello world&lt;/div&gt;;
  &#125;
&#125;
</code></pre>
<p>ä¸Šè¿°é€šè¿‡æ³›å‹å¯¹ <code>props</code>ã€<code>state</code> è¿›è¡Œç±»å‹å®šä¹‰ï¼Œç„¶ååœ¨ä½¿ç”¨çš„æ—¶å€™å°±å¯ä»¥åœ¨ç¼–è¯‘å™¨ä¸­è·å–æ›´å¥½çš„æ™ºèƒ½æç¤º</p>
<p>å…³äº <code>Component</code> æ³›å‹ç±»çš„å®šä¹‰ï¼Œå¯ä»¥å‚è€ƒä¸‹ React çš„ç±»å‹å®šä¹‰æ–‡ä»¶ <code>node_modules/@types/React/index.d.ts</code>ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="ts">class Component&lt;P, S&gt; &#123;
  readonly props: Readonly&lt;&#123; children?: ReactNode &#125;&gt; &amp; Readonly&lt;P&gt;;

  state: Readonly&lt;S&gt;;
&#125;
</code></pre>
<p>ä»ä¸Šè¿°å¯ä»¥çœ‹åˆ°ï¼Œ<code>state</code> å±æ€§ä¹Ÿå®šä¹‰äº†å¯è¯»ç±»å‹ï¼Œç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢ç›´æ¥è°ƒç”¨ <code>this.state</code> æ›´æ–°çŠ¶æ€</p>
<h5 id="å—æ§ç»„ä»¶"><a href="#å—æ§ç»„ä»¶" class="headerlink" title="å—æ§ç»„ä»¶"></a>å—æ§ç»„ä»¶</h5><p>å—æ§ç»„ä»¶çš„ç‰¹æ€§åœ¨äºå…ƒç´ çš„å†…å®¹é€šè¿‡ç»„ä»¶çš„çŠ¶æ€ <code>state</code> è¿›è¡Œæ§åˆ¶</p>
<p>ç”±äºç»„ä»¶å†…éƒ¨çš„äº‹ä»¶æ˜¯åˆæˆäº‹ä»¶ï¼Œä¸ç­‰åŒäºåŸç”Ÿäº‹ä»¶ï¼Œ</p>
<p>ä¾‹å¦‚ä¸€ä¸ª <code>input</code> ç»„ä»¶ä¿®æ”¹å†…éƒ¨çš„çŠ¶æ€ï¼Œå¸¸è§çš„å®šä¹‰çš„æ—¶å€™å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="ts">private updateValue(e: React.ChangeEvent&lt;HTMLInputElement&gt;) &#123;
    this.setState(&#123; itemText: e.target.value &#125;)
&#125;
</code></pre>
<p>å¸¸ç”¨ <code>Event</code> äº‹ä»¶å¯¹è±¡ç±»å‹ï¼š</p>
<ul>
<li>ClipboardEvent&lt;T &#x3D; Element&gt; å‰ªè´´æ¿äº‹ä»¶å¯¹è±¡</li>
<li>DragEvent&lt;T &#x3D; Element&gt; æ‹–æ‹½äº‹ä»¶å¯¹è±¡</li>
<li>ChangeEvent&lt;T &#x3D; Element&gt; Change äº‹ä»¶å¯¹è±¡</li>
<li>KeyboardEvent&lt;T &#x3D; Element&gt; é”®ç›˜äº‹ä»¶å¯¹è±¡</li>
<li>MouseEvent&lt;T &#x3D; Element&gt; é¼ æ ‡äº‹ä»¶å¯¹è±¡</li>
<li>TouchEvent&lt;T &#x3D; Element&gt; è§¦æ‘¸äº‹ä»¶å¯¹è±¡</li>
<li>WheelEvent&lt;T &#x3D; Element&gt; æ»šè½®äº‹ä»¶å¯¹è±¡</li>
<li>AnimationEvent&lt;T &#x3D; Element&gt; åŠ¨ç”»äº‹ä»¶å¯¹è±¡</li>
<li>TransitionEvent&lt;T &#x3D; Element&gt; è¿‡æ¸¡äº‹ä»¶å¯¹è±¡</li>
</ul>
<p><code>T</code> æ¥æ”¶ä¸€ä¸ª <code>DOM</code> å…ƒç´ ç±»å‹</p>
<h4 id="ä¸‰ã€æ€»ç»“-2"><a href="#ä¸‰ã€æ€»ç»“-2" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h4><p>ä¸Šè¿°åªæ˜¯ç®€å•çš„åœ¨ <code>React</code> é¡¹ç›®ä½¿ç”¨ <code>TypeScript</code>ï¼Œä½†åœ¨ç¼–å†™ <code>React</code> é¡¹ç›®çš„æ—¶å€™ï¼Œè¿˜å­˜åœ¨ <code>hooks</code>ã€é»˜è®¤å‚æ•°ã€ä»¥åŠ <code>store</code> ç­‰ç­‰â€¦â€¦</p>
<p><code>TypeScript</code> åœ¨æ¡†æ¶ä¸­ä½¿ç”¨çš„å­¦ä¹ æˆæœ¬ç›¸å¯¹ä¼šæ›´é«˜ï¼Œéœ€è¦ä¸æ–­ç¼–å†™æ‰èƒ½ç†Ÿç»ƒ</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-ä½¿ç”¨-Typescript-æœ‰å“ªäº›ä¼˜ç‚¹å’Œç¼ºç‚¹"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-ä½¿ç”¨-Typescript-æœ‰å“ªäº›ä¼˜ç‚¹å’Œç¼ºç‚¹" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ ä½¿ç”¨ Typescript æœ‰å“ªäº›ä¼˜ç‚¹å’Œç¼ºç‚¹"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ ä½¿ç”¨ Typescript æœ‰å“ªäº›ä¼˜ç‚¹å’Œç¼ºç‚¹</h3><h4 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><h5 id="æä¾›å¯é€‰çš„å¼ºé™æ€ç±»å‹"><a href="#æä¾›å¯é€‰çš„å¼ºé™æ€ç±»å‹" class="headerlink" title="æä¾›å¯é€‰çš„å¼ºé™æ€ç±»å‹"></a>æä¾›å¯é€‰çš„å¼ºé™æ€ç±»å‹</h5><p>æ—¢ç„¶å« TypeScriptï¼Œé‚£å®ƒçš„æœ€å¤§äº®ç‚¹è‡ªç„¶å°±æ˜¯æä¾›é™æ€ç±»å‹ï¼ˆtypeï¼‰ã€‚æˆ‘ä»¬å¯ä»¥å¯¹å˜é‡è®¾ç½®ç±»å‹ï¼Œæ¯”å¦‚ä½ ç»™ count å˜é‡è®¾ç½®ä¸ºæ•°å­—ç±»å‹ï¼ˆnumberï¼‰ï¼Œå¦‚æœä½ ä» input å…ƒç´ æå– value ï¼ˆstring ç±»å‹ï¼‰èµ‹äºˆç»™ countï¼Œå¦‚æœä½ å¿˜è®°å°†å…¶è½¬æ¢ä¸ºæ•°å­—ï¼Œç¼–è¯‘æ˜¯ä¸ä¼šé€šè¿‡çš„ã€‚</p>
<p>å½“ç„¶ç±»å‹ä¸æ˜¯å¼ºæ±‚è®¾ç½®çš„ï¼Œä¸ºäº†å…¼å®¹ JavaScriptï¼Œä½ ä¹Ÿå¯ä»¥è®¾ç½®ä¸º any ç±»å‹ã€‚æ‰€è°“ any ç±»å‹æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç±»å‹ï¼Œä»»ä½•ç±»å‹çš„çš„å€¼éƒ½å¯ä»¥èµ‹äºˆç»™å®ƒã€‚</p>
<h5 id="æ›´æ—©å‘ç°-BUG"><a href="#æ›´æ—©å‘ç°-BUG" class="headerlink" title="æ›´æ—©å‘ç° BUG"></a>æ›´æ—©å‘ç° BUG</h5><p>TypeScript è¦ç¼–è¯‘åæ‰èƒ½ä½¿ç”¨ã€‚æ‰€ä»¥æˆ‘ä»¬çš„ç±»å‹é”™è¯¯ä¼šåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­è¢«ç¼–è¯‘å™¨å‘ç°ï¼Œæ›´æ—©å‘ç° BUGã€‚å¦‚æœç›´æ¥ç”¨ JavaScript å¼€å‘ï¼Œéœ€è¦åœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œå­å“§å­å“§ç‚¹æ¥ç‚¹å»å„ç§æµ‹è¯•æ¥åˆ¤æ–­è¡Œä¸ºæ˜¯å¦æ­£å¸¸ï¼Œè´¹æ—¶è´¹åŠ›ï¼Œå¼€å‘ä½“éªŒæå·®ã€‚</p>
<p>æ¯”å¦‚åŸæœ¬åº”è¯¥æ˜¯ä¸¤ä¸ªæ•°å­—ç›¸åŠ çš„ï¼Œå†™é”™æˆä¸¤ä¸ªæ•°å­—å½¢å¼çš„å­—ç¬¦ä¸²ç›¸åŠ ï¼Œç»“æœæ˜¯å·®å¾—åä¸‡å…«åƒé‡Œï¼Œä¸”ä¸æ˜“å¯Ÿè§‰ã€‚TypeScript åœ¨ç¼–è¯‘æ—¶å°±ç»™ä½ æ‰¾åˆ°äº†ï¼Œä½ ä¸æ”¹å¯¹åˆ«æƒ³è¿‡æˆ‘ç¼–è¯‘ã€‚</p>
<h5 id="ä»£ç å¯é¢„æµ‹"><a href="#ä»£ç å¯é¢„æµ‹" class="headerlink" title="ä»£ç å¯é¢„æµ‹"></a>ä»£ç å¯é¢„æµ‹</h5><p>å£°æ˜çš„å˜é‡ä¸€æ—¦æŒ‡å®šç±»å‹ï¼Œå®ƒçš„ç±»å‹å°±å†ä¹Ÿä¸èƒ½ä¿®æ”¹ã€‚è¿™æ ·å˜é‡å°±å…·æœ‰å¯é¢„æµ‹æ€§ã€‚</p>
<p>JavaScript çš„å˜é‡å¯ä»¥èµ‹äºˆä»»ä½•ç±»å‹çš„å€¼ã€‚æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°ä¸€ä¸ªå˜é‡åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­å˜æˆå„ç§å„æ ·çš„ç±»å‹ï¼Œä¸€ä¼šæ˜¯å­—ç¬¦ä¸²ï¼Œä¸€ä¼šæ˜¯å¯¹è±¡ï¼Œéå¸¸ä¸å¥½é¢„æµ‹ï¼Œå°¤å…¶æ˜¯æœ‰å¤æ‚æ¡ä»¶åˆ¤æ–­çš„æ—¶å€™ã€‚è¿™å…¶å®æ˜¯å¹¶ä¸æ˜¯å¥½çš„å¼€å‘ä¹ æƒ¯ï¼Œä½†åœ¨ JavaScript å®ƒå°±æ˜¯å¯ä»¥è¿™ä¹ˆå¹²ï¼</p>
<p>ä½†å¦‚æœä½ ç”¨ TypeScriptï¼Œå°±æ²¡æœ‰è¿™ä¸ªçƒ¦æ¼ï¼Œå®ƒç›´æ¥ç»™ä½ ä¸€åˆ€åˆ‡äº†ï¼Œä½ åˆ«æƒ³å°†å­—ç¬¦ä¸²å€¼èµ‹äºˆç»™ä¸€ä¸ªæ•°å­—ç±»å‹å˜é‡ï¼Œä¸€æ—¦å£°æ˜å°±å†ä¹Ÿæ— æ³•ä¿®æ”¹ã€‚</p>
<p>å½“ç„¶ä¸ºäº†å…¼å®¹ï¼Œä½ ä¹Ÿæ˜¯å¯ä»¥å°†å…¶è®¾ç½® any ç±»å‹ï¼Œä½†æ™ºèƒ½æå‡å°±æ²¡æœ‰äº†å“¦ã€‚</p>
<h5 id="ä¸°å¯Œçš„-IDE-æ”¯æŒ"><a href="#ä¸°å¯Œçš„-IDE-æ”¯æŒ" class="headerlink" title="ä¸°å¯Œçš„ IDE æ”¯æŒ"></a>ä¸°å¯Œçš„ IDE æ”¯æŒ</h5><p>å› ä¸ºä½¿ç”¨äº†ç±»å‹ï¼Œæ‰€ä»¥æ£€æµ‹æŸä¸ªå˜é‡æ˜¯ä»€ä¹ˆç±»å‹ã€å¯ä»¥ä½¿ç”¨å“ªäº›æ–¹æ³•å°±å˜å¾—å®¹æ˜“ï¼Œåœ¨å¼€å‘ä½“éªŒä¸Šå°±å¯ä»¥è¿›è¡Œæ”¹å–„äº†ã€‚</p>
<p>ç›®å‰åœ¨ç»å¤§å¤šæ•° IDEï¼ˆé›†æˆå¼€å‘ç¯å¢ƒï¼‰ä¸­å·²ç»æ”¯æŒ TypeScript çš„ æ™ºèƒ½æç¤ºã€è‡ªåŠ¨è¡¥å…¨ã€ä»£ç å¯¼èˆª ç­‰åŠŸèƒ½ï¼Œå¹¶èƒ½åœ¨ç¼–å†™æ—¶å®æ—¶åé¦ˆç±»å‹é”™è¯¯å¹¶æä¾›å‡†ç¡®çš„å»ºè®®ï¼Œæ¯”å¦‚å¯ä»¥æŒ‡å‡ºä¼ å…¥å‡½æ•°çš„å¯¹è±¡ç¼ºäº†å“ªäº›å±æ€§ã€‚</p>
<h5 id="æ–¹ä¾¿é‡æ„"><a href="#æ–¹ä¾¿é‡æ„" class="headerlink" title="æ–¹ä¾¿é‡æ„"></a>æ–¹ä¾¿é‡æ„</h5><p>é‡æ„æ—¶ï¼Œå¦‚æœå‡½æ•°çš„å‚æ•°ä¿®æ”¹äº†ï¼Œè°ƒç”¨å®ƒæ—¶å¦‚æœä¸å¯¹ï¼ŒTypeScript ä¼šæç¤ºä½ ã€‚è¿™å¯¹é‡æ„ä»£ç æä¾›äº†åšå®çš„åç›¾ã€‚æœ‰äº† TypeScriptï¼Œå°±æ”¾å¿ƒåšé‡æ„å§ï¼Œå‰æä½ ä¸è¦åˆ°å¤„ç”¨ anyã€‚</p>
<h5 id="æä¾›é¢å‘å¯¹è±¡çš„å†™æ³•"><a href="#æä¾›é¢å‘å¯¹è±¡çš„å†™æ³•" class="headerlink" title="æä¾›é¢å‘å¯¹è±¡çš„å†™æ³•"></a>æä¾›é¢å‘å¯¹è±¡çš„å†™æ³•</h5><p>é¢å‘å¯¹è±¡è¯­è¨€åœ¨å®è·µä¸­å·²ç»è¢«è¯å®æ˜¯ä¼˜ç§€çš„è®¾è®¡ï¼Œæ‹¥æœ‰æé«˜çš„å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§ã€‚TypeScript æ”¯æŒæ¥å£ã€æŠ½è±¡ç±»ã€æšä¸¾ç­‰é¢å‘å¯¹è±¡è¯­è¨€çš„ç‰¹æ€§ï¼Œæ”¯æŒä½ æ›´å¥½åœ°å®ç°ä¸€äº›è®¾è®¡æ¨¡å¼ã€‚TypeScript è¿˜æ”¯æŒç±»å‹ä½“æ“ï¼Œæœ‰ç©ºå¤šé”»ç‚¼èº«ä½“å“ˆã€‚</p>
<p>çœ‹äº†è¿™ä¹ˆå¤šä¼˜ç‚¹ï¼Œå†çœ‹çœ‹ TypeScript çš„ç¼ºç‚¹ã€‚</p>
<h4 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><h5 id="ä¸æ˜¯çœŸæ­£çš„é™æ€ç±»å‹"><a href="#ä¸æ˜¯çœŸæ­£çš„é™æ€ç±»å‹" class="headerlink" title="ä¸æ˜¯çœŸæ­£çš„é™æ€ç±»å‹"></a>ä¸æ˜¯çœŸæ­£çš„é™æ€ç±»å‹</h5><p>å› ä¸ºéœ€è¦å…¼å®¹ JavaScript çš„ç¼˜æ•…ï¼ŒTypeScript çš„ç±»å‹æ˜¯å¯é€‰çš„ã€‚ä½ å¯ä»¥ç”¨ any ç±»å‹ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œç±»å‹çš„å¼ºåˆ¶è½¬æ¢ï¼Œæ‰€ä»¥å¦‚æœä½ åœ¨ä»£ç ä¸­å†™äº†å¤ªå¤šè¿™æ ·çš„ä¸œè¥¿ï¼Œç”šè‡³å°†å…¶å˜æˆ AnyScriptã€‚é‚£ä¹ˆå®é™…è¿è¡Œè¿˜æ˜¯å¯èƒ½ä¼šå‡ºç°ä¸€äº›ç±»å‹ä¸Šçš„é—®é¢˜ã€‚</p>
<h5 id="æœ‰ä¸€å®šçš„å­¦ä¹ æˆæœ¬"><a href="#æœ‰ä¸€å®šçš„å­¦ä¹ æˆæœ¬" class="headerlink" title="æœ‰ä¸€å®šçš„å­¦ä¹ æˆæœ¬"></a>æœ‰ä¸€å®šçš„å­¦ä¹ æˆæœ¬</h5><p>å­¦ TypeScript å…¶å®å’Œå­¦ä¹ ä¸€é—¨æ–°è¯­è¨€å·®ä¸å¤šäº†ï¼Œè¿˜æ˜¯æœ‰ä¸å°çš„å­¦ä¹ æˆæœ¬çš„ã€‚ä½†å› ä¸ºå…¼å®¹ JavaScript çš„ç¼˜æ•…ï¼Œå¯¹å‰ç«¯å¼€å‘è€…æ¥è¯´éš¾åº¦ä¼šä½ä¸€ç‚¹ã€‚</p>
<h5 id="éœ€è¦å†™æ›´å¤šçš„ä»£ç "><a href="#éœ€è¦å†™æ›´å¤šçš„ä»£ç " class="headerlink" title="éœ€è¦å†™æ›´å¤šçš„ä»£ç "></a>éœ€è¦å†™æ›´å¤šçš„ä»£ç </h5><p>ä¸»è¦æ˜¯ç±»å‹å’Œæ¥å£å£°æ˜çš„éƒ¨åˆ†ï¼Œä½†èƒ½å¤ŸæŠµæ¶ˆæ‰ä½  debug ç±»å‹é—®é¢˜çš„æ—¶é—´ï¼Œæ€»ä½“çœ‹è¿˜æ˜¯ç‰©è¶…æ‰€å€¼çš„ã€‚å¦å¤–ï¼Œç¼–è¯‘åç±»å‹å’Œæ¥å£å£°æ˜éƒ½ä¼šè¢«ç§»é™¤ï¼Œç›¸æ¯”ç›´æ¥å†™ JavaScriptï¼Œä½“ç§¯ä¸ä¼šæ˜æ˜¾æ›´å¤§ã€‚</p>
<h5 id="éœ€è¦ç¼–è¯‘"><a href="#éœ€è¦ç¼–è¯‘" class="headerlink" title="éœ€è¦ç¼–è¯‘"></a>éœ€è¦ç¼–è¯‘</h5><p>æµè§ˆå™¨å’Œ Nodejs å¹¶ä¸æ”¯æŒ TypeScriptï¼Œæ‰€ä»¥å¤šäº†ä¸€æ­¥ç¼–è¯‘æ“ä½œã€‚å¯¹äºæ™®é€šé¡¹ç›®æ¥è¯´é€šå¸¸ä¸é•¿ï¼Œå…¶å®è¿˜å¥½ã€‚ä½†å¦‚æœä½ ç”¨æ¥å†™è„šæœ¬çš„è¯ï¼Œå°±éœ€è¦å¤šå®‰è£… tsc ç¼–è¯‘å·¥å…·ï¼Œè¿˜è¦é…ç½®å¥½ tsconfig.json æ–‡ä»¶ï¼Œè¿˜æ˜¯æœ‰ç‚¹éº»çƒ¦ã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-Typescriptä¸­çš„å†…ç½®ç±»å‹æœ‰å“ªäº›ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-Typescriptä¸­çš„å†…ç½®ç±»å‹æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ Typescriptä¸­çš„å†…ç½®ç±»å‹æœ‰å“ªäº›ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ Typescriptä¸­çš„å†…ç½®ç±»å‹æœ‰å“ªäº›ï¼Ÿ</h3><h4 id="Partialï¼ˆéƒ¨åˆ†çš„ï¼‰"><a href="#Partialï¼ˆéƒ¨åˆ†çš„ï¼‰" class="headerlink" title="Partialï¼ˆéƒ¨åˆ†çš„ï¼‰"></a>Partialï¼ˆéƒ¨åˆ†çš„ï¼‰</h4><pre><code class="typescript">/**
 * Make all properties in T optional
 */
type Partial&lt;T&gt; = &#123;
    [P in keyof T]?: T[P];
&#125;;
</code></pre>
<p>ä½œç”¨æ˜¯è®©ä¼ å…¥ç±»å‹ä¸­çš„æ‰€æœ‰å±æ€§å˜æˆéƒ½æ˜¯å¯é€‰çš„</p>
<blockquote>
<p>ä½¿ç”¨ä¸¾ä¾‹</p>
</blockquote>
<pre><code class="typescript">export interface Student &#123;
  name: string;
  age: number;
&#125;

const student1: Student = &#123;&#125;

const student2: Partial&lt;Student&gt; = &#123;&#125;
</code></pre>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/1460000041101152.jpeg"></p>
<p>å˜é‡student1çš„ç±»å‹æ˜¯Studentï¼ŒStudenté»˜è®¤æ‰€æœ‰çš„å±æ€§éƒ½æ˜¯ä¸èƒ½ä¸ºç©ºçš„ï¼Œæ‰€æœ‰ä¼šæŠ¥é”™ï¼Œstudent2å°±ä¸ä¼š</p>
<h4 id="Requiredï¼ˆå¿…é¡»çš„ï¼‰"><a href="#Requiredï¼ˆå¿…é¡»çš„ï¼‰" class="headerlink" title="Requiredï¼ˆå¿…é¡»çš„ï¼‰"></a>Requiredï¼ˆå¿…é¡»çš„ï¼‰</h4><pre><code class="typescript">/**
 * Make all properties in T required
 */
type Required&lt;T&gt; = &#123;
    [P in keyof T]-?: T[P];
&#125;;
</code></pre>
<p>è·ŸPartialçš„ä½œç”¨æ˜¯ç›¸åçš„ï¼Œæ˜¯è®©ä¼ å…¥ç±»å‹ä¸­çš„æ‰€æœ‰å±æ€§å˜æˆéƒ½æ˜¯å¿…å¡«çš„</p>
<blockquote>
<p>ä½¿ç”¨ä¸¾ä¾‹</p>
</blockquote>
<pre><code class="typescript">export interface Student &#123;
  name?: string;
  age?: number;
&#125;

const student1: Student = &#123;&#125;

const student2: Required&lt;Student&gt; = &#123;&#125;
</code></pre>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/1460000041101153.jpeg"></p>
<p>å˜é‡student1çš„ç±»å‹æ˜¯Studentï¼ŒStudenté»˜è®¤æ‰€æœ‰çš„å±æ€§éƒ½æ˜¯å¯ä»¥ä¸ºç©ºçš„ï¼Œæ‰€æœ‰ä¸ä¼šæŠ¥é”™ï¼Œstudent2ä¼šæŠ¥é”™</p>
<h4 id="Readonlyï¼ˆåªè¯»çš„ï¼‰"><a href="#Readonlyï¼ˆåªè¯»çš„ï¼‰" class="headerlink" title="Readonlyï¼ˆåªè¯»çš„ï¼‰"></a>Readonlyï¼ˆåªè¯»çš„ï¼‰</h4><pre><code class="typescript">/**
 * Make all properties in T readonly
 */
type Readonly&lt;T&gt; = &#123;
    readonly [P in keyof T]: T[P];
&#125;;
</code></pre>
<p>ä½œç”¨æ˜¯è®©ä¼ å…¥ç±»å‹ä¸­çš„æ‰€æœ‰å±æ€§å˜æˆéƒ½æ˜¯åªè¯»çš„ï¼ˆä¸èƒ½ä¿®æ”¹å±æ€§ï¼‰</p>
<blockquote>
<p>ä½¿ç”¨ä¸¾ä¾‹</p>
</blockquote>
<pre><code class="typescript">export interface Student &#123;
  name: string;
  age: number;
&#125;

const student1: Student = &#123;
  name: &#39;å¼ ä¸‰&#39;,
  age: 20
&#125;
student1.age = 21

const student2: Readonly&lt;Student&gt; = &#123;
  name: &#39;æå››&#39;,
  age: 20
&#125;
student2.age = 21
</code></pre>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/1460000041101154.jpeg"></p>
<p>ç»™student1çš„å±æ€§ageé‡æ–°èµ‹å€¼ä¸ä¼šæŠ¥é”™ï¼Œç»™student2çš„å±æ€§ageé‡æ–°èµ‹å€¼å°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºstudent2æ‰€æœ‰çš„å±æ€§éƒ½æ˜¯åªè¯»çš„</p>
<h4 id="Pickï¼ˆé€‰æ‹©ï¼‰"><a href="#Pickï¼ˆé€‰æ‹©ï¼‰" class="headerlink" title="Pickï¼ˆé€‰æ‹©ï¼‰"></a>Pickï¼ˆé€‰æ‹©ï¼‰</h4><pre><code class="typescript">/**
 * From T, pick a set of properties whose keys are in the union K
 */
type Pick&lt;T, K extends keyof T&gt; = &#123;
    [P in K]: T[P];
&#125;;
</code></pre>
<p>ä½œç”¨æ˜¯é€‰æ‹©ä¼ å…¥ç±»å‹ä¸­çš„éƒ¨åˆ†å±æ€§ç»„æˆæ–°ç±»å‹</p>
<blockquote>
<p>ä½¿ç”¨ä¸¾ä¾‹</p>
</blockquote>
<pre><code class="typescript">export interface Student &#123;
  name: string;
  age: number;
&#125;

const student1: Student = &#123;
  name: &#39;å¼ ä¸‰&#39;,
  age: 20
&#125;

const student2: Pick&lt;Student, &#39;name&#39;&gt; = &#123;
  name: &#39;æå››&#39;
&#125;

const student3: Pick&lt;Student, &#39;name&#39;&gt; = &#123;
  name: &#39;ç‹äº”&#39;,
  age: 20
&#125;
</code></pre>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/1460000041101155.jpeg"></p>
<p>å˜é‡student1å¯ä»¥æœ‰æ‰€æœ‰å±æ€§nameå’Œageï¼Œå˜é‡student2å°±åªèƒ½æœ‰å±æ€§nameï¼Œå˜é‡student3åŠ ä¸Šå±æ€§ageå°±ä¼šæŠ¥é”™</p>
<h4 id="Recordï¼ˆè®°å½•ï¼‰"><a href="#Recordï¼ˆè®°å½•ï¼‰" class="headerlink" title="Recordï¼ˆè®°å½•ï¼‰"></a>Recordï¼ˆè®°å½•ï¼‰</h4><pre><code class="typescript">/**
 * Construct a type with a set of properties K of type T
 */
type Record&lt;K extends keyof any, T&gt; = &#123;
    [P in K]: T;
&#125;;
</code></pre>
<p>ä½œç”¨æ˜¯æ„å»ºä¸€ä¸ªç±»å‹ï¼Œè¿™ä¸ªç±»å‹ç”¨æ¥æè¿°ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡çš„å±æ€§éƒ½å…·æœ‰ç›¸åŒçš„ç±»å‹</p>
<blockquote>
<p>ä½¿ç”¨ä¸¾ä¾‹</p>
</blockquote>
<pre><code class="typescript">export const student1: Record&lt;string, any&gt; = &#123;
  name: &#39;å¼ ä¸‰&#39;,
  age: 20
&#125;
</code></pre>
<p>Recordåº”è¯¥æ˜¯æ—¥å¸¸ä½¿ç”¨é¢‘ç‡è¾ƒé«˜çš„å†…ç½®ç±»å‹äº†ï¼Œä¸»è¦ç”¨æ¥æè¿°å¯¹è±¡ï¼Œä¸€èˆ¬å»ºè®®æ˜¯ä¸ç”¨Objectæ¥æè¿°å¯¹è±¡ï¼Œè€Œæ˜¯ç”¨Recordä»£æ›¿ï¼ŒRecord&lt;string, any&gt;å‡ ä¹å¯ä»¥è¯´æ˜¯ä¸‡é‡‘æ²¹äº†</p>
<h4 id="Excludeï¼ˆæ’é™¤ï¼‰"><a href="#Excludeï¼ˆæ’é™¤ï¼‰" class="headerlink" title="Excludeï¼ˆæ’é™¤ï¼‰"></a>Excludeï¼ˆæ’é™¤ï¼‰</h4><pre><code class="typescript">/**
 * Exclude from T those types that are assignable to U
 */
type Exclude&lt;T, U&gt; = T extends U ? never : T;
</code></pre>
<p>é’ˆå¯¹è”åˆç±»å‹ï¼ˆinterfaceè¿™ç§æ²¡ç”¨ï¼‰ï¼Œç”¨äººè¯è¯´ï¼Œæ’é™¤ç›¸åŒçš„ï¼Œç•™ä¸‹ä¸åŒçš„</p>
<blockquote>
<p>ä½¿ç”¨ä¸¾ä¾‹</p>
</blockquote>
<pre><code class="typescript">export type PersonAttr = &#39;name&#39; | &#39;age&#39;

export type StudentAttr = &#39;name&#39; | &#39;age&#39; | &#39;class&#39; | &#39;school&#39;

const student1: Exclude&lt;StudentAttr, PersonAttr&gt;
</code></pre>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/1460000041101156.jpeg"></p>
<p>student1å°±åªèƒ½è¢«èµ‹å€¼ä¸ºâ€™classâ€™ æˆ–è€…â€™schoolâ€™</p>
<h4 id="Extractï¼ˆå–å‡ºï¼‰"><a href="#Extractï¼ˆå–å‡ºï¼‰" class="headerlink" title="Extractï¼ˆå–å‡ºï¼‰"></a>Extractï¼ˆå–å‡ºï¼‰</h4><pre><code class="typescript">/**
 * Extract from T those types that are assignable to U
 */
type Extract&lt;T, U&gt; = T extends U ? T : never;
</code></pre>
<p>ä¸Excludeç›¸åï¼Œé’ˆå¯¹è”åˆç±»å‹ï¼Œæ’é™¤ä¸åŒçš„çš„ï¼Œå–å‡ºç›¸åŒçš„</p>
<blockquote>
<p>ä½¿ç”¨ä¸¾ä¾‹</p>
</blockquote>
<pre><code class="typescript">export type PersonAttr = &#39;name&#39; | &#39;age&#39;

export type StudentAttr = &#39;name&#39; | &#39;age&#39; | &#39;class&#39; | &#39;school&#39;

const student1: Extract&lt;StudentAttr, PersonAttr&gt;
</code></pre>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/1460000041101157.jpeg"></p>
<p>student1å°±åªèƒ½è¢«èµ‹å€¼ä¸ºâ€™nameâ€™æˆ–è€…â€™ageâ€™</p>
<h4 id="Omitï¼ˆçœç•¥ï¼‰"><a href="#Omitï¼ˆçœç•¥ï¼‰" class="headerlink" title="Omitï¼ˆçœç•¥ï¼‰"></a>Omitï¼ˆçœç•¥ï¼‰</h4><pre><code class="typescript">/**
 * Construct a type with the properties of T except for those in type K.
 */
type Omit&lt;T, K extends keyof any&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;;
</code></pre>
<p>ä¼ å…¥ä¸€ä¸ªç±»å‹ï¼Œå’Œè¿™ä¸ªç±»å‹çš„å‡ ä¸ªå±æ€§ï¼ŒæŠŠä¼ å…¥çš„å±æ€§çœç•¥æ‰ï¼Œç»„æˆä¸€ä¸ªæ–°ç±»å‹</p>
<blockquote>
<p>ä½¿ç”¨ä¸¾ä¾‹</p>
</blockquote>
<pre><code class="typescript">export interface Student &#123;
  name: string;
  age: number;
  class: string;
  school: string;
&#125;

export type PersonAttr = &#39;name&#39; | &#39;age&#39;

export type StudentAttr = &#39;name&#39; | &#39;age&#39; | &#39;class&#39; | &#39;school&#39;

const student1: Omit&lt;Student, PersonAttr&gt; = &#123;&#125;
</code></pre>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/1460000041101158.jpeg"></p>
<p>student1æŠ¥é”™ï¼Œæç¤ºæ²¡æœ‰å±æ€§â€™nameâ€™ã€â€™ageâ€™</p>
<h4 id="NonNullableï¼ˆä¸èƒ½ä¸ºnullï¼‰"><a href="#NonNullableï¼ˆä¸èƒ½ä¸ºnullï¼‰" class="headerlink" title="NonNullableï¼ˆä¸èƒ½ä¸ºnullï¼‰"></a>NonNullableï¼ˆä¸èƒ½ä¸ºnullï¼‰</h4><pre><code class="typescript">/**
 * Exclude null and undefined from T
 */
type NonNullable&lt;T&gt; = T extends null | undefined ? never : T;
</code></pre>
<p>å­—é¢æ„æ€ï¼Œä¸èƒ½ä¸ºç©º</p>
<blockquote>
<p>ä½¿ç”¨ä¸¾ä¾‹</p>
</blockquote>
<pre><code class="typescript">export interface Student &#123;
  name: string;
  age: number;
&#125;

const student1: NonNullable&lt;Student | undefined | null&gt; = null
</code></pre>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/1460000041101159.jpeg"></p>
<p>student1èµ‹å€¼ä¸ºnullä¼šæŠ¥é”™ï¼ˆåœ¨tsconfig.jsoné…ç½®æ–‡ä»¶ä¸­å¼€å¯ç±»å‹æ£€æŸ¥ï¼Œ<code>&quot;skipLibCheck&quot;: false</code>ï¼‰</p>
<h4 id="Parametersï¼ˆå‚æ•°ï¼‰"><a href="#Parametersï¼ˆå‚æ•°ï¼‰" class="headerlink" title="Parametersï¼ˆå‚æ•°ï¼‰"></a>Parametersï¼ˆå‚æ•°ï¼‰</h4><pre><code class="typescript">/**
 * Obtain the parameters of a function type in a tuple
 */
type Parameters&lt;T extends (...args: any) =&gt; any&gt; = T extends (...args: infer P) =&gt; any ? P : never;
</code></pre>
<p>è·å–ä¼ å…¥å‡½æ•°çš„å‚æ•°ç»„æˆçš„ç±»å‹</p>
<blockquote>
<p>ä½¿ç”¨ä¸¾ä¾‹</p>
</blockquote>
<pre><code class="typescript">export interface Student &#123;
  name: string;
  age: number;
&#125;

export interface StudentFunc &#123;
  (name: string, age: number): Student
&#125;

const student1: Parameters&lt;StudentFunc&gt;
</code></pre>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/1460000041101160.jpeg"></p>
<p>student1çš„ç±»å‹ä¸º<code>[name: string, age: number]</code></p>
<h4 id="ConstructorParametersï¼ˆæ„é€ å‚æ•°ï¼‰"><a href="#ConstructorParametersï¼ˆæ„é€ å‚æ•°ï¼‰" class="headerlink" title="ConstructorParametersï¼ˆæ„é€ å‚æ•°ï¼‰"></a>ConstructorParametersï¼ˆæ„é€ å‚æ•°ï¼‰</h4><pre><code class="typescript">/**
 * Obtain the parameters of a constructor function type in a tuple
 */
type ConstructorParameters&lt;T extends abstract new (...args: any) =&gt; any&gt; = T extends abstract new (...args: infer P) =&gt; any ? P : never;
</code></pre>
<p>è·å–ä¼ å…¥æ„é€ å‡½æ•°çš„å‚æ•°ç»„æˆçš„ç±»å‹</p>
<blockquote>
<p>ä½¿ç”¨ä¸¾ä¾‹</p>
</blockquote>
<pre><code class="typescript">export interface Student &#123;
  name: string;
  age: number;
&#125;

export interface StudentConstructor &#123;
  new (name: string, age: number): Student
&#125;

const student1: ConstructorParameters&lt;StudentConstructor&gt;
</code></pre>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/1460000041101161.jpeg"></p>
<p>student1çš„ç±»å‹ä¸º<code>[name: string, age: number]</code></p>
<h4 id="ReturnTypeï¼ˆè¿”å›ç±»å‹ï¼‰"><a href="#ReturnTypeï¼ˆè¿”å›ç±»å‹ï¼‰" class="headerlink" title="ReturnTypeï¼ˆè¿”å›ç±»å‹ï¼‰"></a>ReturnTypeï¼ˆè¿”å›ç±»å‹ï¼‰</h4><pre><code class="typescript">/**
 * Obtain the return type of a function type
 */
type ReturnType&lt;T extends (...args: any) =&gt; any&gt; = T extends (...args: any) =&gt; infer R ? R : any;
</code></pre>
<p>è·å–ä¼ å…¥å‡½æ•°çš„è¿”å›ç±»å‹</p>
<blockquote>
<p>ä½¿ç”¨ä¸¾ä¾‹</p>
</blockquote>
<pre><code class="typescript">export interface Student &#123;
  name: string;
  age: number;
&#125;

export interface StudentFunc &#123;
  (name: string, age: number): Student
&#125;

const student1: ReturnType&lt;StudentFunc&gt; = &#123;&#125;
</code></pre>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/1460000041101162.jpeg"></p>
<p>student1çš„ç±»å‹ä¸º<code>Student</code></p>
<h4 id="InstanceTypeï¼ˆæ„é€ è¿”å›ç±»å‹ã€å®ä¾‹ç±»å‹ï¼‰"><a href="#InstanceTypeï¼ˆæ„é€ è¿”å›ç±»å‹ã€å®ä¾‹ç±»å‹ï¼‰" class="headerlink" title="InstanceTypeï¼ˆæ„é€ è¿”å›ç±»å‹ã€å®ä¾‹ç±»å‹ï¼‰"></a>InstanceTypeï¼ˆæ„é€ è¿”å›ç±»å‹ã€å®ä¾‹ç±»å‹ï¼‰</h4><pre><code class="typescript">/**
 * Obtain the return type of a constructor function type
 */
type InstanceType&lt;T extends abstract new (...args: any) =&gt; any&gt; = T extends abstract new (...args: any) =&gt; infer R ? R : any;
</code></pre>
<p>è·å–ä¼ å…¥æ„é€ å‡½æ•°çš„è¿”å›ç±»å‹</p>
<blockquote>
<p>ä½¿ç”¨ä¸¾ä¾‹</p>
</blockquote>
<pre><code class="typescript">const Student = class &#123;
  name: string;
  age: number;
  constructor (name: string, age: number) &#123;
    this.name = name
    this.age = age
  &#125;
  showInfo () &#123;
    console.log(&#39;name: &#39;, this.name, &#39;age: &#39;, this.age);
  &#125;
&#125;

const student1: InstanceType&lt;typeof Student&gt; = new Student(&#39;å¼ ä¸‰&#39;, 20)
</code></pre>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/1460000041101163.jpeg"></p>
<p>ä¸ªäººè®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªéå¸¸å¥½ç”¨çš„å†…ç½®ç±»å‹ï¼Œç›®å‰åœ¨å‰ç«¯é¡¹ç›®ä¸­ï¼Œclassæ˜¯ç”¨çš„è¶Šæ¥è¶Šå¤šäº†ï¼Œåœ¨TSä¸­ï¼Œclasså…¶å®ä¹Ÿæ˜¯å¯ä»¥ç”¨ä½œç±»å‹å£°æ˜ç©ºé—´çš„ï¼Œç”¨æ¥æè¿°å¯¹è±¡ç±»å‹ï¼Œä½†æ˜¯ä¸€èˆ¬æ¥è¯´å¥½åƒå¾ˆå°‘è¿™æ ·ç”¨çš„ï¼Œä¸€èˆ¬ç”¨interfaceæˆ–è€…typeå±…å¤š</p>
<pre><code class="typescript">export class Student &#123;
  name: string;
  age: number;
&#125;
</code></pre>
<p>æ‰€ä»¥ä¸€èˆ¬å°±æ˜¯ç›´æ¥æŠŠclassç”¨ä½œå˜é‡å£°æ˜ç©ºé—´ï¼Œä½†æ˜¯å¯¹äº class new å‡ºçš„å®ä¾‹ï¼Œæ€ä¹ˆæè¿°å®ƒçš„ç±»å‹å‘¢ï¼Œå°±å¦‚ä¸Šæ–‡çš„ï¼Œç›´æ¥<code>const student1: Student</code>é‚£æ˜¯é“å®šä¼šæŠ¥é”™çš„ï¼Œå› ä¸ºStudentç”¨ä½œå˜é‡å£°æ˜ç©ºé—´ï¼Œæ²¡æœ‰ç”¨ä½œç±»å‹å£°æ˜ç©ºé—´ï¼ˆå¬èµ·æ¥å¥½ç»•ï¼‰ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ç”¨åˆ°InstanceTypeï¼Œå®Œç¾è§£å†³é—®é¢˜</p>
<h4 id="Uppercaseï¼ˆå¤§å†™ï¼‰"><a href="#Uppercaseï¼ˆå¤§å†™ï¼‰" class="headerlink" title="Uppercaseï¼ˆå¤§å†™ï¼‰"></a>Uppercaseï¼ˆå¤§å†™ï¼‰</h4><pre><code class="typescript">/**
 * Convert string literal type to uppercase
 */
type Uppercase&lt;S extends string&gt; = intrinsic;
</code></pre>
<p>å˜å¤§å†™</p>
<blockquote>
<p>ä½¿ç”¨ä¸¾ä¾‹</p>
</blockquote>
<pre><code class="typescript">export type StudentSexType = &#39;male&#39; | &#39;female&#39;

const studentSex: Uppercase&lt;StudentSexType&gt; = &#39;MALE&#39;
</code></pre>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/1460000041101164.jpeg"></p>
<h4 id="Lowercaseï¼ˆå°å†™ï¼‰"><a href="#Lowercaseï¼ˆå°å†™ï¼‰" class="headerlink" title="Lowercaseï¼ˆå°å†™ï¼‰"></a>Lowercaseï¼ˆå°å†™ï¼‰</h4><pre><code class="typescript">/**
 * Convert string literal type to lowercase
 */
type Lowercase&lt;S extends string&gt; = intrinsic;
</code></pre>
<p>å˜å°å†™</p>
<blockquote>
<p>ä½¿ç”¨ä¸¾ä¾‹</p>
</blockquote>
<pre><code class="typescript">export type StudentSexType = &#39;MALE&#39; | &#39;FEMALE&#39;

const studentSex: Lowercase&lt;StudentSexType&gt; = &#39;&#39;
</code></pre>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/1460000041101165.jpeg"></p>
<h4 id="Capitalizeï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰"><a href="#Capitalizeï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰" class="headerlink" title="Capitalizeï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰"></a>Capitalizeï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰</h4><pre><code class="typescript">/**
 * Convert first character of string literal type to uppercase
 */
type Capitalize&lt;S extends string&gt; = intrinsic;
</code></pre>
<p>é¦–å­—æ¯å˜å¤§å†™</p>
<blockquote>
<p>ä½¿ç”¨ä¸¾ä¾‹</p>
</blockquote>
<pre><code class="typescript">export type StudentSexType = &#39;male&#39; | &#39;female&#39;

const studentSex: Capitalize&lt;StudentSexType&gt; = &#39;&#39;
</code></pre>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/1460000041101166.jpeg"></p>
<h4 id="Uncapitalizeï¼ˆé¦–å­—æ¯å°å†™ï¼‰"><a href="#Uncapitalizeï¼ˆé¦–å­—æ¯å°å†™ï¼‰" class="headerlink" title="Uncapitalizeï¼ˆé¦–å­—æ¯å°å†™ï¼‰"></a>Uncapitalizeï¼ˆé¦–å­—æ¯å°å†™ï¼‰</h4><pre><code class="typescript">/**
 * Convert first character of string literal type to lowercase
 */
type Uncapitalize&lt;S extends string&gt; = intrinsic;
</code></pre>
<p>é¦–å­—æ¯å˜å°å†™</p>
<blockquote>
<p>ä½¿ç”¨ä¸¾ä¾‹</p>
</blockquote>
<pre><code class="typescript">export type StudentSexType = &#39;MALE&#39; | &#39;FEMALE&#39;

const studentSex: Uncapitalize&lt;StudentSexType&gt; = &#39;&#39;
</code></pre>
<p><img src="/2022/11/02/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8TypeScript/1460000041101167.jpeg"></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-èƒ½å¦å°†å¤šä¸ª-ts-æ–‡ä»¶ç»„åˆæˆä¸€ä¸ª-js-æ–‡ä»¶ï¼Ÿ-å¦‚æœæ˜¯ï¼Œé‚£ä¹ˆå¦‚ä½•ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-èƒ½å¦å°†å¤šä¸ª-ts-æ–‡ä»¶ç»„åˆæˆä¸€ä¸ª-js-æ–‡ä»¶ï¼Ÿ-å¦‚æœæ˜¯ï¼Œé‚£ä¹ˆå¦‚ä½•ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ èƒ½å¦å°†å¤šä¸ª .ts æ–‡ä»¶ç»„åˆæˆä¸€ä¸ª .js æ–‡ä»¶ï¼Ÿ å¦‚æœæ˜¯ï¼Œé‚£ä¹ˆå¦‚ä½•ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ èƒ½å¦å°†å¤šä¸ª <code>.ts</code> æ–‡ä»¶ç»„åˆæˆä¸€ä¸ª <code>.js</code> æ–‡ä»¶ï¼Ÿ å¦‚æœæ˜¯ï¼Œé‚£ä¹ˆå¦‚ä½•ï¼Ÿ</h3><p>è¿™æ˜¯å¯ä»¥çš„ã€‚éœ€è¦æ·»åŠ  â€”outFILE [OutputJSFileName] ç¼–è¯‘é€‰é¡¹ã€‚</p>
<pre><code class="shell">$ tsc --outFile comman.js file1.ts file2.ts file3.ts
</code></pre>
<p>ä¸Šè¿°å‘½ä»¤å°†ç¼–è¯‘æ‰€æœ‰ä¸‰ä¸ª<code>.ts</code>æ–‡ä»¶ï¼Œç»“æœå°†å­˜å‚¨åˆ°å•ä¸ª<code>comman.js</code>æ–‡ä»¶ä¸­ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“æ²¡æœ‰åƒä¸‹é¢çš„å‘½ä»¤é‚£æ ·æä¾›è¾“å‡ºæ–‡ä»¶åæ—¶ã€‚</p>
<pre><code class="shell">$ tsc --outFile file1.ts file2.ts file3.ts
</code></pre>
<p>ç„¶åï¼Œ<code>file2.ts</code>å’Œ<code>file3.ts</code>ä¼šè¢«ç¼–è¯‘ï¼Œè¾“å‡ºä¼šæ”¾åœ¨<code>file1.ts</code>ä¸­ã€‚æ‰€ä»¥ç°åœ¨çš„ <code>file1.ts</code> åŒ…å« JavaScript ä»£ç ã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-æ˜¯å¦å¯ä»¥é€šè¿‡-ts-æ–‡ä»¶ä¸­çš„å®æ—¶æ›´æ”¹è‡ªåŠ¨ç¼–è¯‘-ts-ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-æ˜¯å¦å¯ä»¥é€šè¿‡-ts-æ–‡ä»¶ä¸­çš„å®æ—¶æ›´æ”¹è‡ªåŠ¨ç¼–è¯‘-ts-ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ æ˜¯å¦å¯ä»¥é€šè¿‡ .ts æ–‡ä»¶ä¸­çš„å®æ—¶æ›´æ”¹è‡ªåŠ¨ç¼–è¯‘ .ts ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ æ˜¯å¦å¯ä»¥é€šè¿‡ <code>.ts</code> æ–‡ä»¶ä¸­çš„å®æ—¶æ›´æ”¹è‡ªåŠ¨ç¼–è¯‘ <code>.ts</code> ï¼Ÿ</h3><p>æ˜¯çš„ï¼Œå¯ä»¥é€šè¿‡ <code>.ts</code> æ–‡ä»¶ä¸­çš„å®æ—¶æ›´æ”¹è‡ªåŠ¨ç¼–è¯‘<code>.ts</code>ã€‚è¿™å¯ä»¥é€šè¿‡ä½¿ç”¨ <code>--watch</code> ç¼–è¯‘å™¨é€‰é¡¹æ¥å®ç°ã€‚</p>
<pre><code class="shell">tsc --watch file1.ts
</code></pre>
<p>ä¸Šé¢çš„å‘½ä»¤é¦–å…ˆç¼–è¯‘ <code>file1.js</code> ä¸­çš„ <code>file1.ts</code> å¹¶è§‚å¯Ÿæ–‡ä»¶çš„å˜åŒ–ã€‚å¦‚æœæ£€æµ‹åˆ°ä»»ä½•æ›´æ”¹ï¼Œå®ƒå°†å†æ¬¡ç¼–è¯‘è¯¥æ–‡ä»¶ã€‚åœ¨è¿™é‡Œï¼Œéœ€è¦ç¡®ä¿åœ¨ä½¿ç”¨ <code>--watch</code> é€‰é¡¹è¿è¡Œæ—¶ä¸èƒ½å…³é—­å‘½ä»¤æç¤ºç¬¦ã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-interfaceè¯­å¥å’Œtypeè¯­å¥æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-interfaceè¯­å¥å’Œtypeè¯­å¥æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ interfaceè¯­å¥å’Œtypeè¯­å¥æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ interfaceè¯­å¥å’Œtypeè¯­å¥æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><h4 id="ç›¸åŒç‚¹"><a href="#ç›¸åŒç‚¹" class="headerlink" title="ç›¸åŒç‚¹"></a>ç›¸åŒç‚¹</h4><p>éƒ½å¯ä»¥æè¿°ä¸€ä¸ªå¯¹è±¡æˆ–è€…å‡½æ•°</p>
<p>interface</p>
<pre><code class="typescript">interface User &#123;
  name: string
  age: number
&#125;

interface SetUser &#123;
  (name: string, age: number): void;
&#125;
</code></pre>
<p>type</p>
<pre><code class="typescript">type User = &#123;
  name: string
  age: number
&#125;;

type SetUser = (name: string, age: number)=&gt; void;
</code></pre>
<p>éƒ½å…è®¸æ‹“å±•ï¼ˆextendsï¼‰</p>
<p>interface å’Œ type éƒ½å¯ä»¥æ‹“å±•ï¼Œå¹¶ä¸”ä¸¤è€…å¹¶ä¸æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ interface å¯ä»¥ extends type, type ä¹Ÿå¯ä»¥ extends interface ã€‚ è™½ç„¶æ•ˆæœå·®ä¸å¤šï¼Œä½†æ˜¯ä¸¤è€…è¯­æ³•ä¸åŒã€‚</p>
<p>interface extends interface</p>
<pre><code class="typescript">interface Name &#123; 
  name: string; 
&#125;
interface User extends Name &#123; 
  age: number; 
&#125;
å¤åˆ¶ä»£ç 
</code></pre>
<p>type extends type</p>
<pre><code class="ini">type Name = &#123; 
  name: string; 
&#125;
type User = Name &amp; &#123; age: number  &#125;;
å¤åˆ¶ä»£ç 
</code></pre>
<p>interface extends type</p>
<pre><code class="typescript">type Name = &#123; 
  name: string; 
&#125;
interface User extends Name &#123; 
  age: number; 
&#125;
å¤åˆ¶ä»£ç 
</code></pre>
<p>type extends interface</p>
<pre><code class="ini">interface Name &#123; 
  name: string; 
&#125;
type User = Name &amp; &#123; 
  age: number; 
&#125;
å¤åˆ¶ä»£ç 
</code></pre>
<h4 id="ä¸åŒç‚¹"><a href="#ä¸åŒç‚¹" class="headerlink" title="ä¸åŒç‚¹"></a>ä¸åŒç‚¹</h4><p>type å¯ä»¥è€Œ interface ä¸è¡Œ</p>
<ul>
<li>type å¯ä»¥å£°æ˜åŸºæœ¬ç±»å‹åˆ«åï¼Œè”åˆç±»å‹ï¼Œå…ƒç»„ç­‰ç±»å‹</li>
</ul>
<pre><code class="go">// åŸºæœ¬ç±»å‹åˆ«å
type Name = string

// è”åˆç±»å‹
interface Dog &#123;
    wong();
&#125;
interface Cat &#123;
    miao();
&#125;

type Pet = Dog | Cat

// å…·ä½“å®šä¹‰æ•°ç»„æ¯ä¸ªä½ç½®çš„ç±»å‹
type PetList = [Dog, Pet]

å¤åˆ¶ä»£ç 
</code></pre>
<ul>
<li>type è¯­å¥ä¸­è¿˜å¯ä»¥ä½¿ç”¨ typeof è·å–å®ä¾‹çš„ ç±»å‹è¿›è¡Œèµ‹å€¼</li>
</ul>
<pre><code class="ini">// å½“ä½ æƒ³è·å–ä¸€ä¸ªå˜é‡çš„ç±»å‹æ—¶ï¼Œä½¿ç”¨ typeof
let div = document.createElement(&#39;div&#39;);
type B = typeof div
å¤åˆ¶ä»£ç 
</code></pre>
<ul>
<li>å…¶ä»–éªšæ“ä½œ</li>
</ul>
<pre><code class="ini">type StringOrNumber = string | number;  
type Text = string | &#123; text: string &#125;;  
type NameLookup = Dictionary&lt;string, Person&gt;;  
type Callback&lt;T&gt; = (data: T) =&gt; void;  
type Pair&lt;T&gt; = [T, T];  
type Coordinates = Pair&lt;number&gt;;  
type Tree&lt;T&gt; = T | &#123; left: Tree&lt;T&gt;, right: Tree&lt;T&gt; &#125;;
å¤åˆ¶ä»£ç 
</code></pre>
<p>interface å¯ä»¥è€Œ type ä¸è¡Œ</p>
<p>interface èƒ½å¤Ÿå£°æ˜åˆå¹¶</p>
<pre><code class="typescript">interface User &#123;
  name: string
  age: number
&#125;

interface User &#123;
  sex: string
&#125;

/*
User æ¥å£ä¸º &#123;
  name: string
  age: number
  sex: string 
&#125;
*/
å¤åˆ¶ä»£ç 
</code></pre>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•åœ¨Proxyä¸­ä»£ç†applyæ–¹æ³•"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•åœ¨Proxyä¸­ä»£ç†applyæ–¹æ³•" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•åœ¨Proxyä¸­ä»£ç†applyæ–¹æ³•"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•åœ¨Proxyä¸­ä»£ç†applyæ–¹æ³•</h3><pre><code class="javascript"> &#123;
            var target = function () &#123;
                return &#39;I am the target&#39;;
            &#125;
            var handler = &#123;
                apply: function () &#123;
                    return &#39;I am the proxy&#39;;
                &#125;
            &#125;;
            var p = new Proxy(target,handler);
            console.log(&quot;p&quot;,p());
        &#125;
//ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡pæ˜¯Proxyçš„å®ä¾‹ï¼Œå½“ä»–ä½œä¸ºå‡½æ•°è°ƒç”¨æ—¶ï¼ˆpï¼ˆï¼‰ï¼‰
//,å°±ä¼šè¢«applyæ–¹æ³•æ‹¦æˆªï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²
</code></pre>
<pre><code class="javascript">&#123;
    var twice = &#123;
                    //ç›®æ ‡å¯¹è±¡ï¼Œç›®æ ‡å¯¹è±¡çš„ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œç›®æ ‡å¯¹è±¡çš„å‚æ•°æ•°ç»„
        apply:function (target,ctx,args) &#123;
            //return console.log(&quot;target&quot;,target,&quot;ctx&quot;,ctx,&quot;args&quot;,args);
           return Reflect.apply(...arguments)*2;
        &#125;
    &#125;;
    function sum (left,right) &#123;
         return left*right;
    &#125;;
    var proxy = new Proxy(sum,twice);
    console.log(&quot;proxy1&quot;,proxy(1,2));
    console.log(&quot;proxy.call&quot;,proxy.call(null,5,6));
    console.log(&quot;proxy,apply&quot;,proxy.apply(null,[7,8]));
    console.log(&quot;proxy,apply&quot;,Reflect.apply(proxy,null,[7,8]));

&#125;
//ä¸Šé¢çš„å®ä¾‹æ‰§è¡Œé¡ºåºæ˜¯å½“sumï¼ˆï¼‰æ‰§è¡Œå®Œåå†æ‰§è¡Œtwiceä¸­çš„apply()ï¼Œ
//ä¸Šé¢ä»£ç ä¸­æ¯å½“æ‰§è¡Œproxyå‡½æ•°ï¼ˆç›´æ¥è°ƒç”¨æˆ–callå’Œapplyè°ƒç”¨ï¼‰ï¼Œå°±ä¼šè¢«applyæ–¹æ³•æ‹¦æˆª
//å¦å¤–ï¼Œç›´æ¥è°ƒç”¨Reflect.applyæ–¹æ³•ï¼Œä¹Ÿä¼šè¢«æ‹¦æˆªã€‚
</code></pre>
<p>å‚è€ƒæ–‡çŒ®ï¼š</p>
<p>[è¯­éŸ³ä»“åº“]: 	â€œ<a href="https://github.com/febobo/web-interview">https://github.com/febobo/web-interview</a> â€œ</p>
]]></content>
      <categories>
        <category>æŠ€æœ¯é¢è¯•</category>
        <category>TypeScript</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯é¢è¯•é¢˜å¤§å…¨node</title>
    <url>/2022/11/01/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8node/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆnode-jsï¼‰"><a href="#å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆnode-jsï¼‰" class="headerlink" title="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆnode.jsï¼‰"></a>å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆnode.jsï¼‰</h1><p>å‰ç«¯é¢è¯•é¢˜ç±»ç›®åˆ†ç±»</p>
<ul>
<li>HTML5 + CSS3</li>
<li>JavaScript</li>
<li>Vue + Vue3</li>
<li>React</li>
<li>Webpack</li>
<li>æœåŠ¡ç«¯</li>
</ul>
<hr>
<p>è€ƒç‚¹é¢‘ç‡ ï¼šâ™¥ï¸ ã€ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸</p>
<h2 id="node-js"><a href="#node-js" class="headerlink" title="node.js"></a>node.js</h2><h3 id="â™¥ï¸-â™¥ï¸-è¯´è¯´ä½ å¯¹Node-js-çš„ç†è§£ï¼Ÿä¼˜ç¼ºç‚¹ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-è¯´è¯´ä½ å¯¹Node-js-çš„ç†è§£ï¼Ÿä¼˜ç¼ºç‚¹ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ è¯´è¯´ä½ å¯¹Node.js çš„ç†è§£ï¼Ÿä¼˜ç¼ºç‚¹ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ è¯´è¯´ä½ å¯¹Node.js çš„ç†è§£ï¼Ÿä¼˜ç¼ºç‚¹ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p><code>Node.js</code> æ˜¯ä¸€ä¸ªå¼€æºä¸è·¨å¹³å°çš„ <code>JavaScript</code> è¿è¡Œæ—¶ç¯å¢ƒ</p>
<p>åœ¨æµè§ˆå™¨å¤–è¿è¡Œ V8 JavaScript å¼•æ“ï¼ˆGoogle Chrome çš„å†…æ ¸ï¼‰ï¼Œåˆ©ç”¨äº‹ä»¶é©±åŠ¨ã€éé˜»å¡å’Œå¼‚æ­¥è¾“å…¥è¾“å‡ºæ¨¡å‹ç­‰æŠ€æœ¯æé«˜æ€§èƒ½</p>
<p>å¯ä»¥ç†è§£ä¸º <code>Node.js</code> å°±æ˜¯ä¸€ä¸ªæœåŠ¡å™¨ç«¯çš„ã€éé˜»å¡å¼I&#x2F;Oçš„ã€äº‹ä»¶é©±åŠ¨çš„<code>JavaScript</code>è¿è¡Œç¯å¢ƒ</p>
<h5 id="éé˜»å¡å¼‚æ­¥"><a href="#éé˜»å¡å¼‚æ­¥" class="headerlink" title="éé˜»å¡å¼‚æ­¥"></a>éé˜»å¡å¼‚æ­¥</h5><p><code>Nodejs</code>é‡‡ç”¨äº†éé˜»å¡å‹<code>I/O</code>æœºåˆ¶ï¼Œåœ¨åš<code>I/O</code>æ“ä½œçš„æ—¶å€™ä¸ä¼šé€ æˆä»»ä½•çš„é˜»å¡ï¼Œå½“å®Œæˆä¹‹åï¼Œä»¥æ—¶é—´çš„å½¢å¼é€šçŸ¥æ‰§è¡Œæ“ä½œ</p>
<p>ä¾‹å¦‚åœ¨æ‰§è¡Œäº†è®¿é—®æ•°æ®åº“çš„ä»£ç ä¹‹åï¼Œå°†ç«‹å³è½¬è€Œæ‰§è¡Œå…¶åé¢çš„ä»£ç ï¼ŒæŠŠæ•°æ®åº“è¿”å›ç»“æœçš„å¤„ç†ä»£ç æ”¾åœ¨å›è°ƒå‡½æ•°ä¸­ï¼Œä»è€Œæé«˜äº†ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡</p>
<h5 id="äº‹ä»¶é©±åŠ¨"><a href="#äº‹ä»¶é©±åŠ¨" class="headerlink" title="äº‹ä»¶é©±åŠ¨"></a>äº‹ä»¶é©±åŠ¨</h5><p>äº‹ä»¶é©±åŠ¨å°±æ˜¯å½“è¿›æ¥ä¸€ä¸ªæ–°çš„è¯·æ±‚çš„æ—¶ï¼Œè¯·æ±‚å°†ä¼šè¢«å‹å…¥ä¸€ä¸ªäº‹ä»¶é˜Ÿåˆ—ä¸­ï¼Œç„¶åé€šè¿‡ä¸€ä¸ªå¾ªç¯æ¥æ£€æµ‹é˜Ÿåˆ—ä¸­çš„äº‹ä»¶çŠ¶æ€å˜åŒ–ï¼Œå¦‚æœæ£€æµ‹åˆ°æœ‰çŠ¶æ€å˜åŒ–çš„äº‹ä»¶ï¼Œé‚£ä¹ˆå°±æ‰§è¡Œè¯¥äº‹ä»¶å¯¹åº”çš„å¤„ç†ä»£ç ï¼Œä¸€èˆ¬éƒ½æ˜¯å›è°ƒå‡½æ•°</p>
<p>æ¯”å¦‚è¯»å–ä¸€ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶è¯»å–å®Œæ¯•åï¼Œå°±ä¼šè§¦å‘å¯¹åº”çš„çŠ¶æ€ï¼Œç„¶åé€šè¿‡å¯¹åº”çš„å›è°ƒå‡½æ•°æ¥è¿›è¡Œå¤„ç†</p>
<p><img src="/2022/11/01/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8node/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f61373732393539302d633165382d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<h4 id="äºŒã€ä¼˜ç¼ºç‚¹"><a href="#äºŒã€ä¼˜ç¼ºç‚¹" class="headerlink" title="äºŒã€ä¼˜ç¼ºç‚¹"></a>äºŒã€ä¼˜ç¼ºç‚¹</h4><p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>å¤„ç†é«˜å¹¶å‘åœºæ™¯æ€§èƒ½æ›´ä½³</li>
<li>é€‚åˆI&#x2F;Oå¯†é›†å‹åº”ç”¨ï¼Œå€¼çš„æ˜¯åº”ç”¨åœ¨è¿è¡Œæé™æ—¶ï¼ŒCPUå ç”¨ç‡ä»ç„¶æ¯”è¾ƒä½ï¼Œå¤§éƒ¨åˆ†æ—¶é—´æ˜¯åœ¨åš I&#x2F;Oç¡¬ç›˜å†…å­˜è¯»å†™æ“ä½œ</li>
</ul>
<p>å› ä¸º<code>Nodejs</code>æ˜¯å•çº¿ç¨‹ï¼Œå¸¦æ¥çš„ç¼ºç‚¹æœ‰ï¼š</p>
<ul>
<li>ä¸é€‚åˆCPUå¯†é›†å‹åº”ç”¨</li>
<li>åªæ”¯æŒå•æ ¸CPUï¼Œä¸èƒ½å……åˆ†åˆ©ç”¨CPU</li>
<li>å¯é æ€§ä½ï¼Œä¸€æ—¦ä»£ç æŸä¸ªç¯èŠ‚å´©æºƒï¼Œæ•´ä¸ªç³»ç»Ÿéƒ½å´©æºƒ</li>
</ul>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p>å€ŸåŠ©<code>Nodejs</code>çš„ç‰¹ç‚¹å’Œå¼Šç«¯ï¼Œå…¶åº”ç”¨åœºæ™¯åˆ†ç±»å¦‚ä¸‹ï¼š</p>
<ul>
<li>å–„äº<code>I/O</code>ï¼Œä¸å–„äºè®¡ç®—ã€‚å› ä¸ºNodejsæ˜¯ä¸€ä¸ªå•çº¿ç¨‹ï¼Œå¦‚æœè®¡ç®—ï¼ˆåŒæ­¥ï¼‰å¤ªå¤šï¼Œåˆ™ä¼šé˜»å¡è¿™ä¸ªçº¿ç¨‹</li>
<li>å¤§é‡å¹¶å‘çš„I&#x2F;Oï¼Œåº”ç”¨ç¨‹åºå†…éƒ¨å¹¶ä¸éœ€è¦è¿›è¡Œéå¸¸å¤æ‚çš„å¤„ç†</li>
<li>ä¸ websocket é…åˆï¼Œå¼€å‘é•¿è¿æ¥çš„å®æ—¶äº¤äº’åº”ç”¨ç¨‹åº</li>
</ul>
<p>å…·ä½“åœºæ™¯å¯ä»¥è¡¨ç°ä¸ºå¦‚ä¸‹ï¼š</p>
<ul>
<li>ç¬¬ä¸€å¤§ç±»ï¼šç”¨æˆ·è¡¨å•æ”¶é›†ç³»ç»Ÿã€åå°ç®¡ç†ç³»ç»Ÿã€å®æ—¶äº¤äº’ç³»ç»Ÿã€è€ƒè¯•ç³»ç»Ÿã€è”ç½‘è½¯ä»¶ã€é«˜å¹¶å‘é‡çš„webåº”ç”¨ç¨‹åº</li>
<li>ç¬¬äºŒå¤§ç±»ï¼šåŸºäºwebã€canvasç­‰å¤šäººè”ç½‘æ¸¸æˆ</li>
<li>ç¬¬ä¸‰å¤§ç±»ï¼šåŸºäºwebçš„å¤šäººå®æ—¶èŠå¤©å®¢æˆ·ç«¯ã€èŠå¤©å®¤ã€å›¾æ–‡ç›´æ’­</li>
<li>ç¬¬å››å¤§ç±»ï¼šå•é¡µé¢æµè§ˆå™¨åº”ç”¨ç¨‹åº</li>
<li>ç¬¬äº”å¤§ç±»ï¼šæ“ä½œæ•°æ®åº“ã€ä¸ºå‰ç«¯å’Œç§»åŠ¨ç«¯æä¾›åŸºäº<code>json</code>çš„API</li>
</ul>
<p>å…¶å®ï¼Œ<code>Nodejs</code>èƒ½å®ç°å‡ ä¹ä¸€åˆ‡çš„åº”ç”¨ï¼Œåªè€ƒè™‘é€‚ä¸é€‚åˆä½¿ç”¨å®ƒ</p>
<h3 id="â™¥ï¸-â™¥ï¸-ä¸ºä»€ä¹ˆ-Node-js-æ˜¯å•çº¿ç¨‹çš„ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-ä¸ºä»€ä¹ˆ-Node-js-æ˜¯å•çº¿ç¨‹çš„ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ ä¸ºä»€ä¹ˆ Node.js æ˜¯å•çº¿ç¨‹çš„ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ ä¸ºä»€ä¹ˆ Node.js æ˜¯å•çº¿ç¨‹çš„ï¼Ÿ</h3><p>å›ç­”ä¸€ï¼šæ€¼ï¼šå¦‚æœä¸å¹¸é‡åˆ°é¢è¯•å®˜é—®è¿™ä¸ªé—®é¢˜ï¼Œä½ åé—®ä»– nodejs ä¸ºä»€ä¹ˆå«åš nodejs.</p>
<p>å›ç­”äºŒï¼šè‹Ÿï¼šæ‚¨å¥½ï¼Œè´µå…¬å¸çš„é¢è¯•é¢˜è¿˜æŒºæœ‰æ·±åº¦çš„ï¼Œè¿™è®©æˆ‘è¶Šæ¥è¶ŠæœŸå¾…åŠ å…¥è´µå…¬å¸äº†ã€‚å…³äº ndoejs æ˜¯å•çº¿ç¨‹çš„ï¼Œåˆšå¥½å‰æ®µæ—¶é—´é˜…è¯»è¿‡æœ‰å…³ node çš„æ–‡ç« ã€‚node çš„ä½œè€…åœ¨è®¾è®¡ä¹‹åˆé€‰æ‹©è¯­è¨€æ—¶ï¼Œè¯„ä¼°è¿‡å½“æ—¶çš„æµè¡Œè¯­è¨€ï¼Œæœ€ç»ˆé€‰æ‹©äº†å­˜åœ¨å¤šå¹´åœ¨åç«¯å´ä¸€ç›´æ²¡æœ‰å¸‚åœºçš„ js,æ­£æ˜¯ js çš„ä¸è¢«å…³æ³¨ï¼Œä½¿å¾—ä½¿ç”¨ js æ²¡æœ‰é¢å¤–é˜»åŠ›ï¼Œè€Œ js åœ¨æµè§ˆå™¨ä¸­æœ‰å¹¿æ³›çš„äº‹ä»¶é©±åŠ¨æ–¹é¢çš„åº”ç”¨ï¼Œæ­£ç¬¦åˆä½œè€…çš„å–œå¥½ã€‚äºæ˜¯ node ä½¿ç”¨äº† js ä½œä¸ºå¼€å‘è¯­è¨€ï¼Œnode çš„ä½œè€…åœ¨å¼€å‘æ—¶ä¿æŒäº† js å•çº¿ç¨‹çš„ç‰¹ç‚¹ï¼Œæ‰€ä»¥ nodejs æ˜¯å•çº¿ç¨‹çš„ã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-ä»€ä¹ˆæ˜¯å›è°ƒå‡½æ•°ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-ä»€ä¹ˆæ˜¯å›è°ƒå‡½æ•°ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ ä»€ä¹ˆæ˜¯å›è°ƒå‡½æ•°ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ ä»€ä¹ˆæ˜¯å›è°ƒå‡½æ•°ï¼Ÿ</h3><p>æ¦‚å¿µï¼š</p>
<p>å›è°ƒå°±æ˜¯ä¸€ç§åˆ©ç”¨å‡½æ•°æŒ‡é’ˆè¿›è¡Œå‡½æ•°è°ƒç”¨çš„è¿‡ç¨‹ã€‚å¦‚æœä½ æŠŠå‡½æ•°çš„æŒ‡é’ˆï¼ˆåœ°å€ï¼‰ä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°ï¼Œå½“è¿™ä¸ªæŒ‡é’ˆè¢«ç”¨æ¥è°ƒç”¨å…¶æ‰€æŒ‡å‘çš„å‡½æ•°æ—¶ï¼Œå°±è¯´è¿™æ˜¯å›è°ƒå‡½æ•°ã€‚</p>
<p>å¯¹æ™®é€šå‡½æ•°çš„è°ƒç”¨ï¼š</p>
<p>è°ƒç”¨ç¨‹åºå‘å‡ºå¯¹æ™®é€šå‡½æ•°çš„è°ƒç”¨åï¼Œç¨‹åºæ‰§è¡Œç«‹å³è½¬å‘è¢«è°ƒç”¨å‡½æ•°æ‰§è¡Œï¼Œç›´åˆ°è¢«è°ƒç”¨å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œå†è¿”å›è°ƒç”¨ç¨‹åºç»§ç»­æ‰§è¡Œã€‚ä»å‘å‡ºè°ƒç”¨çš„ç¨‹åºçš„è§’åº¦çœ‹ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸ºâ€œè°ƒç”¨â€“&gt;ç­‰å¾…è¢«è°ƒç”¨å‡½æ•°æ‰§è¡Œå®Œæ¯•â€“&gt;ç»§ç»­æ‰§è¡Œâ€</p>
<p>å¯¹å›è°ƒå‡½æ•°è°ƒç”¨ï¼š</p>
<p>è°ƒç”¨ç¨‹åºå‘å‡ºå¯¹å›è°ƒå‡½æ•°çš„è°ƒç”¨åï¼Œä¸ç­‰å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œç«‹å³è¿”å›å¹¶ç»§ç»­æ‰§è¡Œã€‚è¿™æ ·ï¼Œè°ƒç”¨ç¨‹åºæ‰§å’Œè¢«è°ƒç”¨å‡½æ•°åŒæ—¶åœ¨æ‰§è¡Œã€‚å½“è¢«è°ƒå‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œè¢«è°ƒå‡½æ•°ä¼šåè¿‡æ¥è°ƒç”¨æŸä¸ªäº‹å…ˆæŒ‡å®šå‡½æ•°ï¼Œä»¥é€šçŸ¥è°ƒç”¨ç¨‹åºï¼šå‡½æ•°è°ƒç”¨ç»“æŸã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºå›è°ƒ(Callback)ï¼Œè¿™æ­£æ˜¯å›è°ƒå‡½æ•°åç§°çš„ç”±æ¥ã€‚<br>å›è°ƒå‡½æ•°æœºåˆ¶ï¼š</p>
<p>1ã€å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼ˆå›¾ä¸­çš„sub&#x2F;mulå‡½æ•°ï¼‰ï¼›</p>
<p>2ã€å°†æ­¤å‡½æ•°çš„åœ°å€æ³¨å†Œç»™è°ƒç”¨è€…testå‡½æ•°ï¼›</p>
<p>3ã€ç‰¹å®šçš„äº‹ä»¶æˆ–æ¡ä»¶å‘ç”Ÿæ—¶ï¼ˆmainä¸»å‡½æ•°ï¼‰ï¼Œè°ƒç”¨è€…ä½¿ç”¨å‡½æ•°æŒ‡é’ˆè°ƒç”¨å›è°ƒå‡½æ•°ã€‚</p>
<p>å›è°ƒå‡½æ•°çš„ç¼ºç‚¹ï¼š</p>
<p>1ï¼‰å›è°ƒå‡½æ•°å›ºç„¶èƒ½è§£å†³ä¸€éƒ¨åˆ†ç³»ç»Ÿæ¶æ„é—®é¢˜ä½†æ˜¯ç»ä¸èƒ½å†ç³»ç»Ÿå†…åˆ°å¤„éƒ½æ˜¯ï¼Œå¦‚æœä½ å‘ç°ä½ çš„ç³»ç»Ÿå†…åˆ°å¤„éƒ½æ˜¯å›è°ƒå‡½æ•°ï¼Œé‚£ä¹ˆä½ ä¸€å®šè¦é‡æ„ä½ çš„ç³»ç»Ÿã€‚</p>
<p>2ï¼‰å›è°ƒå‡½æ•°æœ¬èº«æ˜¯ä¸€ç§ç ´åç³»ç»Ÿç»“æ„çš„è®¾è®¡æ€è·¯ï¼Œå›è°ƒå‡½æ•°ä¼šç»å¯¹çš„å˜åŒ–ç³»ç»Ÿçš„è¿è¡Œè½¨è¿¹ï¼Œæ‰§è¡Œé¡ºåºï¼Œè°ƒç”¨é¡ºåºã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-Node-js-å’Œ-ajax-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ"><a href="#â™¥ï¸-â™¥ï¸-Node-js-å’Œ-ajax-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ" class="headerlink" title="â™¥ï¸ â™¥ï¸  Node.js å’Œ ajax çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ?"></a>â™¥ï¸ â™¥ï¸  Node.js å’Œ ajax çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ?</h3><p>åŒºåˆ«ä¸€ï¼š</p>
<p>Ajaxï¼ˆå¼‚æ­¥Javascriptå’ŒXMLçš„ç®€ç§°ï¼‰æ˜¯ä¸€ç§å®¢æˆ·ç«¯æŠ€æœ¯ï¼Œé€šå¸¸ç”¨äºæ›´æ–°é¡µé¢å†…å®¹è€Œä¸åˆ·æ–°å®ƒã€‚</p>
<p>è€ŒNode.jsæ˜¯æœåŠ¡å™¨ç«¯Javascriptï¼Œæ˜¯ä¸€ä¸ªåŸºäº Chrome V8 å¼•æ“çš„ JavaScript è¿è¡Œç¯å¢ƒï¼Œæ˜¯ä¸€ä¸ªè®© JavaScript è¿è¡Œåœ¨æœåŠ¡ç«¯çš„å¼€å‘å¹³å°ã€‚</p>
<p>åŒºåˆ«äºŒï¼š</p>
<p>Node.jsä¸åœ¨æµè§ˆå™¨ä¸­æ‰§è¡Œï¼Œè€Œæ˜¯ç”±æœåŠ¡å™¨æ‰§è¡Œã€‚è€ŒAjaxåœ¨æµè§ˆå™¨ä¸­æ‰§è¡Œã€‚</p>
<p>åŒºåˆ«ä¸‰ï¼š</p>
<p>nodeä¸»è¦æ˜¯æä¾›åå°æœåŠ¡ï¼Œè€Œajaxä¸»è¦æ˜¯ç”¨æ¥å‰åå°æ•°æ®çš„è¯·æ±‚ä¸å‘é€æ•°æ®çš„ã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-è¯·ä½¿ç”¨-Node-js-åŸç”Ÿçš„-HTTP-æ¨¡å—åˆ›å»ºä¸€ä¸ª-web-Serverã€‚"><a href="#â™¥ï¸-â™¥ï¸-è¯·ä½¿ç”¨-Node-js-åŸç”Ÿçš„-HTTP-æ¨¡å—åˆ›å»ºä¸€ä¸ª-web-Serverã€‚" class="headerlink" title="â™¥ï¸ â™¥ï¸ è¯·ä½¿ç”¨ Node.js åŸç”Ÿçš„ HTTP æ¨¡å—åˆ›å»ºä¸€ä¸ª web Serverã€‚"></a>â™¥ï¸ â™¥ï¸ è¯·ä½¿ç”¨ Node.js åŸç”Ÿçš„ HTTP æ¨¡å—åˆ›å»ºä¸€ä¸ª web Serverã€‚</h3><pre><code class="js">const http = require(&#39;http&#39;)
const port = 3000
const server = http.createServer((req, res) =&gt; &#123;
 res.statusCode = 200
 res.setHeader(&#39;Content-Type&#39;, &#39;text/plain&#39;)
 res.end(&#39;Hello World&#39;)
&#125;)
server.listen(port, () =&gt; &#123;
 console.log( Server is running on http://127.0.0.1:$&#123;port&#125;/ )
&#125;)
</code></pre>
<hr>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•ä½¿ç”¨åŸç”Ÿ-Node-js-æ“åš-cookieï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•ä½¿ç”¨åŸç”Ÿ-Node-js-æ“åš-cookieï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•ä½¿ç”¨åŸç”Ÿ Node.js æ“åš cookieï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•ä½¿ç”¨åŸç”Ÿ Node.js æ“åš cookieï¼Ÿ</h3><p>è·å– cookieï¼š req.headers.cookie</p>
<p>è®¾ç½® cookieï¼š res.writeHead(200, { â€˜Set-Cookieâ€™: â€˜myCookie&#x3D;testâ€™, â€˜Content-Typeâ€™: â€˜text&#x2F;plainâ€™ }) </p>
<p><a href="https://blog.csdn.net/u012732909/article/details/119107135">nodeæ“ä½œcookie</a>å‚è€ƒè¯·ç‚¹å‡»</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-setImmediate-å’Œ-setTimeOut-åŒºåˆ«åœ¨å“ªé‡Œ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-setImmediate-å’Œ-setTimeOut-åŒºåˆ«åœ¨å“ªé‡Œ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ setImmediate å’Œ setTimeOut åŒºåˆ«åœ¨å“ªé‡Œ?"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ setImmediate å’Œ setTimeOut åŒºåˆ«åœ¨å“ªé‡Œ?</h3><p>setImmediate å’Œ setTimeOut éƒ½æ˜¯å»¶è¿ŸåŠ è½½ã€‚è€Œå½“è¿™ä¸¤ä¸ªå®šæ—¶å™¨åŒæ—¶è¿è¡Œåœ¨ä¸»æ¨¡å—æ—¶ï¼Œè¿è¡Œé¡ºåºæ˜¯ä¸ä¸€å®šçš„ã€‚setTimeOut å—è¿›ç¨‹æ€§èƒ½çš„çº¦æŸï¼Œæœ‰å¯èƒ½æ¯” setImmediate å¿«ï¼Œä¹Ÿæœ‰å¯èƒ½æ…¢äº setImmediateã€‚</p>
<p>è€Œåœ¨ I&#x2F;O äº‹ä»¶çš„å›è°ƒä¸­ï¼ŒsetImmediate æ–¹æ³•çš„å›è°ƒæ°¸è¿œåœ¨ setTimeOut çš„å›è°ƒå‰æ‰§è¡Œã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•æ›´æ–°-Node-js-çš„ç‰ˆæœ¬"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•æ›´æ–°-Node-js-çš„ç‰ˆæœ¬" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•æ›´æ–° Node.js çš„ç‰ˆæœ¬?"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•æ›´æ–° Node.js çš„ç‰ˆæœ¬?</h3><pre><code class="css">npm install npm -g (åœ¨å‘½ä»¤è¡Œä¸­å°† npm åœ¨é‡æ–°å®‰è£…ä¸€éï¼Œå¦‚éœ€æŒ‡å®šç‰ˆæœ¬éœ€è¦åŠ ä¸Š @ç‰ˆæœ¬æ•°å­— )
</code></pre>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-nextTick-å’Œ-setImmediate-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-nextTick-å’Œ-setImmediate-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸  nextTick å’Œ setImmediate çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸  nextTick å’Œ setImmediate çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>nextTick å’Œ setImmediate éƒ½æ˜¯å»¶è¿ŸåŠ è½½ã€‚ä½†æ˜¯ nextTick æ˜¯æ”¾åœ¨å½“å‰é˜Ÿåˆ—çš„æœ€åä¸€ä¸ªæ‰§è¡Œï¼Œ</p>
<p>setImmediate æ˜¯åœ¨ä¸‹ä¸€ä¸ªé˜Ÿåˆ—çš„é˜Ÿé¦–æ‰§è¡Œ</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯·ä½¿ç”¨-Node-js-ç¼–å†™ä»£ç å®ç°éå†æ–‡ä»¶å¤¹å¹¶è¾“å‡ºæ‰€æœ‰çš„æ–‡ä»¶å"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯·ä½¿ç”¨-Node-js-ç¼–å†™ä»£ç å®ç°éå†æ–‡ä»¶å¤¹å¹¶è¾“å‡ºæ‰€æœ‰çš„æ–‡ä»¶å" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯·ä½¿ç”¨ Node.js ç¼–å†™ä»£ç å®ç°éå†æ–‡ä»¶å¤¹å¹¶è¾“å‡ºæ‰€æœ‰çš„æ–‡ä»¶å"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯·ä½¿ç”¨ Node.js ç¼–å†™ä»£ç å®ç°éå†æ–‡ä»¶å¤¹å¹¶è¾“å‡ºæ‰€æœ‰çš„æ–‡ä»¶å</h3><pre><code class="js">const fs = require(&#39;fs&#39;)
const path = require(&#39;path&#39;)
const getAllFile = function (dir) &#123;
 function traverse(dir) &#123;
 fs.readdirSync(dir).forEach(file =&gt; &#123;
 const pathname = path.join(dir, file)
 if (fs.statSync(pathname).isDirectory()) &#123;
 traverse(pathname)
 &#125; else &#123;
 console.log(file)
 &#125;
 &#125;)
 &#125;
 traverse(dir)
&#125;
</code></pre>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-token-å­˜å‚¨åœ¨-localStorage-é‡Œï¼Œå½“è¿‡æœŸæ—¶è¿‡æœŸçš„-token-æ€ä¹ˆå¤„ç†ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-token-å­˜å‚¨åœ¨-localStorage-é‡Œï¼Œå½“è¿‡æœŸæ—¶è¿‡æœŸçš„-token-æ€ä¹ˆå¤„ç†ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ token å­˜å‚¨åœ¨ localStorage é‡Œï¼Œå½“è¿‡æœŸæ—¶è¿‡æœŸçš„ token æ€ä¹ˆå¤„ç†ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ token å­˜å‚¨åœ¨ localStorage é‡Œï¼Œå½“è¿‡æœŸæ—¶è¿‡æœŸçš„ token æ€ä¹ˆå¤„ç†ï¼Ÿ</h3><p>å½“å‰ç«¯è¿›è¡Œé¡µé¢è·³è½¬æˆ–è€…éœ€è¦é‰´æƒçš„æ“ä½œæ—¶ï¼Œä¼šå‘é€è¯·æ±‚åˆ°åå°ï¼Œè€Œ token ä¼šè·Ÿéšè¯·æ±‚å¤´ä¸€èµ·å‘é€ï¼Œåå°é€šè¿‡è¯·æ±‚å¤´æ¥æ”¶åˆ° token æ—¶ä¼šè¿›è¡Œåˆ¤æ–­ï¼Œè‹¥æ˜¯è¿‡æœŸäº†ï¼Œåº”è¯¥è¿”å›ä¸€ä¸ª 401 çš„çŠ¶æ€ç ç»™å‰ç«¯ï¼Œå‰ç«¯æ¥æ”¶åˆ°ä»¥åï¼Œåº”è¯¥é‡å®šå‘åˆ°ç™»å½•é¡µè¦æ±‚ç”¨æˆ·é‡æ–°ç™»é™†ã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-MySQL-å’Œ-MongoDB-çš„åŒºåˆ«ï¼Œä»–ä»¬éƒ½æ˜¯æ€ä¹ˆæŸ¥è¯¢è¯­å¥çš„ï¼Œå…·ä½“è®²è®²æ€ä¹ˆæŸ¥è¯¢çš„ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-MySQL-å’Œ-MongoDB-çš„åŒºåˆ«ï¼Œä»–ä»¬éƒ½æ˜¯æ€ä¹ˆæŸ¥è¯¢è¯­å¥çš„ï¼Œå…·ä½“è®²è®²æ€ä¹ˆæŸ¥è¯¢çš„ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ MySQL å’Œ MongoDB çš„åŒºåˆ«ï¼Œä»–ä»¬éƒ½æ˜¯æ€ä¹ˆæŸ¥è¯¢è¯­å¥çš„ï¼Œå…·ä½“è®²è®²æ€ä¹ˆæŸ¥è¯¢çš„ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ MySQL å’Œ MongoDB çš„åŒºåˆ«ï¼Œä»–ä»¬éƒ½æ˜¯æ€ä¹ˆæŸ¥è¯¢è¯­å¥çš„ï¼Œå…·ä½“è®²è®²æ€ä¹ˆæŸ¥è¯¢çš„ï¼Ÿ</h3><h4 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h4><p>æ•°æ®åº“æ¨¡å‹ mysql æ˜¯å…³ç³»å‹æ•°æ®åº“ï¼Œç°åœ¨ä½¿ç”¨æœ€å¤šçš„æ•°æ®å­˜å‚¨æŠ€æœ¯ mongodb æ˜¯éå…³ç³»å‹æ•°æ®åº“ï¼Œå¹¶ä¸”æ˜¯éå…³ç³»å‹æ•°æ®åº“ä¸­æœ€åƒå…³ç³»å‹çš„æ•°æ®åº“</p>
<p>å­˜å‚¨æ–¹å¼ mongodb-ä»¥ç±» JSON çš„æ–‡æ¡£çš„æ ¼å¼å­˜å‚¨ mysql-ä¸åŒå¼•æ“æœ‰ä¸åŒçš„å­˜å‚¨æ–¹å¼</p>
<p>æ•°æ®å¤„ç†æ–¹å¼ mongodb-åŸºäºå†…å­˜ï¼Œå°†çƒ­æ•°æ®å­˜æ”¾åœ¨ç‰©ç†å†…å­˜ä¸­ï¼Œä»è€Œè¾¾åˆ°é«˜é€Ÿè¯»å†™ mysql-ä¸åŒå¼•æ“æœ‰è‡ªå·±çš„ç‰¹ç‚¹</p>
<h4 id="æŸ¥è¯¢è¯­å¥"><a href="#æŸ¥è¯¢è¯­å¥" class="headerlink" title="æŸ¥è¯¢è¯­å¥"></a>æŸ¥è¯¢è¯­å¥</h4><p>mongodb çš„æŸ¥è¯¢è¯­å¥ç±»ä¼¼äº js ä½¿ç”¨ api çš„åœºæ™¯ï¼Œé€šè¿‡ . æ¥è°ƒç”¨ï¼Œå¹¶ä¼ é€’å‚æ•°æ¥è¿›è¡Œæ§åˆ¶æŸ¥è¯¢å†…å®¹ å¦‚ï¼šæŸ¥è¯¢ username ä¸ºå¼ ä¸‰ï¼Œage ä¸º 27 çš„æ•°æ®</p>
<pre><code class="ini">db.users.find(&#123; username: &#39;å¼ ä¸‰&#39;, age: 27 &#125;)
</code></pre>
<p>è€Œ mysql åˆ™æ˜¯æ ‡å‡†çš„ sql è¯­å¥ï¼ŒåŒæ ·æŸ¥è¯¢ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="ini">select * from users where &quot;username&quot; = &quot;å¼ ä¸‰&quot; and age = 27
</code></pre>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-ä»€ä¹ˆæ˜¯æœåŠ¡ç«¯æ¸²æŸ“ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“çš„ä¼˜ç‚¹ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-ä»€ä¹ˆæ˜¯æœåŠ¡ç«¯æ¸²æŸ“ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“çš„ä¼˜ç‚¹ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ ä»€ä¹ˆæ˜¯æœåŠ¡ç«¯æ¸²æŸ“ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“çš„ä¼˜ç‚¹ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ ä»€ä¹ˆæ˜¯æœåŠ¡ç«¯æ¸²æŸ“ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“çš„ä¼˜ç‚¹ï¼Ÿ</h3><p>æœåŠ¡ç«¯æ¸²æŸ“ï¼šé¡µé¢æ¸²æŸ“è¿‡ç¨‹æ˜¯åœ¨æœåŠ¡ç«¯å®Œæˆï¼Œæœ€ç»ˆçš„ HTML å­—ç¬¦ä¸²ï¼Œç›´æ¥é€šè¿‡è¯·æ±‚å‘é€ç»™å®¢æˆ·ç«¯ã€‚</p>
<p>æœåŠ¡å™¨ç«¯æ¸²æŸ“çš„ä¼˜åŠ¿å°±æ˜¯åˆ©äº SEO ä¼˜åŒ–ï¼Œé¦–å±åŠ è½½å¿«ï¼Œå› ä¸ºå®¢æˆ·ç«¯æ¥æ”¶åˆ°çš„æ˜¯å®Œæ•´çš„ HTML é¡µé¢ã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•åœ¨-Node-js-ä¸­æ“ä½œ-MongoDb-æ•°æ®åº“"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•åœ¨-Node-js-ä¸­æ“ä½œ-MongoDb-æ•°æ®åº“" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•åœ¨ Node.js ä¸­æ“ä½œ MongoDb æ•°æ®åº“"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•åœ¨ Node.js ä¸­æ“ä½œ MongoDb æ•°æ®åº“</h3><h4 id="ä¸€ã€åœ¨-Nodejs-ä¸­ä½¿ç”¨-Mongodb"><a href="#ä¸€ã€åœ¨-Nodejs-ä¸­ä½¿ç”¨-Mongodb" class="headerlink" title="ä¸€ã€åœ¨ Nodejs ä¸­ä½¿ç”¨ Mongodb"></a>ä¸€ã€åœ¨ Nodejs ä¸­ä½¿ç”¨ Mongodb</h4><p>Nodejs æ“ä½œ mongodb æ•°æ®åº“å®˜æ–¹æ–‡æ¡£ï¼š</p>
<p><a href="http://mongodb.github.io/node-mongodb-native/">http://mongodb.github.io/node-mongodb-native/</a></p>
<pre><code class="ini">npm install mongodb --save 
æˆ–è€…
cnpm install mongodb --save 
æˆ–è€…
yarn add mongodb
</code></pre>
<h4 id="äºŒã€Nodejs-æ“ä½œ-MongoDb-æ•°æ®åº“"><a href="#äºŒã€Nodejs-æ“ä½œ-MongoDb-æ•°æ®åº“" class="headerlink" title="äºŒã€Nodejs æ“ä½œ MongoDb æ•°æ®åº“"></a>äºŒã€Nodejs æ“ä½œ MongoDb æ•°æ®åº“</h4><pre><code class="javascript">// 1 cnpm install mongodb --save

//2ã€å¼•å…¥mongodb
const &#123; MongoClient &#125; = require(&#39;mongodb&#39;);

//3ã€å®šä¹‰æ•°æ®åº“è¿æ¥çš„åœ°å€
const url = &#39;mongodb://127.0.0.1:27017&#39;;

//4ã€å®šä¹‰è¦æ“ä½œçš„æ•°æ®åº“
const dbName = &#39;itying&#39;;

//5ã€å®ä¾‹åŒ–MongoClient ä¼ å…¥æ•°æ®åº“è¿æ¥åœ°å€
const client = new MongoClient(url, &#123; useUnifiedTopology: true &#125;);

//6ã€è¿æ¥æ•°æ®åº“ æ“ä½œæ•°æ®

client.connect((err) =&gt; &#123;
    if (err) &#123;
        console.log(err);
        return;
    &#125;
    console.log(&quot;æ•°æ®åº“è¿æ¥æˆåŠŸ&quot;);

    let db = client.db(dbName);

    // //1ã€æŸ¥æ‰¾æ•°æ®
    db.collection(&quot;user&quot;).find(&#123;&quot;age&quot;:13&#125;).toArray((err,data)=&gt;&#123;
       if(err)&#123; 
            console.log(err);
            return;
        &#125;
        console.log(data);       
        //æ“ä½œæ•°æ®åº“å®Œæ¯•ä»¥åä¸€å®šè¦ å…³é—­æ•°æ®åº“è¿æ¥
        client.close();
    &#125;)


    //2ã€å¢åŠ æ•°æ®

    // db.collection(&quot;user&quot;).insertOne(&#123;&quot;username&quot;:&quot;nodejsæ“ä½œmongodb&quot;,&quot;age&quot;:10&#125;,(err,result)=&gt;&#123;
    //     if(err)&#123; //å¢åŠ å¤±è´¥
    //         console.log(err);
    //         return;
    //     &#125;
    //     console.log(&quot;å¢åŠ æˆåŠŸ&quot;);
    //     console.log(result);
    //       //æ“ä½œæ•°æ®åº“å®Œæ¯•ä»¥åä¸€å®šè¦ å…³é—­æ•°æ®åº“è¿æ¥
    //      client.close();

    // &#125;)


    //3ã€ä¿®æ”¹æ•°æ®

    // db.collection(&quot;user&quot;).updateOne(&#123; &quot;name&quot;: &quot;zhangsan&quot; &#125;, &#123; $set: &#123; &quot;age&quot;: 10 &#125; &#125;, (err, result) =&gt; &#123;
    //     if (err) &#123; //ä¿®æ”¹å¤±è´¥
    //         console.log(err);
    //         return;
    //     &#125;
    //     console.log(&quot;ä¿®æ”¹æˆåŠŸ&quot;);
    //     console.log(result);
    //     //æ“ä½œæ•°æ®åº“å®Œæ¯•ä»¥åä¸€å®šè¦ å…³é—­æ•°æ®åº“è¿æ¥
    //     client.close();
    // &#125;)


    //4ã€åˆ é™¤ä¸€æ¡æ•°æ®

    // db.collection(&quot;user&quot;).deleteOne(&#123; &quot;username&quot;: &quot;nodejs&quot; &#125;, (err)=&gt;&#123;

    //     if (err) &#123; 
    //         console.log(err);
    //         return;
    //     &#125;
    //     console.log(&quot;åˆ é™¤ä¸€æ¡æ•°æ®æˆåŠŸ&quot;);
    //     client.close();
    // &#125;)

     //5ã€åˆ é™¤å¤šæ¡æ•°æ®

    // db.collection(&quot;user&quot;).deleteMany(&#123; &quot;username&quot;: &quot;nodejs&quot; &#125;, (err)=&gt;&#123;

    //     if (err) &#123; 
    //         console.log(err);
    //         return;
    //     &#125;
    //     console.log(&quot;åˆ é™¤å¤šæ¡æ•°æ®æˆåŠŸ&quot;);
    //     client.close();
    // &#125;)

&#125;)
</code></pre>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-è°ˆè°ˆ-socket-çš„ä¸‰ç§å¸¸è§ä½¿ç”¨æ–¹å¼"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-è°ˆè°ˆ-socket-çš„ä¸‰ç§å¸¸è§ä½¿ç”¨æ–¹å¼" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ è°ˆè°ˆ socket çš„ä¸‰ç§å¸¸è§ä½¿ç”¨æ–¹å¼"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ è°ˆè°ˆ socket çš„ä¸‰ç§å¸¸è§ä½¿ç”¨æ–¹å¼</h3><p>ç¬¬ä¸€ç§æ–¹å¼æ˜¯ netSocketï¼Œä¸»è¦ä½¿ç”¨çš„æ˜¯ node ä¸­çš„ net æ¨¡å—ã€‚æœåŠ¡ç«¯é€šè¿‡ new net.createServer() åˆ›å»ºæœåŠ¡ï¼Œä½¿ç”¨ on(â€˜connectionâ€™) æ–¹æ³•å»ºç«‹è¿æ¥ï¼Œåœ¨å›è°ƒå‡½æ•°ä¸­å³å¯è·å–åˆ°å®¢æˆ·ç«¯å‘é€çš„ä¿¡æ¯ã€‚å®¢æˆ·ç«¯é€šè¿‡ new net.Socket() åˆ›å»º Socketï¼Œé€šè¿‡ connect è¿æ¥æŒ‡å®šç«¯å£å’ŒåŸŸååï¼Œå³å¯è°ƒç”¨ write æ–¹æ³•å‘é€æ•°æ®</p>
<p>ç¬¬äºŒç§æ–¹å¼æ˜¯ webSocketï¼ŒæœåŠ¡ç«¯å¼•å…¥ç¬¬ä¸‰æ–¹æ’ä»¶ ws åˆ›å»º socket æœåŠ¡ï¼Œå®¢æˆ·ç«¯ä½¿ç”¨ H5 æ–°å¢ API new WebSocket è¿æ¥æœåŠ¡ç«¯ï¼Œé€šè¿‡ send æ–¹æ³•å‘é€æ•°æ®ï¼Œonmessage æ–¹æ³•æ¥æ”¶æ•°æ®</p>
<p>ç¬¬ä¸‰ç§æ–¹å¼æ˜¯ socket.ioï¼ŒæœåŠ¡ç«¯å¼•å…¥ socket.ioâ€™ æ¨¡å—åˆ›å»ºæœåŠ¡ï¼Œå®¢æˆ·ç«¯å¼•å…¥ socket.io.jsâ€™ æ–‡ä»¶ï¼Œå»ºç«‹è¿æ¥åï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½æ˜¯é€šè¿‡ on æ–¹æ³•æ¥æ”¶æ•°æ®ï¼Œéƒ½æ˜¯ä½¿ç”¨ emit æ–¹æ³•å‘é€æ•°æ®ã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-å‰åç«¯æ•°æ®äº¤äº’çš„å¸¸è§ä½¿ç”¨æ–¹å¼"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-å‰åç«¯æ•°æ®äº¤äº’çš„å¸¸è§ä½¿ç”¨æ–¹å¼" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ å‰åç«¯æ•°æ®äº¤äº’çš„å¸¸è§ä½¿ç”¨æ–¹å¼"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ å‰åç«¯æ•°æ®äº¤äº’çš„å¸¸è§ä½¿ç”¨æ–¹å¼</h3><p>cookieï¼šå‰ç«¯å¯ä»¥ç›´æ¥è®¾ç½®æˆ–è·å– cookieï¼Œåç«¯å¯ä»¥ä½¿ç”¨ req.set(â€˜set-cookieâ€™ï¼Œ â€˜â€™)è®¾ç½® cookieï¼Œåœ¨å‰ç«¯å‘é€è¯·æ±‚æ—¶é€šè¿‡ req çš„ header å­—æ®µä¸­è·å– cookie</p>
<p>åˆ©ç”¨ AJAXï¼Œå’Œ JQuery ä¸­å·²ç»å°è£…å¥½çš„ $.ajaxã€$.postã€$.getJSON é€šè¿‡åˆ›å»ºä¸€ä¸ª XMLHttpRequest å¯¹è±¡ï¼Œæ¥è¿›è¡Œå‰åç«¯äº¤äº’ã€‚</p>
<p>æœåŠ¡ç«¯æ¸²æŸ“ï¼Œæµè§ˆå™¨è¯·æ±‚åˆ°çš„å†…å®¹å¯ä»¥é€šè¿‡åç«¯åŠ å·¥ä¸€ä¸‹ï¼Œå°†æ•°æ®ç›´æ¥æ¸²æŸ“å¥½ï¼Œå†è¿”å›ç»™æµè§ˆå™¨ã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-Node-js-ä¼˜ç¼ºç‚¹ä»¥åŠé€‚ç”¨åœºæ™¯"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-Node-js-ä¼˜ç¼ºç‚¹ä»¥åŠé€‚ç”¨åœºæ™¯" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ Node.js ä¼˜ç¼ºç‚¹ä»¥åŠé€‚ç”¨åœºæ™¯"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ Node.js ä¼˜ç¼ºç‚¹ä»¥åŠé€‚ç”¨åœºæ™¯</h3><h4 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><p>Node.js é‡‡ç”¨äº‹ä»¶é©±åŠ¨ã€å¼‚æ­¥ç¼–ç¨‹ï¼Œä¸ºç½‘ç»œæœåŠ¡è€Œè®¾è®¡ã€‚ç®€å•æ˜“å­¦ï¼Œå¯ä»¥å¾ˆå¿«ä¸Šæ‰‹åšåç«¯è®¾è®¡ã€‚</p>
<p>Node.js éé˜»å¡æ¨¡å¼çš„ IO å¤„ç†ç»™ Node.js å¸¦æ¥åœ¨ç›¸å¯¹ä½ç³»ç»Ÿèµ„æºè€—ç”¨ä¸‹çš„é«˜æ€§èƒ½ä¸å‡ºä¼—çš„è´Ÿè½½èƒ½åŠ›ï¼Œéå¸¸é€‚åˆç”¨ä½œä¾èµ–å…¶å®ƒ IO èµ„æºçš„ä¸­é—´å±‚æœåŠ¡ã€‚</p>
<p>Node.js è½»é‡é«˜æ•ˆï¼Œå¯ä»¥è®¤ä¸ºæ˜¯æ•°æ®å¯†é›†å‹åˆ†å¸ƒå¼éƒ¨ç½²ç¯å¢ƒä¸‹çš„å®æ—¶åº”ç”¨ç³»ç»Ÿçš„å®Œç¾è§£å†³æ–¹æ¡ˆã€‚</p>
<h4 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><p>å•çº¿ç¨‹ï¼Œå¯é æ€§ä½ï¼Œä¸€æ—¦è¿™ä¸ªè¿›ç¨‹å´©æ‰ï¼Œé‚£ä¹ˆæ•´ä¸ª web æœåŠ¡å°±å´©æ‰äº†ã€‚</p>
<p>å¼€æºç»„ä»¶åº“è´¨é‡å‚å·®ä¸é½ï¼Œæ›´æ–°å¿«ï¼Œå‘ä¸‹ä¸å…¼å®¹</p>
<p>ä¸é€‚åˆåšä¼ä¸šçº§åº”ç”¨å¼€å‘ï¼Œç‰¹åˆ«æ˜¯å¤æ‚ä¸šåŠ¡é€»è¾‘çš„ï¼Œä»£ç ä¸å¥½ç»´æŠ¤ï¼Œäº‹åŠ¡æ”¯æŒä¸æ˜¯å¾ˆå¥½ã€‚</p>
<h4 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h4><p>å¤§é‡ Ajax è¯·æ±‚çš„åº”ç”¨ï¼Œä¾‹å¦‚ä¸ªæ€§åŒ–åº”ç”¨ï¼Œæ¯ä¸ªç”¨æˆ·çœ‹åˆ°çš„é¡µé¢éƒ½ä¸ä¸€æ ·ï¼Œéœ€è¦åœ¨é¡µé¢åŠ è½½çš„æ—¶å€™å‘èµ·Ajax è¯·æ±‚ï¼ŒNodeJS èƒ½å“åº”å¤§é‡çš„å¹¶å‘è¯·æ±‚ã€‚</p>
<p>å®æ—¶åº”ç”¨ï¼šå¦‚åœ¨çº¿èŠå¤©ï¼Œå®æ—¶é€šçŸ¥æ¨é€ç­‰ç­‰</p>
<p>å·¥å…·ç±»åº”ç”¨ï¼šæµ·é‡çš„å·¥å…·ï¼Œå°åˆ°å‰ç«¯å‹ç¼©éƒ¨ç½²ï¼Œå¤§åˆ°æ¡Œé¢å›¾å½¢ç•Œé¢åº”ç”¨ç¨‹åº</p>
<p>æ€»è€Œè¨€ä¹‹ï¼ŒNodeJS é€‚åˆè¿ç”¨åœ¨é«˜å¹¶å‘ã€I&#x2F;O å¯†é›†ã€å°‘é‡ä¸šåŠ¡é€»è¾‘çš„åœºæ™¯ã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´è¯´å¯¹-Node-ä¸­çš„-process-çš„ç†è§£ï¼Ÿæœ‰å“ªäº›å¸¸ç”¨æ–¹æ³•ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´è¯´å¯¹-Node-ä¸­çš„-process-çš„ç†è§£ï¼Ÿæœ‰å“ªäº›å¸¸ç”¨æ–¹æ³•ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´è¯´å¯¹ Node ä¸­çš„ process çš„ç†è§£ï¼Ÿæœ‰å“ªäº›å¸¸ç”¨æ–¹æ³•ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´è¯´å¯¹ Node ä¸­çš„ process çš„ç†è§£ï¼Ÿæœ‰å“ªäº›å¸¸ç”¨æ–¹æ³•ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-1"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-1" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p><code>process</code> å¯¹è±¡æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œæä¾›äº†æœ‰å…³å½“å‰ <code>Node.js </code>è¿›ç¨‹çš„ä¿¡æ¯å¹¶å¯¹å…¶è¿›è¡Œæ§åˆ¶ï¼Œä½œä¸ºä¸€ä¸ªå…¨å±€å˜é‡</p>
<p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œè¿›ç¨‹è®¡ç®—æœºç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œæ˜¯æ“ä½œç³»ç»Ÿç»“æ„çš„åŸºç¡€ï¼Œæ˜¯çº¿ç¨‹çš„å®¹å™¨</p>
<p>å½“æˆ‘ä»¬å¯åŠ¨ä¸€ä¸ª<code>js</code>æ–‡ä»¶ï¼Œå®é™…å°±æ˜¯å¼€å¯äº†ä¸€ä¸ªæœåŠ¡è¿›ç¨‹ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æ‹¥æœ‰è‡ªå·±çš„ç‹¬ç«‹ç©ºé—´åœ°å€ã€æ•°æ®æ ˆï¼Œåƒå¦ä¸€ä¸ªè¿›ç¨‹æ— æ³•è®¿é—®å½“å‰è¿›ç¨‹çš„å˜é‡ã€æ•°æ®ç»“æ„ï¼Œåªæœ‰æ•°æ®é€šä¿¡åï¼Œè¿›ç¨‹ä¹‹é—´æ‰å¯ä»¥æ•°æ®å…±äº«</p>
<p>ç”±äº<code>JavaScript</code>æ˜¯ä¸€ä¸ªå•çº¿ç¨‹è¯­è¨€ï¼Œæ‰€ä»¥é€šè¿‡<code>node xxx</code>å¯åŠ¨ä¸€ä¸ªæ–‡ä»¶åï¼Œåªæœ‰ä¸€æ¡ä¸»çº¿ç¨‹</p>
<h4 id="äºŒã€å±æ€§ä¸æ–¹æ³•"><a href="#äºŒã€å±æ€§ä¸æ–¹æ³•" class="headerlink" title="äºŒã€å±æ€§ä¸æ–¹æ³•"></a>äºŒã€å±æ€§ä¸æ–¹æ³•</h4><p>å…³äº<code>process</code>å¸¸è§çš„å±æ€§æœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>process.envï¼šç¯å¢ƒå˜é‡ï¼Œä¾‹å¦‚é€šè¿‡ &#96;process.env.NODE_ENV è·å–ä¸åŒç¯å¢ƒé¡¹ç›®é…ç½®ä¿¡æ¯</li>
<li>process.nextTickï¼šè¿™ä¸ªåœ¨è°ˆåŠ <code>EventLoop</code> æ—¶ç»å¸¸ä¸ºä¼šæåˆ°</li>
<li>process.pidï¼šè·å–å½“å‰è¿›ç¨‹id</li>
<li>process.ppidï¼šå½“å‰è¿›ç¨‹å¯¹åº”çš„çˆ¶è¿›ç¨‹</li>
<li>process.cwd()ï¼šè·å–å½“å‰è¿›ç¨‹å·¥ä½œç›®å½•ï¼Œ</li>
<li>process.platformï¼šè·å–å½“å‰è¿›ç¨‹è¿è¡Œçš„æ“ä½œç³»ç»Ÿå¹³å°</li>
<li>process.uptime()ï¼šå½“å‰è¿›ç¨‹å·²è¿è¡Œæ—¶é—´ï¼Œä¾‹å¦‚ï¼špm2 å®ˆæŠ¤è¿›ç¨‹çš„ uptime å€¼</li>
<li>è¿›ç¨‹äº‹ä»¶ï¼š process.on(â€˜uncaughtExceptionâ€™,cb) æ•è·å¼‚å¸¸ä¿¡æ¯ã€ process.on(â€˜exitâ€™,cbï¼‰è¿›ç¨‹æ¨å‡ºç›‘å¬</li>
<li>ä¸‰ä¸ªæ ‡å‡†æµï¼š process.stdout æ ‡å‡†è¾“å‡ºã€ process.stdin æ ‡å‡†è¾“å…¥ã€ process.stderr æ ‡å‡†é”™è¯¯è¾“å‡º</li>
<li>process.title æŒ‡å®šè¿›ç¨‹åç§°ï¼Œæœ‰çš„æ—¶å€™éœ€è¦ç»™è¿›ç¨‹æŒ‡å®šä¸€ä¸ªåç§°</li>
</ul>
<p>ä¸‹é¢å†ç¨å¾®ä»‹ç»ä¸‹æŸäº›æ–¹æ³•çš„ä½¿ç”¨ï¼š</p>
<h5 id="process-cwd"><a href="#process-cwd" class="headerlink" title="process.cwd()"></a>process.cwd()</h5><p>è¿”å›å½“å‰ <code>Node </code>è¿›ç¨‹æ‰§è¡Œçš„ç›®å½•</p>
<p>ä¸€ä¸ª<code> Node</code> æ¨¡å— <code>A</code> é€šè¿‡ NPM å‘å¸ƒï¼Œé¡¹ç›® <code>B</code> ä¸­ä½¿ç”¨äº†æ¨¡å— <code>A</code>ã€‚åœ¨ <code>A</code> ä¸­éœ€è¦æ“ä½œ <code>B</code> é¡¹ç›®ä¸‹çš„æ–‡ä»¶æ—¶ï¼Œå°±å¯ä»¥ç”¨ <code>process.cwd()</code> æ¥è·å– <code>B</code> é¡¹ç›®çš„è·¯å¾„</p>
<h5 id="process-argv"><a href="#process-argv" class="headerlink" title="process.argv"></a>process.argv</h5><p>åœ¨ç»ˆç«¯é€šè¿‡ Node æ‰§è¡Œå‘½ä»¤çš„æ—¶å€™ï¼Œé€šè¿‡ <code>process.argv</code> å¯ä»¥è·å–ä¼ å…¥çš„å‘½ä»¤è¡Œå‚æ•°ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªæ•°ç»„ï¼š</p>
<ul>
<li>0: Node è·¯å¾„ï¼ˆä¸€èˆ¬ç”¨ä¸åˆ°ï¼Œç›´æ¥å¿½ç•¥ï¼‰</li>
<li>1: è¢«æ‰§è¡Œçš„ JS æ–‡ä»¶è·¯å¾„ï¼ˆä¸€èˆ¬ç”¨ä¸åˆ°ï¼Œç›´æ¥å¿½ç•¥ï¼‰</li>
<li>2~n: çœŸå®ä¼ å…¥å‘½ä»¤çš„å‚æ•°</li>
</ul>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬åªè¦ä» <code>process.argv[2]</code> å¼€å§‹è·å–å°±å¥½äº†</p>
<pre><code class="ini">const args = process.argv.slice(2);
</code></pre>
<h5 id="process-env"><a href="#process-env" class="headerlink" title="process.env"></a>process.env</h5><p>è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå­˜å‚¨å½“å‰ç¯å¢ƒç›¸å…³çš„æ‰€æœ‰ä¿¡æ¯ï¼Œä¸€èˆ¬å¾ˆå°‘ç›´æ¥ç”¨åˆ°ã€‚</p>
<p>ä¸€èˆ¬æˆ‘ä»¬ä¼šåœ¨ <code>process.env</code> ä¸ŠæŒ‚è½½ä¸€äº›å˜é‡æ ‡è¯†å½“å‰çš„ç¯å¢ƒã€‚æ¯”å¦‚æœ€å¸¸è§çš„ç”¨ <code>process.env.NODE_ENV</code> åŒºåˆ† <code>development</code> å’Œ <code>production</code></p>
<p>åœ¨ <code>vue-cli</code> çš„æºç ä¸­ä¹Ÿç»å¸¸ä¼šçœ‹åˆ° <code>process.env.VUE_CLI_DEBUG</code> æ ‡è¯†å½“å‰æ˜¯ä¸æ˜¯ <code>DEBUG</code> æ¨¡å¼</p>
<h5 id="process-nextTick"><a href="#process-nextTick" class="headerlink" title="process.nextTick()"></a>process.nextTick()</h5><p>æˆ‘ä»¬çŸ¥é“<code>NodeJs</code>æ˜¯åŸºäºäº‹ä»¶è½®è¯¢ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼ŒåŒä¸€æ—¶é—´åªä¼šå¤„ç†ä¸€ä»¶äº‹æƒ…</p>
<p>åœ¨è¿™ç§å¤„ç†æ¨¡å¼ä¸‹ï¼Œ<code>process.nextTick()</code>å°±æ˜¯å®šä¹‰å‡ºä¸€ä¸ªåŠ¨ä½œï¼Œå¹¶ä¸”è®©è¿™ä¸ªåŠ¨ä½œåœ¨ä¸‹ä¸€ä¸ªäº‹ä»¶è½®è¯¢çš„æ—¶é—´ç‚¹ä¸Šæ‰§è¡Œ</p>
<p>ä¾‹å¦‚ä¸‹é¢ä¾‹å­å°†ä¸€ä¸ª<code>foo</code>å‡½æ•°åœ¨ä¸‹ä¸€ä¸ªæ—¶é—´ç‚¹è°ƒç”¨</p>
<pre><code class="js">function foo() &#123;
    console.error(&#39;foo&#39;);
&#125;

process.nextTick(foo);
console.error(&#39;bar&#39;);
</code></pre>
<p>è¾“å‡ºç»“æœä¸º<code>bar</code>ã€<code>foo</code></p>
<p>è™½ç„¶ä¸‹è¿°æ–¹å¼ä¹Ÿèƒ½å®ç°åŒæ ·æ•ˆæœï¼š</p>
<pre><code class="javascript">setTimeout(foo, 0);
console.log(&#39;bar&#39;);
</code></pre>
<p>ä¸¤è€…åŒºåˆ«åœ¨äºï¼š</p>
<ul>
<li>process.nextTick()ä¼šåœ¨è¿™ä¸€æ¬¡event loopçš„call stackæ¸…ç©ºåï¼ˆä¸‹ä¸€æ¬¡event loopå¼€å§‹å‰ï¼‰å†è°ƒç”¨callback</li>
<li>setTimeout()æ˜¯å¹¶ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™call stackæ¸…ç©ºçš„ï¼Œæ‰€ä»¥ä½•æ—¶è°ƒç”¨callbackå‡½æ•°æ˜¯ä¸ç¡®å®šçš„</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´è¯´å¯¹-Node-ä¸­çš„-fsæ¨¡å—çš„ç†è§£-æœ‰å“ªäº›å¸¸ç”¨æ–¹æ³•"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´è¯´å¯¹-Node-ä¸­çš„-fsæ¨¡å—çš„ç†è§£-æœ‰å“ªäº›å¸¸ç”¨æ–¹æ³•" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´è¯´å¯¹ Node ä¸­çš„ fsæ¨¡å—çš„ç†è§£? æœ‰å“ªäº›å¸¸ç”¨æ–¹æ³•"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´è¯´å¯¹ Node ä¸­çš„ fsæ¨¡å—çš„ç†è§£? æœ‰å“ªäº›å¸¸ç”¨æ–¹æ³•</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-2"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-2" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>fsï¼ˆfilesystemï¼‰ï¼Œè¯¥æ¨¡å—æä¾›æœ¬åœ°æ–‡ä»¶çš„è¯»å†™èƒ½åŠ›ï¼ŒåŸºæœ¬ä¸Šæ˜¯<code>POSIX</code>æ–‡ä»¶æ“ä½œå‘½ä»¤çš„ç®€å•åŒ…è£…</p>
<p>å¯ä»¥è¯´ï¼Œæ‰€æœ‰ä¸æ–‡ä»¶çš„æ“ä½œéƒ½æ˜¯é€šè¿‡<code>fs</code>æ ¸å¿ƒæ¨¡å—å®ç°</p>
<p>å¯¼å…¥æ¨¡å—å¦‚ä¸‹ï¼š</p>
<pre><code class="ini">const fs = require(&#39;fs&#39;);
</code></pre>
<p>è¿™ä¸ªæ¨¡å—å¯¹æ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿæ“ä½œæä¾›å¼‚æ­¥ï¼ˆä¸å…·æœ‰<code>sync</code> åç¼€ï¼‰å’ŒåŒæ­¥ï¼ˆå…·æœ‰ <code>sync</code> åç¼€ï¼‰ä¸¤ç§æ“ä½œæ–¹å¼ï¼Œè€Œä¾›å¼€å‘è€…é€‰æ‹©</p>
<h4 id="äºŒã€æ–‡ä»¶çŸ¥è¯†"><a href="#äºŒã€æ–‡ä»¶çŸ¥è¯†" class="headerlink" title="äºŒã€æ–‡ä»¶çŸ¥è¯†"></a>äºŒã€æ–‡ä»¶çŸ¥è¯†</h4><p>åœ¨è®¡ç®—æœºä¸­æœ‰å…³äºæ–‡ä»¶çš„çŸ¥è¯†ï¼š</p>
<ul>
<li>æƒé™ä½ mode</li>
<li>æ ‡è¯†ä½ flag</li>
<li>æ–‡ä»¶æè¿°ä¸º fd</li>
</ul>
<h5 id="æƒé™ä½-mode"><a href="#æƒé™ä½-mode" class="headerlink" title="æƒé™ä½ mode"></a>æƒé™ä½ mode</h5><p><img src="/2022/11/01/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8node/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f34663464343161302d633436622d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<p>é’ˆå¯¹æ–‡ä»¶æ‰€æœ‰è€…ã€æ–‡ä»¶æ‰€å±ç»„ã€å…¶ä»–ç”¨æˆ·è¿›è¡Œæƒé™åˆ†é…ï¼Œå…¶ä¸­ç±»å‹åˆåˆ†æˆè¯»ã€å†™å’Œæ‰§è¡Œï¼Œå…·å¤‡æƒé™ä½4ã€2ã€1ï¼Œä¸å…·å¤‡æƒé™ä¸º0</p>
<p>å¦‚åœ¨<code>linux</code>æŸ¥çœ‹æ–‡ä»¶æƒé™ä½ï¼š</p>
<pre><code class="javascript">drwxr-xr-xâ€ƒ1â€ƒPandaShenâ€ƒ197121â€ƒ0â€ƒJun 28 14:41â€ƒcore
-rw-r--r--â€ƒ1â€ƒPandaShenâ€ƒ197121â€ƒ293â€ƒJun 23 17:44â€ƒindex.md
</code></pre>
<p>åœ¨å¼€å¤´å‰åä½ä¸­ï¼Œ<code>d</code>ä¸ºæ–‡ä»¶å¤¹ï¼Œ<code>-</code>ä¸ºæ–‡ä»¶ï¼Œåä¹ä½å°±ä»£è¡¨å½“å‰ç”¨æˆ·ã€ç”¨æˆ·æ‰€å±ç»„å’Œå…¶ä»–ç”¨æˆ·çš„æƒé™ä½ï¼ŒæŒ‰æ¯ä¸‰ä½åˆ’åˆ†ï¼Œåˆ†åˆ«ä»£è¡¨è¯»ï¼ˆrï¼‰ã€å†™ï¼ˆwï¼‰å’Œæ‰§è¡Œï¼ˆxï¼‰ï¼Œ- ä»£è¡¨æ²¡æœ‰å½“å‰ä½å¯¹åº”çš„æƒé™</p>
<h5 id="æ ‡è¯†ä½"><a href="#æ ‡è¯†ä½" class="headerlink" title="æ ‡è¯†ä½"></a>æ ‡è¯†ä½</h5><p>æ ‡è¯†ä½ä»£è¡¨ç€å¯¹æ–‡ä»¶çš„æ“ä½œæ–¹å¼ï¼Œå¦‚å¯è¯»ã€å¯å†™ã€å³å¯è¯»åˆå¯å†™ç­‰ç­‰ï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>
<table>
<thead>
<tr>
<th>ç¬¦å·</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>r</td>
<td>è¯»å–æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</td>
</tr>
<tr>
<td>r+</td>
<td>è¯»å–å¹¶å†™å…¥æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</td>
</tr>
<tr>
<td>rs</td>
<td>è¯»å–å¹¶å†™å…¥æ–‡ä»¶ï¼ŒæŒ‡ç¤ºæ“ä½œç³»ç»Ÿç»•å¼€æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿç¼“å­˜ã€‚</td>
</tr>
<tr>
<td>w</td>
<td>å†™å…¥æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸å­˜åœ¨ä¼šè¢«åˆ›å»ºï¼Œå­˜åœ¨åˆ™æ¸…ç©ºåå†™å…¥ã€‚</td>
</tr>
<tr>
<td>wx</td>
<td>å†™å…¥æ–‡ä»¶ï¼Œæ’å®ƒæ–¹å¼æ‰“å¼€ã€‚</td>
</tr>
<tr>
<td>w+</td>
<td>è¯»å–å¹¶å†™å…¥æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶ï¼Œå­˜åœ¨åˆ™æ¸…ç©ºåå†™å…¥ã€‚</td>
</tr>
<tr>
<td>wx+</td>
<td>å’Œ w+ ç±»ä¼¼ï¼Œæ’ä»–æ–¹å¼æ‰“å¼€ã€‚</td>
</tr>
<tr>
<td>a</td>
<td>è¿½åŠ å†™å…¥ï¼Œæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td>ax</td>
<td>ä¸ a ç±»ä¼¼ï¼Œæ’ä»–æ–¹å¼æ‰“å¼€ã€‚</td>
</tr>
<tr>
<td>a+</td>
<td>è¯»å–å¹¶è¿½åŠ å†™å…¥ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºã€‚</td>
</tr>
<tr>
<td>ax+</td>
<td>ä¸ a+ ç±»ä¼¼ï¼Œæ’ä»–æ–¹å¼æ‰“å¼€ã€‚</td>
</tr>
</tbody></table>
<h5 id="æ–‡ä»¶æè¿°ä¸º-fd"><a href="#æ–‡ä»¶æè¿°ä¸º-fd" class="headerlink" title="æ–‡ä»¶æè¿°ä¸º fd"></a>æ–‡ä»¶æè¿°ä¸º fd</h5><p>æ“ä½œç³»ç»Ÿä¼šä¸ºæ¯ä¸ªæ‰“å¼€çš„æ–‡ä»¶åˆ†é…ä¸€ä¸ªåä¸ºæ–‡ä»¶æè¿°ç¬¦çš„æ•°å€¼æ ‡è¯†ï¼Œæ–‡ä»¶æ“ä½œä½¿ç”¨è¿™äº›æ–‡ä»¶æè¿°ç¬¦æ¥è¯†åˆ«ä¸è¿½è¸ªæ¯ä¸ªç‰¹å®šçš„æ–‡ä»¶</p>
<p><code>Window </code>ç³»ç»Ÿä½¿ç”¨äº†ä¸€ä¸ªä¸åŒä½†æ¦‚å¿µç±»ä¼¼çš„æœºåˆ¶æ¥è¿½è¸ªèµ„æºï¼Œä¸ºæ–¹ä¾¿ç”¨æˆ·ï¼Œ<code>NodeJS </code>æŠ½è±¡äº†ä¸åŒæ“ä½œç³»ç»Ÿé—´çš„å·®å¼‚ï¼Œä¸ºæ‰€æœ‰æ‰“å¼€çš„æ–‡ä»¶åˆ†é…äº†æ•°å€¼çš„æ–‡ä»¶æè¿°ç¬¦</p>
<p>åœ¨ <code>NodeJS </code>ä¸­ï¼Œæ¯æ“ä½œä¸€ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶æè¿°ç¬¦æ˜¯é€’å¢çš„ï¼Œæ–‡ä»¶æè¿°ç¬¦ä¸€èˆ¬ä» <code>3</code> å¼€å§‹ï¼Œå› ä¸ºå‰é¢æœ‰ <code>0</code>ã€<code>1</code>ã€<code>2</code>ä¸‰ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„æè¿°ç¬¦ï¼Œåˆ†åˆ«ä»£è¡¨ <code>process.stdin</code>ï¼ˆæ ‡å‡†è¾“å…¥ï¼‰ã€<code>process.stdout</code>ï¼ˆæ ‡å‡†è¾“å‡ºï¼‰å’Œ <code>process.stderr</code>ï¼ˆé”™è¯¯è¾“å‡ºï¼‰</p>
<h4 id="ä¸‰ã€æ–¹æ³•"><a href="#ä¸‰ã€æ–¹æ³•" class="headerlink" title="ä¸‰ã€æ–¹æ³•"></a>ä¸‰ã€æ–¹æ³•</h4><p>ä¸‹é¢é’ˆå¯¹<code>fs</code>æ¨¡å—å¸¸ç”¨çš„æ–¹æ³•è¿›è¡Œå±•å¼€ï¼š</p>
<ul>
<li>æ–‡ä»¶è¯»å–</li>
<li>æ–‡ä»¶å†™å…¥</li>
<li>æ–‡ä»¶è¿½åŠ å†™å…¥</li>
<li>æ–‡ä»¶æ‹·è´</li>
<li>åˆ›å»ºç›®å½•</li>
</ul>
<h5 id="æ–‡ä»¶è¯»å–"><a href="#æ–‡ä»¶è¯»å–" class="headerlink" title="æ–‡ä»¶è¯»å–"></a>æ–‡ä»¶è¯»å–</h5><h6 id="fs-readFileSync"><a href="#fs-readFileSync" class="headerlink" title="fs.readFileSync"></a>fs.readFileSync</h6><p>åŒæ­¥è¯»å–ï¼Œå‚æ•°å¦‚ä¸‹ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¯»å–æ–‡ä»¶çš„è·¯å¾„æˆ–æ–‡ä»¶æè¿°ç¬¦</li>
<li>ç¬¬äºŒä¸ªå‚æ•°ä¸º optionsï¼Œé»˜è®¤å€¼ä¸º nullï¼Œå…¶ä¸­æœ‰ encodingï¼ˆç¼–ç ï¼Œé»˜è®¤ä¸º nullï¼‰å’Œ flagï¼ˆæ ‡è¯†ä½ï¼Œé»˜è®¤ä¸º rï¼‰ï¼Œä¹Ÿå¯ç›´æ¥ä¼ å…¥ encoding</li>
</ul>
<p>ç»“æœä¸ºè¿”å›æ–‡ä»¶çš„å†…å®¹</p>
<pre><code class="javascript">const fs = require(&quot;fs&quot;);

let buf = fs.readFileSync(&quot;1.txt&quot;);
let data = fs.readFileSync(&quot;1.txt&quot;, &quot;utf8&quot;);

console.log(buf); // &lt;Buffer 48 65 6c 6c 6f&gt;
console.log(data); // Hello
</code></pre>
<h6 id="fs-readFile"><a href="#fs-readFile" class="headerlink" title="fs.readFile"></a>fs.readFile</h6><p>å¼‚æ­¥è¯»å–æ–¹æ³• <code>readFile</code> ä¸ <code>readFileSync</code> çš„å‰ä¸¤ä¸ªå‚æ•°ç›¸åŒï¼Œæœ€åä¸€ä¸ªå‚æ•°ä¸ºå›è°ƒå‡½æ•°ï¼Œå‡½æ•°å†…æœ‰ä¸¤ä¸ªå‚æ•° <code>err</code>ï¼ˆé”™è¯¯ï¼‰å’Œ <code>data</code>ï¼ˆæ•°æ®ï¼‰ï¼Œè¯¥æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ï¼Œå›è°ƒå‡½æ•°åœ¨è¯»å–æ–‡ä»¶æˆåŠŸåæ‰§è¡Œ</p>
<pre><code class="javascript">const fs = require(&quot;fs&quot;);

fs.readFile(&quot;1.txt&quot;, &quot;utf8&quot;, (err, data) =&gt; &#123;
   if(!err)&#123;
       console.log(data); // Hello
   &#125;
&#125;);
</code></pre>
<h5 id="æ–‡ä»¶å†™å…¥"><a href="#æ–‡ä»¶å†™å…¥" class="headerlink" title="æ–‡ä»¶å†™å…¥"></a>æ–‡ä»¶å†™å…¥</h5><h6 id="writeFileSync"><a href="#writeFileSync" class="headerlink" title="writeFileSync"></a>writeFileSync</h6><p>åŒæ­¥å†™å…¥ï¼Œæœ‰ä¸‰ä¸ªå‚æ•°ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå†™å…¥æ–‡ä»¶çš„è·¯å¾„æˆ–æ–‡ä»¶æè¿°ç¬¦</li>
<li>ç¬¬äºŒä¸ªå‚æ•°ä¸ºå†™å…¥çš„æ•°æ®ï¼Œç±»å‹ä¸º String æˆ– Buffer</li>
<li>ç¬¬ä¸‰ä¸ªå‚æ•°ä¸º optionsï¼Œé»˜è®¤å€¼ä¸º nullï¼Œå…¶ä¸­æœ‰ encodingï¼ˆç¼–ç ï¼Œé»˜è®¤ä¸º utf8ï¼‰ã€ flagï¼ˆæ ‡è¯†ä½ï¼Œé»˜è®¤ä¸º wï¼‰å’Œ modeï¼ˆæƒé™ä½ï¼Œé»˜è®¤ä¸º 0o666ï¼‰ï¼Œä¹Ÿå¯ç›´æ¥ä¼ å…¥ encoding</li>
</ul>
<pre><code class="javascript">const fs = require(&quot;fs&quot;);

fs.writeFileSync(&quot;2.txt&quot;, &quot;Hello world&quot;);
let data = fs.readFileSync(&quot;2.txt&quot;, &quot;utf8&quot;);

console.log(data); // Hello world
</code></pre>
<h6 id="writeFile"><a href="#writeFile" class="headerlink" title="writeFile"></a>writeFile</h6><p>å¼‚æ­¥å†™å…¥ï¼Œ<code>writeFile</code> ä¸ <code>writeFileSync</code> çš„å‰ä¸‰ä¸ªå‚æ•°ç›¸åŒï¼Œæœ€åä¸€ä¸ªå‚æ•°ä¸ºå›è°ƒå‡½æ•°ï¼Œå‡½æ•°å†…æœ‰ä¸€ä¸ªå‚æ•° <code>err</code>ï¼ˆé”™è¯¯ï¼‰ï¼Œå›è°ƒå‡½æ•°åœ¨æ–‡ä»¶å†™å…¥æ•°æ®æˆåŠŸåæ‰§è¡Œ</p>
<pre><code class="javascript">const fs = require(&quot;fs&quot;);

fs.writeFile(&quot;2.txt&quot;, &quot;Hello world&quot;, err =&gt; &#123;
    if (!err) &#123;
        fs.readFile(&quot;2.txt&quot;, &quot;utf8&quot;, (err, data) =&gt; &#123;
            console.log(data); // Hello world
        &#125;);
    &#125;
&#125;);
</code></pre>
<h5 id="æ–‡ä»¶è¿½åŠ å†™å…¥"><a href="#æ–‡ä»¶è¿½åŠ å†™å…¥" class="headerlink" title="æ–‡ä»¶è¿½åŠ å†™å…¥"></a>æ–‡ä»¶è¿½åŠ å†™å…¥</h5><h6 id="appendFileSync"><a href="#appendFileSync" class="headerlink" title="appendFileSync"></a>appendFileSync</h6><p>å‚æ•°å¦‚ä¸‹ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå†™å…¥æ–‡ä»¶çš„è·¯å¾„æˆ–æ–‡ä»¶æè¿°ç¬¦</li>
<li>ç¬¬äºŒä¸ªå‚æ•°ä¸ºå†™å…¥çš„æ•°æ®ï¼Œç±»å‹ä¸º String æˆ– Buffer</li>
<li>ç¬¬ä¸‰ä¸ªå‚æ•°ä¸º optionsï¼Œé»˜è®¤å€¼ä¸º nullï¼Œå…¶ä¸­æœ‰ encodingï¼ˆç¼–ç ï¼Œé»˜è®¤ä¸º utf8ï¼‰ã€ flagï¼ˆæ ‡è¯†ä½ï¼Œé»˜è®¤ä¸º aï¼‰å’Œ modeï¼ˆæƒé™ä½ï¼Œé»˜è®¤ä¸º 0o666ï¼‰ï¼Œä¹Ÿå¯ç›´æ¥ä¼ å…¥ encoding</li>
</ul>
<pre><code class="javascript">const fs = require(&quot;fs&quot;);

fs.appendFileSync(&quot;3.txt&quot;, &quot; world&quot;);
let data = fs.readFileSync(&quot;3.txt&quot;, &quot;utf8&quot;);
</code></pre>
<h6 id="appendFile"><a href="#appendFile" class="headerlink" title="appendFile"></a>appendFile</h6><p>å¼‚æ­¥è¿½åŠ å†™å…¥æ–¹æ³• <code>appendFile</code> ä¸ <code>appendFileSync</code> çš„å‰ä¸‰ä¸ªå‚æ•°ç›¸åŒï¼Œæœ€åä¸€ä¸ªå‚æ•°ä¸ºå›è°ƒå‡½æ•°ï¼Œå‡½æ•°å†…æœ‰ä¸€ä¸ªå‚æ•° <code>err</code>ï¼ˆé”™è¯¯ï¼‰ï¼Œå›è°ƒå‡½æ•°åœ¨æ–‡ä»¶è¿½åŠ å†™å…¥æ•°æ®æˆåŠŸåæ‰§è¡Œ</p>
<pre><code class="javascript">const fs = require(&quot;fs&quot;);

fs.appendFile(&quot;3.txt&quot;, &quot; world&quot;, err =&gt; &#123;
    if (!err) &#123;
        fs.readFile(&quot;3.txt&quot;, &quot;utf8&quot;, (err, data) =&gt; &#123;
            console.log(data); // Hello world
        &#125;);
    &#125;
&#125;);
</code></pre>
<h5 id="æ–‡ä»¶æ‹·è´"><a href="#æ–‡ä»¶æ‹·è´" class="headerlink" title="æ–‡ä»¶æ‹·è´"></a>æ–‡ä»¶æ‹·è´</h5><h6 id="copyFileSync"><a href="#copyFileSync" class="headerlink" title="copyFileSync"></a>copyFileSync</h6><p>åŒæ­¥æ‹·è´</p>
<pre><code class="javascript">const fs = require(&quot;fs&quot;);

fs.copyFileSync(&quot;3.txt&quot;, &quot;4.txt&quot;);
let data = fs.readFileSync(&quot;4.txt&quot;, &quot;utf8&quot;);

console.log(data); // Hello world
</code></pre>
<h6 id="copyFile"><a href="#copyFile" class="headerlink" title="copyFile"></a>copyFile</h6><p>å¼‚æ­¥æ‹·è´</p>
<pre><code class="javascript">const fs = require(&quot;fs&quot;);

fs.copyFile(&quot;3.txt&quot;, &quot;4.txt&quot;, () =&gt; &#123;
    fs.readFile(&quot;4.txt&quot;, &quot;utf8&quot;, (err, data) =&gt; &#123;
        console.log(data); // Hello world
    &#125;);
&#125;);
</code></pre>
<h5 id="åˆ›å»ºç›®å½•"><a href="#åˆ›å»ºç›®å½•" class="headerlink" title="åˆ›å»ºç›®å½•"></a>åˆ›å»ºç›®å½•</h5><h6 id="mkdirSync"><a href="#mkdirSync" class="headerlink" title="mkdirSync"></a>mkdirSync</h6><p>åŒæ­¥åˆ›å»ºï¼Œå‚æ•°ä¸ºä¸€ä¸ªç›®å½•çš„è·¯å¾„ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼Œåœ¨åˆ›å»ºç›®å½•çš„è¿‡ç¨‹ä¸­ï¼Œå¿…é¡»ä¿è¯ä¼ å…¥çš„è·¯å¾„å‰é¢çš„æ–‡ä»¶ç›®å½•éƒ½å­˜åœ¨ï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸</p>
<pre><code class="javascript">// å‡è®¾å·²ç»æœ‰äº† a æ–‡ä»¶å¤¹å’Œ a ä¸‹çš„ b æ–‡ä»¶å¤¹
fs.mkdirSync(&quot;a/b/c&quot;)
</code></pre>
<h6 id="mkdir"><a href="#mkdir" class="headerlink" title="mkdir"></a>mkdir</h6><p>å¼‚æ­¥åˆ›å»ºï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºå›è°ƒå‡½æ•°</p>
<pre><code class="javascript">fs.mkdir(&quot;a/b/c&quot;, err =&gt; &#123;
    if (!err) console.log(&quot;åˆ›å»ºæˆåŠŸ&quot;);
&#125;);
</code></pre>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´è¯´å¯¹-Node-ä¸­çš„-Buffer-çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´è¯´å¯¹-Node-ä¸­çš„-Buffer-çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´è¯´å¯¹ Node ä¸­çš„ Buffer çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´è¯´å¯¹ Node ä¸­çš„ Buffer çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-3"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-3" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>åœ¨<code>Node</code>åº”ç”¨ä¸­ï¼Œéœ€è¦å¤„ç†ç½‘ç»œåè®®ã€æ“ä½œæ•°æ®åº“ã€å¤„ç†å›¾ç‰‡ã€æ¥æ”¶ä¸Šä¼ æ–‡ä»¶ç­‰ï¼Œåœ¨ç½‘ç»œæµå’Œæ–‡ä»¶çš„æ“ä½œä¸­ï¼Œè¦å¤„ç†å¤§é‡äºŒè¿›åˆ¶æ•°æ®ï¼Œè€Œ<code>Buffer</code>å°±æ˜¯åœ¨å†…å­˜ä¸­å¼€è¾Ÿä¸€ç‰‡åŒºåŸŸï¼ˆåˆæ¬¡åˆå§‹åŒ–ä¸º8KBï¼‰ï¼Œç”¨æ¥å­˜æ”¾äºŒè¿›åˆ¶æ•°æ®</p>
<p>åœ¨ä¸Šè¿°æ“ä½œä¸­éƒ½ä¼šå­˜åœ¨æ•°æ®æµåŠ¨ï¼Œæ¯ä¸ªæ•°æ®æµåŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªæœ€å°æˆ–æœ€å¤§æ•°æ®é‡</p>
<p>å¦‚æœæ•°æ®åˆ°è¾¾çš„é€Ÿåº¦æ¯”è¿›ç¨‹æ¶ˆè€—çš„é€Ÿåº¦å¿«ï¼Œé‚£ä¹ˆå°‘æ•°æ—©åˆ°è¾¾çš„æ•°æ®ä¼šå¤„äºç­‰å¾…åŒºç­‰å€™è¢«å¤„ç†ã€‚åä¹‹ï¼Œå¦‚æœæ•°æ®åˆ°è¾¾çš„é€Ÿåº¦æ¯”è¿›ç¨‹æ¶ˆè€—çš„æ•°æ®æ…¢ï¼Œé‚£ä¹ˆæ—©å…ˆåˆ°è¾¾çš„æ•°æ®éœ€è¦ç­‰å¾…ä¸€å®šé‡çš„æ•°æ®åˆ°è¾¾ä¹‹åæ‰èƒ½è¢«å¤„ç†</p>
<p>è¿™é‡Œçš„ç­‰å¾…åŒºå°±æŒ‡çš„ç¼“å†²åŒºï¼ˆBufferï¼‰ï¼Œå®ƒæ˜¯è®¡ç®—æœºä¸­çš„ä¸€ä¸ªå°ç‰©ç†å•ä½ï¼Œé€šå¸¸ä½äºè®¡ç®—æœºçš„ <code>RAM</code> ä¸­</p>
<p>ç®€å•æ¥è®²ï¼Œ<code>Nodejs</code>ä¸èƒ½æ§åˆ¶æ•°æ®ä¼ è¾“çš„é€Ÿåº¦å’Œåˆ°è¾¾æ—¶é—´ï¼Œåªèƒ½å†³å®šä½•æ—¶å‘é€æ•°æ®ï¼Œå¦‚æœè¿˜æ²¡åˆ°å‘é€æ—¶é—´ï¼Œåˆ™å°†æ•°æ®æ”¾åœ¨<code>Buffer</code>ä¸­ï¼Œå³åœ¨<code>RAM</code>ä¸­ï¼Œç›´è‡³å°†å®ƒä»¬å‘é€å®Œæ¯•</p>
<p>ä¸Šé¢è®²åˆ°äº†<code>Buffer</code>æ˜¯ç”¨æ¥å­˜å‚¨äºŒè¿›åˆ¶æ•°æ®ï¼Œå…¶çš„å½¢å¼å¯ä»¥ç†è§£æˆä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ï¼Œéƒ½å¯ä»¥ä¿å­˜8ä½äºŒè¿›åˆ¶ï¼š<code>00000000</code>ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå­—èŠ‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="javascript">const buffer = Buffer.from(&quot;why&quot;)
</code></pre>
<p>å…¶å­˜å‚¨è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/01/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8node/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f32303337313235302d633639632d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<h4 id="äºŒã€ä½¿ç”¨æ–¹æ³•"><a href="#äºŒã€ä½¿ç”¨æ–¹æ³•" class="headerlink" title="äºŒã€ä½¿ç”¨æ–¹æ³•"></a>äºŒã€ä½¿ç”¨æ–¹æ³•</h4><p><code>Buffer</code> ç±»åœ¨å…¨å±€ä½œç”¨åŸŸä¸­ï¼Œæ— é¡»<code>require</code>å¯¼å…¥</p>
<p>åˆ›å»º<code>Buffer</code>çš„æ–¹æ³•æœ‰å¾ˆå¤šç§ï¼Œæˆ‘ä»¬è®²è®²ä¸‹é¢çš„ä¸¤ç§å¸¸è§çš„å½¢å¼ï¼š</p>
<ul>
<li>Buffer.from()</li>
<li>Buffer.alloc()</li>
</ul>
<h5 id="Buffer-from"><a href="#Buffer-from" class="headerlink" title="Buffer.from()"></a>Buffer.from()</h5><pre><code class="javascript">const b1 = Buffer.from(&#39;10&#39;);
const b2 = Buffer.from(&#39;10&#39;, &#39;utf8&#39;);
const b3 = Buffer.from([10]);
const b4 = Buffer.from(b3);

console.log(b1, b2, b3, b4); // &lt;Buffer 31 30&gt; &lt;Buffer 31 30&gt; &lt;Buffer 0a&gt; &lt;Buffer 0a&gt;
</code></pre>
<h5 id="Buffer-alloc"><a href="#Buffer-alloc" class="headerlink" title="Buffer.alloc()"></a>Buffer.alloc()</h5><pre><code class="javascript">const bAlloc1 = Buffer.alloc(10); // åˆ›å»ºä¸€ä¸ªå¤§å°ä¸º 10 ä¸ªå­—èŠ‚çš„ç¼“å†²åŒº
const bAlloc2 = Buffer.alloc(10, 1); // å»ºä¸€ä¸ªé•¿åº¦ä¸º 10 çš„ Buffer,å…¶ä¸­å…¨éƒ¨å¡«å……äº†å€¼ä¸º `1` çš„å­—èŠ‚
console.log(bAlloc1); // &lt;Buffer 00 00 00 00 00 00 00 00 00 00&gt;
console.log(bAlloc2); // &lt;Buffer 01 01 01 01 01 01 01 01 01 01&gt;
</code></pre>
<p>åœ¨ä¸Šé¢åˆ›å»º<code>buffer</code>åï¼Œåˆ™èƒ½å¤Ÿ<code>toString</code>çš„å½¢å¼è¿›è¡Œäº¤äº’ï¼Œé»˜è®¤æƒ…å†µä¸‹é‡‡å–<code>utf8</code>å­—ç¬¦ç¼–ç å½¢å¼ï¼Œå¦‚ä¸‹</p>
<pre><code class="javascript">const buffer = Buffer.from(&quot;ä½ å¥½&quot;);
console.log(buffer);
// &lt;Buffer e4 bd a0 e5 a5 bd&gt;
const str = buffer.toString();
console.log(str);
// ä½ å¥½
</code></pre>
<p>å¦‚æœç¼–ç ä¸è§£ç ä¸æ˜¯ç›¸åŒçš„æ ¼å¼åˆ™ä¼šå‡ºç°ä¹±ç çš„æƒ…å†µï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const buffer = Buffer.from(&quot;ä½ å¥½&quot;,&quot;utf-8 &quot;);
console.log(buffer);
// &lt;Buffer e4 bd a0 e5 a5 bd&gt;
const str = buffer.toString(&quot;ascii&quot;);
console.log(str); 
// d= e%=
</code></pre>
<p>å½“è®¾å®šçš„èŒƒå›´å¯¼è‡´å­—ç¬¦ä¸²è¢«æˆªæ–­çš„æ—¶å€™ï¼Œä¹Ÿä¼šå­˜åœ¨ä¹±ç æƒ…å†µï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const buf = Buffer.from(&#39;Node.js æŠ€æœ¯æ ˆ&#39;, &#39;UTF-8&#39;);

console.log(buf)          // &lt;Buffer 4e 6f 64 65 2e 6a 73 20 e6 8a 80 e6 9c af e6 a0 88&gt;
console.log(buf.length)   // 17

console.log(buf.toString(&#39;UTF-8&#39;, 0, 9))  // Node.js ï¿½
console.log(buf.toString(&#39;UTF-8&#39;, 0, 11)) // Node.js æŠ€
</code></pre>
<p>æ‰€æ”¯æŒçš„å­—ç¬¦é›†æœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>asciiï¼šä»…æ”¯æŒ 7 ä½ ASCII æ•°æ®ï¼Œå¦‚æœè®¾ç½®å»æ‰é«˜ä½çš„è¯ï¼Œè¿™ç§ç¼–ç æ˜¯éå¸¸å¿«çš„</li>
<li>utf8ï¼šå¤šå­—èŠ‚ç¼–ç çš„ Unicode å­—ç¬¦ï¼Œè®¸å¤šç½‘é¡µå’Œå…¶ä»–æ–‡æ¡£æ ¼å¼éƒ½ä½¿ç”¨ UTF-8</li>
<li>utf16leï¼š2 æˆ– 4 ä¸ªå­—èŠ‚ï¼Œå°å­—èŠ‚åºç¼–ç çš„ Unicode å­—ç¬¦ï¼Œæ”¯æŒä»£ç†å¯¹ï¼ˆU+10000è‡³ U+10FFFFï¼‰</li>
<li>ucs2ï¼Œutf16le çš„åˆ«å</li>
<li>base64ï¼šBase64 ç¼–ç </li>
<li>latinï¼šä¸€ç§æŠŠ Buffer ç¼–ç æˆä¸€å­—èŠ‚ç¼–ç çš„å­—ç¬¦ä¸²çš„æ–¹å¼</li>
<li>binaryï¼šlatin1 çš„åˆ«åï¼Œ</li>
<li>hexï¼šå°†æ¯ä¸ªå­—èŠ‚ç¼–ç ä¸ºä¸¤ä¸ªåå…­è¿›åˆ¶å­—ç¬¦</li>
</ul>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯-1"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-1" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p><code>Buffer</code>çš„åº”ç”¨åœºæ™¯å¸¸å¸¸ä¸æµçš„æ¦‚å¿µè”ç³»åœ¨ä¸€èµ·ï¼Œä¾‹å¦‚æœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>I&#x2F;Oæ“ä½œ</li>
<li>åŠ å¯†è§£å¯†</li>
<li>zlib.js</li>
</ul>
<h5 id="I-x2F-Oæ“ä½œ"><a href="#I-x2F-Oæ“ä½œ" class="headerlink" title="I&#x2F;Oæ“ä½œ"></a>I&#x2F;Oæ“ä½œ</h5><p>é€šè¿‡æµçš„å½¢å¼ï¼Œå°†ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹è¯»å–åˆ°å¦å¤–ä¸€ä¸ªæ–‡ä»¶</p>
<pre><code class="javascript">const fs = require(&#39;fs&#39;);

const inputStream = fs.createReadStream(&#39;input.txt&#39;); // åˆ›å»ºå¯è¯»æµ
const outputStream = fs.createWriteStream(&#39;output.txt&#39;); // åˆ›å»ºå¯å†™æµ

inputStream.pipe(outputStream); // ç®¡é“è¯»å†™
</code></pre>
<h5 id="åŠ è§£å¯†"><a href="#åŠ è§£å¯†" class="headerlink" title="åŠ è§£å¯†"></a>åŠ è§£å¯†</h5><p>åœ¨ä¸€äº›åŠ è§£å¯†ç®—æ³•ä¸­ä¼šé‡åˆ°ä½¿ç”¨ <code>Buffer</code>ï¼Œä¾‹å¦‚ <code>crypto.createCipheriv</code> çš„ç¬¬äºŒä¸ªå‚æ•° <code>key</code> ä¸º <code>string</code> æˆ– <code>Buffer</code> ç±»å‹</p>
<h5 id="zlib-js"><a href="#zlib-js" class="headerlink" title="zlib.js"></a>zlib.js</h5><p><code>zlib.js</code> ä¸º <code>Node.js</code> çš„æ ¸å¿ƒåº“ä¹‹ä¸€ï¼Œå…¶åˆ©ç”¨äº†ç¼“å†²åŒºï¼ˆ<code>Buffer</code>ï¼‰çš„åŠŸèƒ½æ¥æ“ä½œäºŒè¿›åˆ¶æ•°æ®æµï¼Œæä¾›äº†å‹ç¼©æˆ–è§£å‹åŠŸèƒ½</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´è¯´å¯¹-Node-ä¸­çš„-Stream-çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´è¯´å¯¹-Node-ä¸­çš„-Stream-çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´è¯´å¯¹ Node ä¸­çš„ Stream çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´è¯´å¯¹ Node ä¸­çš„ Stream çš„ç†è§£ï¼Ÿåº”ç”¨åœºæ™¯ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-4"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-4" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>æµï¼ˆStreamï¼‰ï¼Œæ˜¯ä¸€ä¸ªæ•°æ®ä¼ è¾“æ‰‹æ®µï¼Œæ˜¯ç«¯åˆ°ç«¯ä¿¡æ¯äº¤æ¢çš„ä¸€ç§æ–¹å¼ï¼Œè€Œä¸”æ˜¯æœ‰é¡ºåºçš„,æ˜¯é€å—è¯»å–æ•°æ®ã€å¤„ç†å†…å®¹ï¼Œç”¨äºé¡ºåºè¯»å–è¾“å…¥æˆ–å†™å…¥è¾“å‡º</p>
<p><code>Node.js</code>ä¸­å¾ˆå¤šå¯¹è±¡éƒ½å®ç°äº†æµï¼Œæ€»ä¹‹å®ƒæ˜¯ä¼šå†’æ•°æ®ï¼ˆä»¥ <code>Buffer</code> ä¸ºå•ä½ï¼‰</p>
<p>å®ƒçš„ç‹¬ç‰¹ä¹‹å¤„åœ¨äºï¼Œå®ƒä¸åƒä¼ ç»Ÿçš„ç¨‹åºé‚£æ ·ä¸€æ¬¡å°†ä¸€ä¸ªæ–‡ä»¶è¯»å…¥å†…å­˜ï¼Œè€Œæ˜¯é€å—è¯»å–æ•°æ®ã€å¤„ç†å…¶å†…å®¹ï¼Œè€Œä¸æ˜¯å°†å…¶å…¨éƒ¨ä¿å­˜åœ¨å†…å­˜ä¸­</p>
<p>æµå¯ä»¥åˆ†æˆä¸‰éƒ¨åˆ†ï¼š<code>source</code>ã€<code>dest</code>ã€<code>pipe</code></p>
<p>åœ¨<code>source</code>å’Œ<code>dest</code>ä¹‹é—´æœ‰ä¸€ä¸ªè¿æ¥çš„ç®¡é“<code>pipe</code>,å®ƒçš„åŸºæœ¬è¯­æ³•æ˜¯<code>source.pipe(dest)</code>ï¼Œ<code>source</code>å’Œ<code>dest</code>å°±æ˜¯é€šè¿‡pipeè¿æ¥ï¼Œè®©æ•°æ®ä»<code>source</code>æµå‘äº†<code>dest</code>ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/01/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8node/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f61656330353637302d633736662d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<h4 id="äºŒã€ç§ç±»"><a href="#äºŒã€ç§ç±»" class="headerlink" title="äºŒã€ç§ç±»"></a>äºŒã€ç§ç±»</h4><p>åœ¨<code>NodeJS</code>ï¼Œå‡ ä¹æ‰€æœ‰çš„åœ°æ–¹éƒ½ä½¿ç”¨åˆ°äº†æµçš„æ¦‚å¿µï¼Œåˆ†æˆå››ä¸ªç§ç±»ï¼š</p>
<ul>
<li>å¯å†™æµï¼šå¯å†™å…¥æ•°æ®çš„æµã€‚ä¾‹å¦‚ fs.createWriteStream() å¯ä»¥ä½¿ç”¨æµå°†æ•°æ®å†™å…¥æ–‡ä»¶</li>
<li>å¯è¯»æµï¼š å¯è¯»å–æ•°æ®çš„æµã€‚ä¾‹å¦‚fs.createReadStream() å¯ä»¥ä»æ–‡ä»¶è¯»å–å†…å®¹</li>
<li>åŒå·¥æµï¼š æ—¢å¯è¯»åˆå¯å†™çš„æµã€‚ä¾‹å¦‚ net.Socket</li>
<li>è½¬æ¢æµï¼š å¯ä»¥åœ¨æ•°æ®å†™å…¥å’Œè¯»å–æ—¶ä¿®æ”¹æˆ–è½¬æ¢æ•°æ®çš„æµã€‚ä¾‹å¦‚ï¼Œåœ¨æ–‡ä»¶å‹ç¼©æ“ä½œä¸­ï¼Œå¯ä»¥å‘æ–‡ä»¶å†™å…¥å‹ç¼©æ•°æ®ï¼Œå¹¶ä»æ–‡ä»¶ä¸­è¯»å–è§£å‹æ•°æ®</li>
</ul>
<p>åœ¨<code>NodeJS</code>ä¸­<code>HTTP</code>æœåŠ¡å™¨æ¨¡å—ä¸­ï¼Œ<code>request</code> æ˜¯å¯è¯»æµï¼Œ<code>response</code> æ˜¯å¯å†™æµã€‚è¿˜æœ‰<code>fs</code> æ¨¡å—ï¼Œèƒ½åŒæ—¶å¤„ç†å¯è¯»å’Œå¯å†™æ–‡ä»¶æµ</p>
<p>å¯è¯»æµå’Œå¯å†™æµéƒ½æ˜¯å•å‘çš„ï¼Œæ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œè€Œå¦å¤–ä¸¤ä¸ªæ˜¯åŒå‘çš„</p>
<h5 id="åŒå·¥æµ"><a href="#åŒå·¥æµ" class="headerlink" title="åŒå·¥æµ"></a>åŒå·¥æµ</h5><p>ä¹‹å‰äº†è§£è¿‡<code>websocket</code>é€šä¿¡ï¼Œæ˜¯ä¸€ä¸ªå…¨åŒå·¥é€šä¿¡ï¼Œå‘é€æ–¹å’Œæ¥å—æ–¹éƒ½æ˜¯å„è‡ªç‹¬ç«‹çš„æ–¹æ³•ï¼Œå‘é€å’Œæ¥æ”¶éƒ½æ²¡æœ‰ä»»ä½•å…³ç³»</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/01/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8node/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f62376163366430302d633736662d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<p>åŸºæœ¬ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const &#123; Duplex &#125; = require(&#39;stream&#39;);

const myDuplex = new Duplex(&#123;
  read(size) &#123;
    // ...
  &#125;,
  write(chunk, encoding, callback) &#123;
    // ...
  &#125;
&#125;);
</code></pre>
<h5 id="åŒå·¥æµ-1"><a href="#åŒå·¥æµ-1" class="headerlink" title="åŒå·¥æµ"></a>åŒå·¥æµ</h5><p>åŒå·¥æµçš„æ¼”ç¤ºå›¾å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/01/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8node/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f63303238383362302d633736662d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<p>é™¤äº†ä¸Šè¿°å‹ç¼©åŒ…çš„ä¾‹å­ï¼Œè¿˜æ¯”å¦‚ä¸€ä¸ª <code>babel</code>ï¼ŒæŠŠ<code>es6</code>è½¬æ¢ä¸ºï¼Œæˆ‘ä»¬åœ¨å·¦è¾¹å†™å…¥ <code>es6</code>ï¼Œä»å³è¾¹è¯»å– <code>es5</code></p>
<p>åŸºæœ¬ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="javascript">const &#123; Transform &#125; = require(&#39;stream&#39;);

const myTransform = new Transform(&#123;
  transform(chunk, encoding, callback) &#123;
    // ...
  &#125;
&#125;);
</code></pre>
<h4 id="ä¸‰ã€åº”ç”¨åœºæ™¯-2"><a href="#ä¸‰ã€åº”ç”¨åœºæ™¯-2" class="headerlink" title="ä¸‰ã€åº”ç”¨åœºæ™¯"></a>ä¸‰ã€åº”ç”¨åœºæ™¯</h4><p><code>stream</code>çš„åº”ç”¨åœºæ™¯ä¸»è¦å°±æ˜¯å¤„ç†<code>IO</code>æ“ä½œï¼Œè€Œ<code>http</code>è¯·æ±‚å’Œæ–‡ä»¶æ“ä½œéƒ½å±äº<code>IO</code>æ“ä½œ</p>
<p>æ€æƒ³ä¸€ä¸‹ï¼Œå¦‚æœä¸€æ¬¡<code>IO</code>æ“ä½œè¿‡å¤§ï¼Œç¡¬ä»¶çš„å¼€é”€å°±è¿‡å¤§ï¼Œè€Œå°†æ­¤æ¬¡å¤§çš„<code>IO</code>æ“ä½œè¿›è¡Œåˆ†æ®µæ“ä½œï¼Œè®©æ•°æ®åƒæ°´ç®¡ä¸€æ ·æµåŠ¨ï¼ŒçŸ¥é“æµåŠ¨å®Œæˆ</p>
<p>å¸¸è§çš„åœºæ™¯æœ‰ï¼š</p>
<ul>
<li>getè¯·æ±‚è¿”å›æ–‡ä»¶ç»™å®¢æˆ·ç«¯</li>
<li>æ–‡ä»¶æ“ä½œ</li>
<li>ä¸€äº›æ‰“åŒ…å·¥å…·çš„åº•å±‚æ“ä½œ</li>
</ul>
<h5 id="getè¯·æ±‚è¿”å›æ–‡ä»¶ç»™å®¢æˆ·ç«¯"><a href="#getè¯·æ±‚è¿”å›æ–‡ä»¶ç»™å®¢æˆ·ç«¯" class="headerlink" title="getè¯·æ±‚è¿”å›æ–‡ä»¶ç»™å®¢æˆ·ç«¯"></a>getè¯·æ±‚è¿”å›æ–‡ä»¶ç»™å®¢æˆ·ç«¯</h5><p>ä½¿ç”¨<code>stream</code>æµè¿”å›æ–‡ä»¶ï¼Œ<code>res</code>ä¹Ÿæ˜¯ä¸€ä¸ª<code>stream</code>å¯¹è±¡ï¼Œé€šè¿‡<code>pipe</code>ç®¡é“å°†æ–‡ä»¶æ•°æ®è¿”å›</p>
<pre><code class="javascript">const server = http.createServer(function (req, res) &#123;
    const method = req.method; // è·å–è¯·æ±‚æ–¹æ³•
    if (method === &#39;GET&#39;) &#123; // get è¯·æ±‚
        const fileName = path.resolve(__dirname, &#39;data.txt&#39;);
        let stream = fs.createReadStream(fileName);
        stream.pipe(res); // å°† res ä½œä¸º stream çš„ dest
    &#125;
&#125;);
server.listen(8000);
</code></pre>
<h5 id="æ–‡ä»¶æ“ä½œ"><a href="#æ–‡ä»¶æ“ä½œ" class="headerlink" title="æ–‡ä»¶æ“ä½œ"></a>æ–‡ä»¶æ“ä½œ</h5><p>åˆ›å»ºä¸€ä¸ªå¯è¯»æ•°æ®æµ<code>readStream</code>ï¼Œä¸€ä¸ªå¯å†™æ•°æ®æµ<code>writeStream</code>ï¼Œé€šè¿‡<code>pipe</code>ç®¡é“æŠŠæ•°æ®æµè½¬è¿‡å»</p>
<pre><code class="javascript">const fs = require(&#39;fs&#39;)
const path = require(&#39;path&#39;)

// ä¸¤ä¸ªæ–‡ä»¶å
const fileName1 = path.resolve(__dirname, &#39;data.txt&#39;)
const fileName2 = path.resolve(__dirname, &#39;data-bak.txt&#39;)
// è¯»å–æ–‡ä»¶çš„ stream å¯¹è±¡
const readStream = fs.createReadStream(fileName1)
// å†™å…¥æ–‡ä»¶çš„ stream å¯¹è±¡
const writeStream = fs.createWriteStream(fileName2)
// é€šè¿‡ pipeæ‰§è¡Œæ‹·è´ï¼Œæ•°æ®æµè½¬
readStream.pipe(writeStream)
// æ•°æ®è¯»å–å®Œæˆç›‘å¬ï¼Œå³æ‹·è´å®Œæˆ
readStream.on(&#39;end&#39;, function () &#123;
    console.log(&#39;æ‹·è´å®Œæˆ&#39;)
&#125;)
</code></pre>
<h5 id="ä¸€äº›æ‰“åŒ…å·¥å…·çš„åº•å±‚æ“ä½œ"><a href="#ä¸€äº›æ‰“åŒ…å·¥å…·çš„åº•å±‚æ“ä½œ" class="headerlink" title="ä¸€äº›æ‰“åŒ…å·¥å…·çš„åº•å±‚æ“ä½œ"></a>ä¸€äº›æ‰“åŒ…å·¥å…·çš„åº•å±‚æ“ä½œ</h5><p>ç›®å‰ä¸€äº›æ¯”è¾ƒç«çš„å‰ç«¯æ‰“åŒ…æ„å»ºå·¥å…·ï¼Œéƒ½æ˜¯é€šè¿‡<code>node.js</code>ç¼–å†™çš„ï¼Œæ‰“åŒ…å’Œæ„å»ºçš„è¿‡ç¨‹è‚¯å®šæ˜¯æ–‡ä»¶é¢‘ç¹æ“ä½œçš„è¿‡ç¨‹ï¼Œç¦»ä¸æ¥<code>stream</code>ï¼Œå¦‚<code>gulp</code></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´è¯´Nodeä¸­çš„EventEmitter-å¦‚ä½•å®ç°ä¸€ä¸ªEventEmitter"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´è¯´Nodeä¸­çš„EventEmitter-å¦‚ä½•å®ç°ä¸€ä¸ªEventEmitter" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´è¯´Nodeä¸­çš„EventEmitter? å¦‚ä½•å®ç°ä¸€ä¸ªEventEmitter?"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´è¯´Nodeä¸­çš„EventEmitter? å¦‚ä½•å®ç°ä¸€ä¸ªEventEmitter?</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-5"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-5" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>æˆ‘ä»¬äº†è§£åˆ°ï¼Œ<code>Node </code>é‡‡ç”¨äº†äº‹ä»¶é©±åŠ¨æœºåˆ¶ï¼Œè€Œ<code>EventEmitter </code>å°±æ˜¯<code>Node</code>å®ç°äº‹ä»¶é©±åŠ¨çš„åŸºç¡€</p>
<p>åœ¨<code>EventEmitter</code>çš„åŸºç¡€ä¸Šï¼Œ<code>Node </code>å‡ ä¹æ‰€æœ‰çš„æ¨¡å—éƒ½ç»§æ‰¿äº†è¿™ä¸ªç±»ï¼Œè¿™äº›æ¨¡å—æ‹¥æœ‰äº†è‡ªå·±çš„äº‹ä»¶ï¼Œå¯ä»¥ç»‘å®šï¼è§¦å‘ç›‘å¬å™¨ï¼Œå®ç°äº†å¼‚æ­¥æ“ä½œ</p>
<p><code>Node.js</code> é‡Œé¢çš„è®¸å¤šå¯¹è±¡éƒ½ä¼šåˆ†å‘äº‹ä»¶ï¼Œæ¯”å¦‚ fs.readStream å¯¹è±¡ä¼šåœ¨æ–‡ä»¶è¢«æ‰“å¼€çš„æ—¶å€™è§¦å‘ä¸€ä¸ªäº‹ä»¶</p>
<p>è¿™äº›äº§ç”Ÿäº‹ä»¶çš„å¯¹è±¡éƒ½æ˜¯ events.EventEmitter çš„å®ä¾‹ï¼Œè¿™äº›å¯¹è±¡æœ‰ä¸€ä¸ª eventEmitter.on() å‡½æ•°ï¼Œç”¨äºå°†ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°ç»‘å®šåˆ°å‘½åäº‹ä»¶ä¸Š</p>
<h4 id="äºŒã€ä½¿ç”¨æ–¹æ³•-1"><a href="#äºŒã€ä½¿ç”¨æ–¹æ³•-1" class="headerlink" title="äºŒã€ä½¿ç”¨æ–¹æ³•"></a>äºŒã€ä½¿ç”¨æ–¹æ³•</h4><p><code>Node </code>çš„<code>events</code>æ¨¡å—åªæä¾›äº†ä¸€ä¸ª<code>EventEmitter</code>ç±»ï¼Œè¿™ä¸ªç±»å®ç°äº†<code>Node</code>å¼‚æ­¥äº‹ä»¶é©±åŠ¨æ¶æ„çš„åŸºæœ¬æ¨¡å¼â€”â€”è§‚å¯Ÿè€…æ¨¡å¼</p>
<p>åœ¨è¿™ç§æ¨¡å¼ä¸­ï¼Œè¢«è§‚å¯Ÿè€…(ä¸»ä½“)ç»´æŠ¤ç€ä¸€ç»„å…¶ä»–å¯¹è±¡æ´¾æ¥(æ³¨å†Œ)çš„è§‚å¯Ÿè€…ï¼Œæœ‰æ–°çš„å¯¹è±¡å¯¹ä¸»ä½“æ„Ÿå…´è¶£å°±æ³¨å†Œè§‚å¯Ÿè€…ï¼Œä¸æ„Ÿå…´è¶£å°±å–æ¶ˆè®¢é˜…ï¼Œä¸»ä½“æœ‰æ›´æ–°çš„è¯å°±ä¾æ¬¡é€šçŸ¥è§‚å¯Ÿè€…ä»¬</p>
<p>åŸºæœ¬ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="javascript">const EventEmitter = require(&#39;events&#39;)

class MyEmitter extends EventEmitter &#123;&#125;
const myEmitter = new MyEmitter()

function callback() &#123;
    console.log(&#39;è§¦å‘äº†eventäº‹ä»¶ï¼&#39;)
&#125;
myEmitter.on(&#39;event&#39;, callback)
myEmitter.emit(&#39;event&#39;)
myEmitter.removeListener(&#39;event&#39;, callback);
</code></pre>
<p>é€šè¿‡å®ä¾‹å¯¹è±¡çš„<code>on</code>æ–¹æ³•æ³¨å†Œä¸€ä¸ªåä¸º<code>event</code>çš„äº‹ä»¶ï¼Œé€šè¿‡<code>emit</code>æ–¹æ³•è§¦å‘è¯¥äº‹ä»¶ï¼Œè€Œ<code>removeListener</code>ç”¨äºå–æ¶ˆäº‹ä»¶çš„ç›‘å¬</p>
<p>å…³äºå…¶å¸¸è§çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<ul>
<li>emitter.addListener&#x2F;on(eventName, listener) ï¼šæ·»åŠ ç±»å‹ä¸º eventName çš„ç›‘å¬äº‹ä»¶åˆ°äº‹ä»¶æ•°ç»„å°¾éƒ¨</li>
<li>emitter.prependListener(eventName, listener)ï¼šæ·»åŠ ç±»å‹ä¸º eventName çš„ç›‘å¬äº‹ä»¶åˆ°äº‹ä»¶æ•°ç»„å¤´éƒ¨</li>
<li>emitter.emit(eventName[, â€¦args])ï¼šè§¦å‘ç±»å‹ä¸º eventName çš„ç›‘å¬äº‹ä»¶</li>
<li>emitter.removeListener&#x2F;off(eventName, listener)ï¼šç§»é™¤ç±»å‹ä¸º eventName çš„ç›‘å¬äº‹ä»¶</li>
<li>emitter.once(eventName, listener)ï¼šæ·»åŠ ç±»å‹ä¸º eventName çš„ç›‘å¬äº‹ä»¶ï¼Œä»¥ååªèƒ½æ‰§è¡Œä¸€æ¬¡å¹¶åˆ é™¤</li>
<li>emitter.removeAllListeners([eventName])ï¼š ç§»é™¤å…¨éƒ¨ç±»å‹ä¸º eventName çš„ç›‘å¬äº‹ä»¶</li>
</ul>
<h4 id="ä¸‰ã€å®ç°è¿‡ç¨‹"><a href="#ä¸‰ã€å®ç°è¿‡ç¨‹" class="headerlink" title="ä¸‰ã€å®ç°è¿‡ç¨‹"></a>ä¸‰ã€å®ç°è¿‡ç¨‹</h4><p>é€šè¿‡ä¸Šé¢çš„æ–¹æ³•äº†è§£ï¼Œ<code>EventEmitter</code>æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå†…éƒ¨å­˜åœ¨ä¸€ä¸ªåŒ…å«æ‰€æœ‰äº‹ä»¶çš„å¯¹è±¡</p>
<pre><code class="javascript">class EventEmitter &#123;
    constructor() &#123;
        this.events = &#123;&#125;;
    &#125;
&#125;
</code></pre>
<p>å…¶ä¸­<code>events</code>å­˜æ”¾çš„ç›‘å¬äº‹ä»¶çš„å‡½æ•°çš„ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">&#123;
  &quot;event1&quot;: [f1,f2,f3]ï¼Œ
  &quot;event2&quot;: [f4,f5]ï¼Œ
  ...
&#125;
</code></pre>
<p>ç„¶åå¼€å§‹ä¸€æ­¥æ­¥å®ç°å®ä¾‹æ–¹æ³•ï¼Œé¦–å…ˆæ˜¯<code>emit</code>ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºäº‹ä»¶çš„ç±»å‹ï¼Œç¬¬äºŒä¸ªå‚æ•°å¼€å§‹ä¸ºè§¦å‘äº‹ä»¶å‡½æ•°çš„å‚æ•°ï¼Œå®ç°å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">emit(type, ...args) &#123;
    this.events[type].forEach((item) =&gt; &#123;
        Reflect.apply(item, this, args);
    &#125;);
&#125;
</code></pre>
<p>å½“å®ç°äº†<code>emit</code>æ–¹æ³•ä¹‹åï¼Œç„¶åå®ç°<code>on</code>ã€<code>addListener</code>ã€<code>prependListener</code>è¿™ä¸‰ä¸ªå®ä¾‹æ–¹æ³•ï¼Œéƒ½æ˜¯æ·»åŠ äº‹ä»¶ç›‘å¬è§¦å‘å‡½æ•°ï¼Œå®ç°ä¹Ÿæ˜¯å¤§åŒå°å¼‚</p>
<pre><code class="javascript">on(type, handler) &#123;
    if (!this.events[type]) &#123;
        this.events[type] = [];
    &#125;
    this.events[type].push(handler);
&#125;

addListener(type,handler)&#123;
    this.on(type,handler)
&#125;

prependListener(type, handler) &#123;
    if (!this.events[type]) &#123;
        this.events[type] = [];
    &#125;
    this.events[type].unshift(handler);
&#125;
</code></pre>
<p>ç´§æ¥ç€å°±æ˜¯å®ç°äº‹ä»¶ç›‘å¬çš„æ–¹æ³•<code>removeListener/on</code></p>
<pre><code class="javascript">removeListener(type, handler) &#123;
    if (!this.events[type]) &#123;
        return;
    &#125;
    this.events[type] = this.events[type].filter(item =&gt; item !== handler);
&#125;

off(type,handler)&#123;
    this.removeListener(type,handler)
&#125;
</code></pre>
<p>æœ€åå†æ¥å®ç°<code>once</code>æ–¹æ³•ï¼Œ å†ä¼ å…¥äº‹ä»¶ç›‘å¬å¤„ç†å‡½æ•°çš„æ—¶å€™è¿›è¡Œå°è£…ï¼Œåˆ©ç”¨é—­åŒ…çš„ç‰¹æ€§ç»´æŠ¤å½“å‰çŠ¶æ€ï¼Œé€šè¿‡<code>fired</code>å±æ€§å€¼åˆ¤æ–­äº‹ä»¶å‡½æ•°æ˜¯å¦æ‰§è¡Œè¿‡</p>
<pre><code class="javascript">once(type, handler) &#123;
    this.on(type, this._onceWrap(type, handler, this));
  &#125;

  _onceWrap(type, handler, target) &#123;
    const state = &#123; fired: false, handler, type , target&#125;;
    const wrapFn = this._onceWrapper.bind(state);
    state.wrapFn = wrapFn;
    return wrapFn;
  &#125;

  _onceWrapper(...args) &#123;
    if (!this.fired) &#123;
      this.fired = true;
      Reflect.apply(this.handler, this.target, args);
      this.target.off(this.type, this.wrapFn);
    &#125;
 &#125;
</code></pre>
<p>å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">class EventEmitter &#123;
    constructor() &#123;
        this.events = &#123;&#125;;
    &#125;

    on(type, handler) &#123;
        if (!this.events[type]) &#123;
            this.events[type] = [];
        &#125;
        this.events[type].push(handler);
    &#125;

    addListener(type,handler)&#123;
        this.on(type,handler)
    &#125;

    prependListener(type, handler) &#123;
        if (!this.events[type]) &#123;
            this.events[type] = [];
        &#125;
        this.events[type].unshift(handler);
    &#125;

    removeListener(type, handler) &#123;
        if (!this.events[type]) &#123;
            return;
        &#125;
        this.events[type] = this.events[type].filter(item =&gt; item !== handler);
    &#125;

    off(type,handler)&#123;
        this.removeListener(type,handler)
    &#125;

    emit(type, ...args) &#123;
        this.events[type].forEach((item) =&gt; &#123;
            Reflect.apply(item, this, args);
        &#125;);
    &#125;

    once(type, handler) &#123;
        this.on(type, this._onceWrap(type, handler, this));
    &#125;

    _onceWrap(type, handler, target) &#123;
        const state = &#123; fired: false, handler, type , target&#125;;
        const wrapFn = this._onceWrapper.bind(state);
        state.wrapFn = wrapFn;
        return wrapFn;
    &#125;

    _onceWrapper(...args) &#123;
        if (!this.fired) &#123;
            this.fired = true;
            Reflect.apply(this.handler, this.target, args);
            this.target.off(this.type, this.wrapFn);
        &#125;
    &#125;
&#125;
</code></pre>
<p>æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">const ee = new EventEmitter();// æ³¨å†Œæ‰€æœ‰äº‹ä»¶ee.once(&#39;wakeUp&#39;, (name) =&gt; &#123; console.log(`$&#123;name&#125; 1`); &#125;);ee.on(&#39;e
</code></pre>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´è¯´-Node-æ–‡ä»¶æŸ¥æ‰¾çš„ä¼˜å…ˆçº§ä»¥åŠ-Require-æ–¹æ³•çš„æ–‡ä»¶æŸ¥æ‰¾ç­–ç•¥"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´è¯´-Node-æ–‡ä»¶æŸ¥æ‰¾çš„ä¼˜å…ˆçº§ä»¥åŠ-Require-æ–¹æ³•çš„æ–‡ä»¶æŸ¥æ‰¾ç­–ç•¥" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´è¯´ Node æ–‡ä»¶æŸ¥æ‰¾çš„ä¼˜å…ˆçº§ä»¥åŠ Require æ–¹æ³•çš„æ–‡ä»¶æŸ¥æ‰¾ç­–ç•¥?"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´è¯´ Node æ–‡ä»¶æŸ¥æ‰¾çš„ä¼˜å…ˆçº§ä»¥åŠ Require æ–¹æ³•çš„æ–‡ä»¶æŸ¥æ‰¾ç­–ç•¥?</h3><h4 id="ä¸€ã€æ¨¡å—è§„èŒƒ"><a href="#ä¸€ã€æ¨¡å—è§„èŒƒ" class="headerlink" title="ä¸€ã€æ¨¡å—è§„èŒƒ"></a>ä¸€ã€æ¨¡å—è§„èŒƒ</h4><p><code>NodeJS</code>å¯¹<code>CommonJS</code>è¿›è¡Œäº†æ”¯æŒå’Œå®ç°ï¼Œè®©æˆ‘ä»¬åœ¨å¼€å‘<code>node</code>çš„è¿‡ç¨‹ä¸­å¯ä»¥æ–¹ä¾¿çš„è¿›è¡Œæ¨¡å—åŒ–å¼€å‘ï¼š</p>
<ul>
<li>åœ¨Nodeä¸­æ¯ä¸€ä¸ªjsæ–‡ä»¶éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„æ¨¡å—</li>
<li>æ¨¡å—ä¸­åŒ…æ‹¬CommonJSè§„èŒƒçš„æ ¸å¿ƒå˜é‡ï¼šexportsã€module.exportsã€require</li>
<li>é€šè¿‡ä¸Šè¿°å˜é‡è¿›è¡Œæ¨¡å—åŒ–å¼€å‘</li>
</ul>
<p>è€Œæ¨¡å—åŒ–çš„æ ¸å¿ƒæ˜¯å¯¼å‡ºä¸å¯¼å…¥ï¼Œåœ¨<code>Node</code>ä¸­é€šè¿‡<code>exports</code>ä¸<code>module.exports</code>è´Ÿè´£å¯¹æ¨¡å—ä¸­çš„å†…å®¹è¿›è¡Œå¯¼å‡ºï¼Œé€šè¿‡<code>require</code>å‡½æ•°å¯¼å…¥å…¶ä»–æ¨¡å—ï¼ˆè‡ªå®šä¹‰æ¨¡å—ã€ç³»ç»Ÿæ¨¡å—ã€ç¬¬ä¸‰æ–¹åº“æ¨¡å—ï¼‰ä¸­çš„å†…å®¹</p>
<h4 id="äºŒã€æŸ¥æ‰¾ç­–ç•¥"><a href="#äºŒã€æŸ¥æ‰¾ç­–ç•¥" class="headerlink" title="äºŒã€æŸ¥æ‰¾ç­–ç•¥"></a>äºŒã€æŸ¥æ‰¾ç­–ç•¥</h4><p><code>require</code>æ–¹æ³•æ¥æ”¶ä¸€ä¸‹å‡ ç§å‚æ•°çš„ä¼ é€’ï¼š</p>
<ul>
<li>åŸç”Ÿæ¨¡å—ï¼šhttpã€fsã€pathç­‰</li>
<li>ç›¸å¯¹è·¯å¾„çš„æ–‡ä»¶æ¨¡å—ï¼š.&#x2F;modæˆ–..&#x2F;mod</li>
<li>ç»å¯¹è·¯å¾„çš„æ–‡ä»¶æ¨¡å—ï¼š&#x2F;pathtomodule&#x2F;mod</li>
<li>ç›®å½•ä½œä¸ºæ¨¡å—ï¼š.&#x2F;dirname</li>
<li>éåŸç”Ÿæ¨¡å—çš„æ–‡ä»¶æ¨¡å—ï¼šmod</li>
</ul>
<p><code>require</code>å‚æ•°è¾ƒä¸ºç®€å•ï¼Œä½†æ˜¯å†…éƒ¨çš„åŠ è½½å´æ˜¯ååˆ†å¤æ‚çš„ï¼Œå…¶åŠ è½½ä¼˜å…ˆçº§ä¹Ÿå„è‡ªä¸åŒï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/2022/11/01/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8node/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f33336165386566302d633962612d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>ä»ä¸Šå›¾å¯ä»¥çœ‹è§ï¼Œæ–‡ä»¶æ¨¡å—å­˜åœ¨ç¼“å­˜åŒºï¼Œå¯»æ‰¾æ¨¡å—è·¯å¾„çš„æ—¶å€™éƒ½ä¼šä¼˜å…ˆä»ç¼“å­˜ä¸­åŠ è½½å·²ç»å­˜åœ¨çš„æ¨¡å—</p>
<h5 id="åŸç”Ÿæ¨¡å—"><a href="#åŸç”Ÿæ¨¡å—" class="headerlink" title="åŸç”Ÿæ¨¡å—"></a>åŸç”Ÿæ¨¡å—</h5><p>è€ŒåƒåŸç”Ÿæ¨¡å—è¿™äº›ï¼Œé€šè¿‡<code>require </code>æ–¹æ³•åœ¨è§£ææ–‡ä»¶åä¹‹åï¼Œä¼˜å…ˆæ£€æŸ¥æ¨¡å—æ˜¯å¦åœ¨åŸç”Ÿæ¨¡å—åˆ—è¡¨ä¸­ï¼Œå¦‚æœåœ¨åˆ™ä»åŸç”Ÿæ¨¡å—ä¸­åŠ è½½</p>
<h5 id="ç»å¯¹è·¯å¾„ã€ç›¸å¯¹è·¯å¾„"><a href="#ç»å¯¹è·¯å¾„ã€ç›¸å¯¹è·¯å¾„" class="headerlink" title="ç»å¯¹è·¯å¾„ã€ç›¸å¯¹è·¯å¾„"></a>ç»å¯¹è·¯å¾„ã€ç›¸å¯¹è·¯å¾„</h5><p>å¦‚æœ<code>require</code>ç»å¯¹è·¯å¾„çš„æ–‡ä»¶ï¼Œåˆ™ç›´æ¥æŸ¥æ‰¾å¯¹åº”çš„è·¯å¾„ï¼Œé€Ÿåº¦æœ€å¿«</p>
<p>ç›¸å¯¹è·¯å¾„çš„æ¨¡å—åˆ™ç›¸å¯¹äºå½“å‰è°ƒç”¨<code>require</code>çš„æ–‡ä»¶å»æŸ¥æ‰¾</p>
<p>å¦‚æœæŒ‰ç¡®åˆ‡çš„æ–‡ä»¶åæ²¡æœ‰æ‰¾åˆ°æ¨¡å—ï¼Œåˆ™ <code>NodeJs</code> ä¼šå°è¯•å¸¦ä¸Š <code>.js</code>ã€<code>.json </code>æˆ– <code>.node </code>æ‹“å±•åå†åŠ è½½</p>
<h5 id="ç›®å½•ä½œä¸ºæ¨¡å—"><a href="#ç›®å½•ä½œä¸ºæ¨¡å—" class="headerlink" title="ç›®å½•ä½œä¸ºæ¨¡å—"></a>ç›®å½•ä½œä¸ºæ¨¡å—</h5><p>é»˜è®¤æƒ…å†µæ˜¯æ ¹æ®æ ¹ç›®å½•ä¸­<code>package.json</code>æ–‡ä»¶çš„<code>main</code>æ¥æŒ‡å®šç›®å½•æ¨¡å—ï¼Œå¦‚ï¼š</p>
<pre><code class="javascript">&#123; &quot;name&quot; : &quot;some-library&quot;,
  &quot;main&quot; : &quot;main.js&quot; &#125;
</code></pre>
<p>å¦‚æœè¿™æ˜¯åœ¨<code>./some-library node_modules</code>ç›®å½•ä¸­ï¼Œåˆ™ <code>require(&#39;./some-library&#39;)</code> ä¼šè¯•å›¾åŠ è½½ <code>./some-library/main.js</code></p>
<p>å¦‚æœç›®å½•é‡Œæ²¡æœ‰ <code>package.json</code>æ–‡ä»¶ï¼Œæˆ–è€… <code>main</code>å…¥å£ä¸å­˜åœ¨æˆ–æ— æ³•è§£æï¼Œåˆ™ä¼šè¯•å›¾åŠ è½½ç›®å½•ä¸‹çš„ <code>index.js</code> æˆ– <code>index.node</code> æ–‡ä»¶</p>
<h5 id="éåŸç”Ÿæ¨¡å—"><a href="#éåŸç”Ÿæ¨¡å—" class="headerlink" title="éåŸç”Ÿæ¨¡å—"></a>éåŸç”Ÿæ¨¡å—</h5><p>åœ¨æ¯ä¸ªæ–‡ä»¶ä¸­éƒ½å­˜åœ¨<code>module.paths</code>ï¼Œè¡¨ç¤ºæ¨¡å—çš„æœç´¢è·¯å¾„ï¼Œ<code>require</code>å°±æ˜¯æ ¹æ®å…¶æ¥å¯»æ‰¾æ–‡ä»¶</p>
<p>åœ¨<code>window</code>ä¸‹è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">[ &#39;c:\\nodejs\\node_modules&#39;,
&#39;c:\\node_modules&#39; ]
</code></pre>
<p>å¯ä»¥çœ‹å‡º<code>module path</code>çš„ç”Ÿæˆè§„åˆ™ä¸ºï¼šä»å½“å‰æ–‡ä»¶ç›®å½•å¼€å§‹æŸ¥æ‰¾<code>node_modules</code>ç›®å½•ï¼›ç„¶åä¾æ¬¡è¿›å…¥çˆ¶ç›®å½•ï¼ŒæŸ¥æ‰¾çˆ¶ç›®å½•ä¸‹çš„<code>node_modules</code>ç›®å½•ï¼Œä¾æ¬¡è¿­ä»£ï¼Œç›´åˆ°æ ¹ç›®å½•ä¸‹çš„<code>node_modules</code>ç›®å½•</p>
<p>å½“éƒ½æ‰¾ä¸åˆ°çš„æ—¶å€™ï¼Œåˆ™ä¼šä»ç³»ç»Ÿ<code>NODE_PATH</code>ç¯å¢ƒå˜é‡æŸ¥æ‰¾</p>
<h5 id="ä¸¾ä¸ªä¾‹å­ï¼š"><a href="#ä¸¾ä¸ªä¾‹å­ï¼š" class="headerlink" title="ä¸¾ä¸ªä¾‹å­ï¼š"></a>ä¸¾ä¸ªä¾‹å­ï¼š</h5><p>å¦‚æœåœ¨<code>/home/ry/projects/foo.js</code>æ–‡ä»¶é‡Œè°ƒç”¨äº† <code>require(&#39;bar.js&#39;)</code>ï¼Œåˆ™ Node.js ä¼šæŒ‰ä»¥ä¸‹é¡ºåºæŸ¥æ‰¾ï¼š</p>
<ul>
<li>&#x2F;home&#x2F;ry&#x2F;projects&#x2F;node_modules&#x2F;bar.js</li>
<li>&#x2F;home&#x2F;ry&#x2F;node_modules&#x2F;bar.js</li>
<li>&#x2F;home&#x2F;node_modules&#x2F;bar.js</li>
<li>&#x2F;node_modules&#x2F;bar.js</li>
</ul>
<p>è¿™ä½¿å¾—ç¨‹åºæœ¬åœ°åŒ–å®ƒä»¬çš„ä¾èµ–ï¼Œé¿å…å®ƒä»¬äº§ç”Ÿå†²çª</p>
<h4 id="ä¸‰ã€æ€»ç»“"><a href="#ä¸‰ã€æ€»ç»“" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h4><p>é€šè¿‡ä¸Šé¢æ¨¡å—çš„æ–‡ä»¶æŸ¥æ‰¾ç­–ç•¥ä¹‹åï¼Œæ€»ç»“ä¸‹æ–‡ä»¶æŸ¥æ‰¾çš„ä¼˜å…ˆçº§ï¼š</p>
<ul>
<li>ç¼“å­˜çš„æ¨¡å—ä¼˜å…ˆçº§æœ€é«˜</li>
<li>å¦‚æœæ˜¯å†…ç½®æ¨¡å—ï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œä¼˜å…ˆçº§ä»…æ¬¡ç¼“å­˜çš„æ¨¡å—</li>
<li>å¦‚æœæ˜¯ç»å¯¹è·¯å¾„ &#x2F; å¼€å¤´ï¼Œåˆ™ä»æ ¹ç›®å½•æ‰¾</li>
<li>å¦‚æœæ˜¯ç›¸å¯¹è·¯å¾„ .&#x2F;å¼€å¤´ï¼Œåˆ™ä»å½“å‰requireæ–‡ä»¶ç›¸å¯¹ä½ç½®æ‰¾</li>
<li>å¦‚æœæ–‡ä»¶æ²¡æœ‰æºå¸¦åç¼€ï¼Œå…ˆä»jsã€jsonã€nodeæŒ‰é¡ºåºæŸ¥æ‰¾</li>
<li>å¦‚æœæ˜¯ç›®å½•ï¼Œåˆ™æ ¹æ® package.jsonçš„mainå±æ€§å€¼å†³å®šç›®å½•ä¸‹å…¥å£æ–‡ä»¶ï¼Œé»˜è®¤æƒ…å†µä¸º index.js</li>
<li>å¦‚æœæ–‡ä»¶ä¸ºç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œåˆ™ä¼šå¼•å…¥ node_modules æ–‡ä»¶ï¼Œå¦‚æœä¸åœ¨å½“å‰ä»“åº“æ–‡ä»¶ä¸­ï¼Œåˆ™è‡ªåŠ¨ä»ä¸Šçº§é€’å½’æŸ¥æ‰¾ï¼Œç›´åˆ°æ ¹ç›®å½•</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•å®ç°jwté‰´æƒæœºåˆ¶ï¼Ÿè¯´è¯´ä½ çš„æ€è·¯"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•å®ç°jwté‰´æƒæœºåˆ¶ï¼Ÿè¯´è¯´ä½ çš„æ€è·¯" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•å®ç°jwté‰´æƒæœºåˆ¶ï¼Ÿè¯´è¯´ä½ çš„æ€è·¯"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•å®ç°jwté‰´æƒæœºåˆ¶ï¼Ÿè¯´è¯´ä½ çš„æ€è·¯</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-6"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-6" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>JWTï¼ˆJSON Web Tokenï¼‰ï¼Œæœ¬è´¨å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ä¹¦å†™è§„èŒƒï¼Œå¦‚ä¸‹å›¾ï¼Œä½œç”¨æ˜¯ç”¨æ¥åœ¨ç”¨æˆ·å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼ é€’å®‰å…¨å¯é çš„ä¿¡æ¯</p>
<p><img src="/2022/11/01/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8node/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f30353239303463302d636438392d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<p>åœ¨ç›®å‰å‰åç«¯åˆ†ç¦»çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨<code>token</code>é‰´æƒæœºåˆ¶ç”¨äºèº«ä»½éªŒè¯æ˜¯æœ€å¸¸è§çš„æ–¹æ¡ˆï¼Œæµç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>æœåŠ¡å™¨å½“éªŒè¯ç”¨æˆ·è´¦å·å’Œå¯†ç æ­£ç¡®çš„æ—¶å€™ï¼Œç»™ç”¨æˆ·é¢å‘ä¸€ä¸ªä»¤ç‰Œï¼Œè¿™ä¸ªä»¤ç‰Œä½œä¸ºåç»­ç”¨æˆ·è®¿é—®ä¸€äº›æ¥å£çš„å‡­è¯</li>
<li>åç»­è®¿é—®ä¼šæ ¹æ®è¿™ä¸ªä»¤ç‰Œåˆ¤æ–­ç”¨æˆ·æ—¶å€™æœ‰æƒé™è¿›è¡Œè®¿é—®</li>
</ul>
<p><code>Token</code>ï¼Œåˆ†æˆäº†ä¸‰éƒ¨åˆ†ï¼Œå¤´éƒ¨ï¼ˆHeaderï¼‰ã€è½½è·ï¼ˆPayloadï¼‰ã€ç­¾åï¼ˆSignatureï¼‰ï¼Œå¹¶ä»¥<code>.</code>è¿›è¡Œæ‹¼æ¥ã€‚å…¶ä¸­å¤´éƒ¨å’Œè½½è·éƒ½æ˜¯ä»¥<code>JSON</code>æ ¼å¼å­˜æ”¾æ•°æ®ï¼Œåªæ˜¯è¿›è¡Œäº†ç¼–ç </p>
<p><img src="/2022/11/01/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8node/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f31313735663939302d636438392d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<h5 id="header"><a href="#header" class="headerlink" title="header"></a>header</h5><p>æ¯ä¸ªJWTéƒ½ä¼šå¸¦æœ‰å¤´éƒ¨ä¿¡æ¯ï¼Œè¿™é‡Œä¸»è¦å£°æ˜ä½¿ç”¨çš„ç®—æ³•ã€‚å£°æ˜ç®—æ³•çš„å­—æ®µåä¸º<code>alg</code>ï¼ŒåŒæ—¶è¿˜æœ‰ä¸€ä¸ª<code>typ</code>çš„å­—æ®µï¼Œé»˜è®¤<code>JWT</code>å³å¯ã€‚ä»¥ä¸‹ç¤ºä¾‹ä¸­ç®—æ³•ä¸ºHS256</p>
<pre><code class="javascript">&#123;  &quot;alg&quot;: &quot;HS256&quot;,  &quot;typ&quot;: &quot;JWT&quot; &#125; 
</code></pre>
<p>å› ä¸ºJWTæ˜¯å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦å¯¹ä»¥ä¸Šå†…å®¹è¿›è¡ŒBase64ç¼–ç ï¼Œç¼–ç åå­—ç¬¦ä¸²å¦‚ä¸‹ï¼š</p>
<pre><code class="ini">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9        
</code></pre>
<h5 id="payload"><a href="#payload" class="headerlink" title="payload"></a>payload</h5><p>è½½è·å³æ¶ˆæ¯ä½“ï¼Œè¿™é‡Œä¼šå­˜æ”¾å®é™…çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯<code>Token</code>çš„æ•°æ®å£°æ˜ï¼Œä¾‹å¦‚ç”¨æˆ·çš„<code>id</code>å’Œ<code>name</code>ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¹Ÿä¼šæºå¸¦ä»¤ç‰Œçš„ç­¾å‘æ—¶é—´<code>iat</code>ï¼Œé€šè¿‡è¿˜å¯ä»¥è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">&#123;
  &quot;sub&quot;: &quot;1234567890&quot;,
  &quot;name&quot;: &quot;John Doe&quot;,
  &quot;iat&quot;: 1516239022
&#125;
</code></pre>
<p>åŒæ ·è¿›è¡ŒBase64ç¼–ç åï¼Œå­—ç¬¦ä¸²å¦‚ä¸‹ï¼š</p>
<pre><code class="ini">eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ
</code></pre>
<h5 id="Signature"><a href="#Signature" class="headerlink" title="Signature"></a>Signature</h5><p>ç­¾åæ˜¯å¯¹å¤´éƒ¨å’Œè½½è·å†…å®¹è¿›è¡Œç­¾åï¼Œä¸€èˆ¬æƒ…å†µï¼Œè®¾ç½®ä¸€ä¸ª<code>secretKey</code>ï¼Œå¯¹å‰ä¸¤ä¸ªçš„ç»“æœè¿›è¡Œ<code>HMACSHA25</code>ç®—æ³•ï¼Œå…¬å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">Signature = HMACSHA256(base64Url(header)+.+base64Url(payload),secretKey)
</code></pre>
<p>ä¸€æ—¦å‰é¢ä¸¤éƒ¨åˆ†æ•°æ®è¢«ç¯¡æ”¹ï¼Œåªè¦æœåŠ¡å™¨åŠ å¯†ç”¨çš„å¯†é’¥æ²¡æœ‰æ³„éœ²ï¼Œå¾—åˆ°çš„ç­¾åè‚¯å®šå’Œä¹‹å‰çš„ç­¾åä¸ä¸€è‡´</p>
<h4 id="äºŒã€å¦‚ä½•å®ç°"><a href="#äºŒã€å¦‚ä½•å®ç°" class="headerlink" title="äºŒã€å¦‚ä½•å®ç°"></a>äºŒã€å¦‚ä½•å®ç°</h4><p><code>Token</code>çš„ä½¿ç”¨åˆ†æˆäº†ä¸¤éƒ¨åˆ†ï¼š</p>
<ul>
<li>ç”Ÿæˆtokenï¼šç™»å½•æˆåŠŸçš„æ—¶å€™ï¼Œé¢å‘token</li>
<li>éªŒè¯tokenï¼šè®¿é—®æŸäº›èµ„æºæˆ–è€…æ¥å£æ—¶ï¼ŒéªŒè¯token</li>
</ul>
<h5 id="ç”Ÿæˆ-token"><a href="#ç”Ÿæˆ-token" class="headerlink" title="ç”Ÿæˆ token"></a>ç”Ÿæˆ token</h5><p>å€ŸåŠ©ç¬¬ä¸‰æ–¹åº“<code>jsonwebtoken</code>ï¼Œé€šè¿‡<code>jsonwebtoken</code> çš„ <code>sign</code> æ–¹æ³•ç”Ÿæˆä¸€ä¸ª <code>token</code>ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡çš„æ˜¯ Payload</li>
<li>ç¬¬äºŒä¸ªæ˜¯ç§˜é’¥ï¼ŒæœåŠ¡ç«¯ç‰¹æœ‰</li>
<li>ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ optionï¼Œå¯ä»¥å®šä¹‰ token è¿‡æœŸæ—¶é—´</li>
</ul>
<pre><code class="javascript">const crypto = require(&quot;crypto&quot;),
  jwt = require(&quot;jsonwebtoken&quot;);
// TODO:ä½¿ç”¨æ•°æ®åº“
// è¿™é‡Œåº”è¯¥æ˜¯ç”¨æ•°æ®åº“å­˜å‚¨ï¼Œè¿™é‡Œåªæ˜¯æ¼”ç¤ºç”¨
let userList = [];

class UserController &#123;
  // ç”¨æˆ·ç™»å½•
  static async login(ctx) &#123;
    const data = ctx.request.body;
    if (!data.name || !data.password) &#123;
      return ctx.body = &#123;
        code: &quot;000002&quot;, 
        message: &quot;å‚æ•°ä¸åˆæ³•&quot;
      &#125;
    &#125;
    const result = userList.find(item =&gt; item.name === data.name &amp;&amp; item.password === crypto.createHash(&#39;md5&#39;).update(data.password).digest(&#39;hex&#39;))
    if (result) &#123;
      // ç”Ÿæˆtoken
      const token = jwt.sign(  
        &#123;
          name: result.name
        &#125;,
        &quot;test_token&quot;, // secret
        &#123; expiresIn: 60 * 60 &#125; // è¿‡æœŸæ—¶é—´ï¼š60 * 60 s
      );
      return ctx.body = &#123;
        code: &quot;0&quot;,
        message: &quot;ç™»å½•æˆåŠŸ&quot;,
        data: &#123;
          token
        &#125;
      &#125;;
    &#125; else &#123;
      return ctx.body = &#123;
        code: &quot;000002&quot;,
        message: &quot;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯&quot;
      &#125;;
    &#125;
  &#125;
&#125;

module.exports = UserController;
</code></pre>
<p>åœ¨å‰ç«¯æ¥æ”¶åˆ°<code>token</code>åï¼Œä¸€èˆ¬æƒ…å†µä¼šé€šè¿‡<code>localStorage</code>è¿›è¡Œç¼“å­˜ï¼Œç„¶åå°†<code>token</code>æ”¾åˆ°<code>HTTP </code>è¯·æ±‚å¤´<code>Authorization</code> ä¸­ï¼Œå…³äº<code>Authorization</code> çš„è®¾ç½®ï¼Œå‰é¢è¦åŠ ä¸Š Bearer ï¼Œæ³¨æ„åé¢å¸¦æœ‰ç©ºæ ¼</p>
<pre><code class="javascript">axios.interceptors.request.use(config =&gt; &#123;
  const token = localStorage.getItem(&#39;token&#39;);
  config.headers.common[&#39;Authorization&#39;] = &#39;Bearer &#39; + token; // ç•™æ„è¿™é‡Œçš„ Authorization
  return config;
&#125;)
</code></pre>
<h5 id="æ ¡éªŒtoken"><a href="#æ ¡éªŒtoken" class="headerlink" title="æ ¡éªŒtoken"></a>æ ¡éªŒtoken</h5><p>ä½¿ç”¨ <code>koa-jwt</code> ä¸­é—´ä»¶è¿›è¡ŒéªŒè¯ï¼Œæ–¹å¼æ¯”è¾ƒç®€å•</p>
<pre><code class="javascript">/ æ³¨æ„ï¼šæ”¾åœ¨è·¯ç”±å‰é¢
app.use(koajwt(&#123;
  secret: &#39;test_token&#39;
&#125;).unless(&#123; // é…ç½®ç™½åå•
  path: [/\/api\/register/, /\/api\/login/]
&#125;))
</code></pre>
<ul>
<li>secret å¿…é¡»å’Œ sign æ—¶å€™ä¿æŒä¸€è‡´</li>
<li>å¯ä»¥é€šè¿‡ unless é…ç½®æ¥å£ç™½åå•ï¼Œä¹Ÿå°±æ˜¯å“ªäº› URL å¯ä»¥ä¸ç”¨ç»è¿‡æ ¡éªŒï¼Œåƒç™»é™†&#x2F;æ³¨å†Œéƒ½å¯ä»¥ä¸ç”¨æ ¡éªŒ</li>
<li>æ ¡éªŒçš„ä¸­é—´ä»¶éœ€è¦æ”¾åœ¨éœ€è¦æ ¡éªŒçš„è·¯ç”±å‰é¢ï¼Œæ— æ³•å¯¹å‰é¢çš„ URL è¿›è¡Œæ ¡éªŒ</li>
</ul>
<p>è·å–<code>token</code>ç”¨æˆ·çš„ä¿¡æ¯æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">router.get(&#39;/api/userInfo&#39;,async (ctx,next) =&gt;&#123;    const authorization =  ctx.header.authorization // è·å–jwt    const token = authorization.replace(&#39;Beraer &#39;,&#39;&#39;)    const result = jwt.verify(token,&#39;test_token&#39;)    ctx.body = result
</code></pre>
<p>æ³¨æ„ï¼šä¸Šè¿°çš„<code>HMA256</code>åŠ å¯†ç®—æ³•ä¸ºå•ç§˜é’¥çš„å½¢å¼ï¼Œä¸€æ—¦æ³„éœ²åæœéå¸¸çš„å±é™©</p>
<p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œæ¯ä¸ªå­ç³»ç»Ÿéƒ½è¦è·å–åˆ°ç§˜é’¥ï¼Œé‚£ä¹ˆè¿™ä¸ªå­ç³»ç»Ÿæ ¹æ®è¯¥ç§˜é’¥å¯ä»¥å‘å¸ƒå’ŒéªŒè¯ä»¤ç‰Œï¼Œä½†æœ‰äº›æœåŠ¡å™¨åªéœ€è¦éªŒè¯ä»¤ç‰Œ</p>
<p>è¿™æ—¶å€™å¯ä»¥é‡‡ç”¨éå¯¹ç§°åŠ å¯†ï¼Œåˆ©ç”¨ç§é’¥å‘å¸ƒä»¤ç‰Œï¼Œå…¬é’¥éªŒè¯ä»¤ç‰Œï¼ŒåŠ å¯†ç®—æ³•å¯ä»¥é€‰æ‹©<code>RS256</code></p>
<h4 id="ä¸‰ã€ä¼˜ç¼ºç‚¹"><a href="#ä¸‰ã€ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¸‰ã€ä¼˜ç¼ºç‚¹"></a>ä¸‰ã€ä¼˜ç¼ºç‚¹</h4><p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>jsonå…·æœ‰é€šç”¨æ€§ï¼Œæ‰€ä»¥å¯ä»¥è·¨è¯­è¨€</li>
<li>ç»„æˆç®€å•ï¼Œå­—èŠ‚å ç”¨å°ï¼Œä¾¿äºä¼ è¾“</li>
<li>æœåŠ¡ç«¯æ— éœ€ä¿å­˜ä¼šè¯ä¿¡æ¯ï¼Œå¾ˆå®¹æ˜“è¿›è¡Œæ°´å¹³æ‰©å±•</li>
<li>ä¸€å¤„ç”Ÿæˆï¼Œå¤šå¤„ä½¿ç”¨ï¼Œå¯ä»¥åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œè§£å†³å•ç‚¹ç™»å½•é—®é¢˜</li>
<li>å¯é˜²æŠ¤CSRFæ”»å‡»</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>payloadéƒ¨åˆ†ä»…ä»…æ˜¯è¿›è¡Œç®€å•ç¼–ç ï¼Œæ‰€ä»¥åªèƒ½ç”¨äºå­˜å‚¨é€»è¾‘å¿…éœ€çš„éæ•æ„Ÿä¿¡æ¯</li>
<li>éœ€è¦ä¿æŠ¤å¥½åŠ å¯†å¯†é’¥ï¼Œä¸€æ—¦æ³„éœ²åæœä¸å ªè®¾æƒ³</li>
<li>ä¸ºé¿å…tokenè¢«åŠ«æŒï¼Œæœ€å¥½ä½¿ç”¨httpsåè®®</li>
</ul>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•å®ç°æ–‡ä»¶ä¸Šä¼ ï¼Ÿè¯´è¯´ä½ çš„æ€è·¯"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚ä½•å®ç°æ–‡ä»¶ä¸Šä¼ ï¼Ÿè¯´è¯´ä½ çš„æ€è·¯" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•å®ç°æ–‡ä»¶ä¸Šä¼ ï¼Ÿè¯´è¯´ä½ çš„æ€è·¯"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚ä½•å®ç°æ–‡ä»¶ä¸Šä¼ ï¼Ÿè¯´è¯´ä½ çš„æ€è·¯</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-7"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-7" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>æ–‡ä»¶ä¸Šä¼ åœ¨æ—¥å¸¸å¼€å‘ä¸­åº”ç”¨å¾ˆå¹¿æ³›ï¼Œæˆ‘ä»¬å‘å¾®åšã€å‘å¾®ä¿¡æœ‹å‹åœˆéƒ½ä¼šç”¨åˆ°äº†å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½</p>
<p>å› ä¸ºæµè§ˆå™¨é™åˆ¶ï¼Œæµè§ˆå™¨ä¸èƒ½ç›´æ¥æ“ä½œæ–‡ä»¶ç³»ç»Ÿçš„ï¼Œéœ€è¦é€šè¿‡æµè§ˆå™¨æ‰€æš´éœ²å‡ºæ¥çš„ç»Ÿä¸€æ¥å£ï¼Œç”±ç”¨æˆ·ä¸»åŠ¨æˆæƒå‘èµ·æ¥è®¿é—®æ–‡ä»¶åŠ¨ä½œï¼Œç„¶åè¯»å–æ–‡ä»¶å†…å®¹è¿›æŒ‡å®šå†…å­˜é‡Œï¼Œæœ€åæ‰§è¡Œæäº¤è¯·æ±‚æ“ä½œï¼Œå°†å†…å­˜é‡Œçš„æ–‡ä»¶å†…å®¹æ•°æ®ä¸Šä¼ åˆ°æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯è§£æå‰ç«¯ä¼ æ¥çš„æ•°æ®ä¿¡æ¯åå­˜å…¥æ–‡ä»¶é‡Œ</p>
<p>å¯¹äºæ–‡ä»¶ä¸Šä¼ ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®è¯·æ±‚å¤´ä¸º<code>content-type:multipart/form-data</code></p>
<blockquote>
<p>multipartäº’è”ç½‘ä¸Šçš„æ··åˆèµ„æºï¼Œå°±æ˜¯èµ„æºç”±å¤šç§å…ƒç´ ç»„æˆï¼Œform-dataè¡¨ç¤ºå¯ä»¥ä½¿ç”¨HTML Forms å’Œ POST æ–¹æ³•ä¸Šä¼ æ–‡ä»¶</p>
</blockquote>
<p>ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="http">POST /t2/upload.do HTTP/1.1
User-Agent: SOHUWapRebot
Accept-Language: zh-cn,zh;q=0.5
Accept-Charset: GBK,utf-8;q=0.7,*;q=0.7
Connection: keep-alive
Content-Length: 60408
Content-Type:multipart/form-data; boundary=ZnGpDtePMx0KrHh_G0X99Yef9r8JZsRJSXC
Host: w.sohu.com

--ZnGpDtePMx0KrHh_G0X99Yef9r8JZsRJSXC
Content-Disposition: form-data; name=&quot;city&quot;

Santa colo
--ZnGpDtePMx0KrHh_G0X99Yef9r8JZsRJSXC
Content-Disposition: form-data;name=&quot;desc&quot;
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
 
...
--ZnGpDtePMx0KrHh_G0X99Yef9r8JZsRJSXC
Content-Disposition: form-data;name=&quot;pic&quot;; filename=&quot;photo.jpg&quot;
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary
 
... binary data of the jpg ...
--ZnGpDtePMx0KrHh_G0X99Yef9r8JZsRJSXC--
</code></pre>
<p><code>boundary</code>è¡¨ç¤ºåˆ†éš”ç¬¦ï¼Œå¦‚æœè¦ä¸Šä¼ å¤šä¸ªè¡¨å•é¡¹ï¼Œå°±è¦ä½¿ç”¨<code>boundary</code>åˆ†å‰²ï¼Œæ¯ä¸ªè¡¨å•é¡¹ç”±<code>â€”â€”â€”XXX</code>å¼€å§‹ï¼Œä»¥<code>â€”â€”â€”XXX</code>ç»“å°¾</p>
<p>è€Œ<code>xxx</code>æ˜¯å³æ—¶ç”Ÿæˆçš„å­—ç¬¦ä¸²ï¼Œç”¨ä»¥ç¡®ä¿æ•´ä¸ªåˆ†éš”ç¬¦ä¸ä¼šåœ¨æ–‡ä»¶æˆ–è¡¨å•é¡¹çš„å†…å®¹ä¸­å‡ºç°</p>
<p>æ¯ä¸ªè¡¨å•é¡¹å¿…é¡»åŒ…å«ä¸€ä¸ª <code>Content-Disposition</code> å¤´ï¼Œå…¶ä»–çš„å¤´ä¿¡æ¯åˆ™ä¸ºå¯é€‰é¡¹ï¼Œ æ¯”å¦‚ <code>Content-Type</code></p>
<p><code>Content-Disposition</code> åŒ…å«äº† <code>type </code>å’Œ ä¸€ä¸ªåå­—ä¸º<code>name</code>çš„ <code>parameter</code>ï¼Œ<code>type</code> æ˜¯ <code>form-data</code>ï¼Œ<code>name </code>å‚æ•°çš„å€¼åˆ™ä¸ºè¡¨å•æ§ä»¶ï¼ˆä¹Ÿå³ fieldï¼‰çš„åå­—ï¼Œå¦‚æœæ˜¯æ–‡ä»¶ï¼Œé‚£ä¹ˆè¿˜æœ‰ä¸€ä¸ª <code>filename </code>å‚æ•°ï¼Œå€¼å°±æ˜¯æ–‡ä»¶å</p>
<pre><code class="javascript">Content-Disposition: form-data; name=&quot;user&quot;; filename=&quot;logo.png&quot;
</code></pre>
<p>è‡³äºä½¿ç”¨<code>multipart/form-data</code>ï¼Œæ˜¯å› ä¸ºæ–‡ä»¶æ˜¯ä»¥äºŒè¿›åˆ¶çš„å½¢å¼å­˜åœ¨ï¼Œå…¶ä½œç”¨æ˜¯ä¸“é—¨ç”¨äºä¼ è¾“å¤§å‹äºŒè¿›åˆ¶æ•°æ®ï¼Œæ•ˆç‡é«˜</p>
<h4 id="äºŒã€å¦‚ä½•å®ç°-1"><a href="#äºŒã€å¦‚ä½•å®ç°-1" class="headerlink" title="äºŒã€å¦‚ä½•å®ç°"></a>äºŒã€å¦‚ä½•å®ç°</h4><p>å…³äºæ–‡ä»¶çš„ä¸Šä¼ çš„ä¸Šä¼ ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†æˆä¸¤æ­¥éª¤ï¼š</p>
<ul>
<li>æ–‡ä»¶çš„ä¸Šä¼ </li>
<li>æ–‡ä»¶çš„è§£æ</li>
</ul>
<h5 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h5><p>ä¼ ç»Ÿå‰ç«¯æ–‡ä»¶ä¸Šä¼ çš„è¡¨å•ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="html">&lt;form action=&quot;http://localhost:8080/api/upload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;
    &lt;input type=&quot;file&quot; name=&quot;file&quot; id=&quot;file&quot; value=&quot;&quot; multiple=&quot;multiple&quot; /&gt;
    &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;/&gt;
&lt;/form&gt;
action` å°±æ˜¯æˆ‘ä»¬çš„æäº¤åˆ°çš„æ¥å£ï¼Œ`enctype=&quot;multipart/form-data&quot;` å°±æ˜¯æŒ‡å®šä¸Šä¼ æ–‡ä»¶æ ¼å¼ï¼Œ`input` çš„ `name` å±æ€§ä¸€å®šè¦ç­‰äº`file
</code></pre>
<h5 id="æ–‡ä»¶è§£æ"><a href="#æ–‡ä»¶è§£æ" class="headerlink" title="æ–‡ä»¶è§£æ"></a>æ–‡ä»¶è§£æ</h5><p>åœ¨æœåŠ¡å™¨ä¸­ï¼Œè¿™é‡Œé‡‡ç”¨<code>koa2</code>ä¸­é—´ä»¶çš„å½¢å¼è§£æä¸Šä¼ çš„æ–‡ä»¶æ•°æ®ï¼Œåˆ†åˆ«æœ‰ä¸‹é¢ä¸¤ç§å½¢å¼ï¼š</p>
<ul>
<li>koa-body</li>
<li>koa-multer</li>
</ul>
<h5 id="koa-body"><a href="#koa-body" class="headerlink" title="koa-body"></a>koa-body</h5><p>å®‰è£…ä¾èµ–</p>
<pre><code class="nginx">npm install koa-body
</code></pre>
<p>å¼•å…¥<code>koa-body</code>ä¸­é—´ä»¶</p>
<pre><code class="javascript">const koaBody = require(&#39;koa-body&#39;);
app.use(koaBody(&#123;
    multipart: true,
    formidable: &#123;
        maxFileSize: 200*1024*1024    // è®¾ç½®ä¸Šä¼ æ–‡ä»¶å¤§å°æœ€å¤§é™åˆ¶ï¼Œé»˜è®¤2M
    &#125;
&#125;));
</code></pre>
<p>è·å–ä¸Šä¼ çš„æ–‡ä»¶</p>
<pre><code class="javascript">const file = ctx.request.files.file; // è·å–ä¸Šä¼ æ–‡ä»¶
</code></pre>
<p>è·å–æ–‡ä»¶æ•°æ®åï¼Œå¯ä»¥é€šè¿‡<code>fs</code>æ¨¡å—å°†æ–‡ä»¶ä¿å­˜åˆ°æŒ‡å®šç›®å½•</p>
<pre><code class="javascript">router.post(&#39;/uploadfile&#39;, async (ctx, next) =&gt; &#123;
  // ä¸Šä¼ å•ä¸ªæ–‡ä»¶
  const file = ctx.request.files.file; // è·å–ä¸Šä¼ æ–‡ä»¶
  // åˆ›å»ºå¯è¯»æµ
  const reader = fs.createReadStream(file.path);
  let filePath = path.join(__dirname, &#39;public/upload/&#39;) + `/$&#123;file.name&#125;`;
  // åˆ›å»ºå¯å†™æµ
  const upStream = fs.createWriteStream(filePath);
  // å¯è¯»æµé€šè¿‡ç®¡é“å†™å…¥å¯å†™æµ
  reader.pipe(upStream);
  return ctx.body = &quot;ä¸Šä¼ æˆåŠŸï¼&quot;;
&#125;);
</code></pre>
<h5 id="koa-multer"><a href="#koa-multer" class="headerlink" title="koa-multer"></a>koa-multer</h5><p>å®‰è£…ä¾èµ–ï¼š</p>
<pre><code class="ini">npm install koa-multer
</code></pre>
<p>ä½¿ç”¨ <code>multer</code> ä¸­é—´ä»¶å®ç°æ–‡ä»¶ä¸Šä¼ </p>
<pre><code class="javascript">const storage = multer.diskStorage(&#123;  destination: (req, file, cb) =&gt; &#123;    cb(null, &quot;./upload/&quot;)  &#125;,  filename: (req, file, cb) =&gt; &#123;    cb(null, Date.now() + path.extname(file.originalname))  &#125;&#125;)
const upload = multer(&#123;  storage&#125;);
const fileRouter = new Router();
fileRouter.post(&quot;/upload&quot;, upload.single(&#39;file&#39;), (ctx, next) =&gt; &#123;  console.log(ctx.req.file); // è·å–æ–‡ä»¶&#125;)app.use(fileRouter.routes());
</code></pre>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚æœè®©ä½ æ¥è®¾è®¡ä¸€ä¸ªåˆ†é¡µåŠŸèƒ½-ä½ ä¼šæ€ä¹ˆè®¾è®¡-å‰åç«¯å¦‚ä½•äº¤äº’"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-å¦‚æœè®©ä½ æ¥è®¾è®¡ä¸€ä¸ªåˆ†é¡µåŠŸèƒ½-ä½ ä¼šæ€ä¹ˆè®¾è®¡-å‰åç«¯å¦‚ä½•äº¤äº’" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚æœè®©ä½ æ¥è®¾è®¡ä¸€ä¸ªåˆ†é¡µåŠŸèƒ½, ä½ ä¼šæ€ä¹ˆè®¾è®¡? å‰åç«¯å¦‚ä½•äº¤äº’?"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ å¦‚æœè®©ä½ æ¥è®¾è®¡ä¸€ä¸ªåˆ†é¡µåŠŸèƒ½, ä½ ä¼šæ€ä¹ˆè®¾è®¡? å‰åç«¯å¦‚ä½•äº¤äº’?</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-8"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-8" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>åœ¨æˆ‘ä»¬åšæ•°æ®æŸ¥è¯¢çš„æ—¶å€™ï¼Œå¦‚æœæ•°æ®é‡å¾ˆå¤§ï¼Œæ¯”å¦‚å‡ ä¸‡æ¡æ•°æ®ï¼Œæ”¾åœ¨ä¸€ä¸ªé¡µé¢æ˜¾ç¤ºçš„è¯æ˜¾ç„¶ä¸å‹å¥½ï¼Œè¿™æ—¶å€™å°±éœ€è¦é‡‡ç”¨åˆ†é¡µæ˜¾ç¤ºçš„å½¢å¼ï¼Œå¦‚æ¯æ¬¡åªæ˜¾ç¤º10æ¡æ•°æ®</p>
<p><img src="/2022/11/01/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8node/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f36303730653863302d636631342d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>è¦å®ç°åˆ†é¡µåŠŸèƒ½ï¼Œå®é™…ä¸Šå°±æ˜¯ä»ç»“æœé›†ä¸­æ˜¾ç¤ºç¬¬1<del>10æ¡è®°å½•ä½œä¸ºç¬¬1é¡µ,æ˜¾ç¤ºç¬¬11</del>20æ¡è®°å½•ä½œä¸ºç¬¬2é¡µï¼Œä»¥æ­¤ç±»æ¨</p>
<p>å› æ­¤ï¼Œåˆ†é¡µå®é™…ä¸Šå°±æ˜¯ä»ç»“æœé›†ä¸­æˆªå–å‡ºç¬¬M~Næ¡è®°å½•</p>
<h4 id="äºŒã€å¦‚ä½•å®ç°-2"><a href="#äºŒã€å¦‚ä½•å®ç°-2" class="headerlink" title="äºŒã€å¦‚ä½•å®ç°"></a>äºŒã€å¦‚ä½•å®ç°</h4><p>å‰ç«¯å®ç°åˆ†é¡µåŠŸèƒ½ï¼Œéœ€è¦åç«¯è¿”å›å¿…è¦çš„æ•°æ®ï¼Œå¦‚æ€»çš„é¡µæ•°ï¼Œæ€»çš„æ•°æ®é‡ï¼Œå½“å‰é¡µï¼Œå½“å‰çš„æ•°æ®</p>
<pre><code class="javascript">&#123;
 &quot;totalCount&quot;: 1836,   // æ€»çš„æ¡æ•°
 &quot;totalPages&quot;: 92,  // æ€»é¡µæ•°
 &quot;currentPage&quot;: 1   // å½“å‰é¡µæ•°
 &quot;data&quot;: [     // å½“å‰é¡µçš„æ•°æ®
   &#123;
 ...
   &#125;
]
</code></pre>
<p>åç«¯é‡‡ç”¨<code>mysql</code>ä½œä¸ºæ•°æ®çš„æŒä¹…æ€§å­˜å‚¨</p>
<p>å‰ç«¯å‘åç«¯å‘é€ç›®æ ‡çš„é¡µç <code>page</code>ä»¥åŠæ¯é¡µæ˜¾ç¤ºæ•°æ®çš„æ•°é‡<code>pageSize</code>ï¼Œé»˜è®¤æƒ…å†µæ¯æ¬¡å–10æ¡æ•°æ®ï¼Œåˆ™æ¯ä¸€æ¡æ•°æ®çš„èµ·å§‹ä½ç½®<code>start</code>ä¸ºï¼š</p>
<pre><code class="javascript">const start = (page - 1) * pageSize
</code></pre>
<p>å½“ç¡®å®šäº†<code>limit</code>å’Œ<code>start</code>çš„å€¼åï¼Œå°±èƒ½å¤Ÿç¡®å®š<code>SQL</code>è¯­å¥ï¼š</p>
<pre><code class="javascript">const sql = `SELECT * FROM record limit $&#123;pageSize&#125; OFFSET $&#123;start&#125;;`
</code></pre>
<p>ä¸Šè¯‰<code>SQL</code>è¯­å¥è¡¨è¾¾çš„æ„æ€ä¸ºï¼šæˆªå–ä»<code>start</code>åˆ°<code>start</code>+<code>pageSize</code>ä¹‹é—´ï¼ˆå·¦é—­å³å¼€ï¼‰çš„æ•°æ®</p>
<p>å…³äºæŸ¥è¯¢æ•°æ®æ€»æ•°çš„<code>SQL</code>è¯­å¥ä¸ºï¼Œ<code>record</code>ä¸ºè¡¨åï¼š</p>
<pre><code class="javascript">SELECT COUNT(*) FROM record
</code></pre>
<p>å› æ­¤åç«¯çš„å¤„ç†é€»è¾‘ä¸ºï¼š</p>
<ul>
<li>è·å–ç”¨æˆ·å‚æ•°é¡µç æ•°pageå’Œæ¯é¡µæ˜¾ç¤ºçš„æ•°ç›® pageSize ï¼Œå…¶ä¸­page æ˜¯å¿…é¡»ä¼ é€’çš„å‚æ•°ï¼ŒpageSizeä¸ºå¯é€‰å‚æ•°ï¼Œé»˜è®¤ä¸º10</li>
<li>ç¼–å†™ SQL è¯­å¥ï¼Œåˆ©ç”¨ limit å’Œ OFFSET å…³é”®å­—è¿›è¡Œåˆ†é¡µæŸ¥è¯¢</li>
<li>æŸ¥è¯¢æ•°æ®åº“ï¼Œè¿”å›æ€»æ•°æ®é‡ã€æ€»é¡µæ•°ã€å½“å‰é¡µã€å½“å‰é¡µæ•°æ®ç»™å‰ç«¯</li>
</ul>
<p>ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="javascript">router.all(&#39;/api&#39;, function (req, res, next) &#123;
  var param = &#39;&#39;;
  // è·å–å‚æ•°
  if (req.method == &quot;POST&quot;) &#123;
    param = req.body;
  &#125; else &#123;
    param = req.query || req.params;
  &#125;
  if (param.page == &#39;&#39; || param.page == null || param.page == undefined) &#123;
    res.end(JSON.stringify(&#123; msg: &#39;è¯·ä¼ å…¥å‚æ•°page&#39;, status: &#39;102&#39; &#125;));
    return;
  &#125;
  const pageSize = param.pageSize || 10;
  const start = (param.page - 1) * pageSize;
  const sql = `SELECT * FROM record limit $&#123;pageSize&#125; OFFSET $&#123;start&#125;;`
  pool.getConnection(function (err, connection) &#123;
    if (err) throw err;
    connection.query(sql, function (err, results) &#123;
      connection.release();
      if (err) &#123;
        throw err
      &#125; else &#123;
        // è®¡ç®—æ€»é¡µæ•°
        var allCount = results[0][0][&#39;COUNT(*)&#39;];
        var allPage = parseInt(allCount) / 20;
        var pageStr = allPage.toString();
        // ä¸èƒ½è¢«æ•´é™¤
        if (pageStr.indexOf(&#39;.&#39;) &gt; 0) &#123;
          allPage = parseInt(pageStr.split(&#39;.&#39;)[0]) + 1;
        &#125;
        var list = results[1];
        res.end(JSON.stringify(&#123; msg: &#39;æ“ä½œæˆåŠŸ&#39;, status: &#39;200&#39;, totalPages: allPage, currentPage: param.page, totalCount: allCount, data: list &#125;));
      &#125;
    &#125;)
  &#125;)
&#125;);
</code></pre>
<h4 id="ä¸‰ã€æ€»ç»“-1"><a href="#ä¸‰ã€æ€»ç»“-1" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h4><p>é€šè¿‡ä¸Šé¢çš„åˆ†æï¼Œå¯ä»¥çœ‹åˆ°åˆ†é¡µæŸ¥è¯¢çš„å…³é”®åœ¨äºï¼Œè¦é¦–å…ˆç¡®å®šæ¯é¡µæ˜¾ç¤ºçš„æ•°é‡<code>pageSize</code>ï¼Œç„¶åæ ¹æ®å½“å‰é¡µçš„ç´¢å¼•<code>pageIndex</code>ï¼ˆä»1å¼€å§‹ï¼‰ï¼Œç¡®å®š<code>LIMIT</code>å’Œ<code>OFFSET</code>åº”è¯¥è®¾å®šçš„å€¼ï¼š</p>
<ul>
<li>LIMIT æ€»æ˜¯è®¾å®šä¸º pageSize</li>
<li>OFFSET è®¡ç®—å…¬å¼ä¸º pageSize * (pageIndex - 1)</li>
</ul>
<p>ç¡®å®šäº†è¿™ä¸¤ä¸ªå€¼ï¼Œå°±èƒ½æŸ¥è¯¢å‡ºç¬¬ <code>N</code>é¡µçš„æ•°æ®</p>
<hr>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-koa-ä¸­é—´ä»¶çš„å®ç°åŸç†"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-koa-ä¸­é—´ä»¶çš„å®ç°åŸç†" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸  koa ä¸­é—´ä»¶çš„å®ç°åŸç†"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸  koa ä¸­é—´ä»¶çš„å®ç°åŸç†</h3><p>æ¯ä¸ªä¸­é—´ä»¶é»˜è®¤æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ Context å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ next å‡½æ•°ã€‚åªè¦è°ƒç”¨ nextå‡½æ•°ï¼Œå°±å¯ä»¥æŠŠæ‰§è¡Œæƒè½¬äº¤ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ã€‚</p>
<p>å¦‚æœä¸­é—´ä»¶å†…éƒ¨æ²¡æœ‰è°ƒç”¨ next å‡½æ•°ï¼Œé‚£ä¹ˆæ‰§è¡Œæƒå°±ä¸ä¼šä¼ é€’ä¸‹å»ã€‚</p>
<p>å¤šä¸ªä¸­é—´ä»¶ä¼šå½¢æˆä¸€ä¸ªæ ˆç»“æ„ï¼Œä»¥â€œå…ˆè¿›åå‡ºâ€çš„é¡ºåºæ‰§è¡Œã€‚æ•´ä¸ªè¿‡ç¨‹å°±åƒï¼Œå…ˆæ˜¯å…¥æ ˆï¼Œç„¶åå‡ºæ ˆçš„æ“ä½œã€‚</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å›¾ç‰‡ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„è¿‡ç¨‹"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-å›¾ç‰‡ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„è¿‡ç¨‹" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å›¾ç‰‡ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„è¿‡ç¨‹"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ å›¾ç‰‡ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„è¿‡ç¨‹</h3><h4 id="å‰ç«¯ä¸šåŠ¡"><a href="#å‰ç«¯ä¸šåŠ¡" class="headerlink" title="å‰ç«¯ä¸šåŠ¡"></a>å‰ç«¯ä¸šåŠ¡</h4><p>æ ¹æ®åå°æ¥å£å‘é€è¯·æ±‚ï¼Œå›¾ç‰‡ä½œä¸ºå‚æ•°ï¼Œéœ€è¦å¸¦ä¸Šä¸€ä¸ª name å­—æ®µ</p>
<h4 id="åå°ä¸šåŠ¡"><a href="#åå°ä¸šåŠ¡" class="headerlink" title="åå°ä¸šåŠ¡"></a>åå°ä¸šåŠ¡</h4><p>åå°æ¥æ”¶å›¾ç‰‡å¯ä»¥ä½¿ç”¨ ndoe çš„ fsã€path æ–‡ä»¶ç³»ç»ŸåŠ ä¸Š multer çš„ npm åŒ…å®ç°ã€‚ä¸»è¦æ€æƒ³æ˜¯é€šè¿‡multer åˆ›å»ºä¸€ä¸ªä¸´æ—¶ç©ºé—´ç”¨æ¥æ¥æ”¶å¹¶å­˜å‚¨å‰ç«¯å‘é€è¿‡æ¥çš„äºŒè¿›åˆ¶å›¾ç‰‡æ•°æ®ã€‚é€šè¿‡ fs æ¨¡å—è¯»å–ä¸´æ—¶ç©ºé—´çš„æ•°æ®ï¼Œå¹¶ä½¿ç”¨ pipe æ–¹æ³•æ³¨å…¥åˆ° fs æ¨¡å—åˆ›å»º path æ¨¡å—æŒ‡å‘çš„æœåŠ¡å™¨æ–‡ä»¶å¤¹ä¸‹</p>
<p>åå°ä»£ç è¯•ä¾‹ï¼Œexpress ç¯å¢ƒ</p>
<pre><code class="javascript">var express = require(&#39;express&#39;)
var router = express.Router()
var fs = require(&#39;fs&#39;)
var path = require(&#39;path&#39;)
/* ç”¨äºå¤„ç†éè¡¨å•çš„æ–‡ä»¶æ•°æ®æµ */
var multer = require(&#39;multer&#39;)
// é…ç½®æ•°æ®æµå‘çš„æ–‡ä»¶,ç»å¯¹è·¯å¾„ï¼Œç›¸å¯¹äºæ ¹ç›®å½•
var upload = multer(&#123; dest: &#39;upload/&#39; &#125;)
// åˆ›å»ºä¸€ä¸ªæ¥æ”¶ä¸ºç¼–ç çš„äºŒè¿›åˆ¶æ•°æ®æµçš„æ–¹æ³•å®ä¾‹ æ¥æ”¶ name ä¸º newimg å­—æ®µçš„ä¸Šä¼ æ–‡ä»¶ï¼Œæœ€å¤§æ¥æ”¶
ä¸º 1
var cpUpload = upload.fields([&#123; name: &#39;newimg&#39;, maxCount: 1 &#125;])
// æ¥å£
router.post(&#39;/add&#39;, cpUpload, (req, res) =&gt; &#123;
 // å‰ç«¯å‘é€è¯·æ±‚åï¼ŒæœåŠ¡å™¨å·²ç»æ¥å—åˆ°äº†å‰ç«¯ä¼ é€’è¿‡æ¥çš„å›¾ç‰‡æ•°æ®ï¼Œä¿å­˜åœ¨ files å¯¹è±¡ä¸‹
 // åŠ ä¸Š cpUploadï¼Œæ•°æ®å°±ä¼šä»è¿™ä¸ªæ–¹æ³•æ‰€è®¾ç½®çš„åœ°å€æµè¿‡æ¥ï¼Œç”Ÿæˆä¸€ä¸ªæœ¬åœ°ä¸´æ—¶ç©ºé—´ï¼Œç±»ä¼¼äºè™šæ‹Ÿ
DOM
 // è·å–è¿™æ®µæ•°æ®
 var img = req.files.newimg[0]
 
 // fs æ¨¡å—è¯»å–ä¸´æ—¶ç©ºé—´çš„æ•°æ® 
 var readStream = fs.createReadStream(img.path) 
 // è®¾ç½®å›¾ç‰‡å­˜å…¥çš„è·¯å¾„ï¼Œå¹¶ç»™æ–‡ä»¶åå‰é¢åŠ ä¸Šä¸€ä¸ªæ—¶é—´è½´ï¼Œé˜²æ­¢å‘½åé‡å¤ 
 var imgpath = `/cdn/$&#123;Date.now()&#125;-$&#123;img.originalname&#125;` 
 // åˆ›å»ºä¸€ä¸ªå†™å…¥å›¾ç‰‡æ•°æ®çš„åœ°å€ 
 var writeStram = fs.createWriteStream( path.resolve(__dirname, `../public$&#123;imgpath&#125;`) )
 // è®¾ç½®ä¸€ä¸ª pipe ç®¡é“ï¼Œå°†è¯»å–çš„æ•°æ®è§£æå¹¶æ³¨å…¥åˆ°å†™å…¥åœ°å€ 
 readStream.pipe(writeStram) 
 // ç›‘å¬æ³¨å…¥åœ°å€çš„ close äº‹ä»¶ï¼Œè¡¨ç¤ºæ³¨å…¥å®Œæ¯• 
 writeStram.on(&#39;close&#39;, () =&gt; &#123; 
   // è¿”å›ç»™å‰ç«¯ä¸€ä¸ªå›¾ç‰‡åœ°å€ 
   res.json(&#123; err: 0, msg: &#39;success&#39;, data: &#123; img: imgpath &#125; &#125;) &#125;)
   &#125;)
module.exports = router
</code></pre>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-koa-å’Œ-express-çš„åŒºåˆ«"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-koa-å’Œ-express-çš„åŒºåˆ«" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ koa å’Œ express çš„åŒºåˆ«"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ koa å’Œ express çš„åŒºåˆ«</h3><p>æœ€å¤§çš„åŒºåˆ«åœ¨äºè¯­æ³•ï¼Œexperss çš„å¼‚æ­¥é‡‡ç”¨çš„æ˜¯å›è°ƒå‡½æ•°çš„å½¢å¼ï¼Œè€Œ koa1 æ”¯æŒ generator + yeildï¼Œkoa2 æ”¯æŒ await&#x2F;asyncï¼Œæ— ç–‘æ›´åŠ ä¼˜é›…ã€‚</p>
<p>ä¸­é—´ä»¶çš„åŒºåˆ«ï¼škoa é‡‡ç”¨æ´‹è‘±æ¨¡å‹ï¼Œè¿›è¡Œé¡ºåºæ‰§è¡Œï¼Œå‡ºå»åå‘æ‰§è¡Œï¼Œæ”¯æŒ context ä¼ é€’æ•°æ® ã€‚express æœ¬èº«æ— æ´‹è‘±æ¨¡å‹ï¼Œéœ€è¦å¼•å…¥æ’ä»¶ï¼Œä¸æ”¯æŒ context express çš„ä¸­é—´ä»¶ä¸­æ‰§è¡Œå¼‚æ­¥å‡½æ•°ï¼Œæ‰§è¡Œé¡ºåºä¸ä¼šæŒ‰ç…§æ´‹è‘±æ¨¡å‹ï¼Œå¼‚æ­¥çš„æ‰§è¡Œç»“æœæœ‰å¯èƒ½è¢«æ”¾åˆ°æœ€åï¼Œresponse ä¹‹å‰ã€‚ è¿™æ˜¯ç”±äºï¼Œå…¶ä¸­é—´ä»¶æ‰§è¡Œæœºåˆ¶ï¼Œé€’å½’å›è°ƒä¸­æ²¡æœ‰ç­‰å¾…ä¸­é—´ä»¶ä¸­çš„å¼‚æ­¥å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œå°±æ˜¯æ²¡æœ‰ await ä¸­é—´ä»¶å¼‚æ­¥å‡½æ•°</p>
<p>é›†æˆåº¦åŒºåˆ«ï¼šexpress å†…ç½®äº†å¾ˆå¤šä¸­é—´ä»¶ï¼Œé›†æˆåº¦é«˜ï¼Œä½¿ç”¨çœå¿ƒï¼Œ koa è½»é‡ç®€æ´ï¼Œå®¹æ˜“å®šåˆ¶</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-äº†è§£-eggjs-å—ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-äº†è§£-eggjs-å—ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ äº†è§£ eggjs å—ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ äº†è§£ eggjs å—ï¼Ÿ</h3><p>eggjs çš„ç‰¹æ€§ æä¾›åŸºäº Egg å®šåˆ¶ä¸Šå±‚æ¡†æ¶çš„èƒ½åŠ› é«˜åº¦å¯æ‰©å±•çš„æ’ä»¶æœºåˆ¶ å†…ç½®å¤šè¿›ç¨‹ç®¡ç† åŸºäº Koa å¼€å‘ï¼Œæ€§èƒ½ä¼˜å¼‚ æ¡†æ¶ç¨³å®šï¼Œæµ‹è¯•è¦†ç›–ç‡é«˜ æ¸è¿›å¼å¼€å‘</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´è¯´å¯¹Nodejsä¸­çš„äº‹ä»¶å¾ªç¯æœºåˆ¶ç†è§£"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´è¯´å¯¹Nodejsä¸­çš„äº‹ä»¶å¾ªç¯æœºåˆ¶ç†è§£" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´è¯´å¯¹Nodejsä¸­çš„äº‹ä»¶å¾ªç¯æœºåˆ¶ç†è§£?"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´è¯´å¯¹Nodejsä¸­çš„äº‹ä»¶å¾ªç¯æœºåˆ¶ç†è§£?</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-9"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-9" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>åœ¨æµè§ˆå™¨äº‹ä»¶å¾ªç¯ä¸­ï¼Œæˆ‘ä»¬äº†è§£åˆ°<code>javascript</code>åœ¨æµè§ˆå™¨ä¸­çš„äº‹ä»¶å¾ªç¯æœºåˆ¶ï¼Œå…¶æ˜¯æ ¹æ®<code>HTML5</code>å®šä¹‰çš„è§„èŒƒæ¥å®ç°</p>
<p>è€Œåœ¨<code>NodeJS</code>ä¸­ï¼Œäº‹ä»¶å¾ªç¯æ˜¯åŸºäº<code>libuv</code>å®ç°ï¼Œ<code>libuv</code>æ˜¯ä¸€ä¸ªå¤šå¹³å°çš„ä¸“æ³¨äºå¼‚æ­¥IOçš„åº“ï¼Œå¦‚ä¸‹å›¾æœ€å³ä¾§æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/01/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8node/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f65613639306239302d633930652d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>ä¸Šå›¾<code>EVENT_QUEUE</code> ç»™äººçœ‹èµ·æ¥åªæœ‰ä¸€ä¸ªé˜Ÿåˆ—ï¼Œä½†<code>EventLoop</code>å­˜åœ¨6ä¸ªé˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰å¯¹åº”çš„ä¸€ä¸ªå…ˆè¿›å…ˆå‡ºçš„å›è°ƒé˜Ÿåˆ—</p>
<h4 id="äºŒã€æµç¨‹"><a href="#äºŒã€æµç¨‹" class="headerlink" title="äºŒã€æµç¨‹"></a>äºŒã€æµç¨‹</h4><p>ä¸ŠèŠ‚è®²åˆ°äº‹ä»¶å¾ªç¯åˆ†æˆäº†å…­ä¸ªé˜¶æ®µï¼Œå¯¹åº”å¦‚ä¸‹ï¼š</p>
<p><img src="/2022/11/01/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8node/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f66326533346438302d633930652d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<ul>
<li>timersé˜¶æ®µï¼šè¿™ä¸ªé˜¶æ®µæ‰§è¡Œtimerï¼ˆsetTimeoutã€setIntervalï¼‰çš„å›è°ƒ</li>
<li>å®šæ—¶å™¨æ£€æµ‹é˜¶æ®µ(timers)ï¼šæœ¬é˜¶æ®µæ‰§è¡Œ timer çš„å›è°ƒï¼Œå³ setTimeoutã€setInterval é‡Œé¢çš„å›è°ƒå‡½æ•°</li>
<li>I&#x2F;Oäº‹ä»¶å›è°ƒé˜¶æ®µ(I&#x2F;O callbacks)ï¼šæ‰§è¡Œå»¶è¿Ÿåˆ°ä¸‹ä¸€ä¸ªå¾ªç¯è¿­ä»£çš„ I&#x2F;O å›è°ƒï¼Œå³ä¸Šä¸€è½®å¾ªç¯ä¸­æœªè¢«æ‰§è¡Œçš„ä¸€äº›I&#x2F;Oå›è°ƒ</li>
<li>é—²ç½®é˜¶æ®µ(idle, prepare)ï¼šä»…ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨</li>
<li>è½®è¯¢é˜¶æ®µ(poll)ï¼šæ£€ç´¢æ–°çš„ I&#x2F;O äº‹ä»¶;æ‰§è¡Œä¸ I&#x2F;O ç›¸å…³çš„å›è°ƒï¼ˆå‡ ä¹æ‰€æœ‰æƒ…å†µä¸‹ï¼Œé™¤äº†å…³é—­çš„å›è°ƒå‡½æ•°ï¼Œé‚£äº›ç”±è®¡æ—¶å™¨å’Œ setImmediate() è°ƒåº¦çš„ä¹‹å¤–ï¼‰ï¼Œå…¶ä½™æƒ…å†µ node å°†åœ¨é€‚å½“çš„æ—¶å€™åœ¨æ­¤é˜»å¡</li>
<li>æ£€æŸ¥é˜¶æ®µ(check)ï¼šsetImmediate() å›è°ƒå‡½æ•°åœ¨è¿™é‡Œæ‰§è¡Œ</li>
<li>å…³é—­äº‹ä»¶å›è°ƒé˜¶æ®µ(close callback)ï¼šä¸€äº›å…³é—­çš„å›è°ƒå‡½æ•°ï¼Œå¦‚ï¼šsocket.on(â€˜closeâ€™, â€¦)</li>
</ul>
<p>æ¯ä¸ªé˜¶æ®µå¯¹åº”ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå½“äº‹ä»¶å¾ªç¯è¿›å…¥æŸä¸ªé˜¶æ®µæ—¶, å°†ä¼šåœ¨è¯¥é˜¶æ®µå†…æ‰§è¡Œå›è°ƒï¼Œç›´åˆ°é˜Ÿåˆ—è€—å°½æˆ–è€…å›è°ƒçš„æœ€å¤§æ•°é‡å·²æ‰§è¡Œ, é‚£ä¹ˆå°†è¿›å…¥ä¸‹ä¸€ä¸ªå¤„ç†é˜¶æ®µ</p>
<p>é™¤äº†ä¸Šè¿°6ä¸ªé˜¶æ®µï¼Œè¿˜å­˜åœ¨<code>process.nextTick</code>ï¼Œå…¶ä¸å±äºäº‹ä»¶å¾ªç¯çš„ä»»ä½•ä¸€ä¸ªé˜¶æ®µï¼Œå®ƒå±äºè¯¥é˜¶æ®µä¸ä¸‹é˜¶æ®µä¹‹é—´çš„è¿‡æ¸¡, å³æœ¬é˜¶æ®µæ‰§è¡Œç»“æŸ, è¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µå‰, æ‰€è¦æ‰§è¡Œçš„å›è°ƒï¼Œç±»ä¼¼æ’é˜Ÿ</p>
<p>æµç¨‹å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="/2022/11/01/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8node/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f66626537333164302d633930652d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<p>åœ¨<code>Node</code>ä¸­ï¼ŒåŒæ ·å­˜åœ¨å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ï¼Œä¸æµè§ˆå™¨ä¸­çš„äº‹ä»¶å¾ªç¯ç›¸ä¼¼</p>
<p>å¾®ä»»åŠ¡å¯¹åº”æœ‰ï¼š</p>
<ul>
<li>next tick queueï¼šprocess.nextTick</li>
<li>other queueï¼šPromiseçš„thenå›è°ƒã€queueMicrotask</li>
</ul>
<p>å®ä»»åŠ¡å¯¹åº”æœ‰ï¼š</p>
<ul>
<li>timer queueï¼šsetTimeoutã€setInterval</li>
<li>poll queueï¼šIOäº‹ä»¶</li>
<li>check queueï¼šsetImmediate</li>
<li>close queueï¼šcloseäº‹ä»¶</li>
</ul>
<p>å…¶æ‰§è¡Œé¡ºåºä¸ºï¼š</p>
<ul>
<li>next tick microtask queue</li>
<li>other microtask queue</li>
<li>timer queue</li>
<li>poll queue</li>
<li>check queue</li>
<li>close queue</li>
</ul>
<h4 id="ä¸‰ã€é¢˜ç›®"><a href="#ä¸‰ã€é¢˜ç›®" class="headerlink" title="ä¸‰ã€é¢˜ç›®"></a>ä¸‰ã€é¢˜ç›®</h4><p>é€šè¿‡ä¸Šé¢çš„å­¦ä¹ ï¼Œä¸‹é¢å¼€å§‹çœ‹çœ‹é¢˜ç›®</p>
<pre><code class="javascript">async function async1() &#123;
    console.log(&#39;async1 start&#39;)
    await async2()
    console.log(&#39;async1 end&#39;)
&#125;

async function async2() &#123;
    console.log(&#39;async2&#39;)
&#125;

console.log(&#39;script start&#39;)

setTimeout(function () &#123;
    console.log(&#39;setTimeout0&#39;)
&#125;, 0)

setTimeout(function () &#123;
    console.log(&#39;setTimeout2&#39;)
&#125;, 300)

setImmediate(() =&gt; console.log(&#39;setImmediate&#39;));

process.nextTick(() =&gt; console.log(&#39;nextTick1&#39;));

async1();

process.nextTick(() =&gt; console.log(&#39;nextTick2&#39;));

new Promise(function (resolve) &#123;
    console.log(&#39;promise1&#39;)
    resolve();
    console.log(&#39;promise2&#39;)
&#125;).then(function () &#123;
    console.log(&#39;promise3&#39;)
&#125;)

console.log(&#39;script end&#39;)
</code></pre>
<p>åˆ†æè¿‡ç¨‹ï¼š</p>
<ul>
<li>å…ˆæ‰¾åˆ°åŒæ­¥ä»»åŠ¡ï¼Œè¾“å‡ºscript start</li>
<li>é‡åˆ°ç¬¬ä¸€ä¸ª setTimeoutï¼Œå°†é‡Œé¢çš„å›è°ƒå‡½æ•°æ”¾åˆ° timer é˜Ÿåˆ—ä¸­</li>
<li>é‡åˆ°ç¬¬äºŒä¸ª setTimeoutï¼Œ300msåå°†é‡Œé¢çš„å›è°ƒå‡½æ•°æ”¾åˆ° timer é˜Ÿåˆ—ä¸­</li>
<li>é‡åˆ°ç¬¬ä¸€ä¸ªsetImmediateï¼Œå°†é‡Œé¢çš„å›è°ƒå‡½æ•°æ”¾åˆ° check é˜Ÿåˆ—ä¸­</li>
<li>é‡åˆ°ç¬¬ä¸€ä¸ª nextTickï¼Œå°†å…¶é‡Œé¢çš„å›è°ƒå‡½æ•°æ”¾åˆ°æœ¬è½®åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åæ‰§è¡Œ</li>
<li>æ‰§è¡Œ async1å‡½æ•°ï¼Œè¾“å‡º async1 start</li>
<li>æ‰§è¡Œ async2 å‡½æ•°ï¼Œè¾“å‡º async2ï¼Œasync2 åé¢çš„è¾“å‡º async1 endè¿›å…¥å¾®ä»»åŠ¡ï¼Œç­‰å¾…ä¸‹ä¸€è½®çš„äº‹ä»¶å¾ªç¯</li>
<li>é‡åˆ°ç¬¬äºŒä¸ªï¼Œå°†å…¶é‡Œé¢çš„å›è°ƒå‡½æ•°æ”¾åˆ°æœ¬è½®åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åæ‰§è¡Œ</li>
<li>é‡åˆ° new Promiseï¼Œæ‰§è¡Œé‡Œé¢çš„ç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œè¾“å‡º promise1ã€promise2</li>
<li>thené‡Œé¢çš„å›è°ƒå‡½æ•°è¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>é‡åˆ°åŒæ­¥ä»»åŠ¡ï¼Œè¾“å‡º script end</li>
<li>æ‰§è¡Œä¸‹ä¸€è½®å›åˆ°å‡½æ•°ï¼Œå…ˆä¾æ¬¡è¾“å‡º nextTick çš„å‡½æ•°ï¼Œåˆ†åˆ«æ˜¯ nextTick1ã€nextTick2</li>
<li>ç„¶åæ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œä¾æ¬¡è¾“å‡º async1 endã€promise3</li>
<li>æ‰§è¡Œtimer é˜Ÿåˆ—ï¼Œä¾æ¬¡è¾“å‡º setTimeout0</li>
<li>æ¥ç€æ‰§è¡Œ check é˜Ÿåˆ—ï¼Œä¾æ¬¡è¾“å‡º setImmediate</li>
<li>300msåï¼Œtimer é˜Ÿåˆ—å­˜åœ¨ä»»åŠ¡ï¼Œæ‰§è¡Œè¾“å‡º setTimeout2</li>
</ul>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">script start
async1 start
async2
promise1
promise2
script end
nextTick1
nextTick2
async1 end
promise3
setTimeout0
setImmediate
setTimeout2
</code></pre>
<p>æœ€åæœ‰ä¸€é“æ˜¯å…³äº<code>setTimeout</code>ä¸<code>setImmediate</code>çš„è¾“å‡ºé¡ºåº</p>
<pre><code class="javascript">setTimeout(() =&gt; &#123;
  console.log(&quot;setTimeout&quot;);
&#125;, 0);

setImmediate(() =&gt; &#123;
  console.log(&quot;setImmediate&quot;);
&#125;);
</code></pre>
<p>è¾“å‡ºæƒ…å†µå¦‚ä¸‹ï¼š</p>
<pre><code class="javascript">æƒ…å†µä¸€ï¼š
setTimeout
setImmediate

æƒ…å†µäºŒï¼š
setImmediate
setTimeout
</code></pre>
<p>åˆ†æä¸‹æµç¨‹ï¼š</p>
<ul>
<li>å¤–å±‚åŒæ­¥ä»£ç ä¸€æ¬¡æ€§å…¨éƒ¨æ‰§è¡Œå®Œï¼Œé‡åˆ°å¼‚æ­¥APIå°±å¡åˆ°å¯¹åº”çš„é˜¶æ®µ</li>
<li>é‡åˆ°<code>setTimeout</code>ï¼Œè™½ç„¶è®¾ç½®çš„æ˜¯0æ¯«ç§’è§¦å‘ï¼Œä½†å®é™…ä¸Šä¼šè¢«å¼ºåˆ¶æ”¹æˆ1msï¼Œæ—¶é—´åˆ°äº†ç„¶åå¡å…¥<code>times</code>é˜¶æ®µ</li>
<li>é‡åˆ°<code>setImmediate</code>å¡å…¥<code>check</code>é˜¶æ®µ</li>
<li>åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œè¿›å…¥Event Loop</li>
<li>å…ˆè¿›å…¥<code>times</code>é˜¶æ®µï¼Œæ£€æŸ¥å½“å‰æ—¶é—´è¿‡å»äº†1æ¯«ç§’æ²¡æœ‰ï¼Œå¦‚æœè¿‡äº†1æ¯«ç§’ï¼Œæ»¡è¶³<code>setTimeout</code>æ¡ä»¶ï¼Œæ‰§è¡Œå›è°ƒï¼Œå¦‚æœæ²¡è¿‡1æ¯«ç§’ï¼Œè·³è¿‡</li>
<li>è·³è¿‡ç©ºçš„é˜¶æ®µï¼Œè¿›å…¥checké˜¶æ®µï¼Œæ‰§è¡Œ<code>setImmediate</code>å›è°ƒ</li>
</ul>
<p>è¿™é‡Œçš„å…³é”®åœ¨äºè¿™1msï¼Œå¦‚æœåŒæ­¥ä»£ç æ‰§è¡Œæ—¶é—´è¾ƒé•¿ï¼Œè¿›å…¥<code>Event Loop</code>çš„æ—¶å€™1æ¯«ç§’å·²ç»è¿‡äº†ï¼Œ<code>setTimeout</code>å…ˆæ‰§è¡Œï¼Œå¦‚æœ1æ¯«ç§’è¿˜æ²¡åˆ°ï¼Œå°±å…ˆæ‰§è¡Œäº†<code>setImmediate</code></p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´è¯´å¯¹ä¸­é—´ä»¶æ¦‚å¿µçš„ç†è§£ï¼Œå¦‚ä½•å°è£…-node-ä¸­é—´ä»¶ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-è¯´è¯´å¯¹ä¸­é—´ä»¶æ¦‚å¿µçš„ç†è§£ï¼Œå¦‚ä½•å°è£…-node-ä¸­é—´ä»¶ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´è¯´å¯¹ä¸­é—´ä»¶æ¦‚å¿µçš„ç†è§£ï¼Œå¦‚ä½•å°è£… node ä¸­é—´ä»¶ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ è¯´è¯´å¯¹ä¸­é—´ä»¶æ¦‚å¿µçš„ç†è§£ï¼Œå¦‚ä½•å°è£… node ä¸­é—´ä»¶ï¼Ÿ</h3><h4 id="ä¸€ã€æ˜¯ä»€ä¹ˆ-10"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ-10" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h4><p>ä¸­é—´ä»¶ï¼ˆMiddlewareï¼‰æ˜¯ä»‹äºåº”ç”¨ç³»ç»Ÿå’Œç³»ç»Ÿè½¯ä»¶ä¹‹é—´çš„ä¸€ç±»è½¯ä»¶ï¼Œå®ƒä½¿ç”¨ç³»ç»Ÿè½¯ä»¶æ‰€æä¾›çš„åŸºç¡€æœåŠ¡ï¼ˆåŠŸèƒ½ï¼‰ï¼Œè¡”æ¥ç½‘ç»œä¸Šåº”ç”¨ç³»ç»Ÿçš„å„ä¸ªéƒ¨åˆ†æˆ–ä¸åŒçš„åº”ç”¨ï¼Œèƒ½å¤Ÿè¾¾åˆ°èµ„æºå…±äº«ã€åŠŸèƒ½å…±äº«çš„ç›®çš„</p>
<p>åœ¨<code>NodeJS</code>ä¸­ï¼Œä¸­é—´ä»¶ä¸»è¦æ˜¯æŒ‡å°è£…<code>http</code>è¯·æ±‚ç»†èŠ‚å¤„ç†çš„æ–¹æ³•</p>
<p>ä¾‹å¦‚åœ¨<code>express</code>ã€<code>koa</code>ç­‰<code>web</code>æ¡†æ¶ä¸­ï¼Œä¸­é—´ä»¶çš„æœ¬è´¨ä¸ºä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå‚æ•°åŒ…å«è¯·æ±‚å¯¹è±¡ã€å“åº”å¯¹è±¡å’Œæ‰§è¡Œä¸‹ä¸€ä¸ªä¸­é—´ä»¶çš„å‡½æ•°</p>
<p><img src="/2022/11/01/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8node/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f36613665643366302d636365342d313165622d383566362d3666616337376330633962332e706e67.png"></p>
<p>åœ¨è¿™äº›ä¸­é—´ä»¶å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œä¸šåŠ¡é€»è¾‘ä»£ç ï¼Œä¿®æ”¹è¯·æ±‚å’Œå“åº”å¯¹è±¡ã€è¿”å›å“åº”æ•°æ®ç­‰æ“ä½œ</p>
<h4 id="äºŒã€å°è£…"><a href="#äºŒã€å°è£…" class="headerlink" title="äºŒã€å°è£…"></a>äºŒã€å°è£…</h4><p><code>koa</code>æ˜¯åŸºäº<code>NodeJS</code>å½“å‰æ¯”è¾ƒæµè¡Œçš„<code>web</code>æ¡†æ¶ï¼Œæœ¬èº«æ”¯æŒçš„åŠŸèƒ½å¹¶ä¸å¤šï¼ŒåŠŸèƒ½éƒ½å¯ä»¥é€šè¿‡ä¸­é—´ä»¶æ‹“å±•å®ç°ã€‚é€šè¿‡æ·»åŠ ä¸åŒçš„ä¸­é—´ä»¶ï¼Œå®ç°ä¸åŒçš„éœ€æ±‚ï¼Œä»è€Œæ„å»ºä¸€ä¸ª <code>Koa</code> åº”ç”¨</p>
<p><code>Koa</code> ä¸­é—´ä»¶é‡‡ç”¨çš„æ˜¯æ´‹è‘±åœˆæ¨¡å‹ï¼Œæ¯æ¬¡æ‰§è¡Œä¸‹ä¸€ä¸ªä¸­é—´ä»¶ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼š</p>
<ul>
<li>ctx ï¼šå°è£…äº†request å’Œ response çš„å˜é‡</li>
<li>next ï¼šè¿›å…¥ä¸‹ä¸€ä¸ªè¦æ‰§è¡Œçš„ä¸­é—´ä»¶çš„å‡½æ•°</li>
</ul>
<p><img src="/2022/11/01/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8node/68747470733a2f2f7374617469632e7675652d6a732e636f6d2f37353037623032302d636365342d313165622d616239302d6439616538313462323430642e706e67.png"></p>
<p>ä¸‹é¢å°±é’ˆå¯¹<code>koa</code>è¿›è¡Œä¸­é—´ä»¶çš„å°è£…ï¼š</p>
<p><code>Koa </code>çš„ä¸­é—´ä»¶å°±æ˜¯å‡½æ•°ï¼Œå¯ä»¥æ˜¯<code> async</code> å‡½æ•°ï¼Œæˆ–æ˜¯æ™®é€šå‡½æ•°</p>
<pre><code class="javascript">// async å‡½æ•°
app.use(async (ctx, next) =&gt; &#123;
  const start = Date.now();
  await next();
  const ms = Date.now() - start;
  console.log(`$&#123;ctx.method&#125; $&#123;ctx.url&#125; - $&#123;ms&#125;ms`);
&#125;);

// æ™®é€šå‡½æ•°
app.use((ctx, next) =&gt; &#123;
  const start = Date.now();
  return next().then(() =&gt; &#123;
    const ms = Date.now() - start;
    console.log(`$&#123;ctx.method&#125; $&#123;ctx.url&#125; - $&#123;ms&#125;ms`);
  &#125;);
&#125;);
</code></pre>
<p>ä¸‹é¢åˆ™é€šè¿‡ä¸­é—´ä»¶å°è£…<code>http</code>è¯·æ±‚è¿‡ç¨‹ä¸­å‡ ä¸ªå¸¸ç”¨çš„åŠŸèƒ½ï¼š</p>
<h5 id="tokenæ ¡éªŒ"><a href="#tokenæ ¡éªŒ" class="headerlink" title="tokenæ ¡éªŒ"></a>tokenæ ¡éªŒ</h5><pre><code class="javascript">module.exports = (options) =&gt; async (ctx, next) &#123;
  try &#123;
    // è·å– token
    const token = ctx.header.authorization
    if (token) &#123;
      try &#123;
          // verify å‡½æ•°éªŒè¯ tokenï¼Œå¹¶è·å–ç”¨æˆ·ç›¸å…³ä¿¡æ¯
          await verify(token)
      &#125; catch (err) &#123;
        console.log(err)
      &#125;
    &#125;
    // è¿›å…¥ä¸‹ä¸€ä¸ªä¸­é—´ä»¶
    await next()
  &#125; catch (err) &#123;
    console.log(err)
  &#125;
&#125;
</code></pre>
<h5 id="æ—¥å¿—æ¨¡å—"><a href="#æ—¥å¿—æ¨¡å—" class="headerlink" title="æ—¥å¿—æ¨¡å—"></a>æ—¥å¿—æ¨¡å—</h5><pre><code class="javascript">const fs = require(&#39;fs&#39;)
module.exports = (options) =&gt; async (ctx, next) =&gt; &#123;
  const startTime = Date.now()
  const requestTime = new Date()
  await next()
  const ms = Date.now() - startTime;
  let logout = `$&#123;ctx.request.ip&#125; -- $&#123;requestTime&#125; -- $&#123;ctx.method&#125; -- $&#123;ctx.url&#125; -- $&#123;ms&#125;ms`;
  // è¾“å‡ºæ—¥å¿—æ–‡ä»¶
  fs.appendFileSync(&#39;./log.txt&#39;, logout + &#39;\n&#39;)
&#125;
</code></pre>
<p><code>Koa</code>å­˜åœ¨å¾ˆå¤šç¬¬ä¸‰æ–¹çš„ä¸­é—´ä»¶ï¼Œå¦‚<code>koa-bodyparser</code>ã€<code>koa-static</code>ç­‰</p>
<p>ä¸‹é¢å†æ¥çœ‹çœ‹å®ƒä»¬çš„å¤§ä½“çš„ç®€å•å®ç°ï¼š</p>
<h5 id="koa-bodyparser"><a href="#koa-bodyparser" class="headerlink" title="koa-bodyparser"></a>koa-bodyparser</h5><p><code>koa-bodyparser</code> ä¸­é—´ä»¶æ˜¯å°†æˆ‘ä»¬çš„ <code>post</code> è¯·æ±‚å’Œè¡¨å•æäº¤çš„æŸ¥è¯¢å­—ç¬¦ä¸²è½¬æ¢æˆå¯¹è±¡ï¼Œå¹¶æŒ‚åœ¨ <code>ctx.request.body</code> ä¸Šï¼Œæ–¹ä¾¿æˆ‘ä»¬åœ¨å…¶ä»–ä¸­é—´ä»¶æˆ–æ¥å£å¤„å–å€¼</p>
<pre><code class="javascript">// æ–‡ä»¶ï¼šmy-koa-bodyparser.js
const querystring = require(&quot;querystring&quot;);

module.exports = function bodyParser() &#123;
    return async (ctx, next) =&gt; &#123;
        await new Promise((resolve, reject) =&gt; &#123;
            // å­˜å‚¨æ•°æ®çš„æ•°ç»„
            let dataArr = [];

            // æ¥æ”¶æ•°æ®
            ctx.req.on(&quot;data&quot;, data =&gt; dataArr.push(data));

            // æ•´åˆæ•°æ®å¹¶ä½¿ç”¨ Promise æˆåŠŸ
            ctx.req.on(&quot;end&quot;, () =&gt; &#123;
                // è·å–è¯·æ±‚æ•°æ®çš„ç±»å‹ json æˆ–è¡¨å•
                let contentType = ctx.get(&quot;Content-Type&quot;);

                // è·å–æ•°æ® Buffer æ ¼å¼
                let data = Buffer.concat(dataArr).toString();

                if (contentType === &quot;application/x-www-form-urlencoded&quot;) &#123;
                    // å¦‚æœæ˜¯è¡¨å•æäº¤ï¼Œåˆ™å°†æŸ¥è¯¢å­—ç¬¦ä¸²è½¬æ¢æˆå¯¹è±¡èµ‹å€¼ç»™ ctx.request.body
                    ctx.request.body = querystring.parse(data);
                &#125; else if (contentType === &quot;applaction/json&quot;) &#123;
                    // å¦‚æœæ˜¯ jsonï¼Œåˆ™å°†å­—ç¬¦ä¸²æ ¼å¼çš„å¯¹è±¡è½¬æ¢æˆå¯¹è±¡èµ‹å€¼ç»™ ctx.request.body
                    ctx.request.body = JSON.parse(data);
                &#125;

                // æ‰§è¡ŒæˆåŠŸçš„å›è°ƒ
                resolve();
            &#125;);
        &#125;);

        // ç»§ç»­å‘ä¸‹æ‰§è¡Œ
        await next();
    &#125;;
&#125;;
</code></pre>
<h5 id="koa-static"><a href="#koa-static" class="headerlink" title="koa-static"></a>koa-static</h5><p><code>koa-static</code> ä¸­é—´ä»¶çš„ä½œç”¨æ˜¯åœ¨æœåŠ¡å™¨æ¥åˆ°è¯·æ±‚æ—¶ï¼Œå¸®æˆ‘ä»¬å¤„ç†é™æ€æ–‡ä»¶</p>
<pre><code class="javascript">const fs = require(&quot;fs&quot;);
const path = require(&quot;path&quot;);
const mime = require(&quot;mime&quot;);
const &#123; promisify &#125; = require(&quot;util&quot;);

// å°† stat å’Œ access è½¬æ¢æˆ Promise
const stat = promisify(fs.stat);
const access = promisify(fs.access)

module.exports = function (dir) &#123;
    return async (ctx, next) =&gt; &#123;
        // å°†è®¿é—®çš„è·¯ç”±å¤„ç†æˆç»å¯¹è·¯å¾„ï¼Œè¿™é‡Œè¦ä½¿ç”¨ join å› ä¸ºæœ‰å¯èƒ½æ˜¯ /
        let realPath = path.join(dir, ctx.path);

        try &#123;
            // è·å– stat å¯¹è±¡
            let statObj = await stat(realPath);

            // å¦‚æœæ˜¯æ–‡ä»¶ï¼Œåˆ™è®¾ç½®æ–‡ä»¶ç±»å‹å¹¶ç›´æ¥å“åº”å†…å®¹ï¼Œå¦åˆ™å½“ä½œæ–‡ä»¶å¤¹å¯»æ‰¾ index.html
            if (statObj.isFile()) &#123;
                ctx.set(&quot;Content-Type&quot;, `$&#123;mime.getType()&#125;;charset=utf8`);
                ctx.body = fs.createReadStream(realPath);
            &#125; else &#123;
                let filename = path.join(realPath, &quot;index.html&quot;);

                // å¦‚æœä¸å­˜åœ¨è¯¥æ–‡ä»¶åˆ™æ‰§è¡Œ catch ä¸­çš„ next äº¤ç»™å…¶ä»–ä¸­é—´ä»¶å¤„ç†
                await access(filename);

                // å­˜åœ¨è®¾ç½®æ–‡ä»¶ç±»å‹å¹¶å“åº”å†…å®¹
                ctx.set(&quot;Content-Type&quot;, &quot;text/html;charset=utf8&quot;);
                ctx.body = fs.createReadStream(filename);
            &#125;
        &#125; catch (e) &#123;
            await next();
        &#125;
    &#125;
&#125;
</code></pre>
<h4 id="ä¸‰ã€æ€»ç»“-2"><a href="#ä¸‰ã€æ€»ç»“-2" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h4><p>åœ¨å®ç°ä¸­é—´ä»¶æ—¶å€™ï¼Œå•ä¸ªä¸­é—´ä»¶åº”è¯¥è¶³å¤Ÿç®€å•ï¼ŒèŒè´£å•ä¸€ï¼Œä¸­é—´ä»¶çš„ä»£ç ç¼–å†™åº”è¯¥é«˜æ•ˆï¼Œå¿…è¦çš„æ—¶å€™é€šè¿‡ç¼“å­˜é‡å¤è·å–æ•°æ®</p>
<p><code>koa</code>æœ¬èº«æ¯”è¾ƒç®€æ´ï¼Œä½†æ˜¯é€šè¿‡ä¸­é—´ä»¶çš„æœºåˆ¶èƒ½å¤Ÿå®ç°å„ç§æ‰€éœ€è¦çš„åŠŸèƒ½ï¼Œä½¿å¾—<code>web</code>åº”ç”¨å…·å¤‡è‰¯å¥½çš„å¯æ‹“å±•æ€§å’Œç»„åˆæ€§</p>
<p>é€šè¿‡å°†å…¬å…±é€»è¾‘çš„å¤„ç†ç¼–å†™åœ¨ä¸­é—´ä»¶ä¸­ï¼Œå¯ä»¥ä¸ç”¨åœ¨æ¯ä¸€ä¸ªæ¥å£å›è°ƒä¸­åšç›¸åŒçš„ä»£ç ç¼–å†™ï¼Œå‡å°‘äº†å†—æ‚ä»£ç ï¼Œè¿‡ç¨‹å°±å¦‚è£…é¥°è€…æ¨¡å¼</p>
<h3 id="â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-Nodeæ€§èƒ½å¦‚ä½•è¿›è¡Œç›‘æ§ä»¥åŠä¼˜åŒ–ï¼Ÿ"><a href="#â™¥ï¸-â™¥ï¸-â™¥ï¸-â™¥ï¸-Nodeæ€§èƒ½å¦‚ä½•è¿›è¡Œç›‘æ§ä»¥åŠä¼˜åŒ–ï¼Ÿ" class="headerlink" title="â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ Nodeæ€§èƒ½å¦‚ä½•è¿›è¡Œç›‘æ§ä»¥åŠä¼˜åŒ–ï¼Ÿ"></a>â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ Nodeæ€§èƒ½å¦‚ä½•è¿›è¡Œç›‘æ§ä»¥åŠä¼˜åŒ–ï¼Ÿ</h3><h4 id="ä¸€ã€-æ˜¯ä»€ä¹ˆ"><a href="#ä¸€ã€-æ˜¯ä»€ä¹ˆ" class="headerlink" title="ä¸€ã€ æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€ æ˜¯ä»€ä¹ˆ</h4><p><code>Node</code>ä½œä¸ºä¸€é—¨æœåŠ¡ç«¯è¯­è¨€ï¼Œæ€§èƒ½æ–¹é¢å°¤ä¸ºé‡è¦ï¼Œå…¶è¡¡é‡æŒ‡æ ‡ä¸€èˆ¬æœ‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>CPU</li>
<li>å†…å­˜</li>
<li>I&#x2F;O</li>
<li>ç½‘ç»œ</li>
</ul>
<h5 id="CPU"><a href="#CPU" class="headerlink" title="CPU"></a>CPU</h5><p>ä¸»è¦åˆ†æˆäº†ä¸¤éƒ¨åˆ†ï¼š</p>
<ul>
<li>CPUè´Ÿè½½ï¼šåœ¨æŸä¸ªæ—¶é—´æ®µå†…ï¼Œå ç”¨ä»¥åŠç­‰å¾…CPUçš„è¿›ç¨‹æ€»æ•°</li>
<li>CPUä½¿ç”¨ç‡ï¼šCPUæ—¶é—´å ç”¨çŠ¶å†µï¼Œç­‰äº 1 - ç©ºé—²CPUæ—¶é—´(idle time) &#x2F; CPUæ€»æ—¶é—´</li>
</ul>
<p>è¿™ä¸¤ä¸ªæŒ‡æ ‡éƒ½æ˜¯ç”¨æ¥è¯„ä¼°ç³»ç»Ÿå½“å‰CPUçš„ç¹å¿™ç¨‹åº¦çš„é‡åŒ–æŒ‡æ ‡</p>
<p><code>Node</code>åº”ç”¨ä¸€èˆ¬ä¸ä¼šæ¶ˆè€—å¾ˆå¤šçš„<code>CPU</code>ï¼Œå¦‚æœ<code>CPU</code>å ç”¨ç‡é«˜ï¼Œåˆ™è¡¨æ˜åº”ç”¨å­˜åœ¨å¾ˆå¤šåŒæ­¥æ“ä½œï¼Œå¯¼è‡´å¼‚æ­¥ä»»åŠ¡å›è°ƒè¢«é˜»å¡</p>
<h5 id="å†…å­˜æŒ‡æ ‡"><a href="#å†…å­˜æŒ‡æ ‡" class="headerlink" title="å†…å­˜æŒ‡æ ‡"></a>å†…å­˜æŒ‡æ ‡</h5><p>å†…å­˜æ˜¯ä¸€ä¸ªéå¸¸å®¹æ˜“é‡åŒ–çš„æŒ‡æ ‡ã€‚ å†…å­˜å ç”¨ç‡æ˜¯è¯„åˆ¤ä¸€ä¸ªç³»ç»Ÿçš„å†…å­˜ç“¶é¢ˆçš„å¸¸è§æŒ‡æ ‡ã€‚ å¯¹äºNodeæ¥è¯´ï¼Œå†…éƒ¨å†…å­˜å †æ ˆçš„ä½¿ç”¨çŠ¶æ€ä¹Ÿæ˜¯ä¸€ä¸ªå¯ä»¥é‡åŒ–çš„æŒ‡æ ‡</p>
<pre><code class="javascript">// /app/lib/memory.js
const os = require(&#39;os&#39;);
// è·å–å½“å‰Nodeå†…å­˜å †æ ˆæƒ…å†µ
const &#123; rss, heapUsed, heapTotal &#125; = process.memoryUsage();
// è·å–ç³»ç»Ÿç©ºé—²å†…å­˜
const sysFree = os.freemem();
// è·å–ç³»ç»Ÿæ€»å†…å­˜
const sysTotal = os.totalmem();

module.exports = &#123;
  memory: () =&gt; &#123;
    return &#123;
      sys: 1 - sysFree / sysTotal,  // ç³»ç»Ÿå†…å­˜å ç”¨ç‡
      heap: heapUsed / headTotal,   // Nodeå †å†…å­˜å ç”¨ç‡
      node: rss / sysTotal,         // Nodeå ç”¨ç³»ç»Ÿå†…å­˜çš„æ¯”ä¾‹
    &#125;
  &#125;
&#125;
</code></pre>
<ul>
<li>rssï¼šè¡¨ç¤ºnodeè¿›ç¨‹å ç”¨çš„å†…å­˜æ€»é‡ã€‚</li>
<li>heapTotalï¼šè¡¨ç¤ºå †å†…å­˜çš„æ€»é‡ã€‚</li>
<li>heapUsedï¼šå®é™…å †å†…å­˜çš„ä½¿ç”¨é‡ã€‚</li>
<li>external ï¼šå¤–éƒ¨ç¨‹åºçš„å†…å­˜ä½¿ç”¨é‡ï¼ŒåŒ…å«Nodeæ ¸å¿ƒçš„C++ç¨‹åºçš„å†…å­˜ä½¿ç”¨é‡</li>
</ul>
<p>åœ¨<code>Node</code>ä¸­ï¼Œä¸€ä¸ªè¿›ç¨‹çš„æœ€å¤§å†…å­˜å®¹é‡ä¸º1.5GBã€‚å› æ­¤æˆ‘ä»¬éœ€è¦å‡å°‘å†…å­˜æ³„éœ²</p>
<h5 id="ç£ç›˜-I-x2F-O"><a href="#ç£ç›˜-I-x2F-O" class="headerlink" title="ç£ç›˜ I&#x2F;O"></a>ç£ç›˜ I&#x2F;O</h5><p>ç¡¬ç›˜çš„<code> IO</code> å¼€é”€æ˜¯éå¸¸æ˜‚è´µçš„ï¼Œç¡¬ç›˜ IO èŠ±è´¹çš„ CPU æ—¶é’Ÿå‘¨æœŸæ˜¯å†…å­˜çš„ 164000 å€</p>
<p>å†…å­˜ <code>IO </code>æ¯”ç£ç›˜<code> IO</code> å¿«éå¸¸å¤šï¼Œæ‰€ä»¥ä½¿ç”¨å†…å­˜ç¼“å­˜æ•°æ®æ˜¯æœ‰æ•ˆçš„ä¼˜åŒ–æ–¹æ³•ã€‚å¸¸ç”¨çš„å·¥å…·å¦‚ <code>redis</code>ã€<code>memcached </code>ç­‰</p>
<p>å¹¶ä¸æ˜¯æ‰€æœ‰æ•°æ®éƒ½éœ€è¦ç¼“å­˜ï¼Œè®¿é—®é¢‘ç‡é«˜ï¼Œç”Ÿæˆä»£ä»·æ¯”è¾ƒé«˜çš„æ‰è€ƒè™‘æ˜¯å¦ç¼“å­˜ï¼Œä¹Ÿå°±æ˜¯è¯´å½±å“ä½ æ€§èƒ½ç“¶é¢ˆçš„è€ƒè™‘å»ç¼“å­˜ï¼Œå¹¶ä¸”è€Œä¸”ç¼“å­˜è¿˜æœ‰ç¼“å­˜é›ªå´©ã€ç¼“å­˜ç©¿é€ç­‰é—®é¢˜è¦è§£å†³</p>
<h4 id="äºŒã€å¦‚ä½•ç›‘æ§"><a href="#äºŒã€å¦‚ä½•ç›‘æ§" class="headerlink" title="äºŒã€å¦‚ä½•ç›‘æ§"></a>äºŒã€å¦‚ä½•ç›‘æ§</h4><p>å…³äºæ€§èƒ½æ–¹é¢çš„ç›‘æ§ï¼Œä¸€èˆ¬æƒ…å†µéƒ½éœ€è¦å€ŸåŠ©å·¥å…·æ¥å®ç°</p>
<p>è¿™é‡Œé‡‡ç”¨<code>Easy-Monitor 2.0</code>ï¼Œå…¶æ˜¯è½»é‡çº§çš„ <code>Node.js</code> é¡¹ç›®å†…æ ¸æ€§èƒ½ç›‘æ§ + åˆ†æå·¥å…·ï¼Œåœ¨é»˜è®¤æ¨¡å¼ä¸‹ï¼Œåªéœ€è¦åœ¨é¡¹ç›®å…¥å£æ–‡ä»¶ <code>require</code> ä¸€æ¬¡ï¼Œæ— éœ€æ”¹åŠ¨ä»»ä½•ä¸šåŠ¡ä»£ç å³å¯å¼€å¯å†…æ ¸çº§åˆ«çš„æ€§èƒ½ç›‘æ§åˆ†æ</p>
<p>ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<p>åœ¨ä½ çš„é¡¹ç›®å…¥å£æ–‡ä»¶ä¸­æŒ‰ç…§å¦‚ä¸‹æ–¹å¼å¼•å…¥ï¼Œå½“ç„¶è¯·ä¼ å…¥ä½ çš„é¡¹ç›®åç§°ï¼š</p>
<pre><code class="javascript">const easyMonitor = require(&#39;easy-monitor&#39;);
easyMonitor(&#39;ä½ çš„é¡¹ç›®åç§°&#39;);
</code></pre>
<p>æ‰“å¼€ä½ çš„æµè§ˆå™¨ï¼Œè®¿é—® <code>http://localhost:12333</code> ï¼Œå³å¯çœ‹åˆ°è¿›ç¨‹ç•Œé¢</p>
<p>å…³äºå®šåˆ¶åŒ–å¼€å‘ã€é€šç”¨é…ç½®é¡¹ä»¥åŠå¦‚ä½•åŠ¨æ€æ›´æ–°é…ç½®é¡¹è¯¦è§å®˜æ–¹æ–‡æ¡£</p>
<h4 id="ä¸‰ã€å¦‚ä½•ä¼˜åŒ–"><a href="#ä¸‰ã€å¦‚ä½•ä¼˜åŒ–" class="headerlink" title="ä¸‰ã€å¦‚ä½•ä¼˜åŒ–"></a>ä¸‰ã€å¦‚ä½•ä¼˜åŒ–</h4><p>å…³äº<code>Node</code>çš„æ€§èƒ½ä¼˜åŒ–çš„æ–¹å¼æœ‰ï¼š</p>
<ul>
<li>ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬Node.js</li>
<li>æ­£ç¡®ä½¿ç”¨æµ Stream</li>
<li>ä»£ç å±‚é¢ä¼˜åŒ–</li>
<li>å†…å­˜ç®¡ç†ä¼˜åŒ–</li>
</ul>
<h5 id="ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬Node-js"><a href="#ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬Node-js" class="headerlink" title="ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬Node.js"></a>ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬Node.js</h5><p>æ¯ä¸ªç‰ˆæœ¬çš„æ€§èƒ½æå‡ä¸»è¦æ¥è‡ªäºä¸¤ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>V8 çš„ç‰ˆæœ¬æ›´æ–°</li>
<li>Node.js å†…éƒ¨ä»£ç çš„æ›´æ–°ä¼˜åŒ–</li>
</ul>
<h5 id="æ­£ç¡®ä½¿ç”¨æµ-Stream"><a href="#æ­£ç¡®ä½¿ç”¨æµ-Stream" class="headerlink" title="æ­£ç¡®ä½¿ç”¨æµ Stream"></a>æ­£ç¡®ä½¿ç”¨æµ Stream</h5><p>åœ¨<code>Node</code>ä¸­ï¼Œå¾ˆå¤šå¯¹è±¡éƒ½å®ç°äº†æµï¼Œå¯¹äºä¸€ä¸ªå¤§æ–‡ä»¶å¯ä»¥é€šè¿‡æµçš„å½¢å¼å‘é€ï¼Œä¸éœ€è¦å°†å…¶å®Œå…¨è¯»å…¥å†…å­˜</p>
<pre><code class="javascript">const http = require(&#39;http&#39;);
const fs = require(&#39;fs&#39;);

// bad
http.createServer(function (req, res) &#123;
    fs.readFile(__dirname + &#39;/data.txt&#39;, function (err, data) &#123;
        res.end(data);
    &#125;);
&#125;);

// good
http.createServer(function (req, res) &#123;
    const stream = fs.createReadStream(__dirname + &#39;/data.txt&#39;);
    stream.pipe(res);
&#125;);
</code></pre>
<h5 id="ä»£ç å±‚é¢ä¼˜åŒ–"><a href="#ä»£ç å±‚é¢ä¼˜åŒ–" class="headerlink" title="ä»£ç å±‚é¢ä¼˜åŒ–"></a>ä»£ç å±‚é¢ä¼˜åŒ–</h5><p>åˆå¹¶æŸ¥è¯¢ï¼Œå°†å¤šæ¬¡æŸ¥è¯¢åˆå¹¶ä¸€æ¬¡ï¼Œå‡å°‘æ•°æ®åº“çš„æŸ¥è¯¢æ¬¡æ•°</p>
<pre><code class="javascript">// bad
for user_id in userIds 
     let account = user_account.findOne(user_id)

// good
const user_account_map = &#123;&#125;   // æ³¨æ„è¿™ä¸ªå¯¹è±¡å°†ä¼šæ¶ˆè€—å¤§é‡å†…å­˜ã€‚
user_account.find(user_id in user_ids).forEach(account)&#123;
    user_account_map[account.user_id] =  account
&#125;
for user_id in userIds 
    var account = user_account_map[user_id]
</code></pre>
<h5 id="å†…å­˜ç®¡ç†ä¼˜åŒ–"><a href="#å†…å­˜ç®¡ç†ä¼˜åŒ–" class="headerlink" title="å†…å­˜ç®¡ç†ä¼˜åŒ–"></a>å†…å­˜ç®¡ç†ä¼˜åŒ–</h5><p>åœ¨ V8 ä¸­ï¼Œä¸»è¦å°†å†…å­˜åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€ç”Ÿä»£ä¸¤ä»£ï¼š</p>
<ul>
<li>æ–°ç”Ÿä»£ï¼šå¯¹è±¡çš„å­˜æ´»æ—¶é—´è¾ƒçŸ­ã€‚æ–°ç”Ÿå¯¹è±¡æˆ–åªç»è¿‡ä¸€æ¬¡åƒåœ¾å›æ”¶çš„å¯¹è±¡</li>
<li>è€ç”Ÿä»£ï¼šå¯¹è±¡å­˜æ´»æ—¶é—´è¾ƒé•¿ã€‚ç»å†è¿‡ä¸€æ¬¡æˆ–å¤šæ¬¡åƒåœ¾å›æ”¶çš„å¯¹è±¡</li>
</ul>
<p>è‹¥æ–°ç”Ÿä»£å†…å­˜ç©ºé—´ä¸å¤Ÿï¼Œç›´æ¥åˆ†é…åˆ°è€ç”Ÿä»£</p>
<p>é€šè¿‡å‡å°‘å†…å­˜å ç”¨ï¼Œå¯ä»¥æé«˜æœåŠ¡å™¨çš„æ€§èƒ½ã€‚å¦‚æœæœ‰å†…å­˜æ³„éœ²ï¼Œä¹Ÿä¼šå¯¼è‡´å¤§é‡çš„å¯¹è±¡å­˜å‚¨åˆ°è€ç”Ÿä»£ä¸­ï¼ŒæœåŠ¡å™¨æ€§èƒ½ä¼šå¤§å¤§é™ä½</p>
<p>å¦‚ä¸‹é¢æƒ…å†µï¼š</p>
<pre><code class="javascript">const buffer = fs.readFileSync(__dirname + &#39;/source/index.htm&#39;);

app.use(
    mount(&#39;/&#39;, async (ctx) =&gt; &#123;
        ctx.status = 200;
        ctx.type = &#39;html&#39;;
        ctx.body = buffer;
        leak.push(fs.readFileSync(__dirname + &#39;/source/index.htm&#39;));
    &#125;)
);

const leak = [];
</code></pre>
<p><code>leak</code>çš„å†…å­˜éå¸¸å¤§ï¼Œé€ æˆå†…å­˜æ³„éœ²ï¼Œåº”å½“é¿å…è¿™æ ·çš„æ“ä½œï¼Œé€šè¿‡å‡å°‘å†…å­˜ä½¿ç”¨ï¼Œæ˜¯æé«˜æœåŠ¡æ€§èƒ½çš„æ‰‹æ®µä¹‹ä¸€</p>
<p>è€ŒèŠ‚çœå†…å­˜æœ€å¥½çš„æ–¹å¼æ˜¯ä½¿ç”¨æ± ï¼Œå…¶å°†é¢‘ç”¨ã€å¯å¤ç”¨å¯¹è±¡å­˜å‚¨èµ·æ¥ï¼Œå‡å°‘åˆ›å»ºå’Œé”€æ¯æ“ä½œ</p>
<p>ä¾‹å¦‚æœ‰ä¸ªå›¾ç‰‡è¯·æ±‚æ¥å£ï¼Œæ¯æ¬¡è¯·æ±‚ï¼Œéƒ½éœ€è¦ç”¨åˆ°ç±»ã€‚è‹¥æ¯æ¬¡éƒ½éœ€è¦é‡æ–°newè¿™äº›ç±»ï¼Œå¹¶ä¸æ˜¯å¾ˆåˆé€‚ï¼Œåœ¨å¤§é‡è¯·æ±‚æ—¶ï¼Œé¢‘ç¹åˆ›å»ºå’Œé”€æ¯è¿™äº›ç±»ï¼Œé€ æˆå†…å­˜æŠ–åŠ¨</p>
<p>ä½¿ç”¨å¯¹è±¡æ± çš„æœºåˆ¶ï¼Œå¯¹è¿™ç§é¢‘ç¹éœ€è¦åˆ›å»ºå’Œé”€æ¯çš„å¯¹è±¡ä¿å­˜åœ¨ä¸€ä¸ªå¯¹è±¡æ± ä¸­ã€‚æ¯æ¬¡ç”¨åˆ°è¯¥å¯¹è±¡æ—¶ï¼Œå°±å–å¯¹è±¡æ± ç©ºé—²çš„å¯¹è±¡ï¼Œå¹¶å¯¹å®ƒè¿›è¡Œåˆå§‹åŒ–æ“ä½œï¼Œä»è€Œæé«˜æ¡†æ¶çš„æ€§èƒ½</p>
<p>å‚è€ƒæ–‡çŒ®ï¼š</p>
<p>[è¯­éŸ³ä»“åº“]: 	â€œ<a href="https://github.com/febobo/web-interview">https://github.com/febobo/web-interview</a> â€œ</p>
]]></content>
      <categories>
        <category>æŠ€æœ¯é¢è¯•</category>
        <category>node.js</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
        <tag>é¢è¯•é¢˜</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯é¢è¯•é¢˜å¤§å…¨ä¹‹HTML5+CSS3</title>
    <url>/2022/10/15/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E4%B9%8BHTML5-CSS3/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆHTML5-CSS3ï¼‰"><a href="#å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆHTML5-CSS3ï¼‰" class="headerlink" title="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆHTML5+CSS3ï¼‰"></a>å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆHTML5+CSS3ï¼‰</h1><p>å‰ç«¯é¢è¯•é¢˜ç±»ç›®åˆ†ç±»</p>
<ul>
<li>HTML5 + CSS3</li>
<li>JavaScript</li>
<li>Vue + Vue3</li>
<li>React</li>
<li>Webpack</li>
<li>æœåŠ¡ç«¯</li>
</ul>
<hr>
<p>è€ƒç‚¹é¢‘ç‡ ï¼šâ™¥ï¸ ã€ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸</p>
<h2 id="HTML5-CSS3"><a href="#HTML5-CSS3" class="headerlink" title="HTML5 + CSS3"></a>HTML5 + CSS3</h2><h3 id="â™¥ï¸-çˆ¶å…ƒç´ å’Œå­å…ƒç´ å®½é«˜ä¸å›ºå®šï¼Œå¦‚ä½•å®ç°æ°´å¹³å‚ç›´å±…ä¸­"><a href="#â™¥ï¸-çˆ¶å…ƒç´ å’Œå­å…ƒç´ å®½é«˜ä¸å›ºå®šï¼Œå¦‚ä½•å®ç°æ°´å¹³å‚ç›´å±…ä¸­" class="headerlink" title="â™¥ï¸ çˆ¶å…ƒç´ å’Œå­å…ƒç´ å®½é«˜ä¸å›ºå®šï¼Œå¦‚ä½•å®ç°æ°´å¹³å‚ç›´å±…ä¸­"></a>â™¥ï¸ çˆ¶å…ƒç´ å’Œå­å…ƒç´ å®½é«˜ä¸å›ºå®šï¼Œå¦‚ä½•å®ç°æ°´å¹³å‚ç›´å±…ä¸­</h3><p>æ–¹æ³•ä¸€ï¼šflexå¸ƒå±€</p>
<p>-çˆ¶å…ƒç´ è®¾ç½®ï¼šdisplay:flex; justify-content:center; align-items:center;</p>
<p>-å¦ä¸€ç§ï¼šçˆ¶å…ƒç´ è®¾ç½®å¼¹æ€§ç›’display:flex; å­å…ƒç´ å¯ä»¥è®¾ç½®margin:auto;å®ç°æ°´å¹³å±…ä¸­</p>
<p>æ–¹æ³•äºŒ:å®šä½å±æ€§ï¼ˆpositionï¼‰é…åˆä½ç§»å±æ€§ï¼ˆtransformï¼‰</p>
<p>-å­å…ƒç´ è®¾ç½®ï¼šposition:absolute; top:50%;left:50%;transform:translate(-50%,-50%)</p>
<pre><code class="html">//æ–¹æ³•ä¸€ï¼š
&lt;div class=&quot;parent&quot;&gt;
    &lt;div class=&quot;child&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="css">body,html&#123;
    width: 100%;
    height: 100%;
&#125;
.parent&#123;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 100%;
    background-color: antiquewhite;
&#125;
.parent .child&#123;
    width: 200px;
    height: 300px;
    background-color: rgb(78,151,211);
&#125;
</code></pre>
<pre><code class="html">//æ–¹æ³•äºŒ
&lt;div class=&quot;parent&quot;&gt;
    &lt;div class=&quot;child&quot;&gt;
        &lt;p&gt;&lt;/p&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="css">//csséƒ¨åˆ†
.parent&#123;
         width: 100%;
         height: 100%;
         background-color: antiquewhite;
        &#125;
.child&#123;
         position: absolute;
         top:50%;
         left:50%;
         transform: translate(-50%,-50%);
        &#125;
.child p&#123;
         width: 300px;
         height: 400px;
         background-color: rgb(78, 151, 211);
        &#125;/
</code></pre>
<h3 id="â™¥ï¸ç®€è¿°titleä¸h1çš„åŒºåˆ«ï¼Œbä¸strongçš„åŒºåˆ«ï¼Œiä¸emçš„åŒºåˆ«"><a href="#â™¥ï¸ç®€è¿°titleä¸h1çš„åŒºåˆ«ï¼Œbä¸strongçš„åŒºåˆ«ï¼Œiä¸emçš„åŒºåˆ«" class="headerlink" title="â™¥ï¸ç®€è¿°titleä¸h1çš„åŒºåˆ«ï¼Œbä¸strongçš„åŒºåˆ«ï¼Œiä¸emçš„åŒºåˆ«"></a>â™¥ï¸ç®€è¿°titleä¸h1çš„åŒºåˆ«ï¼Œbä¸strongçš„åŒºåˆ«ï¼Œiä¸emçš„åŒºåˆ«</h3><p>ã€Štitleä¸h1ã€‹</p>
<p>1.ä»ç½‘ç«™çš„è§’åº¦æ¥è¯´ï¼Œtitleæ›´ä¾§é‡äºç½‘ç«™æ¶ˆæ¯ã€‚titleå¯ä»¥ç›´æ¥å‘Šè¯‰æœç´¢å¼•æ“å’Œç”¨æˆ·è¿™ä¸ªç½‘ç«™æ˜¯å…³äºä»€ä¹ˆä¸»é¢˜å’Œå†…å®¹çš„ã€‚</p>
<p>2.ä»æ–‡ç« çš„è§’åº¦çœ‹ï¼Œh1åˆ™æ˜¯ä¾§é‡äºæ¦‚æ‹¬æ–‡ç« ä¸»é¢˜ã€‚</p>
<p>3.ä¸€ä¸ªç½‘ç«™å¯ä»¥æœ‰å¤šä¸ªtitleï¼Œä½†æœ€å¥½ä¸€ä¸ªå•é¡µç”¨ä¸€ä¸ªtitleï¼Œä»¥ä¾¿çªå‡ºç½‘ç«™é¡µé¢ä¸»ä½“ä¿¡æ¯ï¼Œä»seoçœ‹ï¼Œtitleæƒé‡æ¯”h1é«˜ï¼Œé€‚ç”¨æ€§æ¯”h1å¹¿ã€‚</p>
<p>4.æ ‡è®°äº†h1çš„æ–‡å­—é¡µé¢ç»™äºˆçš„æƒé‡ä¼šæ¯”é¡µé¢å†…å…¶ä»–æƒé‡é«˜å¾ˆå¤šï¼Œä¸€ä¸ªå¥½çš„ç½‘ç«™æ˜¯h1å’Œtitleå¹¶å­˜ï¼Œæ—¢çªå‡ºh1æ–‡ç« ä¸»é¢˜ï¼Œåˆçªå‡ºç½‘ç«™ä¸»é¢˜å’Œå…³é”®å­—ã€‚è¾¾åˆ°åŒé‡ä¼˜åŒ–ç½‘ç«™çš„æ•ˆæœã€‚</p>
<p>ã€Šbå’Œstrongã€‹</p>
<p>1.båªæ˜¯å¯¹æ–‡æœ¬çš„ç®€å•åŠ ç²—ï¼Œstrongæ˜¯ä¸€ä¸ªè¯­ä¹‰åŒ–æ ‡ç­¾ï¼Œå¯¹ç›¸å…³æ–‡æœ¬å…·æœ‰å¼ºè°ƒä½œç”¨ã€‚</p>
<p>2.bæ ‡ç­¾åªæ˜¯ä¾§é‡äºå­—ä½“åŠ ç²—ï¼Œstrongæ ‡ç­¾åŠ å¼ºå­—ä½“çš„è¯­æ°”éƒ½æ˜¯é€šè¿‡ç²—ä½“æ¥å®ç°çš„ï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼Œæœç´¢å¼•æ“æ›´å–œæ¬¢ä¾§é‡äºstrongæ ‡ç­¾ã€‚</p>
<p>3.strongæ ‡ç­¾æ›´æ³¨é‡äºå†…å®¹ä¸Šçš„åº”ç”¨ï¼Œåœ¨htmlä¸­ï¼Œå¯¹å…³é”®è¯çš„æ ‡æ˜ã€‚è¿˜æœ‰ä¸€äº›ç½‘ç«™ä¸Šï¼Œä¹Ÿæœ‰ä½¿ç”¨strongæ ‡ç­¾å¯¹å°æ ‡é¢˜è¿›è¡Œå¼ºè°ƒï¼Œä½†æ˜¯åœ¨é¡µé¢ä¸­ï¼Œå¦‚æœå‡ºç°è¿‡å¤šçš„strongæ ‡ç­¾ï¼Œå¯èƒ½ä¼šå¯¹äºæ’åä¸åˆ©ã€‚</p>
<p>ã€Šiä¸emã€‹</p>
<p>1.iæ˜¯å®ä½“æ ‡ç­¾ï¼Œç”¨æ¥ä½¿å­—ç¬¦å€¾æ–œï¼Œemæ˜¯é€»è¾‘æ ‡ç­¾ï¼Œä½œç”¨æ˜¯å¼ºè°ƒæ–‡æœ¬å†…å®¹ã€‚</p>
<p>2.iæ ‡ç­¾åªæ˜¯æ–œä½“çš„æ ·å¼ï¼Œæ²¡æœ‰å®é™…å«ä¹‰ï¼Œå¸¸ç”¨æ¥è¡¨è¾¾æ— å¼ºè°ƒæˆ–è€…é‡æ„å‘³çš„æ–œä½“ï¼Œæ¯”å¦‚ç”Ÿç‰©å­¦åã€æœ¯è¯­ã€å¤–æ¥è¯­ã€‚</p>
<p>3.emè¡¨ç¤ºæ ‡ç­¾å†…å­—ç¬¦é‡è¦ï¼Œç”¨ä»¥å¼ºè°ƒï¼Œå…¶é»˜è®¤æ ¼å¼æ˜¯æ–œä½“ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡cssæ·»åŠ æ ·å¼ã€‚</p>
<p>â€¼ï¸å»ºè®®ï¼šä¸ºäº†ç¬¦åˆcssçš„è§„èŒƒï¼Œiæ ‡ç­¾åº”å°½é‡å°‘ç”¨ï¼Œåº”æ”¹ç”¨emã€‚</p>
<h3 id="â™¥ï¸ä»€ä¹ˆæ˜¯æ ‡å‡†æ–‡æ¡£æµ"><a href="#â™¥ï¸ä»€ä¹ˆæ˜¯æ ‡å‡†æ–‡æ¡£æµ" class="headerlink" title="â™¥ï¸ä»€ä¹ˆæ˜¯æ ‡å‡†æ–‡æ¡£æµ"></a>â™¥ï¸ä»€ä¹ˆæ˜¯æ ‡å‡†æ–‡æ¡£æµ</h3><p>æ ‡å‡†æ–‡æ¡£æµæŒ‡çš„æ˜¯å…ƒç´ æ’ç‰ˆå¸ƒå±€è¿‡ç¨‹ä¸­ï¼Œå…ƒç´ ä¼šé»˜è®¤è‡ªåŠ¨ä»å·¦å¾€å³ï¼Œä»ä¸Šå¾€ä¸‹çš„æµå¼æ’åˆ—æ–¹å¼ã€‚å½“å‰é¢å†…å®¹å‘ç”Ÿäº†å˜åŒ–ï¼Œåé¢çš„å†…å®¹ä½ç½®ä¹Ÿä¼šéšç€å‘ç”Ÿå˜åŒ–ã€‚</p>
<p>HTMLå°±æ˜¯ä¸€ç§æ ‡å‡†æ–‡æ¡£æµæ–‡ä»¶ã€‚</p>
<h3 id="â™¥ï¸z-indexæ˜¯ä»€ä¹ˆï¼Ÿåœ¨positionçš„å€¼ä»€ä¹ˆæ—¶å€™å¯ä»¥è§¦å‘"><a href="#â™¥ï¸z-indexæ˜¯ä»€ä¹ˆï¼Ÿåœ¨positionçš„å€¼ä»€ä¹ˆæ—¶å€™å¯ä»¥è§¦å‘" class="headerlink" title="â™¥ï¸z-indexæ˜¯ä»€ä¹ˆï¼Ÿåœ¨positionçš„å€¼ä»€ä¹ˆæ—¶å€™å¯ä»¥è§¦å‘"></a>â™¥ï¸z-indexæ˜¯ä»€ä¹ˆï¼Ÿåœ¨positionçš„å€¼ä»€ä¹ˆæ—¶å€™å¯ä»¥è§¦å‘</h3><ul>
<li>z-indexå †å ä¸Šä¸‹æ–‡åªæœ‰åœ¨postion:relative&#x2F;absolute&#x2F;fixedè„±ç¦»æ–‡æ¡£æµæ§åˆ¶æ—¶æ‰ç”Ÿæ•ˆï¼Œstaticæ—¶æ— æ•ˆã€‚</li>
<li>å½“çˆ¶å…ƒç´ å’Œå­å…ƒç´ éƒ½å¤„äºå †å ä¸Šä¸‹æ–‡æ—¶ï¼Œå­å…ƒç´ ç»§æ‰¿çˆ¶å…ƒç´ çš„ä¼˜å…ˆçº§ï¼Œæ•…çˆ¶å…ƒç´ å¤§çš„å°±å¤§ï¼Œå¦‚æœçˆ¶å…ƒç´ æ²¡æœ‰å¤„äºå †å ä¸Šä¸‹æ–‡æ—¶ï¼Œå³z-index:auto;æˆ–è€…position:static;æ—¶ï¼Œå­å…ƒç´ ä¸ä¼šç»§æ‰¿çˆ¶å…ƒç´ çš„ä¼˜å…ˆçº§ã€‚</li>
<li>z-indexä¸º0æ—¶ä¾ç„¶å¤„äºå †å ä¸Šä¸‹æ–‡ä¸­ï¼Œæ¯”è´Ÿå€¼é«˜ï¼Œæ¯”æ­£å€¼ä½ã€‚</li>
<li>z-indexä¸ºè´Ÿå€¼æ—¶ä¸ä»…ä¼šå¤„äºz-indexä¸º0å’Œæ­£å€¼å…ƒç´ çš„åé¢ï¼Œè¿˜ä¼šå¤„äºéå †å å…ƒç´ çš„åé¢ã€‚</li>
</ul>
<h3 id="â™¥ï¸ç®€è¿°ä¸€ä¸‹srcå’Œhrefçš„åŒºåˆ«ï¼Œtitleå’Œaltçš„åŒºåˆ«"><a href="#â™¥ï¸ç®€è¿°ä¸€ä¸‹srcå’Œhrefçš„åŒºåˆ«ï¼Œtitleå’Œaltçš„åŒºåˆ«" class="headerlink" title="â™¥ï¸ç®€è¿°ä¸€ä¸‹srcå’Œhrefçš„åŒºåˆ«ï¼Œtitleå’Œaltçš„åŒºåˆ«"></a>â™¥ï¸ç®€è¿°ä¸€ä¸‹srcå’Œhrefçš„åŒºåˆ«ï¼Œtitleå’Œaltçš„åŒºåˆ«</h3><p>hrefï¼šhrefè¡¨ç¤ºè¶…æ–‡æœ¬å¼•ç”¨ï¼Œç”¨æ¥å»ºç«‹å½“å‰å…ƒç´ å’Œæ–‡æ¡£çš„é“¾æ¥ï¼Œå¸¸ç”¨åœ¨linkå’Œaç­‰å…ƒç´ ä¸Šã€‚</p>
<p>â€¼ï¸æ³¨ï¼šå½“æµè§ˆå™¨è§£æåˆ°è¿™ä¸€å¥æ—¶ä¼šè¯†åˆ«è¯¥æ–‡æ¡£ä¸ºcssæ–‡ä»¶ï¼Œä¼šä¸‹è½½å¹¶ä¸ä¼šåœæ­¢å¯¹å½“å‰æ–‡æ¡£çš„å¤„ç†ï¼Œæ‰€ä»¥å»ºè®®ä½¿ç”¨linkçš„æ–¹å¼è€Œä¸æ˜¯ä½¿ç”¨@importåŠ è½½cssã€‚</p>
<p>srcï¼šsrcè¡¨ç¤ºå¼•ç”¨èµ„æºï¼Œæ›¿æ¢å½“å‰å…ƒç´ ï¼Œæ˜¯é¡µé¢å†…å®¹ä¸å¯ç¼ºå°‘çš„ä¸€éƒ¨åˆ†ï¼Œå¸¸ç”¨åœ¨imgï¼Œscriptï¼Œiframeä¸Šã€‚srcæŒ‡å‘å¤–éƒ¨èµ„æºçš„ä½ç½®ï¼ŒæŒ‡å‘çš„å†…éƒ¨ä¼šåµŒå…¥åˆ°æ–‡æ¡£ä¸­å½“å‰æ ‡ç­¾æ‰€åœ¨çš„ä½ç½®ï¼›è¯·æ±‚srcèµ„æºæ—¶ä¼šå°†å…¶æŒ‡å‘çš„èµ„æºä¸‹è½½å¹¶åº”ç”¨åˆ°å½“å‰æ–‡æ¡£ä¸­ï¼Œä¾‹å¦‚jsè„šæœ¬ã€imgå›¾ç‰‡ç­‰ã€‚</p>
<p>â€¼ï¸æ³¨ï¼šsrcé“¾æ¥å†…çš„åœ°å€ä¸ä¼šæœ‰è·¨åŸŸé—®é¢˜ã€‚å½“æµè§ˆå™¨è§£æåˆ°è¿™ä¸€å¥æ—¶ä¼šæš‚åœå…¶ä»–èµ„æºçš„ä¸‹è½½å’Œå¤„ç†ï¼Œç›´åˆ°å°†è¯¥èµ„æºåŠ è½½ã€ç¼–è¯‘ã€æ‰§è¡Œå®Œæ¯•ã€‚è¿™ä¹Ÿæ˜¯jsè„šæœ¬æ”¾åœ¨åº•éƒ¨è€Œä¸æ˜¯å¤´éƒ¨çš„é—®é¢˜ã€‚</p>
<p>titleï¼š</p>
<p>1.titleå±æ€§æ˜¯ä¸ºå…ƒç´ æä¾›é¢å¤–çš„æ³¨é‡Šä¿¡æ¯ï¼Œå½“é¼ æ ‡æ”¾åœ¨å…ƒç´ ä¸Šæ—¶ä¼šæœ‰titleæ–‡å­—æ˜¾ç¤ºï¼Œä»¥è¾¾åˆ°è¡¥å……è¯´æ˜æˆ–æç¤ºã€‚</p>
<p>2.titleå±æ€§æ›´å€¾å‘äºç”¨æˆ·ä½“éªŒçš„è€ƒè™‘ã€‚</p>
<p>3.titleæ—¢å¯ä»¥æ˜¯å…ƒç´ çš„å±æ€§ä¹Ÿå¯ä»¥æ˜¯æ ‡ç­¾ã€‚</p>
<p>altï¼š</p>
<p>1.altå±æ€§æ˜¯åœ¨ä½ å›¾ç‰‡æ— æ³•æ˜¾ç¤ºæ—¶çš„æ›¿ä»£æ–‡æœ¬ï¼Œå®ƒä¼šç›´æ¥è¾“å‡ºåœ¨åŸæœ¬åŠ è½½å›¾ç‰‡çš„åœ°æ–¹ã€‚</p>
<p>2.altå±æ€§æ˜¯æœ‰åˆ©äºSEOï¼Œæ˜¯æœç´¢å¼•æ“æœå½•æ—¶åˆ¤æ–­å›¾ç‰‡ä¸æ–‡å­—æ˜¯å¦ç›¸å…³çš„é‡è¦ä¾æ®ã€‚</p>
<p>3.altåªèƒ½æ˜¯å…ƒç´ çš„å±æ€§ï¼Œåªèƒ½ç”¨åœ¨imgã€areaå’Œinputæ ‡ç­¾ä¸­ï¼ˆimgï¼Œareaä¸­çš„altå¿…é¡»æŒ‡å®šï¼‰ã€‚</p>
<p>â€¼ï¸æ³¨ï¼šå½“aæ ‡ç­¾å†…åµŒå¥—imgæ ‡ç­¾æ—¶ï¼Œèµ·ä½œç”¨çš„æ˜¯imgçš„titleå±æ€§ã€‚</p>
<h3 id="â™¥ï¸CSSæ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•"><a href="#â™¥ï¸CSSæ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•" class="headerlink" title="â™¥ï¸CSSæ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•"></a>â™¥ï¸CSSæ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•</h3><p>æµ®åŠ¨é—®é¢˜ï¼Œä¾‹å¦‚ï¼š</p>
<p><img src="/2022/10/15/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E4%B9%8BHTML5-CSS3/image-20221012073825650.png"></p>
<p>æµ®åŠ¨ä»£ç å®ç°ï¼š</p>
<pre><code class="html">&lt;div class=&quot;fater&quot;&gt;
    &lt;div class=&quot;box1&quot;&gt;one&lt;/div&gt;
    &lt;div class=&quot;box2&quot;&gt;two&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;box3&quot;&gt;three&lt;/div&gt;
</code></pre>
<pre><code class="css">.fater&#123;
    width: 300px;
    border:1px solid pink;
&#125;
.box1&#123;
    width: 100px;
    height: 100px;
    background-color: blue;
    float: left;
&#125;
.box2&#123;
    width: 140px;
    height: 120px;
    background-color: blueviolet;
    float: left;
&#125;
.box3&#123;
    width: 200px;
    height: 150px;
    background-color: brown;
&#125;
</code></pre>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå› ä¸ºç›’å­1å’Œ2çš„æµ®åŠ¨ï¼Œè„±ç¦»äº†æ–‡æ¡£æµï¼Œé‚£ä¹ˆåœ¨ä»–ä»¬ä¸‹é¢çš„ç›’å­å°±ä¼šé¡¶ä¸Šæ¥ï¼Œåˆå› ä¸ºçˆ¶ç›’å­æ²¡æœ‰è®¾ç½®é«˜åº¦ï¼Œæ­¤æ—¶çˆ¶ç›’å­çš„é«˜åº¦ä¸ºé›¶ï¼Œæµ®åŠ¨çš„å…ƒç´ ä¸èƒ½æ’‘å¼€çˆ¶ç›’å­çš„é«˜åº¦æ˜¯å› ä¸ºå­å…ƒç´ è„±ç¦»æ–‡æ¡£æµï¼Œçˆ¶å…ƒç´ æ²¡æœ‰è„±ç¦»æ–‡æ¡£æµï¼Œæ‰€ä»¥ç°åœ¨çš„çˆ¶ç›’å­ç›¸å½“äºæ²¡æœ‰å…ƒç´ ï¼Œæ‰€ä»¥é«˜åº¦ä¸ºé›¶ã€‚</p>
<p>æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•ï¼š</p>
<p>1.åœ¨æ ‡ç­¾å°¾éƒ¨æ·»åŠ ç©ºçš„å—çº§æ ‡ç­¾ï¼Œè®¾ç½®æ ·å¼å±æ€§ä¸ºï¼šclearï¼šbothï¼›</p>
<p>ç¼ºç‚¹ï¼šå¦‚æœé¡µé¢æµ®åŠ¨å¸ƒå±€è¿‡å¤šï¼Œå°±è¦æ·»åŠ å¾ˆå¤šç©ºçš„å—çº§å…ƒç´ ï¼Œä¸åˆ©äºé¡µé¢çš„ä¼˜åŒ–ã€‚</p>
<pre><code class="html">//html
&lt;div class=&quot;fater&quot;&gt;
    &lt;div class=&quot;box1&quot;&gt;one&lt;/div&gt;
    &lt;div class=&quot;box2&quot;&gt;two&lt;/div&gt;
    &lt;div class=&quot;box4&quot;&gt;ç©ºå…ƒç´ &lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;box3&quot;&gt;three&lt;/div&gt;
//css
.box4&#123;
    clear:both;
    background-color: aqua;
&#125;
</code></pre>
<p><img src="/2022/10/15/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E4%B9%8BHTML5-CSS3/image-20221012081413822.png"></p>
<p>2.ç»™çˆ¶ç›’å­æ·»åŠ overflowï¼šhiddenï¼›ï¼ˆè§¦å‘BFCï¼‰</p>
<p>ç¼ºç‚¹ï¼šä¸èƒ½å’Œpositioné…åˆä½¿ç”¨ï¼›å†…å®¹å¢å¤šçš„æ—¶å€™å®¹æ˜“é€ æˆä¸ä¼šè‡ªåŠ¨æ¢è¡Œå¯¼è‡´å†…å®¹è¢«éšè—ï¼Œæ— æ³•æ˜¾ç¤ºè¦æº¢å‡ºçš„å…ƒç´ ã€‚</p>
<pre><code class="html">//html
&lt;div class=&quot;fater&quot;&gt;
    &lt;div class=&quot;box1&quot;&gt;one&lt;/div&gt;
    &lt;div class=&quot;box2&quot;&gt;two&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;box3&quot;&gt;three&lt;/div&gt;
//css
.fater&#123;
    width: 300px;
    border:1px solid pink;
    overflow: hidden;
&#125;
</code></pre>
<p><img src="/2022/10/15/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E4%B9%8BHTML5-CSS3/image-20221012081713849.png"></p>
<p>3.ä½¿ç”¨ä¼ªå…ƒç´ æ¸…é™¤æµ®åŠ¨ï¼ˆæ¨èï¼‰</p>
<p>ç¼ºç‚¹ï¼šie6-7ä¸æ”¯æŒä¼ªå…ƒç´  :afterï¼Œä½¿ç”¨zoom:1 è§¦å‘hasLayoutã€‚</p>
<pre><code class="html">//html
&lt;div class=&quot;fater clear&quot;&gt;
    &lt;div class=&quot;box1&quot;&gt;one&lt;/div&gt;
    &lt;div class=&quot;box2&quot;&gt;two&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;box3&quot;&gt;three&lt;/div&gt;
//css
.clear::after&#123;
    content: &quot;&quot;;
    display: block;
    clear: both;
&#125;
.clearfix&#123;
        *zoom:1 // *ie6æ¸…é™¤æµ®åŠ¨çš„æ–¹å¼ *å·åªæœ‰IE6-IE7æ‰§è¡Œï¼Œå…¶ä»–æµè§ˆå™¨ä¸æ‰§è¡Œ
&#125;
</code></pre>
<p>4.ç›´æ¥ç»™çˆ¶å…ƒç´ å•ç‹¬è®¾ç½®é«˜åº¦ï¼ˆheightï¼‰(ä¸æ¨è)</p>
<p>ç¼ºç‚¹ï¼šåªé€‚åˆé«˜åº¦å›ºå®šçš„å¸ƒå±€ï¼Œä¸åˆ©äºå“åº”å¼å¸ƒå±€ã€‚</p>
<h3 id="â™¥ï¸hasLayoutæ˜¯ä»€ä¹ˆï¼Ÿ-äº†è§£å³å¯"><a href="#â™¥ï¸hasLayoutæ˜¯ä»€ä¹ˆï¼Ÿ-äº†è§£å³å¯" class="headerlink" title="â™¥ï¸hasLayoutæ˜¯ä»€ä¹ˆï¼Ÿ(äº†è§£å³å¯)"></a>â™¥ï¸hasLayoutæ˜¯ä»€ä¹ˆï¼Ÿ(äº†è§£å³å¯)</h3><p>hasLayoutæ˜¯IEç‰¹æœ‰çš„ä¸€ä¸ªå±æ€§ã€‚å¾ˆå¤šçš„ieä¸‹çš„css bugéƒ½ä¸å…¶æ¯æ¯ç›¸å…³ã€‚åœ¨ieä¸­ï¼Œä¸€ä¸ªå…ƒç´ è¦ä¹ˆè‡ªå·±å¯¹è‡ªèº«çš„å†…å®¹è¿›è¡Œè®¡ç®—å¤§å°å’Œç»„ç»‡ï¼Œè¦ä¹ˆä¾èµ–äºçˆ¶å…ƒç´ æ¥è®¡ç®—å°ºå¯¸å’Œç»„ç»‡å†…å®¹ã€‚å½“ä¸€ä¸ªå…ƒç´ çš„hasLayoutå±æ€§å€¼ä¸ºtrueæ—¶ï¼Œå®ƒè´Ÿè´£å¯¹è‡ªå·±å’Œå¯èƒ½çš„å­å­™å…ƒç´ è¿›è¡Œå°ºå¯¸è®¡ç®—å’Œå®šä½ã€‚è™½ç„¶è¿™æ„å‘³ç€è¿™ä¸ªå…ƒç´ éœ€è¦èŠ±æ›´å¤šçš„ä»£ä»·æ¥ç»´æŠ¤è‡ªèº«å’Œé‡Œé¢çš„å†…å®¹ï¼Œè€Œä¸æ˜¯ä¾èµ–äºç¥–å…ˆå…ƒç´ æ¥å®Œæˆè¿™äº›å·¥ä½œã€‚<br>ä¸‹åˆ—å…ƒç´ é»˜è®¤ hasLayout&#x3D;true</p>
<pre><code class="html">&lt;table&gt; &lt;td&gt; &lt;body&gt; &lt;img&gt; &lt;hr&gt; &lt;input&gt; &lt;select&gt; &lt;textarea&gt; &lt;button&gt; &lt;iframe&gt; &lt;embed&gt; &lt;object&gt; &lt;applet&gt; &lt;marquee&gt; 
å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æŠŠ hasLayoutçš„çŠ¶æ€æ”¹æˆtrue å°±å¯ä»¥è§£å†³å¾ˆå¤§éƒ¨åˆ†ieä¸‹æ˜¾ç¤ºçš„bugã€‚ 
hasLayoutå±æ€§ä¸èƒ½ç›´æ¥è®¾å®šï¼Œä½ åªèƒ½é€šè¿‡è®¾å®šä¸€äº›ç‰¹å®šçš„csså±æ€§æ¥è§¦å‘å¹¶æ”¹å˜ hasLayout çŠ¶æ€ã€‚ä¸‹é¢åˆ—å‡ºå¯ä»¥è§¦å‘hasLayoutçš„ä¸€äº›CSSå±æ€§å€¼ã€‚ 
------------------------------------- 
display 
å¯åŠ¨haslayoutçš„å€¼:inline-block 
å–æ¶ˆhasLayoutçš„å€¼:å…¶ä»–å€¼ 
-------------------------------------- 
width/height 
å¯åŠ¨hasLayoutçš„å€¼ï¼šé™¤äº†autoä»¥å¤–çš„å€¼ 
å–æ¶ˆhasLayoutçš„å€¼ï¼šauto 
--------------------------------------- 
position 
å¯åŠ¨hasLayoutçš„å€¼ï¼šabsolute 
å–æ¶ˆhasLayoutçš„å€¼ï¼šstatic 
---------------------------------------- 
float 
å¯åŠ¨hasLayoutçš„å€¼ï¼šleftæˆ–right 
å–æ¶ˆhasLayoutçš„å€¼ï¼šnone 
--------------------------------------- 
zoom 
å¯åŠ¨hasLayoutçš„å€¼ï¼šæœ‰å€¼ 
å–æ¶ˆhasLayoutçš„å€¼ï¼šnarmalæˆ–è€…ç©ºå€¼ 
ï¼ˆzoomæ˜¯å¾®è½¯IEä¸“æœ‰å±æ€§ï¼Œå¯ä»¥è§¦å‘hasLayoutä½†ä¸ä¼šå½±å“é¡µé¢çš„æ˜¾ç¤ºæ•ˆæœã€‚zoom: 1å¸¸ç”¨æ¥é™¤é”™ï¼Œä¸è¿‡ ie 5 å¯¹è¿™ä¸ªå±æ€§ä¸æ”¯æŒã€‚ï¼‰
</code></pre>
<h3 id="â™¥ï¸ä»€ä¹ˆæ˜¯CSS3-transform-animation-åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸ä»€ä¹ˆæ˜¯CSS3-transform-animation-åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸ä»€ä¹ˆæ˜¯CSS3 transform? animation? åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸ä»€ä¹ˆæ˜¯CSS3 transform? animation? åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>ä¸€ã€transformæè¿°çš„æ˜¯å…ƒç´ é™æ€æ ·å¼</p>
<p>â€‹	transformå±æ€§åº”ç”¨ä¸å…ƒç´ çš„2Då’Œ3Dè½¬æ¢ã€‚è¿™ä¸ªå±æ€§å…è®¸ä½ å°†å…ƒç´ æ—‹è½¬ï¼Œç¼©æ”¾ï¼Œç§»åŠ¨ï¼Œå€¾æ–œç­‰ã€‚å¿…é¡»æ˜¯é¼ æ ‡ç§»ä¸Šæˆ–è€…ç‚¹å‡»æ‰§è¡Œå±æ€§å˜åŒ–ï¼Œé¼ æ ‡ç¦»å¼€å±æ€§å›å½’ã€‚è¯´åˆ°åº•å°±æ˜¯å±æ€§ä¸ä¼šå˜åŒ–ã€‚é…åˆ-webkit-transition: 0.3s;transition: 0.3s;æ‰ä¼šæœ‰åŠ¨ç”»çš„æ•ˆæœï¼Œå¦åˆ™ä¼šå¾ˆç”Ÿç¡¬ã€‚</p>
<pre><code class="css">æ—‹è½¬ï¼šrote(30deg)    æ°´å¹³é¢ä»¥å…ƒç´ ä¸­å¿ƒæ—‹è½¬å¤šå°‘åº¦ï¼›
     rotateX(angle)   å®šä¹‰æ²¿ç€ X è½´çš„ 3D æ—‹è½¬ï¼›
     rotateY(angle)   å®šä¹‰æ²¿ç€ Y è½´çš„ 3D æ—‹è½¬ï¼›
ä½ç§»ï¼štranslate(x,y)   å®šä¹‰ 2D è½¬æ¢;
     translate3d(x,y,z)  å®šä¹‰ 3D è½¬æ¢;
ç¼©æ”¾ï¼šscale(x,y)   å®šä¹‰ 2D ç¼©æ”¾è½¬æ¢;
     scale3d(x,y,z)   å®šä¹‰ 3D ç¼©æ”¾è½¬æ¢;
</code></pre>
<p>äºŒã€å®ç°åŠ¨ç”»æ•ˆæœçš„ï¼štransition  animation</p>
<p>1ã€transition</p>
<pre><code class="css">transition å±æ€§æ˜¯ä¸€ä¸ªç®€å†™å±æ€§ï¼Œç”¨äºè®¾ç½®å››ä¸ªè¿‡æ¸¡å±æ€§ 
transition: property    duration      timing-function   delay;
            è¿‡æ¸¡çš„å±æ€§ | å®Œæˆè¿‡åº¦æ•ˆæœéœ€è¦æ—¶é—´ | é€Ÿåº¦æ›²çº¿  |  å»¶è¿Ÿæ—¶é—´
.one1&#123;transition: width 3s linear 2s;&#125;    
.one1:hover&#123;width:300px;&#125;

transitionå®šä¹‰äº†åŠ¨ç”»çš„å±æ€§ã€æ—¶é—´ã€é€Ÿåº¦æ›²çº¿ä»¥åŠå»¶è¿Ÿæ—¶é—´  ï¼›é€šå¸¸å’Œhoverç­‰äº‹ä»¶é…åˆä½¿ç”¨ï¼Œç”±äº‹ä»¶è§¦å‘ã€‚
</code></pre>
<p>2ã€animation</p>
<pre><code class="css">animation å±æ€§æ˜¯ä¸€ä¸ªç®€å†™å±æ€§ï¼Œç”¨äºè®¾ç½®å…­ä¸ªåŠ¨ç”»å±æ€§ï¼š
animationçš„ä½¿ç”¨å¿…é¡»ç»“åˆ@keyframes animation-nameä½¿ç”¨
    @keyframes  move&#123;
                                        form&#123; left:0px;&#125;  
                                        to&#123; left:200px;&#125;
                                    &#125;
åœ¨éœ€è¦åŠ¨ç”»çš„å…ƒç´ ä¸Šé¢æ·»åŠ åŠ¨ç”»  div&#123;animation:move 5s infinite;&#125;
animation: name duration timing-function delay iteration-count direction;
åŠ¨ç”»åç§°ï¼ŒåŠ¨ç”»æ‰§è¡Œæ—¶é—´ï¼Œé€Ÿåº¦æ›²çº¿ï¼ŒåŠ¨ç”»å»¶è¿Ÿæ—¶é—´ï¼Œæ’­æ”¾æ¬¡æ•°ï¼Œæ˜¯å¦åå‘æ’­æ”¾
animationå¯ä»¥è®¾å®šæ¯ä¸€å¸§çš„æ ·å¼å’Œæ—¶é—´
</code></pre>
<p>åŒºåˆ«ï¼š</p>
<ol>
<li>è§¦å‘æ¡ä»¶ä¸åŒã€‚transitioné€šå¸¸å’Œhoverç­‰äº‹ä»¶é…åˆä½¿ç”¨ï¼Œç”±äº‹ä»¶è§¦å‘ã€‚animationåˆ™ç«‹å³æ’­æ”¾ã€‚</li>
<li>å¾ªç¯ã€‚ animationå¯ä»¥è®¾å®šå¾ªç¯æ¬¡æ•°ã€‚</li>
<li>ç²¾ç¡®æ€§ã€‚ animationå¯ä»¥è®¾å®šæ¯ä¸€å¸§çš„æ ·å¼å’Œæ—¶é—´ã€‚tranistion åªèƒ½è®¾å®šå¤´å°¾ã€‚ animationä¸­å¯ä»¥è®¾ç½®æ¯ä¸€å¸§éœ€è¦å•ç‹¬å˜åŒ–çš„æ ·å¼å±æ€§ï¼Œ transitionä¸­æ‰€æœ‰æ ·å¼å±æ€§éƒ½è¦ä¸€èµ·å˜åŒ–ã€‚</li>
<li>ä¸javascriptçš„äº¤äº’ã€‚animationä¸jsçš„äº¤äº’ä¸æ˜¯å¾ˆç´§å¯†ã€‚tranistionå’Œjsçš„ç»“åˆæ›´å¼ºå¤§ã€‚jsè®¾å®šè¦å˜åŒ–çš„æ ·å¼ï¼Œtransitionè´Ÿè´£åŠ¨ç”»æ•ˆæœï¼Œå¤©ä½œä¹‹åˆï¼Œæ¯”ä¹‹å‰åªèƒ½ç”¨jsæ—¶çˆ½å¤ªå¤šã€‚</li>
</ol>
<p>â€¼ï¸æ€»ç»“ï¼š</p>
<p>1.transitionæ˜¯cssä¸­æ£€æµ‹æŒ‡å®šå±æ€§å˜åŒ–è¿›è¡Œè‡ªåŠ¨è¡¥é—´åŠ¨ç”»çš„å±æ€§ã€‚</p>
<p>2.animationæ˜¯å…ˆæŒ‡å®šå¥½åŠ¨ç”»è¿‡ç¨‹ä¸­çš„å…³é”®å¸§å±æ€§ï¼Œè¿›è¡ŒåŠ¨ç”»çš„å±æ€§ã€‚</p>
<h3 id="â™¥ï¸å¦‚ä½•ç†è§£HTMLç»“æ„è¯­ä¹‰åŒ–ï¼Ÿ"><a href="#â™¥ï¸å¦‚ä½•ç†è§£HTMLç»“æ„è¯­ä¹‰åŒ–ï¼Ÿ" class="headerlink" title="â™¥ï¸å¦‚ä½•ç†è§£HTMLç»“æ„è¯­ä¹‰åŒ–ï¼Ÿ"></a>â™¥ï¸å¦‚ä½•ç†è§£HTMLç»“æ„è¯­ä¹‰åŒ–ï¼Ÿ</h3><h4 id="ä¸€ã€ä»€ä¹ˆæ˜¯è¯­ä¹‰åŒ–ï¼Ÿ"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯è¯­ä¹‰åŒ–ï¼Ÿ" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯è¯­ä¹‰åŒ–ï¼Ÿ"></a>ä¸€ã€ä»€ä¹ˆæ˜¯è¯­ä¹‰åŒ–ï¼Ÿ</h4><p>å­—é¢æ„æ€å°±æ˜¯è¯´æ ¹æ®æˆ‘ä»¬æ‰€è¯´çš„è¯ï¼Œå°±èƒ½äº†è§£å…¶ä¸­çš„å«ä¹‰ã€‚è¯­ä¹‰åŒ–ï¼Œæ•…åæ€æ„ï¼Œå°±æ˜¯ä½ å†™çš„HTMLç»“æ„ï¼Œæ˜¯ç”¨ç›¸å¯¹åº”çš„æœ‰ä¸€å®šè¯­ä¹‰çš„è‹±æ–‡å­—æ¯(æ ‡ç­¾)è¡¨ç¤ºçš„ï¼Œæ ‡è®°çš„ï¼Œå› ä¸ºHTMLæœ¬èº«å°±æ˜¯æ ‡è®°è¯­è¨€ã€‚ä¸ä»…å¯¹è‡ªå·±æ¥è¯´ï¼Œå®¹æ˜“é˜…è¯»ï¼Œä¹¦å†™ã€‚åˆ«äººçœ‹ä½ çš„ä»£ç å’Œç»“æ„ä¹Ÿå®¹æ˜“ç†è§£ï¼Œç”šè‡³å¯¹ä¸€äº›ä¸æ˜¯åšç½‘é¡µå¼€å‘çš„äººæ¥è¯´ï¼Œä¹Ÿå®¹æ˜“é˜…è¯»ã€‚</p>
<h4 id="äºŒã€ä»€ä¹ˆæ˜¯HTMLè¯­ä¹‰åŒ–ï¼Ÿ"><a href="#äºŒã€ä»€ä¹ˆæ˜¯HTMLè¯­ä¹‰åŒ–ï¼Ÿ" class="headerlink" title="äºŒã€ä»€ä¹ˆæ˜¯HTMLè¯­ä¹‰åŒ–ï¼Ÿ"></a>äºŒã€ä»€ä¹ˆæ˜¯HTMLè¯­ä¹‰åŒ–ï¼Ÿ</h4><p>é¦–å…ˆæ ‡ç­¾è¯­ä¹‰åŒ–æ˜¯æŒ‡HTMLï¼Œä¸æ˜¯CSS, è¯­ä¹‰åŒ–æ ‡ç­¾åªæ˜¯HTMLï¼ŒCSSä¸å­˜åœ¨è¯­ä¹‰åŒ–ã€‚HTMLæ˜¯æ ‡ç­¾ï¼ŒCSSæ˜¯å±æ€§ã€‚</p>
<p>åœ¨æœ€åˆhtmlé‡Œæ ‡ç­¾çš„è¯­ä¹‰ï¼Œæˆ‘ä»¬çœ‹åˆ°table,å°±ä¼šçŸ¥é“è¿™æ˜¯åˆ—è¡¨ï¼Œçœ‹åˆ°pï¼Œå°±çŸ¥é“è¿™æ˜¯æ®µè½ï¼Œçœ‹åˆ°imgçŸ¥é“æ˜¯å›¾ç‰‡ï¼Œçœ‹åˆ°inputå°±çŸ¥é“è¿™æ˜¯ä¸€ä¸ªè¡¨å•ï¼Œh1~h6æ˜¯æ ‡é¢˜ã€‚ æœºå™¨å’Œäººç±»ç›¸æ¯”ç¬¨å¤šäº†ï¼Œä½†æ˜¯åªè¦æˆ‘ä»¬è®¾å®šå¥½ç¨‹åºï¼Œä¸Šé¢çš„æ ‡ç­¾çš„æ„æ€æœºå™¨ä¹Ÿèƒ½è¯»æ‡‚ã€‚</p>
<h4 id="ä¸‰ã€æ€æ ·åˆ¤æ–­æ ‡ç­¾æ˜¯å¦è¯­ä¹‰åŒ–"><a href="#ä¸‰ã€æ€æ ·åˆ¤æ–­æ ‡ç­¾æ˜¯å¦è¯­ä¹‰åŒ–" class="headerlink" title="ä¸‰ã€æ€æ ·åˆ¤æ–­æ ‡ç­¾æ˜¯å¦è¯­ä¹‰åŒ–"></a>ä¸‰ã€æ€æ ·åˆ¤æ–­æ ‡ç­¾æ˜¯å¦è¯­ä¹‰åŒ–</h4><p>å»æ‰æ ·å¼ï¼Œçœ‹ç½‘é¡µç»“æ„æ˜¯å¦ç»„ç»‡è‰¯å¥½æœ‰åºï¼Œæ˜¯å¦ä»ç„¶æœ‰å¾ˆå¥½çš„å¯è¯»æ€§ã€‚</p>
<h4 id="å››ã€å†™HTMLä»£ç æ—¶åº”æ³¨æ„ä»€ä¹ˆï¼Ÿ"><a href="#å››ã€å†™HTMLä»£ç æ—¶åº”æ³¨æ„ä»€ä¹ˆï¼Ÿ" class="headerlink" title="å››ã€å†™HTMLä»£ç æ—¶åº”æ³¨æ„ä»€ä¹ˆï¼Ÿ"></a>å››ã€å†™HTMLä»£ç æ—¶åº”æ³¨æ„ä»€ä¹ˆï¼Ÿ</h4><p>1.å°½å¯èƒ½å°‘çš„ä½¿ç”¨æ— è¯­ä¹‰çš„æ ‡ç­¾divå’Œspanï¼›</p>
<p>2.åœ¨è¯­ä¹‰ä¸æ˜æ˜¾æ—¶ï¼Œæ—¢å¯ä»¥ä½¿ç”¨divæˆ–è€…pæ—¶ï¼Œå°½é‡ç”¨p, å› ä¸ºpåœ¨é»˜è®¤æƒ…å†µä¸‹æœ‰ä¸Šä¸‹é—´è·ï¼Œå¯¹å…¼å®¹ç‰¹æ®Šç»ˆç«¯æœ‰åˆ©ï¼›</p>
<p>3.ä¸è¦ä½¿ç”¨çº¯æ ·å¼æ ‡ç­¾ï¼Œå¦‚ï¼šbã€fontã€uç­‰ï¼Œæ”¹ç”¨cssè®¾ç½®ã€‚</p>
<p>4.éœ€è¦å¼ºè°ƒçš„æ–‡æœ¬ï¼Œå¯ä»¥åŒ…å«åœ¨strongæˆ–è€…emæ ‡ç­¾ä¸­(æµè§ˆå™¨é¢„è®¾æ ·å¼ï¼Œèƒ½ç”¨CSSæŒ‡å®šå°±ä¸ç”¨ä»–ä»¬)ï¼Œstrongé»˜è®¤æ ·å¼æ˜¯åŠ ç²—(ä¸è¦ç”¨b)ï¼Œemæ˜¯æ–œä½“(ä¸ç”¨i)ï¼›</p>
<p>5.ä½¿ç”¨è¡¨æ ¼æ—¶ï¼Œæ ‡é¢˜è¦ç”¨captionï¼Œè¡¨å¤´ç”¨theadï¼Œä¸»ä½“éƒ¨åˆ†ç”¨tbodyåŒ…å›´ï¼Œå°¾éƒ¨ç”¨tfootåŒ…å›´ã€‚è¡¨å¤´å’Œä¸€èˆ¬å•å…ƒæ ¼è¦åŒºåˆ†å¼€ï¼Œè¡¨å¤´ç”¨thï¼Œå•å…ƒæ ¼ç”¨tdï¼›</p>
<p>6.æ¯ä¸ªinputæ ‡ç­¾å¯¹åº”çš„è¯´æ˜æ–‡æœ¬éƒ½éœ€è¦ä½¿ç”¨labelæ ‡ç­¾ï¼Œå¹¶ä¸”é€šè¿‡ä¸ºinputè®¾ç½®idå±æ€§ï¼Œåœ¨lableæ ‡ç­¾ä¸­è®¾ç½®for&#x3D;someldæ¥è®©è¯´æ˜æ–‡æœ¬å’Œç›¸å¯¹åº”çš„inputå…³è”èµ·æ¥ï¼›</p>
<h4 id="äº”ã€è§£å†³çš„é—®é¢˜ï¼ˆå¥½å¤„ï¼‰"><a href="#äº”ã€è§£å†³çš„é—®é¢˜ï¼ˆå¥½å¤„ï¼‰" class="headerlink" title="äº”ã€è§£å†³çš„é—®é¢˜ï¼ˆå¥½å¤„ï¼‰"></a>äº”ã€è§£å†³çš„é—®é¢˜ï¼ˆå¥½å¤„ï¼‰</h4><p>1.æ¸…æ™°çš„é¡µé¢ç»“æ„ã€‚å»æ‰æˆ–æ ·å¼ä¸¢å¤±çš„æ—¶å€™,ä¹Ÿèƒ½è®©é¡µé¢å‘ˆç°æ¸…æ™°çš„ç»“æ„ï¼Œå¢å¼ºé¡µé¢çš„å¯è¯»æ€§ã€‚</p>
<p>2.æ”¯æŒæ›´å¤šçš„è®¾å¤‡ã€‚å±å¹•é˜…è¯»å™¨ä¼šå®Œå…¨æ ¹æ®ä½ çš„æ ‡è®°æ¥â€œè¯»â€ä½ çš„ç½‘é¡µã€‚æ›´å¥½çš„æ”¯æŒæµè§ˆå™¨çš„é˜…è¯»æ¨¡å¼ç­‰ã€‚</p>
<p>3.æœ‰åˆ©äºSEO(æœç´¢å¼•æ“ä¼˜åŒ–)ã€‚å’Œæœç´¢å¼•æ“å»ºç«‹è‰¯å¥½æ²Ÿé€šï¼Œæœ‰åŠ©äºçˆ¬è™«æŠ“å–æ›´å¤šçš„æœ‰æ•ˆä¿¡æ¯ï¼Œæœç´¢å¼•æ“çš„çˆ¬è™«ä¹Ÿä¾èµ–äºæ ‡è®°æ¥ç¡®å®šä¸Šä¸‹æ–‡å’Œå„ä¸ªå…³é”®å­—çš„æƒé‡ã€‚</p>
<p>4.ä¾¿äºå›¢é˜Ÿå¼€å‘å’Œç»´æŠ¤ã€‚åœ¨å›¢é˜Ÿä¸­å¤§å®¶éƒ½éµå¾ªåŒä¸€ä¸ªæ ‡å‡†ï¼Œå¯ä»¥å‡å°‘å¾ˆå¤šå·®å¼‚åŒ–çš„ä¸œè¥¿ï¼Œæ–¹ä¾¿å¼€å‘å’Œç»´æŠ¤ï¼Œæé«˜å¼€å‘æ•ˆç‡ï¼Œç”šè‡³å®ç°æ¨¡å—åŒ–å¼€å‘ã€‚</p>
<p>5.æ–¹ä¾¿å…¶ä»–è®¾å¤‡è§£æ(å¦‚å±å¹•é˜…è¯»å™¨ã€ç›²äººé˜…è¯»å™¨ã€ç§»åŠ¨è®¾å¤‡)ä»¥æ„ä¹‰çš„æ–¹å¼æ¥æ¸²æŸ“ç½‘é¡µï¼›</p>
<h3 id="â™¥ï¸å—çº§å…ƒç´ ï¼Ÿè¡Œå†…å…ƒç´ ï¼Ÿç©ºå…ƒç´ ï¼Ÿ"><a href="#â™¥ï¸å—çº§å…ƒç´ ï¼Ÿè¡Œå†…å…ƒç´ ï¼Ÿç©ºå…ƒç´ ï¼Ÿ" class="headerlink" title="â™¥ï¸å—çº§å…ƒç´ ï¼Ÿè¡Œå†…å…ƒç´ ï¼Ÿç©ºå…ƒç´ ï¼Ÿ"></a>â™¥ï¸å—çº§å…ƒç´ ï¼Ÿè¡Œå†…å…ƒç´ ï¼Ÿç©ºå…ƒç´ ï¼Ÿ</h3><p>1.è¡Œå†…å…ƒç´ ï¼š</p>
<p>ä¸ç‹¬å ä¸€è¡Œã€ä¼šå’Œå…¶ä»–çš„è¡Œå†…å…ƒç´ æ’æˆä¸€æ’ï¼›</p>
<p>ä¸èƒ½è®¾ç½®å®½é«˜ï¼Œé»˜è®¤çš„å®½é«˜æ˜¯ç”±å…¶å†…å®¹å®½é«˜æ’‘èµ·æ¥çš„ï¼›</p>
<p>margin ä¸Šä¸‹ä¸ç”Ÿæ•ˆï¼Œå·¦å³ç”Ÿæ•ˆï¼›</p>
<p>2.å—çº§å…ƒç´ </p>
<p>ç‹¬å ä¸€è¡Œï¼Œä¸ä¼šå’Œå…¶ä»–çš„å…ƒç´ æ’æˆä¸€æ’ï¼›</p>
<p>å¯ä»¥è®¾ç½®å®½é«˜ï¼Œé»˜è®¤çš„å®½åº¦æ˜¯ç»§æ‰¿çˆ¶å…ƒç´ çš„å®½åº¦ã€é«˜åº¦é»˜è®¤æ˜¯å…¶å†…å®¹çš„é«˜åº¦ï¼›</p>
<p>margin ä¸Šä¸‹å·¦å³éƒ½å¯ä»¥è®¾ç½®ï¼Œmargin : auto;ä¸ç”Ÿæ•ˆï¼›</p>
<p>3.è¡Œå†…å—å…ƒç´ </p>
<p>ä¸ç‹¬å ä¸€è¡Œï¼Œå¯ä»¥å’Œå…¶ä»–çš„è¡Œå†…å…ƒç´ æˆ–è€…è¡Œå†…å—çº§å…ƒç´ æ’æˆä¸€æ’ï¼›</p>
<p>è®¾ç½®å®½é«˜ç”Ÿæ•ˆã€é»˜è®¤å®½åº¦ä¸ºçˆ¶å…ƒç´ çš„å®½åº¦ï¼Œé»˜è®¤é«˜åº¦ä¸ºå…¶å†…å®¹çš„é«˜åº¦ï¼›</p>
<p>margin ä¸Šä¸‹å·¦å³ç”Ÿæ•ˆï¼Œmargin : auto;ä¸ç”Ÿæ•ˆï¼›</p>
<hr>
<p>å¸¸è§è¡Œå†…å…ƒç´ ï¼šaã€bã€uã€spanã€iã€emã€strongç­‰æ–‡å­—æ ‡ç­¾</p>
<p>å¸¸è§å—çº§å…ƒç´ ï¼š divã€tableã€trã€formã€ulã€liã€olã€h1~h6ã€p</p>
<p>å¸¸è§è¡Œå†…å—å…ƒç´ ï¼š imgã€selectã€input</p>
<p>å¸¸è§ç©ºå…ƒç´ ï¼š imgã€hrã€brã€inputã€meta</p>
<hr>
<h3 id="â™¥ï¸metaæ ‡ç­¾çš„nameå±æ€§å€¼"><a href="#â™¥ï¸metaæ ‡ç­¾çš„nameå±æ€§å€¼" class="headerlink" title="â™¥ï¸metaæ ‡ç­¾çš„nameå±æ€§å€¼"></a>â™¥ï¸metaæ ‡ç­¾çš„nameå±æ€§å€¼</h3><p>metaæ ‡ç­¾çš„nameå±æ€§æ˜¯ç”¨æ¥å®šä¹‰ä¸€ä¸ªHTMLæ–‡æ¡£çš„æè¿°ã€å…³é”®è¯ï¼Œè§„å®šäº†å…ƒæ•°æ®çš„åç§°ï¼Œè§„å®šäº†contentå±æ€§çš„ä¿¡æ¯&#x2F;å€¼çš„åç§°ã€‚</p>
<pre><code class="html">//å±æ€§å€¼
1.application-name  //è§„å®šé¡µé¢æ‰€ä»£è¡¨çš„Webåº”ç”¨ç¨‹åºçš„åç§°
2.author  //è§„å®šé¡µé¢æ–‡æ¡£çš„ä½œè€…çš„åå­—
</code></pre>
<pre><code class="html">1.description  //è§„å®šé¡µé¢çš„æè¿°ã€‚æœç´¢å¼•æ“ä¼šæŠŠè¿™ä¸ªæè¿°æ˜¾ç¤ºåœ¨æœç´¢ç»“æœä¸­
å®ä¾‹ï¼š&lt;meta name=&quot;description&quot; content=&quot;é¡µé¢æè¿°&quot;&gt;
2.gennerator  //è§„å®šç”¨äºç”Ÿæˆæ–‡æ¡£çš„ä¸€ä¸ªè½¯ä»¶åŒ…ï¼ˆä¸ç”¨äºæ‰‹å†™é¡µé¢ï¼‰
å®ä¾‹ï¼š&lt;meta name=&quot;gennerator&quot; content=&quot;FrontPage 4.0&quot;&gt;
3.keywords  //è§„å®šä¸€ä¸ªé€—å·åˆ†éš”çš„å…³é”®è¯åˆ—è¡¨ - ç›¸å…³çš„ç½‘é¡µï¼ˆå‘Šè¯‰æœç´¢å¼•æ“é¡µé¢æ˜¯ä¸ä»€ä¹ˆç›¸å…³çš„ï¼‰
å®ä¾‹ï¼š&lt;meta name=&quot;keywords&quot; content=&quot;HTMLï¼Œmeta tagï¼Œtag reference&quot;&gt;
</code></pre>
<h3 id="â™¥ï¸å¦‚ä½•å®ç°å›¾ç‰‡å’Œæ–‡å­—åœ¨åŒä¸€è¡Œæ˜¾ç¤ºï¼Ÿ"><a href="#â™¥ï¸å¦‚ä½•å®ç°å›¾ç‰‡å’Œæ–‡å­—åœ¨åŒä¸€è¡Œæ˜¾ç¤ºï¼Ÿ" class="headerlink" title="â™¥ï¸å¦‚ä½•å®ç°å›¾ç‰‡å’Œæ–‡å­—åœ¨åŒä¸€è¡Œæ˜¾ç¤ºï¼Ÿ"></a>â™¥ï¸å¦‚ä½•å®ç°å›¾ç‰‡å’Œæ–‡å­—åœ¨åŒä¸€è¡Œæ˜¾ç¤ºï¼Ÿ</h3><p>1.ç»™imgæ ‡ç­¾æ·»åŠ â€œvertical-alignï¼šmiddleâ€å±æ€§</p>
<p>2.å¦‚æœæ˜¯èƒŒæ™¯å›¾ï¼Œåˆ™é€šè¿‡backgroundçš„å®šä½å±æ€§æ¥è®¾ç½®ä½ç½®</p>
<p>3.åˆ†åˆ«æŠŠå›¾ç‰‡å’Œæ–‡å­—æ”¾å…¥ä¸åŒçš„divä¸­ï¼Œè®¾ç½®â€œvertical-alignï¼šmiddleâ€å±æ€§</p>
<h3 id="â™¥ï¸ç®€è¿°videoæ ‡ç­¾çš„å‡ ä¸ªå±æ€§å’Œæ–¹æ³•"><a href="#â™¥ï¸ç®€è¿°videoæ ‡ç­¾çš„å‡ ä¸ªå±æ€§å’Œæ–¹æ³•" class="headerlink" title="â™¥ï¸ç®€è¿°videoæ ‡ç­¾çš„å‡ ä¸ªå±æ€§å’Œæ–¹æ³•"></a>â™¥ï¸ç®€è¿°videoæ ‡ç­¾çš„å‡ ä¸ªå±æ€§å’Œæ–¹æ³•</h3><h4 id="1ã€video"><a href="#1ã€video" class="headerlink" title="1ã€video"></a>1ã€video</h4><p>videoæ ‡ç­¾çš„ä½¿ç”¨æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="html"> &lt;video src=&quot;è§†é¢‘æ–‡ä»¶è·¯å¾„&quot; controls&gt;è¯·é€‰æ‹©å…¼å®¹çš„æµè§ˆå™¨&lt;/video&gt;
    &lt;!-- 
        å…¶ä¸­srcæ—¶videoçš„åŸºæœ¬å±æ€§ç”¨äºå­˜æ”¾è§†é¢‘æ–‡ä»¶è·¯å¾„ï¼›
        è€Œcontrolsæ˜¯videoæ ‡ç­¾æä¾›çš„ä¸€å¥—é»˜è®¤çš„æ§åˆ¶æ åŠŸèƒ½ï¼›
        è€Œvideoæ ‡ç­¾ä¸­åŒ…å«çš„æ–‡å­—æ˜¯ç”¨äºæµè§ˆå™¨ä¸æ”¯æŒæ—¶æ˜¾ç¤ºçš„ï¼›
     --&gt;
</code></pre>
<p>é€šè¿‡åœ¨videoä¸­ä½¿ç”¨æ›´å¤šçš„è§†é¢‘æ ¼å¼ï¼Œä»è€Œå…¼å®¹æ›´å¤šçš„æµè§ˆå™¨</p>
<pre><code class="html">&lt;video controls&gt;
    &lt;source src = &quot;è§†é¢‘æ–‡ä»¶è·¯å¾„&quot; type = &quot;video/æ ¼å¼&quot;&gt;
    &lt;source src = &quot;è§†é¢‘æ–‡ä»¶è·¯å¾„&quot; type = &quot;video/æ ¼å¼&quot;&gt;
    &lt;source src = &quot;è§†é¢‘æ–‡ä»¶è·¯å¾„&quot; type = &quot;video/æ ¼å¼&quot;&gt;
    ...
&lt;/video&gt;
</code></pre>
<h4 id="2ã€videoå¸¸ç”¨çš„æ ‡ç­¾æ’­æ”¾å±æ€§"><a href="#2ã€videoå¸¸ç”¨çš„æ ‡ç­¾æ’­æ”¾å±æ€§" class="headerlink" title="2ã€videoå¸¸ç”¨çš„æ ‡ç­¾æ’­æ”¾å±æ€§"></a>2ã€videoå¸¸ç”¨çš„æ ‡ç­¾æ’­æ”¾å±æ€§</h4><table>
<thead>
<tr>
<th align="center">å±æ€§</th>
<th align="center">å…è®¸å–çš„å€¼</th>
<th align="center">å–å€¼çš„è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center">autoplay</td>
<td align="center">autoplay</td>
<td align="center">å¦‚æœå‡ºç°äº†è¯¥å±æ€§ï¼Œåˆ™è§†é¢‘åœ¨ç¼“å†²å°±ç»ªåé©¬ä¸Šæ’­æ”¾</td>
</tr>
<tr>
<td align="center">controls</td>
<td align="center">controls</td>
<td align="center">å¦‚æœå‡ºç°äº†è¯¥å±æ€§ï¼Œåˆ™å‘ç”¨æˆ·æ˜¾ç¤ºæ§ä»¶ï¼Œæ¯”å¦‚æ’­æ”¾æŒ‰é’®</td>
</tr>
<tr>
<td align="center">height</td>
<td align="center">px(å¤šå°‘åƒç´ )ã€100%</td>
<td align="center">è®¾ç½®è§†é¢‘æ’­æ”¾å™¨çš„é«˜åº¦</td>
</tr>
<tr>
<td align="center">width</td>
<td align="center">px(å¤šå°‘åƒç´ )ã€100%</td>
<td align="center">è®¾ç½®è§†é¢‘æ’­æ”¾å™¨çš„å®½åº¦</td>
</tr>
<tr>
<td align="center">loop</td>
<td align="center">loop</td>
<td align="center">å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™å½“åª’ä½“æ–‡ä»¶æ’­æ”¾å®Œåå†æ¬¡æ’­æ”¾ï¼ˆå¾ªç¯æ’­æ”¾ï¼‰</td>
</tr>
<tr>
<td align="center">preload</td>
<td align="center">preload</td>
<td align="center">å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™è§†é¢‘åœ¨é¡µé¢åŠ è½½æ—¶è¿›è¡ŒåŠ è½½ï¼Œå¹¶é¢„å¤‡æ’­æ”¾ã€‚å¦‚æœä½¿ç”¨äº†autoplayï¼Œåˆ™å¿½ç•¥è¯¥å±æ€§ï¼‰</td>
</tr>
<tr>
<td align="center">src</td>
<td align="center">è§†é¢‘æ–‡ä»¶çš„è·¯å¾„</td>
<td align="center">è§†é¢‘æ–‡ä»¶çš„è·¯å¾„</td>
</tr>
</tbody></table>
<h4 id="3ã€videoå¯¹è±¡çš„å¸¸ç”¨æ–¹æ³•"><a href="#3ã€videoå¯¹è±¡çš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="3ã€videoå¯¹è±¡çš„å¸¸ç”¨æ–¹æ³•"></a>3ã€videoå¯¹è±¡çš„å¸¸ç”¨æ–¹æ³•</h4><table>
<thead>
<tr>
<th align="center">æ–¹æ³•</th>
<th align="center">æ–¹æ³•æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="center">load()</td>
<td align="center">è¯¥æ–¹æ³•ç”¨äºåŠ è½½è§†é¢‘æ–‡ä»¶ï¼Œä¸ºæ’­æ”¾åšå‡†å¤‡ã€‚å¸¸ç”¨äºæ’­æ”¾å‰çš„é¢„åŠ è½½ï¼Œä¹Ÿä¼šç”¨äºé‡æ–°åŠ è½½åª’ä½“æ–‡ä»¶</td>
</tr>
<tr>
<td align="center">play()</td>
<td align="center">ç”¨äºæ’­æ”¾è§†é¢‘æ–‡ä»¶ã€‚å¦‚æœè§†é¢‘æ²¡æœ‰åŠ è½½ï¼Œåˆ™åŠ è½½å¹¶æ’­æ”¾ï¼›å¦‚æœè§†é¢‘æ—¶æš‚åœçš„ï¼Œåˆ™å˜ä¸ºæ’­æ”¾</td>
</tr>
<tr>
<td align="center">pause()</td>
<td align="center">æš‚åœè§†é¢‘</td>
</tr>
<tr>
<td align="center">canPlayType()</td>
<td align="center">æµ‹è¯•æµè§ˆå™¨æ˜¯å¦æ”¯æŒæŒ‡å®šçš„è§†é¢‘ç±»å‹</td>
</tr>
</tbody></table>
<h4 id="4ã€videoå¯¹è±¡çš„å¸¸ç”¨å±æ€§"><a href="#4ã€videoå¯¹è±¡çš„å¸¸ç”¨å±æ€§" class="headerlink" title="4ã€videoå¯¹è±¡çš„å¸¸ç”¨å±æ€§"></a>4ã€videoå¯¹è±¡çš„å¸¸ç”¨å±æ€§</h4><table>
<thead>
<tr>
<th align="center">å±æ€§</th>
<th align="center">å±æ€§æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="center">currentSrc</td>
<td align="center">è¿”å›å½“å‰è§†é¢‘æ–‡ä»¶çš„åœ°å€</td>
</tr>
<tr>
<td align="center">currentTime</td>
<td align="center">è®¾ç½®æˆ–è€…è¿”å›è§†é¢‘ä¸­çš„å½“å‰æ’­æ”¾ä½ç½®ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰</td>
</tr>
<tr>
<td align="center">duration</td>
<td align="center">è¿”å›è§†é¢‘çš„é•¿åº¦ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰</td>
</tr>
<tr>
<td align="center">ended</td>
<td align="center">è¿”å›è§†é¢‘çš„æ’­æ”¾æ˜¯å¦ä»¥åŠç»“æŸ</td>
</tr>
<tr>
<td align="center">error</td>
<td align="center">è¿”å›è§†é¢‘é”™è¯¯çŠ¶æ€çš„MediaErrorå¯¹è±¡</td>
</tr>
<tr>
<td align="center">paused</td>
<td align="center">è®¾ç½®æˆ–è€…è¿”å›è§†é¢‘æ˜¯å¦æš‚åœ</td>
</tr>
<tr>
<td align="center">muted</td>
<td align="center">è®¾ç½®æˆ–è€…è¿”å›è§†é¢‘æ˜¯å¦å…³é—­å£°éŸ³</td>
</tr>
<tr>
<td align="center">volume</td>
<td align="center">è®¾ç½®æˆ–è€…è¿”å›è§†é¢‘çš„éŸ³é‡å¤§å°</td>
</tr>
<tr>
<td align="center">height &#x2F; width</td>
<td align="center">è®¾ç½®æˆ–è€…è¿”å›è§†é¢‘çš„é«˜åº¦å€¼ &#x2F; å®½åº¦å€¼</td>
</tr>
</tbody></table>
<h3 id="â™¥ï¸ä»€ä¹ˆæ˜¯border-imageï¼Ÿä»€ä¹ˆæ˜¯box-sizing"><a href="#â™¥ï¸ä»€ä¹ˆæ˜¯border-imageï¼Ÿä»€ä¹ˆæ˜¯box-sizing" class="headerlink" title="â™¥ï¸ä»€ä¹ˆæ˜¯border-imageï¼Ÿä»€ä¹ˆæ˜¯box-sizing?"></a>â™¥ï¸ä»€ä¹ˆæ˜¯border-imageï¼Ÿä»€ä¹ˆæ˜¯box-sizing?</h3><h4 id="ä¸€ã€border-image"><a href="#ä¸€ã€border-image" class="headerlink" title="ä¸€ã€border-image"></a>ä¸€ã€border-image</h4><p>border-image å±æ€§å¯ä»¥é€šè¿‡ä¸€äº›ç®€å•çš„è§„åˆ™ï¼Œå°†ä¸€å‰¯å›¾åƒåˆ’åˆ†ä¸º 9 ä¸ªå•ç‹¬çš„éƒ¨åˆ†ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨ä½¿ç”¨ç›¸åº”çš„éƒ¨åˆ†æ¥æ›¿æ¢è¾¹æ¡†çš„é»˜è®¤æ ·å¼ã€‚border-image å±æ€§æ˜¯äº”ä¸ª border-image-* å±æ€§çš„ç®€å†™ï¼Œå…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="css">//é›†æˆå±æ€§
border-imageï¼šborder-image-source || border-image-slice [ / border-image-width | / border-image-width ? / border-image-outset ]? || border-image-repeatï¼›
//å•ä¸ªå±æ€§
border-image-sourceï¼šå®šä¹‰è¾¹æ¡†å›¾åƒçš„è·¯å¾„ï¼›
border-image-sliceï¼šå®šä¹‰è¾¹æ¡†å›¾åƒä»ä»€ä¹ˆä½ç½®å¼€å§‹åˆ†å‰²ï¼›
border-image-widthï¼šå®šä¹‰è¾¹æ¡†å›¾åƒçš„åšåº¦ï¼ˆå®½åº¦ï¼‰ï¼›
border-image-outsetï¼šå®šä¹‰è¾¹æ¡†å›¾åƒçš„å¤–å»¶å°ºå¯¸ï¼ˆè¾¹æ¡†å›¾åƒåŒºåŸŸè¶…å‡ºè¾¹æ¡†çš„é‡ï¼‰ï¼›
border-image-repeatï¼šå®šä¹‰è¾¹æ¡†å›¾åƒçš„å¹³é“ºæ–¹å¼ã€‚
</code></pre>
<h4 id="äºŒã€box-sizing"><a href="#äºŒã€box-sizing" class="headerlink" title="äºŒã€box-sizing"></a>äºŒã€box-sizing</h4><p>å½“å¸ƒå±€ä½¿ç”¨çš„æ˜¯è‡ªé€‚åº”çš„å¸ƒå±€æ–¹å¼æ—¶ï¼Œç›’å­çš„å®½åº¦ç»™çš„æ˜¯ç™¾åˆ†æ¯”çš„å½¢å¼ï¼Œä½†æ˜¯è¾¹æ¡†å’Œå†…è¾¹è·æ˜¯ç”¨åƒç´ æ¥è¡¨ç¤ºçš„è¯å°±ä¼šæ”¹å˜ç›’å­è§†è§‰ä¸Šçš„å¤§å°ï¼Œä½†æ˜¯ç»™åŠ ä¸Š<code>box-sizing:border-box</code>çš„è¯å°±ä¼šåœ¨ä¸æ”¹å˜å®½é«˜çš„æƒ…å†µä¸‹ï¼Œè®©è¾¹æ¡†å’Œå†…è¾¹è·æ»¡è¶³æˆ‘ä»¬æ‰€éœ€è¦çš„æ¡ä»¶ä¹‹ä¸‹ï¼Œè®©<code>content</code>çš„å¤§å°è‡ªé€‚åº”ã€‚</p>
<p>ä½¿ç”¨box-sizing:border-boxï¼›æ—¶çš„ç›’å­æ¨¡å‹ï¼š</p>
<p><img src="/2022/10/15/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E4%B9%8BHTML5-CSS3/28377643-162495979b0b252c.png"></p>
<p>ä½¿ç”¨äº†box-sizing:border-boxï¼›ç›’æ¨¡å‹ï¼š</p>
<p><img src="/2022/10/15/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E4%B9%8BHTML5-CSS3/28377643-b283527c28a3d1c4.png"></p>
<h3 id="â™¥ï¸div-cssçš„å¸ƒå±€æ¯”è¾ƒtableå¸ƒå±€æœ‰ä»€ä¹ˆæœ‰ç‚¹ï¼Ÿ"><a href="#â™¥ï¸div-cssçš„å¸ƒå±€æ¯”è¾ƒtableå¸ƒå±€æœ‰ä»€ä¹ˆæœ‰ç‚¹ï¼Ÿ" class="headerlink" title="â™¥ï¸div+cssçš„å¸ƒå±€æ¯”è¾ƒtableå¸ƒå±€æœ‰ä»€ä¹ˆæœ‰ç‚¹ï¼Ÿ"></a>â™¥ï¸div+cssçš„å¸ƒå±€æ¯”è¾ƒtableå¸ƒå±€æœ‰ä»€ä¹ˆæœ‰ç‚¹ï¼Ÿ</h3><h4 id="ä¸€ã€tableå¸ƒå±€"><a href="#ä¸€ã€tableå¸ƒå±€" class="headerlink" title="ä¸€ã€tableå¸ƒå±€"></a>ä¸€ã€tableå¸ƒå±€</h4><p>ä¼˜ç‚¹ï¼š</p>
<p>1ã€å¯¹äºæ–°æ‰‹è€Œè¨€ï¼Œå®¹æ˜“ä¸Šæ‰‹ï¼Œå°¤å…¶å¯¹äºä¸€äº›å¸ƒå±€ä¸­è§„ä¸­çŸ©çš„ç½‘é¡µï¼Œæ›´è®©äººé¦–å…ˆæƒ³åˆ°excelï¼Œè¿›è€Œé€šè¿‡ä½¿ç”¨tableå»å®ç°å®ƒã€‚</p>
<p>2ã€è¡¨ç°ä¸Šæ›´åŠ â€œä¸¥è°¨â€ï¼Œåœ¨ä¸åŒæµè§ˆå™¨ä¸­éƒ½èƒ½å¾—åˆ°å¾ˆå¥½çš„å…¼å®¹</p>
<p>3ã€é€šè¿‡å¤æ‚çš„è¡¨æ ¼å¥—è¡¨æ ¼çš„å½¢å¼ï¼Œä¹Ÿå¯ä»¥å®ç°æ¯”è¾ƒå¤æ‚çš„å¸ƒå±€éœ€æ±‚ã€‚å¸ƒç½®å¥½è¡¨æ ¼ï¼Œç„¶åå°†å†…å®¹æ”¾è¿›å»å°±å¯ä»¥äº†ã€‚</p>
<p>4ã€å®ƒå¯ä»¥ä¸ç”¨é¡¾åŠå‚ç›´å±…ä¸­çš„é—®é¢˜ã€‚</p>
<p>5ã€æ•°æ®åŒ–çš„å­˜æ”¾æ›´åˆç†ã€‚</p>
<p>ç¼ºç‚¹ï¼š</p>
<p>1ã€æ ‡ç­¾ç»“æ„å¤šï¼Œå¤æ‚ï¼Œåœ¨è¡¨æ ¼å¸ƒå±€ä¸­ï¼Œä¸»è¦æ˜¯ç”¨åˆ°è¡¨æ ¼çš„ç›¸äº’åµŒå¥—ä½¿ç”¨ï¼Œè¿™æ ·å°±ä¼šé€ æˆä»£ç çš„å¤æ‚åº¦æ›´é«˜ï¼</p>
<p>2ã€è¡¨æ ¼å¸ƒå±€ï¼Œä¸åˆ©äºæœç´¢å¼•æ“æŠ“å–ä¿¡æ¯ï¼Œç›´æ¥å½±å“åˆ°ç½‘ç«™çš„æ’åï¼›</p>
<h4 id="äºŒã€div-csså¸ƒå±€"><a href="#äºŒã€div-csså¸ƒå±€" class="headerlink" title="äºŒã€div + csså¸ƒå±€"></a>äºŒã€div + csså¸ƒå±€</h4><p>ä¼˜ç‚¹ï¼š</p>
<p>1ã€ç¬¦åˆW3Cæ ‡å‡†çš„ï¼ŒW3Cæ ‡å‡†æå‡ºç½‘é¡µç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼šç»“æ„ï¼ˆStructureï¼‰ã€è¡¨ç°ï¼ˆPresentationï¼‰å’Œè¡Œä¸ºï¼ˆBehaviorï¼‰ã€‚ç»“æ„æ¸…æ™°æ˜äº†ï¼Œç»“æ„ã€æ ·å¼å’Œè¡Œä¸ºåˆ†ç¦»ï¼Œå¸¦æ¥è¶³å¤Ÿå¥½çš„å¯ç»´æŠ¤æ€§ã€‚</p>
<p>2ã€å¸ƒå±€æ›´åŠ çµæ´»å¤šæ ·ï¼Œèƒ½å¤Ÿé€šè¿‡æ ·å¼é€‰æ‹©æ¥å®ç°ç•Œé¢è®¾è®¡æ–¹é¢çš„æ›´å¤šè¦æ±‚ã€‚</p>
<p>3ã€å¸ƒå±€æ”¹ç‰ˆæ–¹ä¾¿ï¼Œä¸éœ€è¦è¿‡å¤šåœ°å˜åŠ¨é¡µé¢å†…å®¹ï¼Œé€šå¸¸åªè¦æ›´æ¢ç›¸åº”çš„cssæ ·å¼å°±å¯ä»¥å°†ç½‘é¡µå˜æˆå¦å¤–ä¸€ç§é£æ ¼å±•ç°å‡ºæ¥ã€‚</p>
<p>4ã€å¸ƒå±€å¯ä»¥è®©ä¸€äº›é‡è¦çš„é“¾æ¥å’Œæ–‡å­—ä¿¡æ¯ç­‰ä¼˜å…ˆè®©æœç´¢å¼•æ“æŠ“å–ï¼Œå†…å®¹æ›´ä¾¿äºæœç´¢ã€‚</p>
<p>5ã€å¢åŠ ç½‘é¡µæ‰“å¼€é€Ÿåº¦ï¼Œå¢å¼ºç”¨æˆ·ä½“éªŒã€‚</p>
<p>ç¼ºç‚¹ï¼š</p>
<p>1ã€å¼€å‘æŠ€æœ¯é«˜ï¼Œè¦è€ƒè™‘å…¼å®¹ç‰ˆæœ¬æµè§ˆå™¨ã€‚ç›®å‰æ¥çœ‹ï¼ŒDIV+CSSè¿˜æ²¡æœ‰å®ç°æ‰€æœ‰æµè§ˆå™¨çš„ç»Ÿä¸€å…¼å®¹ã€‚</p>
<p>2ã€CSSç½‘ç«™åˆ¶ä½œçš„è®¾è®¡å…ƒç´ é€šå¸¸æ”¾åœ¨1ä¸ªå¤–éƒ¨æ–‡ä»¶ä¸­ï¼Œæˆ–å‡ ä¸ªæ–‡ä»¶ï¼Œ</p>
<p>æœ‰å¯èƒ½ç›¸å½“å¤æ‚ï¼Œç”šè‡³æ¯”è¾ƒåºå¤§ï¼Œå¦‚æœCSSæ–‡ä»¶è°ƒç”¨å‡ºç°å¼‚å¸¸ï¼Œé‚£ä¹ˆæ•´ä¸ªç½‘ç«™å°†å˜å¾—æƒ¨ä¸å¿ç¹ã€‚</p>
<p>â€¼ï¸æ€»ç»“ï¼šdiv+cssçš„å¸ƒå±€è¾ƒtableå¸ƒå±€çš„æ˜æ˜¾ä¼˜åŠ¿ï¼›</p>
<p>1ï¼Œå…¶å®ä¹Ÿæ˜¯div+csså¸ƒå±€çš„ç¬¬ä¸€ä¸ªç‰¹ç‚¹ï¼Œtableæ ‡ç­¾è¢«ä¸¥æ ¼åœ°å®šä¹‰ä¸ºå­˜æ”¾æ•°æ®çš„ä¸€ä¸ªåŒºåŸŸï¼Œè€Œä¸æ˜¯å¸ƒå±€å·¥å…·ï¼Œå®ƒçš„å¸ƒå±€å½¢å¼ä¸ç¬¦åˆW3Cæ ‡å‡†ï¼Œæ²¡æœ‰å®ç°ç»“æ„å’Œè¡¨ç°çš„åˆ†ç¦»ï¼Œå®ƒæ—¢æœ‰cssçš„è¡¨ç°åŠŸèƒ½ï¼Œä¹Ÿæœ‰htmlçš„ç»“æ„åŠŸèƒ½ã€‚</p>
<p>2ï¼Œtableå¸ƒå±€åŠ è½½ç½‘é¡µæ—¶ï¼Œå¿…é¡»æ•´ä½“åŠ è½½å®Œï¼Œé™ä½äº†ç½‘é¡µçš„å‘ˆç°é€Ÿåº¦ï¼Œè€Œdiv+csså¸ƒå±€æ˜¯è¾¹åŠ è½½è¾¹æ˜¾ç¤ºçš„ã€‚</p>
<p>3ï¼Œtableå¸ƒå±€åœ¨ç½‘é¡µä»£ç ç¼–å†™æ—¶ï¼Œæœ‰æ—¶éœ€è¦åµŒå¥—å¤šé‡è¡¨æ ¼æ‰èƒ½å®ç°ï¼Œä½†ä½¿ç”¨div+csså¸ƒå±€ï¼Œç›¸å¯¹è€Œè¨€ä¼šå‡å°‘è®¸å¤šåµŒå¥—æ—¶çš„ä»£ç ï¼Œæ›´å®¹æ˜“æ£€æŸ¥å’Œç»´æŠ¤ã€‚</p>
<p>4ï¼Œtableå¸ƒå±€ä¸æ–¹ä¾¿è¡¨ç°çš„æ›´æ¢ï¼Œä½¿ç”¨div+csså¸ƒå±€ï¼Œå¤§å¤šåªè¦æ›´æ”¹cssæ ·å¼è¡¨å°±èƒ½å˜åŒ–è¡¨ç°å½¢å¼ã€‚</p>
<p>5ã€æ˜“äºç»´æŠ¤å’Œæ”¹ç‰ˆã€‚</p>
<h3 id="â™¥ï¸display-noneå’Œvisbility-hiddençš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸display-noneå’Œvisbility-hiddençš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸display:noneå’Œvisbility:hiddençš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸display:noneå’Œvisbility:hiddençš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>displayï¼šnone å’Œvisibilityï¼šhiddenéƒ½å¯ä»¥å®ç°è®©å…ƒç´ éšè—çš„æ•ˆæœï¼Œä½†åŸç†æ˜¯å¤§ä¸ç›¸åŒã€‚</p>
<p>1.display:noneæ˜¯è®©è¿™ä¸ªå…ƒç´ å¤±å»å—å…ƒç´ çš„æ•ˆæœï¼Œå…¶æœ¬èº«è¿™ä¸ªå…ƒç´ ä¹Ÿæ˜¯ç›´æ¥æ¶ˆå¤±ï¼Œä¼šå½±å“åˆ°å¸ƒå±€é—®é¢˜ã€‚</p>
<p>2.visibility:hidden:å¯ä»¥è®©å…ƒç´ æ¶ˆå¤±ï¼Œå±äºcssæ ·å¼ï¼Œå®ƒåªæ˜¯ç®€å•çš„è®©å…ƒç´ çœ‹ä¸è§ï¼Œä½†æœ¬èº«çš„ä½ç½®è¿˜åœ¨ï¼Œå¦‚æœå¯¹divè¿›è¡Œhiddenï¼Œé‚£ä¹ˆdivé™¤äº†çœ‹ä¸è§ï¼Œå…¶ä»–æ‰€æœ‰çš„æ ·å¼éƒ½åœ¨ã€‚</p>
<hr>
<h3 id="â™¥ï¸â™¥ï¸åˆ†åˆ«å®ç°éª°å­ä¸­çš„ä¸€ç‚¹-å’Œ-ä¸‰ç‚¹çš„å¸ƒå±€ã€‚"><a href="#â™¥ï¸â™¥ï¸åˆ†åˆ«å®ç°éª°å­ä¸­çš„ä¸€ç‚¹-å’Œ-ä¸‰ç‚¹çš„å¸ƒå±€ã€‚" class="headerlink" title="â™¥ï¸â™¥ï¸åˆ†åˆ«å®ç°éª°å­ä¸­çš„ä¸€ç‚¹ å’Œ ä¸‰ç‚¹çš„å¸ƒå±€ã€‚"></a>â™¥ï¸â™¥ï¸åˆ†åˆ«å®ç°éª°å­ä¸­çš„ä¸€ç‚¹ <strong>å’Œ</strong> ä¸‰ç‚¹çš„å¸ƒå±€ã€‚</h3><p>1.ä¸€ç‚¹å¸ƒå±€</p>
<pre><code class="html">&lt;div class=&quot;father&quot;&gt;
    &lt;div class=&quot;child&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="css">.father&#123;
    width: 100px;
    height: 100px;
    background-color: black;
    border-radius: 10px;
    display: flex;
    justify-content: center;
    align-items: center;
&#125;
.child&#123;
    width: 20px;
    height: 20px;
    background-color: white;
    border-radius: 50%;
&#125;
</code></pre>
<p><img src="/2022/10/15/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E4%B9%8BHTML5-CSS3/image-20221012151555911.png" alt="ä¸€ç‚¹"></p>
<p>2.ä¸‰ç‚¹å¸ƒå±€</p>
<pre><code class="html">&lt;div class=&quot;father&quot;&gt;
    &lt;div class=&quot;child&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;child1&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;child2&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="css">.father&#123;
    width: 100px;
    height: 100px;
    background-color: black;
    padding: 5px;
    border-radius: 10px;
    display: flex;
    justify-content: space-between;
&#125;
.child&#123;
    width: 20px;
    height: 20px;
    background-color: white;
    border-radius: 50%;
&#125;
.child1&#123;
    width: 20px;
    height: 20px;
    background-color: white;
    border-radius: 50%;
    align-self: center;
&#125;
.child2&#123;
    width: 20px;
    height: 20px;
    background-color: white;
    border-radius: 50%;
    align-self: flex-end;
&#125;
</code></pre>
<p><img src="/2022/10/15/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E4%B9%8BHTML5-CSS3/image-20221012152019924.png" alt="ä¸‰ç‚¹å¸ƒå±€"></p>
<h3 id="â™¥ï¸â™¥ï¸ç®€è¿°é€‰æ‹©å™¨-å’Œ-çš„åŒºåˆ«ã€‚"><a href="#â™¥ï¸â™¥ï¸ç®€è¿°é€‰æ‹©å™¨-å’Œ-çš„åŒºåˆ«ã€‚" class="headerlink" title="â™¥ï¸â™¥ï¸ç®€è¿°é€‰æ‹©å™¨~å’Œ+çš„åŒºåˆ«ã€‚"></a>â™¥ï¸â™¥ï¸ç®€è¿°é€‰æ‹©å™¨~å’Œ+çš„åŒºåˆ«ã€‚</h3><p>ï½é€‰æ‹©å™¨çš„ä½œç”¨ï¼š</p>
<p>â€‹	1.é€‰æ‹©ç´§è·Ÿç€å½“å‰ç¬¦åˆæ¡ä»¶å…ƒç´ åé¢çš„åŒçº§å…ƒç´ </p>
<p>â€‹	2.å¯ä»¥åŒ¹é…å¤šä¸ª</p>
<p>+é€‰æ‹©å™¨çš„ä½œç”¨ï¼š</p>
<p>â€‹	1.é€‰æ‹©ç´§è·Ÿåœ¨å½“å‰ç¬¦åˆæ¡ä»¶å…ƒç´ åé¢çš„åŒçº§å…ƒç´ </p>
<p>â€‹	2.åªèƒ½åŒ¹é…ä¸€ä¸ª</p>
<h3 id="â™¥ï¸â™¥ï¸ç®€è¿°align-itemså’Œalign-contentçš„åŒºåˆ«ã€‚"><a href="#â™¥ï¸â™¥ï¸ç®€è¿°align-itemså’Œalign-contentçš„åŒºåˆ«ã€‚" class="headerlink" title="â™¥ï¸â™¥ï¸ç®€è¿°align-itemså’Œalign-contentçš„åŒºåˆ«ã€‚"></a>â™¥ï¸â™¥ï¸ç®€è¿°align-itemså’Œalign-contentçš„åŒºåˆ«ã€‚</h3><p>1.align-itemå±æ€§æ˜¯é’ˆå¯¹å•ç‹¬çš„æ¯ä¸€ä¸ªflexå­é¡¹èµ·ä½œç”¨ï¼Œå®ƒçš„åŸºæœ¬å•ä½æ˜¯æ¯ä¸€ä¸ªå­é¡¹ï¼Œåœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½æœ‰æ•ˆæœï¼ˆå½“ç„¶è¦çœ‹å…·ä½“çš„å±æ€§å€¼ï¼‰ã€‚</p>
<p>2.align-contentå±æ€§æ˜¯å°†flexå­é¡¹ä½œä¸ºä¸€ä¸ªæ•´ä½“èµ·ä½œç”¨ï¼Œå®ƒçš„åŸºæœ¬å•ä½æ˜¯å­é¡¹æ„æˆçš„è¡Œï¼Œåªåœ¨ä¸¤ç§æƒ…å†µä¸‹æœ‰æ•ˆæœï¼šâ‘ å­é¡¹å¤šè¡Œä¸”flexå®¹å™¨é«˜åº¦å›ºå®š â‘¡å­é¡¹å•è¡Œï¼Œflexå®¹å™¨é«˜åº¦å›ºå®šä¸”è®¾ç½®äº†flex-wrap:wrap;</p>
<p>â€¼ï¸æ€»ç»“åˆ—è¡¨</p>
<table>
<thead>
<tr>
<th align="center">æ¡ä»¶</th>
<th align="center"></th>
<th align="center"></th>
<th align="center">å±æ€§ï¼ˆæ˜¯å¦æœ‰æ•ˆæœ  æ˜¯&#x2F;å¦ï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td align="center">å­é¡¹</td>
<td align="center">flexå®¹å™¨</td>
<td align="center">align-items</td>
<td align="center">align-content</td>
</tr>
<tr>
<td align="center">å•è¡Œ</td>
<td align="center">ä¸æŒ‡å®šé«˜åº¦</td>
<td align="center">æ˜¯</td>
<td align="center">å¦</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">å›ºå®šé«˜åº¦</td>
<td align="center">æ˜¯</td>
<td align="center">å¦ï¼ˆä½†æ˜¯æœ‰è®¾ç½®flex-wrap:wrap;æ—¶ï¼Œæœ‰æ•ˆæœï¼‰</td>
</tr>
<tr>
<td align="center">å¤šè¡Œ</td>
<td align="center">ä¸æŒ‡å®šé«˜åº¦</td>
<td align="center">æ˜¯</td>
<td align="center">å¦</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">å›ºå®šé«˜åº¦</td>
<td align="center">æ˜¯</td>
<td align="center">æ˜¯</td>
</tr>
</tbody></table>
<h3 id="â™¥ï¸â™¥ï¸ç®€è¿°data-å±æ€§çš„ç”¨æ³•ï¼ˆå¦‚ä½•è®¾ç½®ï¼Œå¦‚ä½•è·å–ï¼‰ï¼Œæœ‰ä½•ä¼˜åŠ¿ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸ç®€è¿°data-å±æ€§çš„ç”¨æ³•ï¼ˆå¦‚ä½•è®¾ç½®ï¼Œå¦‚ä½•è·å–ï¼‰ï¼Œæœ‰ä½•ä¼˜åŠ¿ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸ç®€è¿°data-å±æ€§çš„ç”¨æ³•ï¼ˆå¦‚ä½•è®¾ç½®ï¼Œå¦‚ä½•è·å–ï¼‰ï¼Œæœ‰ä½•ä¼˜åŠ¿ï¼Ÿ"></a>â™¥ï¸â™¥ï¸ç®€è¿°data-å±æ€§çš„ç”¨æ³•ï¼ˆå¦‚ä½•è®¾ç½®ï¼Œå¦‚ä½•è·å–ï¼‰ï¼Œæœ‰ä½•ä¼˜åŠ¿ï¼Ÿ</h3><p>data-*å®šä¹‰ï¼š</p>
<p>1.æ˜¯ç”¨äºå­˜å‚¨é¡µé¢æˆ–åº”ç”¨ç¨‹åºçš„ç§æœ‰è‡ªå®šä¹‰æ•°æ®ã€‚</p>
<p>2.èµ‹äºˆæˆ‘ä»¬åœ¨æ‰€ä»¥htmlå…ƒç´ ä¸ŠåµŒå…¥è‡ªå®šä¹‰dataå±æ€§çš„èƒ½åŠ›ã€‚</p>
<p>data-*ç”¨æ³•ï¼š</p>
<p>1.å±æ€§åä¸åº”è¯¥åŒ…å«ä»»ä½•å¤§å†™å­—æ¯ï¼Œå¹¶ä¸”åœ¨å‰ç¼€â€œdata-â€ä¹‹åå¿…é¡»æœ‰è‡³å°‘ä¸€ä¸ªå­—æ¯ã€‚</p>
<p>2.å±æ€§å€¼å¯ä»¥æ˜¯ä»»ä½•å­—ç¬¦ã€‚</p>
<p>3.ä¸€ä¸ªå…ƒç´ å¯ä»¥æ‹¥æœ‰ä»»æ„æ•°é‡çš„dataå±æ€§ã€‚</p>
<p>4.dataå±æ€§æ— æ³•å­˜å‚¨å¯¹è±¡ï¼Œå¦‚éœ€å­˜å‚¨ï¼Œå¯ä»¥é€šè¿‡å¯¹è±¡åºåˆ—åŒ–ã€‚</p>
<p>data-*è®¾ç½®æ–¹æ³•ï¼š</p>
<p>1.å¦‚ä½•è®¾ç½®</p>
<pre><code class="javascript">é€šè¿‡javascriptå†…ç½®çš„setAttributeï¼ˆâ€˜dataå±æ€§åâ€™ï¼Œâ€˜æ–°å†…å®¹â€™ï¼‰å³å¯è®¾ç½®ã€‚

ï¼ˆå…¼å®¹æ€§æ–¹æ³•ï¼‰é€šè¿‡è¯¥æ•°æ®ç±»å‹çš„ï¼ˆdatasetï¼‰APIè®¾ç½®dataå€¼ï¼ŒIE10ä»¥ä¸Šæ‰æ”¯æŒï¼›

â€‹		var button = document.queryselector(&#39;button&#39;)

â€‹		button.dataset.dataå±æ€§å = â€˜æ–°å†…å®¹â€™ï¼›//è¿™é‡Œçš„dataå±æ€§åæ˜¯æŒ‡data-åé¢çš„åå­—
</code></pre>
<p>2.å¦‚æœè·å–</p>
<pre><code class="javascript">é€šè¿‡javascriptå†…ç½®çš„getAttributeï¼ˆâ€˜dataå±æ€§åâ€™ï¼‰å³å¯è·å–ã€‚
å…¼å®¹æ€§æ–¹æ³•ï¼‰é€šè¿‡è¯¥æ•°æ®ç±»å‹çš„ï¼ˆdatasetï¼‰APIè®¾ç½®dataå€¼ï¼ŒIE10ä»¥ä¸Šæ‰æ”¯æŒï¼›

â€‹		var button = document.queryselector(&#39;button&#39;)

â€‹		data = button.dataset.dataå±æ€§åï¼›//è¿™é‡Œçš„dataå±æ€§åæ˜¯æŒ‡data-åé¢çš„åå­—
</code></pre>
<p>â—ï¸data-*ä¼˜åŠ¿ï¼š</p>
<p>1.å…¶å­˜å‚¨çš„è‡ªå®šä¹‰æ•°æ®èƒ½å¤Ÿè¢«é¡µé¢çš„javascriptåˆ©ç”¨ï¼Œå¯ä»¥åˆ›å»ºæ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</p>
<p>2.å¯ä»¥é€šè¿‡javascriptæ¥æ„é€ æ•°æ®ã€å¡«å……æ•°æ®ã€‚</p>
<p>3.ä»£ç ä½“ç§¯å°ã€è¾ƒä¸ºçµæ´»ã€‚</p>
<p>4.è§£å†³ç½‘ç«™çš„å¤–è§‚å’Œå®ç”¨æ€§ä¹‹é—´äº§ç”Ÿçš„å†²çªã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸CSS3-å¦‚ä½•å®ç°åœ†è§’ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸CSS3-å¦‚ä½•å®ç°åœ†è§’ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸CSS3 å¦‚ä½•å®ç°åœ†è§’ï¼Ÿ"></a>â™¥ï¸â™¥ï¸CSS3 å¦‚ä½•å®ç°åœ†è§’ï¼Ÿ</h3><h4 id="ä¸€ã€border-radius-å®Œæ•´å†™æ³•ï¼š"><a href="#ä¸€ã€border-radius-å®Œæ•´å†™æ³•ï¼š" class="headerlink" title="ä¸€ã€border-radius å®Œæ•´å†™æ³•ï¼š"></a>ä¸€ã€border-radius å®Œæ•´å†™æ³•ï¼š</h4><p>border-radius:ä¸ºå…ƒç´ æ·»åŠ åœ†è§’è¾¹æ¡†ã€‚<br>border-radius:10px 20px 30px 40px &#x2F; 40px 30px 20px 10px<br>â€œ&#x2F;â€å‰çš„å››ä¸ªæ•°å€¼è¡¨ç¤ºåœ†è§’çš„æ°´å¹³åŠå¾„ï¼Œåé¢å››ä¸ªå€¼è¡¨ç¤ºåœ†è§’çš„å‚ç›´åŠå¾„ã€‚</p>
<p><img src="/2022/10/15/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E4%B9%8BHTML5-CSS3/image-20221013161227251.png"></p>
<pre><code class="css">æ¯”å¦‚ï¼š
border-radius: 2em 1em 4em / 0.5em 3em;
ç­‰åŒäºï¼š
border-top-left-radius: 2em 0.5em; //å·¦ä¸Šè§’
border-top-right-radius: 1em 3em; //å³ä¸Šè§’
border-bottom-right-radius: 4em 0.5em; //å³ä¸‹è§’
border-bottom-left-radius: 1em 3em; //å·¦ä¸‹è§’
</code></pre>
<p>å¸¸è§ç®€å†™æ–¹å¼ï¼š</p>
<ul>
<li>border-radiusï¼š30px&#x2F;20pxï¼›è¡¨ç¤ºæ¯ä¸ªåœ†è§’çš„æ°´å¹³åŠå¾„æ—¶30px,å‚ç›´åŠå¾„ä¸º20px;</li>
<li>border-radius:30px; ç­‰åŒäºï¼šborder-radiusï¼š30px 30px 30px 30px&#x2F;30px 30px 30px 30pxï¼›</li>
</ul>
<h3 id="â™¥ï¸â™¥ï¸HTML5æœ‰å“ªäº›ç¼“å­˜æ–¹å¼ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸HTML5æœ‰å“ªäº›ç¼“å­˜æ–¹å¼ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸HTML5æœ‰å“ªäº›ç¼“å­˜æ–¹å¼ï¼Ÿ"></a>â™¥ï¸â™¥ï¸HTML5æœ‰å“ªäº›ç¼“å­˜æ–¹å¼ï¼Ÿ</h3><p>1ã€localstoregeç¼“å­˜ï¼Œå°†æ•°æ®å‚¨å­˜åœ¨æœ¬åœ°å®¢æˆ·ç«¯ï¼Œåªæœ‰ç”¨æˆ·æ‰‹åŠ¨æ¸…é™¤æ‰èƒ½æ¸…é™¤ç¼“å­˜</p>
<pre><code class="javascript">APIï¼š
    1.localstorege.setItem(key,value)ï¼Œé”®å€¼å¯¹çš„å½¢å¼ç¼“å­˜
  2.localstorege.getItem(key)ï¼Œæ ¹æ®é”®åæ¥ç¼“å­˜å€¼
  3.localstorege.length ï¼Œè·å–æ€»ç¼“å­˜æ•°é‡
</code></pre>
<p>2ã€sessionStorege ä¼šè¯ç¼“å­˜ï¼Œä¼šè¯æœºåˆ¶æ˜¯æŒ‡ä»æ‰“å¼€æµè§ˆå™¨å¼€å§‹è®¿é—®é¡µé¢çš„æ—¶å€™ï¼Œåˆ°å…³é—­è¿™ä¸ªé¡µé¢çš„è¿‡ç¨‹æˆä¸ºä¸€ä¸ªä¼šè¯ï¼ŒsessionStoregeå‚¨å­˜çš„æ•°æ®ä¼šéšç€é¡µé¢å…³é—­è€Œé”€æ¯</p>
<pre><code class="javascript">API: 
    1. sessionStorage.setItem(key,val)ï¼ŒlocalStorageæ˜¯ä»¥é”®å€¼å¯¹çš„å½¢å¼åˆ›å»ºçš„ï¼›
  2. sessionStorage.getItem(key)ï¼Œæ ¹æ®é”®åæ¥è·å–ç¼“å­˜çš„å€¼ï¼›
  3. sessionStorage.lengthï¼›è·å–æ€»å…±ç¼“å­˜å€¼å¾—æ•°é‡ï¼Œ localStoargeè¿”å›çš„æ˜¯ä¸ªå¯¹è±¡ï¼›
</code></pre>
<p>3ã€ç¦»çº¿ç¼“å­˜æœºåˆ¶(Application Cache)</p>
<pre><code class="javascript">ä¸€ã€é…ç½®manifestæ–‡ä»¶ï¼Œmanifest æ–‡ä»¶æ˜¯ç®€å•çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå®ƒå‘ŠçŸ¥æµè§ˆå™¨è¢«ç¼“å­˜çš„å†…å®¹ï¼ˆä»¥åŠä¸ç¼“å­˜çš„å†…å®¹ï¼‰
äºŒã€manifest æ–‡ä»¶å¯åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š
    1ã€CACHE MANIFEST - åœ¨æ­¤æ ‡é¢˜ä¸‹åˆ—å‡ºçš„æ–‡ä»¶å°†åœ¨é¦–æ¬¡ä¸‹è½½åè¿›è¡Œç¼“å­˜
    2ã€NETWORK - åœ¨æ­¤æ ‡é¢˜ä¸‹åˆ—å‡ºçš„æ–‡ä»¶éœ€è¦ä¸æœåŠ¡å™¨çš„è¿æ¥ï¼Œä¸”ä¸ä¼šè¢«ç¼“å­˜
    3ã€FALLBACK - åœ¨æ­¤æ ‡é¢˜ä¸‹åˆ—å‡ºçš„æ–‡ä»¶è§„å®šå½“é¡µé¢æ— æ³•è®¿é—®æ—¶çš„å›é€€é¡µé¢ï¼ˆæ¯”å¦‚ 404 é¡µé¢ï¼‰
ä¸‰ã€APIï¼š 0ï¼ˆUNCACHEDï¼‰ : æ— ç¼“å­˜ï¼Œ å³æ²¡æœ‰ä¸é¡µé¢ç›¸å…³çš„åº”ç”¨ç¼“å­˜
    1 ï¼ˆIDLEï¼‰ : é—²ç½®ï¼Œå³åº”ç”¨ç¼“å­˜æœªå¾—åˆ°æ›´æ–°
    2 ï¼ˆCHECKINGï¼‰ : æ£€æŸ¥ä¸­ï¼Œå³æ­£åœ¨ä¸‹è½½æè¿°æ–‡ä»¶å¹¶æ£€æŸ¥æ›´æ–°
    3 ï¼ˆDOWNLOADINGï¼‰ : ä¸‹è½½ä¸­ï¼Œå³åº”ç”¨ç¼“å­˜æ­£åœ¨ä¸‹è½½æè¿°æ–‡ä»¶ä¸­æŒ‡å®šçš„èµ„æº
    4 ï¼ˆUPDATEREADYï¼‰ : æ›´æ–°å®Œæˆï¼Œæ‰€æœ‰èµ„æºéƒ½å·²ä¸‹è½½å®Œæ¯•
    5 ï¼ˆIDLEï¼‰ : åºŸå¼ƒï¼Œå³åº”ç”¨ç¼“å­˜çš„æè¿°æ–‡ä»¶å·²ç»ä¸å­˜åœ¨äº†ï¼Œå› æ­¤é¡µé¢æ— æ³•å†è®¿é—®åº”ç”¨ç¼“å­˜
</code></pre>
<p>4ã€web SQL</p>
<pre><code class="javascript">1. å…³ç³»æ•°æ®åº“ï¼Œé€šè¿‡SQLè¯­å¥è®¿é—®
2. Web SQL æ•°æ®åº“APIå¹¶ä¸æ˜¯HTML5 è§„èŒƒçš„ä¸€éƒ¨åˆ†ï¼Œä½†æ˜¯å®ƒæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è§„èŒƒï¼Œå¼•å…¥äº†ä¸€ç»„ä½¿ç”¨SQLæ“ä½œå®¢æˆ·ç«¯æ•°æ®åº“çš„APIs
3. æ”¯æŒæƒ…å†µï¼šWeb SQL æ•°æ®åº“å¯ä»¥åœ¨æœ€æ–°ç‰ˆçš„ Safari, Chrome å’Œ Opera æµè§ˆå™¨ä¸­å·¥ä½œã€‚
4. APIï¼š
    openDatabaseï¼šè¿™ä¸ªæ–¹æ³•ä½¿ç”¨ç°æœ‰çš„æ•°æ®åº“æˆ–è€…æ–°å»ºçš„æ•°æ®åº“åˆ›å»ºä¸€ä¸ªæ•°æ®åº“å¯¹è±¡ã€‚
    transactionï¼šè¿™ä¸ªæ–¹æ³•è®©æˆ‘ä»¬èƒ½å¤Ÿæ§åˆ¶ä¸€ä¸ªäº‹åŠ¡ï¼Œä»¥åŠåŸºäºè¿™ç§æƒ…å†µæ‰§è¡Œæäº¤æˆ–è€…å›æ»šã€‚
    executeSqlï¼šè¿™ä¸ªæ–¹æ³•ç”¨äºæ‰§è¡Œå®é™…çš„ SQL æŸ¥è¯¢ã€‚
</code></pre>
<p>5ã€ IndexDB</p>
<pre><code class="javascript">    ç´¢å¼•æ•°æ®åº“ (IndexedDB) APIï¼ˆä½œä¸º HTML5 çš„ä¸€éƒ¨åˆ†ï¼‰å¯¹åˆ›å»ºå…·æœ‰ä¸°å¯Œæœ¬åœ°å­˜å‚¨æ•°æ®çš„æ•°æ®å¯†é›†å‹çš„ç¦»çº¿ HTML5 Web åº”ç”¨ç¨‹åºå¾ˆæœ‰ç”¨ã€‚åŒæ—¶å®ƒè¿˜æœ‰åŠ©äºæœ¬åœ°ç¼“å­˜æ•°æ®ï¼Œä½¿ä¼ ç»Ÿåœ¨çº¿ Web åº”ç”¨ç¨‹åºï¼ˆæ¯”å¦‚ç§»åŠ¨ Web åº”ç”¨ç¨‹åºï¼‰èƒ½å¤Ÿæ›´å¿«åœ°è¿è¡Œå’Œå“åº”ã€‚
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸CSS3æ–°å¢ä¼ªç±»æœ‰é‚£äº›"><a href="#â™¥ï¸â™¥ï¸CSS3æ–°å¢ä¼ªç±»æœ‰é‚£äº›" class="headerlink" title="â™¥ï¸â™¥ï¸CSS3æ–°å¢ä¼ªç±»æœ‰é‚£äº›"></a>â™¥ï¸â™¥ï¸CSS3æ–°å¢ä¼ªç±»æœ‰é‚£äº›</h3><pre><code class="javascript">å¸¸ç”¨çš„ä¼ªç±»ï¼š
     1. :link é€‰æ‹©æ‰€æœ‰æœªè®¿é—®çš„é“¾æ¥
     2. :visited é€‰æ‹©æ‰€æœ‰è®¿é—®è¿‡çš„é“¾æ¥
     3. :active é€‰æ‹©æ­£åœ¨æ´»åŠ¨çš„é“¾æ¥ï¼ˆæˆ–ç†è§£ä¸ºé¼ æ ‡ç‚¹å‡»ç¬é—´æ•ˆæœï¼‰
     4. :hover é¼ æ ‡æ”¾åˆ°é“¾æ¥åçš„çŠ¶æ€
     5. :focus é€‰æ‹©å…ƒç´ è¾“å…¥åå…·æœ‰ç„¦ç‚¹
     6. :before åœ¨å…ƒç´ ä¹‹å‰æ’å…¥å†…å®¹
     7. :after åœ¨å…ƒç´ ä¹‹åæ’å…¥å†…å®¹
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸ä»€ä¹ˆå«åšä¼˜é›…é™çº§å’Œæ¸è¿›å¢å¼ºï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸ä»€ä¹ˆå«åšä¼˜é›…é™çº§å’Œæ¸è¿›å¢å¼ºï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸ä»€ä¹ˆå«åšä¼˜é›…é™çº§å’Œæ¸è¿›å¢å¼ºï¼Ÿ"></a>â™¥ï¸â™¥ï¸ä»€ä¹ˆå«åšä¼˜é›…é™çº§å’Œæ¸è¿›å¢å¼ºï¼Ÿ</h3><h4 id="ä¸€ã€æ¸è¿›å¢å¼º-progressive-enhancementï¼š"><a href="#ä¸€ã€æ¸è¿›å¢å¼º-progressive-enhancementï¼š" class="headerlink" title="ä¸€ã€æ¸è¿›å¢å¼º progressive enhancementï¼š"></a>ä¸€ã€æ¸è¿›å¢å¼º progressive enhancementï¼š</h4><ol>
<li><p>é’ˆå¯¹ä½ç‰ˆæœ¬æµè§ˆå™¨è¿›è¡Œæ„å»ºé¡µé¢ï¼Œä¿è¯æœ€åŸºæœ¬çš„åŠŸèƒ½ï¼Œç„¶åå†é’ˆå¯¹é«˜çº§æµè§ˆå™¨è¿›è¡Œæ•ˆæœã€äº¤äº’ç­‰æ”¹è¿›å’Œè¿½åŠ åŠŸèƒ½è¾¾åˆ°æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</p>
</li>
<li><p>æ¸è¿›å¢å¼ºè§‚ç‚¹åˆ™è®¤ä¸ºåº”å…³æ³¨äºå†…å®¹æœ¬èº«ã€‚å†…å®¹æ˜¯æˆ‘ä»¬å»ºç«‹ç½‘ç«™çš„è¯±å› ã€‚æœ‰çš„ç½‘ç«™å±•ç¤ºå®ƒï¼Œæœ‰çš„åˆ™æ”¶é›†å®ƒï¼Œæœ‰çš„å¯»æ±‚ï¼Œæœ‰çš„æ“ä½œï¼Œè¿˜æœ‰çš„ç½‘ç«™ç”šè‡³ä¼šåŒ…å«ä»¥ä¸Šçš„ç§ç§ï¼Œä½†ç›¸åŒç‚¹æ˜¯å®ƒä»¬å…¨éƒ½æ¶‰åŠåˆ°å†…å®¹ã€‚è¿™ä½¿å¾—â€œæ¸è¿›å¢å¼ºâ€æˆä¸ºä¸€ç§æ›´ä¸ºåˆç†çš„è®¾è®¡èŒƒä¾‹ã€‚è¿™ä¹Ÿæ˜¯å®ƒç«‹å³è¢« Yahoo! æ‰€é‡‡çº³å¹¶ç”¨ä»¥æ„å»ºå…¶â€œåˆ†çº§å¼æµè§ˆå™¨æ”¯æŒ (Graded Browser Support)â€ç­–ç•¥çš„åŸå› æ‰€åœ¨ã€‚</p>
</li>
</ol>
<h4 id="äºŒã€ä¼˜é›…é™çº§-graceful-degradationï¼š"><a href="#äºŒã€ä¼˜é›…é™çº§-graceful-degradationï¼š" class="headerlink" title="äºŒã€ä¼˜é›…é™çº§ graceful degradationï¼š"></a>äºŒã€ä¼˜é›…é™çº§ graceful degradationï¼š</h4><ol>
<li><p>ä¸€å¼€å§‹å°±æ„å»ºå®Œæ•´çš„åŠŸèƒ½ï¼Œç„¶åå†é’ˆå¯¹ä½ç‰ˆæœ¬æµè§ˆå™¨è¿›è¡Œå…¼å®¹ã€‚</p>
</li>
<li><p>ä¼˜é›…é™çº§è§‚ç‚¹è®¤ä¸ºåº”è¯¥é’ˆå¯¹é‚£äº›æœ€é«˜çº§ã€æœ€å®Œå–„çš„æµè§ˆå™¨æ¥è®¾è®¡ç½‘ç«™ã€‚è€Œå°†é‚£äº›è¢«è®¤ä¸ºâ€œè¿‡æ—¶â€æˆ–æœ‰åŠŸèƒ½ç¼ºå¤±çš„æµè§ˆå™¨ä¸‹çš„æµ‹è¯•å·¥ä½œå®‰æ’åœ¨å¼€å‘å‘¨æœŸçš„æœ€åé˜¶æ®µï¼Œå¹¶æŠŠæµ‹è¯•å¯¹è±¡é™å®šä¸ºä¸»æµæµè§ˆå™¨ï¼ˆå¦‚ IEã€Mozilla ç­‰ï¼‰çš„å‰ä¸€ä¸ªç‰ˆæœ¬ã€‚</p>
</li>
</ol>
<p>â€¼ï¸åŒºåˆ«ï¼š</p>
<ol>
<li><p>ä¼˜é›…é™çº§æ˜¯ä»å¤æ‚çš„ç°çŠ¶å¼€å§‹ï¼Œå¹¶è¯•å›¾å‡å°‘ç”¨æˆ·ä½“éªŒçš„ä¾›ç»™</p>
</li>
<li><p>æ¸è¿›å¢å¼ºåˆ™æ˜¯ä»ä¸€ä¸ªéå¸¸åŸºç¡€çš„ï¼Œèƒ½å¤Ÿèµ·ä½œç”¨çš„ç‰ˆæœ¬å¼€å§‹ï¼Œå¹¶ä¸æ–­æ‰©å……ï¼Œä»¥é€‚åº”æœªæ¥ç¯å¢ƒçš„éœ€è¦</p>
</li>
<li><p>é™çº§ï¼ˆåŠŸèƒ½è¡°å‡ï¼‰æ„å‘³ç€å¾€å›çœ‹ï¼›è€Œæ¸è¿›å¢å¼ºåˆ™æ„å‘³ç€æœå‰çœ‹ï¼ŒåŒæ—¶ä¿è¯å…¶æ ¹åŸºå¤„äºå®‰å…¨åœ°å¸¦</p>
</li>
</ol>
<h3 id="â™¥ï¸â™¥ï¸è¯·é—®è‹¹æœåŸç”Ÿæµè§ˆå™¨ä¸­é»˜è®¤æ ·å¼å¦‚ä½•æ¸…é™¤ï¼Œä¾‹å¦‚buttonï¼Œinputé»˜è®¤æ ·å¼ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸è¯·é—®è‹¹æœåŸç”Ÿæµè§ˆå™¨ä¸­é»˜è®¤æ ·å¼å¦‚ä½•æ¸…é™¤ï¼Œä¾‹å¦‚buttonï¼Œinputé»˜è®¤æ ·å¼ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸è¯·é—®è‹¹æœåŸç”Ÿæµè§ˆå™¨ä¸­é»˜è®¤æ ·å¼å¦‚ä½•æ¸…é™¤ï¼Œä¾‹å¦‚buttonï¼Œinputé»˜è®¤æ ·å¼ï¼Ÿ"></a>â™¥ï¸â™¥ï¸è¯·é—®è‹¹æœåŸç”Ÿæµè§ˆå™¨ä¸­é»˜è®¤æ ·å¼å¦‚ä½•æ¸…é™¤ï¼Œä¾‹å¦‚buttonï¼Œinputé»˜è®¤æ ·å¼ï¼Ÿ</h3><pre><code class="css">æ¸…é™¤è‹¹æœé»˜è®¤æ ·å¼ï¼šcssæ ·å¼ä¸­åŠ å…¥ 
input,textarea,button &#123; 
  -webkit-appearance: none; 
  border-radius:0px; 
  border:none;
&#125;
inputã€buttoné»˜è®¤æ ·å¼ï¼š 
input[type=&quot;button&quot;], input[type=&quot;submit&quot;], input[type=&quot;reset&quot;] &#123;
  -webkit-appearance: none;
&#125;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸PCç«¯å¸¸ç”¨çš„å¸ƒå±€æ–¹æ³•ã€‚"><a href="#â™¥ï¸â™¥ï¸PCç«¯å¸¸ç”¨çš„å¸ƒå±€æ–¹æ³•ã€‚" class="headerlink" title="â™¥ï¸â™¥ï¸PCç«¯å¸¸ç”¨çš„å¸ƒå±€æ–¹æ³•ã€‚"></a>â™¥ï¸â™¥ï¸PCç«¯å¸¸ç”¨çš„å¸ƒå±€æ–¹æ³•ã€‚</h3><h4 id="ä¸€ã€ä¸¤åˆ—å¸ƒå±€"><a href="#ä¸€ã€ä¸¤åˆ—å¸ƒå±€" class="headerlink" title="ä¸€ã€ä¸¤åˆ—å¸ƒå±€"></a>ä¸€ã€ä¸¤åˆ—å¸ƒå±€</h4><p><img src="/2022/10/15/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E4%B9%8BHTML5-CSS3/image-20221013164125310.png"></p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot;&gt;
        &lt;title&gt;&lt;/title&gt;
        &lt;style type=&quot;text/css&quot;&gt;
            /* å®½åº¦é€‚é… */
            html,
            body &#123;
                width: 100%;
                overflow-x: hidden;/* å¤–å±‚ç›’å­è®¾ç½®æœ€å°å®½åº¦çš„è¯çœ‹ä¸åˆ°æ¨ªå‘æ»šåŠ¨æ¡ */
            &#125;

            /*1. pcç«¯é€‚é…çš„éœ€æ±‚ï¼šç›®å‰æˆ‘ä»¬pcé¡¹ç›®çš„è®¾è®¡ç¨¿å°ºå¯¸æ˜¯å®½åº¦1920ï¼Œé«˜åº¦æœ€å°æ˜¯1080ã€‚
            2.æ”¾å¤§æˆ–è€…ç¼©å°å±å¹•ï¼Œç½‘é¡µå¯ä»¥æ­£å¸¸æ˜¾ç¤º */
            /* ä¸€ã€ä¸¤åˆ—å¸ƒå±€ */
            /* 1.å·¦å®šå®½ å³è¾¹è‡ªé€‚åº” æˆ–è€… å³è¾¹å®šå®½å·¦è¾¹è‡ªé€‚åº” */
            .content&#123;
                width: 1200px; /* ä¸»å®¹å™¨ */
                min-width: 960px;
                margin: 0 auto;
                background: #fff;
            &#125;
            .left &#123;
                float: left;
                width: 200px;/* å®šå®½ */
                background: #ccc;
                height: 800px;/* æµ‹è¯•è®¾äº†ä¸€ä¸ªé«˜åº¦å’ŒèƒŒæ™¯ï¼ˆä¸ºäº†æ›´å¥½çœ‹æ•ˆæœï¼‰ */
            &#125;

            .right &#123;
                margin-left: 100px;
                background: #999;
                height: 800px;/* æµ‹è¯•è®¾äº†ä¸€ä¸ªé«˜åº¦å’ŒèƒŒæ™¯ï¼ˆä¸ºäº†æ›´å¥½çœ‹æ•ˆæœï¼‰ */
            &#125;
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div class=&quot;content&quot;&gt;
            &lt;div class=&quot;left&quot;&gt;å·¦è¾¹&lt;/div&gt;
            &lt;div class=&quot;right&quot;&gt;å³è¾¹&lt;/div&gt;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h4 id="äºŒã€ä¸‰åˆ—å¸ƒå±€"><a href="#äºŒã€ä¸‰åˆ—å¸ƒå±€" class="headerlink" title="äºŒã€ä¸‰åˆ—å¸ƒå±€"></a>äºŒã€ä¸‰åˆ—å¸ƒå±€</h4><p><img src="/2022/10/15/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E4%B9%8BHTML5-CSS3/image-20221013164657269.png"></p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot;&gt;
        &lt;title&gt;&lt;/title&gt;
        &lt;style type=&quot;text/css&quot;&gt;
            /* å®½åº¦é€‚é… */
            html,
            body &#123;
                width: 100%;
                overflow-x: hidden;
                /* å¤–å±‚ç›’å­è®¾ç½®æœ€å°å®½åº¦çš„è¯çœ‹ä¸åˆ°æ¨ªå‘æ»šåŠ¨æ¡ */
            &#125;
            /* ä¸€ã€ä¸‰åˆ—å¸ƒå±€ */
            /* 1.å·¦å³å®šå®½ä¸­é—´è‡ªé€‚åº” */
            .content &#123;
                width: 1200px;
                /* ä¸»å®¹å™¨ */
                min-width: 960px;
                margin: 0 auto;
                background: firebrick;/* æµ‹è¯•è®¾äº†ä¸€ä¸ªèƒŒæ™¯ï¼ˆä¸ºäº†æ›´å¥½çœ‹æ•ˆæœï¼‰ */
                display: table;
            &#125;

            .left &#123;
                width: 100px;
                /* å®šå®½ */
                background: #ccc;
                height: 800px;
                /* æµ‹è¯•è®¾äº†ä¸€ä¸ªé«˜åº¦å’ŒèƒŒæ™¯ï¼ˆä¸ºäº†æ›´å¥½çœ‹æ•ˆæœï¼‰ */
            &#125;
            .right &#123;
                width: 100px;
                /* å®šå®½ */
                background: fuchsia;
                height: 800px;
                /* æµ‹è¯•è®¾äº†ä¸€ä¸ªé«˜åº¦å’ŒèƒŒæ™¯ï¼ˆä¸ºäº†æ›´å¥½çœ‹æ•ˆæœï¼‰ */
            &#125;

            .left,
            .right,
            .center &#123;
                display: table-cell;
            &#125;
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div class=&quot;content&quot;&gt;
            &lt;div class=&quot;left&quot;&gt;å·¦è¾¹&lt;/div&gt;
            &lt;div class=&quot;center&quot;&gt;ä¸­é—´&lt;/div&gt;
            &lt;div class=&quot;right&quot;&gt;å³è¾¹&lt;/div&gt;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h4 id="ä¸‰ã€åŒé£ç¿¼å¸ƒå±€"><a href="#ä¸‰ã€åŒé£ç¿¼å¸ƒå±€" class="headerlink" title="ä¸‰ã€åŒé£ç¿¼å¸ƒå±€"></a>ä¸‰ã€åŒé£ç¿¼å¸ƒå±€</h4><p><img src="/2022/10/15/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E4%B9%8BHTML5-CSS3/image-20221013165000520.png"></p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot;&gt;
        &lt;title&gt;å®ç°ä¸‰æ æ°´å¹³å¸ƒå±€ä¹‹åŒé£ç¿¼å¸ƒå±€&lt;/title&gt;
        &lt;style type=&quot;text/css&quot;&gt;
            .container &#123;
                width: 1200px;
                /* ä¸»å®¹å™¨ */
                min-width: 960px;
                margin: 0 auto;
                background: #ccc;
                /* æµ‹è¯•è®¾äº†ä¸€ä¸ªèƒŒæ™¯ï¼ˆä¸ºäº†æ›´å¥½çœ‹æ•ˆæœï¼‰ */
            &#125;

            .left,
            .center,
            .right &#123;
                float: left;
                min-height: 400px;
                /* æµ‹è¯•æ›´å¥½è§‚çœ‹æ•ˆæœ ç»Ÿä¸€é«˜åº¦*/
                text-align: center;
            &#125;

            .left &#123;
                margin-left: -100%;
                background: #0000FF;
                width: 200px;
                /* å®šå®½ */
            &#125;

            .right &#123;
                margin-left: -300px;
                background-color: #FF0000;
                width: 300px;
                /* å®šå®½ */
            &#125;

            .center &#123;
                background-color: #f2f1f1;
                width: 100%;
            &#125;

            .content &#123;
                margin: 0 300px 0 200px;
            &#125;
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div class=&quot;container&quot;&gt;
            ã€€ã€€&lt;div class=&quot;center&quot;&gt;
                ã€€ã€€&lt;div class=&quot;content&quot;&gt;ä¸­é—´è‡ªé€‚åº”&lt;/div&gt;
            ã€€  &lt;/div&gt;
            ã€€ã€€&lt;div class=&quot;left&quot;&gt;å·¦è¾¹&lt;/div&gt;
            ã€€ã€€&lt;div class=&quot;right&quot;&gt;å³è¾¹&lt;/div&gt;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h4 id="å››ã€åœ£æ¯å¸ƒå±€"><a href="#å››ã€åœ£æ¯å¸ƒå±€" class="headerlink" title="å››ã€åœ£æ¯å¸ƒå±€"></a>å››ã€åœ£æ¯å¸ƒå±€</h4><p><img src="/2022/10/15/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E4%B9%8BHTML5-CSS3/1186521-20190213150008412-487648273.png"></p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot;&gt;
        &lt;title&gt;å®ç°ä¸‰æ æ°´å¹³å¸ƒå±€ä¹‹åœ£æ¯å¸ƒå±€&lt;/title&gt;
        &lt;style type=&quot;text/css&quot;&gt;
            .container &#123;
                width: 1200px;
                /* ä¸»å®¹å™¨ */
                min-width: 960px;
                margin: 0 auto;
                background: #ccc;/* æµ‹è¯•è®¾äº†ä¸€ä¸ªèƒŒæ™¯ï¼ˆä¸ºäº†æ›´å¥½çœ‹æ•ˆæœï¼‰ */
                padding: 0 300px 0 200px;
            &#125;

            .left,
            .center,
            .right &#123;
                position: relative;
                min-height: 200px;
                float: left;
            &#125;

            .left &#123;
                left: -200px;
                margin-left: -100%;
                background: green;/* æµ‹è¯•è®¾äº†ä¸€ä¸ªèƒŒæ™¯ï¼ˆä¸ºäº†æ›´å¥½çœ‹æ•ˆæœï¼‰ */
                width: 200px;
            &#125;

            .right &#123;
                right: -300px;
                margin-left: -300px;
                background: red;/* æµ‹è¯•è®¾äº†ä¸€ä¸ªèƒŒæ™¯ï¼ˆä¸ºäº†æ›´å¥½çœ‹æ•ˆæœï¼‰ */
                width: 300px;
            &#125;

            .center &#123;
                background: blue;/* æµ‹è¯•è®¾äº†ä¸€ä¸ªèƒŒæ™¯ï¼ˆä¸ºäº†æ›´å¥½çœ‹æ•ˆæœï¼‰ */
                width: 100%;
            &#125;
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div class=&quot;container&quot;&gt;
            ã€€ã€€&lt;div class=&quot;center&quot;&gt;center&lt;/div&gt;
            ã€€ã€€&lt;div class=&quot;left&quot;&gt;left&lt;/div&gt;
            ã€€ã€€&lt;div class=&quot;right&quot;&gt;right&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class=&quot;tip_expand&quot;&gt;åŒé£ç¿¼å¸ƒå±€æ¯”åœ£æ¯å¸ƒå±€å¤šåˆ›å»ºäº†ä¸€ä¸ªdivï¼Œä½†ä¸ç”¨ç›¸å¯¹å¸ƒå±€äº†&lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h4 id="äº”ã€flexå¼¹æ€§ç›’å¸ƒå±€"><a href="#äº”ã€flexå¼¹æ€§ç›’å¸ƒå±€" class="headerlink" title="äº”ã€flexå¼¹æ€§ç›’å¸ƒå±€"></a>äº”ã€flexå¼¹æ€§ç›’å¸ƒå±€</h4><p><img src="/2022/10/15/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E4%B9%8BHTML5-CSS3/image-20221013165402722.png"></p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot;&gt;
        &lt;title&gt;å®ç°ä¸‰æ æ°´å¹³å¸ƒå±€-Flexå¸ƒå±€&lt;/title&gt;
        &lt;style type=&quot;text/css&quot;&gt;
            .container &#123;
                display: flex;
                width: 1200px;
                /* ä¸»å®¹å™¨ */
                min-width: 960px;
                margin: 0 auto;
                background: #ccc;
                /* æµ‹è¯•è®¾äº†ä¸€ä¸ªèƒŒæ™¯ï¼ˆä¸ºäº†æ›´å¥½çœ‹æ•ˆæœï¼‰ */
                min-height: 800px;
                font-size: 0; /* é—´éš™å¤„ç† */
            &#125;

            .main &#123;
                flex-grow: 1;
                background-color: blue;
                font-size: 24px;
            &#125;

            .left &#123;
                order: -1;/* å¯¹äºorderå±æ€§ï¼šå®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåºï¼Œè¶Šå°è¶Šé å‰ï¼Œé»˜è®¤ä¸º0ã€‚ */
                flex-basis: 200px;/* é€šè¿‡é¡¹ç›®å±æ€§flex-basis è®¾ç½®leftå’Œrightçš„å›ºå®šå®½åº¦ */
                background-color: green;
                font-size: 24px;
            &#125;

            .right &#123;
                flex-basis: 300px;/* é€šè¿‡é¡¹ç›®å±æ€§flex-basis è®¾ç½®leftå’Œrightçš„å›ºå®šå®½åº¦ */
                background-color: red;
                font-size: 24px;
            &#125;
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div class=&quot;container&quot;&gt;
            ã€€ã€€&lt;div class=&quot;main&quot;&gt;main&lt;/div&gt;
            ã€€ã€€&lt;div class=&quot;left&quot;&gt;left&lt;/div&gt;
            ã€€ã€€&lt;div class=&quot;right&quot;&gt;right&lt;/div&gt;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸è¡Œå†…å…ƒç´ å’Œå—çº§å…ƒç´ ï¼Ÿimgç®—ä»€ä¹ˆï¼Ÿè¡Œå†…å…ƒç´ æ€ä¹ˆè½¬åŒ–ä¸ºå—å…ƒç´ ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸è¡Œå†…å…ƒç´ å’Œå—çº§å…ƒç´ ï¼Ÿimgç®—ä»€ä¹ˆï¼Ÿè¡Œå†…å…ƒç´ æ€ä¹ˆè½¬åŒ–ä¸ºå—å…ƒç´ ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸è¡Œå†…å…ƒç´ å’Œå—çº§å…ƒç´ ï¼Ÿimgç®—ä»€ä¹ˆï¼Ÿè¡Œå†…å…ƒç´ æ€ä¹ˆè½¬åŒ–ä¸ºå—å…ƒç´ ï¼Ÿ"></a>â™¥ï¸â™¥ï¸è¡Œå†…å…ƒç´ å’Œå—çº§å…ƒç´ ï¼Ÿimgç®—ä»€ä¹ˆï¼Ÿè¡Œå†…å…ƒç´ æ€ä¹ˆè½¬åŒ–ä¸ºå—å…ƒç´ ï¼Ÿ</h3><pre><code class="css">è¡Œå†…å…ƒç´ ï¼š
    1. æ— æ³•è®¾ç½®å®½é«˜ï¼›
    2. å¯¹marginä»…è®¾ç½®å·¦å³æœ‰æ•ˆï¼Œä¸Šä¸‹æ— æ•ˆï¼›
    3. paddingä¸Šä¸‹å·¦å³æœ‰æ•ˆï¼›ä¸ä¼šè‡ªåŠ¨æ¢è¡Œ
å—çº§å…ƒç´ ï¼š
    1. å¯ä»¥è®¾ç½®å®½é«˜;
    2. marginå’Œpaddingçš„ä¸Šä¸‹å·¦å³å‡å¯¹å…¶æœ‰æ•ˆ
    3. è¶…å‡ºå½“å‰è¡Œä¼šè‡ªåŠ¨æ¢è¡Œ
     4. å¤šä¸ªå—çŠ¶å…ƒç´ æ ‡ç­¾å†™åœ¨ä¸€èµ·ï¼Œé»˜è®¤æ’åˆ—æ–¹å¼ä¸ºä»ä¸Šè‡³ä¸‹
imgï¼šå±äºè¡Œå†…å—å…ƒç´ (inline-block),å³æœ‰è¡Œå†…å…ƒç´ çš„å±æ€§ä¹Ÿæœ‰å—çº§å…ƒç´ çš„å±æ€§
å…ƒç´ ä¹‹é—´çš„è½¬åŒ–å¯ä»¥é€šè¿‡è®¾ç½®æ ·å¼ï¼šdisplay:block/inline/inline-blockæ¥æ”¹å˜è‡ªèº«çš„å…ƒç´ å±æ€§
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸nth-of-typeå’Œnth-childçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸nth-of-typeå’Œnth-childçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸nth-of-typeå’Œnth-childçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸nth-of-typeå’Œnth-childçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>MDNä¸Šçš„æ¦‚å¿µï¼š</p>
<p>æŸä¸ªå…ƒç´ :nth-of-type(n)è¿™ä¸ªCSS ä¼ªç±»æ˜¯é’ˆå¯¹å…·æœ‰ä¸€ç»„å…„å¼ŸèŠ‚ç‚¹çš„æ ‡ç­¾, ç”¨ n æ¥ç­›é€‰å‡ºåœ¨ä¸€ç»„å…„å¼ŸèŠ‚ç‚¹çš„ä½ç½®ã€‚(ä¸€ç»„æ ‡ç­¾å†…é€‰æ‹©)</p>
<p>æŸä¸ªå…ƒç´ :nth-child(n)è¿™ä¸ªCSS ä¼ªç±»é¦–å…ˆæ‰¾åˆ°æ‰€æœ‰å½“å‰å…ƒç´ çš„å…„å¼Ÿå…ƒç´ ï¼Œ, ç”¨ n æ¥ç­›é€‰å‡ºåœ¨å½“å‰å…ƒç´ çš„å…„å¼Ÿå…ƒç´ èŠ‚ç‚¹çš„ä½ç½®ã€‚ï¼ˆå…„å¼Ÿå…ƒç´ é‡Œé€‰æ‹©ï¼‰</p>
<p>æˆ‘ä»¬å¯ä»¥æ³¨æ„åˆ°:nth-of-typeä»–æ˜¯å½“å‰å…ƒç´ çš„å…„å¼Ÿå…ƒç´ çš„ç¬¬nä¸ªï¼Œè€Œnth-childæ˜¯å½“å‰å…ƒç´ çš„å…„å¼ŸèŠ‚ç‚¹çš„ç¬¬nä¸ªå½“å‰å…ƒç´ ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸-beforeå’Œ-beforeåŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸-beforeå’Œ-beforeåŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸:beforeå’Œ ::beforeåŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸:beforeå’Œ ::beforeåŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h3><pre><code class="css">åŒºåˆ«ï¼š
 1. å«æ³•ä¸åŒï¼šä¸€ä¸ªæ˜¯ä¼ªç±»ï¼Œä¸€ä¸ªæ˜¯ä¼ªå…ƒç´ 
 2. ç‰ˆæœ¬ä¸åŒï¼šä½œç”¨éƒ½æ˜¯ä¸€æ ·ï¼Œä½†å•å†’å·ä¼ªç±»å†™æ³•æ˜¯æ—§ç‰ˆæœ¬css2å†™æ³•ï¼Œ åŒå†’å·ä¼ªå…ƒç´ æ˜¯æ–°ç‰ˆæœ¬css3å†™æ³•
 3. å…¼å®¹æ€§å·®å¼‚ï¼šå•å†’å·ä¼ªç±»å†™æ³• å…¼å®¹æ€§æ¯” åŒå†’å·è¦å¥½ã€‚ :before &gt; ::before
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸ç®€è¿°-viewportæ‰€æœ‰å±æ€§"><a href="#â™¥ï¸â™¥ï¸ç®€è¿°-viewportæ‰€æœ‰å±æ€§" class="headerlink" title="â™¥ï¸â™¥ï¸ç®€è¿° viewportæ‰€æœ‰å±æ€§"></a>â™¥ï¸â™¥ï¸ç®€è¿° viewportæ‰€æœ‰å±æ€§</h3><pre><code class="css">widthï¼šæ§åˆ¶ viewport çš„å¤§å°ï¼Œå¯ä»¥æŒ‡å®šçš„ä¸€ä¸ªå€¼ï¼Œå¦‚ 600ï¼Œæˆ–è€…ç‰¹æ®Šçš„å€¼ï¼Œå¦‚ device-width ä¸ºè®¾å¤‡çš„å®½åº¦ï¼ˆå•ä½ä¸ºç¼©æ”¾ä¸º 100% æ—¶çš„ CSS çš„åƒç´ ï¼‰ã€‚
heightï¼šå’Œ width ç›¸å¯¹åº”ï¼ŒæŒ‡å®šé«˜åº¦ã€‚
initial-scaleï¼šåˆå§‹ç¼©æ”¾æ¯”ä¾‹ï¼Œä¹Ÿå³æ˜¯å½“é¡µé¢ç¬¬ä¸€æ¬¡ load çš„æ—¶å€™ç¼©æ”¾æ¯”ä¾‹ï¼ˆè°ƒæ•´é¡µé¢ç¼©æ”¾æ¯”ä¾‹ï¼‰ã€‚
maximum-scaleï¼šå…è®¸ç”¨æˆ·ç¼©æ”¾åˆ°çš„æœ€å¤§æ¯”ä¾‹ã€‚
minimum-scaleï¼šå…è®¸ç”¨æˆ·ç¼©æ”¾åˆ°çš„æœ€å°æ¯”ä¾‹ã€‚
user-scalableï¼šç”¨æˆ·æ˜¯å¦å¯ä»¥æ‰‹åŠ¨ç¼©æ”¾
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸ä¼ªç±»é€‰æ‹©å™¨å’Œä¼ªå…ƒç´ ï¼ŸCSS3ä¸­å¼•å…¥çš„ä¼ªå…ƒç´ æœ‰ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸ä¼ªç±»é€‰æ‹©å™¨å’Œä¼ªå…ƒç´ ï¼ŸCSS3ä¸­å¼•å…¥çš„ä¼ªå…ƒç´ æœ‰ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸ä¼ªç±»é€‰æ‹©å™¨å’Œä¼ªå…ƒç´ ï¼ŸCSS3ä¸­å¼•å…¥çš„ä¼ªå…ƒç´ æœ‰ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸ä¼ªç±»é€‰æ‹©å™¨å’Œä¼ªå…ƒç´ ï¼ŸCSS3ä¸­å¼•å…¥çš„ä¼ªå…ƒç´ æœ‰ä»€ä¹ˆï¼Ÿ</h3><pre><code class="css">1. ä¼ªç±»é€‰æ‹©å™¨æ˜¯css2ç‰ˆæœ¬ä¸­çš„æ—§å†™æ³•ï¼Œç›¸å¯¹äºcss3ä¸­ä¼ªå…ƒç´ çš„çš„æ–°å†™æ³•å…¼å®¹æ€§ä¼šæ›´å¥½ã€‚
2. ä¼ªå…ƒç´ åªèƒ½åœ¨ä¸€ä¸ªé€‰æ‹©å™¨ä¸­å‡ºç°ä¸€æ¬¡ï¼Œä¸”éœ€è¦é…åˆcontentå±æ€§ä¸€èµ·ä½¿ç”¨
3. ä¼ªå…ƒç´ ä¸ä¼šå‡ºç°åœ¨DOMä¸­ï¼Œæ‰€ä»¥ä¸èƒ½é€šè¿‡jsæ¥è¿›è¡Œæ“ä½œï¼Œä»…ä»…æ˜¯åœ¨æ¸²æŸ“å±‚åŠ å…¥è€Œå·²

css3å¼•å…¥çš„ä¼ªå…ƒç´ ï¼š
 1ã€ ::after //åœ¨xxxä¹‹åæ’å…¥å†…å®¹
 2ã€ ::before // åœ¨xxxä¹‹å‰æ’å…¥å†…å®¹
 3ã€ ::first-letter //é€‰æ‹©xxxå…ƒç´ çš„é¦–å­—æ¯
 4ã€ ::first-line //é€‰æ‹©xxxå…ƒç´ çš„é¦–è¡Œ
 5ã€ ::selection //é€‰æ‹©ç”¨æˆ·é€‰æ‹©çš„å…ƒç´ éƒ¨åˆ†
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸HTML5æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Œç§»é™¤äº†å“ªäº›å…ƒç´ ï¼Ÿå¦‚ä½•å¤„ç†HTML5"><a href="#â™¥ï¸â™¥ï¸HTML5æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Œç§»é™¤äº†å“ªäº›å…ƒç´ ï¼Ÿå¦‚ä½•å¤„ç†HTML5" class="headerlink" title="â™¥ï¸â™¥ï¸HTML5æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Œç§»é™¤äº†å“ªäº›å…ƒç´ ï¼Ÿå¦‚ä½•å¤„ç†HTML5"></a>â™¥ï¸â™¥ï¸HTML5æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Œç§»é™¤äº†å“ªäº›å…ƒç´ ï¼Ÿå¦‚ä½•å¤„ç†HTML5</h3><h4 id="HTML5-ç°åœ¨å·²ç»ä¸æ˜¯-SGML-çš„å­é›†ï¼Œä¸»è¦æ˜¯å…³äºå›¾åƒï¼Œä½ç½®ï¼Œå­˜å‚¨ï¼Œå¤šä»»åŠ¡ç­‰åŠŸèƒ½çš„å¢åŠ "><a href="#HTML5-ç°åœ¨å·²ç»ä¸æ˜¯-SGML-çš„å­é›†ï¼Œä¸»è¦æ˜¯å…³äºå›¾åƒï¼Œä½ç½®ï¼Œå­˜å‚¨ï¼Œå¤šä»»åŠ¡ç­‰åŠŸèƒ½çš„å¢åŠ " class="headerlink" title="HTML5 ç°åœ¨å·²ç»ä¸æ˜¯ SGML çš„å­é›†ï¼Œä¸»è¦æ˜¯å…³äºå›¾åƒï¼Œä½ç½®ï¼Œå­˜å‚¨ï¼Œå¤šä»»åŠ¡ç­‰åŠŸèƒ½çš„å¢åŠ "></a>HTML5 ç°åœ¨å·²ç»ä¸æ˜¯ SGML çš„å­é›†ï¼Œä¸»è¦æ˜¯å…³äºå›¾åƒï¼Œä½ç½®ï¼Œå­˜å‚¨ï¼Œå¤šä»»åŠ¡ç­‰åŠŸèƒ½çš„å¢åŠ </h4><pre><code class="css">æ–°å¢é€‰æ‹©å™¨ document.querySelectorã€document.querySelectorAll
æ‹–æ‹½é‡Šæ”¾(Drag and drop) API
åª’ä½“æ’­æ”¾çš„ video å’Œ audio
æœ¬åœ°å­˜å‚¨ localStorage å’Œ sessionStorage
ç¦»çº¿åº”ç”¨ manifest
æ¡Œé¢é€šçŸ¥ Notifications
è¯­æ„åŒ–æ ‡ç­¾ articleã€footerã€headerã€navã€section
å¢å¼ºè¡¨å•æ§ä»¶ calendarã€dateã€timeã€emailã€urlã€search
åœ°ç†ä½ç½® Geolocation
å¤šä»»åŠ¡ webworker
å…¨åŒå·¥é€šä¿¡åè®® websocket
å†å²ç®¡ç† history
è·¨åŸŸèµ„æºå…±äº«(CORS) Access-Control-Allow-Origin
é¡µé¢å¯è§æ€§æ”¹å˜äº‹ä»¶ visibilitychange
è·¨çª—å£é€šä¿¡ PostMessage
Form Data å¯¹è±¡
ç»˜ç”» canvas
ç§»é™¤çš„å…ƒç´ ï¼š

çº¯è¡¨ç°çš„å…ƒç´ ï¼šbasefontã€bigã€centerã€fontã€ sã€strikeã€ttã€u
å¯¹å¯ç”¨æ€§äº§ç”Ÿè´Ÿé¢å½±å“çš„å…ƒç´ ï¼šframeã€framesetã€noframes
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸æ–°æ ‡ç­¾å…¼å®¹é—®é¢˜ï¼Ÿå¦‚ä½•åŒºåˆ†HTMLå’ŒHTML5ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸æ–°æ ‡ç­¾å…¼å®¹é—®é¢˜ï¼Ÿå¦‚ä½•åŒºåˆ†HTMLå’ŒHTML5ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸æ–°æ ‡ç­¾å…¼å®¹é—®é¢˜ï¼Ÿå¦‚ä½•åŒºåˆ†HTMLå’ŒHTML5ï¼Ÿ"></a>â™¥ï¸â™¥ï¸æ–°æ ‡ç­¾å…¼å®¹é—®é¢˜ï¼Ÿå¦‚ä½•åŒºåˆ†HTMLå’ŒHTML5ï¼Ÿ</h3><h4 id="æ”¯æŒHTML5æ–°æ ‡ç­¾ï¼š"><a href="#æ”¯æŒHTML5æ–°æ ‡ç­¾ï¼š" class="headerlink" title="æ”¯æŒHTML5æ–°æ ‡ç­¾ï¼š"></a>æ”¯æŒHTML5æ–°æ ‡ç­¾ï¼š</h4><p>IE8&#x2F;IE7&#x2F;IE6æ”¯æŒé€šè¿‡document.createElementæ–¹æ³•äº§ç”Ÿçš„æ ‡ç­¾<br>å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‰¹æ€§è®©è¿™äº›æµè§ˆå™¨æ”¯æŒHTML5æ–°æ ‡ç­¾<br>æµè§ˆå™¨æ”¯æŒæ–°æ ‡ç­¾åï¼Œè¿˜éœ€è¦æ·»åŠ æ ‡ç­¾é»˜è®¤çš„æ ·å¼<br>å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨æˆç†Ÿçš„æ¡†æ¶ã€æ¯”å¦‚html5shim</p>
<h4 id="å¦‚ä½•åŒºåˆ†HTMLå’ŒHTML5ï¼š"><a href="#å¦‚ä½•åŒºåˆ†HTMLå’ŒHTML5ï¼š" class="headerlink" title="å¦‚ä½•åŒºåˆ†HTMLå’ŒHTML5ï¼š"></a>å¦‚ä½•åŒºåˆ†HTMLå’ŒHTML5ï¼š</h4><pre><code class="css">HTMLï¼š 

    1ï¼‰æ ‡è¯†æ–‡æœ¬ï¼ˆeg: å®šä¹‰æ ‡é¢˜æ–‡æœ¬ã€æ®µè½æ–‡æœ¬ã€åˆ—è¡¨æ–‡æœ¬ã€é¢„å®šä¹‰æ–‡æœ¬ï¼‰ï¼›

     2ï¼‰å»ºç«‹è¶…é“¾æ¥ï¼Œä¾¿äºé¡µé¢é“¾æ¥çš„è·³è½¬ï¼›

     3ï¼‰åˆ›å»ºåˆ—è¡¨ï¼ŒæŠŠä¿¡æ¯æœ‰åºåœ°ç»„ç»‡åœ¨ä¸€èµ·ï¼Œæ–¹ä¾¿æµè§ˆï¼›

     4ï¼‰åœ¨ç½‘é¡µä¸­æ˜¾ç¤ºâ€œå›¾åƒã€å£°éŸ³ã€è§†é¢‘ã€åŠ¨ç”»â€ç­‰å¤šåª’ä½“ä¿¡æ¯ï¼Œä½¿ç½‘é¡µè®¾è®¡æ›´å…·å†²å‡»åŠ›ï¼›

     5ï¼‰å¯åˆ¶ä½œè¡¨æ ¼ï¼Œä»¥ä¾¿æ˜¾ç¤ºå¤§é‡æ•°æ®ï¼›

     6ï¼‰å¯åˆ¶ä½œè¡¨å•ï¼Œå…è®¸åœ¨ç½‘é¡µå†…è¾“å…¥æ–‡æœ¬ä¿¡æ¯ï¼Œæ‰§è¡Œå…¶ä»–ç”¨æˆ·æ“ä½œï¼Œæ–¹ä¾¿ä¿¡æ¯äº’åŠ¨ï¼›

     7ï¼‰æ²¡æœ‰ä½“ç°ç»“æ„è¯­ä¹‰åŒ–çš„æ ‡ç­¾;

HTML5ï¼š 

    1ï¼‰ç”¨äºç»˜ç”»çš„canvaså…ƒç´ ï¼› 

    2ï¼‰ç”¨äºåª’ä»‹å›æ”¾çš„videoå’Œaudioå…ƒç´ ï¼› 

    3ï¼‰å¯¹æœ¬åœ°ç¦»çº¿å­˜å‚¨æœ‰æ›´å¥½çš„æ”¯æŒï¼› 

    4ï¼‰æ–°çš„ç‰¹æ®Šå†…å®¹å…ƒç´ ï¼ˆeg: articleã€footerã€headerã€navã€sectionç­‰ï¼‰ï¼› 

    5ï¼‰æ–°çš„è¡¨å•æ§ä»¶ï¼ˆeg: calendarã€dateã€timeã€emailã€urlã€searchç­‰ï¼‰ï¼› 

    6ï¼‰æœ‰è¯­ä¹‰ä¼˜åŠ¿ï¼Œæä¾›äº†ä¸€äº›æ–°æ ‡ç­¾ï¼Œï¼ˆeg: &lt;header&gt; &lt;article&gt; &lt;footer&gt; æä¾›äº†è¯­ä¹‰åŒ–æ ‡ 

ç­¾ï¼‰ï¼Œå¯ä»¥æ›´å¥½åœ°æ”¯æŒæœç´¢å¼•æ“çš„è¯»å–ï¼Œä¾¿äºSEOèœ˜è››çš„çˆ¬è¡Œã€‚
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸å¸¸è§æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸å¸¸è§æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸å¸¸è§æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ï¼Ÿ"></a>â™¥ï¸â™¥ï¸å¸¸è§æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ï¼Ÿ</h3><p>[å¸¸è§æµè§ˆå™¨å…¼å®¹é—®é¢˜]: 	â€œ<a href="https://blog.csdn.net/weixin_43214644/article/details/125872520">https://blog.csdn.net/weixin_43214644/article/details/125872520</a> â€œ</p>
<h3 id="â™¥ï¸â™¥ï¸mediaå±æ€§ï¼Ÿscreen-All-max-width-min-width"><a href="#â™¥ï¸â™¥ï¸mediaå±æ€§ï¼Ÿscreen-All-max-width-min-width" class="headerlink" title="â™¥ï¸â™¥ï¸mediaå±æ€§ï¼Ÿscreen? All? max-width? min-width?"></a>â™¥ï¸â™¥ï¸mediaå±æ€§ï¼Ÿscreen? All? max-width? min-width?</h3><p>mediaï¼š åª’ä½“æŸ¥è¯¢</p>
<p>screen ï¼šè®¡ç®—æœºå±å¹•</p>
<p>All ï¼šé»˜è®¤ï¼Œé€‚åˆæ‰€æœ‰è®¾å¤‡</p>
<p>max(min)-width ï¼šè§„å®šç›®æ ‡æ˜¾ç¤ºåŒºåŸŸçš„å®½åº¦</p>
<p>cssåˆå¹¶å†™æ³•ï¼š @media screen and (min-width:xxxpx) {}</p>
<h3 id="â™¥ï¸â™¥ï¸-ä¸€èˆ¬åšæ‰‹æœºé¡µé¢åˆ‡å›¾çš„å‡ ç§æ–¹å¼"><a href="#â™¥ï¸â™¥ï¸-ä¸€èˆ¬åšæ‰‹æœºé¡µé¢åˆ‡å›¾çš„å‡ ç§æ–¹å¼" class="headerlink" title="â™¥ï¸â™¥ï¸ ä¸€èˆ¬åšæ‰‹æœºé¡µé¢åˆ‡å›¾çš„å‡ ç§æ–¹å¼"></a>â™¥ï¸â™¥ï¸ ä¸€èˆ¬åšæ‰‹æœºé¡µé¢åˆ‡å›¾çš„å‡ ç§æ–¹å¼</h3><p>é’ˆå¯¹æ‰‹æœºç«¯é¡µé¢ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œéœ€è¦å¯¹è®¾è®¡å›¾ç‰‡åˆ‡ä¸¤ç§å›¾ç‰‡ã€‚</p>
<p>â‘ ï¼šdpr:2â€”â€”åˆ‡ä¸¤å€å›¾ï¼ˆå³è®¾è®¡åŸå›¾å¤§å°ï¼Œå› ä¸ºè®¾è®¡å›¾æ˜¯æŒ‰åŸæ¥çš„æ‰‹æœºå°ºå¯¸æ”¾å¤§ä¸¤å€ä¹‹åçš„ï¼‰  ä¸€èˆ¬ä¿å­˜ä¸ºxxx@2x</p>
<p>â‘¡ï¼šdpr:3â€”â€”åˆ‡ä¸‰å€å›¾ï¼ˆå³è®¾è®¡åŸå›¾å¤§å°çš„1.5å€ï¼Œå› ä¸ºè®¾è®¡å›¾æ˜¯æŒ‰åŸæ¥çš„æ‰‹æœºå°ºå¯¸æ”¾å¤§ä¸¤å€ä¹‹åçš„ï¼‰   ä¸€èˆ¬ä¿å­˜ä¸ºxxx@3x</p>
<p>ä¾‹å¦‚ï¼šè®¾è®¡å›¾æ˜¯720pxçš„å®½åº¦ã€‚</p>
<p>ç”±äºè®¾è®¡å›¾æ˜¯æ”¾å¤§ä¸¤å€çš„ã€‚æ‰€ä»¥ä¸€å€çš„å¤§å°æ˜¯&#x3D;720&#x2F;2 &#x3D; 360px;</p>
<p>æ”¾å¤§ä¸‰å€å›¾å°±æ˜¯&#x3D; 360<em>3 &#x3D; 720</em>1.5 &#x3D; 1080px;</p>
<h3 id="â™¥ï¸â™¥ï¸px-x2F-em-x2F-remæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆé€šå¸¸ç»™font-sizeè®¾ç½®çš„å­—ä½“ä¸º62-5"><a href="#â™¥ï¸â™¥ï¸px-x2F-em-x2F-remæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆé€šå¸¸ç»™font-sizeè®¾ç½®çš„å­—ä½“ä¸º62-5" class="headerlink" title="â™¥ï¸â™¥ï¸px&#x2F;em&#x2F;remæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆé€šå¸¸ç»™font-sizeè®¾ç½®çš„å­—ä½“ä¸º62.5%"></a>â™¥ï¸â™¥ï¸px&#x2F;em&#x2F;remæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆé€šå¸¸ç»™font-sizeè®¾ç½®çš„å­—ä½“ä¸º62.5%</h3><p>pxï¼ˆåƒç´ ï¼‰ï¼šé¡µé¢é»˜è®¤çš„å°ºå¯¸è®¡ç®—å•ä½ï¼Œç»å¯¹é•¿åº¦,å®ƒæ˜¯ç›¸å¯¹äºæ˜¾ç¤ºå™¨å±å¹•åˆ†è¾¨ç‡è€Œè¨€çš„ï¼›</p>
<pre><code class="css">ç‰¹ç‚¹ï¼š
        1. IEæ— æ³•è°ƒæ•´é‚£äº›ä½¿ç”¨pxä½œä¸ºå•ä½çš„å­—ä½“å¤§å°ï¼›
        2. å›½å¤–çš„å¤§éƒ¨åˆ†ç½‘ç«™èƒ½å¤Ÿè°ƒæ•´çš„åŸå› åœ¨äºå…¶ä½¿ç”¨äº†emæˆ–remä½œä¸ºå­—ä½“å•ä½ï¼› 
        3. Firefoxèƒ½å¤Ÿè°ƒæ•´pxå’Œemï¼Œremï¼Œä½†æ˜¯96%ä»¥ä¸Šçš„ä¸­å›½ç½‘æ°‘ä½¿ç”¨IEæµè§ˆå™¨(æˆ–å†…æ ¸)ã€‚
</code></pre>
<p>emï¼šç›¸å¯¹é•¿åº¦ï¼Œç›¸å¯¹äºåº”ç”¨åœ¨å½“å‰å…ƒç´ çš„å­—ä½“å°ºå¯¸ï¼›ä¸€èˆ¬æµè§ˆå™¨é»˜è®¤å­—ä½“å¤§å°ä¸º16pxï¼Œåˆ™ 1em &#x3D; 16px</p>
<pre><code class="css">ç‰¹ç‚¹ï¼š1. emçš„å€¼å¹¶ä¸æ˜¯å›ºå®šçš„ï¼› 2. emä¼šç»§æ‰¿çˆ¶çº§å…ƒç´ çš„å­—ä½“å¤§å°ã€‚
</code></pre>
<p>remï¼ˆroot emï¼‰ï¼šç›¸å¯¹å•ä½ï¼Œç›¸å¯¹äºhtmlæ ¹å…ƒç´ å­—ä½“å¤§å°çš„å•ä½ï¼Œå½“htmlçš„font-sizeï¼š16pxæ—¶ï¼Œ</p>
<p>1rem &#x3D; 16px</p>
<pre><code class="css">ç‰¹ç‚¹ï¼š
        1. è¿™ä¸ªå•ä½å¯è°“é›†ç›¸å¯¹å¤§å°å’Œç»å¯¹å¤§å°çš„ä¼˜ç‚¹äºä¸€èº«ï¼Œé€šè¿‡å®ƒæ—¢å¯ä»¥åšåˆ°åªä¿®æ”¹æ ¹å…ƒç´ å°±æˆæ¯”ä¾‹åœ°è°ƒæ•´æ‰€æœ‰å­—ä½“å¤§å°ï¼Œåˆå¯ä»¥é¿å…å­—ä½“å¤§å°é€å±‚å¤åˆçš„è¿é”ååº”ã€‚ 
        2. é™¤äº†IE8åŠæ›´æ—©ç‰ˆæœ¬å¤–ï¼Œæ‰€æœ‰æµè§ˆå™¨å‡å·²æ”¯æŒremã€‚
</code></pre>
<p>ä¸ºä»€ä¹ˆç»™font-sizeè®¾ç½®ä¸º62.5%ï¼š æ–¹ä¾¿æ¢ç®—ï¼</p>
<pre><code class="css">1. å› ä¸ºç»å¤§å¤šæ•°æµè§ˆå™¨çš„é»˜è®¤å­—ä½“å¤§å°ä¸º 16px ï¼Œè€Œå°†font-sizeè®¾ç½®ä¸º 62.5% åˆ™ç­‰ä»·äºå­—ä½“å¤§å°çš„font-size:10px;
2. éšä¹‹åœ¨å…¶ä»–çš„æ¢ç®—å•ä½ï¼Œå¦‚ rem çš„å­—ä½“æ¢ç®—æ—¶ï¼Œåˆ™å¯ä»¥è¡¨ç¤ºä¸º 1rem = 10pxï¼Œ æ•´æ•°å€¼å¯¹äºå•ä½çš„
æ¢ç®—ä¼šæ¯”è¾ƒæ–¹ä¾¿;
3. ä½†æ˜¯åœ¨Chromeï¼ˆè°·æ­Œæµè§ˆå™¨ï¼‰ä¸­ï¼Œæ”¯æŒæœ€å°å­—ä½“çš„å¤§å°ä¸º 12px ï¼Œè§£å†³åŠæ³•å°±æ˜¯ å°†htmlæ ¹å­—ä½“è®¾ç½®ä¸º font-size: 625%; æ„ï¼š1rem = 100px ï¼Œä»¥æ­¤å•ä½æ¢ç®—;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸sasså’Œscssæœ‰ä»€ä¹ˆåŒºåˆ«-sassä¸€èˆ¬æ€ä¹ˆæ ·ç¼–è¯‘çš„"><a href="#â™¥ï¸â™¥ï¸sasså’Œscssæœ‰ä»€ä¹ˆåŒºåˆ«-sassä¸€èˆ¬æ€ä¹ˆæ ·ç¼–è¯‘çš„" class="headerlink" title="â™¥ï¸â™¥ï¸sasså’Œscssæœ‰ä»€ä¹ˆåŒºåˆ«? sassä¸€èˆ¬æ€ä¹ˆæ ·ç¼–è¯‘çš„"></a>â™¥ï¸â™¥ï¸sasså’Œscssæœ‰ä»€ä¹ˆåŒºåˆ«? sassä¸€èˆ¬æ€ä¹ˆæ ·ç¼–è¯‘çš„</h3><p>Sasså’ŒSCSSå…¶å®æ˜¯åŒä¸€ç§ä¸œè¥¿ï¼Œæˆ‘ä»¬å¹³æ—¶ç§°ä¹‹ä¸ºSassï¼Œä¸¤è€…ä¹‹é—´ä¸åŒä¹‹å¤„æœ‰ä»¥ä¸‹ä¸¤ç‚¹ï¼š</p>
<p>1ã€æ–‡ä»¶æ‰©å±•åä¸åŒï¼ŒSassæ˜¯ä»¥â€œ.sassâ€åç¼€ä¸ºæ‰©å±•åï¼Œè€ŒSCSSæ˜¯ä»¥â€œ.scssâ€åç¼€ä¸ºæ‰©å±•å<br>2ã€è¯­æ³•ä¹¦å†™æ–¹å¼ä¸åŒï¼ŒSassæ˜¯ä»¥ä¸¥æ ¼çš„ç¼©è¿›å¼è¯­æ³•è§„åˆ™æ¥ä¹¦å†™ï¼Œä¸å¸¦å¤§æ‹¬å·ï¼ˆ{}ï¼‰å’Œåˆ†å·ï¼ˆ;ï¼‰ï¼Œè€ŒSCSSçš„è¯­æ³•ä¹¦å†™å’Œæˆ‘ä»¬çš„CSSè¯­æ³•ä¹¦å†™æ–¹æ³•éå¸¸ç±»ä¼¼ã€‚</p>
<h4 id="Sassè¯­æ³•"><a href="#Sassè¯­æ³•" class="headerlink" title="Sassè¯­æ³•"></a>Sassè¯­æ³•</h4><pre><code class="css">$font-stack:Helvetica,sans-serif //å®šä¹‰å˜é‡
$primary-color:#eee  //å®šä¹‰å˜é‡
 
html
  font:100% $font-stack
  color:$primary-color
</code></pre>
<h4 id="SCSSè¯­æ³•"><a href="#SCSSè¯­æ³•" class="headerlink" title="SCSSè¯­æ³•"></a>SCSSè¯­æ³•</h4><pre><code class="css">$font-stack:Helvetica,sans-serif //å®šä¹‰å˜é‡
$primary-color:#eee  //å®šä¹‰å˜é‡
 
html &#123;
  font:100% $font-stack
  color:$primary-color
&#125;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸å¦‚æœå¯¹cssè¿›è¡Œä¼˜åŒ–å¦‚ä½•å¤„ç†ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸å¦‚æœå¯¹cssè¿›è¡Œä¼˜åŒ–å¦‚ä½•å¤„ç†ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸å¦‚æœå¯¹cssè¿›è¡Œä¼˜åŒ–å¦‚ä½•å¤„ç†ï¼Ÿ"></a>â™¥ï¸â™¥ï¸å¦‚æœå¯¹cssè¿›è¡Œä¼˜åŒ–å¦‚ä½•å¤„ç†ï¼Ÿ</h3><p>ä¼˜åŒ–åŸåˆ™ï¼šå‡å°‘cssæ ·å¼çš„æ¸²æŸ“åŠ è½½æ—¶é—´ï¼Œé€šè¿‡å‰Šå‡cssæ ·å¼çš„ä»£ç ä½“ç§¯ç­‰ç›¸å…³æ“ä½œ</p>
<h4 id="å®è·µå‹ä¼˜åŒ–ï¼š"><a href="#å®è·µå‹ä¼˜åŒ–ï¼š" class="headerlink" title="å®è·µå‹ä¼˜åŒ–ï¼š"></a>å®è·µå‹ä¼˜åŒ–ï¼š</h4><p> 1ã€å†…è”é¦–å±å…³é”®CSSï¼ˆCritical CSSï¼‰ï¼šå†…è”CSSèƒ½å¤Ÿä½¿æµè§ˆå™¨å¼€å§‹é¡µé¢æ¸²æŸ“çš„æ—¶é—´æå‰,æ€§èƒ½ä¼˜åŒ–ä¸­æœ‰ä¸€ä¸ªé‡è¦çš„æŒ‡æ ‡â€”â€”é¦–æ¬¡æœ‰æ•ˆç»˜åˆ¶ï¼ˆFirst Meaningful Paintï¼Œç®€ç§°FMPï¼‰å³æŒ‡é¡µé¢çš„é¦–è¦å†…å®¹ï¼ˆprimary contentï¼‰å‡ºç°åœ¨å±å¹•ä¸Šçš„æ—¶é—´,è¿™ä¸€æŒ‡æ ‡å½±å“ç”¨æˆ·çœ‹åˆ°é¡µé¢å‰æ‰€éœ€ç­‰å¾…çš„æ—¶é—´ï¼Œè€Œå†…è”é¦–å±å…³é”®CSSï¼ˆå³Critical CSSï¼Œå¯ä»¥ç§°ä¹‹ä¸ºé¦–å±å…³é”®CSSï¼‰èƒ½å‡å°‘è¿™ä¸€æ—¶é—´ã€‚</p>
<p>â€¼ï¸æ³¨ï¼šå†…è”csså¹¶ä¸æ˜¯ä¸åŠ ä»¥é™åˆ¶çš„ï¼Œå®ƒçš„åˆå§‹æ‹¥å µçª—å£3å­˜åœ¨é™åˆ¶ï¼ˆTCPç›¸å…³æ¦‚å¿µï¼Œé€šå¸¸æ˜¯ 14.6kbï¼Œ å‹ç¼©åçš„å¤§å°ï¼‰ï¼Œå¦‚æœå†…è”CSSåçš„æ–‡ä»¶è¶…å‡ºäº†è¿™ä¸€é™åˆ¶ï¼Œç³»ç»Ÿå°±éœ€è¦åœ¨æœåŠ¡å™¨å’Œæµè§ˆå™¨ä¹‹é—´è¿›è¡Œæ›´å¤šæ¬¡çš„å¾€è¿”ï¼Œè¿™æ ·å¹¶ä¸èƒ½æå‰é¡µé¢æ¸²æŸ“æ—¶é—´ã€‚</p>
<p>2ã€å¼‚æ­¥åŠ è½½CSS ï¼šCSSä¼šé˜»å¡æ¸²æŸ“ï¼Œåœ¨CSSæ–‡ä»¶è¯·æ±‚ã€ä¸‹è½½ã€è§£æå®Œæˆä¹‹å‰ï¼Œæµè§ˆå™¨å°†ä¸ä¼šæ¸²æŸ“ä»»ä½•å·²å¤„ç†çš„å†…å®¹ã€‚ æœ‰æ—¶ï¼Œè¿™ç§é˜»å¡æ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºæˆ‘ä»¬å¹¶ä¸å¸Œæœ›åœ¨æ‰€éœ€çš„CSSåŠ è½½ä¹‹å‰ï¼Œæµè§ˆå™¨å°±å¼€å§‹æ¸²æŸ“é¡µé¢ã€‚ é‚£ä¹ˆå°†é¦–å±å…³é”®CSSå†…è”åï¼Œå‰©ä½™çš„CSSå†…å®¹çš„é˜»å¡æ¸²æŸ“å°±ä¸æ˜¯å¿…éœ€çš„äº†ï¼Œå¯ä»¥ä½¿ç”¨å¤–éƒ¨CSSï¼Œå¹¶ä¸”å¼‚æ­¥åŠ è½½ï¼›</p>
<pre><code class="css">æ–¹å¼ä¸€ã€ ä½¿ç”¨JavaScriptåŠ¨æ€åˆ›å»ºæ ·å¼è¡¨linkå…ƒç´ ï¼Œå¹¶æ’å…¥åˆ°DOMä¸­ã€‚ 
æ–¹å¼äºŒã€ å°†linkå…ƒç´ çš„mediaå±æ€§è®¾ç½®ä¸ºç”¨æˆ·æµè§ˆå™¨ä¸åŒ¹é…çš„åª’ä½“ç±»å‹ï¼ˆæˆ–åª’ä½“æŸ¥è¯¢ï¼‰ï¼Œå¦‚ media=&quot;print&quot;ï¼Œç”šè‡³å¯ä»¥æ˜¯å®Œå…¨ä¸å­˜åœ¨çš„ç±»å‹media=&quot;noexist&quot;ã€‚å¯¹æµè§ˆå™¨æ¥è¯´ï¼Œå¦‚æœæ ·å¼è¡¨ä¸é€‚ç”¨äºå½“å‰åª’ä½“ç±»å‹ï¼Œå…¶ä¼˜å…ˆçº§ä¼šè¢«æ”¾ä½ï¼Œä¼šåœ¨ä¸é˜»å¡é¡µé¢æ¸²æŸ“çš„æƒ…å†µä¸‹å†è¿›è¡Œä¸‹è½½ã€‚
</code></pre>
<p> 3ã€æ–‡ä»¶å‹ç¼© </p>
<pre><code class="css">é€šè¿‡ç›¸å…³çš„æ„å»ºå·¥å…·å¯¹cssæ ·å¼è¿›è¡Œæ‰“åŒ…å‹ç¼©ï¼Œå»é™¤å¤šä½™çš„ç©ºæ ¼å’Œæ¢è¡Œã€‚å¦‚ webpackã€rollupã€ 
grunt/gulp.js ç­‰ 
</code></pre>
<p>4ã€å»é™¤æ— ç”¨CSS </p>
<pre><code class="css">1. ç­›é€‰å»é™¤ç›¸å…³é‡å¤çš„cssæ ·å¼ 

2. å»é™¤åœ¨é¡µé¢ä¸­æ— æ³•ç”Ÿæ•ˆæˆ–ä¸ç”Ÿæ•ˆçš„cssæ ·å¼
</code></pre>
<h4 id="å»ºè®®å‹ä¼˜åŒ–ï¼š"><a href="#å»ºè®®å‹ä¼˜åŒ–ï¼š" class="headerlink" title="å»ºè®®å‹ä¼˜åŒ–ï¼š"></a>å»ºè®®å‹ä¼˜åŒ–ï¼š</h4><p> 1ã€æœ‰é€‰æ‹©åœ°ä½¿ç”¨é€‰æ‹©å™¨;</p>
<p>2ã€å‡å°‘ä½¿ç”¨æ˜‚è´µçš„å±æ€§;</p>
<pre><code class="css">1. åœ¨æµè§ˆå™¨ç»˜åˆ¶å±å¹•æ—¶ï¼Œæ‰€æœ‰éœ€è¦æµè§ˆå™¨è¿›è¡Œæ“ä½œæˆ–è®¡ç®—çš„å±æ€§ç›¸å¯¹è€Œè¨€éƒ½éœ€è¦èŠ±è´¹æ›´å¤§çš„ä»£ä»·ã€‚ 
2. å½“é¡µé¢å‘ç”Ÿé‡ç»˜æ—¶ï¼Œå®ƒä»¬ä¼šé™ä½æµè§ˆå™¨çš„æ¸²æŸ“æ€§èƒ½ã€‚æ‰€ä»¥åœ¨ç¼–å†™CSSæ—¶ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡å‡å°‘ä½¿ç”¨æ˜‚è´µ å±æ€§ * æ˜‚è´µå±æ€§ï¼š å¦‚box-shadow/border-radius/filter/é€æ˜åº¦/ä¼ªç±»:nth-child()ç­‰
</code></pre>
<p>3ã€ä¼˜åŒ–é‡æ’ä¸é‡ç»˜;</p>
<pre><code class="css">å‡å°‘é‡æ’ 
        1. é‡æ’ä¼šå¯¼è‡´æµè§ˆå™¨é‡æ–°è®¡ç®—æ•´ä¸ªæ–‡æ¡£ï¼Œé‡æ–°æ„å»ºæ¸²æŸ“æ ‘ï¼Œè¿™ä¸€è¿‡ç¨‹ä¼šé™ä½æµè§ˆå™¨çš„æ¸²æŸ“é€Ÿåº¦ã€‚æœ‰ å¾ˆå¤šæ“ä½œä¼šè§¦å‘é‡æ’ï¼Œæˆ‘ä»¬åº”è¯¥é¿å…é¢‘ç¹è§¦å‘è¿™äº›æ“ä½œã€‚

é¿å…ä¸å¿…è¦çš„é‡ç»˜ 
        1. å½“å…ƒç´ çš„å¤–è§‚ï¼ˆå¦‚colorï¼Œbackgroundï¼Œvisibilityç­‰å±æ€§ï¼‰å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä¼šè§¦å‘é‡ç»˜ã€‚ 
        2. åœ¨ç½‘ç«™çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œé‡ç»˜æ˜¯æ— æ³•é¿å…çš„ã€‚ä¸è¿‡ï¼Œæµè§ˆå™¨å¯¹æ­¤åšäº†ä¼˜åŒ–ï¼Œå®ƒä¼šå°†å¤šæ¬¡çš„é‡æ’ã€é‡ ç»˜æ“ä½œåˆå¹¶ä¸ºä¸€æ¬¡æ‰§è¡Œã€‚ 
        3. ä¸è¿‡æˆ‘ä»¬ä»éœ€è¦é¿å…ä¸å¿…è¦çš„é‡ç»˜ï¼Œå¦‚é¡µé¢æ»šåŠ¨æ—¶è§¦å‘çš„hoveräº‹ä»¶ï¼Œå¯ä»¥åœ¨æ»šåŠ¨çš„æ—¶å€™ç¦ç”¨ hoveräº‹ä»¶ï¼Œè¿™æ ·é¡µé¢åœ¨æ»šåŠ¨æ—¶ä¼šæ›´åŠ æµç•…ã€‚
</code></pre>
<p>4ã€ä¸è¦ä½¿ç”¨@import;</p>
<pre><code class="css">ä¸å»ºè®®ä½¿ç”¨@importä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç‚¹åŸå› ã€‚ 
  1.ä½¿ç”¨@importå¼•å…¥CSSä¼šå½±å“æµè§ˆå™¨çš„å¹¶è¡Œä¸‹è½½ã€‚
  2.ä½¿ç”¨@importå¼•ç”¨çš„CSSæ–‡ä»¶åªæœ‰åœ¨å¼•ç”¨å®ƒçš„ é‚£ä¸ªcssæ–‡ä»¶è¢«ä¸‹è½½ã€è§£æä¹‹åï¼Œæµè§ˆå™¨æ‰ä¼šçŸ¥é“è¿˜æœ‰å¦å¤–ä¸€ä¸ªcsséœ€è¦ä¸‹è½½ï¼Œè¿™æ—¶æ‰å»ä¸‹è½½ï¼Œç„¶åä¸‹è½½åå¼€å§‹ è§£æã€æ„å»ºrender treeç­‰ä¸€ç³»åˆ—æ“ä½œã€‚è¿™å°±å¯¼è‡´æµè§ˆå™¨æ— æ³•å¹¶è¡Œä¸‹è½½æ‰€éœ€çš„æ ·å¼æ–‡ä»¶ã€‚ 
  3.å¤šä¸ª@importä¼šå¯¼è‡´ä¸‹è½½é¡ºåºç´Šä¹±ã€‚åœ¨IEä¸­ï¼Œ@importä¼šå¼•å‘èµ„æºæ–‡ä»¶çš„ä¸‹è½½é¡ºåºè¢«æ‰“ä¹±ï¼Œ å³æ’åˆ—åœ¨@importåé¢çš„jsæ–‡ä»¶å…ˆäº@importä¸‹è½½ï¼Œå¹¶ä¸”æ‰“ä¹±ç”šè‡³ç ´å@importè‡ªèº«çš„å¹¶è¡Œä¸‹è½½.
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸å¦‚ä½•å¯¹cssæ–‡ä»¶è¿›è¡Œå‹ç¼©åˆå¹¶-gulpå¦‚ä½•å®ç°ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸å¦‚ä½•å¯¹cssæ–‡ä»¶è¿›è¡Œå‹ç¼©åˆå¹¶-gulpå¦‚ä½•å®ç°ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸å¦‚ä½•å¯¹cssæ–‡ä»¶è¿›è¡Œå‹ç¼©åˆå¹¶? gulpå¦‚ä½•å®ç°ï¼Ÿ"></a>â™¥ï¸â™¥ï¸å¦‚ä½•å¯¹cssæ–‡ä»¶è¿›è¡Œå‹ç¼©åˆå¹¶? gulpå¦‚ä½•å®ç°ï¼Ÿ</h3><p>[Gulpå‹ç¼©css]: 	â€œ<a href="https://www.jianshu.com/p/00b3f479dc90">https://www.jianshu.com/p/00b3f479dc90</a> â€œ</p>
<pre><code class="css">å¦‚ä½•å‹ç¼©åˆå¹¶ï¼š

é€šè¿‡ç›¸å…³çš„æ„å»ºå·¥å…·å¯¹cssæ ·å¼è¿›è¡Œæ‰“åŒ…å‹ç¼©ï¼Œå»é™¤å¤šä½™çš„ç©ºæ ¼å’Œæ¢è¡Œã€‚å¦‚ webpackã€rollupã€
grunt/gulp.js ç­‰
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸aæ ‡ç­¾ä¸­active-hover-link-visitedæ­£ç¡®çš„è®¾ç½®é¡ºåºæ˜¯ä»€ä¹ˆ"><a href="#â™¥ï¸â™¥ï¸aæ ‡ç­¾ä¸­active-hover-link-visitedæ­£ç¡®çš„è®¾ç½®é¡ºåºæ˜¯ä»€ä¹ˆ" class="headerlink" title="â™¥ï¸â™¥ï¸aæ ‡ç­¾ä¸­active hover link visitedæ­£ç¡®çš„è®¾ç½®é¡ºåºæ˜¯ä»€ä¹ˆ?"></a>â™¥ï¸â™¥ï¸aæ ‡ç­¾ä¸­active hover link visitedæ­£ç¡®çš„è®¾ç½®é¡ºåºæ˜¯ä»€ä¹ˆ?</h3><pre><code class="css">aæ ‡ç­¾çš„è®¾ç½®é¡ºåºï¼š
     1. link ï¼Œ é“¾æ¥å¹³å¸¸çš„çŠ¶æ€
     2. hover ï¼Œé¼ æ ‡æ”¾ç½®åœ¨é“¾æ¥ä¸Šæ˜¾ç¤ºçš„æ ·å¼
     3. active ï¼Œé“¾æ¥è¢«æŒ‰ä¸‹çš„æ ·å¼
     4. visited ï¼Œ é“¾æ¥è¢«è®¿é—®è¿‡åçš„çŠ¶æ€
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸å¸¸è§çš„è§†é¢‘ç¼–ç æ ¼å¼æœ‰å‡ ç§ï¼Ÿè§†é¢‘æ ¼å¼æœ‰å‡ ç§ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸å¸¸è§çš„è§†é¢‘ç¼–ç æ ¼å¼æœ‰å‡ ç§ï¼Ÿè§†é¢‘æ ¼å¼æœ‰å‡ ç§ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸å¸¸è§çš„è§†é¢‘ç¼–ç æ ¼å¼æœ‰å‡ ç§ï¼Ÿè§†é¢‘æ ¼å¼æœ‰å‡ ç§ï¼Ÿ"></a>â™¥ï¸â™¥ï¸å¸¸è§çš„è§†é¢‘ç¼–ç æ ¼å¼æœ‰å‡ ç§ï¼Ÿè§†é¢‘æ ¼å¼æœ‰å‡ ç§ï¼Ÿ</h3><pre><code class="css">å¸¸è§çš„è§†é¢‘ç¼–ç æ ¼å¼ï¼ŒH264 , VP8ï¼Œ AVS, RMVBï¼ŒWMVï¼ŒQuickTimeï¼ˆmovï¼‰

è§†é¢‘æ ¼å¼æœ‰MPEGã€AVIã€nAVIã€ASFã€MOVã€3GPã€WMVã€DivXã€XviDã€RMã€RMVBã€FLV/F4Vã€‚
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸canvasåœ¨æ ‡ç­¾ä¸Šè®¾ç½®å®½é«˜å’Œåœ¨styleä¸­è®¾ç½®å®½é«˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸canvasåœ¨æ ‡ç­¾ä¸Šè®¾ç½®å®½é«˜å’Œåœ¨styleä¸­è®¾ç½®å®½é«˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸canvasåœ¨æ ‡ç­¾ä¸Šè®¾ç½®å®½é«˜å’Œåœ¨styleä¸­è®¾ç½®å®½é«˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>â™¥ï¸â™¥ï¸canvasåœ¨æ ‡ç­¾ä¸Šè®¾ç½®å®½é«˜å’Œåœ¨styleä¸­è®¾ç½®å®½é«˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p>  åœ¨canvasæ ‡ç­¾ä¸Šè®¾ç½®å®½é«˜ï¼Œ canvasç”»å¸ƒå‘ç”Ÿçš„å˜åŒ–ä¸ä¼šå½±å“åˆ°ç”»å¸ƒå†…å®¹ï¼Œå³ç”»å¸ƒå†…å®¹ä¸ä¼šå‘ç”Ÿæ”¹å˜ç›¸åçš„ï¼Œåœ¨styleæ ·å¼ä¸­è®¾ç½®å®½é«˜åˆ™ä¼šå½±å“åˆ°ç”»å¸ƒå†…å®¹çš„å½¢çŠ¶;</p>
<h3 id="â™¥ï¸â™¥ï¸canvaså¦‚ä½•ç»˜åˆ¶ä¸€ä¸ªä¸‰è§’å½¢-æ­£æ–¹å½¢"><a href="#â™¥ï¸â™¥ï¸canvaså¦‚ä½•ç»˜åˆ¶ä¸€ä¸ªä¸‰è§’å½¢-æ­£æ–¹å½¢" class="headerlink" title="â™¥ï¸â™¥ï¸canvaså¦‚ä½•ç»˜åˆ¶ä¸€ä¸ªä¸‰è§’å½¢|æ­£æ–¹å½¢"></a>â™¥ï¸â™¥ï¸canvaså¦‚ä½•ç»˜åˆ¶ä¸€ä¸ªä¸‰è§’å½¢|æ­£æ–¹å½¢</h3><p><img src="/2022/10/15/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E4%B9%8BHTML5-CSS3/image-20221013174601774.png"></p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;style&gt;
    canvas &#123;
        margin: 0 auto;
        border: 2px solid #aaa;
        display: block; /*ç”»å¸ƒå±…ä¸­*/
    &#125;
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;canvas id=&quot;cont&quot; width=&quot;500px&quot; height=&quot;500px&quot;&gt;Hello Canvas&lt;/canvas&gt;
    &lt;script&gt;
        
        //è·å–ç”»å¸ƒ
        var canvas = document.querySelector(&quot;#cont&quot;);
        //è·å–ç”»å¸ƒä¸Šä¸‹æ–‡
        var ctx = canvas.getContext(&#39;2d&#39;);
        function drawLine(x1, y1, x2, y2, color, width) &#123;
            ctx.beginPath();  //å¼€å¯ä¸€æ¡è·¯å¾„
            ctx.moveTo(x1, y1); //ç¡®å®šèµ·å§‹ç‚¹
            ctx.lineTo(x2, y2); //ç¡®å®šç»“æŸç‚¹
            ctx.strokeStyle = color;  //ç€è‰²ä¹‹å‰è®¾ç½®é¢œè‰²å’Œçº¿å®½
            ctx.lineWidth = width;
            ctx.stroke(); //ç€è‰²
            ctx.closePath(); //ç»“æŸè·¯å¾„
        &#125;
        drawLine(100, 100, 400, 100, &#39;green&#39;, 5);
        drawLine(400, 100, 400, 400, &#39;purple&#39;, 5);
        drawLine(400, 400, 100, 400, &#39;orange&#39;, 5);
        drawLine(100, 400, 100, 100, &#39;blue&#39;, 5);

    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p><img src="/2022/10/15/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E4%B9%8BHTML5-CSS3/image-20221013174702007.png"></p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;style&gt;
    canvas &#123;
        margin: 0 auto;
        border: 2px solid #aaa;
        display: block; /*ç”»å¸ƒå±…ä¸­*/
    &#125;
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;canvas id=&quot;cont&quot; width=&quot;500px&quot; height=&quot;500px&quot;&gt;Hello Canvas&lt;/canvas&gt;
    &lt;script&gt;
        var canvas = document.querySelector(&quot;#cont&quot;);
        //è·å–ç”»å¸ƒä¸Šä¸‹æ–‡
        var ctx = canvas.getContext(&#39;2d&#39;);
        ctx.beginPath();
        ctx.moveTo(100, 100);
        //æ­¤å¤„ç›´çº¿è¿ç”¨ï¼Œç”»å®Œä¸‰æ¡çº¿å†å…³é—­è·¯å¾„
        ctx.lineTo(400, 100);
        ctx.lineTo(400, 400);
        ctx.lineTo(100, 100);
        ctx.strokeStyle = &#39;purple&#39;;
        ctx.lineWidth = 5;
        ctx.stroke();
        ctx.closePath();
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸è§£é‡Šä¸‹CSS-spritesï¼Œä»¥åŠä½ è¦å¦‚ä½•åœ¨é¡µé¢æˆ–è€…ç½‘ç«™ä¸­ä½¿ç”¨å®ƒã€‚"><a href="#â™¥ï¸â™¥ï¸è§£é‡Šä¸‹CSS-spritesï¼Œä»¥åŠä½ è¦å¦‚ä½•åœ¨é¡µé¢æˆ–è€…ç½‘ç«™ä¸­ä½¿ç”¨å®ƒã€‚" class="headerlink" title="â™¥ï¸â™¥ï¸è§£é‡Šä¸‹CSS spritesï¼Œä»¥åŠä½ è¦å¦‚ä½•åœ¨é¡µé¢æˆ–è€…ç½‘ç«™ä¸­ä½¿ç”¨å®ƒã€‚"></a>â™¥ï¸â™¥ï¸è§£é‡Šä¸‹CSS spritesï¼Œä»¥åŠä½ è¦å¦‚ä½•åœ¨é¡µé¢æˆ–è€…ç½‘ç«™ä¸­ä½¿ç”¨å®ƒã€‚</h3><pre><code class="css">css spritesç›´è¯‘è¿‡æ¥å°±æ˜¯CSSç²¾çµã€‚é€šå¸¸è¢«è§£é‡Šä¸ºâ€œCSSå›¾åƒæ‹¼åˆâ€æˆ–â€œCSSè´´å›¾å®šä½â€ã€‚å…¶å®å°±æ˜¯é€šè¿‡å°†å¤šä¸ªå›¾ç‰‡èåˆåˆ°ä¸€å¼ å›¾é‡Œé¢ï¼Œç„¶åé€šè¿‡CSS backgroundèƒŒæ™¯å®šä½æŠ€æœ¯æŠ€å·§å¸ƒå±€ç½‘é¡µèƒŒæ™¯ã€‚è¿™æ ·åšçš„å¥½å¤„ä¹Ÿæ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œå› ä¸ºå›¾ç‰‡å¤šçš„è¯ï¼Œä¼šå¢åŠ httpçš„è¯·æ±‚ï¼Œæ— ç–‘ä¿ƒä½¿äº†ç½‘ç«™æ€§èƒ½çš„å‡ä½ï¼Œç‰¹åˆ«æ˜¯å›¾ç‰‡ç‰¹åˆ«å¤šçš„ç½‘ç«™ï¼Œå¦‚æœèƒ½ç”¨css spritesé™ä½å›¾ç‰‡æ•°é‡ï¼Œå¸¦æ¥çš„å°†æ˜¯é€Ÿåº¦çš„æå‡ã€‚

css spritesæ˜¯ä»€ä¹ˆé€šä¿—è§£é‡Šï¼šCSS Spriteså…¶å®å°±æ˜¯æŠŠç½‘é¡µä¸­ä¸€äº›èƒŒæ™¯å›¾ç‰‡æ•´åˆæ‹¼åˆæˆä¸€å¼ å›¾ç‰‡ä¸­ï¼Œå†åˆ©ç”¨DIV CSSçš„â€œbackground-imageâ€ï¼Œâ€œbackground- repeatâ€ï¼Œâ€œbackground-positionâ€çš„ç»„åˆè¿›è¡ŒèƒŒæ™¯å®šä½ï¼Œbackground-positionå¯ä»¥ç”¨æ•°å­—èƒ½ç²¾ç¡®çš„å®šä½å‡ºèƒŒæ™¯å›¾ç‰‡åœ¨å¸ƒå±€ç›’å­å¯¹è±¡ä½ç½®ã€‚

//å¦‚ä½•ä½¿ç”¨
psåˆ‡å¥½å›¾ï¼Œåˆ©ç”¨å®šä½ä»£ç å®ç°
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸aç‚¹å‡»å‡ºç°æ¡†ï¼Œè§£å†³æ–¹æ³•ã€‚"><a href="#â™¥ï¸â™¥ï¸aç‚¹å‡»å‡ºç°æ¡†ï¼Œè§£å†³æ–¹æ³•ã€‚" class="headerlink" title="â™¥ï¸â™¥ï¸aç‚¹å‡»å‡ºç°æ¡†ï¼Œè§£å†³æ–¹æ³•ã€‚"></a>â™¥ï¸â™¥ï¸aç‚¹å‡»å‡ºç°æ¡†ï¼Œè§£å†³æ–¹æ³•ã€‚</h3><pre><code class="css">è§£å†³aæ ‡ç­¾ç‚¹å‡»ä¼šå‡ºç°è™šæ¡†ç°è±¡ã€‚
    å½“aæ ‡ç­¾è·å¾—ç„¦ç‚¹çš„æ—¶å€™ï¼Œaæ ‡ç­¾çš„å‘¨å›´å°±ä¼šå‡ºç°è™šæ¡†ï¼Œå®ƒä¸åŒäºborderï¼Œä¸å ä»»ä½•å®½åº¦ï¼Œaå¤±å»ç„¦ç‚¹çš„æ—¶å€™å°±ä¼šæ¶ˆå¤±ï¼Œå°±æ˜¯outlineã€‚åœ¨é¨æ¸¸ï¼ŒFirefox ï¼ŒIEçš„å‡ ä¸ªç‰ˆæœ¬ä¸­å°±ä¼šçœ‹åˆ°ã€è€ŒSafariã€Operaã€Google æœ¬èº«ä¸æ”¯æŒè¿™ä¸ªæ•ˆæœï¼Œå°±çœ‹ä¸åˆ°ã€‚

è§£å†³æ–¹æ³•ï¼š 
    1ã€å¯ä»¥ç»™aæ ‡ç­¾è®¾ç½® outlineï¼š noneï¼›ä½†åœ¨IE6ã€IE7 é¨æ¸¸ä¸­éƒ½ä¸èƒ½å®ç°ã€‚åªæœ‰åœ¨IE8ã€Firefoxä¸­æ‰ä¼šæ¶ˆé™¤è™šæ¡†ã€‚
    2ã€åœ¨aæ ‡ç­¾ä¸­åŠ å…¥jsæ§åˆ¶ï¼Œå½“aæ ‡ç­¾æ´»çš„ç„¦ç‚¹æ˜¯å°±å¼ºåˆ¶å–æ¶ˆç„¦ç‚¹ã€‚&lt;a href=&quot;#&quot;  onfocus=&quot;this.blur();&quot;&gt;&lt;/a&gt;,è¿™é‡Œè®¾ç½®èšç„¦æ—¶è§¦å‘blur()ï¼Œå¼ºåˆ¶å–æ¶ˆç„¦ç‚¹ã€‚
    3ã€åœ¨aæ ‡ç­¾é‡Œé¢åµŒå…¥å…¶ä»–æ ‡ç­¾ï¼Œå¦‚span ï¼Œè¿™æ ·ç‚¹å‡»æ—¶ï¼ŒåµŒå¥—çš„æ ‡ç­¾æ´»çš„ç„¦ç‚¹ï¼Œaæ ‡ç­¾è‡ªç„¶å°±ä¸ä¼šå‡ºç°è™šæ¡†ã€‚
    4ã€ä¸ç”¨aæ ‡ç­¾åšé“¾æ¥ï¼Œé‡‡ç”¨å…¶ä»–æ ‡ç­¾ï¼Œç”¨jsæ§åˆ¶å®ç°ç‚¹å‡»è·³è½¬ã€‚
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸CSS3ä¸­å¤šåˆ—å¸ƒå±€çš„ç”¨å¤„æ˜¯ä»€ä¹ˆ"><a href="#â™¥ï¸â™¥ï¸CSS3ä¸­å¤šåˆ—å¸ƒå±€çš„ç”¨å¤„æ˜¯ä»€ä¹ˆ" class="headerlink" title="â™¥ï¸â™¥ï¸CSS3ä¸­å¤šåˆ—å¸ƒå±€çš„ç”¨å¤„æ˜¯ä»€ä¹ˆ?"></a>â™¥ï¸â™¥ï¸CSS3ä¸­å¤šåˆ—å¸ƒå±€çš„ç”¨å¤„æ˜¯ä»€ä¹ˆ?</h3><p>å¤šåˆ—å¸ƒå±€æ˜¯ä¸“é—¨é’ˆå¯¹äºæ–‡æœ¬ï¼ˆå›¾æ–‡ï¼‰æ’ç‰ˆçš„ä¸€ç§å¸ƒå±€å½¢å¼ï¼Œä½œç”¨å¯¹è±¡æ˜¯å®¹å™¨ä¸­çš„å†…å®¹æ•°æ®ã€‚<br>å¸¸è§åº”ç”¨äºç”µå­æ‚å¿—ã€é˜…è¯»APPç±»å‹çš„é¡¹ç›®ï¼Œå…¼å®¹æ€§è¾ƒå¥½ï¼ŒIE10+åŠç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒï¼ˆåŠ å‰ç¼€ï¼‰</p>
<p>[å¤šåˆ—å¸ƒå±€å±æ€§]: 	â€œ<a href="https://www.jianshu.com/p/6776f811b6d3">https://www.jianshu.com/p/6776f811b6d3</a> â€œ</p>
<h3 id="â™¥ï¸â™¥ï¸WebSQLæ˜¯ä»€ä¹ˆï¼ŸWebSQLæ˜¯HTML5è§„èŒƒçš„ä¸€éƒ¨åˆ†å—ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸WebSQLæ˜¯ä»€ä¹ˆï¼ŸWebSQLæ˜¯HTML5è§„èŒƒçš„ä¸€éƒ¨åˆ†å—ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸WebSQLæ˜¯ä»€ä¹ˆï¼ŸWebSQLæ˜¯HTML5è§„èŒƒçš„ä¸€éƒ¨åˆ†å—ï¼Ÿ"></a>â™¥ï¸â™¥ï¸WebSQLæ˜¯ä»€ä¹ˆï¼ŸWebSQLæ˜¯HTML5è§„èŒƒçš„ä¸€éƒ¨åˆ†å—ï¼Ÿ</h3><p>WebSQlæ˜¯å‰ç«¯çš„ä¸€ä¸ªç‹¬ç«‹æ¨¡å—ï¼Œæ˜¯webå­˜å‚¨æ–¹å¼çš„ä¸€ç§ï¼Œç”¨äºå­˜å‚¨æˆ–ç®¡ç†æ•°æ®åº“ä¸­æ•°æ®çš„ç½‘é¡µã€‚æˆ‘ä»¬è°ƒè¯•çš„æ—¶å€™ä¼šç»å¸¸çœ‹åˆ°ï¼Œåªæ˜¯ä¸€èˆ¬å¾ˆå°‘ä½¿ç”¨ã€‚å¹¶ä¸”ï¼Œå½“å‰åªæœ‰è°·æ­Œæ”¯æŒï¼Œieå’Œç«ç‹å‡ä¸æ”¯æŒã€‚</p>
<p>æˆ‘ä»¬å¯¹æ•°æ®åº“çš„ä¸€èˆ¬æ¦‚å¿µæ˜¯åç«¯æ‰ä¼šè·Ÿæ•°æ®åº“æ‰“äº¤é“ï¼Œè¿›è¡Œä¸€äº›ä¸šåŠ¡æ€§çš„å¢åˆ æ”¹æŸ¥ã€‚è€Œè¿™é‡Œçš„æ•°æ®åº“ä¹Ÿä¸åŒäºçœŸæ­£æ„ä¹‰ä¸Šçš„æ•°æ®åº“ã€‚</p>
<p>WebSQl APIä¸æ˜¯HTML5è§„èŒƒçš„ä¸€éƒ¨åˆ†ï¼Œè€Œæ˜¯ä¸€ä¸ªå•ç‹¬çš„è§„èŒƒã€‚å®ƒæä¾›äº†ä¸€ç»„APIæ¥æ“ä½œå®¢æˆ·æ•°æ®åº“ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸ä»‹ç»ä¸€ä¸‹CSSçš„ç›’å­æ¨¡å‹ï¼Ÿå¼¹æ€§ç›’å­æ¨¡å‹æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸ä»‹ç»ä¸€ä¸‹CSSçš„ç›’å­æ¨¡å‹ï¼Ÿå¼¹æ€§ç›’å­æ¨¡å‹æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸ä»‹ç»ä¸€ä¸‹CSSçš„ç›’å­æ¨¡å‹ï¼Ÿå¼¹æ€§ç›’å­æ¨¡å‹æ˜¯ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸ä»‹ç»ä¸€ä¸‹CSSçš„ç›’å­æ¨¡å‹ï¼Ÿå¼¹æ€§ç›’å­æ¨¡å‹æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>ç›’å­æ¨¡å‹åˆ†ä¸ºIEç›’å­å’ŒW3Cç›’å­ä¸¤ç§</p>
<pre><code class="css">W3Cç›’å­ï¼ˆæ ‡å‡†ç›’å­æ¨¡å‹ï¼‰ç”±marginï¼Œborderï¼Œpaddingï¼Œcontentï¼Œè®¾ç½®çš„width heightæ˜¯é’ˆå¯¹contentçš„
IEç›’å­ï¼ˆæ€ªå¼‚ç›’å­æ¨¡å‹ï¼‰ç”±marginï¼Œborderï¼Œpaddingï¼Œcontentæ„æˆï¼Œä½†æ˜¯è®¾ç½®çš„width heightæ˜¯åŒ…æ‹¬border+padding+content

å¼¹æ€§ç›’å­æ¨¡å‹ï¼šå¼¹æ€§ç›’æ¨¡å‹å†³å®šä¸€ä¸ªç›’å­åœ¨å…¶ä»–ç›’å­ä¸­çš„åˆ†å¸ƒæ–¹å¼ä»¥åŠå¦‚ä½•å¤„ç†å¯ç”¨çš„ç©ºé—´ï¼›å¯ä»¥å¾ˆè½»æ¾çš„åˆ›å»ºè‡ªé€‚åº”æµè§ˆå™¨çª—å£çš„æµåŠ¨å¸ƒå±€æˆ–è‡ªé€‚åº”å­—ä½“å¤§å°çš„å¼¹æ€§å¸ƒå±€;

ç›’æ¨¡å‹æ˜¯CSSçš„åŸºçŸ³ä¹‹ä¸€ï¼Œå®ƒæŒ‡å®šå…ƒç´ å¦‚ä½•æ˜¾ç¤ºä»¥åŠå¦‚ä½•ç›¸äº’äº¤äº’ã€‚é¡µé¢ä¸Šçš„æ¯ä¸ªå…ƒç´ è¢«çœ‹åšä¸€ä¸ªçŸ©å½¢æ¡†ï¼Œè¿™ä¸ªæ¡†ç”±å…ƒç´ çš„å†…å®¹ã€å†…è¾¹è·ã€è¾¹æ¡†å’Œå¤–è¾¹è·ç»„æˆ;
</code></pre>
<pre><code class="css">ç½®ä¸ºæ€ªå¼‚ç›’æ¨¡å‹ï¼Œå¦‚ä½•è®¾ç½®ä¸ºæ€ªå¼‚ç›’æ¨¡å‹
å¦‚æœåœ¨.htmlé¡µé¢ä¸­ç¼ºå°‘&lt;!doctype&gt;å£°æ˜çš„è¯ï¼Œå°±ä¼šè§¦å‘æ€ªå¼‚ç›’å­æ¨¡å‹
è®¾ç½®æ€ªå¼‚ç›’å­æ¨¡å‹ï¼šé€šè¿‡box-sizing:border-boxæ¥è®¾ç½®æ€ªå¼‚ç›’å­æ¨¡å‹
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸Doctypeçš„ä½œç”¨ï¼Ÿæ ‡å‡†æ¨¡å¼ä¸å…¼å®¹æ¨¡å¼å„æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸Doctypeçš„ä½œç”¨ï¼Ÿæ ‡å‡†æ¨¡å¼ä¸å…¼å®¹æ¨¡å¼å„æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸Doctypeçš„ä½œç”¨ï¼Ÿæ ‡å‡†æ¨¡å¼ä¸å…¼å®¹æ¨¡å¼å„æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>â™¥ï¸â™¥ï¸Doctypeçš„ä½œç”¨ï¼Ÿæ ‡å‡†æ¨¡å¼ä¸å…¼å®¹æ¨¡å¼å„æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><pre><code class="css">ä¸€ã€Doctypeä½œç”¨
&lt;!DOCTYPE&gt;å£°æ˜ä½äºHTMLæ–‡æ¡£ä¸­çš„ç¬¬ä¸€è¡Œï¼Œå¤„äº&lt;html&gt;æ ‡ç­¾ä¹‹å‰ã€‚å‘ŠçŸ¥æµè§ˆå™¨çš„è§£æå™¨ç”¨ä»€ä¹ˆæ–‡æ¡£æ ‡å‡†è§£æè¿™ä¸ªæ–‡æ¡£ã€‚
DOCTYPEä¸å­˜åœ¨æˆ–æ ¼å¼ä¸æ­£ç¡®ä¼šå¯¼è‡´æ–‡æ¡£ä»¥å…¼å®¹æ¨¡å¼å‘ˆç°ã€‚

äºŒã€å…¼å®¹æ¨¡å¼ä¸æ ‡å‡†æ¨¡å¼çš„åŒºåˆ«
æ ‡å‡†æ¨¡å¼çš„æ’ç‰ˆå’Œjsè¿ä½œæ¨¡å¼ï¼Œéƒ½æ˜¯ä»¥è¯¥æµè§ˆå™¨æ”¯æŒçš„æœ€é«˜æ ‡å‡†è¿è¡Œã€‚
åœ¨å…¼å®¹æ¨¡å¼ä¸­ï¼Œé¡µé¢ä»¥å®½æ¾çš„å‘åå…¼å®¹çš„æ–¹å¼æ˜¾ç¤ºï¼Œæ¨¡æ‹Ÿè€å¼æµè§ˆå™¨çš„è¡Œä¸ºä»¥é˜²æ­¢ç«™ç‚¹æ— æ³•å·¥ä½œã€‚
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸å‰ç«¯é¡µé¢æœ‰å“ªä¸‰å±‚æ„æˆï¼Ÿ-åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ-ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸å‰ç«¯é¡µé¢æœ‰å“ªä¸‰å±‚æ„æˆï¼Ÿ-åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ-ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸å‰ç«¯é¡µé¢æœ‰å“ªä¸‰å±‚æ„æˆï¼Ÿ åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸å‰ç«¯é¡µé¢æœ‰å“ªä¸‰å±‚æ„æˆï¼Ÿ åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h3><pre><code class="css">ä¸€ã€ç½‘é¡µçš„**ç»“æ„å±‚(structural layer)**ç”±HTMLæˆ–XHTMLä¹‹ç±»çš„æ ‡è®°è¯­è¨€è´Ÿè´£åˆ›å»ºã€‚
æ ‡è®°è¯­è¨€ä¹Ÿå°±æ˜¯æŒ‡ç½‘é¡µçš„æ ‡ç­¾ï¼Œæ ‡ç­¾åªå¯¹ç½‘é¡µå†…å®¹çš„è¯­ä¹‰å’Œå«ä¹‰åšå‡ºæè¿°ï¼Œä¸åŒ…å«ä»»ä½•å…³äºå¦‚ä½•æ˜¾ç¤ºå†…å®¹çš„ä¿¡æ¯ã€‚

äºŒã€ç½‘é¡µçš„**è¡¨ç¤ºå±‚(resentation layer)**ç”±CSSè´Ÿè´£åˆ›å»ºã€‚
ä½œç”¨æ˜¯å¯¹å†…å®¹å¦‚ä½•æ˜¾ç¤ºåšä¸€å®šçš„æ§åˆ¶ã€‚

ä¸‰ã€ç½‘é¡µçš„**è¡Œä¸ºå±‚(behavior layer)**ç”±JavaScriptè¯­è¨€å’ŒDOMåˆ›å»ºã€‚
ä½œç”¨æ˜¯æ§åˆ¶ç”¨æˆ·åšå‡ºä¸€ä¸ªäº‹ä»¶è¯¥å¦‚ä½•æ˜¾ç¤ºã€‚ä¾‹å¦‚ï¼šç”¨æˆ·æ‚¬æµ®åœ¨æŸä¸ªå…ƒç´ ä¸Šï¼Œå¼¹å‡ºä¸€ä¸ªæ˜¾ç¤ºå…ƒç´ æ ‡é¢˜å†…å®¹çš„æç¤ºæ¡†
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸remå’Œemã€‚"><a href="#â™¥ï¸â™¥ï¸remå’Œemã€‚" class="headerlink" title="â™¥ï¸â™¥ï¸remå’Œemã€‚"></a>â™¥ï¸â™¥ï¸remå’Œemã€‚</h3><p>remå’Œemå¾ˆå®¹æ˜“æ··æ·†ï¼Œå…¶å®ä¸¤ä¸ªéƒ½æ˜¯cssçš„å•ä½ï¼Œå¹¶ä¸”ä¹Ÿéƒ½æ˜¯ç›¸å¯¹å•ä½ï¼Œç°æœ‰çš„emï¼Œcss3æ‰å¼•å…¥çš„remã€‚</p>
<h4 id="ä¸€ã€em"><a href="#ä¸€ã€em" class="headerlink" title="ä¸€ã€em"></a>ä¸€ã€em</h4><p>emä½œä¸ºfont-sizeçš„å•ä½æ—¶ï¼Œå…¶ä»£è¡¨çˆ¶å…ƒç´ çš„å­—ä½“å¤§å°ï¼Œemä½œä¸ºå…¶ä»–å±æ€§å•ä½æ—¶ï¼Œä»£è¡¨è‡ªèº«å­—ä½“å¤§å°â€”â€”MDN</p>
<p>emå¯ä»¥è®©æˆ‘ä»¬çš„é¡µé¢æ›´çµæ´»ï¼Œæ›´å¥å£®ï¼Œæ¯”èµ·åˆ°å¤„å†™æ­»çš„pxå€¼ï¼Œemä¼¼ä¹æ›´æœ‰å¼ åŠ›ï¼Œæ”¹åŠ¨çˆ¶å…ƒç´ çš„å­—ä½“å¤§å°ï¼Œå­å…ƒç´ ä¼šç­‰æ¯”ä¾‹å˜åŒ–ï¼Œè¿™ä¸€å˜åŒ–ä¼¼ä¹é¢„ç¤ºäº†æ— é™å¯èƒ½</p>
<p>æœ‰äº›äººæå‡ºç”¨emæ¥åšå¼¹æ€§å¸ƒå±€é¡µé¢ï¼Œä½†å…¶å¤æ‚çš„è®¡ç®—è®©äººè¯Ÿç—…ï¼Œç”šè‡³æœ‰äººä¸“é—¨åšäº†ä¸ªpxå’Œemçš„è®¡ç®—å™¨ï¼Œä¸åŒèŠ‚ç‚¹åƒç´ å€¼å¯¹åº”çš„emå€¼ã€‚</p>
<p><img src="/2022/10/15/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E4%B9%8BHTML5-CSS3/v2-efc617ae2b76557c376fcd3d2a78f6d6_r.jpg"></p>
<p>ç¼ºç‚¹ï¼šç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ï¼Œä¸€æ—¦æŸä¸ªèŠ‚ç‚¹çš„å­—ä½“å¤§å°å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆå…¶åä»£å…ƒç´ éƒ½å¾—é‡æ–°è®¡ç®—ã€‚</p>
<h4 id="äºŒã€rem"><a href="#äºŒã€rem" class="headerlink" title="äºŒã€rem"></a>äºŒã€rem</h4><p>remä½œç”¨äºéæ ¹å…ƒç´ æ—¶ï¼Œç›¸å¯¹äºæ ¹å…ƒç´ å­—ä½“å¤§å°ï¼›remä½œç”¨äºæ ¹å…ƒç´ å­—ä½“å¤§å°æ—¶ï¼Œç›¸å¯¹äºå…¶å‡ºåˆå§‹å­—ä½“å¤§å°â€”â€”MDN</p>
<pre><code class="css">remå–å€¼åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œè®¾ç½®åœ¨æ ¹å…ƒç´ æ—¶å’Œéæ ¹å…ƒç´ æ—¶ï¼Œä¸¾ä¸ªä¾‹å­

/* ä½œç”¨äºæ ¹å…ƒç´ ï¼Œç›¸å¯¹äºåŸå§‹å¤§å°ï¼ˆ16pxï¼‰ï¼Œæ‰€ä»¥htmlçš„font-sizeä¸º32px*/
html &#123;font-size: 2rem&#125;

/* ä½œç”¨äºéæ ¹å…ƒç´ ï¼Œç›¸å¯¹äºæ ¹å…ƒç´ å­—ä½“å¤§å°ï¼Œæ‰€ä»¥ä¸º64px */
p &#123;font-size: 2rem&#125;
</code></pre>
<p>æœ¬è´¨ï¼šremå¸ƒå±€çš„æœ¬è´¨æ˜¯ç­‰æ¯”ç¼©æ”¾ï¼Œä¸€èˆ¬æ˜¯åŸºäºå®½åº¦.</p>
<h3 id="â™¥ï¸â™¥ï¸pointer-events-none-æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸pointer-events-none-æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸pointer-events: none æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ"></a>â™¥ï¸â™¥ï¸pointer-events: none æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ</h3><pre><code class="css">pointer-events: none;ç†è§£ï¼šä½ å¯ä»¥çœ‹çš„åˆ°æŸä¸ªå…ƒç´ ï¼Œä½†æ˜¯ä½ æ— æ³•æ‘¸çš„ç€ï¼Œç‚¹å‡»ä¸åˆ°ï¼Œç‚¹å‡»ä¼šç©¿é€è§¦å‘åˆ°ä¸‹å±‚çš„å…ƒç´ 
displayï¼šnone; æ˜¯ä½ æ‘¸ä¸ç€ï¼Œä½†æ˜¯ä½ ä¹Ÿçœ‹ä¸è§

å¤§å®¶éƒ½çŸ¥é“ input[type=text|button|radio|checkbox]æ”¯æŒ disabled å±æ€§ï¼Œå¯ä»¥å®ç°äº‹ä»¶çš„å®Œå…¨ç¦ç”¨ã€‚
å¦‚æœå…¶ä»–æ ‡ç­¾éœ€è¦ç±»ä¼¼çš„ç¦ç”¨æ•ˆæœï¼Œå¯ä»¥è¯•è¯• pointer-events: none
</code></pre>
<hr>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-htmlä¸­å…ƒç´ çš„marginæ˜¯å¦ä¼šå åŠ ï¼ˆåˆå¹¶ï¼‰ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-htmlä¸­å…ƒç´ çš„marginæ˜¯å¦ä¼šå åŠ ï¼ˆåˆå¹¶ï¼‰ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ htmlä¸­å…ƒç´ çš„marginæ˜¯å¦ä¼šå åŠ ï¼ˆåˆå¹¶ï¼‰ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ htmlä¸­å…ƒç´ çš„marginæ˜¯å¦ä¼šå åŠ ï¼ˆåˆå¹¶ï¼‰ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ</h3><pre><code class="css">/* ä¼šå åŠ  */
é—®é¢˜è¯¦è§£1ï¼š flexå¸ƒå±€å¯¹å­å…ƒç´ çš„å½±å“
 1.å­å…ƒç´ çš„floatã€clearå’Œvertical-alignå±æ€§å°†ä¼šå¤±æ•ˆ
 2.è§£å†³äº†marginä¼ é€’ã€é‡å ï¼ˆå åŠ ï¼‰é—®é¢˜

é—®é¢˜è¯¦è§£2ï¼šflexå¸ƒå±€çš„marginä¼ é€’å åŠ é—®é¢˜ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§
 1.çˆ¶å­é—´çš„marginï¼Œä¼šç”±å­çº§ä¼ é€’åˆ°çˆ¶çº§
 â€”â€” è§£å†³æ–¹æ³•ï¼š marginä¼ é€’çš„äº§ç”Ÿçš„åŸå› æ˜¯çˆ¶çº§çš„é«˜åº¦æ²¡æœ‰è¢«è‡ªåŠ¨æ’‘å¼€ï¼Œæ‰€ä»¥åœ¨çˆ¶çº§çˆ¶çº§å¢åŠ å±
æ€§ï¼šoverflow: auto å³å¯è§£å†³
 2.å…„å¼Ÿé—´çš„marginå€¼ä¼šé‡å¤å åŠ 
 â€”â€” è§£å†³æ–¹æ³•ï¼š æµè§ˆå™¨ä¸ºäº†ä¿è¯åˆ—è¡¨çš„æ•´é½ï¼Œä¸Šä¸‹marginäº§ç”Ÿäº†å åŠ ï¼Œä¸èƒ½ç›´æ¥è§£å†³ã€‚åªèƒ½é€šè¿‡å‡
å°‘ä¸€ä¸ªmarginçš„æ–¹å¼ã€‚å¦‚åªå®šä¹‰margin-top:100px; margin-bottom:0pxã€‚çš„æ–¹å¼è§£å†³ã€‚
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ç§»åŠ¨ç«¯é€‚é…æ€ä¹ˆåšï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ç§»åŠ¨ç«¯é€‚é…æ€ä¹ˆåšï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ç§»åŠ¨ç«¯é€‚é…æ€ä¹ˆåšï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ç§»åŠ¨ç«¯é€‚é…æ€ä¹ˆåšï¼Ÿ</h3><pre><code class="css">æ–¹æ³•ä¸€ï¼š@media åª’ä½“æŸ¥è¯¢ï¼Œé€šè¿‡æŸ¥è¯¢è®¾å¤‡çš„å®½åº¦æ¥æ‰§è¡Œä¸åŒçš„ css ä»£ç ï¼Œæœ€ç»ˆè¾¾åˆ°ç•Œé¢çš„é…ç½®ã€‚
æ–¹æ³•äºŒï¼šFlexå¼¹æ€§å¸ƒå±€
æ–¹æ³•ä¸‰ï¼šrem + viewport ç¼©æ”¾ï¼Œå±å¹•å®½åº¦è®¾å®š rem å€¼ï¼Œéœ€è¦é€‚é…çš„å…ƒç´ éƒ½ä½¿ç”¨ rem ä¸ºå•ä½ï¼Œä¸éœ€è¦é€‚é…çš„å…ƒç´ è¿˜æ˜¯ä½¿ç”¨ px ä¸ºå•ä½ã€‚
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-æ‰‹æœºç«¯ä¸Šå›¾ç‰‡é•¿æ—¶é—´ç‚¹å‡»ä¼šé€‰ä¸­å›¾ç‰‡ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-æ‰‹æœºç«¯ä¸Šå›¾ç‰‡é•¿æ—¶é—´ç‚¹å‡»ä¼šé€‰ä¸­å›¾ç‰‡ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ æ‰‹æœºç«¯ä¸Šå›¾ç‰‡é•¿æ—¶é—´ç‚¹å‡»ä¼šé€‰ä¸­å›¾ç‰‡ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ æ‰‹æœºç«¯ä¸Šå›¾ç‰‡é•¿æ—¶é—´ç‚¹å‡»ä¼šé€‰ä¸­å›¾ç‰‡ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ</h3><pre><code class="css">img&#123; pointer-events:none &#125;ï¼Œç¦æ­¢äº‹ä»¶ï¼Œä½†ä¼šæŠŠæ•´ä¸ªæ ‡ç­¾çš„äº‹ä»¶éƒ½ç¦ç”¨æ‰ï¼Œä¸å»ºè®®ä½¿ç”¨
img&#123; -webkit-user-select:none &#125;ï¼Œç”¨æˆ·é€‰ä¸­çŠ¶æ€

æ¨èï¼š
img&#123;
       -webkit-touch-callout: none; //è§¦æ‘¸
         -webkit-user-select: none;
         -moz-user-select: none;
         -ms-user-select: none;
         user-select: none;
 &#125;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-è¯´è¯´å¯¹transitionçš„äº†è§£ã€‚"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-è¯´è¯´å¯¹transitionçš„äº†è§£ã€‚" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ è¯´è¯´å¯¹transitionçš„äº†è§£ã€‚"></a>â™¥ï¸â™¥ï¸â™¥ï¸ è¯´è¯´å¯¹transitionçš„äº†è§£ã€‚</h3><p>1ã€transition å±æ€§æ˜¯ä¸€ä¸ªç®€å†™å±æ€§ï¼Œå¯ç”¨äºè®¾ç½®å››ä¸ªè¿‡æ¸¡å±æ€§ï¼š</p>
<pre><code class="css">transition-property è¿‡æ¸¡æ•ˆæœçš„ CSS å±æ€§çš„åç§°ï¼ˆheightã€widthã€opacityç­‰ï¼‰ã€‚
transition-duration å®Œæˆè¿‡æ¸¡æ•ˆæœéœ€è¦æ—¶é—´ã€‚
transition-timing-function è§„å®šé€Ÿåº¦æ•ˆæœçš„é€Ÿåº¦æ›²çº¿ã€‚
transition-delay è¿‡æ¸¡æ•ˆæœä½•æ—¶å¼€å§‹ï¼ˆå»¶è¿Ÿæ—¶é—´ï¼‰ã€‚
æ³¨ï¼šå¦‚æœ transition-durationå±æ€§æ—¶é•¿ä¸º 0ï¼Œå°±ä¸ä¼šäº§ç”Ÿè¿‡æ¸¡æ•ˆæœã€‚
</code></pre>
<p>2ã€æ¸å˜å‡½æ•°çš„å€¼ï¼š</p>
<p>æ¸å˜å‡½æ•°æ˜¯transition-timing-functionï¼›</p>
<p>å…¶ä¸­è´å¡å°”æ›²çº¿çš„é¢„è®¾å€¼</p>
<pre><code class="css">easeæ¸å¿«ï¼ŒåŒ€é€Ÿï¼Œå‡æ…¢cubic-bezier(0.25,0.1,0.25,1)
ease-inæ¸å¿«ï¼ŒåŒ€é€Ÿcubic-bezier(0.42,0,1,1)
ease-outåŒ€é€Ÿï¼Œå‡æ…¢cubic-bezier(0,0,0.58,1)
ease-in-outå’Œeaseç±»ä¼¼ï¼Œä½†æ¯”easeçš„åŠ é€Ÿåº¦å¤§ï¼ˆå¹…åº¦å¤§ï¼‰cubic-bezier(0.42,0,0.58,1)
linearå…¨ç¨‹åŒ€é€Ÿcubic-bezier(0,0,1,1)
</code></pre>
<p>3ã€ç®€å†™æ–¹å¼ï¼š</p>
<pre><code class="css">transitionï¼šcsså±æ€§å è¿‡åº¦æ—¶é—´ æ¸å˜å‡½æ•°å€¼ å»¶è¿Ÿæ—¶é—´
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ä¸ºä»€ä¹ˆè¦åˆå§‹åŒ–CSSæ ·å¼ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ä¸ºä»€ä¹ˆè¦åˆå§‹åŒ–CSSæ ·å¼ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ä¸ºä»€ä¹ˆè¦åˆå§‹åŒ–CSSæ ·å¼ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ä¸ºä»€ä¹ˆè¦åˆå§‹åŒ–CSSæ ·å¼ï¼Ÿ</h3><p>1ã€æµè§ˆå™¨å·®å¼‚</p>
<p>å› ä¸ºæµè§ˆå™¨çš„å…¼å®¹é—®é¢˜ï¼Œä¸åŒæµè§ˆå™¨å¯¹æœ‰äº›æ ‡ç­¾çš„é»˜è®¤å€¼æ˜¯ä¸åŒçš„ï¼Œå¦‚æœæ²¡å¯¹CSSåˆå§‹åŒ–å¾€å¾€ä¼šå‡ºç°æµè§ˆå™¨ä¹‹é—´çš„é¡µé¢æ˜¾ç¤ºå·®å¼‚ã€‚</p>
<p>2ã€æé«˜ç¼–ç è´¨é‡</p>
<p>åˆå§‹åŒ–CSSå¯ä»¥èŠ‚çº¦ç½‘é¡µä»£ç ï¼ŒèŠ‚çº¦ç½‘é¡µä¸‹è½½æ—¶é—´ï¼›è¿˜ä¼šä½¿å¾—æˆ‘ä»¬å¼€å‘ç½‘é¡µå†…å®¹æ—¶æ›´åŠ æ–¹ä¾¿ç®€æ´ï¼Œä¸ç”¨è€ƒè™‘å¾ˆå¤šã€‚</p>
<p>å¦‚æœä¸åˆå§‹åŒ–ï¼Œæ•´ä¸ªé¡µé¢åšå®Œä¼šå¾ˆç³Ÿç³•ï¼Œé‡å¤çš„cssæ ·å¼å¾ˆå¤šã€‚</p>
<p>æˆ‘ä»¬åœ¨å¼€å‘æ¯”è¾ƒå¤æ‚çš„ç½‘é¡µæ—¶å€™å°±ä¸ä¼šçŸ¥é“è‡ªå·±æ˜¯å¦å·²ç»è®¾ç½®äº†æ­¤å¤„çš„CSSå±æ€§ï¼Œæ˜¯å¦å’Œå‰é¢çš„CSSå±æ€§ç›¸åŒï¼Œæ˜¯å¦ç»Ÿä¸€æ•´ä¸ªç½‘é¡µçš„é£æ ¼å’Œæ ·å¼ã€‚</p>
<p>â€¼ï¸å¼Šç«¯ï¼šåˆå§‹åŒ–æ ·å¼ä¼šå¯¹seoæœ‰ä¸€å®šçš„å½±å“ï¼Œä½†é±¼å’Œç†ŠæŒä¸å¯å…¼å¾—ï¼Œä½†åŠ›æ±‚å½±å“æœ€å°çš„æƒ…å†µä¸‹åˆå§‹åŒ–ã€‚</p>
<p>â‰ï¸æ€»ç»“ï¼šCSSåˆå§‹åŒ–æ˜¯æŒ‡é‡è®¾æµè§ˆå™¨çš„æ ·å¼ã€‚ä¸åŒçš„æµè§ˆå™¨é»˜è®¤çš„æ ·å¼å¯èƒ½ä¸å°½ç›¸åŒï¼Œæ‰€ä»¥å¼€å‘æ—¶çš„ç¬¬ä¸€ä»¶äº‹å¯èƒ½å°±æ˜¯å¦‚ä½•æŠŠå®ƒä»¬ç»Ÿä¸€ã€‚å¦‚æœæ²¡å¯¹CSSåˆå§‹åŒ–å¾€å¾€ä¼šå‡ºç°æµè§ˆå™¨ä¹‹é—´çš„é¡µé¢å·®å¼‚ã€‚æ¯æ¬¡æ–°å¼€å‘ç½‘ç«™æˆ–æ–°ç½‘é¡µæ—¶å€™é€šè¿‡åˆå§‹åŒ–CSSæ ·å¼çš„å±æ€§ï¼Œä¸ºæˆ‘ä»¬å°†ç”¨åˆ°çš„CSSæˆ–htmlæ ‡ç­¾æ›´åŠ æ–¹ä¾¿å‡†ç¡®ï¼Œä½¿å¾—æˆ‘ä»¬å¼€å‘ç½‘é¡µå†…å®¹æ—¶æ›´åŠ æ–¹ä¾¿ç®€æ´ï¼ŒåŒæ—¶å‡å°‘CSSä»£ç é‡ï¼ŒèŠ‚çº¦ç½‘é¡µä¸‹è½½æ—¶é—´ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-CSS3ä¸­çš„é€‰æ‹©å™¨éƒ½æœ‰ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-CSS3ä¸­çš„é€‰æ‹©å™¨éƒ½æœ‰ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ CSS3ä¸­çš„é€‰æ‹©å™¨éƒ½æœ‰ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ CSS3ä¸­çš„é€‰æ‹©å™¨éƒ½æœ‰ä»€ä¹ˆï¼Ÿ</h3><p>[CSS3æ‰€æœ‰é€‰æ‹©å™¨è®²è§£æ±‡æ€»]: 	â€œ<a href="https://blog.csdn.net/weixin_44860226/article/details/126031813">https://blog.csdn.net/weixin_44860226/article/details/126031813</a> â€œ</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-æœ¬åœ°å­˜å‚¨æœ‰ç”Ÿå‘½å‘¨æœŸå—ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-æœ¬åœ°å­˜å‚¨æœ‰ç”Ÿå‘½å‘¨æœŸå—ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ æœ¬åœ°å­˜å‚¨æœ‰ç”Ÿå‘½å‘¨æœŸå—ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ æœ¬åœ°å­˜å‚¨æœ‰ç”Ÿå‘½å‘¨æœŸå—ï¼Ÿ</h3><p>æ²¡æœ‰</p>
<pre><code class="css">cookie: expire å’Œ max-age éƒ½èƒ½æ§åˆ¶æ•°æ®çš„å­˜å‚¨æ—¶é—´ã€‚expire æ˜¯ä¸€ä¸ªç»å¯¹çš„è¿‡æœŸæ—¶é—´ï¼Œmax-ageæ˜¯æ–‡æ¡£è¢«è®¿é—®ä¹‹åçš„å­˜æ´»æ—¶é—´ï¼ˆæ˜¯ç›¸å¯¹æ—¶é—´ï¼‰ã€‚é»˜è®¤æ˜¯ sessionã€‚
sessionStorage å½“ä¼šè¯è¢«å…³é—­åï¼ˆæµè§ˆå™¨ã€æ ‡ç­¾é¡µè¢«å…³é—­ï¼‰ï¼Œå°±ä¼šè¢«æ¸…é™¤ã€‚ä¸ localStorage ç”¨æ³•ä¸€æ ·ã€‚
localStorage: é™¤éè¢«ä¸»åŠ¨æ¸…é™¤ï¼Œä¸ç„¶æ°¸ä¹…å‚¨å­˜åœ¨æµè§ˆå™¨ä¸­ã€‚
IndexedDB: æ²¡æœ‰è¿‡æœŸæ—¶é—´ï¼Œé™¤éä¸»åŠ¨æ¸…é™¤ã€‚
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-CSSé€‰æ‹©ç¬¦æœ‰å“ªäº›ï¼Ÿä¼˜å…ˆçº§ç®—æ³•å¦‚ä½•è®¡ç®—ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-CSSé€‰æ‹©ç¬¦æœ‰å“ªäº›ï¼Ÿä¼˜å…ˆçº§ç®—æ³•å¦‚ä½•è®¡ç®—ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ CSSé€‰æ‹©ç¬¦æœ‰å“ªäº›ï¼Ÿä¼˜å…ˆçº§ç®—æ³•å¦‚ä½•è®¡ç®—ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ CSSé€‰æ‹©ç¬¦æœ‰å“ªäº›ï¼Ÿä¼˜å…ˆçº§ç®—æ³•å¦‚ä½•è®¡ç®—ï¼Ÿ</h3><p>é—®é¢˜ä¸€ï¼šå¯¹å¤šä¸ªé€‰æ‹©å™¨ä½¿ç”¨çš„ä¼˜å…ˆçº§æ˜¯æ€ä¹ˆè¿›è¡Œè®¡ç®—çš„ï¼Ÿ</p>
<p>å¯¹äºä¸åŒç±»åˆ«çš„é€‰æ‹©å™¨ï¼Œä»¥ä»¥ä¸‹åŸåˆ™è¿›è¡Œæ’åºï¼š</p>
<pre><code class="css">1ã€åœ¨å±æ€§åé¢ä½¿ç”¨ï¼importantä¼šè¦†ç›–é¡µé¢å†…ä»»ä½•ä½ç½®å®šä¹‰çš„å…ƒç´ æ ·å¼ã€‚

2ã€ä½œä¸ºstyleå±æ€§å†™åœ¨å…ƒç´ å†…çš„æ ·å¼

3ã€idé€‰æ‹©å™¨

4ã€ç±»é€‰æ‹©å™¨

5ã€æ ‡ç­¾é€‰æ‹©å™¨

6ã€é€šé…ç¬¦é€‰æ‹©å™¨

7ã€æµè§ˆå™¨è‡ªå®šä¹‰æˆ–å­å…ƒç´ é›†æˆçˆ¶ç±»çš„æ ·å¼

å°†ä¸Šé¢çš„ç¨å¾®æ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼š

ï¼important&gt;è¡Œå†…æ ·å¼&gt;IDé€‰æ‹©å™¨&gt;ç±»é€‰æ‹©å™¨&gt;æ ‡ç­¾&gt;é€šé…ç¬¦&gt;ç»§æ‰¿&gt;æµè§ˆå™¨é»˜è®¤å±æ€§

åŒä¸€çº§åˆ«ä¸­åå†™çš„ä¼šè¦†ç›–å…ˆå†™çš„æ ·å¼ã€‚
</code></pre>
<p>é—®é¢˜äºŒï¼šå½“ä¸åŒç±»åˆ«çš„å¤šä¸ªé€‰æ‹©å™¨æ··åˆä½¿ç”¨ä¸ªæ€ä¹ˆè®¡ç®—ä¼˜å…ˆçº§ï¼Ÿ</p>
<p>æœ‰ä¸€ä¸ªç®€å•çš„ç®—æ³•ï¼Œè®¾</p>
<p>a.å†…è”æ ·å¼è¡¨çš„æƒå€¼ä¸º1000</p>
<p>b.IDé€‰æ‹©å™¨çš„æƒå€¼ä¸º100</p>
<p>c.classç±»é€‰æ‹©å™¨çš„æƒå€¼ä¸º10</p>
<p>d.HTMLæ ‡ç­¾é€‰æ‹©å™¨çš„æƒå€¼ä¸º1</p>
<p>[<img src="/2022/10/15/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%A4%A7%E5%85%A8%E4%B9%8BHTML5-CSS3/attachments-2022-03-W59PaeQe6222c03c261ba.jpeg"></p>
<p>æˆ‘ä»¬å¯ä»¥æŠŠé€‰æ‹©å™¨ä¸­è§„åˆ™å¯¹åº”å¤šåŠ æ³•ï¼Œæ¯”è¾ƒæƒå€¼ï¼Œå¦‚æœæƒå€¼ç›¸åŒé‚£å°±åé¢çš„è¦†ç›–å‰é¢çš„ã€‚å¦‚å›¾ï¼Œdiv.test1.test3çš„æƒå€¼æ˜¯1+10+10&#x3D;21ï¼Œè€Œ.test1.test2.test3çš„æƒå€¼æ˜¯10+10+10&#x3D;30ï¼Œæ‰€ä»¥divä¼šåº”ç”¨.test1.test2.test3å˜æˆç»¿è‰²ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-iframeçš„ä¼˜ç¼ºç‚¹ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-iframeçš„ä¼˜ç¼ºç‚¹ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ iframeçš„ä¼˜ç¼ºç‚¹ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ iframeçš„ä¼˜ç¼ºç‚¹ï¼Ÿ</h3><h4 id="iframeçš„ä¼˜ç‚¹ï¼š"><a href="#iframeçš„ä¼˜ç‚¹ï¼š" class="headerlink" title="iframeçš„ä¼˜ç‚¹ï¼š"></a>iframeçš„ä¼˜ç‚¹ï¼š</h4><p>1ã€iframeèƒ½å¤ŸåŸå°ä¸åŠ¨çš„æŠŠåµŒå…¥çš„ç½‘é¡µå±•ç°å‡ºæ¥;</p>
<p>2ã€å¦‚æœæœ‰å¤šä¸ªç½‘é¡µå¼•ç”¨iframeï¼Œé‚£ä¹ˆåªéœ€è¦ä¿®æ”¹iframeçš„å†…å®¹ï¼Œå°±å¯ä»¥å®ç°è°ƒç”¨æ¯ä¸€ä¸ªé¡µé¢çš„æ›´æ”¹ï¼Œæ–¹ä¾¿å¿«æ·;</p>
<p>3ã€ç½‘é¡µå¦‚æœä¸ºäº†ç»Ÿä¸€é£æ ¼ï¼Œå¤´éƒ¨å’Œç‰ˆæœ¬éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå°±å¯ä»¥å†™æˆä¸€ä¸ªé¡µé¢ï¼Œç”¨iframeåµŒå¥—ï¼Œå¯ä»¥å¢åŠ ä»£ç çš„å¯é‡ç”¨;</p>
<p>4ã€å¦‚æœé‡åˆ°åŠ è½½ç¼“æ…¢çš„ç¬¬ä¸‰æ–¹å†…å®¹ï¼Œå¦‚å›¾æ ‡æˆ–å¹¿å‘Šï¼Œè¿™äº›é—®é¢˜å¯ä»¥ç”±iframeæ¥è§£å†³;</p>
<h4 id="iframeçš„ç¼ºç‚¹ï¼š"><a href="#iframeçš„ç¼ºç‚¹ï¼š" class="headerlink" title="iframeçš„ç¼ºç‚¹ï¼š"></a>iframeçš„ç¼ºç‚¹ï¼š</h4><p>1ã€iframeä¼šé˜»å¡ä¸»é¡µé¢çš„Onloadäº‹ä»¶;</p>
<p>2ã€iframeå’Œä¸»é¡µé¢å…±äº«é“¾æ¥æ± ï¼Œè€Œæµè§ˆå™¨å¯¹ç›¸åŒåŸçš„é“¾æ¥æœ‰é™åˆ¶ï¼Œæ‰€ä»¥ä¼šå½±å“é¡µé¢çš„å¹¶è¡ŒåŠ è½½;</p>
<p>3ã€ä½¿ç”¨iframeä¹‹å‰éœ€è¦è€ƒè™‘è¿™ä¸¤ä¸ªç¼ºç‚¹ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨iframeï¼Œæœ€å¥½æ˜¯é€šè¿‡JavaScript;</p>
<p>4ã€åŠ¨æ€ç»™iframeæ·»åŠ srcå±æ€§å€¼ï¼Œè¿™æ ·å¯ä»¥å¯ä»¥ç»•å¼€ä»¥ä¸Šä¸¤ä¸ªé—®é¢˜</p>
<p>5ã€ä¸åˆ©äºseo</p>
<p>6ã€ä»£ç å¤æ‚ï¼Œæ— æ³•ä¸€ä¸‹è¢«æœç´¢å¼•æ“ç´¢å¼•åˆ°</p>
<p>7ã€iframeæ¡†æ¶é¡µé¢ä¼šå¢åŠ æœåŠ¡å™¨çš„httpè¯·æ±‚ï¼Œå¯¹äºå¤§å‹ç½‘ç«™ä¸å¯å–ã€‚</p>
<p>8ã€å¾ˆå¤šçš„ç§»åŠ¨è®¾å¤‡æ— æ³•å®Œå…¨æ˜¾ç¤ºæ¡†æ¶ï¼Œè®¾å¤‡å…¼å®¹æ€§å·®ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-DPRï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-DPRï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ DPRï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ DPRï¼Ÿ</h3><p>è®¾å¤‡åƒç´ æ¯”DPR(devicePixelRatio)æ˜¯é»˜è®¤ç¼©æ”¾ä¸º100%çš„æƒ…å†µä¸‹ï¼Œè®¾å¤‡åƒç´ å’ŒCSSåƒç´ çš„æ¯”å€¼</p>
<p>ä¸¾ä¾‹ï¼š</p>
<p>iPhone6çš„è®¾å¤‡å®½åº¦æ˜¯375px&#x2F;è®¾å¤‡ç‹¬ç«‹åƒç´ (æˆ–cssåƒç´ )ï¼Œä½†æ˜¯å®ƒä¸€è¡Œæœ‰750ä¸ªåƒç´ é¢—ç²’ï¼Œdprå°±æ˜¯2ã€‚</p>
<p>äº†è§£å‡ ä¸ªæ¦‚å¿µ</p>
<pre><code class="css">1.è®¾å¤‡åƒç´ 
è®¾å¤‡åƒç´ (device pixel)åˆç§°ç‰©ç†åƒç´ (physical pixel)ï¼Œè®¾å¤‡èƒ½æ§åˆ¶æ˜¾ç¤ºçš„æœ€å°å•ä½ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™äº›åƒç´ çœ‹ä½œæˆæ˜¾ç¤ºå™¨ä¸Šä¸€ä¸ªä¸ªçš„ç‚¹ã€‚

2.CSS ä¸­çš„åƒç´ 
CSS ä¸­çš„åƒç´ æ˜¯ä¸€ä¸ªç›¸å¯¹å€¼ï¼Œä¸æ˜¯ç»å¯¹å€¼ï¼Œå› æ­¤1px çš„ CSS åƒç´ å¹¶ä¸ä¸€å®šç­‰äº 1px çš„ç‰©ç†åƒç´ ã€‚
éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒCSS ä¸­çš„åƒç´ å•ä½æ˜¯æŠ½è±¡çš„ï¼Œåªæ˜¯ä¸€ç§è§„èŒƒï¼Œæœ€ç»ˆçš„æ˜¾ç¤ºæ˜¯å–å†³äºç‰©ç†è®¾å¤‡çš„ã€‚ç‰©ç†è®¾å¤‡æ ¹æ®æŸç§è§„åˆ™ï¼Œå†³å®šè¯¥é‡‡ç”¨å‡ ä¸ªç‰©ç†åƒç´ å»æ˜¾ç¤º 1px çš„ CSS åƒç´ ï¼Œè¿™ä¸ªè§„åˆ™å°±æ˜¯è®¾å¤‡åƒç´ æ¯”ã€‚
CSSåƒç´ æ˜¯ä¸€ä¸ªæŠ½è±¡æ¦‚å¿µï¼Œè®¾å¤‡æ— å…³åƒç´ ï¼Œç®€ç§°-â€œDIPSâ€ï¼Œdevice-independentåƒç´ ï¼Œä¸»è¦ä½¿ç”¨åœ¨æµè§ˆå™¨ä¸Šï¼Œç”¨æ¥ç²¾ç¡®çš„åº¦é‡(ç¡®å®š)Webé¡µé¢ä¸Šçš„å†…å®¹ã€‚

3.PPI
åƒç´ å¯†åº¦(å±å¹•å¯†åº¦)ï¼Œå³æ¯è‹±å¯¸æ‰€æ‹¥æœ‰çš„åƒç´ æ•°ç›®(æ¯”å¦‚ï¼šä¸Šé¢iPhone 7çš„PPIæ˜¯326)ï¼ŒPPIæ•°å€¼è¶Šé«˜ï¼Œä»£è¡¨æ˜¾ç¤ºå±èƒ½å¤Ÿä»¥è¶Šé«˜çš„å¯†åº¦æ˜¾ç¤ºå›¾åƒï¼Œç”»é¢çš„ç»†èŠ‚å°±ä¼šè¶Šä¸°å¯Œã€‚

4.DPR:
è®¾å¤‡åƒç´ æ¯”DPR(devicePixelRatio)æ˜¯é»˜è®¤ç¼©æ”¾ä¸º100%çš„æƒ…å†µä¸‹ï¼Œè®¾å¤‡åƒç´ å’ŒCSSåƒç´ çš„æ¯”å€¼
dprï¼Œä¹Ÿè¢«æˆä¸ºdevice pixel ratioï¼Œå³ç‰©ç†åƒç´ ä¸é€»è¾‘åƒç´ çš„æ¯”ï¼Œé‚£ä¹Ÿå°±ä¸éš¾ç†è§£ï¼šiphone6ä¸‹dpr=2ï¼Œiphone6+ä¸‹dpr=3(è€ƒè™‘çš„æ˜¯æ …æ ¼åŒ–æ—¶çš„åƒç´ ï¼Œå¹¶éçœŸå®çš„ç‰©ç†åƒç´ );
DPR = è®¾å¤‡åƒç´  / CSSåƒç´ (æŸä¸€æ–¹å‘ä¸Š)
å…¬å¼è¡¨ç¤ºå°±æ˜¯ï¼šwindow.devicePixelRatio = ç‰©ç†åƒç´ (device pixel) / (è®¾å¤‡æ— å…³åƒç´ /CSSåƒç´ /dips)
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ç®€è¿°ä¸€ä¸‹Sassï¼ŒLessï¼Œè¯·è¯´æ˜åŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ç®€è¿°ä¸€ä¸‹Sassï¼ŒLessï¼Œè¯·è¯´æ˜åŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ç®€è¿°ä¸€ä¸‹Sassï¼ŒLessï¼Œè¯·è¯´æ˜åŒºåˆ«ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ç®€è¿°ä¸€ä¸‹Sassï¼ŒLessï¼Œè¯·è¯´æ˜åŒºåˆ«ï¼Ÿ</h3><p>ä¸€. Sass å’Œ Less çš„å®šä¹‰</p>
<p>sass ä¸ lesséƒ½æ˜¯ä¸€ç§åŠ¨æ€æ ·å¼è¯­è¨€ï¼Œå¯¹cssèµ‹äºˆäº†ä¸€äº›åŠ¨æ€è¯­è¨€ç‰¹æ€§</p>
<p>äºŒ. å®ƒä»¬çš„åŒºåˆ«å¤§è‡´æœ‰ä»¥ä¸‹å‡ ç§</p>
<pre><code class="css">//ç¼–è¯‘ç¯å¢ƒä¸ä¸€æ ·
sassçš„å®‰è£…éœ€è¦Rubyç¯å¢ƒçš„ï¼Œæ˜¯åœ¨æœåŠ¡ç«¯ä¸Šå¤„ç†çš„ï¼›
è€Œlessæ˜¯éœ€è¦å¼•å…¥less.jsæ¥å¤„ç†Lessä»£ç è¾“å‡ºcssåˆ°æµè§ˆå™¨ï¼Œä¹Ÿå¯ä»¥åœ¨å¼€å‘ç¯èŠ‚ä½¿ç”¨Lessï¼Œç„¶åç¼–è¯‘æˆcssæ–‡ä»¶ï¼Œç›´æ¥æ”¾åˆ°é¡¹ç›®ä¸­

//å˜é‡ç¬¦ä¸ä¸€æ ·
Lessæ˜¯@ï¼Œè€ŒScssæ˜¯$
  
//è¾“å‡ºè®¾ç½®
Lessæ²¡æœ‰è¾“å‡ºè®¾ç½®
Sassæä¾›å››ç§è¾“å‡ºé€‰é¡¹ï¼š
nestedï¼š åµŒå¥—ç¼©è¿›çš„cssä»£ç 
expandedï¼šå±•ç¤ºçš„å¤šè¡Œcssä»£ç 
compactï¼šç®€æ´æ ¼å¼çš„cssä»£ç 
conpressedï¼š å‹ç¼©åçš„cssä»£ç 
Sassæ”¯æŒæ¡ä»¶è¯­å¥ï¼Œå¯ä»¥ä½¿ç”¨if&#123;&#125;else&#123;&#125;ï¼Œfor&#123;&#125;å¾ªç¯ç­‰ç­‰ï¼Œè€ŒLessä¸æ”¯æŒ

//å¼•å…¥å¤–éƒ¨CSSæ–‡ä»¶
scsså¼•ç”¨çš„å¤–éƒ¨æ–‡ä»¶å‘½åå¿…é¡»ä»¥å¼€å¤´ï¼Œæ–‡ä»¶åå¦‚æœä»¥ä¸‹åˆ’çº¿å¼€å¤´çš„è¯ï¼ŒSassä¼šè®¤ä¸ºè¯¥æ–‡ä»¶æ˜¯ä¸€ä¸ªå¼•ç”¨æ–‡ä»¶ï¼Œä¸ä¼šå°†å…¶ç¼–è¯‘ä¸ºcssæ–‡ä»¶

//Sasså’ŒLessçš„å·¥å…·åº“ä¸åŒ
Sassæœ‰å·¥å…·åº“ Compass
Lessæœ‰UIç»„ä»¶åº“Bootstrap
</code></pre>
<hr>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸é‡æ’ï¼ˆreflowï¼‰ä¸é‡ç»˜ï¼ˆrepaintï¼‰"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸é‡æ’ï¼ˆreflowï¼‰ä¸é‡ç»˜ï¼ˆrepaintï¼‰" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸é‡æ’ï¼ˆreflowï¼‰ä¸é‡ç»˜ï¼ˆrepaintï¼‰"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸é‡æ’ï¼ˆreflowï¼‰ä¸é‡ç»˜ï¼ˆrepaintï¼‰</h3><p>[é‡æ’ï¼ˆreflowï¼‰ä¸é‡ç»˜ï¼ˆrepaintï¼‰]: 	â€œ<a href="https://blog.csdn.net/lhz_333/article/details/125001060">https://blog.csdn.net/lhz_333/article/details/125001060</a> â€œ</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸BFCæ˜¯ä»€ä¹ˆä¸œè¥¿"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸BFCæ˜¯ä»€ä¹ˆä¸œè¥¿" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸BFCæ˜¯ä»€ä¹ˆä¸œè¥¿"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸BFCæ˜¯ä»€ä¹ˆä¸œè¥¿</h3><h4 id="ä¸€ã€ä»€ä¹ˆæ˜¯BFC"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯BFC" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯BFC"></a>ä¸€ã€ä»€ä¹ˆæ˜¯BFC</h4><p>1ã€BFCå³ Block Formatting Contexts (å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡)ï¼Œ æ˜¯ W3C CSS2.1 è§„èŒƒä¸­çš„ä¸€ä¸ªæ¦‚å¿µã€‚<br>2ã€BFCæ˜¯æŒ‡æµè§ˆå™¨ä¸­åˆ›å»ºäº†ä¸€ä¸ªç‹¬ç«‹çš„æ¸²æŸ“åŒºåŸŸï¼Œå¹¶ä¸”æ‹¥æœ‰ä¸€å¥—æ¸²æŸ“è§„åˆ™ï¼Œä»–å†³å®šäº†å…¶å­å…ƒç´ å¦‚ä½•å®šä½ï¼Œä»¥åŠä¸å…¶ä»–å…ƒç´ çš„ç›¸äº’å…³ç³»å’Œä½œç”¨ã€‚</p>
<h4 id="äºŒã€BFCçš„ç‰¹ç‚¹"><a href="#äºŒã€BFCçš„ç‰¹ç‚¹" class="headerlink" title="äºŒã€BFCçš„ç‰¹ç‚¹"></a>äºŒã€BFCçš„ç‰¹ç‚¹</h4><p>1ã€å…·æœ‰ BFC ç‰¹æ€§çš„å…ƒç´ å¯ä»¥çœ‹ä½œæ˜¯éš”ç¦»äº†çš„ç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å…ƒç´ ä¸ä¼šåœ¨å¸ƒå±€ä¸Šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ï¼Œå¹¶ä¸” BFC å…·æœ‰æ™®é€šå®¹å™¨æ‰€æ²¡æœ‰çš„ä¸€äº›ç‰¹æ€§ã€‚é€šä¿—ä¸€ç‚¹æ¥è®²ï¼Œå¯ä»¥æŠŠ BFC ç†è§£ä¸ºä¸€ä¸ªå°é—­çš„å¤§ç®±å­ï¼Œç®±å­å†…éƒ¨çš„å…ƒç´ æ— è®ºå¦‚ä½•ç¿»æ±Ÿå€’æµ·ï¼Œéƒ½ä¸ä¼šå½±å“åˆ°å¤–éƒ¨ã€‚</p>
<h4 id="ä¸‰ã€BFCå¸ƒå±€è§„åˆ™"><a href="#ä¸‰ã€BFCå¸ƒå±€è§„åˆ™" class="headerlink" title="ä¸‰ã€BFCå¸ƒå±€è§„åˆ™"></a>ä¸‰ã€BFCå¸ƒå±€è§„åˆ™</h4><p>å†…éƒ¨çš„Boxä¼šåœ¨å‚ç›´æ–¹å‘ï¼Œä¸€ä¸ªæ¥ä¸€ä¸ªåœ°æ”¾ç½®ã€‚<br>Boxå‚ç›´æ–¹å‘çš„è·ç¦»ç”±marginå†³å®šã€‚å±äºåŒä¸€ä¸ªBFCçš„ä¸¤ä¸ªç›¸é‚»Boxçš„marginä¼šå‘ç”Ÿé‡å <br>æ¯ä¸ªå…ƒç´ çš„margin boxçš„å·¦è¾¹ï¼Œ ä¸åŒ…å«å—border boxçš„å·¦è¾¹ç›¸æ¥è§¦(å¯¹äºä»å·¦å¾€å³çš„æ ¼å¼åŒ–ï¼Œå¦åˆ™ç›¸å)ã€‚å³ä½¿å­˜åœ¨æµ®åŠ¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚<br>BFCçš„åŒºåŸŸä¸ä¼šä¸float boxé‡å ,è€Œæ˜¯ç´§è´´æµ®åŠ¨å…ƒç´ ã€‚<br>BFCå°±æ˜¯é¡µé¢ä¸Šçš„ä¸€ä¸ªéš”ç¦»çš„ç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ã€‚åä¹‹ä¹Ÿå¦‚æ­¤ã€‚<br>è®¡ç®—BFCçš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—</p>
<h4 id="å››ã€å“ªäº›å…ƒç´ ä¼šäº§ç”ŸBFC"><a href="#å››ã€å“ªäº›å…ƒç´ ä¼šäº§ç”ŸBFC" class="headerlink" title="å››ã€å“ªäº›å…ƒç´ ä¼šäº§ç”ŸBFC"></a>å››ã€å“ªäº›å…ƒç´ ä¼šäº§ç”ŸBFC</h4><p>1ã€æ ¹å…ƒç´ <br>2ã€floatå±æ€§ä¸ä¸ºnone<br>3ã€positionä¸ºabsoluteæˆ–fixed<br>4ã€ displayä¸ºinline-block, table-cell, table-caption, flex, inline-flex<br>5ã€ overflowä¸ä¸ºvisible</p>
<h4 id="äº”ã€åœ¨å¸ƒå±€ä¸­BFCçš„åº”ç”¨åœºæ™¯"><a href="#äº”ã€åœ¨å¸ƒå±€ä¸­BFCçš„åº”ç”¨åœºæ™¯" class="headerlink" title="äº”ã€åœ¨å¸ƒå±€ä¸­BFCçš„åº”ç”¨åœºæ™¯"></a>äº”ã€åœ¨å¸ƒå±€ä¸­BFCçš„åº”ç”¨åœºæ™¯</h4><p>ï¼ˆ1ï¼‰æ¸…é™¤ç›’å­å‚ç›´æ–¹å‘ä¸Šå¤–è¾¹è·åˆå¹¶â€”â€”ç›’å­å‚ç›´æ–¹å‘çš„è·ç¦»ç”±marginå†³å®šã€‚å±äºåŒä¸€ä¸ªBFCçš„ä¸¤ä¸ªç›¸é‚»ç›’å­å‚ç›´æ–¹å‘çš„marginä¼šå‘ç”Ÿé‡å ã€‚<br>è§£å†³æ–¹æ³•ï¼š<br>æ ¹æ®å±äºåŒä¸€ä¸ªBFCçš„ä¸¤ä¸ªç›¸é‚»ç›’å­å‚ç›´æ–¹å‘çš„marginä¼šå‘ç”Ÿé‡å çš„æ€§è´¨ï¼Œå¯ä»¥ç»™å…¶ä¸­ä¸€ä¸ªç›’å­å†åŒ…è£¹ä¸€ä¸ªç›’å­çˆ¶å…ƒç´ ï¼Œå¹¶è§¦å‘å…¶BFCåŠŸèƒ½ï¼ˆä¾‹å¦‚æ·»åŠ overflow:hidden;ï¼‰è¿™æ ·å‚ç›´æ–¹å‘çš„ä¸¤ä¸ªç›’å­å°±ä¸åœ¨åŒä¸€ä¸ªBFCä¸­äº†ï¼Œå› æ­¤ä¹Ÿä¸ä¼šå‘ç”Ÿå‚ç›´å¤–è¾¹è·åˆå¹¶çš„é—®é¢˜äº†ã€‚<br>ï¼ˆ2ï¼‰åœ¨å­å…ƒç´ è®¾ç½®æˆæµ®åŠ¨å…ƒç´ çš„æ—¶å€™ï¼Œä¼šäº§ç”Ÿçˆ¶å…ƒç´ é«˜åº¦å¡Œé™·çš„é—®é¢˜ã€‚<br>è§£å†³æ–¹æ³•ï¼š<br>ç»™çˆ¶å…ƒç´ è®¾ç½®overflow:hiddenï¼›çš„æ—¶å€™ä¼šäº§ç”ŸBFC<br>ç”±äºåœ¨è®¡ç®—BFCé«˜åº¦æ—¶ï¼Œè‡ªç„¶ä¹Ÿä¼šæ£€æµ‹æµ®åŠ¨çš„å­ç›’å­é«˜åº¦ã€‚æ‰€ä»¥å½“å­ç›’å­æœ‰é«˜åº¦ä½†æ˜¯æµ®åŠ¨çš„æ—¶å€™ï¼Œé€šè¿‡æ¿€å‘çˆ¶ç›’å­çš„BFCåŠŸèƒ½ï¼Œä¼šäº§ç”Ÿæ¸…é™¤æµ®åŠ¨çš„æ•ˆæœã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸flexå¸ƒå±€æœ‰å“ªäº›å±æ€§"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸flexå¸ƒå±€æœ‰å“ªäº›å±æ€§" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸flexå¸ƒå±€æœ‰å“ªäº›å±æ€§"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸flexå¸ƒå±€æœ‰å“ªäº›å±æ€§</h3><h4 id="1ï¼‰Flexå¸ƒå±€çˆ¶å®¹å™¨å±æ€§"><a href="#1ï¼‰Flexå¸ƒå±€çˆ¶å®¹å™¨å±æ€§" class="headerlink" title="1ï¼‰Flexå¸ƒå±€çˆ¶å®¹å™¨å±æ€§"></a>1ï¼‰Flexå¸ƒå±€çˆ¶å®¹å™¨å±æ€§</h4><pre><code class="css">flex-direction / flex-wrap / flex-flow / justify-content / align-items / align-content
</code></pre>
<p>1ã€‹æ°´å¹³ï¼ˆä¸»è½´ä¸Šï¼‰å¯¹é½æ–¹å¼ï¼š</p>
<pre><code class="css">justify-contentï¼šflex-start | flex-end | center | space-between | space-around;
flex-startï¼ˆé»˜è®¤å€¼ï¼‰ï¼šå·¦å¯¹é½
flex-endï¼šå³å¯¹é½
centerï¼š å±…ä¸­
space-betweenï¼šä¸¤ç«¯å¯¹é½ï¼Œå­å…ƒç´ é—´éš”ç›¸ç­‰ã€‚
space-aroundï¼šå­å…ƒç´ ä¸¤ä¾§çš„é—´éš”ç›¸ç­‰ã€‚
</code></pre>
<p>2ã€‹åå­—äº¤å‰è½´ä¸Šå¯¹é½æ–¹å¼</p>
<pre><code class="css">align-itemsï¼šflex-start | flex-end | center | baseline | stretch;
flex-startï¼šä¸Šå¯¹é½ã€‚
flex-endï¼šä¸‹å¯¹é½ã€‚
centerï¼šäº¤å‰è½´å¯¹é½ã€‚
baseline: ç¬¬ä¸€è¡Œæ–‡å­—çš„åŸºçº¿å¯¹é½ã€‚
stretchï¼ˆé»˜è®¤å€¼ï¼‰ï¼šå¦‚æœå­å…ƒç´ æœªè®¾ç½®é«˜åº¦æˆ–è®¾ä¸ºautoï¼Œå°†å æ»¡æ•´ä¸ªå®¹å™¨ã€‚
</code></pre>
<p>3ã€‹é¡¹ç›®æ’åˆ—æ–¹å‘</p>
<pre><code class="css">flex-directionï¼šrow | row-reverse | column | column-reverse;
rowï¼ˆé»˜è®¤å€¼ï¼‰ï¼šä»å·¦1/2/3/...ã€‚
row-reverseï¼šä»å·¦../3/2/1ã€‚
columnï¼šä»ä¸Š1/2/3/...ã€‚
column-reverseï¼šä»ä¸Š../3/2/1ã€‚
</code></pre>
<p>4ã€‹æ¢è¡Œæ–¹å¼</p>
<pre><code class="css">flex-wrapï¼šnowrapï¼ˆä¸æ¢è¡Œï¼‰ | wrapï¼ˆå‘ä¸‹æ¢ï¼‰ | wrap-reverseï¼ˆå‘ä¸Šæ¢ï¼‰;
</code></pre>
<p>5ã€‹flex-flow</p>
<pre><code class="css">flex-directionå’Œflex-wrapçš„ç®€å†™
flex-flowï¼šrow nowrap
</code></pre>
<p>6ã€‹å¤šæ ¹è½´çº¿çš„å¯¹é½æ–¹å¼</p>
<pre><code class="css">align-contentï¼šflex-start | flex-end | center | space-between | space-around | stretch;
flex-startï¼šä¸Šå¯¹é½ã€‚
flex-endï¼šä¸‹å¯¹é½ã€‚
centerï¼šå±…ä¸­å¯¹é½ã€‚
space-betweenï¼šä¸¤ç«¯å¯¹é½ï¼Œé—´éš”å¹³å‡ã€‚
space-aroundï¼šé—´éš”ç›¸ç­‰ã€‚
stretchï¼ˆé»˜è®¤å€¼ï¼‰ï¼šå æ»¡ã€‚
</code></pre>
<h4 id="2ï¼‰Flexå¸ƒå±€å­å…ƒç´ å±æ€§"><a href="#2ï¼‰Flexå¸ƒå±€å­å…ƒç´ å±æ€§" class="headerlink" title="2ï¼‰Flexå¸ƒå±€å­å…ƒç´ å±æ€§"></a>2ï¼‰Flexå¸ƒå±€å­å…ƒç´ å±æ€§</h4><pre><code class="css">order/flex-grow/flex-shrink/flex-basis/flex/align-self
</code></pre>
<p>1ã€‹orderå±æ€§ï¼ˆnumï¼‰</p>
<pre><code class="css">orderå®šä¹‰è‡ªèº«æ’åˆ—é¡ºåºã€‚æ•°å€¼è¶Šå°ï¼Œè¶Šé å‰ï¼Œé»˜è®¤ä¸º0ã€‚-1/0/1/2/3/...
</code></pre>
<p>2ã€‹flex-growå±æ€§ï¼ˆnumï¼‰</p>
<pre><code class="css">flex-grow å®šä¹‰è‡ªèº«æ”¾å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º0ä¸æ”¾å¤§ã€‚ä¾‹å¦‚ï¼š1/2/1=25%:50%:25%
</code></pre>
<p>3ã€‹flex-shrinkå±æ€§ï¼ˆnumï¼‰</p>
<pre><code class="css">flex-shrinkå®šä¹‰äº†ç©ºé—´ä¸è¶³æ—¶è‡ªèº«ç¼©å°æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º1è‡ªåŠ¨ç¼©å°ï¼Œ0ä¸ç¼©å°ã€‚
</code></pre>
<p>4ã€‹flex-basiså±æ€§</p>
<pre><code class="css">flex-basiså®šä¹‰æœ€å°ç©ºé—´ï¼Œé»˜è®¤å€¼ä¸ºautoï¼Œå³è‡ªèº«çš„æœ¬æ¥å¤§å°ã€‚
</code></pre>
<p>5ã€‹flexå±æ€§</p>
<pre><code class="css">flexå±æ€§æ˜¯flex-grow, flex-shrink å’Œ flex-basisçš„ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º0 1 autoã€‚åä¸¤ä¸ªå±æ€§å¯é€‰ã€‚
</code></pre>
<p>6ã€‹align-selfå±æ€§</p>
<pre><code class="css">align-selfå®šä¹‰è‡ªèº«å¯¹é½æ–¹å¼ï¼Œå¯è¦†ç›–align-itemså±æ€§ã€‚é»˜è®¤å€¼ä¸ºautoï¼Œè¡¨ç¤ºç»§æ‰¿çˆ¶å…ƒç´ çš„align-itemså±æ€§ï¼Œå¦‚æœæ²¡æœ‰çˆ¶å…ƒç´ ï¼Œåˆ™ç­‰åŒäºstretchã€‚
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸å•è¡Œæˆ–è€…å¤šè¡Œæ–‡æœ¬æº¢å‡ºå±•ç¤ºçœç•¥å·çš„å®ç°æ–¹æ³•ã€‚"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸å•è¡Œæˆ–è€…å¤šè¡Œæ–‡æœ¬æº¢å‡ºå±•ç¤ºçœç•¥å·çš„å®ç°æ–¹æ³•ã€‚" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸å•è¡Œæˆ–è€…å¤šè¡Œæ–‡æœ¬æº¢å‡ºå±•ç¤ºçœç•¥å·çš„å®ç°æ–¹æ³•ã€‚"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸å•è¡Œæˆ–è€…å¤šè¡Œæ–‡æœ¬æº¢å‡ºå±•ç¤ºçœç•¥å·çš„å®ç°æ–¹æ³•ã€‚</h3><p>åœ¨é¡µé¢å¸ƒå±€æ—¶ï¼Œç»å¸¸ä¼šé‡åˆ°æ–‡æœ¬å†…å®¹è¶…å‡ºç›’å­çš„æƒ…å†µï¼Œå¦‚æœè¦å®ç°å•è¡Œæ–‡æœ¬çš„æº¢å‡ºæ˜¾ç¤ºçœç•¥å·,å¤§å®¶åº”è¯¥éƒ½çŸ¥é“ç”¨text-overflow:ellipsiså±æ€§ï¼Œå½“ç„¶è¿˜éœ€è¦åŠ å®½åº¦widthå±æ¥å…¼å®¹éƒ¨åˆ†æµè§ˆï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸€èµ·çœ‹çœ‹ã€‚</p>
<pre><code class="css">//å•è¡Œæº¢å‡º ... æ˜¾ç¤º
overflow:hidden;
text-overflow:ellipsis;
white-space:nowrap;
</code></pre>
<p>ä½†æ˜¯è¿™ä¸ªå±æ€§åªæ”¯æŒå•è¡Œæ–‡æœ¬çš„æº¢å‡ºæ˜¾ç¤ºçœç•¥å·ï¼Œå¦‚æœæˆ‘ä»¬è¦å®ç°å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·å‘¢ã€‚æ¥ä¸‹æ¥é‡ç‚¹è¯´ä¸€è¯´å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·ï¼Œå¦‚ä¸‹ã€‚</p>
<pre><code class="css">//å¤šè¡Œæº¢å‡º ... æ˜¾ç¤º
display:-webkit-box;
-webkit-box-orient:vertical;
-webkit-line-clamp:3;
overflow:hidden;
</code></pre>
<p>â€¼ï¸æ³¨ï¼š<br>1ã€-webkit-line-clampç”¨æ¥é™åˆ¶åœ¨ä¸€ä¸ªå—å…ƒç´ æ˜¾ç¤ºçš„æ–‡æœ¬çš„è¡Œæ•°ã€‚ ä¸ºäº†å®ç°è¯¥æ•ˆæœï¼Œå®ƒéœ€è¦ç»„åˆå…¶ä»–çš„WebKitå±æ€§ã€‚å¸¸è§ç»“åˆå±æ€§ï¼š<br>2ã€display: -webkit-box; å¿…é¡»ç»“åˆçš„å±æ€§ ï¼Œå°†å¯¹è±¡ä½œä¸ºå¼¹æ€§ä¼¸ç¼©ç›’å­æ¨¡å‹æ˜¾ç¤º ã€‚<br>3ã€-webkit-box-orient å¿…é¡»ç»“åˆçš„å±æ€§ ï¼Œè®¾ç½®æˆ–æ£€ç´¢ä¼¸ç¼©ç›’å¯¹è±¡çš„å­å…ƒç´ çš„æ’åˆ—æ–¹å¼ ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸position-stickyç”¨è¿‡æ²¡ï¼Œæœ‰å•¥æ•ˆæœï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸position-stickyç”¨è¿‡æ²¡ï¼Œæœ‰å•¥æ•ˆæœï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸position:stickyç”¨è¿‡æ²¡ï¼Œæœ‰å•¥æ•ˆæœï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸position:stickyç”¨è¿‡æ²¡ï¼Œæœ‰å•¥æ•ˆæœï¼Ÿ</h3><p>[position:sticky ç²˜æ€§å®šä½çš„å‡ ç§å·§å¦™åº”ç”¨]: 	â€œ<a href="https://www.bbsmax.com/A/qVdeoVOrJP/">https://www.bbsmax.com/A/qVdeoVOrJP/</a> â€œ</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸è¯´è¯´ä½ å¯¹GPUçš„ç†è§£ï¼Œä¸¾ä¾‹è¯´æ˜å“ªäº›å…ƒç´ èƒ½è§¦å‘GPUç¡¬ä»¶åŠ é€Ÿï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸è¯´è¯´ä½ å¯¹GPUçš„ç†è§£ï¼Œä¸¾ä¾‹è¯´æ˜å“ªäº›å…ƒç´ èƒ½è§¦å‘GPUç¡¬ä»¶åŠ é€Ÿï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸è¯´è¯´ä½ å¯¹GPUçš„ç†è§£ï¼Œä¸¾ä¾‹è¯´æ˜å“ªäº›å…ƒç´ èƒ½è§¦å‘GPUç¡¬ä»¶åŠ é€Ÿï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸è¯´è¯´ä½ å¯¹GPUçš„ç†è§£ï¼Œä¸¾ä¾‹è¯´æ˜å“ªäº›å…ƒç´ èƒ½è§¦å‘GPUç¡¬ä»¶åŠ é€Ÿï¼Ÿ</h3><pre><code class="css">GPU: å›¾å½¢å¤„ç†å™¨,ç”¨äºå¤„ç†å›¾å½¢æœ‰å…³çš„ä»»åŠ¡,ç”¨äºæ¸²æŸ“é¡µé¢
åœ¨cssä¸­ä½¿ç”¨ transform: translateZ(0),å¯ä»¥å¼€å¯GPUç¡¬ä»¶åŠ é€Ÿ
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸çº¯CSSæ–¹å¼å®ç°CSSåŠ¨ç”»çš„æš‚åœä¸æ’­æ”¾"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸çº¯CSSæ–¹å¼å®ç°CSSåŠ¨ç”»çš„æš‚åœä¸æ’­æ”¾" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸çº¯CSSæ–¹å¼å®ç°CSSåŠ¨ç”»çš„æš‚åœä¸æ’­æ”¾"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸çº¯CSSæ–¹å¼å®ç°CSSåŠ¨ç”»çš„æš‚åœä¸æ’­æ”¾</h3><p>åŠ¨ç”»æ§åˆ¶è¦å®Œæˆçš„æ•ˆæœæ˜¯ï¼š</p>
<ol>
<li>é¡µé¢ render åï¼Œæ— ä»»ä½•æ“ä½œï¼ŒåŠ¨ç”»ä¸ä¼šå¼€å§‹ã€‚åªæœ‰å½“é¼ æ ‡å¯¹å…ƒç´ è¿›è¡Œ <code>click</code> ï¼Œè§¦å‘å…ƒç´ çš„ <code>:active</code> ä¼ªç±»æ•ˆæœçš„æ—¶å€™ï¼ŒåŠ¨ç”»æ‰å¼€å§‹è¿›è¡Œï¼›</li>
<li>åŠ¨ç”»è¿›è¡Œåˆ°ä»»æ„æ—¶åˆ»ï¼Œé¼ æ ‡åœæ­¢ç‚¹å‡»ï¼Œåˆ™åŠ¨ç”»åœæ­¢ï¼›</li>
<li>é‡æ–°å¯¹å…ƒç´ è¿›è¡Œç‚¹å‡»ï¼ŒåŠ¨ç”»ç»§ç»­ä»ä¸Šä¸€å¸§ç»“æŸçš„çŠ¶æ€å¼€å§‹</li>
<li>å¦‚æœåŠ¨ç”»æ’­æ”¾å®Œï¼Œå†ç‚¹å‡»ä¸ä¼šé‡å¤æ’­æ”¾ï¼ŒåŠ¨ç”»çŠ¶æ€ä¿ç•™åœ¨åŠ¨ç”»çš„æœ€åä¸€å¸§</li>
</ol>
<pre><code class="css">//html
&lt;div&gt;&lt;/div&gt;

//css
div &#123;
    margin: 50px auto;
    width: 100px;
    height: 100px;
    background: #000;
    animation: move 1s linear;
    animation-fill-mode: forwards;
&#125;
@keyframes move &#123;
    100% &#123;
        transform: translate(200px, 0) rotate(180deg);
    &#125;
&#125;
</code></pre>
<pre><code class="css">div &#123;
    margin: 50px auto;
    width: 100px;
    height: 100px;
    background: #000;
    animation: move 1s linear;
    animation-fill-mode: forwards;
+   animation-play-state: paused; //æ·»åŠ äº†åŠ¨ç”»æ’­æ”¾çŠ¶æ€é»˜è®¤æš‚åœ
&#125;
</code></pre>
<p> åªæœ‰é€šè¿‡ç‚¹å‡»çš„æ—¶å€™ï¼ŒåŠ¨ç”»æ‰ä¼šè¿è¡Œï¼š</p>
<pre><code class="css">body:active div &#123;
    animation-play-state: running;
&#125;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ä½¿ç”¨CSS3åŠ¨ç”»ä»£æ›¿JSåŠ¨ç”»çš„å¥½å¤„"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ä½¿ç”¨CSS3åŠ¨ç”»ä»£æ›¿JSåŠ¨ç”»çš„å¥½å¤„" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ä½¿ç”¨CSS3åŠ¨ç”»ä»£æ›¿JSåŠ¨ç”»çš„å¥½å¤„"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ä½¿ç”¨CSS3åŠ¨ç”»ä»£æ›¿JSåŠ¨ç”»çš„å¥½å¤„</h3><h4 id="å¯¼è‡´JavaScriptæ•ˆç‡ä½çš„ä¸¤å¤§åŸå› ï¼šæ“ä½œDOMå’Œä½¿ç”¨é¡µé¢åŠ¨ç”»ã€‚"><a href="#å¯¼è‡´JavaScriptæ•ˆç‡ä½çš„ä¸¤å¤§åŸå› ï¼šæ“ä½œDOMå’Œä½¿ç”¨é¡µé¢åŠ¨ç”»ã€‚" class="headerlink" title="å¯¼è‡´JavaScriptæ•ˆç‡ä½çš„ä¸¤å¤§åŸå› ï¼šæ“ä½œDOMå’Œä½¿ç”¨é¡µé¢åŠ¨ç”»ã€‚"></a>å¯¼è‡´JavaScriptæ•ˆç‡ä½çš„ä¸¤å¤§åŸå› ï¼šæ“ä½œDOMå’Œä½¿ç”¨é¡µé¢åŠ¨ç”»ã€‚</h4><p>é€šå¸¸æˆ‘ä»¬ä¼šé€šè¿‡é¢‘ç¹çš„æ“ä½œ DOMçš„cssæ¥å®ç°è§†è§‰ä¸Šçš„åŠ¨ç”»æ•ˆæœï¼Œå¯¼è‡´jsæ•ˆç‡ä½çš„ä¸¤ä¸ªå› ç´ éƒ½åŒ…æ‹¬åœ¨å†…äº†åœ¨é¢‘ç¹çš„æ“ä½œDOMå’Œcssæ—¶ï¼Œæµè§ˆå™¨ä¼šä¸åœçš„æ‰§è¡Œé‡æ’å’Œé‡ç»˜ï¼Œåœ¨PCç‰ˆæœ¬çš„æµè§ˆå™¨ä¸­ï¼Œå› ä¸ºæµè§ˆå™¨å¯ç”¨çš„å†…å­˜æ¯”è¾ƒå¤§ï¼Œç”¨æˆ·è‚‰çœ¼å‡ ä¹çœ‹ä¸è§é¡µé¢åŠ¨ç”»äº§ç”Ÿçš„repaintå’Œreflowï¼Œæ‰€ä»¥å·¥ç¨‹å¸ˆå‡ ä¹æ— éœ€è¿‡å¤šçš„è€ƒè™‘åŠ¨ç”»å¸¦æ¥çš„æ€§èƒ½é—®é¢˜ï¼Œä½†åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šå¯å¤§æœ‰ä¸åŒï¼Œç§»åŠ¨è®¾å¤‡åˆ†é…ç»™å†…ç½®æµè§ˆå™¨çš„å†…å­˜å¯æ²¡æœ‰PCç‰ˆæœ¬çš„æµè§ˆå™¨å†…å­˜å¯è§‚ï¼Œç›®å‰å¯¹CSS3æ”¯æŒæœ€å¥½çš„è«è¿‡äºwebkitæµè§ˆå™¨äº†ï¼Œåœ¨webkitå†…æ ¸çš„æµè§ˆå™¨ï¼Œä¸€æ˜¯safariå…¶æ¬¡æ˜¯chrome. </p>
<h4 id="ç”¨CSS3åŠ¨ç”»æ›¿ä»£jsæ¨¡æ‹ŸåŠ¨ç”»çš„å¥½å¤„ï¼š"><a href="#ç”¨CSS3åŠ¨ç”»æ›¿ä»£jsæ¨¡æ‹ŸåŠ¨ç”»çš„å¥½å¤„ï¼š" class="headerlink" title="ç”¨CSS3åŠ¨ç”»æ›¿ä»£jsæ¨¡æ‹ŸåŠ¨ç”»çš„å¥½å¤„ï¼š"></a>ç”¨CSS3åŠ¨ç”»æ›¿ä»£jsæ¨¡æ‹ŸåŠ¨ç”»çš„å¥½å¤„ï¼š</h4><ul>
<li>ä¸å ç”¨JSä¸»çº¿ç¨‹ï¼›</li>
<li>å¯ä»¥åˆ©ç”¨ç¡¬ä»¶åŠ é€Ÿï¼›</li>
<li>æµè§ˆå™¨å¯å¯¹åŠ¨ç”»åšä¼˜åŒ–ï¼ˆå…ƒç´ ä¸å¯è§æ—¶ä¸åŠ¨ç”»å‡å°‘å¯¹FPSå½±å“ï¼‰</li>
</ul>
<p>CSS3åŠ¨ç”»æä¾›äº†2Då’Œ3Dä»¥åŠå¸¸è§„åŠ¨ç”»å±æ€§æ¥å£ï¼Œå®ƒå¯ä»¥å·¥ä½œåœ¨é¡µé¢çš„ä»»ä½•ä¸€ä¸ªå…ƒç´ çš„ä»»æ„ä¸€ä¸ªå±æ€§ï¼ŒCSS3çš„åŠ¨ç”»æ˜¯åˆ©ç”¨Cè¯­è¨€ç¼–å†™çš„ï¼Œå®ƒæ˜¯ç³»ç»Ÿå±‚é¢çš„åŠ¨ç”»ã€‚</p>
<p>é‡‡ç”¨jsåŠ¨ç”»è¿˜æ˜¯css3åŠ¨ç”»ï¼Œéœ€è¦å¼€å‘è€…æ ¹æ®ä¸åŒçš„éœ€æ±‚åšå‡ºä¸åŒçš„æŠ‰æ‹©ï¼Œä½†åº”è¯¥éµå¾ªä¸€ä¸ªåŸºæœ¬çš„åŸåˆ™æ˜¯ï¼šå¦‚æœä½ éœ€è¦åš2DåŠ¨ç”»ï¼Œè¯·å‹¿å¿…ä½¿ç”¨CSS3çš„transitionæˆ–animation</p>
<h4 id="CSS3åŠ¨ç”»ä¸JavaScriptæ¨¡æ‹ŸåŠ¨ç”»æœ‰ä»¥ä¸‹åŒºåˆ«ï¼š"><a href="#CSS3åŠ¨ç”»ä¸JavaScriptæ¨¡æ‹ŸåŠ¨ç”»æœ‰ä»¥ä¸‹åŒºåˆ«ï¼š" class="headerlink" title="CSS3åŠ¨ç”»ä¸JavaScriptæ¨¡æ‹ŸåŠ¨ç”»æœ‰ä»¥ä¸‹åŒºåˆ«ï¼š"></a>CSS3åŠ¨ç”»ä¸JavaScriptæ¨¡æ‹ŸåŠ¨ç”»æœ‰ä»¥ä¸‹åŒºåˆ«ï¼š</h4><ol>
<li>CSS 3DåŠ¨ç”»åœ¨jsä¸­æ— æ³•å®ç°<br>CSS3çš„3DåŠ¨ç”»æ˜¯CSS3ä¸­éå¸¸å¼ºå¤§çš„åŠŸèƒ½ï¼Œå› ä¸ºå®ƒçš„å·¥ä½œåŸç†æ˜¯åœ¨ä¸€ä¸ªä¸‰ç»´çš„ç©ºé—´é‡Œï¼Œå› æ­¤jsæ˜¯æ— æ³•æ¨¡æ‹Ÿå‡ºåƒCSS3é‚£æ ·çš„3DåŠ¨ç”»</li>
<li>CSS 2DçŸ©é˜µåŠ¨ç”»æ•ˆç‡é«˜äºjsåˆ©ç”¨marginå’Œleft,topæ¨¡æ‹Ÿçš„çŸ©é˜µåŠ¨ç”»<br>CSS3çš„2DåŠ¨ç”»æ˜¯æŒ‡æ˜¯2DçŸ©é˜µTransformå˜åŒ–ï¼Œjså½“ç„¶æ˜¯ä¸èƒ½åšå˜å½¢åŠ¨ç”»çš„ã€‚å°±æ‹¿åæ ‡åŠ¨ç”»æ¥è¯´ï¼Œä½¿ç”¨CSS3çš„transformåštranslateXYåŠ¨ç”»æ¯”jsä¸­çš„position leftï¼Œposition rightå¿«äº†è¿‘700mm!è€Œä¸”è§†è§‰ä¸Šä¹Ÿæ¯”jsåŠ¨ç”»æµç•…å¾ˆå¤šã€‚</li>
<li>CSS3å…¶å®ƒå¸¸è§„åŠ¨ç”»å±æ€§çš„æ•ˆç‡å‡ä½äºjsæ¨¡æ‹Ÿçš„åŠ¨ç”»<br>å¸¸è§„åŠ¨ç”»å±æ€§åœ¨è¿™é‡Œæ˜¯æŒ‡ï¼šheightï¼Œwidth,opacity,border-width,color</li>
</ol>
<hr>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸flex-1æ˜¯ä»€ä¹ˆ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸flex-1æ˜¯ä»€ä¹ˆ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸flex:1æ˜¯ä»€ä¹ˆ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸flex:1æ˜¯ä»€ä¹ˆ</h3><p>[csså¼¹æ€§ç›’flex-growã€flex-shrinkã€flex-basisè¯¦è§£]: 	â€œ<a href="https://www.qetool.com/scripts/view/24368.html">https://www.qetool.com/scripts/view/24368.html</a> â€œ</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ç§»åŠ¨ç«¯é€šç”¨çš„1pxè¾¹æ¡†çš„å®ç°åŸç†ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ç§»åŠ¨ç«¯é€šç”¨çš„1pxè¾¹æ¡†çš„å®ç°åŸç†ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ç§»åŠ¨ç«¯é€šç”¨çš„1pxè¾¹æ¡†çš„å®ç°åŸç†ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ç§»åŠ¨ç«¯é€šç”¨çš„1pxè¾¹æ¡†çš„å®ç°åŸç†ï¼Ÿ</h3><p>[7ç§æ–¹æ³•å®ç°ç§»åŠ¨ç«¯å±å¹•1pxè¾¹æ¡†æ•ˆæœ]: 	â€œ<a href="https://blog.csdn.net/z591102/article/details/106404049/">https://blog.csdn.net/z591102/article/details/106404049/</a> â€œ</p>
]]></content>
      <categories>
        <category>æŠ€æœ¯é¢è¯•</category>
        <category>HTML5+CSS3</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯é¢è¯•å¤§å…¨React</title>
    <url>/2022/10/29/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8React/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆReact-jsï¼‰"><a href="#å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆReact-jsï¼‰" class="headerlink" title="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆReact.jsï¼‰"></a>å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆReact.jsï¼‰</h1><p>å‰ç«¯é¢è¯•é¢˜ç±»ç›®åˆ†ç±»</p>
<ul>
<li>HTML5 + CSS3</li>
<li>JavaScript</li>
<li>Vue + Vue3</li>
<li>React</li>
<li>Webpack</li>
<li>æœåŠ¡ç«¯</li>
</ul>
<hr>
<p>è€ƒç‚¹é¢‘ç‡ ï¼šâ™¥ï¸ ã€ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸</p>
<h2 id="React-js"><a href="#React-js" class="headerlink" title="React.js"></a>React.js</h2><h3 id="â™¥ï¸â™¥ï¸-fetchçš„å»¶æ—¶æ“ä½œ"><a href="#â™¥ï¸â™¥ï¸-fetchçš„å»¶æ—¶æ“ä½œ" class="headerlink" title="â™¥ï¸â™¥ï¸  fetchçš„å»¶æ—¶æ“ä½œ"></a>â™¥ï¸â™¥ï¸  fetchçš„å»¶æ—¶æ“ä½œ</h3><pre><code class="javascript">// fetchè¯­æ³•ï¼šfetch(resource, config).then( function(response) &#123; ... &#125; )ï¼›resourceä¸ºè¦è·å–çš„èµ„æºï¼Œ
configæ˜¯é…ç½®å¯¹è±¡ï¼ŒåŒ…å«methodè¯·æ±‚æ–¹æ³•ï¼Œheadersè¯·æ±‚å¤´ä¿¡æ¯ç­‰
// å®šä¹‰ä¸€ä¸ªå»¶æ—¶å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªpromise
const delayPromise = (timeout=5000) =&gt; &#123;
 return new Promise((resolve, reject) =&gt; &#123;
 setTimeout(()=&gt;&#123;
 reject(new Error(&quot;ç½‘ç»œé”™è¯¯&quot;))
 &#125;, timeout)
 &#125;)
&#125;
// å®šä¹‰ä¸€ä¸ªfetchç½‘ç»œè¯·æ±‚ï¼Œè¿”å›ä¸€ä¸ªpromise
const fetchPromise = (resource, config) =&gt; &#123;
 return new Promise((resolve, reject)=&gt;&#123;
 fetch(resource, config).then(res=&gt;&#123;
 resolve(res)
 &#125;)
 &#125;)
&#125;
// promiseçš„raceé™æ€æ–¹æ³•æ¥å—å¤šä¸ªpromiseå¯¹è±¡ç»„æˆçš„æ•°ç»„ï¼Œè¯¥æ•°ç»„ä¸­å“ªä¸ªpromiseå…ˆæ‰§è¡Œå®Œæˆï¼Œraceæ–¹æ³•å°±è¿”å›è¿™ä¸ªpromiseçš„æ‰§è¡Œç»“æœ
const fetchRequest = (resource, config, timeout) =&gt; &#123;
 Promise.race([
 delayPromise(timeout), 
 fetchPromise(resource,config)
 ])
&#125;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸-A-ç»„ä»¶åµŒå¥—-B-ç»„ä»¶ï¼Œç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº"><a href="#â™¥ï¸â™¥ï¸-A-ç»„ä»¶åµŒå¥—-B-ç»„ä»¶ï¼Œç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº" class="headerlink" title="â™¥ï¸â™¥ï¸   A ç»„ä»¶åµŒå¥— B ç»„ä»¶ï¼Œç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº"></a>â™¥ï¸â™¥ï¸   A ç»„ä»¶åµŒå¥— B ç»„ä»¶ï¼Œç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº</h3><pre><code class="css">çˆ¶ç»„ä»¶åˆ›å»ºé˜¶æ®µçš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° constructor
çˆ¶ç»„ä»¶åˆ›å»ºé˜¶æ®µçš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° render
å­ç»„ä»¶åˆ›å»ºé˜¶æ®µçš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° constructor
å­ç»„ä»¶åˆ›å»ºé˜¶æ®µçš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° render
å­ç»„ä»¶åˆ›å»ºé˜¶æ®µçš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° componentDidMount
çˆ¶ç»„ä»¶åˆ›å»ºé˜¶æ®µçš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° componentDidMount

çˆ¶-&gt;çˆ¶-&gt;å­-&gt;å­-&gt;å­-&gt;çˆ¶
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸-React-ç»„ä»¶ä¸­-props-å’Œ-state-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸-React-ç»„ä»¶ä¸­-props-å’Œ-state-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸  React ç»„ä»¶ä¸­ props å’Œ state æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>â™¥ï¸â™¥ï¸  React ç»„ä»¶ä¸­ props å’Œ state æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p>1ã€propsæ˜¯ä»å¤–éƒ¨ä¼ å…¥ç»„ä»¶çš„å‚æ•°ï¼Œä¸€èˆ¬ç”¨äºçˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šä¿¡ï¼Œåœ¨ç»„ä»¶ä¹‹é—´é€šä¿¡ä½¿ç”¨ï¼›stateä¸€èˆ¬ç”¨äºç»„ä»¶å†…éƒ¨çš„çŠ¶æ€ç»´æŠ¤ï¼Œæ›´æ–°ç»„å»ºå†…éƒ¨çš„æ•°æ®ï¼ŒçŠ¶æ€ï¼Œæ›´æ–°å­ç»„ä»¶çš„propsç­‰</p>
<p> 2ã€propsä¸å¯ä»¥åœ¨ç»„ä»¶å†…éƒ¨ä¿®æ”¹ï¼Œåªèƒ½é€šè¿‡çˆ¶ç»„ä»¶è¿›è¡Œä¿®æ”¹ï¼›stateåœ¨ç»„ä»¶å†…éƒ¨é€šè¿‡setStateä¿®æ”¹ï¼›</p>
<h3 id="â™¥ï¸â™¥ï¸-reactä¸­ç»„ä»¶åˆ†ä¸ºé‚£ä¸¤ç§ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸-reactä¸­ç»„ä»¶åˆ†ä¸ºé‚£ä¸¤ç§ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸ reactä¸­ç»„ä»¶åˆ†ä¸ºé‚£ä¸¤ç§ï¼Ÿ"></a>â™¥ï¸â™¥ï¸ reactä¸­ç»„ä»¶åˆ†ä¸ºé‚£ä¸¤ç§ï¼Ÿ</h3><p>ç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶</p>
<h3 id="â™¥ï¸â™¥ï¸-æè¿°-Flux-ä¸-MVCï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸-æè¿°-Flux-ä¸-MVCï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸ æè¿° Flux ä¸ MVCï¼Ÿ"></a>â™¥ï¸â™¥ï¸ æè¿° Flux ä¸ MVCï¼Ÿ</h3><p>ä¼ ç»Ÿçš„ MVC æ¨¡å¼åœ¨åˆ†ç¦»æ•°æ®(Model)ã€UI(Viewå’Œé€»è¾‘(Controller)æ–¹é¢å·¥ä½œå¾—å¾ˆå¥½ï¼Œä½†æ˜¯ MVC æ¶æ„ç»å¸¸é‡åˆ°ä¸¤ä¸ªä¸»è¦é—®é¢˜:</p>
<ol>
<li>æ•°æ®æµä¸å¤Ÿæ¸…æ™°â€”â€”è·¨è§†å›¾å‘ç”Ÿçš„çº§è”æ›´æ–°å¸¸å¸¸ä¼šå¯¼è‡´æ··ä¹±çš„äº‹ä»¶ç½‘ç»œï¼Œéš¾äºè°ƒè¯•ã€‚</li>
<li>ç¼ºä¹æ•°æ®å®Œæ•´æ€§â€”â€”æ¨¡å‹æ•°æ®å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹å‘ç”Ÿçªå˜ï¼Œä»è€Œåœ¨æ•´ä¸ªUIä¸­äº§ç”Ÿä¸å¯é¢„æµ‹çš„ç»“æœã€‚</li>
</ol>
<p>ä½¿ç”¨ Flux æ¨¡å¼çš„å¤æ‚ç”¨æˆ·ç•Œé¢ä¸å†é­å—çº§è”æ›´æ–°ï¼Œä»»ä½•ç»™å®šçš„React ç»„ä»¶éƒ½èƒ½å¤Ÿæ ¹æ® store æä¾›çš„æ•°æ®é‡å»ºå…¶çŠ¶æ€ã€‚Flux æ¨¡å¼è¿˜é€šè¿‡é™åˆ¶å¯¹å…±äº«æ•°æ®çš„ç›´æ¥è®¿é—®æ¥åŠ å¼ºæ•°æ®å®Œæ•´æ€§ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸-åœ¨-React-ä¸­ä½¿ç”¨æ„é€ å‡½æ•°å’Œ-getInitialState-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸-åœ¨-React-ä¸­ä½¿ç”¨æ„é€ å‡½æ•°å’Œ-getInitialState-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸ åœ¨ React ä¸­ä½¿ç”¨æ„é€ å‡½æ•°å’Œ getInitialState æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>â™¥ï¸â™¥ï¸ åœ¨ React ä¸­ä½¿ç”¨æ„é€ å‡½æ•°å’Œ getInitialState æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><pre><code class="react">// ES6
class MyComponent extends React.Component &#123;
constructor(props) &#123;
super(props);
this.state = &#123; /* initial state */ &#125;;
&#125;
&#125;
// ES5
var MyComponent = React.createClass(&#123;
getInitialState() &#123;
  return &#123; /* initial state */ &#125;;
&#125;,
&#125;);
</code></pre>
<p>æœ¬è´¨ä¸Šå…¶å®æ˜¯ç­‰ä»·çš„ï¼Ÿ</p>
<p>åŒºåˆ«åœ¨äºES6å’ŒES5æœ¬èº«ï¼ŒgetInitialState æ˜¯æ­é… React.createClass ä½¿ç”¨çš„ï¼Œ constructor æ˜¯æ­é…React.Component ä½¿ç”¨çš„,åœ¨Reactç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­ constructor å…ˆäº getInitialState</p>
<h3 id="â™¥ï¸â™¥ï¸-ä¸ºä»€ä¹ˆè¯´Reactæ˜¯viewï¼ˆè§†å›¾å±‚ï¼‰"><a href="#â™¥ï¸â™¥ï¸-ä¸ºä»€ä¹ˆè¯´Reactæ˜¯viewï¼ˆè§†å›¾å±‚ï¼‰" class="headerlink" title="â™¥ï¸â™¥ï¸ ä¸ºä»€ä¹ˆè¯´Reactæ˜¯viewï¼ˆè§†å›¾å±‚ï¼‰"></a>â™¥ï¸â™¥ï¸ ä¸ºä»€ä¹ˆè¯´Reactæ˜¯viewï¼ˆè§†å›¾å±‚ï¼‰</h3><p>react, æ˜¯ Facebook æ¨å‡ºçš„ä¸€ä¸ªç”¨æ¥æ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“. React ä¸»è¦ç”¨äºæ„å»º UI</p>
<p>Reactè¢«è®¤ä¸ºæ˜¯è§†å›¾å±‚çš„æ¡†æ¶æ˜¯å› ä¸ºå®ƒæ˜¯åŸºäºç»„ä»¶çš„ï¼Œä¸€åˆ‡éƒ½æ˜¯ç»„ä»¶ï¼Œè€Œç»„ä»¶å°±æ˜¯æ¸²æŸ“é¡µé¢çš„åŸºç¡€ã€‚ä¸è®ºç»„ä»¶ä¸­åŒ…å«çš„jsxï¼Œmethodsï¼Œstateï¼Œpropsï¼Œéƒ½æ˜¯å±äºç»„ä»¶å†…éƒ¨çš„</p>
<p>Viewï¼ˆè§†å›¾ï¼‰æ˜¯åº”ç”¨ç¨‹åºä¸­å¤„ç†æ•°æ®æ˜¾ç¤ºçš„éƒ¨åˆ†ã€‚è§†å›¾å±‚ä¸»è¦åŒ…æ‹¬äºŒä¸ªéƒ¨åˆ†ï¼š</p>
<p>1.è§†å›¾å±‚æ˜¾ç¤ºåŠäº¤äº’é€»è¾‘ï¼›</p>
<p>2.è§†å›¾å±‚çš„æ•°æ®ç»“æ„ViewObjï¼Œ åŒ…æ‹¬Reactä¸­çš„propså’Œstatsï¼›</p>
<hr>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-React-äº‹ä»¶ç»‘å®šåŸç†"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-React-äº‹ä»¶ç»‘å®šåŸç†" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ React äº‹ä»¶ç»‘å®šåŸç†"></a>â™¥ï¸â™¥ï¸â™¥ï¸ React äº‹ä»¶ç»‘å®šåŸç†</h3><p>ä¸€ã€reactå¹¶æ²¡æœ‰ä½¿ç”¨åŸç”Ÿçš„æµè§ˆå™¨äº‹ä»¶ï¼Œè€Œæ˜¯åœ¨åŸºäºVirtual DOMçš„åŸºç¡€ä¸Šå®ç°äº†åˆæˆäº‹ä»¶ï¼Œé‡‡ç”¨å°é©¼å³°å‘½åæ³•ï¼Œé»˜è®¤çš„äº‹ä»¶ä¼ æ’­æ–¹å¼æ˜¯å†’æ³¡ï¼Œå¦‚æœæƒ³æ”¹ä¸ºæ•è·çš„è¯ï¼Œç›´æ¥åœ¨äº‹ä»¶ååé¢åŠ ä¸ŠCaptureå³å¯ï¼›äº‹ä»¶å¯¹è±¡eventä¹Ÿä¸æ˜¯åŸç”Ÿäº‹ä»¶å¯¹è±¡ï¼Œè€Œæ˜¯åˆæˆå¯¹è±¡ï¼Œä½†é€šè¿‡nativeEventå±æ€§å¯ä»¥è®¿é—®åŸç”Ÿäº‹ä»¶å¯¹è±¡ï¼›</p>
<p>äºŒã€reactåˆæˆäº‹ä»¶ä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸‰ä¸ªè¿‡ç¨‹ï¼š</p>
<p> 1ã€äº‹ä»¶æ³¨å†Œ</p>
<p> åœ¨è¯¥é˜¶æ®µä¸»è¦åšäº†ä¸¤ä»¶äº‹ï¼šdocumentä¸Šæ³¨å†Œã€å­˜å‚¨äº‹ä»¶å›è°ƒã€‚æ‰€æœ‰äº‹ä»¶éƒ½ä¼šæ³¨å†Œåˆ°documentä¸Šï¼Œ</p>
<p>æ‹¥æœ‰ç»Ÿä¸€çš„å›è°ƒå‡½æ•°dispatchEventæ¥æ‰§è¡Œäº‹ä»¶åˆ†å‘ï¼Œç±»ä¼¼äº</p>
<pre><code class="javascript">document.addEventListener(&quot;click&quot;,dispatchEvent)ã€‚
 register:
 addEventListener-click
 addEventListener-change
listenerBank: 
&#123; 
click: &#123;key1: fn1, key2: fn2&#125;, 
change: &#123;key1: fn3, key3: fn4&#125; 
&#125; 
</code></pre>
<p>2ã€äº‹ä»¶åˆæˆ </p>
<p>äº‹ä»¶è§¦å‘åï¼Œä¼šæ‰§è¡Œä¸€ä¸‹è¿‡ç¨‹ï¼š </p>
<p>ï¼ˆ1ï¼‰è¿›å…¥ç»Ÿä¸€çš„äº‹ä»¶åˆ†å‘å‡½æ•°dispatchEventï¼› </p>
<p>ï¼ˆ2ï¼‰æ‰¾åˆ°è§¦å‘äº‹ä»¶çš„ ReactDOMComponentï¼› </p>
<p>ï¼ˆ3ï¼‰å¼€å§‹äº‹ä»¶çš„åˆæˆï¼› </p>
<p>â€”â€” æ ¹æ®å½“å‰äº‹ä»¶ç±»å‹ç”ŸæˆæŒ‡å®šçš„åˆæˆå¯¹è±¡ </p>
<p>â€”â€” å°è£…åŸç”Ÿäº‹ä»¶å’Œå†’æ³¡æœºåˆ¶ </p>
<p>â€”â€” æŸ¥æ‰¾å½“å‰å…ƒç´ ä»¥åŠä»–æ‰€æœ‰çˆ¶çº§ </p>
<p>â€”â€” åœ¨listenerBankæ ¹æ®keyå€¼æŸ¥æ‰¾äº‹ä»¶å›è°ƒå¹¶åˆæˆåˆ° event(åˆæˆäº‹ä»¶ç»“æŸ) </p>
<p>3ã€æ‰¹å¤„ç†</p>
<p> æ‰¹é‡å¤„ç†åˆæˆäº‹ä»¶å†…çš„å›è°ƒå‡½æ•°</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-Reactä¸­çš„-setState-ç¼ºç‚¹æ˜¯ä»€ä¹ˆå‘¢"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-Reactä¸­çš„-setState-ç¼ºç‚¹æ˜¯ä»€ä¹ˆå‘¢" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ Reactä¸­çš„ setState ç¼ºç‚¹æ˜¯ä»€ä¹ˆå‘¢"></a>â™¥ï¸â™¥ï¸â™¥ï¸ Reactä¸­çš„ setState ç¼ºç‚¹æ˜¯ä»€ä¹ˆå‘¢</h3><p>setStateæ‰§è¡Œçš„æ—¶å€™å¯ä»¥ç®€å•çš„è®¤ä¸ºï¼Œéš¶å±äºåŸç”Ÿjsæ‰§è¡Œçš„ç©ºé—´ï¼Œé‚£ä¹ˆå°±æ˜¯å±äºåŒæ­¥ï¼Œè¢«reactå¤„ç†è¿‡çš„ç©ºé—´å±äºå¼‚æ­¥ï¼Œè¿™å…¶å®ä¹Ÿæ˜¯ä¸€ç§æ€§èƒ½çš„ä¼˜åŒ–ï¼Œå¦‚æœå¤šæ¬¡ä½¿ç”¨setStateä¿®æ”¹å€¼ï¼Œé‚£ä¹ˆåœ¨å¼‚æ­¥ä¸­ä¼šå…ˆè¿›è¡Œåˆå¹¶ï¼Œå†è¿›è¡Œæ¸²æŸ“ï¼Œé™ä½äº†æ“ä½œdomçš„æ¬¡æ•°ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<p>ï¼ˆ1ï¼‰setState åœ¨åˆæˆäº‹ä»¶å’Œé’©å­å‡½æ•°ä¸­æ˜¯â€œå¼‚æ­¥â€çš„ï¼Œåœ¨åŸç”Ÿäº‹ä»¶å’Œ <code>setTimeout</code> ä¸­éƒ½æ˜¯åŒæ­¥çš„ã€‚ </p>
<p>ï¼ˆ2ï¼‰setStateçš„â€œå¼‚æ­¥â€å¹¶ä¸æ˜¯è¯´å†…éƒ¨ç”±å¼‚æ­¥ä»£ç å®ç°ï¼Œå…¶å®æœ¬èº«æ‰§è¡Œçš„è¿‡ç¨‹å’Œä»£ç éƒ½æ˜¯åŒæ­¥çš„ï¼Œåªæ˜¯åˆæˆäº‹ä»¶å’Œé’©å­å‡½æ•°çš„è°ƒç”¨é¡ºåºåœ¨æ›´æ–°ä¹‹å‰ï¼Œå¯¼è‡´åœ¨åˆæˆäº‹ä»¶å’Œé’©å­å‡½æ•°ä¸­æ²¡æ³•ç«‹é©¬æ‹¿åˆ°æ›´æ–°åçš„å€¼ï¼Œå½¢å¼äº†æ‰€è°“çš„â€œå¼‚æ­¥â€ï¼Œå½“ç„¶å¯ä»¥é€šè¿‡ç¬¬äºŒä¸ªå‚æ•° setState(partialState, callback) ä¸­çš„callbackæ‹¿åˆ°æ›´ æ–°åçš„ç»“æœã€‚ </p>
<p>ï¼ˆ3ï¼‰setState çš„æ‰¹é‡æ›´æ–°ä¼˜åŒ–ä¹Ÿæ˜¯å»ºç«‹åœ¨â€œå¼‚æ­¥â€ï¼ˆåˆæˆäº‹ä»¶ã€é’©å­å‡½æ•°ï¼‰ä¹‹ä¸Šçš„ï¼Œåœ¨åŸç”Ÿäº‹ä»¶å’ŒsetTimeout ä¸­ä¸ä¼šæ‰¹é‡æ›´æ–°ï¼Œåœ¨â€œå¼‚æ­¥â€ä¸­å¦‚æœå¯¹åŒä¸€ä¸ªå€¼è¿›è¡Œå¤šæ¬¡ setStateï¼Œ setState çš„æ‰¹é‡æ›´æ–°ç­–ç•¥ä¼šå¯¹å…¶è¿›è¡Œè¦†ç›–ï¼Œå–æœ€åä¸€æ¬¡çš„æ‰§è¡Œï¼Œå¦‚æœæ˜¯åŒæ—¶ setState å¤šä¸ªä¸åŒçš„å€¼ï¼Œåœ¨æ›´æ–°æ—¶ä¼šå¯¹å…¶è¿›è¡Œåˆå¹¶æ‰¹é‡æ›´æ–°ã€‚ </p>
<p>ï¼ˆ4ï¼‰æ­£æ˜¯ç”±äºsetStateå­˜åœ¨å¼‚æ­¥çš„æœºåˆ¶ï¼Œå¦‚æœsetStateä¿®æ”¹å€¼çš„æ—¶å€™ä¾èµ–äºstateæœ¬èº«çš„å€¼ï¼Œæœ‰æ—¶å€™å¹¶ä¸å¯é ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå…¶å…¥å‚ï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ›´æ–°å‰çš„stateå€¼ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-Reactç»„ä»¶é€šä¿¡å¦‚ä½•å®ç°"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-Reactç»„ä»¶é€šä¿¡å¦‚ä½•å®ç°" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ Reactç»„ä»¶é€šä¿¡å¦‚ä½•å®ç°"></a>â™¥ï¸â™¥ï¸â™¥ï¸ Reactç»„ä»¶é€šä¿¡å¦‚ä½•å®ç°</h3><p>reactæœ¬èº«:</p>
<p> (1) props â€”â€”çˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šè¿‡propsä¼ å‚</p>
<p> (2) å®ä¾‹æ–¹æ³•â€”â€”åœ¨çˆ¶ç»„ä»¶ä¸­å¯ä»¥ç”¨ refs å¼•ç”¨å­ç»„ä»¶ï¼Œä¹‹åå°±å¯ä»¥è°ƒç”¨å­ç»„ä»¶çš„å®ä¾‹æ–¹æ³•äº†</p>
<p> (3) å›è°ƒå‡½æ•°â€”â€”ç”¨äºå­ç»„ä»¶å‘çˆ¶ç»„ä»¶é€šä¿¡ï¼Œå­ç»„ä»¶è°ƒç”¨propsä¼ é€’è¿‡æ¥çš„æ–¹æ³•</p>
<p> (4) çŠ¶æ€æå‡â€”â€”ä¸¤ä¸ªå­ç»„ä»¶å¯ä»¥é€šè¿‡çˆ¶ç»„ä»¶å®šä¹‰çš„å‚æ•°è¿›è¡Œä¼ å‚</p>
<p> (5) Contextä¸Šä¸‹æ–‡â€”â€”ä¸€èˆ¬ç”¨ä½œå…¨å±€ä¸»é¢˜</p>
<p> (6) Render Propsâ€”â€”æ¸²æŸ“çš„ç»†èŠ‚ç”±çˆ¶ç»„ä»¶æ§åˆ¶</p>
<p>çŠ¶æ€ç®¡ç†: </p>
<p>(1) mobx&#x2F;redux&#x2F;dvaâ€”â€”é€šè¿‡åœ¨viewä¸­è§¦å‘actionï¼Œæ”¹å˜stateï¼Œè¿›è€Œæ”¹å˜å…¶ä»–ç»„ä»¶çš„view</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶çš„åŒºåˆ«"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶çš„åŒºåˆ«" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶çš„åŒºåˆ«"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶çš„åŒºåˆ«</h3><p>ï¼ˆ1ï¼‰è¯­æ³•ä¸Šï¼šå‡½æ•°ç»„ä»¶æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªjsxå…ƒç´ ï¼Œè€Œç±»ç»„ä»¶æ˜¯ç”¨es6è¯­æ³•ç³–classå®šä¹‰ï¼Œç»§æ‰¿componentè¿™ä¸ªç±»</p>
<p>ï¼ˆ2ï¼‰ç±»ç»„ä»¶ä¸­å¯ä»¥é€šè¿‡stateè¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼Œè€Œåœ¨å‡½æ•°ç»„ä»¶ä¸­ä¸èƒ½ä½¿ç”¨setState()ï¼Œåœ¨react16.8ä»¥åï¼Œå‡½æ•°ç»„ä»¶å¯ä»¥é€šè¿‡hooksä¸­çš„useStateæ¥æ¨¡æ‹Ÿç±»ç»„ä»¶ä¸­çš„çŠ¶æ€ç®¡ç†ï¼›</p>
<p>ï¼ˆ3ï¼‰ç±»ç»„ä»¶ä¸­æœ‰ä¸€ç³»åˆ—çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼Œåœ¨å‡½æ•°ç»„ä»¶ä¸­ä¹Ÿéœ€è¦å€ŸåŠ©hooksæ¥ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼›</p>
<p>ï¼ˆ4ï¼‰ç±»ç»„ä»¶èƒ½å¤Ÿæ•è·æœ€æ–°çš„å€¼ï¼ˆæ°¸è¿œä¿æŒä¸€è‡´ï¼‰ï¼Œè¿™æ˜¯å› ä¸ºå½“å®ä¾‹çš„propså±æ€§å‘ç”Ÿä¿®æ”¹æ—¶ï¼Œclassç»„ä»¶èƒ½å¤Ÿç›´æ¥é€šè¿‡thisæ•è·åˆ°ç»„ä»¶æœ€æ–°çš„propsï¼›è€Œå‡½æ•°å¼ç»„ä»¶æ˜¯æ•è·æ¸²æŸ“æ‰€ä½¿ç”¨çš„å€¼ï¼Œå·²ç»å› ä¸ºjavascripté—­åŒ…çš„ç‰¹æ€§ï¼Œä¹‹å‰çš„propså‚æ•°ä¿å­˜åœ¨å†…å­˜ä¹‹ä¸­ï¼Œæ— æ³•ä»å¤–éƒ¨è¿›è¡Œä¿®æ”¹ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-è¯·ä½ è¯´è¯´Reactçš„è·¯ç”±æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-è¯·ä½ è¯´è¯´Reactçš„è·¯ç”±æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ è¯·ä½ è¯´è¯´Reactçš„è·¯ç”±æ˜¯ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ è¯·ä½ è¯´è¯´Reactçš„è·¯ç”±æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>è·¯ç”±åˆ†ä¸ºå‰ç«¯è·¯ç”±å’Œåç«¯è·¯ç”±ï¼Œåç«¯è·¯ç”±æ˜¯æœåŠ¡å™¨æ ¹æ®ç”¨æˆ·å‘èµ·çš„è¯·æ±‚è€Œè¿”å›ä¸åŒå†…å®¹ï¼Œå‰ç«¯è·¯ç”±æ˜¯å®¢æˆ·ç«¯æ ¹æ®ä¸åŒçš„URLå»åˆ‡æ¢ç»„ä»¶ï¼›åœ¨webåº”ç”¨å‰ç«¯å¼€å‘ä¸­ï¼Œè·¯ç”±ç³»ç»Ÿæ˜¯æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå½“é¡µé¢çš„URLå‘ç”Ÿæ”¹å˜æ—¶ï¼Œé¡µé¢çš„æ˜¾ç¤ºç»“æœå¯ä»¥æ ¹æ®URLçš„å˜åŒ–è€Œå˜åŒ–ï¼Œä½†æ˜¯é¡µé¢ä¸ä¼šåˆ·æ–°ã€‚</p>
<p>reactç”Ÿæ€ä¸­è·¯ç”±é€šå¸¸æ˜¯ä½¿ç”¨react-routeræ¥è¿›è¡Œé…ç½®ï¼Œå…¶ä¸»è¦æ„æˆä¸ºï¼š</p>
<p>ï¼ˆ1ï¼‰Routerâ€”â€”å¯¹åº”è·¯ç”±çš„ä¸¤ç§æ¨¡å¼ï¼ŒåŒ…æ‹¬ä¸BrowserRouterä¸HashRouteï¼› </p>
<p>ï¼ˆ2ï¼‰route matchingç»„ä»¶â€”â€”æ§åˆ¶è·¯å¾„å¯¹åº”çš„æ˜¾ç¤ºç»„ä»¶ï¼Œå¯ä»¥è¿›è¡ŒåŒæ­¥åŠ è½½å’Œå¼‚æ­¥åŠ è½½ï¼› </p>
<p>ï¼ˆ3ï¼‰navigationç»„ä»¶â€”â€”ç”¨åšè·¯ç”±åˆ‡æ¢å’Œè·³è½¬ï¼›</p>
<p>BrowserRouterä¸HashRouterçš„åŒºåˆ«ï¼š</p>
<p>ï¼ˆ1ï¼‰åº•å±‚åŸç†ä¸ä¸€æ ·ï¼šBrowserRouterä½¿ç”¨çš„æ˜¯H5çš„history APIï¼Œä¸å…¼å®¹IE9åŠä»¥ä¸‹ç‰ˆæœ¬ï¼›HashRouterä½¿ç”¨çš„æ˜¯URLçš„å“ˆå¸Œå€¼ï¼›</p>
<p>ï¼ˆ2ï¼‰pathè¡¨ç°å½¢å¼ä¸ä¸€æ ·ï¼šBrowserRouterçš„è·¯å¾„ä¸­æ²¡æœ‰#,ä¾‹å¦‚ï¼šlocalhost:3000&#x2F;demo&#x2F;testï¼›HashRouterçš„è·¯å¾„åŒ…å«#,ä¾‹å¦‚ï¼šlocalhost:3000&#x2F;#&#x2F;demo&#x2F;testï¼› </p>
<p>ï¼ˆ3ï¼‰åˆ·æ–°åå¯¹è·¯ç”±stateå‚æ•°çš„å½±å“ï¼šBrowserRouteræ²¡æœ‰ä»»ä½•å½±å“ï¼Œå› ä¸ºstateä¿å­˜åœ¨historyå¯¹è±¡ä¸­ï¼›</p>
<p>reactç”Ÿæ€ä¸­è·¯ç”±é€šå¸¸æ˜¯ä½¿ç”¨react-routeræ¥è¿›è¡Œé…ç½®ï¼Œå…¶ä¸»è¦æ„æˆä¸ºï¼š </p>
<p>BrowserRouterä¸HashRouterçš„åŒºåˆ«ï¼šHashRouteråˆ·æ–°åä¼šå¯¼è‡´è·¯ç”±stateå‚æ•°çš„ä¸¢å¤±ï¼›</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-èŠèŠ-Redux-å’Œ-Vuex-çš„è®¾è®¡æ€æƒ³"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-èŠèŠ-Redux-å’Œ-Vuex-çš„è®¾è®¡æ€æƒ³" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ èŠèŠ Redux å’Œ Vuex çš„è®¾è®¡æ€æƒ³"></a>â™¥ï¸â™¥ï¸â™¥ï¸ èŠèŠ Redux å’Œ Vuex çš„è®¾è®¡æ€æƒ³</h3><p>Fluxçš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯æ•°æ®å’Œé€»è¾‘æ°¸è¿œå•å‘æµåŠ¨ï¼Œç”±ä¸‰å¤§éƒ¨åˆ†ç»„æˆ dispatcher(è´Ÿè´£åˆ†å‘äº‹ä»¶),store(è´Ÿè´£ä¿å­˜æ•°æ®ï¼ŒåŒæ—¶å“åº”äº‹ä»¶å¹¶æ›´æ–°æ•°æ®)å’Œ view(è´Ÿè´£è®¢é˜…storeä¸­çš„æ•°æ®ï¼Œå¹¶ä½¿ç”¨è¿™äº›æ•°æ®æ¸²æŸ“ç›¸åº”çš„é¡µé¢)ï¼ŒReduxå’ŒVuexæ˜¯fluxæ€æƒ³çš„å…·ä½“å®ç°ï¼Œéƒ½æ˜¯ç”¨æ¥åšçŠ¶æ€ç®¡ç†çš„å·¥å…·ï¼ŒReduxä¸»è¦åœ¨reactä¸­ä½¿ç”¨ï¼ŒVuexä¸»è¦åœ¨vueä¸­ä½¿ç”¨ã€‚</p>
<pre><code class="css">Reduxè®¾è®¡å’Œä½¿ç”¨çš„ä¸‰å¤§åŸåˆ™ï¼š 
ï¼ˆ1ï¼‰å•ä¸€çš„æ•°æ®æºï¼šæ•´ä¸ªåº”ç”¨çš„ stateè¢«å‚¨å­˜åœ¨å”¯ä¸€ä¸€ä¸ª storeä¸­ï¼› 
ï¼ˆ2ï¼‰çŠ¶æ€æ˜¯åªè¯»çš„ï¼šStore.stateä¸èƒ½ç›´æ¥ä¿®æ”¹ï¼ˆåªè¯»ï¼‰ï¼Œå¿…é¡»è°ƒç”¨dispatch(action) =&gt; store.reducer =&gt; return newStateï¼›actionæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæœ‰typeï¼ˆæ“ä½œç±»å‹ï¼‰å’Œpayloadï¼ˆæ–°å€¼ï¼‰ å±æ€§ï¼›
ï¼ˆ3ï¼‰çŠ¶æ€ä¿®æ”¹å‡ç”±çº¯å‡½æ•°å®Œæˆï¼šåœ¨Reduxä¸­ï¼Œé€šè¿‡çº¯å‡½æ•°reduceræ¥ç¡®å®šçŠ¶æ€çš„æ”¹å˜ï¼Œå› ä¸ºreduceræ˜¯çº¯ å‡½æ•°ï¼Œæ‰€ä»¥ç›¸åŒçš„è¾“å…¥ï¼Œä¸€å®šä¼šå¾—åˆ°ç›¸åŒçš„è¾“å‡ºï¼ŒåŒæ—¶ä¹Ÿä¸æ”¯æŒå¼‚æ­¥ï¼›è¿”å›å€¼æ˜¯ä¸€ä¸ªå…¨æ–°çš„stateï¼› 

vuexç”±State + Muatations(commit) + Actions(dispatch) ç»„æˆï¼š 
ï¼ˆ1ï¼‰å…¨å±€åªæœ‰ä¸€ä¸ªStoreå®ä¾‹ï¼ˆå•ä¸€æ•°æ®æºï¼‰ï¼›
ï¼ˆ2ï¼‰Mutationså¿…é¡»æ˜¯åŒæ­¥äº‹åŠ¡ï¼Œä¸åŒæ­¥ä¿®æ”¹çš„è¯ï¼Œä¼šå¾ˆéš¾è°ƒè¯•ï¼Œä¸çŸ¥é“æ”¹å˜ä»€ä¹ˆæ—¶å€™å‘ç”Ÿï¼Œä¹Ÿå¾ˆéš¾ç¡®å®š å…ˆåé¡ºåºï¼ŒAã€Bä¸¤ä¸ªmutationï¼Œè°ƒç”¨é¡ºåºå¯èƒ½æ˜¯A -&gt; Bï¼Œä½†æ˜¯æœ€ç»ˆæ”¹å˜ Stateçš„ç»“æœå¯èƒ½æ˜¯B -&gt; Aï¼› 
ï¼ˆ3ï¼‰Actionsè´Ÿè´£å¤„ç†å¼‚æ­¥äº‹åŠ¡ï¼Œç„¶ååœ¨å¼‚æ­¥å›è°ƒä¸­è§¦å‘ä¸€ä¸ªæˆ–å¤šä¸ªmutationsï¼Œä¹Ÿå¯ä»¥åœ¨ä¸šåŠ¡ä»£ç ä¸­å¤„ ç†å¼‚æ­¥äº‹åŠ¡ï¼Œç„¶ååœ¨å›è°ƒä¸­åŒæ ·æ“ä½œï¼› 
ï¼ˆ4ï¼‰æ¨¡å—åŒ–é€šè¿‡moduleæ–¹å¼æ¥å¤„ç†ï¼Œè¿™ä¸ªè·ŸRedux-combineReducerç±»ä¼¼ï¼Œåœ¨åº”ç”¨ä¸­å¯ä»¥é€šè¿‡ namespaceHelperæ¥ç®€åŒ–ä½¿ç”¨ï¼›
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-Reactä¸­ä¸åŒç»„ä»¶ä¹‹é—´å¦‚ä½•åšåˆ°æ•°æ®äº¤äº’ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-Reactä¸­ä¸åŒç»„ä»¶ä¹‹é—´å¦‚ä½•åšåˆ°æ•°æ®äº¤äº’ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸  Reactä¸­ä¸åŒç»„ä»¶ä¹‹é—´å¦‚ä½•åšåˆ°æ•°æ®äº¤äº’ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸  Reactä¸­ä¸åŒç»„ä»¶ä¹‹é—´å¦‚ä½•åšåˆ°æ•°æ®äº¤äº’ï¼Ÿ</h3><h4 id="æ­£å‘ä¼ å€¼â€“ä½¿ç”¨-props"><a href="#æ­£å‘ä¼ å€¼â€“ä½¿ç”¨-props" class="headerlink" title="æ­£å‘ä¼ å€¼â€“ä½¿ç”¨ props"></a>æ­£å‘ä¼ å€¼â€“ä½¿ç”¨ props</h4><p>çˆ¶ç»„ä»¶å‘é€æ•°æ®åœ¨å­ç»„ä»¶ä¸­ä½¿ç”¨ this.props.xxx æ¥æ¥æ”¶æ•°æ®ï¼Œå¦‚æœçˆ¶çº§çš„æŸä¸ªprops æ”¹å˜äº†ï¼ŒReact ä¼šé‡æ¸²æŸ“æ‰€æœ‰çš„å­èŠ‚ç‚¹</p>
<h4 id="é€†å‘ä¼ å€¼â€”å‡½æ•°ä¼ å€¼"><a href="#é€†å‘ä¼ å€¼â€”å‡½æ•°ä¼ å€¼" class="headerlink" title="é€†å‘ä¼ å€¼â€”å‡½æ•°ä¼ å€¼"></a>é€†å‘ä¼ å€¼â€”å‡½æ•°ä¼ å€¼</h4><ul>
<li>å­ç»„ä»¶é€šè¿‡äº‹ä»¶è°ƒç”¨å‡½æ•°ä¼ é€’</li>
<li>åœ¨å­ç»„ä»¶ä¸­ä½¿ç”¨ this.propsè°ƒç”¨çš„å‡½æ•°åç»‘å®šå‘é€æ•°æ®ã€‚</li>
<li>åœ¨çˆ¶ç»„ä»¶ä¸­è¿›è¡Œå‡½æ•°ä¼ é€’ã€‚</li>
<li>çˆ¶ç»„ä»¶ä¸­å¿…é¡»è¦æœ‰ä¸€ä¸ªå½¢å‚ç”¨æ¥æ¥æ”¶å­ç»„ä»¶å‘é€è¿‡æ¥çš„æ•°æ®ã€‚</li>
</ul>
<h4 id="åŒçº§ä¼ å€¼â€”pubsub-js"><a href="#åŒçº§ä¼ å€¼â€”pubsub-js" class="headerlink" title="åŒçº§ä¼ å€¼â€”pubsub-js"></a>åŒçº§ä¼ å€¼â€”pubsub-js</h4><ul>
<li>åœ¨ç¬¬ä¸€ä¸ªè¦ä¼ å€¼çš„ç»„ä»¶ä¸­è¿›è¡Œæ•°æ®æŠ›å‡º PubSub.publish(â€œ äº‹ä»¶åâ€,â€æ•°æ®â€)ã€‚</li>
<li>åœ¨ç¬¬äºŒä¸ªè¦æ¥æ”¶æ•°æ®çš„ç»„ä»¶ä¸­æ¥æ”¶ PubSub.subscribe(â€œç›‘å¬çš„äº‹ä»¶â€,(äº‹ä»¶,æ•° æ®)&#x3D;&gt;{})ã€‚</li>
</ul>
<h4 id="è·¨ç»„ä»¶ä¼ å€¼â€”context"><a href="#è·¨ç»„ä»¶ä¼ å€¼â€”context" class="headerlink" title="è·¨ç»„ä»¶ä¼ å€¼â€”context"></a>è·¨ç»„ä»¶ä¼ å€¼â€”context</h4><p>context ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œæ— éœ€ä¸ºæ¯ä¸€å±‚ç»„ä»¶æ‰‹åŠ¨æ·»åŠ  propsï¼Œå°±èƒ½åœ¨ç»„ä»¶æ•°é—´è¿›è¡Œæ•°æ®ä¼ é€’çš„æ–¹æ³•ã€‚<br>ä½¿ç”¨ createContext()æ–¹æ³•æä¾›äº†ä¸¤ä¸ªå¯¹è±¡ - Provider å¯¹è±¡ç”Ÿäº§è€…â€”-&gt;ç”¨æ¥ç”Ÿäº§æ•°æ® - Consumerå¯¹è±¡æ¶ˆè´¹è€…â€”-&gt;ç”¨æ¥ä½¿ç”¨æ•°æ®ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-Reactä¸­refsçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-Reactä¸­refsçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ Reactä¸­refsçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ Reactä¸­refsçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p> refæ˜¯Reactæä¾›çš„ç”¨æ¥æ“çºµReactç»„ä»¶å®ä¾‹æˆ–è€…DOMå…ƒç´ çš„æ¥å£ã€‚ä¸»è¦ç”¨æ¥åšæ–‡æœ¬æ¡†çš„èšç„¦ã€è§¦å‘å¼ºåˆ¶åŠ¨ç”»ç­‰ï¼›</p>
<pre><code class="javascript">//ç±»ç»„ä»¶
class Foo extends React.Component &#123;
   constructor(props) &#123;
 super(props)
 this.myRef = React.createRef()
 &#125;
 render() &#123;
 return &#125;
  
&lt;input ref=&#123; this.myRef &#125; /&gt; &lt;button onClick = &#123;()=&gt;this.handle()&#125;&gt;èšç„¦
&#125; 
handle() &#123; 
 // é€šè¿‡currentå±æ€§è®¿é—®åˆ°å½“å‰å…ƒç´  this.myRef.current.focus() 
&#125; 
// å‡½æ•°ç»„ä»¶ function
Foo() &#123; const inputEl = useRef(null) const handle = () =&gt; &#123; inputEl.current.focus() &#125; 
return
&lt;input type=&quot;text&quot; ref=&#123; inputEl &#125;/&gt; èšç„¦&#125;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ç»„ä»¶ç»‘å®šå’ŒjsåŸç”Ÿç»‘å®šäº‹ä»¶å“ªä¸ªå…ˆæ‰§è¡Œï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ç»„ä»¶ç»‘å®šå’ŒjsåŸç”Ÿç»‘å®šäº‹ä»¶å“ªä¸ªå…ˆæ‰§è¡Œï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ç»„ä»¶ç»‘å®šå’ŒjsåŸç”Ÿç»‘å®šäº‹ä»¶å“ªä¸ªå…ˆæ‰§è¡Œï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ç»„ä»¶ç»‘å®šå’ŒjsåŸç”Ÿç»‘å®šäº‹ä»¶å“ªä¸ªå…ˆæ‰§è¡Œï¼Ÿ</h3><p> å…ˆæ‰§è¡ŒjsåŸç”Ÿç»‘å®šäº‹ä»¶ï¼Œå†æ‰§è¡Œåˆæˆäº‹ä»¶ï¼Œå› ä¸ºåˆæˆäº‹ä»¶æ˜¯å‘ç”Ÿåœ¨å†’æ³¡é˜¶æ®µ</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-diff-å’Œ-Key-ä¹‹é—´çš„è”ç³»"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-diff-å’Œ-Key-ä¹‹é—´çš„è”ç³»" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ diff å’Œ Key ä¹‹é—´çš„è”ç³»"></a>â™¥ï¸â™¥ï¸â™¥ï¸ diff å’Œ Key ä¹‹é—´çš„è”ç³»</h3><p>diffç®—æ³•å³å·®å¼‚æŸ¥æ‰¾ç®—æ³•ï¼Œå¯¹äºDOMç»“æ„å³ä¸ºtreeçš„å·®å¼‚æŸ¥æ‰¾ç®—æ³•ï¼Œåªæœ‰åœ¨Reactæ›´æ–°é˜¶æ®µæ‰ä¼šæœ‰Diffç®—æ³•çš„è¿ç”¨ï¼›reactçš„diffè¿ç®—ä¸ºäº†é™ä½æ—¶é—´å¤æ‚åº¦ï¼Œæ˜¯æŒ‰å±‚æ¯”è¾ƒæ–°æ—§ä¸¤ä¸ªè™šæ‹Ÿdomæ ‘çš„ã€‚diffè¿ç®—çš„ä¸»è¦æµç¨‹è§ä¸‹ï¼š</p>
<pre><code class="css">1ã€tree diff : æ–°æ—§ä¸¤æ£µdomæ ‘ï¼Œé€å±‚å¯¹æ¯”çš„è¿‡ç¨‹å°±æ˜¯ tree diff, å½“æ•´æ£µDOMæ ‘é€å±‚å¯¹æ¯”å®Œæ¯•ï¼Œåˆ™æ‰€æœ‰éœ€è¦è¢«æŒ‰éœ€æ›´æ–°çš„å…ƒç´ ï¼Œå¿…ç„¶èƒ½å¤Ÿè¢«æ‰¾åˆ°ã€‚ 
2ã€component diff ï¼š åœ¨è¿›è¡Œtree diffçš„æ—¶å€™ï¼Œæ¯ä¸€å±‚ä¸­ï¼Œéƒ½æœ‰è‡ªå·±çš„ç»„ä»¶ï¼Œç»„ä»¶çº§åˆ«çš„å¯¹æ¯”ï¼Œ å«åš component diffã€‚å¦‚æœå¯¹æ¯”å‰åï¼Œç»„ä»¶çš„ç±»å‹ç›¸åŒï¼Œåˆ™æš‚æ—¶è®¤ä¸ºæ­¤ç»„ä»¶ä¸éœ€è¦æ›´æ–°ï¼›å¦‚æœå¯¹æ¯”å‰åï¼Œ ç»„ä»¶çš„ç±»å‹ä¸åŒï¼Œåˆ™éœ€è¦ç§»é™¤æ—§ç»„ä»¶ï¼Œåˆ›å»ºæ–°ç»„ä»¶ï¼Œå¹¶æ¸²æŸ“åˆ°é¡µé¢ä¸Šã€‚ Reactåªä¼šåŒ¹é…ç±»å‹ç›¸åŒçš„ç»„ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœ&lt;A&gt;è¢«&lt;B&gt;æ›¿æ¢ï¼Œé‚£ä¹ˆReactå°†ç›´æ¥åˆ é™¤Aç»„ä»¶ç„¶ååˆ›å»ºä¸€ ä¸ªBç»„ä»¶ï¼›å¦‚æœæŸç»„ä»¶Aè½¬ç§»åˆ°åŒå±‚Bç»„ä»¶ä¸Šï¼Œé‚£ä¹ˆè¿™ä¸ªAç»„ä»¶ä¼šå…ˆè¢«é”€æ¯ï¼Œç„¶ååœ¨Bç»„ä»¶ä¸‹é‡æ–°ç”Ÿæˆï¼Œä»¥Aä¸ºæ ¹èŠ‚ ç‚¹çš„æ ‘æ•´ä¸ªéƒ½è¢«é‡æ–°åˆ›å»ºï¼Œè¿™ä¼šæ¯”è¾ƒè€—è´¹æ€§èƒ½ï¼Œä½†å®é™…ä¸Šæˆ‘ä»¬å¾ˆå°‘è·¨å±‚ç§»åŠ¨domèŠ‚ç‚¹ï¼Œä¸€èˆ¬éƒ½æ˜¯åŒå±‚æ¨ªå‘ç§»åŠ¨ï¼› 
3ã€element diff ï¼šåœ¨è¿›è¡Œç»„ä»¶å¯¹æ¯”çš„æ—¶å€™ï¼Œå¦‚æœä¸¤ä¸ªç»„ä»¶ç±»å‹ç›¸åŒï¼Œåˆ™éœ€è¦è¿›è¡Œå…ƒç´ çº§åˆ«çš„å¯¹æ¯”ï¼Œ è¿™å«åšelement diffã€‚ å¯¹äºåˆ—è¡¨æ¸²æŸ“ï¼Œreactä¼šåœ¨åˆ›å»ºæ—¶è¦æ±‚ä¸ºæ¯ä¸€é¡¹è¾“å…¥ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„keyï¼Œè¿™æ ·å°±èƒ½è¿›è¡Œé«˜æ•ˆçš„diffè¿ç®— äº†ã€‚æ¯”å¦‚æˆ‘ä»¬è¦åœ¨bå’ŒcèŠ‚ç‚¹ä¸­é—´æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹fï¼Œjqueryä¼šå°†fè¿™ä¸ªèŠ‚ç‚¹åé¢çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½è¿›è¡Œæ›´æ–°ï¼Œæ¯”å¦‚c æ›´æ–°æˆfï¼Œdæ›´æ–°æˆcï¼Œeæ›´æ–°æˆdï¼Œè¿™æ ·æ“ä½œçš„è¯å°±ä¼šç‰¹åˆ«å¤šï¼Œè€ŒåŠ äº†keyçš„reactå’‹ä¸ä¼šé¢‘ç¹æ“ä½œdomï¼Œè€Œæ˜¯ä¼˜å…ˆé‡‡ç”¨ç§»åŠ¨çš„æ–¹å¼ï¼Œæ‰¾åˆ°æ­£ç¡®çš„ä½ç½®å»æ’å…¥æ–°èŠ‚ç‚¹ï¼›æ‰€ä»¥æˆ‘ä»¬ä¸èƒ½çœç•¥keyå€¼ï¼Œå› ä¸ºåœ¨å¯¹æ¯”ä¸¤ä¸ªæ–°æ—§çš„å­å…ƒç´ æ˜¯é€šè¿‡keyå€¼æ¥ç²¾ç¡®åœ°åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦ä¸ºåŒä¸€ä¸ªï¼Œå¦‚æœæ²¡æœ‰keyçš„è¯åˆ™æ˜¯è§åˆ°è°å°±æ›´æ–°è°ï¼Œéå¸¸è€—è´¹æ€§èƒ½ã€‚ 

å½“æˆ‘ä»¬é€šè¿‡this.setState()æ”¹å˜æ•°æ®çš„æ—¶å€™ï¼ŒReactä¼šå°†å…¶æ ‡è®°ä¸ºè„èŠ‚ç‚¹ï¼Œåœ¨äº‹ä»¶å¾ªç¯çš„æœ€å æ‰ä¼šé‡æ–°æ¸²æŸ“æ‰€æœ‰çš„è„èŠ‚ç‚¹ä»¥åŠè„èŠ‚ç‚¹çš„å­æ ‘ï¼›å¦å¤–æˆ‘ä»¬å¯ä»¥ä½¿ç”¨shouldComponentUpdateè¿™ä¸ªç”Ÿå‘½å‘¨æœŸæ¥ é€‰æ‹©æ€§çš„æ¸²æŸ“å­æ ‘ï¼Œå¯ä»¥åŸºäºç»„ä»¶ä¹‹å‰çš„çŠ¶æ€æˆ–è€…ä¸‹ä¸€ä¸ªçŠ¶æ€æ¥å†³å®šå®ƒæ˜¯å¦éœ€è¦é‡æ–°æ¸²æŸ“ï¼Œè¿™æ ·çš„è¯å¯ä»¥ç»„ç»‡ é‡æ–°æ¸²æŸ“å¤§çš„å­æ ‘ã€‚
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-è™šæ‹Ÿ-dom-å’ŒåŸç”Ÿ-dom"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-è™šæ‹Ÿ-dom-å’ŒåŸç”Ÿ-dom" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ è™šæ‹Ÿ dom å’ŒåŸç”Ÿ dom"></a>â™¥ï¸â™¥ï¸â™¥ï¸ è™šæ‹Ÿ dom å’ŒåŸç”Ÿ dom</h3><p>ï¼ˆ1ï¼‰åŸç”Ÿdomæ˜¯æµè§ˆå™¨é€šè¿‡domæ ‘æ¸²æŸ“çš„å¤æ‚å¯¹è±¡ï¼Œå±æ€§éå¸¸å¤šï¼›</p>
<p> ï¼ˆ2ï¼‰è™šæ‹Ÿdomæ˜¯å­˜åœ¨äºå†…å­˜ä¸­çš„jså¯¹è±¡ï¼Œå±æ€§è¿œå°‘äºåŸç”Ÿçš„domå¯¹è±¡ï¼Œå®ƒç”¨æ¥æè¿°çœŸå®çš„domï¼Œå¹¶ä¸ä¼šç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºï¼›</p>
<p> ï¼ˆ3ï¼‰åŸç”Ÿdomæ“ä½œã€é¢‘ç¹æ’ç‰ˆä¸é‡ç»˜çš„æ•ˆç‡æ˜¯ç›¸å½“ä½çš„ï¼Œè™šæ‹Ÿdomåˆ™æ˜¯åˆ©ç”¨äº†è®¡ç®—æœºå†…å­˜é«˜æ•ˆçš„è¿ç®—æ€§èƒ½å‡å°‘äº†æ€§èƒ½çš„æŸè€—ï¼›</p>
<p> ï¼ˆ4ï¼‰è™šæ‹ŸDOMè¿›è¡Œé¢‘ç¹ä¿®æ”¹ï¼Œç„¶åä¸€æ¬¡æ€§æ¯”è¾ƒå¹¶ä¿®æ”¹çœŸå®DOMä¸­éœ€è¦æ”¹çš„éƒ¨åˆ†ï¼Œæœ€åå¹¶åœ¨çœŸå®DOMä¸­å¯¹ä¿®æ”¹éƒ¨åˆ†è¿›è¡Œæ’ç‰ˆä¸é‡ç»˜ï¼Œå‡å°‘è¿‡å¤šDOMèŠ‚ç‚¹æ’ç‰ˆä¸é‡ç»˜æŸè€—</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-reactä¸­å¦‚ä½•æ‰“åŒ…ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-reactä¸­å¦‚ä½•æ‰“åŒ…ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ reactä¸­å¦‚ä½•æ‰“åŒ…ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶"></a>â™¥ï¸â™¥ï¸â™¥ï¸ reactä¸­å¦‚ä½•æ‰“åŒ…ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶</h3><p>é€šè¿‡ base64 å‰ç«¯å¤„ç†å›¾ç‰‡ä¸º base64 çš„è§£å†³æ–¹æ¡ˆ</p>
<ul>
<li>åˆ©ç”¨ FileReader å¯¹æ•°æ®è¿›è¡Œè¯»å–ï¼Œå¦‚æœæ˜¯å›¾ç‰‡ä¼šå°†å›¾ç‰‡è¯»å–ä¸º base64 çš„å½¢å¼</li>
<li>å°†å¾—åˆ°çš„ base64 çš„å­—ç¬¦ä¸²ä¼ ç»™åç«¯</li>
<li>åç«¯ç›´æ¥ä¿å­˜è¯¥htmlå­—ç¬¦ä¸²ï¼Œä¹‹åè°ƒç”¨æ¥å£æŸ¥è¯¢è¯¥æ•°æ®ç›´æ¥å‰ç«¯é€šè¿‡imgæ ‡ç­¾å®Œæˆè‡ªåŠ¨è§£æå³å¯</li>
</ul>
<p>ä»£ç å®ç°ï¼š</p>
<pre><code class="react">function App() &#123;
  const handleFileChange = e =&gt; &#123;
    const file = e.currentTarget.files[0];
    const reader = new FileReader();

    reader.onload = function() &#123;
      // reader.resultså½“å®Œæˆonloadåä¼šå°†å›¾ç‰‡è½¬ä¸ºbase64
      // åç«¯åªè¦è§£æbase64å¯¹åº”çš„å­—ç¬¦ä¸²å³å¯
      const result = this.result;
      console.log(result);
    &#125;;

    reader.readAsDataURL(file); // å¾—åˆ°ç»è¿‡base64ç¼–ç çš„å›¾ç‰‡ä¿¡æ¯
  &#125;;

  return (
    &lt;div className=&quot;App&quot;&gt;
      &lt;input type=&quot;file&quot; onChange=&#123;handleFileChange&#125; /&gt;
    &lt;/div&gt;
  );
&#125;
</code></pre>
<p>åˆ©ç”¨input,xhr,formDataæ¥å®ç°</p>
<ul>
<li>åˆ©ç”¨input[type&#x3D;â€˜fileâ€™]æ¥å®ç°</li>
<li>ç‚¹å‡»é€‰æ‹©æ–‡ä»¶ï¼Œä¸”é€‰æ‹©æ–‡ä»¶å®Œæ¯•åï¼Œè§¦å‘onChangeäº‹ä»¶</li>
<li>é€šè¿‡event.targer.files(reactä¸­)è·å–æ‰€é€‰æ–‡ä»¶</li>
<li>é€šè¿‡FormDataè¿™ä¸ªç±»ï¼Œå°†æ–‡ä»¶æ·»åŠ åˆ°å…¶å®ä¾‹ä¸­</li>
<li>é…ç½®xhrï¼Œé€šè¿‡POSTçš„æ–¹å¼å‘é€formDataåˆ°åç«¯å³å¯</li>
</ul>
<p>ä»£ç å®ç°ï¼š</p>
<pre><code class="react">import React, &#123; useState &#125; from &#39;react&#39;;
import &#123; ApiHost &#125; from &#39;../../constant&#39;;
import &#123; Button, FormControl, Progress &#125; from &#39;zent&#39;;

export type UploadCompletCallback&lt;T&gt; = (
  e: ProgressEvent&lt;XMLHttpRequestEventTarget&gt;,
  reponse: T
) =&gt; void;

export type UploadStartCallback = (
  e: ProgressEvent&lt;XMLHttpRequestEventTarget&gt;
) =&gt; void;

export type UploadProcessCallback = (loaded: number, total: number) =&gt; void;

interface Props &#123;
  onComplete?: UploadCompletCallback&lt;any&gt;;
  onStart?: UploadStartCallback;
  onProcess?: UploadProcessCallback;
  hasProcess?: boolean;
  title: string;
&#125;

export const UploadBtn: React.FC&lt;Props&gt; = props =&gt; &#123;
  const &#123; onComplete, onStart, onProcess, hasProcess = false, title &#125; = props;
  const [progress, setProgress] = useState&lt;number&gt;(0);
  const [uploadStatus, setStatus] = useState&lt;boolean&gt;(false);

  // å¤„ç†æ–‡ä»¶ä¸Šä¼ çš„æ ¸å¿ƒæ–¹æ³•
  const handleChange = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; &#123;
    const files = e.target.files;

    if (files) &#123;
      if (!files.length) return;

  // å°†æ–‡ä»¶å¤„ç†æˆformData
      let formData = new FormData();
      for (let k in files) &#123;
        formData.append(&#39;file&#39;, files[k], window.encodeURI(files[k].name));
      &#125;

      let xhr = new XMLHttpRequest();

      xhr.responseType = &#39;json&#39;;
      xhr.timeout = 5000;
      xhr.open(&#39;POST&#39;, `$&#123;ApiHost&#125;/user/upload`, true);

   // äº‹ä»¶ç›‘å¬
      xhr.addEventListener(&#39;loadstart&#39;, e =&gt; &#123;
        setProgress(0);
        setStatus(true);
        onStart &amp;&amp; onStart(e);
      &#125;);

      xhr.upload.onprogress = function(e) &#123;
        const &#123; total, loaded &#125; = e;
        setProgress((loaded / total) * 100);
        onProcess &amp;&amp; onProcess(loaded, total);
      &#125;;

      xhr.addEventListener(&#39;load&#39;, e =&gt; &#123;
        const result = xhr.response;
        onComplete &amp;&amp; onComplete(e, result);
      &#125;);

      xhr.send(formData);
    &#125; else &#123;
      return;
    &#125;
  &#125;;

  const selectFile = () =&gt; &#123;
    const btn = document.querySelector(&quot;input[type=&#39;file&#39;]&quot;);
    
 //@ts-ignore
    btn &amp;&amp; btn.click();
  &#125;;
  return (
    &lt;FormControl label=&#123;title&#125;&gt;
      &lt;input type=&quot;file&quot; onChange=&#123;handleChange&#125; style=&#123;&#123; display: 'none' &#125;&#125; /&gt;
      &lt;Button onClick=&#123;selectFile&#125;&gt;ä¸Šä¼ &lt;/Button&gt;
      &#123;hasProcess &amp;&amp; uploadStatus &amp;&amp; &lt;Progress percent=&#123;progress&#125;&gt;&lt;/Progress&gt;&#125;
    &lt;/FormControl&gt;
  );
&#125;;
</code></pre>
<p>åç«¯å¯¹äºè¯¥æ–‡ä»¶ä¸Šä¼ è¯·æ±‚çš„å¤„ç†nodejsç‰ˆæœ¬</p>
<p>ä¸»è¦æ­¥éª¤ï¼š</p>
<ul>
<li>åˆ©ç”¨fs.createReadStream æ¥è¯»å–æœ¬åœ°çš„ä¼ è¿‡å»æ–‡ä»¶çš„åœ°å€</li>
<li>åˆ©ç”¨fs.createWriteStreamæ¥å†™åˆ°æœåŠ¡å™¨ä¸Šçš„æŸä¸ªæ–‡ä»¶åœ°å€</li>
<li>é€šè¿‡reader.pipeæ¥å°†readFileé‡Œé¢çš„å†…å®¹å¤åˆ¶åˆ°writeFileä¸­</li>
</ul>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-å¯¹å•å‘æ•°æ®æµå’ŒåŒå‘æ•°æ®ç»‘å®šçš„ç†è§£ï¼Œå¥½å¤„ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-å¯¹å•å‘æ•°æ®æµå’ŒåŒå‘æ•°æ®ç»‘å®šçš„ç†è§£ï¼Œå¥½å¤„ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ å¯¹å•å‘æ•°æ®æµå’ŒåŒå‘æ•°æ®ç»‘å®šçš„ç†è§£ï¼Œå¥½å¤„ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ å¯¹å•å‘æ•°æ®æµå’ŒåŒå‘æ•°æ®ç»‘å®šçš„ç†è§£ï¼Œå¥½å¤„ï¼Ÿ</h3><p>reactçš„å•å‘æ•°æ®æµæ˜¯æŒ‡åªå…è®¸çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œå­ç»„ä»¶ç»å¯¹ä¸èƒ½ä¿®æ”¹çˆ¶ç»„ä»¶ä¼ çš„æ•°æ®ï¼Œå¦‚æœæƒ³è¦ä¿®æ”¹æ•°æ®ï¼Œåˆ™è¦åœ¨å­ç»„ä»¶ä¸­æ‰§è¡Œçˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å›è°ƒå‡½æ•°ï¼Œæé†’çˆ¶ç»„ä»¶å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹ã€‚æ•°æ®å•å‘æµè®©æ‰€æœ‰çš„çŠ¶æ€æ”¹å˜å¯ä»¥è¿½æº¯ï¼Œæœ‰åˆ©äºåº”ç”¨çš„å¯ç»´æŠ¤æ€§ï¼›</p>
<p> angularä¸­å®ç°äº†åŒå‘æ•°æ®ç»‘å®šï¼Œä»£ç ç¼–å†™æ–¹ä¾¿ï¼Œä½†æ˜¯ä¸åˆ©äºç»´æŠ¤</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-React-æŒ‰éœ€åŠ è½½"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-React-æŒ‰éœ€åŠ è½½" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ React æŒ‰éœ€åŠ è½½"></a>â™¥ï¸â™¥ï¸â™¥ï¸ React æŒ‰éœ€åŠ è½½</h3><p>1ã€ä½¿ç”¨React.lazyï¼Œ ä½†æ˜¯React.lazyæŠ€æœ¯è¿˜ä¸æ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“</p>
<pre><code class="react">const OtherComponent = React.lazy(() =&gt; import(&#39;./OtherComponent&#39;))
</code></pre>
<p>2ã€ä½¿ç”¨Loadable Componentsè¿™ä¸ªåº“</p>
<pre><code class="react">import loadable from &#39;@loadable/component&#39;
const OtherComponent = loadable(() =&gt; import(&#39;./OtherComponent&#39;))
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-React-å®ç°ç›®å½•æ ‘ï¼ˆç»„ä»¶è‡ªèº«è°ƒç”¨è‡ªèº«ï¼‰"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-React-å®ç°ç›®å½•æ ‘ï¼ˆç»„ä»¶è‡ªèº«è°ƒç”¨è‡ªèº«ï¼‰" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ React å®ç°ç›®å½•æ ‘ï¼ˆç»„ä»¶è‡ªèº«è°ƒç”¨è‡ªèº«ï¼‰"></a>â™¥ï¸â™¥ï¸â™¥ï¸ React å®ç°ç›®å½•æ ‘ï¼ˆç»„ä»¶è‡ªèº«è°ƒç”¨è‡ªèº«ï¼‰</h3><p>éœ€æ±‚æè¿°ï¼šå®ç°nçº§å±æ€§ç›®å½•å±•å¼€ï¼Œè¯¥å®ç°ä½¿ç”¨reactï¼Œantd-mobile</p>
<h4 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h4><pre><code class="react">import TreesMenu from &quot;./treeMenu.jsx&quot;;
&lt;TreesMenu
       datas=&#123;treesData&#125;
       onselected=&#123;item =&gt; &#123;
           console.log(&quot;é€‰æ‹©äº†æ ‘å½¢ç›®å½•çš„æ•°æ®ï¼š&quot;, item);
       &#125;&#125;
&gt;&lt;/TreesMenu&gt;
</code></pre>
<h4 id="å®ç°æ•°æ®"><a href="#å®ç°æ•°æ®" class="headerlink" title="å®ç°æ•°æ®"></a>å®ç°æ•°æ®</h4><pre><code class="react">export let treesData = [&#123;&quot;Childs&quot;:[&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ç­å­æˆå‘˜&quot;,&quot;ShortName&quot;:&quot;ç­å­æˆå‘˜&quot;,&quot;DeptCode&quot;:&quot;81&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408498041056&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;è°ƒç ”å‘˜&quot;,&quot;ShortName&quot;:&quot;è°ƒç ”å‘˜&quot;,&quot;DeptCode&quot;:&quot;82&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408531598048&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;å…šæ”¿åŠå…¬å®¤&quot;,&quot;ShortName&quot;:&quot;å…šæ”¿åŠå…¬å®¤&quot;,&quot;DeptCode&quot;:&quot;83&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408548375776&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;å…šæ”¿åŠå…¬å®¤ï¼ˆè´¢åŠ¡ï¼‰&quot;,&quot;ShortName&quot;:&quot;å…šæ”¿åŠå…¬å®¤ï¼ˆè´¢åŠ¡ï¼‰&quot;,&quot;DeptCode&quot;:&quot;84&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408581929184&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;å…šå»ºåŠå…¬å®¤&quot;,&quot;ShortName&quot;:&quot;å…šå»ºåŠå…¬å®¤&quot;,&quot;DeptCode&quot;:&quot;85&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408598709728&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;å¹³å®‰åŠå…¬å®¤&quot;,&quot;ShortName&quot;:&quot;å¹³å®‰åŠå…¬å®¤&quot;,&quot;DeptCode&quot;:&quot;86&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408615482336&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ä¿¡è®¿åŠå…¬å®¤&quot;,&quot;ShortName&quot;:&quot;ä¿¡è®¿åŠå…¬å®¤&quot;,&quot;DeptCode&quot;:&quot;87&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408632263392&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ç®¡ç†åŠå…¬å®¤&quot;,&quot;ShortName&quot;:&quot;ç®¡ç†åŠå…¬å®¤&quot;,&quot;DeptCode&quot;:&quot;88&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408649039584&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;è‡ªæ²»åŠå…¬å®¤&quot;,&quot;ShortName&quot;:&quot;è‡ªæ²»åŠå…¬å®¤&quot;,&quot;DeptCode&quot;:&quot;89&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408665815776&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ç»¼åˆäº‹åŠ¡åŠå…¬å®¤&quot;,&quot;ShortName&quot;:&quot;ç»¼åˆäº‹åŠ¡åŠå…¬å®¤&quot;,&quot;DeptCode&quot;:&quot;90&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408665819872&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ç›‘å¯ŸåŠå…¬å®¤&quot;,&quot;ShortName&quot;:&quot;ç›‘å¯ŸåŠå…¬å®¤&quot;,&quot;DeptCode&quot;:&quot;91&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408682596576&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;æ­¦è£…éƒ¨&quot;,&quot;ShortName&quot;:&quot;æ­¦è£…éƒ¨&quot;,&quot;DeptCode&quot;:&quot;92&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408699368672&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;å¸æ³•æ‰€&quot;,&quot;ShortName&quot;:&quot;å¸æ³•æ‰€&quot;,&quot;DeptCode&quot;:&quot;93&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408699371232&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;åŸè¿ä¸­å¿ƒ&quot;,&quot;ShortName&quot;:&quot;åŸè¿ä¸­å¿ƒ&quot;,&quot;DeptCode&quot;:&quot;94&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408716144864&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;å·¥ä¼š&quot;,&quot;ShortName&quot;:&quot;å·¥ä¼š&quot;,&quot;DeptCode&quot;:&quot;95&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408749699296&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;å›¢å§”&quot;,&quot;ShortName&quot;:&quot;å›¢å§”&quot;,&quot;DeptCode&quot;:&quot;96&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408749700320&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;å¦‡è”&quot;,&quot;ShortName&quot;:&quot;å¦‡è”&quot;,&quot;DeptCode&quot;:&quot;97&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408749703648&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;æˆ¿ç®¡åŠ&quot;,&quot;ShortName&quot;:&quot;æˆ¿ç®¡åŠ&quot;,&quot;DeptCode&quot;:&quot;98&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408749704672&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;å®‰ç›‘æ‰€&quot;,&quot;ShortName&quot;:&quot;å®‰ç›‘æ‰€&quot;,&quot;DeptCode&quot;:&quot;99&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408766480352&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;å…šå»ºæœåŠ¡ä¸­å¿ƒ&quot;,&quot;ShortName&quot;:&quot;å…šå»ºæœåŠ¡ä¸­å¿ƒ&quot;,&quot;DeptCode&quot;:&quot;100&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408783258080&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ç¤¾åŒºäº‹åŠ¡å—ç†ä¸­å¿ƒ&quot;,&quot;ShortName&quot;:&quot;ç¤¾åŒºäº‹åŠ¡å—ç†ä¸­å¿ƒ&quot;,&quot;DeptCode&quot;:&quot;101&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408816808672&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ç¤¾åŒºæ–‡åŒ–ä¸­å¿ƒ&quot;,&quot;ShortName&quot;:&quot;ç¤¾åŒºæ–‡åŒ–ä¸­å¿ƒ&quot;,&quot;DeptCode&quot;:&quot;102&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408917476576&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ç¤¾åŒºå­¦æ ¡&quot;,&quot;ShortName&quot;:&quot;ç¤¾åŒºå­¦æ ¡&quot;,&quot;DeptCode&quot;:&quot;103&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408951031264&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ç»¿åŒ–å¸‚å®¹&quot;,&quot;ShortName&quot;:&quot;ç»¿åŒ–å¸‚å®¹&quot;,&quot;DeptCode&quot;:&quot;104&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408951033824&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;å‘¨å®¶æ¸¡åŸç®¡ä¸­é˜Ÿ&quot;,&quot;ShortName&quot;:&quot;å‘¨å®¶æ¸¡åŸç®¡ä¸­é˜Ÿ&quot;,&quot;DeptCode&quot;:&quot;105&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408967806688&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;å•†ä¼š&quot;,&quot;ShortName&quot;:&quot;å•†ä¼š&quot;,&quot;DeptCode&quot;:&quot;106&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408967810016&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;å¼€å‘äººå‘˜&quot;,&quot;ShortName&quot;:&quot;å¼€å‘äººå‘˜&quot;,&quot;DeptCode&quot;:&quot;107&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073408967811040&#125;,&#123;&quot;Childs&quot;:[&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ä¸Šå—å…«æ‘&quot;,&quot;ShortName&quot;:&quot;ä¸Šå—å…«æ‘&quot;,&quot;DeptCode&quot;:&quot;109&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409034918368&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ä¸Šå—å››æ‘&quot;,&quot;ShortName&quot;:&quot;ä¸Šå—å››æ‘&quot;,&quot;DeptCode&quot;:&quot;110&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409051695840&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ä¸Šå—äº”æ‘&quot;,&quot;ShortName&quot;:&quot;ä¸Šå—äº”æ‘&quot;,&quot;DeptCode&quot;:&quot;111&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409068471776&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ä¸Šå—å…­æ‘&quot;,&quot;ShortName&quot;:&quot;ä¸Šå—å…­æ‘&quot;,&quot;DeptCode&quot;:&quot;112&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409102022368&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ä¸Šå—ä¸ƒæ‘&quot;,&quot;ShortName&quot;:&quot;ä¸Šå—ä¸ƒæ‘&quot;,&quot;DeptCode&quot;:&quot;113&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409118800352&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ä¸Šå—ä¹æ‘&quot;,&quot;ShortName&quot;:&quot;ä¸Šå—ä¹æ‘&quot;,&quot;DeptCode&quot;:&quot;114&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409135576544&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;é½æ²³ä¸€&quot;,&quot;ShortName&quot;:&quot;é½æ²³ä¸€&quot;,&quot;DeptCode&quot;:&quot;115&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409152353760&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;é½æ²³äºŒ&quot;,&quot;ShortName&quot;:&quot;é½æ²³äºŒ&quot;,&quot;DeptCode&quot;:&quot;116&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409152360928&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ä¸Šå—åæ‘1&quot;,&quot;ShortName&quot;:&quot;ä¸Šå—åæ‘1&quot;,&quot;DeptCode&quot;:&quot;117&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409169135840&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ä¸Šå—åäºŒæ‘&quot;,&quot;ShortName&quot;:&quot;ä¸Šå—åäºŒæ‘&quot;,&quot;DeptCode&quot;:&quot;118&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409185911520&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ä¸Šå—åæ‘2&quot;,&quot;ShortName&quot;:&quot;ä¸Šå—åæ‘2&quot;,&quot;DeptCode&quot;:&quot;119&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409202686432&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ä¸Šå—åä¸€æ‘&quot;,&quot;ShortName&quot;:&quot;ä¸Šå—åä¸€æ‘&quot;,&quot;DeptCode&quot;:&quot;120&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409219461344&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;éƒ½å¸‚åº­é™¢&quot;,&quot;ShortName&quot;:&quot;éƒ½å¸‚åº­é™¢&quot;,&quot;DeptCode&quot;:&quot;121&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409219466976&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;å·æ–°&quot;,&quot;ShortName&quot;:&quot;å·æ–°&quot;,&quot;DeptCode&quot;:&quot;122&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409236243680&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;é›ªé‡äºŒæ‘&quot;,&quot;ShortName&quot;:&quot;é›ªé‡äºŒæ‘&quot;,&quot;DeptCode&quot;:&quot;123&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409253021152&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ä¸Šå—èŠ±è‹‘&quot;,&quot;ShortName&quot;:&quot;ä¸Šå—èŠ±è‹‘&quot;,&quot;DeptCode&quot;:&quot;124&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409269798368&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;æ˜Œé‡ŒèŠ±å›­&quot;,&quot;ShortName&quot;:&quot;æ˜Œé‡ŒèŠ±å›­&quot;,&quot;DeptCode&quot;:&quot;125&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409286570976&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;æ’å¤§&quot;,&quot;ShortName&quot;:&quot;æ’å¤§&quot;,&quot;DeptCode&quot;:&quot;126&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409303348192&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ä¸Šå—ä¸‰æ‘&quot;,&quot;ShortName&quot;:&quot;ä¸Šå—ä¸‰æ‘&quot;,&quot;DeptCode&quot;:&quot;127&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409303353824&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ä¸Šå—ä¸€æ‘&quot;,&quot;ShortName&quot;:&quot;ä¸Šå—ä¸€æ‘&quot;,&quot;DeptCode&quot;:&quot;128&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409320130784&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ä¸Šå—äºŒæ‘&quot;,&quot;ShortName&quot;:&quot;ä¸Šå—äºŒæ‘&quot;,&quot;DeptCode&quot;:&quot;129&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409336908000&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;æ˜Œé‡Œäº”&quot;,&quot;ShortName&quot;:&quot;æ˜Œé‡Œäº”&quot;,&quot;DeptCode&quot;:&quot;130&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409353685728&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;äº‘å°ä¸€&quot;,&quot;ShortName&quot;:&quot;äº‘å°ä¸€&quot;,&quot;DeptCode&quot;:&quot;131&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409370462176&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;äº‘å°äºŒ&quot;,&quot;ShortName&quot;:&quot;äº‘å°äºŒ&quot;,&quot;DeptCode&quot;:&quot;132&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409387237344&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;äº‘è²ä¸€&quot;,&quot;ShortName&quot;:&quot;äº‘è²ä¸€&quot;,&quot;DeptCode&quot;:&quot;133&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409404012512&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;æ˜Œé‡Œä¸ƒ&quot;,&quot;ShortName&quot;:&quot;æ˜Œé‡Œä¸ƒ&quot;,&quot;DeptCode&quot;:&quot;134&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409420789472&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;åŠ¨è¿è”åˆ&quot;,&quot;ShortName&quot;:&quot;åŠ¨è¿è”åˆ&quot;,&quot;DeptCode&quot;:&quot;135&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409437567200&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;é½æ²³å››&quot;,&quot;ShortName&quot;:&quot;é½æ²³å››&quot;,&quot;DeptCode&quot;:&quot;146&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409487902688&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;é½æ²³ä¸‰&quot;,&quot;ShortName&quot;:&quot;é½æ²³ä¸‰&quot;,&quot;DeptCode&quot;:&quot;147&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409504677856&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;æ˜Œé‡Œå››&quot;,&quot;ShortName&quot;:&quot;æ˜Œé‡Œå››&quot;,&quot;DeptCode&quot;:&quot;148&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409521452768&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;é½æ²³å…«&quot;,&quot;ShortName&quot;:&quot;é½æ²³å…«&quot;,&quot;DeptCode&quot;:&quot;149&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409538229984&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;é½æ²³äº”&quot;,&quot;ShortName&quot;:&quot;é½æ²³äº”&quot;,&quot;DeptCode&quot;:&quot;150&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409555007968&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;é½æ²³ä¸ƒ&quot;,&quot;ShortName&quot;:&quot;é½æ²³ä¸ƒ&quot;,&quot;DeptCode&quot;:&quot;151&quot;,&quot;ParentID&quot;:2073409034918112,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409034918112,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409555013600&#125;],&quot;DeptName&quot;:&quot;å±…å§”ä¼š&quot;,&quot;ShortName&quot;:&quot;å±…å§”ä¼š&quot;,&quot;DeptCode&quot;:&quot;108&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409034918112&#125;,&#123;&quot;Childs&quot;:[&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;åŠå…¬å®¤&quot;,&quot;ShortName&quot;:&quot;åŠå…¬å®¤&quot;,&quot;DeptCode&quot;:&quot;137&quot;,&quot;ParentID&quot;:2073409437571296,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409437571296,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409437571552&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;äº‹åŠ¡æ‰€&quot;,&quot;ShortName&quot;:&quot;äº‹åŠ¡æ‰€&quot;,&quot;DeptCode&quot;:&quot;138&quot;,&quot;ParentID&quot;:2073409437571296,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409437571296,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409454343904&#125;],&quot;DeptName&quot;:&quot;é˜Ÿä¼å»ºè®¾åŠå…¬å®¤&quot;,&quot;ShortName&quot;:&quot;é˜Ÿä¼å»ºè®¾åŠå…¬å®¤&quot;,&quot;DeptCode&quot;:&quot;136&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409437571296&#125;,&#123;&quot;Childs&quot;:[&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;åŠå…¬å®¤&quot;,&quot;ShortName&quot;:&quot;åŠå…¬å®¤&quot;,&quot;DeptCode&quot;:&quot;140&quot;,&quot;ParentID&quot;:2073409454347232,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409454347232,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409454347488&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;æ…ˆå–„è¶…å¸‚&quot;,&quot;ShortName&quot;:&quot;æ…ˆå–„è¶…å¸‚&quot;,&quot;DeptCode&quot;:&quot;141&quot;,&quot;ParentID&quot;:2073409454347232,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409454347232,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409471121632&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;æ®‹è”&quot;,&quot;ShortName&quot;:&quot;æ®‹è”&quot;,&quot;DeptCode&quot;:&quot;142&quot;,&quot;ParentID&quot;:2073409454347232,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409454347232,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409471122656&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;è®¡ç”ŸåŠ&quot;,&quot;ShortName&quot;:&quot;è®¡ç”ŸåŠ&quot;,&quot;DeptCode&quot;:&quot;143&quot;,&quot;ParentID&quot;:2073409454347232,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409454347232,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409471124448&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;çˆ±å«åŠ&quot;,&quot;ShortName&quot;:&quot;çˆ±å«åŠ&quot;,&quot;DeptCode&quot;:&quot;144&quot;,&quot;ParentID&quot;:2073409454347232,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409454347232,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409487897568&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;è€é¾„åŠ&quot;,&quot;ShortName&quot;:&quot;è€é¾„åŠ&quot;,&quot;DeptCode&quot;:&quot;145&quot;,&quot;ParentID&quot;:2073409454347232,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409454347232,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409487900896&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;å±…å®¶å…»è€æœåŠ¡ä¸­å¿ƒ&quot;,&quot;ShortName&quot;:&quot;å±…å®¶å…»è€æœåŠ¡ä¸­å¿ƒ&quot;,&quot;DeptCode&quot;:&quot;152&quot;,&quot;ParentID&quot;:2073409454347232,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409454347232,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2080463921349388&#125;,&#123;&quot;Childs&quot;:[],&quot;DeptName&quot;:&quot;ç»¼åˆä¸ºè€æœåŠ¡ä¸­å¿ƒ&quot;,&quot;ShortName&quot;:&quot;ç»¼åˆä¸ºè€æœåŠ¡ä¸­å¿ƒ&quot;,&quot;DeptCode&quot;:&quot;153&quot;,&quot;ParentID&quot;:2073409454347232,&quot;Layer&quot;:2,&quot;Path&quot;:&quot;,0,1,2073409454347232,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2080464005240076&#125;],&quot;DeptName&quot;:&quot;æœåŠ¡åŠå…¬å®¤&quot;,&quot;ShortName&quot;:&quot;æœåŠ¡åŠå…¬å®¤&quot;,&quot;DeptCode&quot;:&quot;139&quot;,&quot;ParentID&quot;:1,&quot;Layer&quot;:1,&quot;Path&quot;:&quot;,0,1,&quot;,&quot;Sequence&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:0,&quot;ID&quot;:2073409454347232&#125;],&quot;DeptName&quot;:&quot;å‘¨å®¶æ¸¡è¡—é“åŠäº‹å¤„&quot;,&quot;ShortName&quot;:&quot;å‘¨å®¶æ¸¡è¡—é“åŠäº‹å¤„&quot;,&quot;DeptCode&quot;:&quot;SHRGBTRJJSYXGS &quot;,&quot;ParentID&quot;:0,&quot;Layer&quot;:0,&quot;Path&quot;:&quot;,0,&quot;,&quot;Sequence&quot;:11,&quot;LeaderID&quot;:0,&quot;ManagerID&quot;:0,&quot;IsEnabled&quot;:1,&quot;IsUnit&quot;:1,&quot;ID&quot;:1,&quot;SystemID&quot;:1&#125;];
</code></pre>
<h4 id="å®ç°ä»£ç "><a href="#å®ç°ä»£ç " class="headerlink" title="å®ç°ä»£ç "></a>å®ç°ä»£ç </h4><pre><code class="react">import React from &quot;react&quot;;
import &#123; Accordion, List &#125; from &quot;antd-mobile&quot;;

class TreesMenu extends React.Component &#123;
  render() &#123;
    let datas = this.props.datas;
    return (
      &lt;div&gt;
        &#123;datas instanceof Array ? (
          &lt;div&gt;
            &#123;datas.map((d, index) =&gt; &#123;
              return &lt;TreeNode datas=&#123;d&#125; key=&#123;index&#125; onselected=&#123;(item) =&gt; this.props.onselected(item)&#125;&gt;&lt;/TreeNode&gt;;
            &#125;)&#125;
          &lt;/div&gt;
        ) : (
          &lt;div&gt;è¯·ä¼ å…¥æ­£ç¡®æ ¼å¼&lt;/div&gt;
        )&#125;
      &lt;/div&gt;
    );
  &#125;
&#125;

export default TreesMenu;

class TreeNode extends React.Component &#123;
  renderItems(datas) &#123;
    return (
      &lt;List className=&quot;my-list&quot;&gt;
        &lt;List.Item&gt;content 1&lt;/List.Item&gt;
        &lt;List.Item&gt;content 2&lt;/List.Item&gt;
        &lt;List.Item&gt;content 3&lt;/List.Item&gt;
      &lt;/List&gt;
    );
  &#125;
  render() &#123;
    let data = this.props.datas;
    return data &amp;&amp; (!data.Childs || data.Childs.length === 0) ? (
      &lt;div&gt;
        &lt;List className=&quot;my-list&quot; onClick=&#123;() =&gt; &#123;
            this.props.onselected(data)
        &#125;&#125;&gt;
          &lt;List.Item&gt;&#123;data.DeptName&#125;&lt;/List.Item&gt;
        &lt;/List&gt;
      &lt;/div&gt;
    ) : (
      &lt;div&gt;
        &lt;Accordion
          onChange=&#123;this.onChange&#125;
        &gt;
          &lt;Accordion.Panel header=&#123;data.DeptName&#125; className=&quot;tree-accordion-panel&quot;&gt;
            &#123;data &amp;&amp; data.Childs &amp;&amp; data.Childs.map((item, index) =&gt; &#123;
              return &lt;TreeNode datas=&#123;item&#125; onselected=&#123;(item) =&gt; this.props.onselected(item)&#125; key=&#123;index&#125;&gt;&lt;/TreeNode&gt;;
            &#125;)&#125;
          &lt;/Accordion.Panel&gt;
        &lt;/Accordion&gt;
      &lt;/div&gt;
    );
  &#125;
&#125;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚æœæˆ‘è¿›è¡Œä¸‰æ¬¡setStateä¼šå‘ç”Ÿä»€ä¹ˆ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚æœæˆ‘è¿›è¡Œä¸‰æ¬¡setStateä¼šå‘ç”Ÿä»€ä¹ˆ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚æœæˆ‘è¿›è¡Œä¸‰æ¬¡setStateä¼šå‘ç”Ÿä»€ä¹ˆ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚æœæˆ‘è¿›è¡Œä¸‰æ¬¡setStateä¼šå‘ç”Ÿä»€ä¹ˆ</h3><p> å¦‚æœæ˜¯åœ¨åŸç”Ÿjsç©ºé—´ï¼Œåˆ™ä¼šåŒæ­¥æ‰§è¡Œï¼Œä¿®æ”¹ä¸‰æ¬¡stateçš„å€¼ï¼Œè°ƒç”¨ä¸‰æ¬¡renderå‡½æ•°ï¼›</p>
<p>å¦‚æœæ˜¯åœ¨reactå‡½æ•°ç©ºé—´ä¸‹ï¼Œåˆ™ä¼šè¿›è¡Œåˆå¹¶ï¼Œåªä¿®æ”¹ä¸€æ¬¡stateçš„å€¼ï¼Œè°ƒç”¨ä¸€æ¬¡renderã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-æ¸²æŸ“ä¸€ä¸ªreactç»„ä»¶çš„è¿‡ç¨‹"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-æ¸²æŸ“ä¸€ä¸ªreactç»„ä»¶çš„è¿‡ç¨‹" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ æ¸²æŸ“ä¸€ä¸ªreactç»„ä»¶çš„è¿‡ç¨‹"></a>â™¥ï¸â™¥ï¸â™¥ï¸ æ¸²æŸ“ä¸€ä¸ªreactç»„ä»¶çš„è¿‡ç¨‹</h3><pre><code class="css">1ã€babelç¼–è¯‘
 å½“æˆ‘ä»¬å¯¹ä»£ç è¿›è¡Œç¼–è¯‘çš„æ—¶å€™ï¼Œbabelä¼šå°†æˆ‘ä»¬åœ¨ç»„ä»¶ä¸­ç¼–å†™çš„jsxä»£ç è½¬åŒ–ä¸ºReact.createElementçš„è¡¨è¾¾å¼ï¼ŒcreateElementæ–¹æ³•æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸ºtype(å…ƒç´ ç±»å‹ï¼‰ã€attributes(å…ƒç´ æ‰€æœ‰å±æ€§)ã€children(å…ƒç´ æ‰€æœ‰å­èŠ‚ç‚¹)ï¼›2ã€ç”Ÿæˆelement
 å½“renderæ–¹æ³•è¢«è§¦å‘ä»¥åï¼ŒcreateElementæ–¹æ³•ä¼šæ‰§è¡Œï¼Œè¿”å›ä¸€ä¸ªelementå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æè¿°äº†çœŸå®èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œå…¶å®å°±æ˜¯è™šæ‹ŸdomèŠ‚ç‚¹ï¼›
3ã€ç”ŸæˆçœŸå®èŠ‚ç‚¹(åˆæ¬¡æ¸²æŸ“)
 è¿™æ—¶å€™æˆ‘ä»¬ä¼šåˆ¤æ–­elementçš„ç±»å‹ï¼Œå¦‚æœæ˜¯nullã€falseåˆ™å®ä¾‹ä¸€ä¸ªReactDOMEmptyComponentå¯¹ è±¡; æ˜¯stringã€numberç±»å‹çš„è¯åˆ™å®ä¾‹ä¸€ä¸ªReactDOMTextComponentå¯¹è±¡ï¼› å¦‚æœelementæ˜¯å¯¹è±¡çš„è¯ï¼Œä¼šè¿›ä¸€æ­¥åˆ¤æ–­typeå…ƒç´ ç±»å‹ï¼Œæ˜¯åŸç”Ÿdomå…ƒç´ ï¼Œåˆ™å®ä¾‹åŒ–ReactDOMComponentï¼› å¦‚æœæ˜¯è‡ªå®šä¹‰ç»„ä»¶ï¼Œåˆ™å®ä¾‹åŒ–ReactCompositeComponentWrapperï¼›åœ¨è¿™äº›ç±»ç”Ÿæˆå®ä¾‹å¯¹è±¡çš„æ—¶å€™ï¼Œåœ¨å…¶å†…éƒ¨ä¼šè°ƒç”¨ mountComponentæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•é‡Œé¢æœ‰ä¸€ç³»åˆ—æµè§ˆå™¨åŸç”Ÿdomæ–¹æ³•ï¼Œå¯ä»¥å°†elementæ¸²æŸ“æˆçœŸå®çš„domå¹¶æ’å…¥åˆ°æ–‡æ¡£ä¸­ï¼›
 4ã€ç”Ÿå‘½å‘¨æœŸ
 componentDidMountï¼šä¼šåœ¨ç»„ä»¶æŒ‚è½½å(æ’å…¥DOMæ ‘ä¸­) ç«‹å³è°ƒç”¨ã€‚ä¸€èˆ¬å¯ä»¥åœ¨è¿™é‡Œè¯·æ±‚æ•°æ®ï¼›
 componentDidUpdateï¼šä¼šåœ¨æ•°æ®æ›´æ–°åç«‹å³è°ƒç”¨ï¼Œé¦–æ¬¡æ¸²æŸ“ä¸ä¼šæ‰§è¡Œæ­¤æ–¹æ³•ï¼›å¯ä»¥åœ¨å…¶ä¸­ç›´æ¥è°ƒç”¨ setStateï¼Œä½†å¿…é¡»ç”¨ifè¯­å¥è¿›è¡Œåˆ¤æ–­ï¼Œé˜²æ­¢æ­»å¾ªç¯ï¼›
 conponentWillUnmountï¼šä¼šåœ¨ç»„ä»¶å¸è½½åŠé”€æ¯ä¹‹å‰è°ƒç”¨ï¼Œåœ¨æ­¤æ–¹æ³•ä¸­æ‰§è¡Œå¿…è¦çš„æ¸…ç†æ“ä½œï¼Œå¦‚æ¸…é™¤timerï¼›
 static getDerivedStateFromProps(prps,state)ï¼šè¿™ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ä»£æ›¿äº†componentWillMountå’ŒcomponentWillUpdateç”Ÿå‘½å‘¨æœŸï¼›propså’Œstateå‘ç”Ÿæ”¹å˜åˆ™è°ƒç”¨ï¼Œåœ¨åˆå§‹åŒ–æŒ‚è½½åŠåç»­æ›´æ–°æ—¶éƒ½ä¼šè¢«è°ƒç”¨ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡æ¥æ›´æ–°stateï¼Œå¦‚æœè¿”å›nullåˆ™ä¸æ›´æ–°ä»»ä½•å†…å®¹ï¼›
 shouldComponentUpdate(nextProps,nextState)ï¼šè¿™ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„è¿”å›å€¼ç”¨æ¥åˆ¤æ–­Reactç»„ä»¶æ˜¯å¦å› ä¸ºå½“å‰ state æˆ– props æ›´æ”¹è€Œé‡æ–°æ¸²æŸ“ï¼Œé»˜è®¤è¿”å›å€¼æ˜¯trueï¼›è¿™ä¸ªæ–¹æ³•åœ¨åˆå§‹åŒ–æ¸²æŸ“æˆ–ä½¿ç”¨forceUpdate()æ—¶ä¸ä¼šè°ƒç”¨ï¼›å½“å°†æ—§çš„stateçš„å€¼åŸå°ä¸åŠ¨èµ‹å€¼ç»™æ–°çš„stateï¼ˆå³ä¸æ”¹å˜stateçš„å€¼ï¼Œä½†æ˜¯è°ƒç”¨äº†setStateï¼‰å’Œ æ— æ•°æ®äº¤æ¢çš„çˆ¶ç»„ä»¶çš„é‡æ–°æ¸²æŸ“éƒ½ä¼šå¯¼è‡´ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œè¿™æ—¶å€™éƒ½å¯ä»¥é€šè¿‡shouldComponentUpdateæ¥ä¼˜åŒ–ã€‚
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-useEffect-å’Œ-useLayoutEffect-çš„åŒºåˆ«"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-useEffect-å’Œ-useLayoutEffect-çš„åŒºåˆ«" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ useEffect å’Œ useLayoutEffect çš„åŒºåˆ«"></a>â™¥ï¸â™¥ï¸â™¥ï¸ useEffect å’Œ useLayoutEffect çš„åŒºåˆ«</h3><p>useEffectå’ŒuseLayoutéƒ½æ˜¯å‰¯ä½œç”¨hooksï¼Œä¸¤åˆ™éå¸¸ç›¸ä¼¼ï¼ŒåŒæ ·éƒ½æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š</p>
<p> (1)ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¾èµ–åˆ—è¡¨ï¼Œåªæœ‰ä¾èµ–æ›´æ–°æ—¶æ‰ä¼šæ‰§è¡Œå‡½æ•°ï¼›è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå½“é¡µé¢åˆ·æ–°çš„æˆ–é”€æ¯çš„æ—¶å€™æ‰§è¡Œreturnåçš„ä»£ç ï¼›</p>
<p> (2)å¦‚æœä¸æ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œé‚£ä¹ˆåœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“å®Œæˆä¹‹åå’Œæ¯æ¬¡æ›´æ–°æ¸²æŸ“é¡µé¢çš„æ—¶å€™ï¼Œéƒ½ä¼šè°ƒç”¨useEffectçš„å›è°ƒå‡½æ•°ï¼›</p>
<blockquote>
<p>useEffectå’Œ useLayoutçš„ä¸»è¦åŒºåˆ«å°±æ˜¯ä»–ä»¬çš„æ‰§è¡Œæ—¶æœºä¸åŒï¼Œåœ¨æµè§ˆå™¨ä¸­jsçº¿ç¨‹ä¸æ¸²æŸ“çº¿ç¨‹æ˜¯äº’æ–¥çš„ï¼Œå½“jsçº¿ç¨‹æ‰§è¡Œæ—¶ï¼Œæ¸²æŸ“çº¿ç¨‹å‘ˆæŒ‚èµ·çŠ¶æ€ï¼Œåªæœ‰å½“jsçº¿ç¨‹ç©ºé—²æ—¶æ¸²æŸ“çº¿ç¨‹æ‰ä¼šæ‰§è¡Œï¼Œå°†ç”Ÿæˆçš„ domç»˜åˆ¶ã€‚ </p>
<p>useLayoutEffectåœ¨jsçº¿ç¨‹æ‰§è¡Œå®Œæ¯•å³domæ›´æ–°ä¹‹åç«‹å³æ‰§è¡Œï¼Œè€ŒuseEffectæ˜¯åœ¨æ¸²æŸ“ç»“æŸåæ‰æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ useLayoutEffectæ¯” useEffectå…ˆæ‰§è¡Œã€‚</p>
</blockquote>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-hooks-çš„ä½¿ç”¨æœ‰ä»€ä¹ˆæ³¨æ„äº‹é¡¹"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-hooks-çš„ä½¿ç”¨æœ‰ä»€ä¹ˆæ³¨æ„äº‹é¡¹" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸  hooks çš„ä½¿ç”¨æœ‰ä»€ä¹ˆæ³¨æ„äº‹é¡¹"></a>â™¥ï¸â™¥ï¸â™¥ï¸  hooks çš„ä½¿ç”¨æœ‰ä»€ä¹ˆæ³¨æ„äº‹é¡¹</h3><p>ï¼ˆ1ï¼‰åªèƒ½åœ¨Reactå‡½æ•°å¼ç»„ä»¶æˆ–è‡ªå®šä¹‰Hookä¸­ä½¿ç”¨Hookã€‚</p>
<p>ï¼ˆ2ï¼‰ä¸è¦åœ¨å¾ªç¯ï¼Œæ¡ä»¶æˆ–åµŒå¥—å‡½æ•°ä¸­è°ƒç”¨Hookï¼Œå¿…é¡»å§‹ç»ˆåœ¨Reactå‡½æ•°çš„é¡¶å±‚ä½¿ç”¨Hookã€‚è¿™æ˜¯å› ä¸ºReactéœ€è¦åˆ©ç”¨è°ƒç”¨é¡ºåºæ¥æ­£ç¡®æ›´æ–°ç›¸åº”çš„çŠ¶æ€ï¼Œä»¥åŠè°ƒç”¨ç›¸åº”çš„é’©å­å‡½æ•°ã€‚ä¸€æ—¦åœ¨å¾ªç¯æˆ–æ¡ä»¶åˆ†æ”¯è¯­å¥ä¸­è°ƒç”¨Hookï¼Œå°±å®¹æ˜“å¯¼è‡´è°ƒç”¨é¡ºåºçš„ä¸ä¸€è‡´æ€§ï¼Œä»è€Œäº§ç”Ÿéš¾ä»¥é¢„æ–™åˆ°çš„åæœã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-çº¯å‡½æ•°æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Œå‰¯ä½œç”¨å‡½æ•°ç‰¹ç‚¹"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-çº¯å‡½æ•°æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Œå‰¯ä½œç”¨å‡½æ•°ç‰¹ç‚¹" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ çº¯å‡½æ•°æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Œå‰¯ä½œç”¨å‡½æ•°ç‰¹ç‚¹"></a>â™¥ï¸â™¥ï¸â™¥ï¸ çº¯å‡½æ•°æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Œå‰¯ä½œç”¨å‡½æ•°ç‰¹ç‚¹</h3><p>çº¯å‡½æ•°ä¸å¤–ç•Œäº¤æ¢æ•°æ®åªæœ‰ä¸€ä¸ªå”¯ä¸€æ¸ é“â€”â€”å‚æ•°å’Œè¿”å›å€¼ï¼›å‡½æ•°ä»å‡½æ•°å¤–éƒ¨æ¥å—çš„æ‰€æœ‰è¾“å…¥ä¿¡æ¯éƒ½é€šè¿‡å‚æ•°ä¼ é€’åˆ°è¯¥å‡½æ•°å†…éƒ¨ï¼›å‡½æ•°è¾“å‡ºåˆ°å‡½æ•°å¤–éƒ¨çš„æ‰€æœ‰ä¿¡æ¯éƒ½é€šè¿‡è¿”å›å€¼ä¼ é€’åˆ°è¯¥å‡½æ•°å¤–éƒ¨ã€‚</p>
<p> çº¯å‡½æ•°çš„ä¼˜ç‚¹ï¼šæ— çŠ¶æ€ï¼Œçº¿ç¨‹å®‰å…¨ï¼›çº¯å‡½æ•°ç›¸äº’è°ƒç”¨ç»„è£…èµ·æ¥çš„å‡½æ•°ï¼Œè¿˜æ˜¯çº¯å‡½æ•°ï¼›åº”ç”¨ç¨‹åºæˆ–è€…è¿è¡Œç¯å¢ƒå¯ä»¥å¯¹çº¯å‡½æ•°çš„è¿ç®—ç»“æœè¿›è¡Œç¼“å­˜ï¼Œè¿ç®—åŠ å¿«é€Ÿåº¦ã€‚</p>
<p> å‡½æ•°å‰¯ä½œç”¨æ˜¯æŒ‡å½“è°ƒç”¨å‡½æ•°æ—¶ï¼Œé™¤äº†è¿”å›å‡½æ•°å€¼ä¹‹å¤–ï¼Œè¿˜å¯¹ä¸»è°ƒç”¨å‡½æ•°äº§ç”Ÿé™„åŠ çš„å½±å“ã€‚æ¯”å¦‚è°ƒæ¥å£ã€ä¿®æ”¹å…¨å±€å˜é‡ã€æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸æˆ–ä»¥ä¸€ä¸ªé”™è¯¯ç»ˆæ­¢ã€æ‰“å°åˆ°ç»ˆç«¯æˆ–è¯»å–ç”¨æˆ·è¾“å…¥ã€è¯»å–æˆ–å†™å…¥ä¸€ä¸ªæ–‡ä»¶ç­‰ï¼Œæ‰€ä»¥è¯´å‰¯ä½œç”¨æ˜¯ç¼–ç¨‹ä¸­æœ€å…³é”®çš„éƒ¨åˆ†ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦è·Ÿç”¨æˆ·ã€è·Ÿæ•°æ®è¿›è¡Œäº¤äº’ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-åœ¨æ„é€ å‡½æ•°è°ƒç”¨-super-å¹¶å°†-props-ä½œä¸ºå‚æ•°ä¼ å…¥çš„ä½œç”¨æ˜¯å•¥ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-åœ¨æ„é€ å‡½æ•°è°ƒç”¨-super-å¹¶å°†-props-ä½œä¸ºå‚æ•°ä¼ å…¥çš„ä½œç”¨æ˜¯å•¥ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ åœ¨æ„é€ å‡½æ•°è°ƒç”¨ super å¹¶å°† props ä½œä¸ºå‚æ•°ä¼ å…¥çš„ä½œç”¨æ˜¯å•¥ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ åœ¨æ„é€ å‡½æ•°è°ƒç”¨ super å¹¶å°† props ä½œä¸ºå‚æ•°ä¼ å…¥çš„ä½œç”¨æ˜¯å•¥ï¼Ÿ</h3><p>ES6 ä¸­åœ¨è°ƒç”¨ super()æ–¹æ³•ä¹‹å‰ï¼Œå­ç±»æ„é€ å‡½æ•°æ— æ³•ä½¿ç”¨thiså¼•ç”¨ï¼Œåœ¨reactçš„ç±»ç»„ä»¶ä¸­ä¹Ÿæ˜¯å¦‚æ­¤ï¼›å°†props å‚æ•°ä¼ é€’ç»™ super() è°ƒç”¨çš„ä¸»è¦åŸå› æ˜¯åœ¨å­æ„é€ å‡½æ•°ä¸­èƒ½å¤Ÿé€šè¿‡this.propsæ¥è·å–ä¼ å…¥çš„ propsã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-è®²è®²ä»€ä¹ˆæ˜¯-JSX-ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-è®²è®²ä»€ä¹ˆæ˜¯-JSX-ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ è®²è®²ä»€ä¹ˆæ˜¯ JSX ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ è®²è®²ä»€ä¹ˆæ˜¯ JSX ï¼Ÿ</h3><p>JSXå…¨ç§°ä¸ºJavaScript XMLï¼Œæ˜¯reactä¸­çš„ä¸€ç§è¯­æ³•ç³–ï¼Œå¯ä»¥è®©æˆ‘ä»¬åœ¨jsä»£ç ä¸­è„±ç¦»å­—ç¬¦ä¸²ç›´æ¥ç¼–å†™htmlä»£ç ï¼›æœ¬èº«ä¸èƒ½è¢«æµè§ˆå™¨è¯»å–ï¼Œå¿…é¡»ä½¿ç”¨@babel&#x2F;preset-reactå’Œwebpackç­‰å·¥å…·å°†å…¶è½¬æ¢ä¸ºä¼ ç»Ÿçš„JSã€‚</p>
<p> ä¸»è¦æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<p> ï¼ˆ1ï¼‰ç±»XMLè¯­æ³•å®¹æ˜“æ¥å—ï¼Œç»“æ„æ¸…æ™°ï¼›</p>
<p> ï¼ˆ2ï¼‰å¢å¼ºJSè¯­ä¹‰ï¼›</p>
<p> ï¼ˆ3ï¼‰æŠ½è±¡ç¨‹åº¦é«˜ï¼Œå±è”½DOMæ“ä½œï¼Œè·¨å¹³å°ï¼›</p>
<p> ï¼ˆ4ï¼‰ä»£ç æ¨¡å—åŒ–ï¼›</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ä¸ºä»€ä¹ˆä¸ç›´æ¥æ›´æ–°-state-å‘¢ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ä¸ºä»€ä¹ˆä¸ç›´æ¥æ›´æ–°-state-å‘¢ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ä¸ºä»€ä¹ˆä¸ç›´æ¥æ›´æ–° state å‘¢ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ä¸ºä»€ä¹ˆä¸ç›´æ¥æ›´æ–° state å‘¢ï¼Ÿ</h3><p>å¦‚æœè¯•å›¾ç›´æ¥æ›´æ–° state ï¼Œåˆ™ä¸ä¼šé‡æ–°æ¸²æŸ“ç»„ä»¶ï¼›éœ€è¦ä½¿ç”¨setState()æ–¹æ³•æ¥æ›´æ–° stateè¿™æ ·ç»„ä»¶æ‰ä¼šé‡æ–°æ¸²æŸ“ï¼›</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-è¿™ä¸‰ä¸ªç‚¹-â€¦-åœ¨-React-å¹²å˜›ç”¨çš„ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-è¿™ä¸‰ä¸ªç‚¹-â€¦-åœ¨-React-å¹²å˜›ç”¨çš„ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ è¿™ä¸‰ä¸ªç‚¹(â€¦)åœ¨ React å¹²å˜›ç”¨çš„ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ è¿™ä¸‰ä¸ªç‚¹(â€¦)åœ¨ React å¹²å˜›ç”¨çš„ï¼Ÿ</h3><p> â€¦æ˜¯es6è¯­æ³•æ–°å‡ºçš„è§„èŒƒï¼Œå«åšå±•å¼€è¿ç®—ç¬¦ï¼›åœ¨reactä¸­å¯ä»¥å°†å¯¹è±¡æˆ–æ•°ç»„è¿›è¡Œå±•å¼€ï¼Œè®©æˆ‘ä»¬æ“ä½œæ”¹å˜æ•°æ®ç»“æ„éå¸¸æ–¹ä¾¿ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-React-ä¸­çš„-useState-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-React-ä¸­çš„-useState-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ React ä¸­çš„ useState() æ˜¯ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ React ä¸­çš„ useState() æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>useStateæ˜¯ä¸€ä¸ªå†…ç½®çš„React Hookï¼Œå¯ä»¥è®©æˆ‘ä»¬åœ¨å‡½æ•°ç»„ä»¶ä¸­åƒç±»ç»„ä»¶ä¸€æ ·ä½¿ç”¨stateå¹¶ä¸”æ”¹å˜stateçš„å€¼ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-React-ä¸­çš„StrictMode-ä¸¥æ ¼æ¨¡å¼-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-React-ä¸­çš„StrictMode-ä¸¥æ ¼æ¨¡å¼-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ React ä¸­çš„StrictMode(ä¸¥æ ¼æ¨¡å¼)æ˜¯ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ React ä¸­çš„StrictMode(ä¸¥æ ¼æ¨¡å¼)æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>Reactçš„StrictModeæ˜¯ä¸€ç§è¾…åŠ©ç»„ä»¶ï¼Œç”¨åŒ…è£…ç»„ä»¶ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç¼–å†™æ›´å¥½çš„reactç»„ä»¶ï¼Œä¸ä¼šæ¸²æŸ“å‡ºä»»ä½•å¯è§çš„uiï¼›ä»…åœ¨å¼€å‘æ¨¡å¼ä¸‹è¿è¡Œï¼Œå®ƒä»¬ä¸ä¼šå½±å“ç”Ÿäº§æ„å»ºï¼Œå¯ä»¥åšä»¥ä¸‹æ£€æŸ¥ï¼š</p>
<p> ï¼ˆ1ï¼‰éªŒè¯å†…éƒ¨ç»„ä»¶æ˜¯å¦éµå¾ªæŸäº›æ¨èåšæ³•ï¼Œå¦‚æœæ²¡æœ‰ï¼Œä¼šåœ¨æ§åˆ¶å°ç»™å‡ºè­¦å‘Šï¼›</p>
<p> ï¼ˆ2ï¼‰éªŒè¯æ˜¯å¦ä½¿ç”¨çš„å·²ç»åºŸå¼ƒçš„æ–¹æ³•ï¼Œå¦‚æœæœ‰ï¼Œä¼šåœ¨æ§åˆ¶å°ç»™å‡ºè­¦å‘Šï¼›</p>
<p> ï¼ˆ3ï¼‰é€šè¿‡è¯†åˆ«æ½œåœ¨çš„é£é™©é¢„é˜²ä¸€äº›å‰¯ä½œç”¨ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ä¸ºä»€ä¹ˆç±»æ–¹æ³•éœ€è¦ç»‘å®šåˆ°ç±»å®ä¾‹ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ä¸ºä»€ä¹ˆç±»æ–¹æ³•éœ€è¦ç»‘å®šåˆ°ç±»å®ä¾‹ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ä¸ºä»€ä¹ˆç±»æ–¹æ³•éœ€è¦ç»‘å®šåˆ°ç±»å®ä¾‹ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ä¸ºä»€ä¹ˆç±»æ–¹æ³•éœ€è¦ç»‘å®šåˆ°ç±»å®ä¾‹ï¼Ÿ</h3><p> åœ¨ JS ä¸­ï¼Œthis å€¼ä¼šæ ¹æ®å½“å‰ä¸Šä¸‹æ–‡å˜åŒ–ã€‚åœ¨ React ç±»ç»„ä»¶æ–¹æ³•ä¸­ï¼Œå¼€å‘äººå‘˜é€šå¸¸å¸Œæœ› this å¼•ç”¨ç»„ä»¶çš„å½“å‰å®ä¾‹ï¼Œå› æ­¤æœ‰å¿…è¦å°†è¿™äº›æ–¹æ³•ç»‘å®šåˆ°å®ä¾‹ã€‚é€šå¸¸è¿™æ˜¯åœ¨æ„é€ å‡½æ•°ä¸­å®Œæˆçš„:</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-è¿™æ®µä»£ç æœ‰ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-è¿™æ®µä»£ç æœ‰ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ è¿™æ®µä»£ç æœ‰ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ è¿™æ®µä»£ç æœ‰ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ</h3><pre><code class="react">this.setState((prevState, props) =&gt; &#123;
 return &#123;
 streak: prevState.streak + props.count
 &#125;
&#125;)
// æ²¡æœ‰é—®é¢˜
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚ä½•åœ¨-React-çš„-Props-ä¸Šåº”ç”¨éªŒè¯ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚ä½•åœ¨-React-çš„-Props-ä¸Šåº”ç”¨éªŒè¯ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚ä½•åœ¨ React çš„ Props ä¸Šåº”ç”¨éªŒè¯ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚ä½•åœ¨ React çš„ Props ä¸Šåº”ç”¨éªŒè¯ï¼Ÿ</h3><p>1ã€ä½¿ç”¨PropTypesè¿›è¡Œç±»å‹æ£€æŸ¥</p>
<p>PropTypesè‡ªReact v15.5èµ·ï¼Œè¯·ä½¿ç”¨è¿™ä¸ªåº“prop-types</p>
<p>2ã€What &amp; Why &amp; When</p>
<p>éšç€åº”ç”¨çš„ä¸æ–­å¢é•¿ï¼Œä¹Ÿæ˜¯ä¸ºäº†ä½¿ç¨‹åºè®¾è®¡æ›´åŠ ä¸¥è°¨ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦å¯¹æ•°æ®çš„ç±»å‹ï¼ˆå€¼ï¼‰è¿›è¡Œä¸€äº›å¿…è¦çš„éªŒè¯ã€‚å‡ºäºæ€§èƒ½æ–¹é¢çš„è€ƒè™‘ï¼ŒpropTypesä»…åœ¨å¼€å‘æ¨¡å¼ä¸‹è¿›è¡Œæ£€æµ‹,åœ¨ç¨‹åºè¿è¡Œæ—¶å°±èƒ½æ£€æµ‹å‡ºé”™è¯¯ï¼Œä¸èƒ½ä½¿ç”¨åˆ°ç”¨æˆ·äº¤äº’æé†’ç”¨æˆ·æ“ä½œé”™è¯¯ç­‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨Flowæˆ–è€…TypeScriptåšç±»å‹æ£€æŸ¥ï¼ŒåæœŸå»ºè®®ç”¨typescriptè¿›è¡Œæ›¿ä»£æ›´å¥½</p>
<p>3ã€Where</p>
<ul>
<li>classç»„ä»¶</li>
<li>å‡½æ•°ç»„ä»¶</li>
<li>React.memoé«˜é˜¶ç»„ä»¶ å¯è‡ªè¡Œæ‰©å±•</li>
<li>React.forwardRefç»„ä»¶ å¯è‡ªè¡Œæ‰©å±•</li>
</ul>
<p>4ã€How</p>
<p>æˆ‘ä»¬åœ¨ç»„ä»¶ç±»ä¸‹æ·»åŠ ä¸€ä¸ªé™æ€å±æ€§ propTypes (å±æ€§åä¸èƒ½æ›´æ”¹)ï¼Œå®ƒçš„å€¼ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æ¥è®¾ç½®ç»„ä»¶ä¸­propsçš„éªŒè¯è§„åˆ™ï¼Œkey æ˜¯è¦éªŒè¯çš„å±æ€§åç§°ï¼Œvalue æ˜¯éªŒè¯è§„åˆ™ã€‚</p>
<pre><code class="react">// ç±»ç»„ä»¶
import PropTypes from &#39;prop-types&#39;;
class Greeting extends React.Component &#123;
 render() &#123;
 return ()
 &#125;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚ä½•æœ‰æ¡ä»¶åœ°å‘-React-ç»„ä»¶æ·»åŠ å±æ€§ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚ä½•æœ‰æ¡ä»¶åœ°å‘-React-ç»„ä»¶æ·»åŠ å±æ€§ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚ä½•æœ‰æ¡ä»¶åœ°å‘ React ç»„ä»¶æ·»åŠ å±æ€§ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚ä½•æœ‰æ¡ä»¶åœ°å‘ React ç»„ä»¶æ·»åŠ å±æ€§ï¼Ÿ</h3><p>å¯¹äºæŸäº›å±æ€§ï¼ŒReactè¶³å¤Ÿæ™ºèƒ½å¯ä»¥å¿½ç•¥è¯¥å±æ€§ï¼Œæ¯”å¦‚å€¼ä¸ºbooleanå€¼å±æ€§çš„å€¼ä¹Ÿå¯ä»¥å†™æ§åˆ¶è¯­å¥ç®¡ç†æ˜¯å¦ç»™ç»„ä»¶æ·»åŠ å±æ€§</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚ä½•é¿å…ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚ä½•é¿å…ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚ä½•é¿å…ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚ä½•é¿å…ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ï¼Ÿ</h3><ol>
<li>å½“porps&#x2F;stateæ”¹å˜æ—¶ç»„ä»¶ä¼šæ‰§è¡Œrenderå‡½æ•°ä¹Ÿå°±æ˜¯é‡æ–°æ¸²æŸ“</li>
<li>classç»„ä»¶ä¸­ä½¿ç”¨shouldComponentUpdateé’©å­å‡½æ•°</li>
<li>PureComponenté»˜è®¤æœ‰é¿å…é‡æ–°æ¸²æŸ“çš„åŠŸèƒ½</li>
<li>å‡½æ•°ç»„ä»¶ä½¿ç”¨é«˜é˜¶ç»„ä»¶memoå¤„ç†</li>
</ol>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ä»€ä¹ˆæ˜¯çº¯å‡½æ•°ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ä»€ä¹ˆæ˜¯çº¯å‡½æ•°ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ä»€ä¹ˆæ˜¯çº¯å‡½æ•°ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ä»€ä¹ˆæ˜¯çº¯å‡½æ•°ï¼Ÿ</h3><p>ä¸€ä¸ªä¸ä¼šæ›´æ”¹å…¥å‚ï¼Œä¸”å¤šæ¬¡è°ƒç”¨ä¸‹ç›¸åŒçš„å…¥å‚å§‹ç»ˆè¿”å›ç›¸åŒçš„ç»“æœ</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚ä½•é¿å…åœ¨Reacté‡æ–°ç»‘å®šå®ä¾‹ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚ä½•é¿å…åœ¨Reacté‡æ–°ç»‘å®šå®ä¾‹ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚ä½•é¿å…åœ¨Reacté‡æ–°ç»‘å®šå®ä¾‹ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚ä½•é¿å…åœ¨Reacté‡æ–°ç»‘å®šå®ä¾‹ï¼Ÿ</h3><ol>
<li>å°†äº‹ä»¶å¤„ç†ç¨‹åºå®šä¹‰ä¸ºå†…è”ç®­å¤´å‡½æ•°</li>
<li>ä½¿ç”¨ç®­å¤´å‡½æ•°æ¥å®šä¹‰æ–¹æ³•</li>
<li>ä½¿ç”¨å¸¦æœ‰ Hooks çš„å‡½æ•°ç»„ä»¶</li>
</ol>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-åœ¨jsåŸç”Ÿäº‹ä»¶ä¸­-onclick-å’Œ-jsx-é‡Œ-onclick-çš„åŒºåˆ«"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-åœ¨jsåŸç”Ÿäº‹ä»¶ä¸­-onclick-å’Œ-jsx-é‡Œ-onclick-çš„åŒºåˆ«" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ åœ¨jsåŸç”Ÿäº‹ä»¶ä¸­ onclick å’Œ jsx é‡Œ onclick çš„åŒºåˆ«"></a>â™¥ï¸â™¥ï¸â™¥ï¸ åœ¨jsåŸç”Ÿäº‹ä»¶ä¸­ onclick å’Œ jsx é‡Œ onclick çš„åŒºåˆ«</h3><p>1ã€jsåŸç”Ÿä¸­</p>
<p>onclickæ·»åŠ äº‹ä»¶å¤„ç†å‡½æ•°æ˜¯åœ¨å…¨å±€ç¯å¢ƒä¸‹æ‰§è¡Œï¼Œæ±¡æŸ“äº†å…¨å±€ç¯å¢ƒï¼Œä¸”ç»™å¾ˆå¤šdomå…ƒç´ æ·»åŠ onclickäº‹ä»¶ï¼Œå½±å“ç½‘é¡µçš„æ€§èƒ½ï¼ŒåŒæ—¶å¦‚æœåŠ¨æ€çš„ä»domæ ‘ç§åˆ é™¤äº†è¯¥å…ƒç´ ï¼Œè¿˜è¦æ‰‹åŠ¨æ³¨é”€äº‹ä»¶å¤„ç†å™¨ï¼Œä¸ç„¶å°±å¯èƒ½é€ æˆå†…å­˜æ³„éœ²</p>
<p>2ã€jsxé‡Œçš„onClick</p>
<p>æŒ‚è½½çš„å‡½æ•°éƒ½æ§åˆ¶åœ¨ç»„ä»¶èŒƒå›´å†…ï¼Œä¸ä¼šæ±¡æŸ“å…¨å±€ç©ºé—´</p>
<p>jsxä¸­ä¸æ˜¯ç›´æ¥ä½¿ç”¨onclickï¼Œè€Œæ˜¯é‡‡å–äº†äº‹ä»¶å§”æ‰˜çš„æ–¹å¼ï¼ŒæŒ‚è½½æœ€é¡¶å±‚DOMèŠ‚ç‚¹ï¼Œæ‰€æœ‰ç‚¹å‡»äº‹ä»¶è¢«è¿™ä¸ªäº‹ä»¶æ•è·ï¼Œç„¶åæ ¹æ®å…·ä½“ç»„ä»¶åˆ†é…ç»™ç‰¹å®šå‡½æ•°ï¼Œæ€§èƒ½å½“ç„¶æ¯”æ¯ä¸ªonClickéƒ½æŒ‚è½½ä¸€ä¸ªäº‹ä»¶å¤„ç†å‡½æ•°è¦é«˜ï¼ŒåŠ ä¸ŠReactæ§åˆ¶äº†ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼Œåœ¨unmountçš„æ—¶å€™è‡ªç„¶èƒ½å¤Ÿæ¸…é™¤ç›¸å…³çš„æ‰€æœ‰äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œå†…å­˜æ³„éœ²ä¸å†æ˜¯ä¸€ä¸ªé—®é¢˜</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-Reactç»„ä»¶é—´ä¿¡æ¯ä¼ é€’"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-Reactç»„ä»¶é—´ä¿¡æ¯ä¼ é€’" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ Reactç»„ä»¶é—´ä¿¡æ¯ä¼ é€’"></a>â™¥ï¸â™¥ï¸â™¥ï¸ Reactç»„ä»¶é—´ä¿¡æ¯ä¼ é€’</h3><p>1.ï¼ˆçˆ¶ç»„ä»¶ï¼‰å‘ï¼ˆå­ç»„ä»¶ï¼‰ä¼ é€’ä¿¡æ¯ : porpsä¼ å€¼</p>
<p>2.ï¼ˆçˆ¶ç»„ä»¶ï¼‰å‘æ›´æ·±å±‚çš„ï¼ˆå­ç»„ä»¶ï¼‰ è¿›è¡Œä¼ é€’ä¿¡æ¯ : context</p>
<p>3.ï¼ˆå­ç»„ä»¶ï¼‰å‘ï¼ˆçˆ¶ç»„ä»¶ï¼‰ä¼ é€’ä¿¡æ¯ï¼šcallback</p>
<p>4.æ²¡æœ‰ä»»ä½•åµŒå¥—å…³ç³»çš„ç»„ä»¶ä¹‹é—´ä¼ å€¼ï¼ˆæ¯”å¦‚ï¼šå…„å¼Ÿç»„ä»¶ä¹‹é—´ä¼ å€¼ï¼‰: åˆ©ç”¨å…±åŒçˆ¶ç»„ä»¶contexté€šä¿¡ã€è‡ªå®šä¹‰äº‹ä»¶</p>
<p>5.åˆ©ç”¨react-reduxè¿›è¡Œç»„ä»¶ä¹‹é—´çš„çŠ¶æ€ä¿¡æ¯å…±äº« : ç»„ä»¶é—´çŠ¶æ€ä¿¡æ¯å…±äº«ï¼šreduxã€fluxã€mobxç­‰</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ReactçŠ¶æ€ç®¡ç†å·¥å…·æœ‰å“ªäº›ï¼Ÿredux-actionCreatoréƒ½æœ‰ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ReactçŠ¶æ€ç®¡ç†å·¥å…·æœ‰å“ªäº›ï¼Ÿredux-actionCreatoréƒ½æœ‰ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ReactçŠ¶æ€ç®¡ç†å·¥å…·æœ‰å“ªäº›ï¼Ÿredux actionCreatoréƒ½æœ‰ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ReactçŠ¶æ€ç®¡ç†å·¥å…·æœ‰å“ªäº›ï¼Ÿredux actionCreatoréƒ½æœ‰ä»€ä¹ˆï¼Ÿ</h3><p>ç®€å•çŠ¶æ€ç®¡ç†ï¼šç»„ä»¶å†…éƒ¨stateã€åŸºäºContext APIå°è£…</p>
<p>å¤æ‚çŠ¶æ€ç®¡ç†ï¼šredux(å•é¡¹æ•°æ®æµ)ã€mobx(å“åº”å¼æ•°æ®æµ)ã€RxJS(stream)ã€dva</p>
<p>åˆ›å»ºå„ç§actionï¼ŒåŒ…å«åŒæ­¥ã€å¼‚æ­¥ï¼Œç„¶ååœ¨ç»„ä»¶ä¸­é€šè¿‡dispatchè°ƒç”¨</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-vuex-å’Œ-redux-çš„åŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-vuex-å’Œ-redux-çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸  vuex å’Œ redux çš„åŒºåˆ«ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸  vuex å’Œ redux çš„åŒºåˆ«ï¼Ÿ</h3><h4 id="vuexçš„æµå‘ï¼š"><a href="#vuexçš„æµå‘ï¼š" class="headerlink" title="vuexçš„æµå‘ï¼š"></a>vuexçš„æµå‘ï¼š</h4><p>viewâ€”â€”&gt;commitâ€”â€”&gt;mutationsâ€”â€”&gt;stateå˜åŒ–â€”â€”&gt;viewå˜åŒ–ï¼ˆåŒæ­¥æ“ä½œï¼‰<br>viewâ€”â€”&gt;dispatchâ€”â€”&gt;actionsâ€”â€”&gt;mutationsâ€”â€”&gt;stateå˜åŒ–â€”â€”&gt;viewå˜åŒ–ï¼ˆå¼‚æ­¥æ“ä½œï¼‰</p>
<h4 id="reduxçš„æµå‘ï¼š"><a href="#reduxçš„æµå‘ï¼š" class="headerlink" title="reduxçš„æµå‘ï¼š"></a>reduxçš„æµå‘ï¼š</h4><p>viewâ€”â€”&gt;actionsâ€”â€”&gt;reducerâ€”â€”&gt;stateå˜åŒ–â€”â€”&gt;viewå˜åŒ–ï¼ˆåŒæ­¥å¼‚æ­¥ä¸€æ ·ï¼‰</p>
<h4 id="Reduxç›¸å¯¹äºFluxçš„æ”¹è¿›ï¼š"><a href="#Reduxç›¸å¯¹äºFluxçš„æ”¹è¿›ï¼š" class="headerlink" title="Reduxç›¸å¯¹äºFluxçš„æ”¹è¿›ï¼š"></a>Reduxç›¸å¯¹äºFluxçš„æ”¹è¿›ï¼š</h4><p>ï¼ˆ1ï¼‰æŠŠstoreå’ŒDispatcheråˆå¹¶,ç»“æ„æ›´åŠ ç®€å•æ¸…æ™°</p>
<p>æ–°å¢stateè§’è‰²ï¼Œä»£è¡¨æ¯ä¸ªæ—¶é—´ç‚¹storeå¯¹åº”çš„å€¼ï¼Œå¯¹çŠ¶æ€çš„ç®¡ç†æ›´åŠ æ˜ç¡®</p>
<p>Reduxæ•°æ®æµçš„é¡ºåºæ˜¯:</p>
<p>ï¼ˆ2ï¼‰Viewè°ƒç”¨store.dispatchå‘èµ·Action-&gt;storeæ¥å—Action(actionä¼ å…¥reducerå‡½æ•°,reducerå‡½æ•°è¿”å›ä¸€ä¸ªæ–°çš„state)-&gt;é€šçŸ¥store.subscribeè®¢é˜…çš„é‡æ–°æ¸²æŸ“å‡½æ•°</p>
<p>Vuexæ˜¯ä¸“é—¨ä¸ºVueè®¾è®¡çš„çŠ¶æ€ç®¡ç†æ¡†æ¶, åŒæ ·åŸºäºFluxæ¶æ„ï¼Œå¹¶å¸æ”¶äº†Reduxçš„ä¼˜ç‚¹</p>
<h4 id="Vuexç›¸å¯¹äºReduxçš„ä¸åŒç‚¹æœ‰"><a href="#Vuexç›¸å¯¹äºReduxçš„ä¸åŒç‚¹æœ‰" class="headerlink" title="Vuexç›¸å¯¹äºReduxçš„ä¸åŒç‚¹æœ‰:"></a>Vuexç›¸å¯¹äºReduxçš„ä¸åŒç‚¹æœ‰:</h4><p>ï¼ˆ1ï¼‰æ”¹è¿›äº†Reduxä¸­çš„Actionå’ŒReducerå‡½æ•°ï¼Œä»¥mutationså˜åŒ–å‡½æ•°å–ä»£Reducerï¼Œæ— éœ€switch,åªéœ€åœ¨å¯¹åº”çš„mutationå‡½æ•°é‡Œæ”¹å˜stateå€¼å³å¯</p>
<p>ï¼ˆ2ï¼‰ç”±äºVueè‡ªåŠ¨é‡æ–°æ¸²æŸ“çš„ç‰¹æ€§ï¼Œæ— éœ€è®¢é˜…é‡æ–°æ¸²æŸ“å‡½æ•°ï¼Œåªè¦ç”Ÿæˆæ–°çš„Stateå³å¯</p>
<p>ï¼ˆ3ï¼‰Vuexæ•°æ®æµçš„é¡ºåºæ˜¯:Viewè°ƒç”¨store.commitæäº¤å¯¹åº”çš„è¯·æ±‚åˆ°Storeä¸­å¯¹åº”çš„mutationå‡½æ•°-&gt;storeæ”¹å˜(vueæ£€æµ‹åˆ°æ•°æ®å˜åŒ–è‡ªåŠ¨æ¸²æŸ“)</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-Reduxéµå¾ªçš„ä¸‰ä¸ªåŸåˆ™æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-Reduxéµå¾ªçš„ä¸‰ä¸ªåŸåˆ™æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸  Reduxéµå¾ªçš„ä¸‰ä¸ªåŸåˆ™æ˜¯ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸  Reduxéµå¾ªçš„ä¸‰ä¸ªåŸåˆ™æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>1ã€å•ä¸€æ•°æ®æº</p>
<p>æ•´ä¸ªåº”ç”¨çš„stateè¢«å­˜å‚¨åœ¨ä¸€æ£µobject treeä¸­ï¼Œå¹¶ä¸”æ•´ä¸ª object tree åªå­˜åœ¨äºå”¯ä¸€ä¸€ä¸ª store ä¸­</p>
<p>2ã€Stateæ˜¯åªè¯»çš„</p>
<p>å”¯ä¸€æ”¹å˜stateçš„æ–¹æ³•å°±æ˜¯è§¦å‘ actionï¼Œactionæ˜¯ä¸€ä¸ªæè¿°å·²å‘ç”Ÿäº‹ä»¶çš„æ™®é€šå¯¹è±¡ï¼Œè¿™æ ·ç¡®ä¿è§†å›¾å’Œç½‘ç»œè¯·æ±‚ä¸èƒ½ç›´æ¥ä¿®æ”¹state</p>
<p>3ã€ä½¿ç”¨çº¯å‡½æ•°æ¥æ‰§è¡Œä¿®æ”¹</p>
<p>ä¸ºäº†æè¿°actionå¦‚ä½•æ”¹å˜state treeï¼Œä½ éœ€è¦ç¼–å†™reducers</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-Reactä¸­çš„keysçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-Reactä¸­çš„keysçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸  Reactä¸­çš„keysçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸  Reactä¸­çš„keysçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>key æ˜¯ç”¨æ¥å¸®åŠ© react è¯†åˆ«å“ªäº›å†…å®¹è¢«æ›´æ”¹ã€æ·»åŠ æˆ–è€…åˆ é™¤ã€‚key éœ€è¦å†™åœ¨ç”¨æ•°ç»„æ¸²æŸ“å‡ºæ¥çš„å…ƒç´ å†…éƒ¨ï¼Œå¹¶ä¸”éœ€è¦èµ‹äºˆå…¶ä¸€ä¸ªç¨³å®šçš„å€¼ã€‚ç¨³å®šåœ¨è¿™é‡Œå¾ˆé‡è¦ï¼Œå› ä¸ºå¦‚æœ key å€¼å‘ç”Ÿäº†å˜æ›´ï¼Œreact åˆ™ä¼šè§¦å‘ UI çš„é‡æ¸²æŸ“ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„ç‰¹æ€§ã€‚</p>
<p>1ã€key çš„å”¯ä¸€æ€§</p>
<p>åœ¨ç›¸é‚»çš„å…ƒç´ é—´ï¼Œkey å€¼å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œå¦‚æœå‡ºç°äº†ç›¸åŒçš„ keyï¼ŒåŒæ ·ä¼šæŠ›å‡ºä¸€ä¸ª Warningï¼Œå‘Šè¯‰ç›¸é‚»ç»„ä»¶é—´æœ‰é‡å¤çš„ key å€¼ã€‚å¹¶ä¸”åªä¼šæ¸²æŸ“ç¬¬ä¸€ä¸ªé‡å¤ key å€¼ä¸­çš„å…ƒç´ ï¼Œå› ä¸º react ä¼šè®¤ä¸ºåç»­æ‹¥æœ‰ç›¸åŒkey çš„éƒ½æ˜¯åŒä¸€ä¸ªç»„ä»¶ã€‚</p>
<p>2ã€key å€¼ä¸å¯è¯»</p>
<p>è™½ç„¶æˆ‘ä»¬åœ¨ç»„ä»¶ä¸Šå®šä¹‰äº† keyï¼Œä½†æ˜¯åœ¨å…¶å­ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰åŠæ³•æ‹¿åˆ° key çš„å€¼ï¼Œå› ä¸º key ä»…ä»…æ˜¯ç»™react å†…éƒ¨ä½¿ç”¨çš„ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ° key å€¼ï¼Œå¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼ä¼ å…¥ï¼Œæ¯”å¦‚å°† key å€¼èµ‹ç»™ id ç­‰</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-reduxä¸­ä½¿ç”¨setStateä¸èƒ½ç«‹åˆ»è·å–å€¼ï¼Œæ€ä¹ˆåŠ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-reduxä¸­ä½¿ç”¨setStateä¸èƒ½ç«‹åˆ»è·å–å€¼ï¼Œæ€ä¹ˆåŠ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸  reduxä¸­ä½¿ç”¨setStateä¸èƒ½ç«‹åˆ»è·å–å€¼ï¼Œæ€ä¹ˆåŠ"></a>â™¥ï¸â™¥ï¸â™¥ï¸  reduxä¸­ä½¿ç”¨setStateä¸èƒ½ç«‹åˆ»è·å–å€¼ï¼Œæ€ä¹ˆåŠ</h3><p>setState åªåœ¨åˆæˆäº‹ä»¶å’Œé’©å­å‡½æ•°ä¸­æ˜¯å¼‚æ­¥çš„ï¼Œåœ¨åŸç”Ÿäº‹ä»¶å’Œ setTimeout ä¸­éƒ½æ˜¯åŒæ­¥</p>
<p>â‘ addeventListeneræ·»åŠ çš„äº‹ä»¶æˆ–è€…domäº‹ä»¶ä¸­è§¦å‘</p>
<p>â‘¡setStateæ¥æ”¶çš„å‚æ•°è¿˜å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨è¿™ä¸ªå‡½æ•°ä¸­å¯ä»¥æ‹¿å…ˆå‰çš„çŠ¶æ€ï¼Œå¹¶é€šè¿‡è¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼å¾—åˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚</p>
<pre><code class="react"> this.setState((preState) =&gt; &#123;
 return &#123;
 xxx: preState.xxx + yyy
 &#125;
&#125;)
</code></pre>
<p>â‘¢async&#x2F;await å¼‚æ­¥è°ƒç”¨å¤„ç†</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-Reactæ–°è€ç‰ˆç”Ÿå‘½å‘¨æœŸå‡½æ•°"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-Reactæ–°è€ç‰ˆç”Ÿå‘½å‘¨æœŸå‡½æ•°" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸  Reactæ–°è€ç‰ˆç”Ÿå‘½å‘¨æœŸå‡½æ•°"></a>â™¥ï¸â™¥ï¸â™¥ï¸  Reactæ–°è€ç‰ˆç”Ÿå‘½å‘¨æœŸå‡½æ•°</h3><h4 id="New-Version"><a href="#New-Version" class="headerlink" title="New Version"></a>New Version</h4><p>æŒ‚è½½ï¼šconstructor â€“&gt; getDerivedStateFromProps â€“&gt; render â€“&gt; componentDidMount</p>
<p>æ›´æ–°ï¼š</p>
<p>setState() â€“&gt; getDerivedStateFromProps â€“&gt; shouldComponentUpdate â€“&gt; render â€“&gt;getSnapshotBeforeUpdate â€“&gt; componentDidUpdate</p>
<p>forceUpdate() â€“&gt; getDerivedStateFromProps â€“&gt; render â€“&gt; getSnapshotBeforeUpdate â€“&gt;componentDidUpdate</p>
<p>å¸è½½ï¼š componentWillUnmount</p>
<h4 id="Old-Version"><a href="#Old-Version" class="headerlink" title="Old Version"></a>Old Version</h4><p>æŒ‚è½½ï¼šconstructor â€“&gt; getDerivedStateFromProps â€“&gt; render â€“&gt; ComponentDidMount</p>
<p>æ›´æ–°ï¼š</p>
<p>New props â€“&gt; getDerivedStateFromProps â€“&gt; shouldComponentUpdate â€“&gt; render â€“&gt;getSnapshotBeforeUpdate â€“&gt; componentDidUpdate</p>
<p>setState() â€“&gt; shouldComponentUpdate â€“&gt; render â€“&gt; getSnapshotBeforeUpdate â€“&gt;componentDidUpdate</p>
<p>forceUpdate() â€“&gt; render â€“&gt; getSnapshotBeforeUpdate â€“&gt; componentDidUpdate</p>
<p>å¸è½½ï¼šcomponentWillUnmount</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-Reactä¸­æ€ä¹ˆè®©-setState-åŒæ­¥æ›´æ–°ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-Reactä¸­æ€ä¹ˆè®©-setState-åŒæ­¥æ›´æ–°ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ Reactä¸­æ€ä¹ˆè®© setState åŒæ­¥æ›´æ–°ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ Reactä¸­æ€ä¹ˆè®© setState åŒæ­¥æ›´æ–°ï¼Ÿ</h3><p>setState å›è°ƒï¼ŒsetState,ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå¯å®ç°åŒæ­¥</p>
<p>å¼•å…¥ Promise å°è£… setStateï¼Œåœ¨è°ƒç”¨æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Async&#x2F;Await è¯­æ³•æ¥ä¼˜åŒ–ä»£ç é£æ ¼</p>
<pre><code class="react">setStateAsync(state) &#123;
 return new Promise((resolve) =&gt; &#123;
 this.setState(state, resolve)
 &#125;);
&#125;

//ä¼ å…¥çŠ¶æ€è®¡ç®—å‡½æ•°ï¼Œ setState çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ
this.setState((prevState, props) =&gt; (&#123; count: prevState.count + 1
&#125;));

//åœ¨ setTimeout å‡½æ•°ä¸­è°ƒç”¨ setState
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ä¸ºä»€ä¹ˆä¸å»ºè®®åœ¨-componentWillMount-åšAJAXæ“ä½œ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ä¸ºä»€ä¹ˆä¸å»ºè®®åœ¨-componentWillMount-åšAJAXæ“ä½œ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ä¸ºä»€ä¹ˆä¸å»ºè®®åœ¨ componentWillMount åšAJAXæ“ä½œ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ä¸ºä»€ä¹ˆä¸å»ºè®®åœ¨ componentWillMount åšAJAXæ“ä½œ</h3><p>FiberåŸå› ï¼ŒReact16ä¹‹åï¼Œé‡‡ç”¨äº†Fiberæ¶æ„ï¼Œåªæœ‰componentDidMountçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ç¡®å®šä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå…¶ä»–åƒcomponentWillMountå¯èƒ½ä¼šæ‰§è¡Œå¤šæ¬¡</p>
<p>render é˜¶æ®µ å¯èƒ½ä¼šè¢«Reactæš‚åœï¼Œä¸­æ­¢æˆ–é‡å¯</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-æ€ä¹ˆç”¨useEffectæ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-æ€ä¹ˆç”¨useEffectæ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ æ€ä¹ˆç”¨useEffectæ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ æ€ä¹ˆç”¨useEffectæ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Ÿ</h3><ul>
<li>é»˜è®¤å‡½æ•°ç»„ä»¶æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸ</li>
<li>å‡½æ•°ç»„ä»¶æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œæ‰§è¡Œå®Œå³é”€æ¯ï¼Œè‡ªå·±æ— æ³•å®ç°ç”Ÿå‘½å‘¨æœŸ</li>
<li>é€šè¿‡Effect hookæŠŠç”Ÿå‘½å‘¨æœŸâ€œé’©â€åˆ°çº¯å‡½æ•°ä¸­</li>
</ul>
<pre><code class="react">Â  Â  // æ¨¡æ‹Ÿ class ç»„ä»¶çš„ DidMount å’Œ DidUpdate
Â  Â  useEffect(() =&gt; &#123;
Â  Â  Â  console.log(&#39;åœ¨æ­¤å‘é€ä¸€ä¸ª ajax è¯·æ±‚&#39;)
Â  Â  &#125;)
Â 
Â  Â  // æ¨¡æ‹Ÿ class ç»„ä»¶çš„ DidMount
Â  Â  Â useEffect(() =&gt; &#123;
Â  Â  Â  Â  console.log(&#39;åŠ è½½å®Œäº†&#39;)
Â  Â  Â &#125;, []) // ç¬¬äºŒä¸ªå‚æ•°æ˜¯ [] ï¼ˆä¸ä¾èµ–äºä»»ä½• stateï¼‰
Â 
Â  Â  Â // æ¨¡æ‹Ÿ class ç»„ä»¶çš„ DidUpdate
Â  Â  Â useEffect(() =&gt; &#123;
Â  Â  Â  Â  Â console.log(&#39;æ›´æ–°äº†&#39;)
Â  Â  Â &#125;, [count, name]) // ç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯ä¾èµ–çš„ state
Â 
Â  Â  // æ¨¡æ‹Ÿ class ç»„ä»¶çš„ DidMount
Â  Â  useEffect(() =&gt; &#123;
Â  Â  Â  Â  let timerId = window.setInterval(() =&gt; &#123;
Â  Â  Â  Â  Â  Â  console.log(Date.now())
Â  Â  Â  Â  &#125;, 1000)
Â 
Â  Â  Â  Â  // è¿”å›ä¸€ä¸ªå‡½æ•°
Â  Â  Â  Â  // æ¨¡æ‹Ÿ WillUnMount ç»„ä»¶é”€æ¯çš„æ—¶å€™ åœæ­¢è®¡æ—¶å™¨
Â  Â  Â  Â  return () =&gt; &#123;
Â  Â  Â  Â  Â  Â  window.clearInterval(timerId)
Â  Â  Â  Â  &#125;
Â  Â  &#125;, [])
</code></pre>
<ul>
<li>æ¨¡æ‹ŸcomponentDidMount  -  useEffect ä¾èµ– [ ]</li>
<li>æ¨¡æ‹ŸcompenentDidUpdate - useEffect æ— ä¾èµ– ï¼Œæˆ–è€… ä¾èµ– [a,b,c]</li>
<li>æ¨¡æ‹ŸcomponentWillUnMount - useEffect ä¸­è¿”å›ä¸€ä¸ªå‡½æ•°</li>
</ul>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-å„ç§useEffectä½¿ç”¨æƒ…å†µï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-å„ç§useEffectä½¿ç”¨æƒ…å†µï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ å„ç§useEffectä½¿ç”¨æƒ…å†µï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ å„ç§useEffectä½¿ç”¨æƒ…å†µï¼Ÿ</h3><p>1ã€é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒåœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“ä¹‹åå’Œæ¯æ¬¡æ›´æ–°ä¹‹åéƒ½ä¼šæ‰§è¡Œï¼Œæ— éœ€æ¸…é™¤çš„effect</p>
<pre><code class="react">// åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­ åœ¨ returnä¹‹å‰
// Similar to componentDidMount and componentDidUpdate:
 useEffect(() =&gt; &#123;
 // Update the document title using the browser API
 document.title = You clicked $&#123;count&#125; times ;
 &#125;);
</code></pre>
<p>2ã€éœ€è¦æ¸…é™¤çš„effectï¼šReact ä¼šåœ¨ç»„ä»¶å¸è½½çš„æ—¶å€™æ‰§è¡Œæ¸…é™¤æ“ä½œ</p>
<pre><code class="react"> useEffect(() =&gt; &#123;
 function handleStatusChange(status) &#123;
 setIsOnline(status.isOnline);
 &#125;
 ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);
 // Specify how to clean up after this effect:
 return function cleanup() &#123;
 ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);
 &#125;;
 &#125;);
</code></pre>
<p>3ã€ä½¿ç”¨å¤šä¸ªeffectå®ç°å…³æ³¨ç‚¹çš„åˆ†ç¦»</p>
<p>æŠŠç±»ç»„ä»¶ä¸­çš„åˆ†æ•£åœ¨å¤šä¸ªç”Ÿå‘½å‘¨æœŸä¸­çš„åŒä¸€ä»¶äº‹ä»¶çš„å¤„ç†ï¼Œåˆå¹¶åˆ°åŒä¸€ä¸ªeffectä¸­å¤„ç†</p>
<p>4ã€é€šè¿‡è·³è¿‡effectè¿›è¡Œæ€§èƒ½ä¼˜åŒ–</p>
<pre><code class="react">useEffect(() =&gt; &#123;
 document.title = You clicked $&#123;count&#125; times ;
&#125;, [count]); // ä»…åœ¨ count æ›´æ”¹æ—¶æ›´æ–°
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-useCallbackæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿä½¿ç”¨useCallbackæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-useCallbackæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿä½¿ç”¨useCallbackæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸  useCallbackæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿä½¿ç”¨useCallbackæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸  useCallbackæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿä½¿ç”¨useCallbackæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ</h3><p>æŠŠå†…è”å›è°ƒå‡½æ•°åŠä¾èµ–é¡¹æ•°ç»„ä½œä¸ºå‚æ•°ä¼ å…¥ useCallbackï¼Œå®ƒå°†è¿”å›è¯¥å›è°ƒå‡½æ•°çš„ memoized(ç¼“å­˜)ç‰ˆæœ¬ï¼Œè¯¥å›è°ƒå‡½æ•°ä»…åœ¨æŸä¸ªä¾èµ–é¡¹æ”¹å˜æ—¶æ‰ä¼šæ›´æ–° å¥½å¤„ å½“ä½ æŠŠå›è°ƒå‡½æ•°ä¼ é€’ç»™ç»è¿‡ä¼˜åŒ–çš„å¹¶ä½¿ç”¨å¼•ç”¨ç›¸ç­‰æ€§å»é¿å…éå¿…è¦æ¸²æŸ“ï¼ˆä¾‹å¦‚ shouldComponentUpdateï¼‰çš„å­ç»„ä»¶æ—¶ï¼Œå®ƒå°†éå¸¸æœ‰ç”¨</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-èƒ½ç®€å•è¯´ä¸€ä¸‹redux-sageçš„ä½¿ç”¨æµç¨‹å—ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-èƒ½ç®€å•è¯´ä¸€ä¸‹redux-sageçš„ä½¿ç”¨æµç¨‹å—ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸  èƒ½ç®€å•è¯´ä¸€ä¸‹redux-sageçš„ä½¿ç”¨æµç¨‹å—ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸  èƒ½ç®€å•è¯´ä¸€ä¸‹redux-sageçš„ä½¿ç”¨æµç¨‹å—ï¼Ÿ</h3><p>redux-saga æ˜¯ä¸€ä¸ªç”¨äºç®¡ç† Redux åº”ç”¨å¼‚æ­¥æ“ä½œçš„ä¸­é—´ä»¶ï¼ˆåˆç§°å¼‚æ­¥ actionï¼‰ã€‚ redux-saga é€šè¿‡åˆ›å»º Sagas å°†æ‰€æœ‰çš„å¼‚æ­¥æ“ä½œé€»è¾‘æ”¶é›†åœ¨ä¸€ä¸ªåœ°æ–¹é›†ä¸­å¤„ç†ï¼Œå¯ä»¥ç”¨æ¥ä»£æ›¿ redux-thunk ä¸­é—´ä»¶ã€‚</p>
<p>Reducers è´Ÿè´£å¤„ç† action çš„ state æ›´æ–°</p>
<p>Sagas è´Ÿè´£åè°ƒé‚£äº›å¤æ‚æˆ–å¼‚æ­¥çš„æ“ä½œ</p>
<p>1ã€connet to the storeï¼šæœ¬è´¨æ˜¯ç®¡ç† Redux åº”ç”¨å¼‚æ­¥æ“ä½œçš„ä¸­é—´ä»¶</p>
<pre><code class="react">import &#123; createStore, applyMiddleware &#125; from &#39;redux&#39;
import createSagaMiddleware from &#39;redux-saga&#39;
import reducer from &#39;./reducers&#39;
import mySaga from &#39;./sagas&#39;
// Create the saga middleware
const sagaMiddleware = createSagaMiddleware()
// Mount it on the Store
const store = createStore(
 reducer,
 applyMiddleware(sagaMiddleware)
)
// Then run the saga
sagaMiddleware.run(mySaga)
// Render the application
</code></pre>
<p>2ã€initiate a side effectï¼šåˆå§‹åŒ–å‰¯ä½œç”¨</p>
<pre><code class="react">import &#123; call, put, takeEvery, takeLatest &#125; from &#39;redux-saga/effects&#39;
import Api from &#39;...&#39;
// Worker saga will be fired on USER_FETCH_REQUESTED actions
function* fetchUser(action) &#123;
 try &#123;
 const user = yield call(Api.fetchUser, action.payload.userId);
 yield put(&#123;type: &quot;USER_FETCH_SUCCEEDED&quot;, user: user&#125;);
 &#125; catch (e) &#123;
 yield put(&#123;type: &quot;USER_FETCH_FAILED&quot;, message: e.message&#125;);
 &#125;
&#125;
// Starts fetchUser on each dispatched USER_FETCH_REQUESTED action
// Allows concurrent fetches of user
function* mySaga() &#123;
 yield takeEvery(&quot;USER_FETCH_REQUESTED&quot;, fetchUser);
&#125;
</code></pre>
<p>3ã€dispath an actionï¼šç»„ä»¶ä¸­ä½¿ç”¨</p>
<pre><code class="react"> ...
 onSomeButtonClicked() &#123;
 const &#123; userId, dispatch &#125; = this.props
 dispatch(&#123;type: &#39;USER_FETCH_REQUESTED&#39;, payload: &#123;userId&#125;&#125;)
 &#125;
 ...
&#125;
</code></pre>
<p>4ã€moreï¼štakeEveryã€takeLatestã€takeã€putã€callã€forkã€select</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-redux-å’Œ-mobx-çš„åŒºåˆ«"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-redux-å’Œ-mobx-çš„åŒºåˆ«" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸  redux å’Œ mobx çš„åŒºåˆ«"></a>â™¥ï¸â™¥ï¸â™¥ï¸  redux å’Œ mobx çš„åŒºåˆ«</h3><p>1ã€Reduxçš„ç¼–ç¨‹èŒƒå¼æ˜¯å‡½æ•°å¼çš„è€ŒMobxæ˜¯é¢å‘å¯¹è±¡çš„</p>
<p>2ã€å› æ­¤æ•°æ®ä¸Šæ¥è¯´Reduxç†æƒ³çš„æ˜¯immutableçš„ï¼Œæ¯æ¬¡éƒ½è¿”å›ä¸€ä¸ªæ–°çš„æ•°æ®ï¼Œè€ŒMobxä»å§‹è‡³ç»ˆéƒ½æ˜¯ä¸€ä»½å¼•ç”¨ã€‚å› æ­¤Reduxæ˜¯æ”¯æŒæ•°æ®å›æº¯çš„</p>
<p>3ã€ç„¶è€Œå’ŒReduxç›¸æ¯”ï¼Œä½¿ç”¨Mobxçš„ç»„ä»¶å¯ä»¥åšåˆ°ç²¾ç¡®æ›´æ–°ï¼Œè¿™ä¸€ç‚¹å¾—ç›ŠäºMobxçš„observableï¼›å¯¹åº”çš„ï¼ŒReduxæ˜¯ç”¨dispatchè¿›è¡Œå¹¿æ’­ï¼Œé€šè¿‡Providerå’Œconnectæ¥æ¯”å¯¹å‰åå·®åˆ«æ§åˆ¶æ›´æ–°ç²’åº¦ï¼Œæœ‰æ—¶éœ€è¦è‡ªå·±å†™SCUï¼›Mobxæ›´åŠ ç²¾ç»†ä¸€ç‚¹</p>
<p>4ã€Mobx-react vs React-rduxï¼š</p>
<p>redux,é‡‡å–Providerå’Œconnectæ–¹å¼ï¼Œmobxé‡‡å–Providerå’Œinjectã€observer</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-reactä¸­å¦‚ä½•å®ç°å‘½åæ’æ§½"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-reactä¸­å¦‚ä½•å®ç°å‘½åæ’æ§½" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ reactä¸­å¦‚ä½•å®ç°å‘½åæ’æ§½"></a>â™¥ï¸â™¥ï¸â™¥ï¸ reactä¸­å¦‚ä½•å®ç°å‘½åæ’æ§½</h3><p>ç”±äºåœ¨Reactç»„ä»¶ä¸­å†™çš„å†…å®¹ä¼šè¢«æŒ‚è½½åˆ°propsä¸­ï¼Œä»¥æ­¤æ¥å®ç°ç±»ä¼¼vueä¸­çš„æ’æ§½åŠŸèƒ½</p>
<p>è¿™æ˜¯æœ€å¤–å±‚ä»£ç </p>
<pre><code class="react">import React, &#123; Component &#125; from &#39;react&#39;
import NavBar from &#39;./NavBar&#39;
import NavBar2 from &#39;./NavBar2&#39;

export default class App extends Component &#123;
  render() &#123;
    return (
      &lt;div&gt;
        &lt;NavBar&gt;
          &lt;span&gt;aaa&lt;/span&gt;
          &lt;strong&gt;bbb&lt;/strong&gt;
          &lt;a href=&quot;/#&quot;&gt;ccc&lt;/a&gt;
        &lt;/NavBar&gt;

        &lt;NavBar2 leftslot=&#123;&lt;span&gt;aaa&lt;/span&gt;&#125;
        centerslot=&#123;&lt;strong&gt;bbb&lt;/strong&gt;&#125;
        rightslot=&#123;&lt;a href=&quot;/#&quot;&gt;ccc&lt;/a&gt;&#125;/&gt;
      &lt;/div&gt;
    )
  &#125;
&#125;
</code></pre>
<p>1.ç”¨this.props.children[index]</p>
<pre><code class="react">import React, &#123; Component &#125; from &#39;react&#39;

import &#39;./style.css&#39;
export default class NavBar extends Component &#123;
  render () &#123;
    return (
      &lt;div className=&quot;nav-bar&quot;&gt;
        &lt;div className=&quot;nav-left&quot;&gt;
          &#123;this.props.children[0]&#125;
        &lt;/div&gt;
        &lt;div className=&quot;nav-center&quot;&gt;
          &#123;this.props.children[1]&#125;
        &lt;/div&gt;
        &lt;div className=&quot;nav-right&quot;&gt;
          &#123;this.props.children[2]&#125;
        &lt;/div&gt;
      &lt;/div&gt;
    )
  &#125;
&#125;
</code></pre>
<p>2.ç”¨ç›´æ¥å‘½åæ–¹å¼</p>
<pre><code class="react">import React, &#123; Component &#125; from &#39;react&#39;

import &#39;./style.css&#39;
export default class NavBar extends Component &#123;
  render () &#123;
    const &#123;leftslot, centerslot,rightslot&#125; = this.props
    return (
      &lt;div className=&quot;nav-bar&quot;&gt;
        &lt;div className=&quot;nav-left&quot;&gt;
          &#123;leftslot&#125;
        &lt;/div&gt;
        &lt;div className=&quot;nav-center&quot;&gt;
          &#123;centerslot&#125;
        &lt;/div&gt;
        &lt;div className=&quot;nav-right&quot;&gt;
          &#123;rightslot&#125;
        &lt;/div&gt;
      &lt;/div&gt;
    )
  &#125;
&#125;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ç®€å•è¯´ä¸€ä¸‹ï¼Œå¦‚ä½•åœ¨reactä¸­å®ç°ç€‘å¸ƒæµåŠ è½½ï¼Ÿï¼ˆå·¦å³ä¸¤åˆ—çš„ä¸€ä¸ªå•†å“é•¿åˆ—è¡¨ï¼‰"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ç®€å•è¯´ä¸€ä¸‹ï¼Œå¦‚ä½•åœ¨reactä¸­å®ç°ç€‘å¸ƒæµåŠ è½½ï¼Ÿï¼ˆå·¦å³ä¸¤åˆ—çš„ä¸€ä¸ªå•†å“é•¿åˆ—è¡¨ï¼‰" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸  ç®€å•è¯´ä¸€ä¸‹ï¼Œå¦‚ä½•åœ¨reactä¸­å®ç°ç€‘å¸ƒæµåŠ è½½ï¼Ÿï¼ˆå·¦å³ä¸¤åˆ—çš„ä¸€ä¸ªå•†å“é•¿åˆ—è¡¨ï¼‰"></a>â™¥ï¸â™¥ï¸â™¥ï¸  ç®€å•è¯´ä¸€ä¸‹ï¼Œå¦‚ä½•åœ¨reactä¸­å®ç°ç€‘å¸ƒæµåŠ è½½ï¼Ÿï¼ˆå·¦å³ä¸¤åˆ—çš„ä¸€ä¸ªå•†å“é•¿åˆ—è¡¨ï¼‰</h3><p>æ ¹æ®çº¢çº¿ï¼Œå°†æ•°æ®åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œç„¶åæ ¹æ®ä¸¤è¾¹çš„é«˜åº¦ï¼ˆå“ªè¾¹å°‘å¾€é‚£è¾¹åŠ å†…å®¹ï¼‰å»æ¸²æŸ“ä¸¤ä¸ªç›’å­ï¼Œç„¶åè¾¾åˆ°ä¸€ä¸ªç€‘å¸ƒæµçš„æ•ˆæœ</p>
<pre><code class="react">import React, &#123; Component,Fragment &#125; from &#39;react&#39;;
import &#123;connect&#125; from&#39;react-redux&#39;
import Axios from &#39;_axios@0.19.0@axios&#39;;
class Waterfall extends Component &#123;
 constructor(props) &#123;
 super(props);
 this.state = &#123; 
 data:[],//æ•´ä½“çš„æ•°æ®
 leftData:[],//å·¦è¾¹çš„æ•°æ®
 rightData:[]//å³è¾¹çš„æ•°æ®
 &#125;
 &#125;
 getHW(data)&#123;
 let heightDate = [0,0];//æ¥æ”¶ç´¯è®¡é«˜åº¦çš„å®¹å™¨æ•°ç»„
 let rightData =[]//æ¸²æŸ“å³ä¾§ç›’å­çš„æ•°ç»„
 let leftData = []//æ¸²æŸ“å·¦ä¾§ç›’å­çš„æ•°ç»„
 data.forEach(item =&gt; &#123;
 let height = item.src.replace(&#39;http://dummyimage.com/&#39;,&#39;&#39;).substr(0,7).split(&#39;x&#39;)[1]*1;//å¯¹urlåœ°å€è¿›è¡Œä¸€
ä¸ªæˆªå–ï¼Œæ‹¿åˆ°é«˜åº¦
 let minNum = Math.min.apply(null,heightDate)// ä»heighetDataç­›é€‰æœ€å°é¡¹
 let minIndex = heightDate.indexOf(minNum);// è·å– æœ€å°é¡¹çš„å°æ ‡ å‡†å¤‡å¼€å§‹è¿›è¡Œç´¯åŠ 
 heightDate[minIndex] = heightDate[minIndex] + height;//ä» heightData ä¸­æ‰¾åˆ°æœ€å°çš„é¡¹åè¿›è¡Œç´¯åŠ ï¼Œ
 if(minIndex===0)&#123;//[0]åŠ åˆ°left [1]åŠ åˆ° right
 leftData.push(item)
 &#125;else&#123;
 rightData.push(item)
 &#125;
 &#125;)
 this.setState(&#123; leftData,rightData &#125;);//é‡æ–°set state
 &#125;
 render() &#123; 
 let &#123;leftData,rightData&#125; = this.state;
 console.log(leftData,rightData)
 return ( 
 
 
&#123; leftData &amp;&amp; leftData.map((item,index)=&gt;&#123; return &#125;) &#125; &#123; rightData &amp;&amp; rightData.map((item,index)=&gt;&#123; return &#125;) &#125;
); &#125; componentDidMount()&#123; Axios.get(&#39;/api/data&#39;).then(res=&gt;&#123; this.props.dispatch(&#123; type:&#39;SET_DATA&#39;,
data:res.data.data &#125;) this.getHW(this.props.data) //è°ƒç”¨ &#125;) &#125; &#125;
export default connect(
 (state)=&gt;&#123;
 return&#123;
 data:state.data,
 &#125;
 &#125;
)(Waterfall);
</code></pre>
<hr>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-React-hooks-ç”¨è¿‡å—ï¼Œä¸ºä»€ä¹ˆè¦ç”¨ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-React-hooks-ç”¨è¿‡å—ï¼Œä¸ºä»€ä¹ˆè¦ç”¨ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ React hooks ç”¨è¿‡å—ï¼Œä¸ºä»€ä¹ˆè¦ç”¨ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ React hooks ç”¨è¿‡å—ï¼Œä¸ºä»€ä¹ˆè¦ç”¨ï¼Ÿ</h3><p>Hooks æ˜¯Reactåœ¨16.8ç‰ˆæœ¬ä¸­å‡ºçš„ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œæœ¬è´¨æ˜¯ä¸€ç§å‡½æ•°ï¼Œå¯ä»¥å®ç°ç»„ä»¶é€»è¾‘å¤ç”¨ï¼Œè®©æˆ‘ä»¬åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­ä½¿ç”¨ç±»ç»„ä»¶ä¸­çš„çŠ¶æ€ã€ç”Ÿå‘½å‘¨æœŸç­‰åŠŸèƒ½ï¼Œhooksçš„åå­—éƒ½æ˜¯ä»¥useå¼€å¤´ã€‚</p>
<pre><code class="css">1ã€useStateâ€”â€”åˆ›å»ºçŠ¶æ€ æ¥æ”¶ä¸€ä¸ªå‚æ•°ä½œä¸ºåˆå§‹å€¼ï¼›è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œç¬¬ä¸€ä¸ªå€¼ä¸ºçŠ¶æ€ï¼Œç¬¬äºŒä¸ªå€¼ä¸ºæ”¹å˜çŠ¶æ€çš„å‡½æ•° 
2ã€useEffectâ€”â€”å‰¯ä½œç”¨ï¼ˆæ•°æ®è·å–ã€domæ“ä½œå½±å“é¡µé¢â€”â€”åœ¨æ¸²æŸ“ç»“æŸä¹‹åæ‰§è¡Œ)
        (1)ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¾èµ–åˆ—è¡¨ï¼Œåªæœ‰ä¾èµ–æ›´æ–°æ—¶æ‰ä¼šæ‰§è¡Œå‡½æ•°ï¼›è¿”å›ä¸€ä¸ªå‡½ æ•°ï¼Œå½“é¡µé¢åˆ·æ–°çš„æ—¶å€™å…ˆæ‰§è¡Œè¿”å›å‡½æ•°å†æ‰§è¡Œå‚æ•°å‡½æ•° 
        (2)å¦‚æœä¸æ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œé‚£ä¹ˆåœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“å®Œæˆä¹‹åå’Œæ¯æ¬¡æ›´æ–°æ¸²æŸ“é¡µé¢çš„æ—¶å€™ï¼Œéƒ½ä¼šè°ƒ ç”¨useEffectçš„å›è°ƒå‡½æ•° 
3ã€useRef è¿”å›ä¸€ä¸ªå¯å˜çš„refå¯¹è±¡ï¼Œæ­¤ç´¢å¼•åœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ä¿æŒä¸å˜ã€‚å¯ä»¥ç”¨æ¥è·å–å…ƒç´ æˆ–ç»„ä»¶çš„å®ä¾‹ï¼Œç”¨æ¥åš è¾“å…¥æ¡†çš„èšç„¦æˆ–è€…åŠ¨ç”»çš„è§¦å‘ã€‚ 
4ã€useMemoâ€”â€”ä¼˜åŒ–å‡½æ•°ç»„ä»¶ä¸­çš„åŠŸèƒ½å‡½æ•°â€”â€”åœ¨æ¸²æŸ“æœŸé—´æ‰§è¡Œ 
    ï¼ˆ1ï¼‰æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼ŒåŒæ ·æ¥æ”¶ç¬¬äºŒä¸ªå‚æ•°ä½œä¸ºä¾èµ–åˆ—è¡¨ï¼Œè¿”å›å€¼å¯ä»¥æ˜¯ä»»ä½•ï¼Œå‡½æ•°ã€å¯¹è±¡ç­‰éƒ½å¯ ä»¥ 
    ï¼ˆ2ï¼‰è¿™ç§ä¼˜åŒ–æœ‰åŠ©äºé¿å…åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½è¿›è¡Œé«˜å¼€é”€çš„è®¡ç®—ï¼Œä»…ä¼šåœ¨æŸä¸ªä¾èµ–é¡¹æ”¹å˜æ—¶æ‰é‡æ–°è®¡ç®— 
5ã€useContextâ€”â€”è·å–ä¸Šä¸‹æ–‡æ³¨å…¥çš„å€¼ 
        (1)æ¥å—ä¸€ä¸ªcontext å¯¹è±¡ï¼Œå¹¶è¿”å›è¯¥å¯¹è±¡&lt;MyContext.Provider&gt; å…ƒç´ çš„ valueå€¼ï¼› const value = useContext(MyContext)ï¼› 
6ã€useLayoutEffectâ€”â€”æœ‰DOMæ“ä½œçš„å‰¯ä½œç”¨â€”â€”åœ¨DOMæ›´æ–°ä¹‹åæ‰§è¡Œ å’ŒuseEffetç±»ä¼¼ï¼Œä½†æ˜¯æ‰§è¡Œæ—¶æœºä¸åŒï¼ŒuseLayoutEffectåœ¨DOMæ›´æ–°ä¹‹åæ‰§è¡Œï¼Œ useEffectåœ¨renderæ¸²æŸ“ç»“æŸåæ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´useLayoutEffectæ¯”useEffectå…ˆæ‰§è¡Œï¼Œè¿™æ˜¯å› ä¸ºDOMæ›´ æ–°ä¹‹åï¼Œæ¸²æŸ“æ‰ç»“æŸæˆ–è€…æ¸²æŸ“è¿˜ä¼šç»“æŸ 
7ã€useCallbackâ€”â€”ä¸useMemoç±»ä¼¼
useMemoä¸useCallbackç›¸åŒï¼Œæ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œä¹ŸåŒæ ·æ¥æ”¶ç¬¬äºŒä¸ªå‚æ•°ä½œä¸ºä¾èµ–åˆ— è¡¨ï¼›useCallbackæ˜¯å¯¹ä¼ è¿‡æ¥çš„å›è°ƒå‡½æ•°ä¼˜åŒ–ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°
</code></pre>
<pre><code class="css">react-router:
 è¢«routeåŒ…è£¹çš„ç»„ä»¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨propsè¿›è¡Œè·¯ç”±ç›¸å…³æ“ä½œï¼Œä½†æ˜¯æ²¡æœ‰è¢«routeåŒ…è£¹çš„ç»„ä»¶åªèƒ½ç”¨withRouteré«˜é˜¶ç»„ä»¶ä¿®é¥°æˆ–è€…ä½¿ç”¨hooksè¿›è¡Œæ“ä½œ
 1ã€useHistoryâ€”â€”è·³è½¬è·¯ç”±
 2ã€useLocationâ€”â€”å¾—åˆ°urlå¯¹è±¡
 3ã€useParamsâ€”â€”å¾—åˆ°urlä¸Šçš„å‚æ•°

react-redux:
 1ã€useSelectorâ€”â€”å…±äº«çŠ¶æ€â€”â€”ä»reduxçš„storeä¸­æå–æ•°æ®
 2ã€useDispatchâ€”â€”å…±äº«çŠ¶æ€â€”â€”è¿”å›reduxçš„storeä¸­å¯¹dispatchçš„å¼•ç”¨
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-è™šæ‹ŸDOMçš„ä¼˜åŠ£å¦‚ä½•ï¼Ÿå®ç°åŸç†ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-è™šæ‹ŸDOMçš„ä¼˜åŠ£å¦‚ä½•ï¼Ÿå®ç°åŸç†ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ è™šæ‹ŸDOMçš„ä¼˜åŠ£å¦‚ä½•ï¼Ÿå®ç°åŸç†ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ è™šæ‹ŸDOMçš„ä¼˜åŠ£å¦‚ä½•ï¼Ÿå®ç°åŸç†ï¼Ÿ</h3><p>è™šæ‹Ÿdomæ˜¯ç”¨jsæ¨¡æ‹Ÿä¸€é¢—domæ ‘,æ”¾åœ¨æµè§ˆå™¨å†…å­˜ä¸­ï¼Œç›¸å½“äºåœ¨jså’ŒçœŸå®domä¸­åŠ äº†ä¸€ä¸ªç¼“å­˜ï¼Œåˆ©ç”¨dom diffç®—æ³•é¿å…äº†æ²¡æœ‰å¿…è¦çš„domæ“ä½œï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚</p>
<p> ä¼˜ç‚¹ï¼š</p>
<p> ï¼ˆ1ï¼‰è™šæ‹ŸDOMå…·æœ‰æ‰¹å¤„ç†å’Œé«˜æ•ˆçš„Diffç®—æ³•,æœ€ç»ˆè¡¨ç°åœ¨DOMä¸Šçš„ä¿®æ”¹åªæ˜¯å˜æ›´çš„éƒ¨åˆ†ï¼Œå¯ä»¥ä¿è¯éå¸¸é«˜æ•ˆçš„æ¸²æŸ“,ä¼˜åŒ–æ€§èƒ½ï¼›</p>
<p> ï¼ˆ2ï¼‰è™šæ‹ŸDOMä¸ä¼šç«‹é©¬è¿›è¡Œæ’ç‰ˆä¸é‡ç»˜æ“ä½œï¼Œå¯¹è™šæ‹ŸDOMè¿›è¡Œé¢‘ç¹ä¿®æ”¹ï¼Œæœ€åä¸€æ¬¡æ€§æ¯”è¾ƒå¹¶ä¿®æ”¹çœŸå®DOMä¸­éœ€è¦æ”¹çš„éƒ¨åˆ†ï¼›</p>
<p> ï¼ˆ3ï¼‰è™šæ‹Ÿ DOM æœ‰æ•ˆé™ä½å¤§é¢ç§¯çœŸå® DOM çš„é‡ç»˜ä¸æ’ç‰ˆï¼Œå› ä¸ºæœ€ç»ˆä¸çœŸå® DOM æ¯”è¾ƒå·®å¼‚ï¼Œå¯ä»¥åªæ¸²æŸ“å±€éƒ¨ï¼›</p>
<p> ç¼ºç‚¹ï¼š</p>
<p> ï¼ˆ1ï¼‰é¦–æ¬¡æ¸²æŸ“å¤§é‡DOMæ—¶ï¼Œç”±äºå¤šäº†ä¸€å±‚è™šæ‹ŸDOMçš„è®¡ç®—ï¼Œä¼šæ¯”innerHTMLæ’å…¥æ…¢ï¼›</p>
<pre><code class="css">Reactç»„ä»¶çš„æ¸²æŸ“è¿‡ç¨‹ï¼š 
ï¼ˆ1ï¼‰ä½¿ç”¨JSXç¼–å†™Reactç»„ä»¶åæ‰€æœ‰çš„JSXä»£ç ä¼šé€šè¿‡Babelè½¬åŒ–ä¸º React.createElementæ‰§è¡Œ; 
ï¼ˆ2ï¼‰createElementå‡½æ•°å¯¹ keyå’Œ refç­‰ç‰¹æ®Šçš„ propsè¿›è¡Œå¤„ç†ï¼Œå¹¶è·å– defaultPropså¯¹é»˜è®¤ propsè¿›è¡Œèµ‹å€¼ï¼Œå¹¶ä¸”å¯¹ä¼ å…¥çš„å­èŠ‚ç‚¹è¿›è¡Œå¤„ç†ï¼Œæœ€ç»ˆæ„é€ æˆä¸€ä¸ª ReactElementå¯¹è±¡ï¼ˆæ‰€è°“çš„è™šæ‹Ÿ DOMï¼‰ã€‚
ï¼ˆ3ï¼‰ReactDOM.renderå°†ç”Ÿæˆå¥½çš„è™šæ‹Ÿ DOMæ¸²æŸ“åˆ°æŒ‡å®šå®¹å™¨ä¸Šï¼Œå…¶ä¸­é‡‡ç”¨äº†æ‰¹å¤„ç†ã€äº‹åŠ¡ç­‰æœºåˆ¶å¹¶ä¸” å¯¹ç‰¹å®šæµè§ˆå™¨è¿›è¡Œäº†æ€§èƒ½ä¼˜åŒ–ï¼Œæœ€ç»ˆè½¬æ¢ä¸ºçœŸå® DOMã€‚

è™šæ‹ŸDOMçš„ç»„æˆâ€”â€”ReactElementelementå¯¹è±¡ç»“æ„ï¼š 
ï¼ˆ1ï¼‰typeï¼šå…ƒç´ çš„ç±»å‹ï¼Œå¯ä»¥æ˜¯åŸç”Ÿhtmlç±»å‹ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼Œæˆ–è€…è‡ªå®šä¹‰ç»„ä»¶ï¼ˆå‡½æ•°æˆ–classï¼‰ 
ï¼ˆ2ï¼‰keyï¼šç»„ä»¶çš„å”¯ä¸€æ ‡è¯†ï¼Œç”¨äºDiffç®—æ³•ï¼Œä¸‹é¢ä¼šè¯¦ç»†ä»‹ç» 
ï¼ˆ3ï¼‰refï¼šç”¨äºè®¿é—®åŸç”ŸdomèŠ‚ç‚¹ 
ï¼ˆ4ï¼‰propsï¼šä¼ å…¥ç»„ä»¶çš„propsï¼Œchidrenæ˜¯propsä¸­çš„ä¸€ä¸ªå±æ€§ï¼Œå®ƒå­˜å‚¨äº†å½“å‰ç»„ä»¶çš„å­©å­èŠ‚ç‚¹ï¼Œå¯ ä»¥æ˜¯æ•°ç»„ï¼ˆå¤šä¸ªå­©å­èŠ‚ç‚¹ï¼‰æˆ–å¯¹è±¡ï¼ˆåªæœ‰ä¸€ä¸ªå­©å­èŠ‚ç‚¹ï¼‰ 
ï¼ˆ5ï¼‰ownerï¼šå½“å‰æ­£åœ¨æ„å»ºçš„Componentæ‰€å±çš„Component 
ï¼ˆ6ï¼‰selfï¼šï¼ˆéç”Ÿäº§ç¯å¢ƒï¼‰æŒ‡å®šå½“å‰ä½äºå“ªä¸ªç»„ä»¶å®ä¾‹ 
ï¼ˆ7ï¼‰_sourceï¼šï¼ˆéç”Ÿäº§ç¯å¢ƒï¼‰æŒ‡å®šè°ƒè¯•ä»£ç æ¥è‡ªçš„æ–‡ä»¶(fileName)å’Œä»£ç è¡Œæ•°(lineNumber)
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-React-å’Œ-Vue-çš„-diff-æ—¶é—´å¤æ‚åº¦ä»-O-n-3-ä¼˜åŒ–åˆ°-O-n-ï¼Œé‚£ä¹ˆ-O-n-3-å’Œ-O-n-æ˜¯å¦‚ä½•è®¡ç®—å‡ºæ¥çš„ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-React-å’Œ-Vue-çš„-diff-æ—¶é—´å¤æ‚åº¦ä»-O-n-3-ä¼˜åŒ–åˆ°-O-n-ï¼Œé‚£ä¹ˆ-O-n-3-å’Œ-O-n-æ˜¯å¦‚ä½•è®¡ç®—å‡ºæ¥çš„ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ React å’Œ Vue çš„ diff æ—¶é—´å¤æ‚åº¦ä» O(n^3) ä¼˜åŒ–åˆ° O(n) ï¼Œé‚£ä¹ˆ O(n^3) å’Œ O(n) æ˜¯å¦‚ä½•è®¡ç®—å‡ºæ¥çš„ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ React å’Œ Vue çš„ diff æ—¶é—´å¤æ‚åº¦ä» O(n^3) ä¼˜åŒ–åˆ° O(n) ï¼Œé‚£ä¹ˆ O(n^3) å’Œ O(n) æ˜¯å¦‚ä½•è®¡ç®—å‡ºæ¥çš„ï¼Ÿ</h3><p>reactçš„diffç®—æ³•åªéœ€è¦O(n)ï¼Œè¿™æ˜¯å› ä¸ºreactå¯¹æ ‘èŠ‚ç‚¹çš„æ¯”è¾ƒåšäº†ä¸€äº›å‰æå‡è®¾ï¼Œé™å®šæ­»äº†ä¸€äº›ä¸œè¥¿ï¼Œä¸åšè¿‡äºå¤æ‚çš„è®¡ç®—æ“ä½œï¼Œæ‰€ä»¥é™ä½äº†å¤æ‚åº¦ã€‚reactå’Œvueåšäº†ä»¥ä¸‹çš„å‡è®¾ï¼Œè¿™æ ·çš„è¯diffè¿ç®—æ—¶åªè¿›è¡ŒåŒå±‚æ¯”è¾ƒï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹åªéå†äº†ä¸€æ¬¡ã€‚</p>
<p> ï¼ˆ1ï¼‰Web UIä¸­DOMèŠ‚ç‚¹è·¨å±‚çº§çš„ç§»åŠ¨æ“ä½œç‰¹åˆ«å°‘ï¼Œå¯ä»¥å¿½ç•¥ä¸è®¡ï¼›</p>
<p> ï¼ˆ2ï¼‰æ‹¥æœ‰ç›¸åŒç±»çš„ä¸¤ä¸ªç»„ä»¶å°†ä¼šç”Ÿæˆç›¸ä¼¼çš„æ ‘å½¢ç»“æ„ï¼Œæ‹¥æœ‰ä¸åŒç±»çš„ä¸¤ä¸ªç»„ä»¶å°†ä¼šç”Ÿæˆä¸åŒçš„æ ‘å½¢ç»“æ„ï¼›</p>
<p> ï¼ˆ3ï¼‰å¯¹äºåŒä¸€å±‚çº§çš„ä¸€ç»„å­èŠ‚ç‚¹ï¼Œå®ƒä»¬å¯ä»¥é€šè¿‡å”¯ä¸€ id è¿›è¡ŒåŒºåˆ†ã€‚</p>
<blockquote>
<p>è€Œä¼ ç»Ÿçš„diffè¿ç®—æ—¶é—´å¤æ‚åº¦ä¸ºO(n^3)ï¼Œè¿™æ˜¯å› ä¸ºä¼ ç»Ÿçš„æ ‘èŠ‚ç‚¹è¦åšéå¸¸å®Œæ•´çš„æ£€æŸ¥ï¼Œé¦–å…ˆéœ€è¦èŠ‚ç‚¹ä¹‹ é—´éœ€è¦ä¸¤ä¸¤æ¯”è¾ƒï¼Œæ‰¾åˆ°æ‰€æœ‰å·®å¼‚ï¼Œè¿™ä¸ªå¯¹æ¯”è¿‡ç¨‹æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ï¼Œæ‰¾åˆ°å·®å¼‚åè¿˜è¦è®¡ç®—å‡ºæœ€å°çš„è½¬æ¢æ–¹å¼ï¼Œæœ€ç»ˆå¤æ‚åº¦ä¸ºO(n^3) </p>
</blockquote>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-è¯·åˆ—ä¸¾reactç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-è¯·åˆ—ä¸¾reactç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ è¯·åˆ—ä¸¾reactç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ è¯·åˆ—ä¸¾reactç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚</h3><table>
<thead>
<tr>
<th align="center">é˜¶æ®µ</th>
<th align="center">ç”Ÿå‘½å‘¨æœŸ</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ç¬¬ä¸€é˜¶æ®µï¼šè£…è½½é˜¶æ®µ3</td>
<td align="center">constructor()    render()    componentDidMount()</td>
</tr>
<tr>
<td align="center">ç¬¬äºŒé˜¶æ®µï¼šæ›´æ–°é˜¶æ®µ2</td>
<td align="center">shouldComponentUpdate()     render()    componentDidUpdate()</td>
</tr>
<tr>
<td align="center">ç¬¬ä¸‰é˜¶æ®µï¼šå¸è½½é˜¶æ®µ1</td>
<td align="center">componentWillUnmount()</td>
</tr>
</tbody></table>
<h4 id="constructorç”Ÿå‘½å‘¨æœŸï¼š"><a href="#constructorç”Ÿå‘½å‘¨æœŸï¼š" class="headerlink" title="constructorç”Ÿå‘½å‘¨æœŸï¼š"></a>constructorç”Ÿå‘½å‘¨æœŸï¼š</h4><p> (1)å½“reactç»„ä»¶å®ä¾‹åŒ–æ—¶ï¼Œæ˜¯ç¬¬ä¸€ä¸ªè¿è¡Œçš„ç”Ÿå‘½å‘¨æœŸï¼›</p>
<p> (2)åœ¨è¿™ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ï¼Œä¸èƒ½ä½¿ç”¨this.setState()ï¼›</p>
<p> (3)åœ¨è¿™ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ï¼Œä¸èƒ½ä½¿ç”¨å‰¯ä½œç”¨(è°ƒæ¥å£ã€domæ“ä½œã€å®šæ—¶å™¨ã€é•¿è¿æ¥ç­‰)ï¼›</p>
<p> (4)ä¸èƒ½æŠŠpropså’Œstateäº¤å‰èµ‹å€¼ï¼›</p>
<h4 id="componentDidMountç”Ÿå‘½å‘¨æœŸï¼š"><a href="#componentDidMountç”Ÿå‘½å‘¨æœŸï¼š" class="headerlink" title="componentDidMountç”Ÿå‘½å‘¨æœŸï¼š"></a>componentDidMountç”Ÿå‘½å‘¨æœŸï¼š</h4><p> (1)ç›¸å½“äºæ˜¯vueä¸­çš„mountedï¼›</p>
<p> (2)å®ƒè¡¨ç¤ºDOMç»“æ„åœ¨æµè§ˆå™¨ä¸­æ¸²æŸ“å·²å®Œæˆï¼›</p>
<p> (3)åœ¨è¿™é‡Œå¯ä»¥ä½¿ç”¨ä»»ä½•çš„å‰¯ä½œç”¨ï¼›</p>
<h4 id="shouldComponentUpdate-nextProps-nextState-ç”Ÿå‘½å‘¨æœŸï¼š"><a href="#shouldComponentUpdate-nextProps-nextState-ç”Ÿå‘½å‘¨æœŸï¼š" class="headerlink" title="shouldComponentUpdate(nextProps,nextState)ç”Ÿå‘½å‘¨æœŸï¼š"></a>shouldComponentUpdate(nextProps,nextState)ç”Ÿå‘½å‘¨æœŸï¼š</h4><p> (1)ç›¸å½“äºä¸€ä¸ªå¼€å…³ï¼Œå¦‚æœè¿”å›trueåˆ™æ›´æ–°æœºåˆ¶æ­£å¸¸æ‰§è¡Œï¼Œå¦‚æœä¸ºfalseåˆ™æ›´æ–°æœºåˆ¶åœæ­¢ï¼›</p>
<p> (2)åœ¨vueä¸­æ˜¯æ²¡æœ‰çš„ï¼›</p>
<p> (3)å­˜åœ¨çš„æ„ä¹‰ï¼šå¯ä»¥ç”¨äºæ€§èƒ½ä¼˜åŒ–ï¼Œä½†æ˜¯ä¸å¸¸ç”¨ï¼Œæœ€æ–°çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨PureComponentï¼›</p>
<p> (4)ç†è®ºä¸Šï¼Œè¿™ä¸ªç”Ÿå‘½å‘¨æœŸçš„ä½œç”¨ï¼Œç”¨äºç²¾ç»†åœ°æ§åˆ¶å£°æ˜å¼å˜é‡çš„æ›´æ–°é—®é¢˜ï¼Œå¦‚æœå˜åŒ–çš„å£°æ˜å¼å˜é‡å‚ä¸äº†è§†å›¾æ¸²æŸ“åˆ™è¿”å›trueï¼Œå¦‚æœè¢«å˜åŒ–çš„å£°æ˜å¼å˜é‡æ²¡æœ‰ç›´æ¥æˆ–é—´æ¥å‚ä¸è§†å›¾æ¸²æŸ“ï¼Œåˆ™è¿”å›falseï¼›</p>
<h4 id="componentDidUpdateç”Ÿå‘½å‘¨æœŸï¼š"><a href="#componentDidUpdateç”Ÿå‘½å‘¨æœŸï¼š" class="headerlink" title="componentDidUpdateç”Ÿå‘½å‘¨æœŸï¼š"></a>componentDidUpdateç”Ÿå‘½å‘¨æœŸï¼š</h4><p> (1)ç›¸å½“äºvueä¸­çš„updated()ï¼›</p>
<p> (2)å®ƒè¡¨ç¤ºDOMç»“æ„æ¸²æŸ“æ›´æ–°å·²å®Œæˆï¼Œåªå‘ç”Ÿåœ¨æ›´æ–°é˜¶æ®µï¼›</p>
<p> (3)åœ¨è¿™é‡Œï¼Œå¯ä»¥æ‰§è¡Œå¤§å¤šæ•°çš„å‰¯ä½œç”¨ï¼Œä½†æ˜¯ä¸å»ºè®®ï¼›</p>
<p> (4)åœ¨è¿™é‡Œï¼Œå¯ä»¥ä½¿ç”¨this.setState()ï¼Œä½†æ˜¯è¦æœ‰ç»ˆæ­¢æ¡ä»¶åˆ¤æ–­ã€‚</p>
<h4 id="componentWillUnmountç”Ÿå‘½å‘¨æœŸï¼š"><a href="#componentWillUnmountç”Ÿå‘½å‘¨æœŸï¼š" class="headerlink" title="componentWillUnmountç”Ÿå‘½å‘¨æœŸï¼š"></a>componentWillUnmountç”Ÿå‘½å‘¨æœŸï¼š</h4><p> (1)ä¸€èˆ¬åœ¨è¿™é‡Œæ¸…é™¤å®šæ—¶å™¨ã€é•¿è¿æ¥ç­‰å…¶ä»–å ç”¨å†…å­˜çš„æ„é€ å™¨ï¼›renderç”Ÿå‘½å‘¨æœŸï¼š</p>
<p> (1)renderæ˜¯ç±»ç»„ä»¶ä¸­å”¯ä¸€å¿…é¡»æœ‰çš„ç”Ÿå‘½å‘¨æœŸï¼ŒåŒæ—¶å¿…é¡»æœ‰returnï¼ˆreturn è¿”å›çš„jsxé»˜è®¤åªèƒ½æ˜¯å•ä¸€æ ¹èŠ‚ç‚¹ï¼Œä½†æ˜¯åœ¨fragmentçš„è¯­æ³•æ”¯æŒä¸‹ï¼Œå¯ä»¥è¿”å›å¤šä¸ªå…„å¼ŸèŠ‚ç‚¹ï¼‰ï¼›</p>
<p> (2)Fragmentç¢ç‰‡å†™æ³•: &lt;React.Fragment&gt;&lt;&#x2F;React.Fragment&gt; ç®€å†™æˆ&lt;&gt;&lt;&#x2F;&gt;ï¼›</p>
<p> (3)returnä¹‹å‰ï¼Œå¯ä»¥åšä»»æ„çš„ä¸šåŠ¡é€»è¾‘ï¼Œä½†æ˜¯ä¸èƒ½ä½¿ç”¨this.setState()ï¼Œä¼šé€ æˆæ­»å¾ªç¯ï¼›</p>
<p> (4)render()åœ¨è£…è½½é˜¶æ®µå’Œæ›´æ–°é˜¶æ®µéƒ½ä¼šè¿è¡Œï¼›</p>
<p> (5)å½“renderæ–¹æ³•è¿”å›nullçš„æ—¶å€™ï¼Œä¸ä¼šå½±å“ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„æ­£å¸¸æ‰§è¡Œã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-æ–°å‡ºæ¥ä¸¤ä¸ªé’©å­å‡½æ•°ï¼Ÿå’Œç æ‰çš„willç³»åˆ—æœ‰å•¥åŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-æ–°å‡ºæ¥ä¸¤ä¸ªé’©å­å‡½æ•°ï¼Ÿå’Œç æ‰çš„willç³»åˆ—æœ‰å•¥åŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸  æ–°å‡ºæ¥ä¸¤ä¸ªé’©å­å‡½æ•°ï¼Ÿå’Œç æ‰çš„willç³»åˆ—æœ‰å•¥åŒºåˆ«ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸  æ–°å‡ºæ¥ä¸¤ä¸ªé’©å­å‡½æ•°ï¼Ÿå’Œç æ‰çš„willç³»åˆ—æœ‰å•¥åŒºåˆ«ï¼Ÿ</h3><pre><code class="javascript">/ react16 ä¸­åºŸå¼ƒäº†ä¸‰ä¸ªé’©å­
componentWillMount // ç»„ä»¶å°†è¦æŒ‚è½½çš„é’©å­
componentWillReceiveProps // ç»„ä»¶å°†è¦æ¥æ”¶ä¸€ä¸ªæ–°çš„å‚æ•°æ—¶çš„é’©å­
componentWillUpdate // ç»„ä»¶å°†è¦æ›´æ–°çš„é’©å­
</code></pre>
<pre><code class="javascript">/ æ–°å¢äº†æ–¹æ³•
getDerivedStateFromProps // é™æ€æ–¹æ³•
getSnapshotBeforeUpdate
</code></pre>
<p>åœ¨16.8ç‰ˆæœ¬ä»¥åï¼Œreactå°†diffè¿ç®—æ”¹è¿›ä¸ºFiberï¼Œè¿™æ ·çš„è¯å½“æˆ‘ä»¬è°ƒç”¨setStateæ–¹æ³•è¿›è¡Œæ›´æ–°çš„æ—¶å€™ï¼Œåœ¨reconciler å±‚ä¸­jsè¿ç®—ä¼šæŒ‰ç…§èŠ‚ç‚¹ä¸ºå•ä½æ‹†åˆ†æˆä¸€ä¸ªä¸ªå°çš„å·¥ä½œå•å…ƒï¼Œåœ¨renderå‰å¯èƒ½ä¼šä¸­æ–­æˆ–æ¢å¤ï¼Œå°±æœ‰å¯èƒ½å¯¼è‡´åœ¨renderå‰è¿™äº›ç”Ÿå‘½å‘¨æœŸåœ¨è¿›è¡Œä¸€æ¬¡æ›´æ–°æ—¶å­˜åœ¨å¤šæ¬¡æ‰§è¡Œçš„æƒ…å†µï¼Œæ­¤æ—¶å¦‚æœæˆ‘ä»¬åœ¨é‡Œé¢ä½¿ç”¨refæ“ä½œdomçš„è¯ï¼Œå°±ä¼šé€ æˆé¡µé¢é¢‘ç¹é‡ç»˜ï¼Œå½±å“æ€§èƒ½ã€‚ æ‰€ä»¥åºŸå¼ƒäº†è¿™å‡ ä¸ªwillç³»åˆ—çš„å‹¾å­ï¼Œå¢åŠ äº† getDerivedStateFromPropsè¿™ä¸ªé™æ€æ–¹æ³•ï¼Œè¿™æ ·çš„è¯æˆ‘ä»¬å°±ä¸èƒ½åœ¨å…¶ä¸­ä½¿ç”¨this.refsä»¥åŠthisä¸Šçš„æ–¹æ³•äº†ï¼›getSnapshotBeforeUpdate è¿™ä¸ªæ–¹æ³•å·²ç»åˆ°äº†commité˜¶æ®µï¼Œåªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œç»™æƒ³è¯»å– dom çš„ç”¨æˆ·ä¸€äº›ç©ºé—´ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-reactä¸­-setState-ä¹‹ååšäº†ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-reactä¸­-setState-ä¹‹ååšäº†ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸  reactä¸­ setState ä¹‹ååšäº†ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸  reactä¸­ setState ä¹‹ååšäº†ä»€ä¹ˆï¼Ÿ</h3><p>å¦‚æœæ˜¯åœ¨éš¶å±äºåŸç”Ÿjsæ‰§è¡Œçš„ç©ºé—´ï¼Œæ¯”å¦‚è¯´setTimeouté‡Œé¢ï¼ŒsetStateæ˜¯åŒæ­¥çš„ï¼Œé‚£ä¹ˆæ¯æ¬¡æ‰§è¡ŒsetStateå°†ç«‹å³æ›´æ–°this.stateï¼Œç„¶åè§¦å‘renderæ–¹æ³•ï¼Œæ¸²æŸ“æ•°æ®ï¼›</p>
<p> å¦‚æœæ˜¯åœ¨è¢«reactå¤„ç†è¿‡çš„ç©ºé—´æ‰§è¡Œï¼Œæ¯”å¦‚è¯´åˆæˆäº‹ä»¶é‡Œï¼Œæ­¤æ—¶setStateæ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œå¹¶ä¸ä¼šç«‹å³æ›´æ–°this.stateçš„å€¼ï¼Œå½“æ‰§è¡ŒsetStateçš„æ—¶å€™ï¼Œä¼šå°†éœ€è¦æ›´æ–°çš„stateæ”¾å…¥çŠ¶æ€é˜Ÿåˆ—ï¼Œåœ¨è¿™ä¸ªç©ºé—´æœ€åå†åˆå¹¶ä¿®æ”¹this.stateï¼Œè§¦å‘renderï¼›</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-reduxæœ¬æ¥æ˜¯åŒæ­¥çš„ï¼Œä¸ºä»€ä¹ˆå®ƒèƒ½æ‰§è¡Œå¼‚æ­¥ä»£ç ï¼Ÿä¸­é—´ä»¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-reduxæœ¬æ¥æ˜¯åŒæ­¥çš„ï¼Œä¸ºä»€ä¹ˆå®ƒèƒ½æ‰§è¡Œå¼‚æ­¥ä»£ç ï¼Ÿä¸­é—´ä»¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸  reduxæœ¬æ¥æ˜¯åŒæ­¥çš„ï¼Œä¸ºä»€ä¹ˆå®ƒèƒ½æ‰§è¡Œå¼‚æ­¥ä»£ç ï¼Ÿä¸­é—´ä»¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸  reduxæœ¬æ¥æ˜¯åŒæ­¥çš„ï¼Œä¸ºä»€ä¹ˆå®ƒèƒ½æ‰§è¡Œå¼‚æ­¥ä»£ç ï¼Ÿä¸­é—´ä»¶çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>å½“æˆ‘ä»¬éœ€è¦ä¿®æ”¹storeä¸­å€¼çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯é€šè¿‡ dispatch(action)å°†è¦ä¿®æ”¹çš„å€¼ä¼ åˆ°reducerä¸­çš„ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯åŒæ­¥çš„ï¼Œå¦‚æœæˆ‘ä»¬è¦è¿›è¡Œå¼‚æ­¥æ“ä½œçš„æ—¶å€™ï¼Œå°±éœ€è¦ç”¨åˆ°ä¸­é—´ä»¶ï¼›ä¸­é—´ä»¶å…¶å®æ˜¯æä¾›äº†ä¸€ä¸ªåˆ†ç±»å¤„ç†actionçš„æœºä¼šï¼Œåœ¨ middleware ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ£€é˜…æ¯ä¸€ä¸ªæµè¿‡çš„actionï¼Œå¹¶æŒ‘é€‰å‡ºç‰¹å®šç±»å‹çš„actionè¿›è¡Œç›¸åº”æ“ä½œï¼Œä»¥æ­¤æ¥æ”¹å˜ actionï¼›</p>
<pre><code class="css">applyMiddleware æ˜¯ä¸ªä¸‰çº§æŸ¯é‡ŒåŒ–çš„å‡½æ•°ã€‚å®ƒå°†é™†ç»­çš„è·å¾—ä¸‰ä¸ªå‚æ•°ï¼šç¬¬ä¸€ä¸ªæ˜¯ middlewares æ•° ç»„ï¼Œç¬¬äºŒä¸ªæ˜¯ Redux åŸç”Ÿçš„ createStoreï¼Œæœ€åä¸€ä¸ªæ˜¯ reducerï¼›ç„¶åapplyMiddlewareä¼šå°†ä¸åŒçš„ ä¸­é—´ä»¶ä¸€å±‚ä¸€å±‚åŒ…è£¹åˆ°åŸç”Ÿçš„ dispatch ä¹‹ä¸Šï¼› 
redux-thunk ä¸­é—´ä»¶çš„ä½œç”¨å°±æ˜¯è®©æˆ‘ä»¬å¯ä»¥å¼‚æ­¥æ‰§è¡Œreduxï¼Œé¦–å…ˆæ£€æŸ¥å‚æ•° action çš„ç±»å‹ï¼Œå¦‚æœ æ˜¯å‡½æ•°çš„è¯ï¼Œå°±æ‰§è¡Œè¿™ä¸ª actionè¿™ä¸ªå‡½æ•°ï¼Œå¹¶æŠŠ dispatch, getState, extraArgument ä½œä¸ºå‚æ•°ä¼  é€’è¿›å»ï¼Œå¦åˆ™å°±è°ƒç”¨nextè®©ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ç»§ç»­å¤„ç†actionã€‚
</code></pre>
<pre><code class="react">// redux-thunkéƒ¨åˆ†æºç 
function createThunkMiddleware(extraArgument) &#123;
 return (&#123; dispatch, getState &#125;) =&gt; next =&gt; action =&gt; &#123;
 if (typeof action === &#39;function&#39;) &#123;
 return action(dispatch, getState, extraArgument)
 &#125;
 return next(action)
 &#125;
&#125;
const thunk = createThunkMiddleware()
thunk.withExtraArgument = createThunkMiddleware
export default thunk
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-åˆ—ä¸¾é‡æ–°æ¸²æŸ“-render-çš„æƒ…å†µ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-åˆ—ä¸¾é‡æ–°æ¸²æŸ“-render-çš„æƒ…å†µ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ åˆ—ä¸¾é‡æ–°æ¸²æŸ“ render çš„æƒ…å†µ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ åˆ—ä¸¾é‡æ–°æ¸²æŸ“ render çš„æƒ…å†µ</h3><ol>
<li>this.setState() </li>
<li>this.forceUpdate()</li>
<li>æ¥å—åˆ°æ–°çš„props</li>
<li>é€šè¿‡çŠ¶æ€ç®¡ç†ï¼Œmobxã€reduxç­‰</li>
<li>æ”¹å˜ä¸Šä¸‹æ–‡</li>
</ol>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ç±»ç»„ä»¶æ€ä¹ˆåšæ€§èƒ½ä¼˜åŒ–ï¼Ÿå‡½æ•°ç»„ä»¶æ€ä¹ˆåšæ€§èƒ½ä¼˜åŒ–ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ç±»ç»„ä»¶æ€ä¹ˆåšæ€§èƒ½ä¼˜åŒ–ï¼Ÿå‡½æ•°ç»„ä»¶æ€ä¹ˆåšæ€§èƒ½ä¼˜åŒ–ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ç±»ç»„ä»¶æ€ä¹ˆåšæ€§èƒ½ä¼˜åŒ–ï¼Ÿå‡½æ•°ç»„ä»¶æ€ä¹ˆåšæ€§èƒ½ä¼˜åŒ–ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ç±»ç»„ä»¶æ€ä¹ˆåšæ€§èƒ½ä¼˜åŒ–ï¼Ÿå‡½æ•°ç»„ä»¶æ€ä¹ˆåšæ€§èƒ½ä¼˜åŒ–ï¼Ÿ</h3><p>ç±»ç»„ä»¶ï¼š</p>
<pre><code class="css"> ï¼ˆ1ï¼‰ä½¿ç”¨shouldComponentUpdateï¼šè¿™ä¸ªç”Ÿå‘½å‘¨æœŸå¯ä»¥è®©æˆ‘ä»¬å†³å®šå½“å‰çŠ¶æ€æˆ–å±æ€§çš„æ”¹å˜æ˜¯å¦é‡æ–°æ¸²æŸ“ç»„ä»¶ï¼Œé»˜è®¤è¿”å›tureï¼Œè¿”å›falseæ—¶ä¸ä¼šæ‰§è¡Œrenderï¼Œåœ¨åˆå§‹åŒ–æ¸²æŸ“æˆ–ä½¿ç”¨forceUpdate()æ—¶ä¸ä¼šè°ƒç”¨ï¼›å¦‚æœåœ¨shouldComponentUpdateæ¯”è¾ƒçš„å€¼æ˜¯å¼•ç”¨ç±»å‹çš„è¯ï¼Œå¯èƒ½è¾¾ä¸åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœï¼Œå› ä¸ºå¼•ç”¨ç±»å‹æŒ‡å‘åŒä¸€ä¸ªåœ°å€ï¼›å½“å°†æ—§çš„stateçš„å€¼åŸå°ä¸åŠ¨èµ‹å€¼ç»™æ–°çš„stateï¼ˆå³ä¸æ”¹å˜stateçš„å€¼ï¼Œä½†æ˜¯è°ƒç”¨äº†setStateï¼‰å’Œ æ— æ•°æ®äº¤æ¢çš„çˆ¶ç»„ä»¶çš„é‡æ–°æ¸²æŸ“éƒ½ä¼šå¯¼è‡´ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œè¿™æ—¶å€™éƒ½å¯ä»¥é€šè¿‡shouldComponentUpdateæ¥ä¼˜åŒ–ï¼›

 ï¼ˆ2ï¼‰React.PureComponentï¼šåŸºæœ¬ä¸Šå’ŒComponentç”¨æ³•ä¸€è‡´ï¼Œä¸åŒä¹‹å¤„åœ¨äº PureComponentä¸éœ€è¦å¼€å‘è€…è‡ªå·±è®¾ç½®shouldComponentUpdateï¼Œå› ä¸ºPureComponentè‡ªå¸¦é€šè¿‡propså’Œstateçš„æµ…å¯¹æ¯”æ¥å®ç° shouldComponentUpateï¼›ä½†æ˜¯å¦‚æœpropså’Œstateå¯¹è±¡åŒ…å«å¤æ‚çš„æ•°æ®ç»“æ„ï¼Œå®ƒå¯èƒ½ä¼šåˆ¤æ–­é”™è¯¯(è¡¨ç°ä¸ºå¯¹è±¡æ·±å±‚çš„æ•°æ®å·²æ”¹å˜ï¼Œè§†å›¾å´æ²¡æœ‰æ›´æ–°ï¼‰ï¼›

 ï¼ˆ4ï¼‰ä½¿ç”¨Immutableï¼šimmutableæ˜¯ä¸€ç§æŒä¹…åŒ–æ•°æ®ï¼Œä¸€æ—¦è¢«åˆ›å»ºå°±ä¸ä¼šè¢«ä¿®æ”¹ï¼Œä¿®æ”¹immutableå¯¹è±¡çš„æ—¶å€™è¿”å›æ–°çš„immutableï¼›ä¹Ÿå°±æ˜¯è¯´åœ¨ä½¿ç”¨æ—§æ•°æ®åˆ›å»ºæ–°æ•°æ®çš„æ—¶å€™ï¼Œä¼šä¿è¯æ—§æ•°æ®åŒæ—¶å¯ç”¨ä¸”ä¸å˜ï¼›ä¸ºäº†é¿å…æ·±åº¦å¤åˆ¶æ‰€æœ‰èŠ‚ç‚¹çš„å¸¦æ¥çš„æ€§èƒ½æŸè€—ï¼Œimmutableä½¿ç”¨äº†ç»“æ„å…±äº«ï¼Œå³å¦‚æœå¯¹è±¡æ ‘ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹å‘ç”Ÿå˜åŒ–ï¼Œåªä¿®æ”¹è¿™ä¸ªèŠ‚ç‚¹å’Œå—ä»–å½±å“çš„çˆ¶èŠ‚ç‚¹ï¼Œå…¶ä»–èŠ‚ç‚¹ä»ç„¶å…±äº«ï¼›

 ï¼ˆ5ï¼‰bindå‡½æ•°ï¼šåœ¨reactä¸­æ”¹å˜thisçš„æŒ‡å‘æœ‰ä¸‰ç§æ–¹æ³•ï¼Œa)constructorä¸­ç”¨bindç»‘å®š; b)ä½¿ç”¨æ—¶é€šè¿‡bindç»‘å®š; c)ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼›é€‰æ‹©ç¬¬ä¸€ç§åªåœ¨ç»„ä»¶åˆå§‹åŒ–çš„æ—¶å€™æ‰§è¡Œä¸€æ¬¡ï¼Œç¬¬äºŒç§ç»„ä»¶åœ¨æ¯æ¬¡renderéƒ½è¦é‡æ–°ç»‘å®šï¼Œç¬¬ä¸‰ç§åœ¨æ¯æ¬¡renderæ—¶å€™éƒ½ä¼šç”Ÿæˆæ–°çš„ç®­å¤´å‡½æ•°ï¼Œæ‰€ä»¥é€‰æ‹©ç¬¬ä¸€ç§ï¼›
</code></pre>
<p>å‡½æ•°ç»„ä»¶ï¼š</p>
<pre><code class="css"> ï¼ˆ1ï¼‰useCallbackï¼šæ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œæ¥æ”¶ç¬¬äºŒä¸ªå‚æ•°ä½œä¸ºä¾èµ–åˆ—è¡¨ï¼Œè¿”å›å€¼ä¸ºå‡½æ•°ï¼Œæœ‰åŠ©äºé¿å…åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½è¿›è¡Œé«˜å¼€é”€çš„è®¡ç®—ï¼Œä»…ä¼šåœ¨æŸä¸ªä¾èµ–é¡¹æ”¹å˜æ—¶æ‰é‡æ–°è®¡ç®—ï¼›å¯ä»¥ä½¿ç”¨useCallbackæŠŠè¦ä¼ é€’ç»™å­ç»„ä»¶çš„å‡½æ•°åŒ…è£¹èµ·æ¥ï¼Œè¿™æ ·çˆ¶ç»„ä»¶åˆ·æ–°çš„æ—¶å€™ï¼Œä¼ é€’ç»™å­ç»„ä»¶çš„å‡½æ•°æŒ‡å‘ä¸ä¼šå‘ç”Ÿæ”¹å˜ï¼Œå¯ä»¥å‡å°‘å­ç»„ä»¶çš„æ¸²æŸ“æ¬¡æ•°ï¼›

 const handleUseCallback=useCallback(handleClick,[])

 ï¼ˆ2ï¼‰useMemoï¼šuseMemoçš„ä½¿ç”¨å’ŒuseCallbackå·®ä¸å¤šï¼Œåªæ˜¯useCallbackè¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒuseMemoè¿”å›å€¼å¯ä»¥æ˜¯å‡½æ•°ã€å¯¹è±¡ç­‰éƒ½å¯ä»¥ï¼›
</code></pre>
<p>ä¸¤è€…éƒ½å¯ä½¿ç”¨ï¼š</p>
<pre><code class="css">ï¼ˆ1ï¼‰React.memoï¼šReact.memo åŠŸèƒ½åŒReact.PureComponentï¼Œä½†React.memoæ˜¯é«˜é˜¶ç»„ä»¶ï¼Œæ—¢å¯ä»¥ç”¨åœ¨ç±»ç»„ä»¶ä¸­ä¹Ÿå¯ä»¥ç”¨åœ¨å‡½æ•°ç»„ä»¶ä¸­ï¼›memoè¿˜å¯ä»¥æ¥æ”¶ç¬¬äºŒä¸ªå‚æ•°ï¼Œæ˜¯ä¸€ä¸ªå¯å®šåˆ¶åŒ–çš„æ¯”è¾ƒå‡½æ•°ï¼Œå…¶è¿”å›å€¼ä¸ shouldComponentUpdateçš„ç›¸åï¼›

ï¼ˆ2ï¼‰ä½¿ç”¨keyï¼šåœ¨åˆ—è¡¨æ¸²æŸ“æ—¶ä½¿ç”¨keyï¼Œè¿™æ ·å½“ç»„ä»¶å‘ç”Ÿå¢åˆ æ”¹ã€æ’åºç­‰æ“ä½œæ—¶ï¼Œdiffè¿ç®—åå¯ä»¥æ ¹æ®keyå€¼ç›´æ¥è°ƒæ•´DOMé¡ºåºï¼Œé¿å…ä¸å¿…è¦çš„æ¸²æŸ“è€Œé¿å…æ€§èƒ½çš„æµªè´¹ï¼›

ï¼ˆ3ï¼‰ä¸è¦æ»¥ç”¨propsï¼šå°½é‡åªä¼ éœ€è¦çš„æ•°æ®ï¼Œé¿å…å¤šä½™çš„æ›´æ–°ï¼Œå°½é‡é¿å…ä½¿ç”¨&#123;â€¦props&#125;ï¼›
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ä»€ä¹ˆæ˜¯-prop-drillingï¼Œå¦‚ä½•é¿å…ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ä»€ä¹ˆæ˜¯-prop-drillingï¼Œå¦‚ä½•é¿å…ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ä»€ä¹ˆæ˜¯ prop drillingï¼Œå¦‚ä½•é¿å…ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ä»€ä¹ˆæ˜¯ prop drillingï¼Œå¦‚ä½•é¿å…ï¼Ÿ</h3><p>ä»ä¸€ä¸ªå¤–éƒ¨ç»„ä»¶ä¸€å±‚å±‚å°†propä¼ é€’åˆ°å†…éƒ¨ç»„ä»¶å¾ˆä¸æ–¹ä¾¿ï¼Œè¿™ä¸ªé—®é¢˜å°±å«åš prop drillingï¼›ä¸»è¦ç¼ºç‚¹æ˜¯åŸæœ¬ä¸éœ€è¦æ•°æ®çš„ç»„ä»¶å˜å¾—ä¸å¿…è¦åœ°å¤æ‚ï¼Œå¹¶ä¸”éš¾ä»¥ç»´æŠ¤ï¼Œä»£ç çœ‹èµ·æ¥ä¹Ÿå˜å¾—å†—ä½™ï¼Œä¸ä¼˜é›…ï¼›</p>
<p>ä¸ºäº†é¿å…prop drillingï¼Œä¸€ç§å¸¸ç”¨çš„æ–¹æ³•æ˜¯ä½¿ç”¨React Contextã€‚é€šè¿‡å®šä¹‰æä¾›æ•°æ®çš„Providerç»„ä»¶ï¼Œå¹¶å…è®¸åµŒå¥—çš„ç»„ä»¶é€šè¿‡ Consumerç»„ä»¶æˆ– useContext Hook ä½¿ç”¨ä¸Šä¸‹æ–‡æ•°æ®ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ä»€ä¹ˆæ˜¯-React-Context"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ä»€ä¹ˆæ˜¯-React-Context" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ä»€ä¹ˆæ˜¯ React Context?"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ä»€ä¹ˆæ˜¯ React Context?</h3><p>React Contextæºç è§£æ</p>
<p>1ã€What</p>
<p>Contextæä¾›äº†ä¸€ä¸ªæ— éœ€ä¸ºæ¯å±‚ç»„ä»¶æ‰‹åŠ¨æ·»åŠ propsï¼Œå°±èƒ½åœ¨ç»„ä»¶æ ‘é—´è¿›è¡Œæ•°æ®ä¼ é€’çš„åŠŸèƒ½</p>
<p>2ã€Why</p>
<p>æŸäº›å…¨å±€å±æ€§ï¼Œé€šè¿‡çˆ¶å­propsä¼ é€’å¤ªè¿‡ç¹çï¼ŒContextæä¾›äº†ä¸€ç§ç»„ä»¶ä¹‹é—´å…±äº«æ­¤ç±»å€¼çš„æ–¹å¼ï¼Œè€Œä¸å¿…æ˜¾å¼çš„é€šè¿‡ç»„ä»¶æ ‘é€å±‚ä¼ é€’props</p>
<p>3ã€When</p>
<p>å…±äº«é‚£äº›å¯¹äºä¸€ä¸ªç»„ä»¶æ ‘è€Œè¨€æ˜¯å…¨å±€çš„æ•°æ®ï¼Œä¾‹å¦‚å½“å‰è®¤è¯çš„ç”¨æˆ·ã€ä¸»é¢˜æˆ–è€…é¦–é€‰è¯­è¨€ç­‰</p>
<p>4ã€Where</p>
<p>Contextåº”ç”¨åœºæ™¯åœ¨äºå¾ˆå¤šä¸åŒå±‚çº§çš„ç»„ä»¶è®¿é—®åŒæ ·çš„æ•°æ®ï¼Œè¿™æ ·ä¹Ÿä½¿å¾—ç»„ä»¶çš„å¤ç”¨æ€§å˜å·®ã€‚</p>
<p>å¦‚æœä½ åªæ˜¯æƒ³é¿å…å±‚å±‚ä¼ é€’ä¸€äº›å±æ€§ï¼Œç»„ä»¶ç»„åˆæœ‰æ—¶å€™æ˜¯ä¸€ä¸ªæ¯”Contextæ›´å¥½çš„æ–¹æ¡ˆï¼Œä¹Ÿå°±æ˜¯ç›´æ¥ä¼ é€’ç»„ä»¶</p>
<p>æ‰€ä»¥ä¸€ä¸ªæŠ€æœ¯æ–¹æ¡ˆçš„é€‰å®šéœ€è¦é’ˆå¯¹ä¸åŒçš„åœºæ™¯å…·ä½“åˆ†æï¼Œé‡‡å–åˆé€‚çš„æ–¹æ¡ˆ</p>
<p>5ã€How</p>
<pre><code class="css">// â‘ åˆ›å»º

const ThemeContext = React.createContext(&#39;xxx&#39;)

// â‘¡æ³¨å…¥---æä¾›è€… åœ¨å…¥å£æˆ–è€…ä½ æƒ³è¦æ³¨å…¥çš„çˆ¶ç±»ä¸­ï¼Œä¸”å¯ä»¥åµŒå¥—ï¼Œé‡Œå±‚è¦†ç›–å¤–å±‚

return (
&lt;ThemeContext.Provider value=&quot;yyy&quot;&gt;
&#123;children&#125;
&lt;ThemeContext.Provider&gt;
)

// â‘¢ä½¿ç”¨---æ¶ˆè´¹è€… éœ€è¦ä½¿ç”¨å…±äº«æ•°æ®çš„å­ç±»ä¸­

// æ–¹å¼ä¸€
static contextType = ThemeContext
// æ–¹å¼äºŒ
Class.contextType = ThemeContext 
render() &#123;
let value = this.context
/* åŸºäºè¿™ä¸ªå€¼è¿›è¡Œæ¸²æŸ“å·¥ä½œ */ 
&#125;
//æ–¹å¼ä¸‰
return(
&lt;ThemeContext.Consumer&gt;
&#123; value =&gt; /* åŸºäº context å€¼è¿›è¡Œæ¸²æŸ“*/ &#125;
&lt;/ThemeContext.Consumer&gt;
)
</code></pre>
<p>6ã€More</p>
<p>åŠ¨æ€Contextâ€”ç±»ä¼¼çˆ¶å­ç»„ä»¶</p>
<pre><code class="css">// â‘ åˆ›å»º

const ThemeContext = React.createContext(&#123;
value: &#39;xxx&#39;,
changeFunc: () =&gt; &#123;&#125; /*é€šè¿‡contextä¼ é€’è¿™ä¸ªå‡½æ•°ï¼Œè®©consumersç»„ä»¶æ›´æ–°context*/
&#125;)

// â‘¡æ³¨å…¥
return (
&lt;ThemeContext.Provider value=&quot;yyy&quot;&gt;
&lt;ThemeContext.Provider&gt;
)

// â‘¢æ¶ˆè´¹

return(
&lt;ThemeContext.Consumer&gt;
&#123; (&#123;value, changeFunc&#125;) =&gt; /* åŸºäº context å€¼è¿›è¡Œæ¸²æŸ“,åŒæ—¶æŠŠchangeFuncç»‘å®š*/ &#125;
 &lt;/ThemeContext.Consumer&gt;
)
æ¶ˆè´¹å¤šä¸ªContextã€æ³¨æ„äº‹é¡¹ç­‰å‚è€ƒReactä¸­æ–‡ç½‘
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-Hooks-ä¼šå–ä»£-render-props-å’Œé«˜é˜¶ç»„ä»¶å—"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-Hooks-ä¼šå–ä»£-render-props-å’Œé«˜é˜¶ç»„ä»¶å—" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸  Hooks ä¼šå–ä»£ render props å’Œé«˜é˜¶ç»„ä»¶å—?"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸  Hooks ä¼šå–ä»£ render props å’Œé«˜é˜¶ç»„ä»¶å—?</h3><p>å¯ä»¥å–ä»£ï¼Œä½†æ²¡å¿…è¦</p>
<p>åœ¨Hookçš„æ¸è¿›ç­–ç•¥ä¸­ä¹Ÿæœ‰æåˆ°ï¼Œæ²¡æœ‰è®¡åˆ’ä»Reactä¸­ç§»é™¤classï¼Œåœ¨æ–°çš„ä»£ç ä¸­åŒæ—¶ä½¿ç”¨Hookå’Œclassï¼Œæ‰€ä»¥è¿™äº›æ–¹æ¡ˆç›®å‰è¿˜æ˜¯å¯ä»¥æœ‰å‹‡æ­¦ä¹‹åœ°</p>
<p>1ã€What</p>
<p>ä¸ºä»€ä¹ˆè¦æŠŠè¿™3ç§æŠ€æœ¯æ‹¿è¿‡æ¥å¯¹æ¯”ï¼Ÿ</p>
<p>éƒ½åœ¨å¤„ç†åŒä¸€ä¸ªé—®é¢˜ï¼Œé€»è¾‘å¤ç”¨</p>
<p>é«˜é˜¶ç»„ä»¶HOCâ€”ä¸æ˜¯ React API çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯åŸºäº React çš„ç»„åˆç‰¹æ€§å½¢æˆçš„è®¾è®¡æ¨¡å¼ã€‚</p>
<p>é«˜é˜¶ç»„ä»¶æ˜¯å‚æ•°ä¸ºç»„ä»¶ï¼Œè¿”å›å€¼ä¸ºæ–°ç»„ä»¶çš„å‡½æ•°ï¼ˆå°†ç»„ä»¶è½¬æ¢ä¸ºå¦ä¸€ä¸ªç»„ä»¶ï¼Œçº¯å‡½æ•°ï¼Œæ— å‰¯ä½œç”¨ï¼‰</p>
<p>Render Propsæ˜¯æŒ‡ä¸€ç§åœ¨ React ç»„ä»¶ä¹‹é—´ä½¿ç”¨ä¸€ä¸ªå€¼ä¸ºå‡½æ•°çš„ prop å…±äº«ä»£ç çš„ ç®€å•æŠ€æœ¯</p>
<p>Hooks æ˜¯React16.8æ–°å¢çš„ç‰¹æ€§ï¼Œæ˜¯ä¸€äº›å¯ä»¥è®©ä½ åœ¨å‡½æ•°ç»„ä»¶é‡Œâ€œé’©å…¥â€React stateåŠç”Ÿå‘½å‘¨æœŸç­‰ç‰¹æ€§çš„å‡½æ•°</p>
<p>è™½ç„¶ HOC &amp; Render Props èƒ½å¤„ç†é€»è¾‘å¤ç”¨çš„é—®é¢˜ï¼Œä½†æ˜¯å´å­˜åœ¨å„è‡ªçš„é—®é¢˜ã€‚</p>
<p>HOC å­˜åœ¨çš„é—®é¢˜</p>
<ul>
<li>å†™æ³•ç ´åäº†åŸæ¥ç»„ä»¶çš„ç»“æ„ï¼ŒDevToolsä¸­ç»„ä»¶ä¼šå½¢æˆâ€œåµŒå¥—åœ°ç‹±â€</li>
<li>ä¸è¦åœ¨ render æ–¹æ³•ä¸­ä½¿ç”¨ HOC æ¯æ¬¡è°ƒç”¨renderå‡½æ•°ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„é«˜é˜¶ç»„ä»¶å¯¼è‡´è¯¥ç»„ä»¶åŠå…¶å­ç»„ä»¶çš„çŠ¶æ€ä¸¢å¤±</li>
<li>éœ€è¦ä¿®å¤é™æ€æ–¹æ³•ï¼Œå³æ‹·è´åŸç»„ä»¶çš„é™æ€æ–¹æ³•åˆ°é«˜çº§ç»„ä»¶ä¸­</li>
<li>å¦‚éœ€ä¼ é€’Refåˆ™éœ€è¦é€šè¿‡React.forwardRefåˆ›å»ºç»„ä»¶</li>
</ul>
<p>Render Props å­˜åœ¨çš„é—®é¢˜</p>
<ul>
<li>åŒæ ·çš„å†™æ³•ä¼šç ´ååŸæ¥ç»„ä»¶çš„ç»“æ„ï¼ŒDevToolsä¸­ç»„ä»¶ä¼šå½¢æˆâ€œåµŒå¥—åœ°ç‹±â€ </li>
<li>ä¸React.PureComponentç»„ä»¶ä½¿ç”¨æœ‰å†²çª</li>
<li>Hook ç›®å‰æœ€ä¼˜é›…çš„å®ç°ï¼ŒReactä¸ºå…±äº«çŠ¶æ€é€»è¾‘æä¾›æœ€å¥½çš„åŸç”Ÿé€”å¾„</li>
<li>æ²¡æœ‰ç ´åæ€§æ”¹åŠ¨ï¼Œå®Œå…¨å¯é€‰ï¼Œ100%å‘åå…¼å®¹</li>
<li>è§£å†³å¤æ‚ç»„ä»¶ï¼Œä¸­é€»è¾‘çŠ¶æ€ã€å‰¯ä½œç”¨å’Œå„ç§ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­é€»è¾‘ä»£ç æ··åœ¨ä¸€èµ·ï¼Œéš¾ä»¥æ‹†åˆ†ï¼Œç”šè‡³å½¢æˆbugçš„é—®é¢˜</li>
</ul>
<p>2ã€When</p>
<ul>
<li>åœ¨å‡½æ•°ç»„ä»¶ä¸­æ„è¯†åˆ°è¦å‘å…¶æ·»åŠ ä¸€äº›stateâ€”useState</li>
<li>æœ‰å‰¯ä½œç”¨çš„è¡Œä¸ºæ—¶</li>
</ul>
<p>3ã€Where</p>
<p>åªèƒ½åœ¨å‡½æ•°æœ€å¤–å±‚è°ƒç”¨Hookï¼Œä¸è¦åœ¨å¾ªç¯ã€æ¡ä»¶åˆ¤æ–­æˆ–è€…å­å‡½æ•°ä¸­è°ƒç”¨</p>
<p>åªèƒ½åœ¨å‡½æ•°ç»„ä»¶æˆ–è€…è‡ªå®šä¹‰Hookä¸­è°ƒç”¨Hook</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-å½“è°ƒç”¨setStateæ—¶ï¼ŒReact-render-æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-å½“è°ƒç”¨setStateæ—¶ï¼ŒReact-render-æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ å½“è°ƒç”¨setStateæ—¶ï¼ŒReact render æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ å½“è°ƒç”¨setStateæ—¶ï¼ŒReact render æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h3><p>è°ƒç”¨setState()</p>
<ol>
<li>æ£€æŸ¥ä¸Šä¸‹æ–‡ç¯å¢ƒç”Ÿæˆæ›´æ–°æ—¶é—´ç›¸å…³å‚æ•°å¹¶åˆ¤å®šäº‹ä»¶ä¼˜å…ˆçº§ï¼ˆfiberï¼Œcurrenttimeï¼Œexpirationtimeç­‰â€¦ï¼‰</li>
<li>æ ¹æ®ä¼˜å…ˆçº§ç›¸å…³å‚æ•°åˆ¤æ–­æ›´æ–°æ¨¡å¼æ˜¯syncï¼ˆåŒæ­¥æ›´æ–°ï¼‰æˆ–æ˜¯batchedï¼ˆæ‰¹é‡å¤„ç†ï¼‰</li>
<li>åŠ å…¥æ‰§è¡Œæ›´æ–°äº‹ä»¶çš„é˜Ÿåˆ—ï¼Œç”Ÿæˆäº‹ä»¶é˜Ÿåˆ—çš„é“¾è¡¨ç»“æ„</li>
<li>æ ¹æ®é“¾è¡¨é¡ºåºæ‰§è¡Œæ›´æ–°</li>
<li>setStateæ—¢æ˜¯åŒæ­¥çš„ï¼Œä¹Ÿæ˜¯å¼‚æ­¥çš„ã€‚åŒæ­¥å¼‚æ­¥å–å†³äºsetStateè¿è¡Œæ—¶çš„ä¸Šä¸‹æ–‡ã€‚ä¸”setState åªåœ¨åˆæˆäº‹ä»¶å’Œé’©å­å‡½æ•°ä¸­æ˜¯â€œå¼‚æ­¥â€çš„ï¼Œåœ¨åŸç”ŸDOMäº‹ä»¶å’Œ setTimeout ä¸­éƒ½æ˜¯åŒæ­¥çš„</li>
</ol>
<p>renderå¦‚ä½•å·¥ä½œ</p>
<ol>
<li>Reactåœ¨propsæˆ–stateå‘ç”Ÿæ”¹å˜æ—¶ï¼Œä¼šè°ƒç”¨Reactçš„renderæ–¹æ³•ï¼Œåˆ›å»ºä¸€é¢—ä¸åŒçš„æ ‘</li>
<li>Reactéœ€è¦åŸºäºè¿™ä¸¤é¢—ä¸åŒçš„æ ‘ä¹‹é—´çš„å·®åˆ«æ¥åˆ¤æ–­å¦‚ä½•æœ‰æ•ˆçš„æ›´æ–°UI diffç®—æ³•ï¼Œå°†ä¸¤é¢—æ ‘å®Œå…¨æ¯”è¾ƒæ›´æ–°çš„ç®—æ³•ä»O(n^3^),ä¼˜åŒ–æˆO(n)ï¼›</li>
<li>åŒå±‚èŠ‚ç‚¹ä¹‹é—´ç›¸äº’æ¯”è¾ƒï¼Œä¸ä¼šè·¨èŠ‚ç‚¹æ¯”è¾ƒ</li>
<li>ä¸åŒç±»å‹çš„èŠ‚ç‚¹ï¼Œäº§ç”Ÿä¸åŒçš„æ ‘ç»“æ„</li>
<li>è®¾ç½®keyæ¥æŒ‡å®šèŠ‚ç‚¹åœ¨ä¸åŒçš„æ¸²æŸ“ä¸‹ä¿æŒç¨³å®š</li>
</ol>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-diffå¤æ‚åº¦åŸç†åŠå…·ä½“è¿‡ç¨‹ç”»å›¾"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-diffå¤æ‚åº¦åŸç†åŠå…·ä½“è¿‡ç¨‹ç”»å›¾" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ diffå¤æ‚åº¦åŸç†åŠå…·ä½“è¿‡ç¨‹ç”»å›¾"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ diffå¤æ‚åº¦åŸç†åŠå…·ä½“è¿‡ç¨‹ç”»å›¾</h3><ul>
<li>React é€šè¿‡åˆ¶å®šå¤§èƒ†çš„ diff ç­–ç•¥ï¼Œå°† O(n3) å¤æ‚åº¦çš„é—®é¢˜è½¬æ¢æˆ O(n) å¤æ‚åº¦çš„é—®é¢˜ï¼›</li>
<li>React é€šè¿‡åˆ†å±‚æ±‚å¼‚çš„ç­–ç•¥ï¼Œå¯¹ tree diff è¿›è¡Œç®—æ³•ä¼˜åŒ–ï¼›</li>
<li>React é€šè¿‡ç›¸åŒç±»ç”Ÿæˆç›¸ä¼¼æ ‘å½¢ç»“æ„ï¼Œä¸åŒç±»ç”Ÿæˆä¸åŒæ ‘å½¢ç»“æ„çš„ç­–ç•¥ï¼Œå¯¹ component diff è¿›è¡Œç®—æ³•ä¼˜åŒ–ï¼›</li>
<li>React é€šè¿‡è®¾ç½®å”¯ä¸€ keyçš„ç­–ç•¥ï¼Œå¯¹ element diff è¿›è¡Œç®—æ³•ä¼˜åŒ–ï¼›</li>
<li>å»ºè®®ï¼Œåœ¨å¼€å‘ç»„ä»¶æ—¶ï¼Œä¿æŒç¨³å®šçš„ DOM ç»“æ„ä¼šæœ‰åŠ©äºæ€§èƒ½çš„æå‡ï¼›</li>
<li>å»ºè®®ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå°½é‡å‡å°‘ç±»ä¼¼å°†æœ€åä¸€ä¸ªèŠ‚ç‚¹ç§»åŠ¨åˆ°åˆ—è¡¨é¦–éƒ¨çš„æ“ä½œï¼Œå½“èŠ‚ç‚¹æ•°é‡è¿‡å¤§æˆ–æ›´æ–°æ“ä½œè¿‡äºé¢‘ç¹æ—¶ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šä¼šå½±å“ React çš„æ¸²æŸ“æ€§èƒ½ã€‚</li>
</ul>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-shouldComponentUpdateçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-shouldComponentUpdateçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸  shouldComponentUpdateçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸  shouldComponentUpdateçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>shouldComponentUpdateçš„ä½œç”¨</p>
<p>1ã€What</p>
<p>ä¸å¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œèƒ½å½±å“ç»„ä»¶æ˜¯å¦é‡æ–°æ¸²æŸ“</p>
<p>åœ¨æ›´æ–°é˜¶æ®µï¼Œå½“æœ‰new props æˆ–è€… è°ƒç”¨äº† setState()æ–¹æ³•ï¼Œåœ¨renderæ–¹æ³•æ‰§è¡Œå‰ä¼šæ‰§è¡Œåˆ°ï¼Œé»˜è®¤è¿”å›å€¼ä¸ºtrueï¼Œå¦‚æœè¿”å›falseåˆ™ä¸åˆ·æ–°ç»„ä»¶</p>
<p>2ã€Why &amp; When &amp; Where</p>
<ol>
<li>å¦‚æœä½ çŸ¥é“åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ç»„ä»¶ä¸éœ€è¦æ›´æ–°ï¼Œä½ å¯ä»¥è®©å…¶è¿”å›å€¼ä¸ºfalseè·³è¿‡æ•´ä¸ªæ¸²æŸ“è¿‡ç¨‹</li>
<li>æ¬¡æ–¹æ³•ä»…ä½œä¸º æ€§èƒ½ä¼˜åŒ–æ–¹å¼ è€Œå­˜åœ¨ï¼Œä¸è¦ä¼å›¾é æ­¤æ–¹æ³•æ¥é˜»æ­¢æ¸²æŸ“ï¼Œ</li>
<li>å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œä½¿ç”¨PureComponentä»£æ›¿æ‰‹å†™shouldComponentUpdateï¼Œä»…æµ…å±‚å¯¹æ¯”</li>
<li>ä¸å»ºè®®åœ¨shoulComponentUpdateä¸­è¿›è¡Œæ·±å±‚æˆ–è€…ä½¿ç”¨JSON.stringify()ï¼Œè¿™æ ·éå¸¸å½±å“æ•ˆç‡å’Œæ€§èƒ½</li>
<li>ä½œä¸ºReactç»„ä»¶ä¸­ä¸å¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œèƒ½å½±å“ç»„ä»¶æ˜¯å¦é‡æ¸²æŸ“</li>
<li>å»ºè®®åšæµ…å±‚æ¬¡çš„æ¯”è¾ƒï¼Œæ¥ä¼˜åŒ–æ€§èƒ½ï¼Œå½“ç„¶è¿™é‡Œä¹Ÿå¯ä»¥ç”¨PureComponentç»„ä»¶ä»£æ›¿</li>
<li>å¦‚æœæœ‰è¾ƒæ·±å±‚æ¬¡çš„æ¯”è¾ƒåˆ™å¯èƒ½ä¼šå¯¼è‡´æ›´ä¸¥é‡çš„æ€§èƒ½é—®é¢˜ï¼Œå› æ­¤åœ¨è¿™ç§æƒ…å†µä¸‹ä¸è¦é æ‰‹åŠ¨ç®¡ç†ç»„ä»¶çš„é‡æ–°æ¸²æŸ“æ¥ä¼˜åŒ–æ€§èƒ½ï¼Œè¦æ‰¾å…¶ä»–æ–¹å¼</li>
</ol>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ä»€ä¹ˆæ˜¯é«˜é˜¶ç»„ä»¶ã€å—æ§ç»„ä»¶åŠéå—æ§ç»„ä»¶ï¼Ÿéƒ½æœ‰å•¥åŒºåˆ«"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ä»€ä¹ˆæ˜¯é«˜é˜¶ç»„ä»¶ã€å—æ§ç»„ä»¶åŠéå—æ§ç»„ä»¶ï¼Ÿéƒ½æœ‰å•¥åŒºåˆ«" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ä»€ä¹ˆæ˜¯é«˜é˜¶ç»„ä»¶ã€å—æ§ç»„ä»¶åŠéå—æ§ç»„ä»¶ï¼Ÿéƒ½æœ‰å•¥åŒºåˆ«"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ä»€ä¹ˆæ˜¯é«˜é˜¶ç»„ä»¶ã€å—æ§ç»„ä»¶åŠéå—æ§ç»„ä»¶ï¼Ÿéƒ½æœ‰å•¥åŒºåˆ«</h3><h4 id="1ã€å®šä¹‰"><a href="#1ã€å®šä¹‰" class="headerlink" title="1ã€å®šä¹‰"></a>1ã€å®šä¹‰</h4><p>é«˜é˜¶ç»„ä»¶HOCâ€”ä¸æ˜¯ React API çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯åŸºäº React çš„ç»„åˆç‰¹æ€§å½¢æˆçš„è®¾è®¡æ¨¡å¼ã€‚</p>
<p>é«˜é˜¶ç»„ä»¶æ˜¯å‚æ•°ä¸ºç»„ä»¶ï¼Œè¿”å›å€¼ä¸ºæ–°ç»„ä»¶çš„å‡½æ•°ï¼ˆå°†ç»„ä»¶è½¬æ¢ä¸ºå¦ä¸€ä¸ªç»„ä»¶ï¼Œçº¯å‡½æ•°ï¼Œæ— å‰¯ä½œç”¨ï¼‰</p>
<h4 id="2ã€å—æ§ç»„ä»¶"><a href="#2ã€å—æ§ç»„ä»¶" class="headerlink" title="2ã€å—æ§ç»„ä»¶"></a>2ã€å—æ§ç»„ä»¶</h4><p>åœ¨è¡¨å•å…ƒç´ ä¸­ï¼Œstateæ˜¯å”¯ä¸€æ•°æ®æºï¼Œæ¸²æŸ“è¡¨å•çš„Reactç»„ä»¶æ§åˆ¶ç€ç”¨æˆ·è¾“å…¥è¿‡ç¨‹ä¸­è¡¨å•å‘ç”Ÿçš„æ“ä½œã€‚è¢«Reactä»¥è¿™ç§æ–¹å¼æ§åˆ¶å–å€¼çš„è¡¨å•è¾“å…¥å…ƒç´ å«åšå—æ§ç»„ä»¶</p>
<h3 id="3ã€éå—æ§ç»„ä»¶"><a href="#3ã€éå—æ§ç»„ä»¶" class="headerlink" title="3ã€éå—æ§ç»„ä»¶"></a>3ã€éå—æ§ç»„ä»¶</h3><p>è¡¨å•æ•°æ®ç”±DOMèŠ‚ç‚¹æ¥å¤„ç†ï¼Œè€Œä¸æ˜¯ç”¨stateæ¥ç®¡ç†æ•°æ®ï¼Œä¸€èˆ¬å¯ä»¥ä½¿ç”¨refæ¥ä»DOMèŠ‚ç‚¹ä¸­è·å–è¡¨å•æ•°æ®</p>
<p>â€¼ï¸åŒºåˆ«</p>
<ul>
<li>å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶æ˜¯è¡¨å•ä¸­çš„ç»„ä»¶ï¼Œé«˜é˜¶ç»„ä»¶ç›¸å½“äºå¯¹æŸä¸ªç»„ä»¶æ³¨å…¥ä¸€äº›å±æ€§æ–¹æ³•</li>
<li>é«˜é˜¶ç»„ä»¶æ˜¯è§£å†³ä»£ç å¤ç”¨æ€§é—®é¢˜äº§ç”Ÿçš„æŠ€æœ¯</li>
<li>å—æ§ç»„ä»¶å¿…é¡»è¦æœ‰ä¸€ä¸ªvalueï¼Œç»“åˆonChangeæ¥æ§åˆ¶è¿™ä¸ªvalueï¼Œå–å€¼ä¸ºevent.target.value&#x2F;event.target.checked</li>
<li>éå—æ§ç»„ä»¶ç›¸å½“äºæ“ä½œDOMï¼Œä¸€èˆ¬æœ‰ä¸ªdefaultValueï¼Œé€šè¿‡onBlurè§¦å‘å“åº”æ–¹æ³•</li>
</ul>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-vue-reactéƒ½æ€ä¹ˆæ£€æµ‹æ•°æ®å˜åŒ–"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-vue-reactéƒ½æ€ä¹ˆæ£€æµ‹æ•°æ®å˜åŒ–" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ vue reactéƒ½æ€ä¹ˆæ£€æµ‹æ•°æ®å˜åŒ–"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ vue reactéƒ½æ€ä¹ˆæ£€æµ‹æ•°æ®å˜åŒ–</h3><h4 id="React"><a href="#React" class="headerlink" title="React"></a>React</h4><p>Reacté»˜è®¤æ˜¯é€šè¿‡æ¯”è¾ƒå¼•ç”¨çš„æ–¹å¼ï¼ˆdiffï¼‰è¿›è¡Œçš„ï¼Œä¸ç²¾ç¡®ç›‘å¬æ•°æ®å˜åŒ–ï¼Œå¦‚æœä¸ä¼˜åŒ–å¯èƒ½å¯¼è‡´å¤§é‡ä¸å¿…è¦çš„VDOMé‡æ–°æ¸²æŸ“</p>
<p>16ä¹‹å‰ componentWillReveiveProps ç›‘å¬ props å˜åŒ–</p>
<p>16ä¹‹å getDerivedStateFromProps ç›‘å¬ props</p>
<h4 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h4><p>vueç›‘å¬å˜é‡å˜åŒ–ä¾é  watch Object.definePropertyï¼ŒVueé€šè¿‡â€œgetter&#x2F;setterâ€ä»¥åŠä¸€äº›å‡½æ•°çš„åŠ«æŒï¼Œèƒ½ç²¾ç¡®çŸ¥é“æ•°æ®å˜åŒ–</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ä»€ä¹ˆæ˜¯-immutableï¼Ÿä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ä»€ä¹ˆæ˜¯-immutableï¼Ÿä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ä»€ä¹ˆæ˜¯ immutableï¼Ÿä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ä»€ä¹ˆæ˜¯ immutableï¼Ÿä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒï¼Ÿ</h3><p>immutableæ˜¯ä¸€ç§æŒä¹…åŒ–æ•°æ®ã€‚ä¸€æ—¦è¢«åˆ›å»ºå°±ä¸ä¼šè¢«ä¿®æ”¹ã€‚ä¿®æ”¹immutableå¯¹è±¡çš„æ—¶å€™è¿”å›æ–°çš„immutableã€‚ä½†æ˜¯åŸæ•°æ®ä¸ä¼šæ”¹å˜ã€‚</p>
<p>åœ¨Ruduxä¸­å› ä¸ºæ·±æ‹·è´å¯¹æ€§èƒ½çš„æ¶ˆè€—å¤ªå¤§äº†ï¼ˆç”¨åˆ°äº†é€’å½’ï¼Œé€å±‚æ‹·è´æ¯ä¸ªèŠ‚ç‚¹ï¼‰ã€‚ ä½†å½“ä½ ä½¿ç”¨immutableæ•°æ®çš„æ—¶å€™ï¼šåªä¼šæ‹·è´ä½ æ”¹å˜çš„èŠ‚ç‚¹ï¼Œä»è€Œè¾¾åˆ°äº†èŠ‚çœæ€§èƒ½ã€‚ </p>
<p>æ€»ç»“ï¼šimmutableçš„ä¸å¯å˜æ€§</p>
<p>è®©çº¯å‡½æ•°æ›´å¼ºå¤§ï¼Œæ¯æ¬¡éƒ½è¿”å›æ–°çš„immutableçš„ç‰¹æ€§è®©ç¨‹åºå‘˜å¯ä»¥å¯¹å…¶è¿›è¡Œé“¾å¼æ“ä½œï¼Œç”¨èµ·æ¥æ›´æ–¹ä¾¿ã€‚</p>
<p>å› ä¸ºåœ¨reactä¸­ï¼Œreactçš„ç”Ÿå‘½å‘¨æœŸä¸­çš„setState()ä¹‹åçš„shouldComponentUpdate()é˜¶æ®µé»˜è®¤è¿”å›trueï¼Œæ‰€ä»¥ä¼šé€ æˆæœ¬ç»„ä»¶å’Œå­ç»„ä»¶çš„å¤šä½™çš„renderï¼Œé‡æ–°ç”Ÿæˆvirtual domï¼Œå¹¶è¿›è¡Œvirtual dom diffï¼Œæ‰€ä»¥è§£å†³åŠæ³•æ˜¯æˆ‘ä»¬åœ¨æœ¬ç»„ä»¶æˆ–è€…å­ç»„ä»¶ä¸­çš„shouldComponentUpdate()å‡½æ•°ä¸­æ¯”è¾ƒï¼Œå½“ä¸éœ€è¦renderæ—¶ï¼Œä¸renderã€‚ </p>
<p>å½“stateä¸­çš„å€¼æ˜¯å¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨æ·±æ‹·è´å’Œæ·±æ¯”è¾ƒï¼</p>
<p>å¦‚æœä¸è¿›è¡Œæ·±æ‹·è´åå†setStateï¼Œä¼šé€ æˆthis.stateå’ŒnextStateæŒ‡å‘åŒä¸€ä¸ªå¼•ç”¨ï¼Œæ‰€ä»¥shouldComponentUpdate()è¿”å›å€¼ä¸€å®šæ˜¯falseï¼Œé€ æˆstateå€¼æ”¹äº†ï¼Œè€Œç»„ä»¶æœªæ¸²æŸ“ï¼ˆè¿™é‡Œä¸ç®¡shouldComponentUpdateä¸­ä½¿ç”¨çš„æ˜¯æ·±æ¯”è¾ƒè¿˜æ˜¯æµ…æ¯”è¾ƒï¼‰ã€‚æ‰€ä»¥å¿…é¡»æ·±æ‹·è´ã€‚</p>
<p>å¦‚æœä¸åœ¨shouldComponentUpdateä¸­è¿›è¡Œæ·±æ¯”è¾ƒï¼Œä¼šé€ æˆå³ä½¿stateä¸­çš„å¯¹è±¡å€¼æ²¡æœ‰æ”¹å˜ï¼Œå› ä¸ºæ˜¯ä¸åŒçš„å¯¹è±¡ï¼Œè€Œåœ¨shouldComponentUpdateè¿”å›trueï¼Œé€ æˆä¸å¿…è¦çš„æ¸²æŸ“ã€‚</p>
<p>æ‰€ä»¥åªèƒ½æ˜¯æ·±æ‹·è´å’Œæ·±æ¯”è¾ƒã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-Reactè·¯ç”±æ‡’åŠ è½½çš„å®ç°"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-Reactè·¯ç”±æ‡’åŠ è½½çš„å®ç°" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ Reactè·¯ç”±æ‡’åŠ è½½çš„å®ç°"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ Reactè·¯ç”±æ‡’åŠ è½½çš„å®ç°</h3><h4 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h4><p>webpackä»£ç åˆ†å‰²</p>
<p>Reactåˆ©ç”¨ React.lazyä¸import()å®ç°äº†æ¸²æŸ“æ—¶çš„åŠ¨æ€åŠ è½½</p>
<p>åˆ©ç”¨Suspenseæ¥å¤„ç†å¼‚æ­¥åŠ è½½èµ„æºæ—¶é¡µé¢åº”è¯¥å¦‚ä½•æ˜¾ç¤ºçš„é—®é¢˜</p>
<h4 id="1-React-lazy"><a href="#1-React-lazy" class="headerlink" title="1.React.lazy"></a>1.React.lazy</h4><p>é€šè¿‡lazy() apiæ¥åŠ¨æ€importéœ€è¦æ‡’åŠ è½½çš„ç»„ä»¶</p>
<p>importçš„ç»„ä»¶ç›®å‰åªæ”¯æŒexport defaultçš„å½¢å¼å¯¼å‡º</p>
<p>Suspenseæ¥åŒ…è£¹æ‡’åŠ è½½çš„ç»„ä»¶è¿›è¡ŒåŠ è½½ï¼Œå¯ä»¥è®¾ç½®fallbackç°å®åŠ è½½ä¸­æ•ˆæœ</p>
<p>React.lazyå¯ä»¥ç»“åˆRouteræ¥å¯¹æ¨¡å—è¿›è¡Œæ‡’åŠ è½½ã€‚</p>
<pre><code class="react">import &#123; BrowserRouter as Router, Route, Switch &#125; from &#39;react-router-dom&#39;;
import &#123; Suspense, lazy &#125; from &#39;react&#39;;
const Home = lazy(() =&gt; import(&#39;./routes/Home&#39;))
const AnyComponent = lazy(() =&gt; import(&#39;./routes/AnyComponent&#39;))
...
return (
 &lt;Suspense fallback=&#123;
Loading...
&#125;&gt; ...
</code></pre>
<h4 id="2-react-loadable"><a href="#2-react-loadable" class="headerlink" title="2.react-loadable"></a>2.react-loadable</h4><p>react-loadableæ˜¯ä»¥ç»„ä»¶çº§åˆ«æ¥åˆ†å‰²ä»£ç çš„ï¼Œè¿™æ„å‘³ç€ï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥æ ¹æ®è·¯ç”±æŒ‰éœ€åŠ è½½ï¼Œè¿˜å¯ä»¥æ ¹æ®ç»„ä»¶æŒ‰éœ€åŠ è½½ï¼Œä½¿ç”¨æ–¹å¼å’Œè·¯ç”±åˆ†å‰²ä¸€æ ·ï¼Œåªç”¨ä¿®æ”¹ç»„ä»¶çš„å¼•å…¥æ–¹å¼å³å¯</p>
<pre><code class="react">// è·¯ç”±æ‡’åŠ è½½ï¼ˆå¼‚æ­¥ç»„ä»¶ï¼‰
import Loadable from &#39;react-loadable&#39;;
//é€šç”¨è¿‡åœºç»„ä»¶
const LoadingComponent = () =&gt; &#123;
 return (
loading
) &#125; ... export default (loader, loading=LoadingComponent) =&gt; &#123; return Loadable(&#123; loader, loading &#125;) &#125;
//Routeä¸­è°ƒç”¨
import &#123; BrowserRouter, Route &#125; from &#39;react-router-dom&#39;
const loadable from &#39;./loadable&#39;;
const AnyComponent = loadable(() =&gt; import(&#39;./AnyComponent&#39;))
const Routes = () =&gt; (
);
export default Routes;
</code></pre>
<p>ä»¥ä¸‹æ˜¯è€ç‰ˆä¸­çš„æ–¹æ³•</p>
<h4 id="3-webpacké…ç½®ä¸­ä½¿ç”¨lazyload-loader"><a href="#3-webpacké…ç½®ä¸­ä½¿ç”¨lazyload-loader" class="headerlink" title="3.webpacké…ç½®ä¸­ä½¿ç”¨lazyload-loader"></a>3.webpacké…ç½®ä¸­ä½¿ç”¨lazyload-loader</h4><pre><code class="react">// webpack é…ç½®ä¸­
module: &#123;
 rules: [
 &#123;
 test: /.(js|jsx)$/,,
 use: [
 &#39;babel-loader&#39;,
 &#39;lazyload-loader&#39;
 ]
&#125;,
// ä¸šåŠ¡ä»£ç ä¸­
// ä½¿ç”¨lazy! å‰ç¼€ ä»£è¡¨éœ€è¦æ‡’åŠ è½½çš„Router
 import Shop from &#39;lazy!./src/view/Shop&#39;;
 // Router æ­£å¸¸ä½¿ç”¨
</code></pre>
<h4 id="4-import-webpack-v2"><a href="#4-import-webpack-v2" class="headerlink" title="4.import() webpack v2+"></a>4.import() webpack v2+</h4><p>ç¬¦åˆECMAScriptæè®®çš„import()è¯­æ³•ï¼Œè¯¥ææ¡ˆä¸æ™®é€š import è¯­å¥æˆ– require å‡½æ•°çš„ç±»ä¼¼ï¼Œä½†è¿”å›ä¸€ä¸ª Promise å¯¹è±¡</p>
<pre><code class="react">function component() &#123;
 return import( /* webpackChunkName: &quot;lodash&quot; / &#39;lodash&#39;).then(_ =&gt; &#123;
 var element = document.createElement(&#39;div&#39;);
 element.innerHTML = _.join([&#39;Hello&#39;, &#39;webpack&#39;], &#39; &#39;);
 return element;
 &#125;).catch(error =&gt; &#39;An error occurred while loading the component&#39;);
&#125;
// æˆ–è€…ä½¿ç”¨async
async function getComponent() &#123;
 var element = document.createElement(&#39;div&#39;);
 const _ = await import(/ webpackChunkName: &quot;lodash&quot; */ &#39;lodash&#39;);
 element.innerHTML = _.join([&#39;Hello&#39;, &#39;webpack&#39;], &#39; &#39;);
 return element;
&#125;
</code></pre>
<h4 id="5-requre-ensure-webpack-v1-v2"><a href="#5-requre-ensure-webpack-v1-v2" class="headerlink" title="5.requre.ensure webpack v1 v2"></a>5.requre.ensure webpack v1 v2</h4><pre><code class="react">require.ensure([], function(require)&#123;
 var list = require(&#39;./list&#39;);
 list.show();
ï¼Œ&#39;list&#39;);
const Foo = require.ensure([], () =&gt; &#123;
 require(&quot;Foo&quot;);
&#125;, err =&gt; &#123;
 console.error(&quot;We failed to load chunk: &quot; + err);
&#125;, &quot;chunk-name&quot;);
//react-router2 or 3
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-React-router-domå†…éƒ¨æ˜¯æ€ä¹ˆæ ·å®ç°çš„ï¼Œæ€ä¹ˆåšè·¯ç”±å®ˆå«ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-React-router-domå†…éƒ¨æ˜¯æ€ä¹ˆæ ·å®ç°çš„ï¼Œæ€ä¹ˆåšè·¯ç”±å®ˆå«ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ React-router-domå†…éƒ¨æ˜¯æ€ä¹ˆæ ·å®ç°çš„ï¼Œæ€ä¹ˆåšè·¯ç”±å®ˆå«ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ React-router-domå†…éƒ¨æ˜¯æ€ä¹ˆæ ·å®ç°çš„ï¼Œæ€ä¹ˆåšè·¯ç”±å®ˆå«ï¼Ÿ</h3><p>1ã€æ€»</p>
<p>react-router-domåˆ©ç”¨äº†Context APIï¼Œé€šè¿‡ä¸Šä¸‹æ–‡å¯¹è±¡å°†å½“å‰è·¯ç”±ä¿¡æ¯å¯¹è±¡æ³¨å…¥åˆ° Router ç»„ä»¶ä¸­ï¼Œæ‰€ä»¥ Routerç»„ä»¶ä¸­ render() æ¸²æŸ“çš„å†…å®¹å°±æ˜¯ ContextAPI æä¾›çš„ Provider ç»„ä»¶ï¼Œç„¶åæ¥æ”¶ Router ç»„ä»¶ä¸­çš„å½“å‰è·¯ç”±ä¿¡æ¯å¯¹è±¡ã€‚ è¿™æ · Router ç»„ä»¶ä¸‹çš„æ‰€æœ‰ç»„ä»¶éƒ½èƒ½é€šè¿‡ä¸Šä¸‹æ–‡æ‹¿åˆ°å½“å‰è·¯ç”±ä¿¡æ¯å¯¹è±¡ï¼Œå³å…¶ä¸­çš„Switch ã€ Route ã€ Link ã€Redirect ç­‰ç»„ä»¶éƒ½å¯ä»¥æ‹¿åˆ°å½“å‰è·¯ç”±ä¿¡æ¯å¯¹è±¡ï¼Œç„¶åé€šè¿‡æ”¹å˜å½“å‰è·¯ç”±ä¿¡æ¯æ¥å®ç°åŠ¨æ€åˆ‡æ¢ Route ç»„ä»¶çš„æ¸²æŸ“ã€‚</p>
<p>2ã€åˆ†</p>
<p>RouterContextï¼šreact-routerä½¿ç”¨contextå®ç°è·¨ç»„ä»¶é—´æ•°æ®ä¼ é€’ï¼Œæ‰€ä»¥react-routerå®šä¹‰äº†ä¸€ä¸ªrouterContextä½œä¸ºæ•°æ®æºï¼Œ</p>
<p>Routerï¼šBrowserRouterå’ŒHashRouterå°†å½“å‰è·¯ç”±æ³¨å…¥åˆ°ä¸Šä¸‹æ–‡ä¸­ï¼ŒåŒæ—¶è·¯ç”±ä¿¡æ¯åŒ…å«locationã€matchã€history</p>
<p>Routeï¼šè·¯ç”±è§„åˆ™ï¼Œè·å–RouterContextçš„ä¿¡æ¯(locationå¯¹è±¡)ï¼Œè·å–pathå’Œcomponentå±æ€§ï¼Œåˆ¤æ–­pathå’Œå½“å‰çš„locationæ˜¯å¦åŒ¹é…ï¼Œå¦‚æœåŒ¹é…ï¼Œåˆ™æ¸²æŸ“componentï¼Œå¦åˆ™è¿”å›nullï¼Œä¸æ¸²æŸ“ä»»ä½•å†…å®¹</p>
<p>Switchï¼šéå†æ‰€æœ‰å­å…ƒç´ (Route)ï¼Œåˆ¤æ–­Routeçš„pathå’Œlocationæ˜¯å¦åŒ¹é…ï¼Œå¦‚æœåŒ¹é…ï¼Œåˆ™æ¸²æŸ“ï¼Œå¦åˆ™ä¸æ¸²æŸ“</p>
<p>Redireactï¼šæœªèƒ½é…åˆ™é‡å®šå‘åˆ°æŒ‡å®šé¡µé¢</p>
<p>Link&#x2F;NavLink: Linkç»„ä»¶æœ¬è´¨å°±æ˜¯aæ ‡ç­¾ï¼Œå®ƒä¿®æ”¹äº†aæ ‡ç­¾çš„é»˜è®¤è¡Œä¸ºï¼Œå½“ç‚¹å‡»Linkæ—¶ï¼Œä¼šå¯¼èˆªåˆ°å¯¹åº”çš„è·¯ç”±ï¼Œå¯¼è‡´locaitonå¯¹è±¡çš„æ”¹å˜ï¼Œå‡ºå‘ç»„ä»¶çš„æ›´æ–°</p>
<p>withRouterï¼šå¯¹ä¼ å…¥çš„ç»„ä»¶è¿›è¡ŒåŠ å¼ºï¼ŒåŠŸèƒ½å°±æ˜¯è·å–routerContextä¸Šé¢çš„ä¿¡æ¯ï¼Œç„¶åä½œä¸ºpropsä¼ ç»™éœ€è¦åŠ å¼ºçš„ç»„ä»¶</p>
<p>3ã€æ€ä¹ˆåšè·¯ç”±å®ˆå«</p>
<p>è·¯ç”±é‡Œè®¾ç½®metaå…ƒå­—ç¬¦å®ç°è·¯ç”±æ‹¦æˆª</p>
<p>React Router 4.0ä¹‹å‰ä¹Ÿåƒvueä¸­ä¸€æ ·æœ‰ä¸ªé’©å­å‡½æ•° onEnter å¯å®ç°</p>
<p>ReactRouter 4.0å¼€å§‹è‡ªå·±å®ç°å¦‚ä¸‹</p>
<pre><code class="react">// routerMap.jsä¸­
import Index from &#39;./page/index&#39;
export default [
 &#123; path:&#39;/&#39;, name: &#39;App&#39;, component:Index, auth: true &#125;,
 ...
]
//å…¥å£æ–‡ä»¶ app.jsä¸­
import &#123; BrowserRouter as Router, Switch &#125; from &quot;react-router-dom&quot;;
import FrontendAuth from &quot;./FrontendAuth&quot;;
import routerMap from &quot;./routerMap&quot;;
...
return (
 
 
)
// é«˜é˜¶ç»„ä»¶FrontendAuth å¤„ç†è·¯ç”±è·³è½¬ï¼Œå³è·¯ç”±å®ˆå«åŠŸèƒ½
//FrontendAuth.js
import React, &#123; Component &#125; from &quot;react&quot;;
import &#123; Route, Redirect &#125; from &quot;react-router-dom&quot;;
class FrontendAuth extends Component &#123;
 // eslint-disable-next-line no-useless-constructor
 constructor(props) &#123;
 super(props);
 &#125;
 render() &#123;
 const &#123; routerConfig, location &#125; = this.props;
 const &#123; pathname &#125; = location;
 const isLogin = sessionStorage.getItem(&quot;username&quot;);
 console.log(pathname, isLogin);
 console.log(location);
 // å¦‚æœè¯¥è·¯ç”±ä¸ç”¨è¿›è¡Œæƒé™æ ¡éªŒï¼Œç™»å½•çŠ¶æ€ä¸‹ç™»é™†é¡µé™¤å¤–
 // å› ä¸ºç™»é™†åï¼Œæ— æ³•è·³è½¬åˆ°ç™»é™†é¡µ
 // è¿™éƒ¨åˆ†ä»£ç ï¼Œæ˜¯ä¸ºäº†åœ¨éç™»é™†çŠ¶æ€ä¸‹ï¼Œè®¿é—®ä¸éœ€è¦æƒé™æ ¡éªŒçš„è·¯ç”±
 const targetRouterConfig = routerConfig.find(
 (item) =&gt; item.path === pathname
 );
 console.log(targetRouterConfig);
 if (targetRouterConfig &amp;&amp; !targetRouterConfig.auth &amp;&amp; !isLogin) &#123;
 const &#123; component &#125; = targetRouterConfig;
 return ;
 &#125;
 if (isLogin) &#123;
 // å¦‚æœæ˜¯ç™»é™†çŠ¶æ€ï¼Œæƒ³è¦è·³è½¬åˆ°ç™»é™†ï¼Œé‡å®šå‘åˆ°ä¸»é¡µ
 if (pathname === &quot;/login&quot;) &#123;
 return ;
 &#125; else &#123;
 // å¦‚æœè·¯ç”±åˆæ³•ï¼Œå°±è·³è½¬åˆ°ç›¸åº”çš„è·¯ç”±
 if (targetRouterConfig) &#123;
 return (
 
 );
 &#125; else &#123;
 // å¦‚æœè·¯ç”±ä¸åˆæ³•ï¼Œé‡å®šå‘åˆ° 404 é¡µé¢
 return ;
 &#125;
 &#125;
 &#125; else &#123;
 // éç™»é™†çŠ¶æ€ä¸‹ï¼Œå½“è·¯ç”±åˆæ³•æ—¶ä¸”éœ€è¦æƒé™æ ¡éªŒæ—¶ï¼Œè·³è½¬åˆ°ç™»é™†é¡µé¢ï¼Œè¦æ±‚ç™»é™†
 if (targetRouterConfig &amp;&amp; targetRouterConfig.auth) &#123;
 return ;
 &#125; else &#123;
 // éç™»é™†çŠ¶æ€ä¸‹ï¼Œè·¯ç”±ä¸åˆæ³•æ—¶ï¼Œé‡å®šå‘è‡³ 404
 return ;
 &#125;
 &#125;
 &#125;
&#125;
export default FrontendAuth;
</code></pre>
<p>æ€»ç»“ä¸€ä¸‹ï¼Œå®ç°è·¯ç”±å®ˆå«éœ€è¦è€ƒè™‘åˆ°ä»¥ä¸‹çš„é—®é¢˜ï¼š</p>
<p>æœªç™»å½•æƒ…å†µä¸‹ï¼Œè®¿é—®ä¸éœ€è¦æƒé™æ ¡éªŒçš„åˆæ³•é¡µé¢ï¼šå…è®¸è®¿é—®</p>
<p>æœªç™»å½•æƒ…å†µä¸‹ï¼Œè®¿é—®éœ€è¦æƒé™æ ¡éªŒçš„é¡µé¢ï¼šç¦æ­¢è®¿é—®ï¼Œè·³è½¬è‡³ç™»é™†é¡µ</p>
<p>æœªç™»å½•æƒ…å†µä¸‹ï¼Œè®¿é—®æ‰€æœ‰çš„éæ³•é¡µé¢ï¼šç¦æ­¢è®¿é—®ï¼Œè·³è½¬è‡³ 404</p>
<p>ç™»é™†æƒ…å†µä¸‹ï¼Œè®¿é—®ç™»é™†é¡µé¢ï¼šç¦æ­¢è®¿é—®ï¼Œè·³è½¬è‡³ä¸»é¡µ</p>
<p>ç™»é™†æƒ…å†µä¸‹ï¼Œè®¿é—®é™¤ç™»é™†é¡µä»¥å¤–çš„åˆæ³•é¡µé¢ï¼šå…è®¸è®¿é—®</p>
<p>ç™»é™†æƒ…å†µä¸‹ï¼Œè®¿é—®æ‰€æœ‰çš„éæ³•é¡µé¢ï¼šç¦æ­¢è®¿é—®ï¼Œè·³è½¬è‡³ 404</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-reduxä¸­sageså’Œthunkä¸­é—´ä»¶çš„åŒºåˆ«ï¼Œä¼˜ç¼ºç‚¹"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-reduxä¸­sageså’Œthunkä¸­é—´ä»¶çš„åŒºåˆ«ï¼Œä¼˜ç¼ºç‚¹" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ reduxä¸­sageså’Œthunkä¸­é—´ä»¶çš„åŒºåˆ«ï¼Œä¼˜ç¼ºç‚¹"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ reduxä¸­sageså’Œthunkä¸­é—´ä»¶çš„åŒºåˆ«ï¼Œä¼˜ç¼ºç‚¹</h3><p>1ã€åŒºåˆ«</p>
<ul>
<li>redux-thunkå¼‚æ­¥é‡‡å– async&#x2F;await </li>
<li>redux-sagaé‡‡å–generateå‡½æ•°</li>
</ul>
<p>2ã€ä¼˜ç¼ºç‚¹</p>
<p>redux-thunk</p>
<ul>
<li>ä¼˜ç‚¹ï¼š åº“å°ï¼Œä»£ç å°±å‡ è¡Œ </li>
<li>ç¼ºç‚¹ï¼šä»£ç è‡ƒè‚¿ï¼Œreducerä¸å†æ˜¯çº¯ç²¹å‡½æ•°ï¼Œç›´æ¥è¿”å›å¯¹è±¡ï¼Œè¿èƒŒäº†å½“åˆçš„è®¾è®¡åŸåˆ™ï¼›actionçš„å½¢å¼ä¸ç»Ÿä¸€ï¼Œå¼‚æ­¥æ“ä½œå¤ªä¸ºåˆ†æ•£ï¼Œåˆ†æ•£åœ¨äº†å„ä¸ªactionä¸­</li>
</ul>
<p>redux-saga</p>
<ul>
<li>ä¼˜ç‚¹ï¼š å°†å¼‚æ­¥ä¸reduceråŒºåˆ†å¼€äº†ï¼Œæ›´åŠ ä¼˜é›…ï¼Œé€‚åˆå¤§é‡APiè¯·æ±‚ï¼Œè€Œä¸”æ¯ä¸ªè¯·æ±‚ä¹‹é—´å­˜åœ¨å¤æ‚çš„ä¾èµ–å…³ç³»</li>
<li>ç¼ºç‚¹ï¼šå­¦ä¹ æ›²çº¿æ¯”è¾ƒé™¡ï¼Œç†è§£async awaitï¼›è€Œä¸”åº“ä¹Ÿæ¯”è¾ƒå¤§ï¼Œå³ä½¿å‘å¸ƒçš„æœ€å°ä¹Ÿæœ‰25kb,gzipå‹ç¼©åä¹Ÿæœ‰7KB,Reactå‹ç¼©åæ‰45kb</li>
</ul>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-Reactå¤ç”¨ç»„ä»¶çš„çŠ¶æ€å’Œå¢å¼ºåŠŸèƒ½çš„æ–¹æ³•"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-Reactå¤ç”¨ç»„ä»¶çš„çŠ¶æ€å’Œå¢å¼ºåŠŸèƒ½çš„æ–¹æ³•" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸  Reactå¤ç”¨ç»„ä»¶çš„çŠ¶æ€å’Œå¢å¼ºåŠŸèƒ½çš„æ–¹æ³•"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸  Reactå¤ç”¨ç»„ä»¶çš„çŠ¶æ€å’Œå¢å¼ºåŠŸèƒ½çš„æ–¹æ³•</h3><ul>
<li>render propsæ¨¡å¼</li>
<li>é«˜é˜¶ç»„ä»¶ï¼ˆHOCï¼‰</li>
</ul>
<p>æ³¨æ„ï¼šä»¥ä¸Šä¸¤ç§æ–¹å¼ä¸æ˜¯æ–°çš„APIï¼Œè€Œæ˜¯æ¼”åŒ–è€Œæˆçš„ä¸€ç§å›ºå®šæ¨¡å¼ï¼ˆå†™æ³•)</p>
<ul>
<li><p>æ€è·¯ï¼šå°†è¦å¤ç”¨çš„stateå’Œæ“ä½œstateçš„æ–¹æ³•å°è£…åœ¨ä¸€ä¸ªç»„ä»¶é‡Œé¢ï¼ˆåœ¨ç»„ä»¶ä¸­æä¾›å¤ç”¨çš„çŠ¶æ€é€»è¾‘ä»£ç ï¼Œå³çŠ¶æ€å’Œæ“ä½œçŠ¶æ€çš„æ–¹æ³•ï¼‰</p>
</li>
<li><p>è¿™æ—¶ï¼Œæˆ‘ä»¬å°±è¦æ€è€ƒä¸¤ä¸ªé—®é¢˜ï¼šï¼ˆ1ï¼‰çŠ¶æ€æ˜¯ç»„ä»¶å†…éƒ¨ç§æœ‰çš„ï¼Œé‚£ä¹ˆå¦‚ä½•åœ¨å¤ç”¨ç»„ä»¶çš„æ—¶å€™æ‹¿åˆ°ç»„ä»¶å†…éƒ¨çš„stateå‘¢ï¼Ÿâ€”-&gt; å¯ä»¥åœ¨ä½¿ç”¨ç»„ä»¶çš„æ—¶å€™ï¼Œæ·»åŠ ä¸€ä¸ªå€¼ä¸ºå‡½æ•°çš„propsï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡å‡½æ•°å‚æ•°æ¥è·å–ç»„ä»¶å†…éƒ¨çš„stateã€‚ï¼ˆ2ï¼‰å¤ç”¨ç»„ä»¶æ—¶ï¼Œéœ€è¦æ¸²æŸ“çš„UIç»“æ„ä¼šä¸ä¸€æ ·ï¼Œé‚£ä¹ˆæ€ä¹ˆåœ¨å¤ç”¨ç»„ä»¶æ—¶å®ç°æ¸²æŸ“ä»»æ„çš„UIå‘¢ï¼Ÿâ€”â€“&gt;å°†å‡½æ•°çš„è¿”å›å€¼ä½œä¸ºè¦æ¸²æŸ“çš„UI</p>
</li>
<li><p>æ³¨æ„ï¼šå¤ç”¨çš„ç»„ä»¶å¹¶æ²¡æœ‰æ¸²æŸ“ä»»ä½•çš„UIç»“æ„ï¼Œè€Œä¸”é€šè¿‡å‡½æ•°çš„è¿”å›å€¼æ¥æ¸²æŸ“çš„ã€‚</p>
<p>ä»¥ä¸‹é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥æ¼”ç¤ºä½¿ç”¨render propsæ¨¡å¼å®ç°çš„ç»„ä»¶å¤ç”¨ï¼ˆä¸€ä¸ªæ•ˆæœæ˜¯éšç€é¼ æ ‡ç§»åŠ¨ï¼Œè·å–é¼ æ ‡çš„ä½ç½®ï¼Œå¦ä¸€ä¸ªæ•ˆæœæ˜¯å›¾ç‰‡éšç€é¼ æ ‡ç§»åŠ¨è€Œç§»åŠ¨ï¼Œè¿™ä¸¤ä¸ªæ•ˆæœçš„å®ç°éƒ½è¦è·å–xå’Œyåæ ‡ï¼Œæ‰€ä»¥å¯ä»¥è€ƒè™‘ç”¨ç»„ä»¶çš„å¤ç”¨æ¥å®ç°ï¼‰</p>
</li>
</ul>
<p>Mouseç»„ä»¶ï¼ˆè¦å¤ç”¨çš„ç»„ä»¶ï¼‰</p>
<pre><code class="react">import React from &quot;react&quot;;
class Mouse extends React.Component &#123;
    //å¤ç”¨çš„state
    state = &#123;
        x: 0,
        y: 0
    &#125;
    //æ“ä½œstateçš„æ–¹æ³•
    handleMouseMove = e =&gt; &#123;
        this.setState(&#123;
            x: e.clientX,
            y: e.clientY
        &#125;)
    &#125;
    //ç›‘å¬é¼ æ ‡ç§»åŠ¨äº‹ä»¶
    componentDidMount() &#123;
        window.addEventListener(&quot;mousemove&quot;, this.handleMouseMove)
    &#125;
    render()&#123;
        return this.props.render(this.state)   //é€šè¿‡å‡½æ•°å‚æ•°æš´éœ²ç»„ä»¶å†…éƒ¨çš„çŠ¶æ€
    &#125;
&#125;
export default Mouse;
</code></pre>
<p>Mouse_Treeç»„ä»¶ï¼ˆå¤ç”¨Mouseç»„ä»¶çš„ç»„ä»¶ï¼‰</p>
<pre><code class="react">import React from &quot;react&quot;;
import Mouse from &quot;./Mouse.js&quot;;
import img from &quot;./images/tree.PNG&quot;

class Mouse_Cat extends React.Component &#123;
    render()&#123;
        return(
            &lt;div&gt;
                &lt;Mouse render=&#123; mouse =&gt; &#123;
                    return(
                        &lt;p&gt;Xåæ ‡ä¸ºï¼š&#123;mouse.x&#125; Yåæ ‡ä¸ºï¼š&#123;mouse.y&#125;&lt;/p&gt;
                    )
                &#125;&#125;/&gt;  
                &lt;Mouse render=&#123; mouse =&gt; &#123;
                    return(
                        &lt;img src=&#123;img&#125; alt=&quot;æ ‘&quot; style=&#123;&#123;
                            position: 'absolute',
                            top: mouse.y,
                            left: mouse.x
                        &#125;&#125;/&gt;
                    )
                &#125;&#125;/&gt;    
            &lt;/div&gt;
        )
    &#125;
&#125;
export default Mouse_Cat;
</code></pre>
<hr>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-Reactæœ‰å“ªäº›æ€§èƒ½ä¼˜åŒ–çš„æ‰‹æ®µï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-Reactæœ‰å“ªäº›æ€§èƒ½ä¼˜åŒ–çš„æ‰‹æ®µï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ Reactæœ‰å“ªäº›æ€§èƒ½ä¼˜åŒ–çš„æ‰‹æ®µï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ Reactæœ‰å“ªäº›æ€§èƒ½ä¼˜åŒ–çš„æ‰‹æ®µï¼Ÿ</h3><p> 1ã€ä½¿ç”¨çº¯ç»„ä»¶ï¼›</p>
<p> 2ã€ä½¿ç”¨ React.memo è¿›è¡Œç»„ä»¶è®°å¿†ï¼ˆReact.memo æ˜¯ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ï¼‰ï¼Œå¯¹äºç›¸åŒçš„è¾“å…¥ï¼Œä¸é‡å¤æ‰§è¡Œï¼›</p>
<p> 3ã€å¦‚æœæ˜¯ç±»ç»„ä»¶ï¼Œä½¿ç”¨ shouldComponentUpdateï¼ˆè¿™æ˜¯åœ¨é‡æ–°æ¸²æŸ“ç»„ä»¶ä¹‹å‰è§¦å‘çš„å…¶ä¸­ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸäº‹ä»¶ï¼‰ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ï¼Œå¯ä»¥åˆ©ç”¨æ­¤äº‹ä»¶æ¥å†³å®šä½•æ—¶éœ€è¦é‡æ–°æ¸²æŸ“ç»„ä»¶ï¼›</p>
<p> 4ã€è·¯ç”±æ‡’åŠ è½½ï¼›</p>
<p> 5ã€ä½¿ç”¨ React Fragments é¿å…é¢å¤–æ ‡è®°ï¼›</p>
<p> 6ã€ä¸è¦ä½¿ç”¨å†…è”å‡½æ•°å®šä¹‰ï¼ˆå¦‚æœæˆ‘ä»¬ä½¿ç”¨å†…è”å‡½æ•°ï¼Œåˆ™æ¯æ¬¡è°ƒç”¨â€œrenderâ€å‡½æ•°æ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°å®ä¾‹ï¼‰ï¼›</p>
<p> 7ã€é¿å…åœ¨Willxxxç³»åˆ—çš„ç”Ÿå‘½å‘¨æœŸä¸­è¿›è¡Œå¼‚æ­¥è¯·æ±‚ï¼Œæ“ä½œdomç­‰ï¼›</p>
<p> 8ã€å¦‚æœæ˜¯ç±»ç»„ä»¶ï¼Œäº‹ä»¶å‡½æ•°åœ¨Constructorä¸­ç»‘å®šbindæ”¹å˜thisæŒ‡å‘ï¼›</p>
<p> 9ã€é¿å…ä½¿ç”¨å†…è”æ ·å¼å±æ€§ï¼›</p>
<p> 10ã€ä¼˜åŒ– React ä¸­çš„æ¡ä»¶æ¸²æŸ“ï¼›</p>
<p> 11ã€ä¸è¦åœ¨ render æ–¹æ³•ä¸­å¯¼å‡ºæ•°æ®ï¼›</p>
<p> 12ã€åˆ—è¡¨æ¸²æŸ“çš„æ—¶å€™åŠ keyï¼›</p>
<p> 13ã€åœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨useCallbackå’ŒuseMemoæ¥è¿›è¡Œç»„ä»¶ä¼˜åŒ–ï¼Œä¾èµ–æ²¡æœ‰å˜åŒ–çš„è¯ï¼Œä¸é‡å¤æ‰§è¡Œï¼›</p>
<p> 14ã€ç±»ç»„ä»¶ä¸­ä½¿ç”¨immutableå¯¹è±¡ï¼›</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-è°ƒç”¨this-setStateä¹‹åï¼ŒReactéƒ½åšäº†å“ªäº›æ“ä½œï¼Ÿæ€ä¹ˆæ‹¿åˆ°æ”¹å˜åçš„å€¼ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-è°ƒç”¨this-setStateä¹‹åï¼ŒReactéƒ½åšäº†å“ªäº›æ“ä½œï¼Ÿæ€ä¹ˆæ‹¿åˆ°æ”¹å˜åçš„å€¼ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ è°ƒç”¨this.setStateä¹‹åï¼ŒReactéƒ½åšäº†å“ªäº›æ“ä½œï¼Ÿæ€ä¹ˆæ‹¿åˆ°æ”¹å˜åçš„å€¼ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ è°ƒç”¨this.setStateä¹‹åï¼ŒReactéƒ½åšäº†å“ªäº›æ“ä½œï¼Ÿæ€ä¹ˆæ‹¿åˆ°æ”¹å˜åçš„å€¼ï¼Ÿ</h3><p>å¦‚æœæ˜¯åœ¨éš¶å±äºåŸç”Ÿjsæ‰§è¡Œçš„ç©ºé—´ï¼Œæ¯”å¦‚è¯´setTimeouté‡Œé¢ï¼ŒsetStateæ˜¯åŒæ­¥çš„ï¼Œé‚£ä¹ˆæ¯æ¬¡æ‰§è¡ŒsetStateå°†ç«‹å³æ›´æ–°this.stateï¼Œç„¶åè§¦å‘renderæ–¹æ³•ï¼›å› ä¸ºæ˜¯åŒæ­¥æ‰§è¡Œï¼Œå¯ä»¥ç›´æ¥è·å–æ”¹å˜åçš„å€¼ï¼›</p>
<p> å¦‚æœæ˜¯åœ¨è¢«reactå¤„ç†è¿‡çš„ç©ºé—´æ‰§è¡Œï¼Œæ¯”å¦‚è¯´åˆæˆäº‹ä»¶é‡Œï¼Œæ­¤æ—¶setStateæ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œå¹¶ä¸ä¼šç«‹å³æ›´æ–°this.stateçš„å€¼ï¼Œå½“æ‰§è¡ŒsetStateçš„æ—¶å€™ï¼Œä¼šå°†éœ€è¦æ›´æ–°çš„stateæ”¾å…¥çŠ¶æ€é˜Ÿåˆ—ï¼Œåœ¨è¿™ä¸ªç©ºé—´æœ€åå†åˆå¹¶ä¿®æ”¹this.stateï¼Œè§¦å‘renderï¼›setStateæ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œæ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå¯ä»¥åœ¨è¿™é‡Œè·å–æ”¹å˜åçš„stateå€¼ï¼›</p>
<p> è§¦å‘renderæ‰§è¡Œåï¼Œä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„è™šæ‹Ÿdomç»“æ„ï¼Œç„¶åè§¦å‘diffè¿ç®—ï¼Œæ‰¾åˆ°å˜åŒ–çš„åœ°æ–¹ï¼Œé‡æ–°æ¸²æŸ“ï¼› </p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ä»€ä¹ˆæ˜¯-React-Fiber"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ä»€ä¹ˆæ˜¯-React-Fiber" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ä»€ä¹ˆæ˜¯ React Fiber?"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ä»€ä¹ˆæ˜¯ React Fiber?</h3><h4 id="React-Fiber-En"><a href="#React-Fiber-En" class="headerlink" title="React Fiber En"></a>React Fiber En</h4><p>Fiberæ˜¯React16ä¸­æ–°çš„åè°ƒå¼•æ“ï¼Œå®ƒçš„ä¸»è¦ç›®çš„æ˜¯ä½¿Virtual DOMå¯ä»¥è¿›è¡Œå¢é‡å¼æ¸²æŸ“ï¼Œè®©ç•Œé¢æ¸²æŸ“æ›´æµç•…ä¸€ç§æµç¨‹æ§åˆ¶åŸè¯­ï¼Œä¹Ÿç§°ä¸ºåç¨‹ï¼Œå¯ä»¥ç±»æ¯”es6ä¸­çš„generatorå‡½æ•°ï¼›Reactæ¸²æŸ“çš„è¿‡ç¨‹å¯ä»¥è¢«ä¸­æ–­ï¼Œå¯ä»¥å°†æ§åˆ¶æƒäº¤å›æµè§ˆå™¨ï¼Œè®©ä½ç»™é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡ï¼Œæµè§ˆå™¨ç©ºé—²åå†æ¢å¤æ¸²æŸ“ã€‚</p>
<p>ä¸€ä¸ªæ‰§è¡Œå•å…ƒï¼Œæ¯æ¬¡æ‰§è¡Œå®Œä¸€ä¸ªâ€œæ‰§è¡Œå•å…ƒâ€ï¼ŒReactå°±ä¼šæ£€æŸ¥ç°åœ¨è¿˜å‰©å¤šå°‘æ—¶é—´ï¼Œå¦‚æœæ²¡æœ‰æ—¶é—´å°±å°†æ§åˆ¶æƒè®©å‡ºå»ã€‚</p>
<h4 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h4><ul>
<li>æŠŠå¯ä¸­æ–­çš„å·¥ä½œæ‹†åˆ†æˆå°ä»»åŠ¡</li>
<li>å¯¹æ­£åœ¨åšçš„å·¥ä½œè°ƒæ•´ä¼˜å…ˆæ¬¡åºã€é‡åšã€å¤ç”¨ä¸Šæ¬¡ï¼ˆåšäº†ä¸€åŠçš„ï¼‰æˆæœ</li>
<li>åœ¨çˆ¶å­ä»»åŠ¡ä¹‹é—´ä»å®¹åˆ‡æ¢ï¼ˆyield back and forthï¼‰ï¼Œä»¥æ”¯æŒReactæ‰§è¡Œè¿‡ç¨‹ä¸­çš„å¸ƒå±€åˆ·æ–°</li>
<li>æ”¯æŒrender()è¿”å›å¤šä¸ªå…ƒç´ </li>
<li>æ›´å¥½åœ°æ”¯æŒerror boundary</li>
</ul>
<h4 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a>ç‰¹æ€§</h4><ul>
<li>å¢é‡æ¸²æŸ“ï¼ˆæŠŠæ¸²æŸ“ä»»åŠ¡æ‹†åˆ†æˆå—ï¼ŒåŒ€åˆ°å¤šå¸§ï¼‰</li>
<li>æ›´æ–°æ—¶èƒ½å¤Ÿæš‚åœï¼Œç»ˆæ­¢ï¼Œå¤ç”¨æ¸²æŸ“ä»»åŠ¡</li>
<li>ç»™ä¸åŒç±»å‹çš„æ›´æ–°èµ‹äºˆä¼˜å…ˆçº§</li>
<li>å¹¶å‘æ–¹é¢æ–°çš„åŸºç¡€èƒ½åŠ›</li>
</ul>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ç®€è¿°ä¸€ä¸‹-memoization"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ç®€è¿°ä¸€ä¸‹-memoization" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ç®€è¿°ä¸€ä¸‹ memoization"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ç®€è¿°ä¸€ä¸‹ memoization</h3><p>memoizationæœ€åˆæ˜¯ç”¨æ¥ä¼˜åŒ–è®¡ç®—æœºç¨‹åºä½¿ä¹‹è®¡ç®—çš„æ›´å¿«çš„æŠ€æœ¯ï¼Œæ˜¯é€šè¿‡å­˜å‚¨è°ƒç”¨å‡½æ•°çš„ç»“æœå¹¶ä¸”åœ¨åŒæ ·å‚æ•°ä¼ è¿›æ¥çš„æ—¶å€™è¿”å›ç»“æœã€‚å¤§éƒ¨åˆ†åº”è¯¥æ˜¯åœ¨é€’å½’å‡½æ•°ä¸­ä½¿ç”¨ã€‚memoization æ˜¯ä¸€ç§ä¼˜åŒ–æŠ€æœ¯ï¼Œé¿å…ä¸€äº›ä¸å¿…è¦çš„é‡å¤è®¡ç®—ï¼Œå¯ä»¥æé«˜è®¡ç®—é€Ÿåº¦ã€‚</p>
<p>ä»¥é˜¶ä¹˜å‡½æ•°ä¸ºä¾‹ï¼š</p>
<h4 id="1-ä¸ä½¿ç”¨memoization"><a href="#1-ä¸ä½¿ç”¨memoization" class="headerlink" title="1.ä¸ä½¿ç”¨memoization"></a>1.ä¸ä½¿ç”¨memoization</h4><pre><code class="javascript">const factorial = n =&gt; &#123;
  if (n === 1) &#123;
    return 1
  &#125; else &#123;
    return factorial(n - 1) * n
  &#125;
&#125;
</code></pre>
<h4 id="2-ä½¿ç”¨memoization"><a href="#2-ä½¿ç”¨memoization" class="headerlink" title="2.ä½¿ç”¨memoization"></a>2.ä½¿ç”¨memoization</h4><pre><code class="javascript">const cache = [] // å®šä¹‰ä¸€ä¸ªç©ºçš„å­˜æ”¾ç¼“å­˜çš„æ•°ç»„
const factorial = n =&gt; &#123;
  if (n === 1) &#123;
    return 1
  &#125; else if (cache[n - 1]) &#123; // å…ˆä»cacheæ•°ç»„é‡ŒæŸ¥è¯¢ç»“æœï¼Œå¦‚æœæ²¡æ‰¾åˆ°çš„è¯å†è®¡ç®—
    return cache[n - 1]
  &#125; else &#123;
    let result = factorial(n - 1) * n
    cache[n - 1] = result
    return result
  &#125;
&#125;
</code></pre>
<h4 id="3-æ­é…é—­åŒ…ä½¿ç”¨memoization"><a href="#3-æ­é…é—­åŒ…ä½¿ç”¨memoization" class="headerlink" title="3.æ­é…é—­åŒ…ä½¿ç”¨memoization"></a>3.æ­é…é—­åŒ…ä½¿ç”¨memoization</h4><pre><code class="javascript">const factorialMemo = () =&gt; &#123;
  const cache = []
  const factorial = n =&gt; &#123;
    if (n === 1) &#123;
      return 1
    &#125; else if (cache[n - 1]) &#123;
      console.log(`get factorial($&#123;n&#125;) from cache...`)
      return cache[n - 1]
    &#125; else &#123;
      let result = factorial(n - 1) * n
      cache[n - 1] = result
      return result
    &#125;
  &#125;
  return factorial
&#125;
const factorial = factorialMemo()
</code></pre>
<h4 id="4-æ€»ç»“"><a href="#4-æ€»ç»“" class="headerlink" title="4.æ€»ç»“"></a>4.æ€»ç»“</h4><p>memorization å¯ä»¥æŠŠå‡½æ•°æ¯æ¬¡çš„è¿”å›å€¼å­˜åœ¨ä¸€ä¸ªæ•°ç»„æˆ–è€…å¯¹è±¡ä¸­ï¼Œåœ¨æ¥ä¸‹æ¥çš„è®¡ç®—ä¸­å¯ä»¥ç›´æ¥è¯»å–å·²ç»è®¡ç®—è¿‡å¹¶ä¸”è¿”å›çš„æ•°æ®ï¼Œä¸ç”¨é‡å¤å¤šæ¬¡ç›¸åŒçš„è®¡ç®—ã€‚æ˜¯ä¸€ä¸ªç©ºé—´æ¢æ—¶é—´çš„æ–¹å¼ï¼Œè¿™ç§æ–¹æ³•å¯ç”¨äºéƒ¨åˆ†é€’å½’ä¸­ä»¥æé«˜é€’å½’çš„æ•ˆç‡ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-è‡ªå®šä¹‰hooksï¼ˆé‡ç‚¹â—ï¸â—ï¸â—ï¸ï¼‰"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-è‡ªå®šä¹‰hooksï¼ˆé‡ç‚¹â—ï¸â—ï¸â—ï¸ï¼‰" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ è‡ªå®šä¹‰hooksï¼ˆé‡ç‚¹â—ï¸â—ï¸â—ï¸ï¼‰"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ è‡ªå®šä¹‰hooksï¼ˆé‡ç‚¹â—ï¸â—ï¸â—ï¸ï¼‰</h3><p>[å®ç°è‡ªå®šä¹‰hooksæ¡ˆä¾‹]: 	â€œ<a href="https://juejin.cn/post/6844904074433789959">https://juejin.cn/post/6844904074433789959</a> â€œ</p>
]]></content>
      <categories>
        <category>æŠ€æœ¯é¢è¯•</category>
        <category>React</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯é¢è¯•å¤§å…¨javaScript</title>
    <url>/2022/10/27/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E5%A4%A7%E5%85%A8javaScript/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆJavaScriptï¼‰"><a href="#å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆJavaScriptï¼‰" class="headerlink" title="å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆJavaScriptï¼‰"></a>å‰ç«¯é¢è¯•é¢˜å¤§å…¨ï¼ˆJavaScriptï¼‰</h1><p>å‰ç«¯é¢è¯•é¢˜ç±»ç›®åˆ†ç±»</p>
<ul>
<li>HTML5 + CSS3</li>
<li>JavaScript</li>
<li>Vue + Vue3</li>
<li>React</li>
<li>Webpack</li>
<li>æœåŠ¡ç«¯</li>
</ul>
<hr>
<p>è€ƒç‚¹é¢‘ç‡ ï¼šâ™¥ï¸ ã€ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ã€ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸ â™¥ï¸</p>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><h3 id="â™¥ï¸-a-æ ‡ç­¾ä¸­ï¼Œå¦‚ä½•ç¦ç”¨-href-è·³è½¬é¡µé¢æˆ–å®šä½é“¾æ¥"><a href="#â™¥ï¸-a-æ ‡ç­¾ä¸­ï¼Œå¦‚ä½•ç¦ç”¨-href-è·³è½¬é¡µé¢æˆ–å®šä½é“¾æ¥" class="headerlink" title="â™¥ï¸ a æ ‡ç­¾ä¸­ï¼Œå¦‚ä½•ç¦ç”¨ href è·³è½¬é¡µé¢æˆ–å®šä½é“¾æ¥?"></a>â™¥ï¸ a æ ‡ç­¾ä¸­ï¼Œå¦‚ä½•ç¦ç”¨ href è·³è½¬é¡µé¢æˆ–å®šä½é“¾æ¥?</h3><p>åœ¨åšé¡µé¢æ—¶ï¼Œå¦‚æœæƒ³åšä¸€ä¸ªé“¾æ¥ç‚¹å‡»åä¸åšä»»ä½•äº‹æƒ…ï¼Œæˆ–è€…å“åº”ç‚¹å‡»è€Œå®Œæˆå…¶ä»–äº‹æƒ…ï¼Œå¯ä»¥è®¾ç½®å…¶å±æ€§ href &#x3D; â€œ#â€ï¼Œä½†æ˜¯ï¼Œè¿™æ ·ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å½“é¡µé¢æœ‰æ»šåŠ¨æ¡æ—¶ï¼Œç‚¹å‡»åä¼šè¿”å›åˆ°é¡µé¢é¡¶ç«¯ï¼Œç”¨æˆ·ä½“éªŒä¸å¥½ã€‚</p>
<h4 id="ä¸€ã€é˜»æ­¢é»˜è®¤äº‹ä»¶"><a href="#ä¸€ã€é˜»æ­¢é»˜è®¤äº‹ä»¶" class="headerlink" title="ä¸€ã€é˜»æ­¢é»˜è®¤äº‹ä»¶"></a>ä¸€ã€é˜»æ­¢é»˜è®¤äº‹ä»¶</h4><p>é˜»æ­¢é»˜è®¤äº‹ä»¶çš„å‘ç”Ÿæœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š</p>
<pre><code class="javascript">return false
e.preventDefault()
</code></pre>
<p>é€šè¿‡é˜»æ­¢aæ ‡ç­¾é»˜è®¤äº‹ä»¶å°±å¯ä»¥ç¦æ­¢aæ ‡ç­¾è·³è½¬ï¼</p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;a href=&quot;http://www.baidu.com/&quot;&gt;å»ç™¾åº¦&lt;/a&gt;
    &lt;!-- é˜»æ­¢é»˜è®¤äº‹ä»¶ä¸¤ç§æ–¹æ³• --&gt;
    &lt;a href=&quot;http://www.baidu.com/&quot; onclick=&quot;return false&quot;&gt;ç™¾åº¦1&lt;/a&gt;
    &lt;a href=&quot;http://www.baidu.com/&quot; id=&quot;go&quot;&gt;ç™¾åº¦1&lt;/a&gt;
    &lt;script&gt;
        //è·å–å…ƒç´ èŠ‚ç‚¹
        let go = document.querySelector(&quot;#go&quot;)
        //ç‚¹å‡»äº‹ä»¶
        go.onclick = function(e)&#123;
            //é˜»æ­¢é»˜è®¤äº‹ä»¶
            e.preventDefault();
        &#125;
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h4 id="äºŒã€javascriptï¼švoidï¼ˆ0ï¼‰å°‘ç”¨"><a href="#äºŒã€javascriptï¼švoidï¼ˆ0ï¼‰å°‘ç”¨" class="headerlink" title="äºŒã€javascriptï¼švoidï¼ˆ0ï¼‰å°‘ç”¨"></a>äºŒã€javascriptï¼švoidï¼ˆ0ï¼‰å°‘ç”¨</h4><p>javascript:void(0)è¿™æ˜¯ä¸€ç§ä¼ªåè®®ï¼Œvoid(0)åœ¨IEä¸­å¯èƒ½ä¼šå¼•èµ·ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚ï¼šé€ æˆgifåŠ¨ç”»åœæ­¢æ’­æ”¾ç­‰ã€‚</p>
<p>voidæ˜¯javasciptè‡ªèº«çš„æ“ä½œç¬¦ï¼Œå®ƒè¡¨ç¤ºçš„æ˜¯åªæ‰§è¡Œè¡¨è¾¾å¼ï¼Œä½†æ²¡æœ‰è¿”å›å€¼ã€‚</p>
<pre><code class="html">//è¿™ä¸¤ç§å†™æ³•éƒ½å¯ä»¥ï¼Œéƒ½è¡¨ç¤ºä¸€ä¸ªæ­»é“¾æ¥ï¼Œç‚¹å‡»æ— æ•ˆæœ
&lt;a href=&quot;javascript:void(0)&quot;&gt;ç‚¹å‡»æ— æ³•è·³è½¬(javascript:void(0))&lt;/a&gt;
&lt;a href=&quot;javascript:void(null)&quot;&gt;ç‚¹å‡»æ— æ³•è·³è½¬(javascript:void(null))&lt;/a&gt;
</code></pre>
<h4 id="ä¸‰ã€javascriptï¼šï¼›"><a href="#ä¸‰ã€javascriptï¼šï¼›" class="headerlink" title="ä¸‰ã€javascriptï¼šï¼›"></a>ä¸‰ã€javascriptï¼šï¼›</h4><p>javascript:; æ‰§è¡Œä¸€æ®µç©ºç™½çš„javascriptè¯­å¥ï¼Œè¿”å›ç©ºæˆ–è€…falseå€¼ï¼Œä»è€Œé˜²æ­¢é“¾æ¥è·³è½¬</p>
<p>javascript:; å†™æ³•æ¯” javascript:void(0) å¥½ï¼Œåè€…å­˜åœ¨æµè§ˆå™¨å…¼å®¹bug</p>
<pre><code class="html">&lt;a href=&quot;javascript:;&quot;&gt;ç‚¹å‡»æ— æ³•è·³è½¬ï¼ˆjavascript:;ï¼‰&lt;/a&gt;
</code></pre>
<h3 id="å››ã€href"><a href="#å››ã€href" class="headerlink" title="å››ã€href(####)"></a>å››ã€href(####)</h3><blockquote>
<p>ä½¿ç”¨2ä¸ªåˆ°4ä¸ª#ï¼Œè§çš„å¤§å¤šæ˜¯â€####â€ï¼Œä¹Ÿæœ‰ä½¿ç”¨â€#allâ€ç­‰å…¶ä»–çš„ã€‚ä¸€ä¸ªæ— æ„ä¹‰çš„æ ‡ç­¾æŒ‡å®šï¼Œä¸åšä»»ä½•å¤„ç†ã€‚ï¼ˆè¿™ç§æ–¹æ³•ä¼šåœ¨æµè§ˆå™¨åœ°å€æ ä¸Šå‡ºç°â€œ####â€ï¼‰</p>
</blockquote>
<pre><code class="html">&lt;a href=&quot;####&quot;&gt;ç‚¹å‡»æ— æ³•è·³è½¬&lt;/a&gt;
</code></pre>
<p>â€¼ï¸æ³¨ï¼šåˆ¶æ˜¯ç”¨ä¸€ä¸ªâ€œ#â€æ˜¯ä¸è¡Œçš„ï¼Œä¼šé»˜è®¤åˆ·æ–°é¡µé¢å›åˆ°é¡µé¢é¡¶éƒ¨</p>
<h4 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h4><pre><code class="html">&lt;a href=&quot;javascript:void(0)&quot;&gt;ç‚¹å‡»æ— æ³•è·³è½¬(javascript:void(0))&lt;/a&gt;
&lt;a href=&quot;javascript:void(null)&quot;&gt;ç‚¹å‡»æ— æ³•è·³è½¬(javascript:void(null))&lt;/a&gt;
&lt;a href=&quot;javascript:;&quot;&gt;ç‚¹å‡»æ— æ³•è·³è½¬ï¼ˆjavascript:;ï¼‰&lt;/a&gt;
&lt;a href=&quot;####&quot;&gt;ç‚¹å‡»æ— æ³•è·³è½¬&lt;/a&gt;
&lt;a href=&quot;http://www.baidu.com/&quot; onclick=&quot;return false&quot;&gt;ç™¾åº¦1&lt;/a&gt;
&lt;a href=&quot;http://www.baidu.com/&quot; id=&quot;go&quot;&gt;ç™¾åº¦1&lt;/a&gt;
</code></pre>
<pre><code class="javascript">&lt;script&gt;
        //è·å–å…ƒç´ èŠ‚ç‚¹
        let go = document.querySelector(&quot;#go&quot;)
        //ç‚¹å‡»äº‹ä»¶
        go.onclick = function(e)&#123;
            //é˜»æ­¢é»˜è®¤äº‹ä»¶
            e.preventDefault();
        &#125;
&lt;/script&gt;
</code></pre>
<hr>
<h3 id="â™¥ï¸â™¥ï¸-ä»‹ç»ä¸€ä¸‹JSçš„å†…ç½®ç±»å‹æœ‰å“ªäº›ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸-ä»‹ç»ä¸€ä¸‹JSçš„å†…ç½®ç±»å‹æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸ ä»‹ç»ä¸€ä¸‹JSçš„å†…ç½®ç±»å‹æœ‰å“ªäº›ï¼Ÿ"></a>â™¥ï¸â™¥ï¸ ä»‹ç»ä¸€ä¸‹JSçš„å†…ç½®ç±»å‹æœ‰å“ªäº›ï¼Ÿ</h3><p>JSä¸­å…±æœ‰ä¸ƒç§å†…ç½®æ•°æ®ç±»å‹</p>
<pre><code class="css">åŸºæœ¬æ•°æ®ç±»å‹ï¼šnullã€undefinedã€booleanã€stringã€numberã€symbol
å¼•ç”¨æ•°æ®ç±»å‹ï¼šobject(functionã€regexpã€arrayã€date)
</code></pre>
<p>â€¼ï¸æ³¨ï¼š<br>1.Jsä¸­çš„æ•°å­—ç±»å‹æ˜¯æµ®ç‚¹å‹ï¼Œä¸æ˜¯æ•´å‹<br>2.NaNå±äºæ•°å­—ç±»å‹</p>
<p>ä¸»è¦åŒºåˆ«ï¼šå­˜å‚¨ä½ç½®ä¸åŒã€‚<br>1.åŸºæœ¬æ•°æ®ç±»å‹å­˜å‚¨åœ¨æ ˆä¸­ï¼Œå æ®ç©ºé—´å°ï¼Œå¤§å°å›ºå®šï¼Œå¯ä»¥è¢«é¢‘ç¹ä½¿ç”¨ï¼›<br>2.å¼•ç”¨æ•°æ®ç±»å‹å­˜å‚¨åœ¨å †ä¸­ï¼Œæ ˆä¸­å­˜æ”¾æŒ‡é’ˆï¼ŒæŒ‡é’ˆæŒ‡å‘å †ä¸­è¯¥å®ä½“çš„èµ·å§‹åœ°å€ï¼Œå æ®ç©ºé—´å¤§ï¼Œå¤§å°ä¸å›ºå®šï¼Œä¸é€‚åˆè¢«é¢‘ç¹ä½¿ç”¨ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸-è§£é‡Šä¸‹-let-å’Œ-const-çš„å—çº§ä½œç”¨åŸŸ"><a href="#â™¥ï¸â™¥ï¸-è§£é‡Šä¸‹-let-å’Œ-const-çš„å—çº§ä½œç”¨åŸŸ" class="headerlink" title="â™¥ï¸â™¥ï¸ è§£é‡Šä¸‹ let å’Œ const çš„å—çº§ä½œç”¨åŸŸ?"></a>â™¥ï¸â™¥ï¸ è§£é‡Šä¸‹ let å’Œ const çš„å—çº§ä½œç”¨åŸŸ?</h3><h4 id="let"><a href="#let" class="headerlink" title="let"></a>let</h4><p>ES6ä¸­æ–°å¢letå…³é”®å­—ï¼Œç”¨äºå£°æ˜å˜é‡ã€‚å…¶ç”¨æ³•ç±»ä¼¼varï¼Œä½†æ˜¯æ‰€å£°æ˜çš„å˜é‡åªåœ¨letå‘½ä»¤æ‰€åœ¨çš„å—å†…æœ‰æ•ˆã€‚ï¼ˆå—çº§ä½œç”¨åŸŸæ–‡ç« åé¢ä¼šè¿›è¡Œè®²è§£ï¼‰</p>
<pre><code class="css">//letçš„ç‰¹ç‚¹
1.åªä½œç”¨äºå—çº§ä½œç”¨åŸŸã€‚
2.ä¸å­˜åœ¨å˜é‡æå‡ã€‚
3.ä¸å…è®¸é‡å¤å£°æ˜ã€‚
4.æš‚æ—¶æ€§æ­»åŒºï¼ˆTDZï¼‰ã€‚
</code></pre>
<h4 id="1-åªä½œç”¨äºå—çº§ä½œç”¨åŸŸã€‚"><a href="#1-åªä½œç”¨äºå—çº§ä½œç”¨åŸŸã€‚" class="headerlink" title="1.åªä½œç”¨äºå—çº§ä½œç”¨åŸŸã€‚"></a>1.åªä½œç”¨äºå—çº§ä½œç”¨åŸŸã€‚</h4><pre><code class="javascript">&#123;
    let a=10;
    var b=5;
    console.log(a,b) //è¾“å‡ºa=10 b=5;
&#125;
console.log(b); //è¾“å‡º b=5;
console.log(a); //æŠ¥é”™ a is not defined
</code></pre>
<p>ä¸Šè¿°ä»£ç letå£°æ˜çš„å˜é‡åœ¨å—çº§ä½œç”¨åŸŸ{ }ä¸­æ˜¯æœ‰æ•ˆçš„ï¼Œä½†æ˜¯åœ¨æœ€åä¸€è¡Œçš„è¾“å‡ºå°±ä¼šç›´æ¥æŠ¥é”™ï¼Œå› ä¸ºæ²¡æœ‰åœ¨å—ä½œç”¨åŸŸ{}ä¸­ï¼Œaå°±æ²¡æœ‰è¢«å®šä¹‰ã€‚</p>
<p>letå‘½ä»¤æ›´é€‚åˆforå¾ªç¯</p>
<pre><code class="javascript">&#123;
    for(let i=0;i&lt;5;i++)&#123;
        console.log(i); //è¾“å‡º  0ï¼Œ1ï¼Œ2ï¼Œ3ï¼Œ4
    &#125;
    console.log(i);//æŠ¥é”™ i is not defined
&#125;
&#123;
    for(var i=0;i&lt;5;i++)&#123;
        console.log(i);  //è¾“å‡º  0ï¼Œ1ï¼Œ2ï¼Œ3ï¼Œ4
    &#125;
    console.log(i);  //è¾“å‡º 5
&#125;
</code></pre>
<p>å˜é‡iæ˜¯letå£°æ˜çš„ å½“å‰iåªåœ¨æœ¬è½®å¾ªç¯æœ‰æ•ˆï¼Œä¸”åªåœ¨æœ¬å—çº§ä½œç”¨åŸŸæœ‰æ•ˆï¼Œæ‰€ä»¥æ¯ä¸€æ¬¡å¾ªç¯çš„iå…¶å®éƒ½æ˜¯ä¸€ä¸ªæ–°çš„å˜é‡ã€‚</p>
<p>ä½ å¯èƒ½ä¼šé—®ï¼šå¦‚æœæ¯ä¸€è½®å¾ªç¯çš„å˜é‡éƒ½æ˜¯é‡æ–°å£°æ˜çš„ é‚£å®ƒæ€ä¹ˆçŸ¥é“ä¸Šä¸€è½®å¾ªç¯çš„å€¼ï¼Œä»è€Œè®¡ç®—å‡ºæœ¬è½®çš„å€¼å‘¢ï¼Ÿ</p>
<p>è¿™æ˜¯å› ä¸ºjavascript å¼•æ“å†…éƒ¨ä¼šè®°ä½ä¸Šä¸€è½®å¾ªç¯çš„å€¼ï¼Œåˆå§‹åŒ–æœ¬è½®çš„å˜é‡iæ—¶ï¼Œå°±åœ¨ä¸Šä¸€è½®å¾ªç¯çš„åŸºç¡€ä¸Šè¿›è¡Œè®¡ç®—</p>
<p>å¦å¤–ï¼Œforå¾ªç¯è¿˜æœ‰ä¸€ä¸ªç‰¹åˆ«ä¹‹å¤„ï¼Œforä¸€ä¸ªæ•´ä½“ç®—ä¸€ä¸ªå—çº§ä½œç”¨åŸŸï¼Œé‚£ä¹ˆè®¾ç½®å¾ªç¯å˜é‡é‚£éƒ¨åˆ†æ˜¯ä¸€ä¸ªçˆ¶çº§ä½œç”¨åŸŸï¼Œè€Œå¾ªç¯ä½“å†…éƒ¨æ˜¯ä¸€ä¸ªå•ç‹¬çš„å­ä½œç”¨åŸŸ</p>
<h4 id="2-ä¸å­˜åœ¨å˜é‡æå‡"><a href="#2-ä¸å­˜åœ¨å˜é‡æå‡" class="headerlink" title="2.ä¸å­˜åœ¨å˜é‡æå‡"></a>2.ä¸å­˜åœ¨å˜é‡æå‡</h4><p>letä¸varçš„åŒºåˆ«ï¼Œvarå­˜åœ¨å˜é‡æå‡ï¼Œä½†æ˜¯letä¸å­˜åœ¨å˜é‡æå‡ã€‚<br>é‚£ä¹ˆä»€ä¹ˆæ˜¯å˜é‡æå‡å‘¢ï¼Ÿ<br>å˜é‡æå‡ï¼šå°±æ˜¯å˜é‡åœ¨å£°æ˜å‰å¯ä»¥ä½¿ç”¨ï¼Œè€Œä¸”ä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å€¼ä¸ºundefinedã€‚<br>æ„æ€æ˜¯varå£°æ˜çš„å˜é‡åœ¨å…¶å£°æ˜å‰ä½¿ç”¨æ˜¯å¯ä»¥çš„ä¸ä¼šæŠ¥é”™ï¼Œ<br>ä½†æ˜¯letå£°æ˜çš„å˜é‡ä¸€å®šè¦åœ¨å…¶å£°æ˜ä¹‹åä½¿ç”¨ï¼Œå¦åˆ™å°±ä¼šæŠ¥é”™ã€‚</p>
<pre><code class="javascript">&#123;
    console.log(a);//è¾“å‡º undefined
    var a=2;
&#125;
&#123;
    console.log(b) //æŠ¥é”™ Cannot access &#39;b&#39; before initialization
    let b=5;
&#125;
</code></pre>
<p>ä¸Šè¯‰ä»£ç ç”¨varå£°æ˜çš„aä¼šå‘ç”Ÿå˜é‡æå‡ï¼Œé‚£ä¹ˆå€¼ä¸ºundefinedã€‚<br>è€Œæœ‰letå£°æ˜çš„bå°±ä¸å‘ç”Ÿå˜é‡æå‡ï¼Œåœ¨å£°æ˜å‰ä½¿ç”¨ï¼Œbå°±æ˜¯ä¸€ä¸ªä¸å­˜åœ¨çš„ï¼Œé‚£ä¹ˆå°±ç›´æ¥æŠ¥é”™ã€‚</p>
<h4 id="3-ä¸å…è®¸é‡å¤å£°æ˜"><a href="#3-ä¸å…è®¸é‡å¤å£°æ˜" class="headerlink" title="3.ä¸å…è®¸é‡å¤å£°æ˜"></a>3.ä¸å…è®¸é‡å¤å£°æ˜</h4><p>letä¸å…è®¸åœ¨ç›¸åŒçš„ä½œç”¨åŸŸå†…é‡å¤å£°æ˜åŒä¸€ä¸ªå˜é‡</p>
<pre><code class="javascript">&#123;
    var a=10;
    let a=5;//ç›´æ¥æŠ¥é”™ Identifier &#39;a&#39; has already been declared
&#125;
&#123;
    let b=10;
    let b=5; //ç›´æ¥æŠ¥é”™ Identifier &#39;b&#39; has already been declared
&#125;
&#123;
    const c=10;
    let c=5; //ç›´æ¥æŠ¥é”™ Identifier &#39;c&#39; has already been declared
&#125;
&#123;
    function f1(foo)&#123;
    let foo; //æŠ¥é”™  åŒæ—¶ä¹Ÿä¸èƒ½åœ¨å‡½æ•°å†…éƒ¨é‡æ–°å£°æ˜å‚æ•°
    &#125;
&#125;
</code></pre>
<h4 id="4-æš‚æ—¶æ€§æ­»åŒº"><a href="#4-æš‚æ—¶æ€§æ­»åŒº" class="headerlink" title="4.æš‚æ—¶æ€§æ­»åŒº"></a>4.æš‚æ—¶æ€§æ­»åŒº</h4><p>åªè¦ç”¨letå£°æ˜çš„å˜é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡å°±ç»‘å®šè¿™ä¸ªå—çº§ä½œç”¨åŸŸï¼Œä¸å†å—å¤–éƒ¨çš„å½±å“;</p>
<pre><code class="javascript">&#123;
    var tmp=123;
    if(true)&#123;
        tmp=&quot;abc&quot;;//è¿™é‡Œå°†ä¼šæŠ¥é”™
        let tmp;
    &#125;
&#125;
</code></pre>
<p>å› ä¸ºletå­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œåªè¦åŒºå—ä¸­å­˜åœ¨letä¸constå‘½ä»¤ï¼Œå°±ç®—åœ¨æœ€å¼€å§‹ç”¨varå®šä¹‰äº†tmpï¼Œä½†æ˜¯åœ¨ifé‡Œåˆæ˜¯ä¸€ä¸ªå—çº§ä½œç”¨åŸŸï¼Œåœ¨ifè¿™ä¸ªåŒºåŸŸå°±å½¢æˆä¸€ä¸ªå°é—­ä½œç”¨åŸŸï¼Œç„¶ååœ¨letå£°æ˜å‰å¯¹tmpçš„ä½¿ç”¨å°±ä¼šæŠ¥é”™ã€‚</p>
<h4 id="const"><a href="#const" class="headerlink" title="const"></a>const</h4><p>constå£°æ˜ä¸€ä¸ªåªè¯»å¸¸é‡ï¼Œä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½è¢«æ”¹å˜ã€‚<br>constçš„ä¸letçš„ç‰¹ç‚¹åŸºæœ¬ç›¸åŒï¼ŒåŒæ ·ä¸å­˜åœ¨å˜é‡æå‡ï¼Œå­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œåªèƒ½åœ¨å£°æ˜åä½¿ç”¨.</p>
<pre><code class="javascript">&#123;
    const p=8.12;
    p=10;//æŠ¥é”™ Assignment to constant variable.
&#125;
</code></pre>
<p>constå®é™…å¹¶ä¸æ˜¯å˜é‡çš„å€¼ä¸èƒ½æ”¹åŠ¨ï¼Œè€Œæ˜¯æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€æ‰€ä¿å­˜çš„æ•°æ®ä¸å¾—æ”¹åŠ¨ï¼›æ•°æ®ä¸€åŠå­˜å‚¨åœ¨å †ä¸­ï¼Œ<br>å¯¹äºç®€å•çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆstring number boolean null undefinedï¼‰å€¼ä¿å­˜åœ¨æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ï¼Œå› æ­¤ç­‰åŒäºå¸¸é‡ã€‚<br>ä½†å¯¹äºå¼•ç”¨æ•°æ®ç±»å‹(object array ),å˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œä¿å­˜çš„åªæ˜¯ä¸€ä¸ªæŒ‡å‘å®é™…æ•°æ®çš„æŒ‡é’ˆï¼Œconståªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯å›ºå®šçš„(å³æŒ‡å‘å¦ä¸€ä¸ªå›ºå®šçš„åœ°å€)ï¼Œè‡³äºå®ƒæŒ‡å‘çš„æ•°æ®ç»“æ„æ˜¯ä¸æ˜¯å¯å˜çš„ï¼Œå°±å®Œå…¨ä¸èƒ½å¤Ÿæ§åˆ¶äº†ã€‚</p>
<pre><code class="javascript">&#123;
    const foo=&#123;&#125;;
    foo.num=123;//è¿™é‡Œå°±ä¼šæˆåŠŸä¸ä¼šæŠ¥é”™ï¼Œå¯ä»¥æ·»åŠ æ–°çš„å±æ€§ã€‚
&#125;
</code></pre>
<h4 id="å—çº§ä½œç”¨åŸŸ"><a href="#å—çº§ä½œç”¨åŸŸ" class="headerlink" title="å—çº§ä½œç”¨åŸŸ"></a>å—çº§ä½œç”¨åŸŸ</h4><p>ES5ä¸­åªæœ‰å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸï¼Œæ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼ŒES6æ–°å¢äº†å—çº§ä½œç”¨åŸŸã€‚</p>
<pre><code class="javascript">&#123;
    function f1()&#123;
    let a=5;
    if(true)&#123;
        let a=10;
        &#125;
    console.log(a);//è¾“å‡º a=5ã€‚
&#125;
</code></pre>
<p>ä¸Šè¿°ä»£ç æœ‰2ä¸ªä»£ç å—ï¼Œf1æ˜¯ä»¥ä¸ªå¤§çš„å—ä½œç”¨åŸŸï¼Œé‡Œé¢åµŒå¥—äº†ä¸€ä¸ªifå°çš„å—ä½œç”¨åŸŸï¼Œåœ¨ifä¹‹å¤–è¾“å‡ºaæ˜¯ä¸ä¼šè¢«å½±å“çš„ï¼Œä»è€Œè¾“å‡ºa&#x3D;5ã€‚</p>
<p>å—çº§ä½œç”¨åŸŸæ˜¯å¯ä»¥åµŒå¥—çš„ã€‚</p>
<p>åµŒå¥—çš„ä½œç”¨åŸŸä¸­å¤–å±‚çš„ä½œç”¨åŸŸä¸èƒ½è®¿é—®å†…å±‚ä½œç”¨åŸŸçš„å˜é‡ï¼Œä½†æ˜¯å†…å±‚å¯ä»¥è®¿é—®å¤–å±‚çš„.</p>
<pre><code class="javascript">//ä¾‹å­1
&#123;
    function f1()&#123;
        let a=10;
        if(true)&#123;
            console.log(a);
        &#125;
    &#125;
    f1();//è¾“å‡ºa=10;
&#125;
//ä¾‹å­2
&#123;
    function f1()&#123;
        let b=0;
        console.log(b);//è¾“å‡ºb=0;
        function f2()&#123;
            let c=10;
        &#125;
        console.log(c);
    &#125;
    f1();//æŠ¥é”™  cæ²¡æœ‰å®šä¹‰
&#125;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸-å°†-1-2-ä¸-3-4-åˆå¹¶ä¸º-1-2-3-4"><a href="#â™¥ï¸â™¥ï¸-å°†-1-2-ä¸-3-4-åˆå¹¶ä¸º-1-2-3-4" class="headerlink" title="â™¥ï¸â™¥ï¸  å°† [1,2] ä¸ [3,[4]] åˆå¹¶ä¸º [1,2,3,[4]]"></a>â™¥ï¸â™¥ï¸  å°† [1,2] ä¸ [3,[4]] åˆå¹¶ä¸º [1,2,3,[4]]</h3><p>JSæ•°ç»„åˆå¹¶æ–¹æ³•:</p>
<pre><code class="javascript">let arr3 = [1,2].concat([3,[4]]); //[1,2,3,[4]]
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸-Array-forEach-ä¸-Array-map-çš„åŒºåˆ«ï¼ŒArray-slice-ä¸-Array-splice-çš„åŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸-Array-forEach-ä¸-Array-map-çš„åŒºåˆ«ï¼ŒArray-slice-ä¸-Array-splice-çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸ Array.forEach() ä¸ Array.map() çš„åŒºåˆ«ï¼ŒArray.slice() ä¸ Array.splice() çš„åŒºåˆ«ï¼Ÿ"></a>â™¥ï¸â™¥ï¸ Array.forEach() ä¸ Array.map() çš„åŒºåˆ«ï¼ŒArray.slice() ä¸ Array.splice() çš„åŒºåˆ«ï¼Ÿ</h3><h4 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h4><p>forEachä¸æ”¯æŒreturn (æ²¡æœ‰è¿”å›å€¼),å¯¹åŸæ¥çš„æ•°ç»„ä¹Ÿæ²¡æœ‰å½±å“ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥è‡ªå·±é€šè¿‡æ•°ç»„çš„ç´¢å¼•æ¥ä¿®æ”¹åŸæ¥çš„æ•°ç»„</p>
<pre><code class="javascript">var ary = [12,23,24,42,1];
var res = ary.forEach(function (item,index,input) &#123;
 input[index] = item10;
&#125;)
console.log(res); //--&gt;undefined;
console.log(ary); //--&gt;ä¼šå¯¹åŸæ¥çš„æ•°ç»„äº§ç”Ÿæ”¹å˜ï¼›
</code></pre>
<h4 id="map"><a href="#map" class="headerlink" title="map"></a>map</h4><p>mapæ”¯æŒreturnè¿”å›å€¼ï¼Œä¹Ÿä¸å½±å“åŸæ•°ç»„ï¼Œä½†æ˜¯ä¼šè¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„</p>
<pre><code class="javascript">var ary = [12,23,24,42,1];
var res = ary.map(function (item,index,input) &#123;
 return item*10;
&#125;)
console.log(res);//--&gt;[120,230,240,420,10];
console.log(ary);//--&gt;[12,23,24,42,1]ï¼›
</code></pre>
<h4 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h4><pre><code class="css">array.slice(start,end)å‡½æ•°æ˜¯å–arrayæ•°ç»„ä¸­æŒ‡å®šçš„ä¸€äº›å…ƒç´ ï¼š
æ ¹æ®æ•°ç»„ä¸‹æ ‡startå’Œendï¼Œä¸¤ä¸ªå‚æ•°ä¸ºå–å€¼çš„å¼€å§‹å’Œç»“æŸä¸‹æ ‡ï¼Œå–å‡ºçš„å€¼ä¸åŒ…æ‹¬endä½ç½®çš„å€¼ï¼Œç”Ÿæˆä¸€ä¸ªæ–°æ•°ç»„ä½œä¸ºè¿”å›å€¼ï¼›
è¿™é‡Œendå¯ä»¥ä¸ºç©ºï¼Œä¸ºç©ºåˆ™å–ä»startä½ç½®åˆ°æ•°ç»„ç»“å°¾çš„å…ƒç´ ï¼Œç”Ÿæˆæ–°æ•°ç»„ã€‚
</code></pre>
<h4 id="splice"><a href="#splice" class="headerlink" title="splice"></a>splice</h4><pre><code class="css">array.splice(start,length,insert_one......)å‡½æ•°åˆ™æ˜¯ç›´æ¥åœ¨åŸæ•°ç»„è¿›è¡Œåˆ é™¤ã€æ·»åŠ ã€æ›¿æ¢å…ƒç´ çš„æ“ä½œï¼š
startä¸ºæ•°ç»„åˆ é™¤å…ƒç´ çš„å¼€å§‹ä¸‹æ ‡ï¼Œ
lengthä¸ºä»startä½ç½®å¼€å§‹arrayåˆ é™¤å…ƒç´ çš„ä¸ªæ•°ï¼Œ
åé¢å‚æ•°ä¸ºåˆ é™¤ä¹‹åarrayé‡æ–°æ’å…¥çš„æ•°æ®å†…å®¹ï¼Œæ’å…¥ä½ç½®ä¸ºåˆ é™¤ä½ç½®ï¼Œè€Œéæ•°ç»„å¼€å¤´æˆ–æœ«å°¾ï¼Œ
è¿”å›å€¼ä¸ºarrayåˆ é™¤çš„å…ƒç´ ç»„æˆçš„æ•°ç»„ã€‚
æ˜¾è€Œæ˜“è§ï¼Œspliceå‡½æ•°å¯ä»¥ç”¨æ¥å¯¹æ•°ç»„å…ƒç´ è¿›è¡Œæ›¿æ¢ã€‚ç”±spliceæ“ä½œåçš„æ•°ç»„arrayï¼Œæ•°ç»„ä¸­å†…å®¹å¦‚æœå·²
ç»æ”¹å˜ï¼Œå°±å†ä¹Ÿæ‰¾ä¸å›arrayåœ¨spliceä¹‹å‰çš„æ¨¡æ ·ã€‚
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸-å°†-1234567-è½¬æ¢ä¸º-1-234-567"><a href="#â™¥ï¸â™¥ï¸-å°†-1234567-è½¬æ¢ä¸º-1-234-567" class="headerlink" title="â™¥ï¸â™¥ï¸  å°† 1234567 è½¬æ¢ä¸º 1,234,567"></a>â™¥ï¸â™¥ï¸  å°† 1234567 è½¬æ¢ä¸º 1,234,567</h3><p>åƒä½åˆ†å‰²ç¬¦æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ç§</p>
<p>åªé€‚ç”¨æ•´æ•°</p>
<pre><code class="javascript">function format (num) &#123;
    var reg=/\d&#123;1,3&#125;(?=(\d&#123;3&#125;)+$)/g; 
    return (num + &#39;&#39;).replace(reg, &#39;$&amp;,&#39;);
&#125;
console.log(format(1233453464)) //1,233,453,464
</code></pre>
<pre><code class="javascript">function format (num) &#123;
    num=num+&#39;&#39;;//æ•°å­—è½¬å­—ç¬¦ä¸²
     var str=&quot;&quot;;//å­—ç¬¦ä¸²ç´¯åŠ 
     for(var i=num.length- 1,j=1;i&gt;=0;i--,j++)&#123;
         if(j%3==0 &amp;&amp; i!=0)&#123;//æ¯éš”ä¸‰ä½åŠ é€—å·ï¼Œè¿‡æ»¤æ­£å¥½åœ¨ç¬¬ä¸€ä¸ªæ•°å­—çš„æƒ…å†µ
             str+=num[i]+&quot;,&quot;;//åŠ åƒåˆ†ä½é€—å·
             continue;
         &#125;
         str+=num[i];//å€’ç€ç´¯åŠ æ•°å­—
     &#125;
     return str.split(&#39;&#39;).reverse().join(&quot;&quot;);//å­—ç¬¦ä¸²=&gt;æ•°ç»„=&gt;åè½¬=&gt;å­—ç¬¦ä¸²
   &#125;
console.log(format(12312432343543)) //12,312,432,343,543
</code></pre>
<p>æ•´æ•°éƒ¨åˆ†åŠ å°æ•°éƒ¨åˆ†ä¸åŠ¨</p>
<pre><code class="javascript">var format = (str) =&gt; str.replace(/\B(?=(\d&#123;3&#125;)+(?!\d))/g, &#39;,&#39;)
console.log(format(&#39;12313453.63&#39;)) //12,313,453.63
</code></pre>
<p>ä¸€æ•´å¥—åƒåˆ†ä½è½¬æ¢</p>
<pre><code class="javascript">    // å°†é‡‘é¢ç±»å‹è½¬ä¸ºæ•°å­—ç±»å‹
    function toNum(str) &#123;
        return str.replace(/\,|\ï¿¥/g, &quot;&quot;);
    &#125;

    // ä¿ç•™ä¸¤ä½å°æ•°ï¼ˆå››èˆäº”å…¥ï¼‰
    function toPrice(num) &#123;
        num = parseFloat(toNum(num)).toFixed(2).toString().split(&quot;.&quot;);
        num[0] = num[0].replace(new RegExp(&#39;(\\d)(?=(\\d&#123;3&#125;)+$)&#39;,&#39;ig&#39;),&quot;$1,&quot;);
        return &quot;ï¿¥&quot; + num.join(&quot;.&quot;);
    &#125;
    
    // ä¿ç•™ä¸¤ä½å°æ•°ï¼ˆä¸å››èˆäº”å…¥ï¼‰
    function toPrice1(num) &#123;
        num = parseFloat(toNum(num).replace(/(\.\d&#123;2&#125;)\d+$/,&quot;$1&quot;)).toFixed(2).toString().split(&quot;.&quot;);
        num[0] = num[0].replace(new RegExp(&#39;(\\d)(?=(\\d&#123;3&#125;)+$)&#39;,&#39;ig&#39;),&quot;$1,&quot;);
        return &quot;ï¿¥&quot; + num.join(&quot;.&quot;);;
    &#125;
    
    // ä¸å¤„ç†å°æ•°éƒ¨åˆ†
    function toPrice2(num) &#123;
        var source = toNum(num).split(&quot;.&quot;);
        source[0] = source[0].replace(new RegExp(&#39;(\\d)(?=(\\d&#123;3&#125;)+$)&#39;,&#39;ig&#39;),&quot;$1,&quot;);
        return &quot;ï¿¥&quot; + source.join(&quot;.&quot;);
    &#125;
    console.log(toNum(&#39;1,234,345.4&#39;)) //1234345.4
    console.log(toPrice(&#39;12123213.43545&#39;)) //ï¿¥12,123,213.44
    console.log(toPrice1(&#39;12312312.43645&#39;)) //ï¿¥12,312,312.43
    console.log(toPrice2(&#39;12312345.324&#39;)) //ï¿¥12,312,345.324
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸-Promise-resolve-Promise-resolve-1-then-console-log-è¾“å‡ºï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸-Promise-resolve-Promise-resolve-1-then-console-log-è¾“å‡ºï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸ Promise.resolve(Promise.resolve(1)).then(console.log) è¾“å‡ºï¼Ÿ"></a>â™¥ï¸â™¥ï¸ Promise.resolve(Promise.resolve(1)).then(console.log) è¾“å‡ºï¼Ÿ</h3><pre><code class="javascript">Promise.resolve(Promise.resolve(1)).then(console.log) //1
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸-ä½¿ç”¨-setTimeout-æ¨¡æ‹Ÿ-setInterval-çš„åŠŸèƒ½åšä¸€ä¸ª60ç§’çš„å€’æ•°è®¡æ—¶"><a href="#â™¥ï¸â™¥ï¸-ä½¿ç”¨-setTimeout-æ¨¡æ‹Ÿ-setInterval-çš„åŠŸèƒ½åšä¸€ä¸ª60ç§’çš„å€’æ•°è®¡æ—¶" class="headerlink" title="â™¥ï¸â™¥ï¸ ä½¿ç”¨ setTimeout æ¨¡æ‹Ÿ setInterval çš„åŠŸèƒ½åšä¸€ä¸ª60ç§’çš„å€’æ•°è®¡æ—¶"></a>â™¥ï¸â™¥ï¸ ä½¿ç”¨ setTimeout æ¨¡æ‹Ÿ setInterval çš„åŠŸèƒ½åšä¸€ä¸ª60ç§’çš„å€’æ•°è®¡æ—¶</h3><pre><code class="javascript">var num=60;
var max=0;
function incrementNumber()&#123;
  num--;
  if(num&gt;max)&#123;
      setTimeout(incrementNumber,1000);
      console.log(num);
  &#125;
  else&#123;
    console.log(&#39;Done&#39;);
  &#125;
&#125;
setTimeout(incrementNumber,1000);
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸-å†™ä¸€ä¸ª-functionï¼Œæ¸…é™¤å­—ç¬¦ä¸²å‰åçš„ç©ºæ ¼ã€‚ï¼ˆå…¼å®¹æ‰€æœ‰çš„æµè§ˆå™¨ï¼‰"><a href="#â™¥ï¸â™¥ï¸-å†™ä¸€ä¸ª-functionï¼Œæ¸…é™¤å­—ç¬¦ä¸²å‰åçš„ç©ºæ ¼ã€‚ï¼ˆå…¼å®¹æ‰€æœ‰çš„æµè§ˆå™¨ï¼‰" class="headerlink" title="â™¥ï¸â™¥ï¸ å†™ä¸€ä¸ª functionï¼Œæ¸…é™¤å­—ç¬¦ä¸²å‰åçš„ç©ºæ ¼ã€‚ï¼ˆå…¼å®¹æ‰€æœ‰çš„æµè§ˆå™¨ï¼‰"></a>â™¥ï¸â™¥ï¸ å†™ä¸€ä¸ª functionï¼Œæ¸…é™¤å­—ç¬¦ä¸²å‰åçš„ç©ºæ ¼ã€‚ï¼ˆå…¼å®¹æ‰€æœ‰çš„æµè§ˆå™¨ï¼‰</h3><pre><code class="javascript">function trim(str) &#123;
    if (str &amp;&amp; typeof str === &quot;string&quot;) &#123;
    return str.replace(/(^\s)|(\s)$/g,&quot;&quot;); //å»é™¤å‰åç©ºç™½ç¬¦
    &#125;
   &#125;
console.log(&#39;  2342.4  &#39;)//  2342.4
console.log(trim(&#39;  2342.4  &#39;))//2342.4
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸-ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼éªŒè¯é‚®ç®±æ ¼å¼ã€‚"><a href="#â™¥ï¸â™¥ï¸-ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼éªŒè¯é‚®ç®±æ ¼å¼ã€‚" class="headerlink" title="â™¥ï¸â™¥ï¸  ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼éªŒè¯é‚®ç®±æ ¼å¼ã€‚"></a>â™¥ï¸â™¥ï¸  ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼éªŒè¯é‚®ç®±æ ¼å¼ã€‚</h3><pre><code class="javascript">var reg = /^(\w)+(\.\w+)*@(\w)+((\.\w&#123;2,3&#125;)&#123;1,3&#125;)$/;
var email = &quot;1246815351@qq.com&quot;;
console.log(reg.test(email)); //true
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸-JavaScript-ä¸­-callee-å’Œ-caller-çš„ä½œç”¨"><a href="#â™¥ï¸â™¥ï¸-JavaScript-ä¸­-callee-å’Œ-caller-çš„ä½œç”¨" class="headerlink" title="â™¥ï¸â™¥ï¸ JavaScript ä¸­ callee å’Œ caller çš„ä½œç”¨"></a>â™¥ï¸â™¥ï¸ JavaScript ä¸­ callee å’Œ caller çš„ä½œç”¨</h3><h4 id="1-callee"><a href="#1-callee" class="headerlink" title="1.callee"></a>1.callee</h4><p>calleeæ˜¯å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼Œè¯¥å±æ€§æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å‚æ•°argumentså¯¹è±¡çš„å‡½æ•°</p>
<p>ä½œç”¨ï¼šå°±æ˜¯ç”¨æ¥æŒ‡å‘å½“å‰å¯¹è±¡</p>
<p>è¿”å›æ­£è¢«æ‰§è¡Œçš„ Function å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æ‰€æŒ‡å®šçš„ Function å¯¹è±¡çš„æ­£æ–‡. </p>
<p>calleeæ˜¯arguments çš„ä¸€ä¸ªå±æ€§æˆå‘˜ï¼Œå®ƒè¡¨ç¤ºå¯¹å‡½æ•°å¯¹è±¡æœ¬èº«çš„å¼•ç”¨ï¼Œè¿™æœ‰åˆ©äºåŒ¿å</p>
<p>å‡½æ•°çš„é€’å½’æˆ–è€…ä¿è¯å‡½æ•°çš„å°è£…æ€§</p>
<h4 id="2-caller"><a href="#2-caller" class="headerlink" title="2.caller"></a>2.caller</h4><p>calleræ˜¯å‡½æ•°å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼Œè¯¥å±æ€§ä¿å­˜ç€è°ƒç”¨å½“å‰å‡½æ•°çš„å‡½æ•°çš„å¼•ç”¨ï¼ˆæŒ‡å‘å½“å‰å‡½æ•°çš„ç›´æ¥çˆ¶å‡½æ•°ï¼‰</p>
<p>è¿”å›ä¸€ä¸ªå¯¹å‡½æ•°çš„å¼•ç”¨ï¼Œè¯¥å‡½æ•°è°ƒç”¨äº†å½“å‰å‡½æ•°ã€‚</p>
<p>functionName.caller</p>
<p>functionName å¯¹è±¡æ˜¯æ‰€æ‰§è¡Œå‡½æ•°çš„åç§°ã€‚</p>
<p>â€¼ï¸æ³¨æ„ï¼š</p>
<p>å¯¹äºå‡½æ•°æ¥è¯´ï¼Œcaller å±æ€§åªæœ‰åœ¨å‡½æ•°æ‰§è¡Œæ—¶æ‰æœ‰å®šä¹‰ã€‚ å¦‚æœå‡½æ•°æ˜¯ç”± Javascript ç¨‹åºçš„é¡¶å±‚è°ƒç”¨çš„ï¼Œ</p>
<p>é‚£ä¹ˆ caller åŒ…å«çš„å°±æ˜¯ null ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸-ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­å­—æ¯ä¸ªæ•°æˆ–ç»Ÿè®¡æœ€å¤šçš„å­—æ¯æ•°ã€‚"><a href="#â™¥ï¸â™¥ï¸-ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­å­—æ¯ä¸ªæ•°æˆ–ç»Ÿè®¡æœ€å¤šçš„å­—æ¯æ•°ã€‚" class="headerlink" title="â™¥ï¸â™¥ï¸ ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­å­—æ¯ä¸ªæ•°æˆ–ç»Ÿè®¡æœ€å¤šçš„å­—æ¯æ•°ã€‚"></a>â™¥ï¸â™¥ï¸ ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­å­—æ¯ä¸ªæ•°æˆ–ç»Ÿè®¡æœ€å¤šçš„å­—æ¯æ•°ã€‚</h3><pre><code class="javascript">function count()&#123;
    var str=&quot;aaaabbbbsssseeeeqqaaasss&quot;;
    var obj=&#123;&#125;;
    for(var i=0;i&lt;str.length; i++)&#123;
        if(obj[str.charAt(i)]==undefined)&#123;  
        //å¯¹è±¡åˆå§‹åŒ–ï¼›å¦‚æœkeyåœ¨å¯¹è±¡ä¸­æ‰¾ä¸åˆ°ï¼Œé‚£ä¹ˆä¼šè¿”å›undefined,åå‘æ€ç»´
            obj[str.charAt(i)]= 1;
        &#125; else&#123;
            obj[str.charAt(i)]++;
        &#125;
    &#125;
    return obj;  //&#123; a: 7, b: 4, s: 7, e: 4, q: 2 &#125;
    //å–å‡ºå„ä¸ªå­—æ¯å’Œå®ƒçš„ä¸ªæ•°ï¼Œä½œä¸ºä¸€ä¸ªæ–°å¯¹è±¡ä¿å­˜åœ¨objå¯¹è±¡;
&#125;

function numberCount(obj)&#123;
    var mm=&quot;&quot;;
    for(var m in obj)&#123;
        if(mm==&quot;&quot;)&#123;
            mm=new Object();
            mm[m]=obj[m];
        &#125;else&#123;
            for(var j in mm)&#123;
               if(mm[j]&lt;obj[m])&#123;
                   //æ¸…ç©ºåŸæ¥çš„å†…å®¹
                   mm=new Object();
                   //æ”¾å…¥æ–°çš„å†…å®¹
                   mm[m]=obj[m];
               &#125;
            &#125;
        &#125;
    &#125;
    console.log(mm); //&#123; a: 7 &#125;
&#125;
numberCount(count());
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸-ç®€è¿°ä¸€ä¸‹é¢è±¡å¯¹è±¡çš„å…­æ³•åˆ™"><a href="#â™¥ï¸â™¥ï¸-ç®€è¿°ä¸€ä¸‹é¢è±¡å¯¹è±¡çš„å…­æ³•åˆ™" class="headerlink" title="â™¥ï¸â™¥ï¸ ç®€è¿°ä¸€ä¸‹é¢è±¡å¯¹è±¡çš„å…­æ³•åˆ™"></a>â™¥ï¸â™¥ï¸ ç®€è¿°ä¸€ä¸‹é¢è±¡å¯¹è±¡çš„å…­æ³•åˆ™</h3><ol>
<li><p>å•ä¸€èŒè´£åŸåˆ™ï¼šä¸€ä¸ªç±»åªåšå®ƒè¯¥åšçš„äº‹æƒ…</p>
</li>
<li><p>å¼€é—­åŸåˆ™ï¼šè½¯ä»¶å®ä½“åº”å½“å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­</p>
</li>
<li><p>ä¾èµ–å€’è½¬åŸåˆ™ï¼šé¢å‘æ¥å£ç¼–ç¨‹</p>
</li>
<li><p>æ¥å£éš”ç¦»åŸåˆ™ï¼šæ¥å£è¦å°è€Œä¸“ï¼Œç»ä¸èƒ½å¤§è€Œå…¨</p>
</li>
<li><p>åˆæˆèšåˆå¤ç”¨åŸåˆ™ï¼šä¼˜å…ˆä½¿ç”¨èšåˆæˆ–åˆæˆå…³ç³»å¤ç”¨ä»£ç </p>
</li>
<li><p>è¿ªç±³ç‰¹æ³•åˆ™ï¼šè¿ªç±³ç‰¹æ³•åˆ™åˆå«æœ€å°‘çŸ¥è¯†åŸåˆ™ï¼Œä¸€ä¸ªå¯¹è±¡åº”å½“å¯¹å…¶ä»–å¯¹è±¡æœ‰å°½å¯èƒ½å°‘çš„äº†è§£(ä½è€¦åˆ)</p>
</li>
</ol>
<h3 id="â™¥ï¸â™¥ï¸-jQuery-ä¼˜ç‚¹å’Œç¼ºç‚¹"><a href="#â™¥ï¸â™¥ï¸-jQuery-ä¼˜ç‚¹å’Œç¼ºç‚¹" class="headerlink" title="â™¥ï¸â™¥ï¸  jQuery ä¼˜ç‚¹å’Œç¼ºç‚¹"></a>â™¥ï¸â™¥ï¸  jQuery ä¼˜ç‚¹å’Œç¼ºç‚¹</h3><h4 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><pre><code class="css">1.å‡ºè‰²çš„æµè§ˆå™¨å…¼å®¹æ€§
2ã€å‡ºè‰²çš„DOMæ“ä½œçš„å°è£…ï¼Œä½¿ä»–å…·å¤‡å¼ºå¤§çš„é€‰æ‹©å™¨ï¼Œå¯ä»¥è¿›è¡Œå¿«é€Ÿçš„DOMå…ƒç´ æ“ä½œ
3ã€å¯é çš„äº‹ä»¶å¤„ç†æœºåˆ¶ã€jqåœ¨å¤„ç†äº‹ä»¶ç»‘å®šçš„æ—¶å€™æ˜¯ç›¸å½“çš„å¯é 
4ã€å®Œå–„çš„ajaxï¼ˆå¯¹ajaxçš„å°è£…éå¸¸å¥½ï¼Œä¸éœ€è¦è€ƒè™‘å¤æ‚çš„æµè§ˆå™¨çš„å…¼å®¹å’ŒXMLhttprequestå¯¹è±¡çš„åˆ›å»º
å’Œä½¿ç”¨ï¼‰
5ã€æ”¯æŒé“¾å¼æ“ä½œï¼ˆä»€ä¹ˆæ˜¯é“¾å¼æ“ä½œï¼Ÿé€šè¿‡â€˜.â€™æ¥æ“ä½œï¼‰å’Œéšå£«è¿­ä»£
6ã€å‡å°‘æœåŠ¡å™¨çš„å‹åŠ›å’Œå¸¦å®½å¹¶ä¸”åŠ å¿«äº†åŠ è½½é€Ÿåº¦ï¼ˆä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´ï¼ŸåŸå› å°±æ˜¯ï¼šå½“ä½ æ‰“å¼€ç½‘é¡µä¹‹å‰æ‰“å¼€äº†
å…¶ä»–çš„ç½‘é¡µï¼Œå¹¶ä¸”è¯¥ç½‘é¡µä¹Ÿç”¨äº†cdnçš„æ–¹å¼æ¥
// è°ƒç”¨çˆ¶ç±»åŸå‹pushæ–¹æ³• return super.push(...args)
åŠ è½½ç›¸åŒç‰ˆæœ¬çš„jqæ–‡ä»¶ï¼Œé‚£ä¹ˆï¼Œæµè§ˆå™¨å°±ä¸ä¼šåŠ è½½ç¬¬äºŒæ¬¡ï¼Œä¸ºå•¥èˆè¿‘æ±‚è¿œå‘¢ï¼Œå’Œç”Ÿæ´»ä¸­çš„é“ç†ä¸€æ ·ä¸€æ ·
çš„ï¼ï¼‰
7ã€æ”¯æŒä¸°å¯Œçš„æ’ä»¶ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ’ä»¶ï¼Œå†åŠ ä¸Šjqçš„æ–‡æ¡£ä¹Ÿå¾ˆä¸°å¯Œï¼Œå¯¹äºç¨‹åºå‘˜æ¥è¯´ï¼Œæ˜¯ä¸€ä»¶éå¸¸ç¾å¥½çš„äº‹æƒ…
</code></pre>
<h4 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><pre><code class="css">1.ä¸èƒ½å‘åå…¼å®¹ã€‚
æ¯ä¸€ä¸ªæ–°ç‰ˆæœ¬ä¸èƒ½å…¼å®¹æ—©æœŸçš„ç‰ˆæœ¬ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œæœ‰äº›æ–°ç‰ˆæœ¬ä¸å†æ”¯æŒæŸäº›selectorï¼Œæ–°ç‰ˆjQueryå´æ²¡æœ‰ä¿ç•™å¯¹å®ƒä»¬çš„æ”¯æŒï¼Œè€Œåªæ˜¯ç®€å•çš„å°†å…¶ç§»é™¤ã€‚è¿™å¯èƒ½ä¼šå½±å“åˆ°å¼€å‘è€…å·²ç»ç¼–å†™å¥½çš„ä»£ç æˆ–æ’ä»¶ã€‚
2.æ’ä»¶å…¼å®¹æ€§ã€‚
ä¸ä¸Šä¸€ç‚¹ç±»ä¼¼ï¼Œå½“æ–°ç‰ˆjQueryæ¨å‡ºåï¼Œå¦‚æœå¼€å‘è€…æƒ³å‡çº§çš„è¯ï¼Œè¦çœ‹æ’ä»¶ä½œè€…æ˜¯å¦æ”¯æŒã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œåœ¨æœ€æ–°ç‰ˆjQueryç‰ˆæœ¬ä¸‹ï¼Œç°æœ‰æ’ä»¶å¯èƒ½æ— æ³•æ­£å¸¸ä½¿ç”¨ã€‚å¼€å‘è€…ä½¿ç”¨çš„æ’ä»¶è¶Šå¤šï¼Œè¿™ç§æƒ…å†µå‘ç”Ÿçš„å‡ ç‡ä¹Ÿè¶Šé«˜ã€‚æˆ‘æœ‰ä¸€æ¬¡ä¸ºäº†å‡çº§åˆ°jQuery 1.3ï¼Œä¸å¾—ä¸è‡ªå·±åŠ¨æ‰‹ä¿®æ”¹äº†ä¸€ä¸ªç¬¬ä¸‰æ–¹æ’ä»¶ã€‚
3.å¤šä¸ªæ’ä»¶å†²çªã€‚
åœ¨åŒä¸€é¡µé¢ä¸Šä½¿ç”¨å¤šä¸ªæ’ä»¶æ—¶ï¼Œå¾ˆå®¹æ˜“ç¢°åˆ°å†²çªç°è±¡ï¼Œå°¤å…¶æ˜¯è¿™äº›æ’ä»¶ä¾èµ–ç›¸åŒäº‹ä»¶æˆ–selectoræ—¶æœ€ä¸ºæ˜æ˜¾ã€‚è¿™è™½ç„¶ä¸æ˜¯jQueryè‡ªèº«çš„é—®é¢˜ï¼Œä½†å´åˆç¡®å®æ˜¯ä¸€ä¸ªéš¾äºè°ƒè¯•å’Œè§£å†³çš„é—®é¢˜ã€‚
4.jQueryçš„ç¨³å®šæ€§ã€‚
jQueryæ²¡æœ‰è®©æµè§ˆå™¨å´©æºƒï¼Œè¿™é‡ŒæŒ‡çš„æ˜¯å…¶ç‰ˆæœ¬å‘å¸ƒç­–ç•¥ã€‚jQuery 1.3ç‰ˆå‘å¸ƒåä»…è¿‡æ•°å¤©ï¼Œå°±å‘å¸ƒäº†ä¸€ä¸ªæ¼æ´ä¿®æ­£ç‰ˆ1.3.1ã€‚ä»–ä»¬è¿˜ç§»é™¤äº†å¯¹æŸäº›åŠŸèƒ½çš„æ”¯æŒï¼Œå¯èƒ½ä¼šå½±å“è®¸å¤šä»£ç çš„æ­£å¸¸è¿è¡Œã€‚æˆ‘å¸Œæœ›ç±»ä¼¼ä¿®æ”¹ä¸è¦å†å‡ºç°ã€‚
5.å¯¹åŠ¨ç”»å’Œç‰¹æ•ˆçš„æ”¯æŒå·®ã€‚
åœ¨å¤§å‹æ¡†æ¶ä¸­ï¼ŒjQueryæ ¸å¿ƒä»£ç åº“å¯¹åŠ¨ç”»å’Œç‰¹æ•ˆçš„æ”¯æŒç›¸å¯¹è¾ƒå·®ã€‚ä½†æ˜¯å®é™…ä¸Šè¿™ä¸æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚ç›®å‰åœ¨è¿™æ–¹é¢æœ‰ä¸€ä¸ªå•ç‹¬çš„jQuery UIé¡¹ç›®å’Œä¼—å¤šæ’ä»¶æ¥å¼¥è¡¥æ­¤ç‚¹ã€‚
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸-AMD-æ€ä¹ˆåŠ è½½æ–‡ä»¶çš„"><a href="#â™¥ï¸â™¥ï¸-AMD-æ€ä¹ˆåŠ è½½æ–‡ä»¶çš„" class="headerlink" title="â™¥ï¸â™¥ï¸ AMD æ€ä¹ˆåŠ è½½æ–‡ä»¶çš„?"></a>â™¥ï¸â™¥ï¸ AMD æ€ä¹ˆåŠ è½½æ–‡ä»¶çš„?</h3><p>AMD å³Asynchronous Module Definitionï¼Œä¸­æ–‡åæ˜¯å¼‚æ­¥æ¨¡å—å®šä¹‰çš„æ„æ€ã€‚å®ƒæ˜¯ä¸€ä¸ªåœ¨æµè§ˆå™¨ç«¯æ¨¡å—åŒ–å¼€å‘çš„è§„èŒƒ</p>
<p>ç”±äºä¸æ˜¯JavaScriptåŸç”Ÿæ”¯æŒï¼Œä½¿ç”¨AMDè§„èŒƒè¿›è¡Œé¡µé¢å¼€å‘éœ€è¦ç”¨åˆ°å¯¹åº”çš„åº“å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯å¤§åé¼é¼RequireJSï¼Œå®é™…ä¸ŠAMD æ˜¯ RequireJS åœ¨æ¨å¹¿è¿‡ç¨‹ä¸­å¯¹æ¨¡å—å®šä¹‰çš„è§„èŒƒåŒ–çš„äº§å‡º</p>
<p>requireJSä¸»è¦è§£å†³ä¸¤ä¸ªé—®é¢˜</p>
<p>1.å¤šä¸ªjsæ–‡ä»¶å¯èƒ½æœ‰ä¾èµ–å…³ç³»ï¼Œè¢«ä¾èµ–çš„æ–‡ä»¶éœ€è¦æ—©äºä¾èµ–å®ƒçš„æ–‡ä»¶åŠ è½½åˆ°æµè§ˆå™¨</p>
<p>2.jsåŠ è½½çš„æ—¶å€™æµè§ˆå™¨ä¼šåœæ­¢é¡µé¢æ¸²æŸ“ï¼ŒåŠ è½½æ–‡ä»¶è¶Šå¤šï¼Œé¡µé¢å¤±å»å“åº”æ—¶é—´è¶Šé•¿</p>
<p>require()å‡½æ•°åœ¨åŠ è½½ä¾èµ–çš„å‡½æ•°çš„æ—¶å€™æ˜¯å¼‚æ­¥åŠ è½½çš„ï¼Œè¿™æ ·æµè§ˆå™¨ä¸ä¼šå¤±å»å“åº”ï¼Œå®ƒæŒ‡å®šçš„å›è°ƒå‡½æ•°ï¼Œåªæœ‰å‰é¢çš„æ¨¡å—éƒ½åŠ è½½æˆåŠŸåï¼Œæ‰ä¼šè¿è¡Œï¼Œè§£å†³äº†ä¾èµ–æ€§çš„é—®é¢˜ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸-jQuery-æ€ä¹ˆæ‰¾åˆ°äº‹ä»¶æºå…ƒç´ "><a href="#â™¥ï¸â™¥ï¸-jQuery-æ€ä¹ˆæ‰¾åˆ°äº‹ä»¶æºå…ƒç´ " class="headerlink" title="â™¥ï¸â™¥ï¸ jQuery æ€ä¹ˆæ‰¾åˆ°äº‹ä»¶æºå…ƒç´ "></a>â™¥ï¸â™¥ï¸ jQuery æ€ä¹ˆæ‰¾åˆ°äº‹ä»¶æºå…ƒç´ </h3><pre><code class="javascript">$(&quot;.btn&quot;).click(function(e)&#123;
 // e å°±æ˜¯äº‹ä»¶å¯¹è±¡
 e.target; // äº‹ä»¶çš„ç›®æ ‡ dom
 e.currentTarget; // äº‹ä»¶å¤„ç†ç¨‹åºæ­£åœ¨å¤„ç†äº‹ä»¶çš„é‚£ä¸ªå…ƒç´ 
 e.srcElement; // äº‹ä»¶çš„ç›®æ ‡ ie
&#125;);
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸-2018-x2F-01-x2F-01-è½¬æ¢æˆ-2018å¹´-x2F-1æœˆ-x2F-1æ—¥"><a href="#â™¥ï¸â™¥ï¸-2018-x2F-01-x2F-01-è½¬æ¢æˆ-2018å¹´-x2F-1æœˆ-x2F-1æ—¥" class="headerlink" title="â™¥ï¸â™¥ï¸ 2018&#x2F;01&#x2F;01 è½¬æ¢æˆ 2018å¹´&#x2F;1æœˆ&#x2F;1æ—¥"></a>â™¥ï¸â™¥ï¸ 2018&#x2F;01&#x2F;01 è½¬æ¢æˆ 2018å¹´&#x2F;1æœˆ&#x2F;1æ—¥</h3><pre><code class="javascript">function fun(str)&#123;
    var date = new Date(str)
    return date.getFullYear()+&#39;å¹´/&#39;+ date.getMonth()+&#39;æœˆ/&#39;+date.getDate()+&#39;æ—¥&#39; 
&#125;
console.log(fun(&#39;2018/03/01&#39;))//2018å¹´/2æœˆ/1æ—¥
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸-for-in-å¾ªç¯ä¼šéå†å‡ºåŸå‹ä¸Šçš„å±æ€§å—ï¼Ÿæ€ä¹ˆé¿å…éå†åˆ°åŸå‹ä¸Šçš„å±æ€§"><a href="#â™¥ï¸â™¥ï¸-for-in-å¾ªç¯ä¼šéå†å‡ºåŸå‹ä¸Šçš„å±æ€§å—ï¼Ÿæ€ä¹ˆé¿å…éå†åˆ°åŸå‹ä¸Šçš„å±æ€§" class="headerlink" title="â™¥ï¸â™¥ï¸ for-in å¾ªç¯ä¼šéå†å‡ºåŸå‹ä¸Šçš„å±æ€§å—ï¼Ÿæ€ä¹ˆé¿å…éå†åˆ°åŸå‹ä¸Šçš„å±æ€§"></a>â™¥ï¸â™¥ï¸ for-in å¾ªç¯ä¼šéå†å‡ºåŸå‹ä¸Šçš„å±æ€§å—ï¼Ÿæ€ä¹ˆé¿å…éå†åˆ°åŸå‹ä¸Šçš„å±æ€§</h3><p>ä½¿ç”¨ for in å¾ªç¯éå†å¯¹è±¡çš„å±æ€§æ—¶ï¼ŒåŸå‹é“¾ä¸Šçš„æ‰€æœ‰å±æ€§éƒ½å°†è¢«è®¿é—®</p>
<p>åªéå†å¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œè€Œä¸éå†ç»§æ‰¿äºåŸå‹é“¾ä¸Šçš„å±æ€§ï¼Œéœ€è¦ä½¿ç”¨hasOwnProperty æ–¹æ³•è¿‡æ»¤ä¸€ä¸‹ã€‚</p>
<pre><code class="javascript">Object.prototype.say=&quot;cgl&quot;;
 var person =&#123;
 age: 18
 &#125;;
 for (var key in person) &#123;
 if(person.hasOwnProperty(key))&#123;
 console.log(key, eval(&quot;person.&quot;+key));//age 18
 &#125;
 &#125;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸-ES6-ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°æœ‰ä»€ä¹ˆå·®å¼‚ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸-ES6-ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°æœ‰ä»€ä¹ˆå·®å¼‚ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸  ES6 ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°æœ‰ä»€ä¹ˆå·®å¼‚ï¼Ÿ"></a>â™¥ï¸â™¥ï¸  ES6 ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°æœ‰ä»€ä¹ˆå·®å¼‚ï¼Ÿ</h3><ol>
<li><p>ç›¸æ¯”æ™®é€šå‡½æ•°æ›´ç®€æ´çš„è¯­æ³•</p>
</li>
<li><p>æ²¡æœ‰this,æ•è·å…¶æ‰€åœ¨ä¸Šä¸‹æ–‡çš„ this å€¼ï¼Œä½œä¸ºè‡ªå·±çš„ this å€¼ </p>
</li>
<li><p>ä¸èƒ½ä½¿ç”¨new,ç®­å¤´å‡½æ•°ä½œä¸ºåŒ¿åå‡½æ•°,æ˜¯ä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°çš„,ä¸èƒ½ä½¿ç”¨new</p>
</li>
<li><p>ä¸ç»‘å®šargumentsï¼Œç”¨restå‚æ•°â€¦è§£å†³</p>
</li>
<li><p>ä½¿ç”¨call()å’Œapply()è°ƒç”¨:ç”±äº this å·²ç»åœ¨è¯æ³•å±‚é¢å®Œæˆäº†ç»‘å®šï¼Œé€šè¿‡ call() æˆ– apply() æ–¹æ³•è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œåªæ˜¯ä¼ å…¥äº†å‚æ•°è€Œå·²ï¼Œå¯¹ this å¹¶æ²¡æœ‰ä»€ä¹ˆå½±å“ï¼š</p>
</li>
<li><p>ç®­å¤´å‡½æ•°æ²¡æœ‰åŸå‹å±æ€§</p>
</li>
<li><p>ä¸èƒ½ç®€å•è¿”å›å¯¹è±¡å­—é¢é‡</p>
</li>
</ol>
<p>let fun5 &#x3D; ()&#x3D;&gt;({ foo: x }) &#x2F;&#x2F;å¦‚æœx &#x3D;&gt; { foo: x } &#x2F;&#x2F;åˆ™è¯­æ³•å‡ºé”™</p>
<ol start="8">
<li><p>ç®­å¤´å‡½æ•°ä¸èƒ½å½“åšGeneratorå‡½æ•°,ä¸èƒ½ä½¿ç”¨yieldå…³é”®å­—</p>
</li>
<li><p>ç®­å¤´å‡½æ•°ä¸èƒ½æ¢è¡Œ</p>
</li>
</ol>
<h3 id="â™¥ï¸â™¥ï¸-import-export-commonJS-å¯¹æ¯”åŒºåˆ«"><a href="#â™¥ï¸â™¥ï¸-import-export-commonJS-å¯¹æ¯”åŒºåˆ«" class="headerlink" title="â™¥ï¸â™¥ï¸  import export commonJS å¯¹æ¯”åŒºåˆ«"></a>â™¥ï¸â™¥ï¸  import export commonJS å¯¹æ¯”åŒºåˆ«</h3><p>ES6å’ŒcommonJSçš„ä¸€äº›åŒºåˆ«</p>
<p>ä»è¯­æ³•çš„è§’åº¦ä¸Šçœ‹ï¼ŒES6æ¨¡å—åŒ–çš„import å’Œ export æ˜¯ä¸€ä¸ªå†…ç½®çš„æ ‡è¯†ï¼Œè€ŒcommonJSçš„</p>
<p>module.exports å’Œ require åˆ†åˆ«æ˜¯jså¯¹è±¡å’Œæ–¹æ³•ã€‚å…¶ES6æ¨¡å—åŒ–å’ŒcommonJSçš„å®ç°æ–¹å¼ä¸åŒã€‚</p>
<p>1.ES6æ˜¯åœ¨ç¼–è¯‘çš„æ—¶å€™å¯¼å…¥æ–‡ä»¶ï¼Œè€ŒcommonJSæ˜¯ç¼–è¯‘å®Œæˆåï¼Œåœ¨é€šè¿‡requireæ–¹æ³•å¯¼å…¥ï¼Œå¹¶è¯»å–æ–‡ä»¶å¯¼å‡ºçš„æ–‡ä»¶ï¼Œå¹¶è¿”å›ä¸€ä¸ªmodule.exportså¯¹è±¡</p>
<p>2.åœ¨ES6æ¨¡å—çš„å†…éƒ¨thisæ˜¯é—®undefinedï¼Œè€ŒcommonJSçš„thisä¸ºä¸€ä¸ªç©ºå¯¹è±¡</p>
<p>3.ES6æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œè€ŒcommonJSæ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„å¼•ç”¨</p>
<h3 id="â™¥ï¸â™¥ï¸-ä¸ºä»€ä¹ˆ-JavaScript-æ˜¯å•çº¿ç¨‹"><a href="#â™¥ï¸â™¥ï¸-ä¸ºä»€ä¹ˆ-JavaScript-æ˜¯å•çº¿ç¨‹" class="headerlink" title="â™¥ï¸â™¥ï¸ ä¸ºä»€ä¹ˆ JavaScript æ˜¯å•çº¿ç¨‹"></a>â™¥ï¸â™¥ï¸ ä¸ºä»€ä¹ˆ JavaScript æ˜¯å•çº¿ç¨‹</h3><p>jsä½œä¸ºä¸»è¦è¿è¡Œåœ¨æµè§ˆå™¨çš„è„šæœ¬è¯­è¨€ï¼Œjsä¸»è¦ç”¨é€”ä¹‹ä¸€æ˜¯æ“ä½œDOMã€‚</p>
<p>ä¸¾ä¸€ä¸ªæ —å­ï¼Œå¦‚æœjsåŒæ—¶æœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼ŒåŒæ—¶å¯¹åŒä¸€ä¸ªdomè¿›è¡Œæ“ä½œï¼Œè¿™æ—¶æµè§ˆå™¨åº”è¯¥å¬å“ªä¸ªçº¿ç¨‹çš„ï¼Œå¦‚ä½•åˆ¤æ–­ä¼˜å…ˆçº§ï¼Ÿ</p>
<p>ä¸ºäº†é¿å…è¿™ç§é—®é¢˜ï¼Œjså¿…é¡»æ˜¯ä¸€é—¨å•çº¿ç¨‹è¯­è¨€</p>
<h3 id="â™¥ï¸â™¥ï¸-JSçš„åŸºæœ¬æ•°æ®ç±»å‹åˆ¤æ–­æœ‰ä»€ä¹ˆæ–¹æ³•ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸-JSçš„åŸºæœ¬æ•°æ®ç±»å‹åˆ¤æ–­æœ‰ä»€ä¹ˆæ–¹æ³•ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸ JSçš„åŸºæœ¬æ•°æ®ç±»å‹åˆ¤æ–­æœ‰ä»€ä¹ˆæ–¹æ³•ï¼Ÿ"></a>â™¥ï¸â™¥ï¸ JSçš„åŸºæœ¬æ•°æ®ç±»å‹åˆ¤æ–­æœ‰ä»€ä¹ˆæ–¹æ³•ï¼Ÿ</h3><h4 id="1-typeof"><a href="#1-typeof" class="headerlink" title="1.typeof"></a>1.typeof</h4><pre><code class="css">typeof&#39;&#39;;// string æœ‰æ•ˆ
 typeof 1;// number æœ‰æ•ˆ
 typeof Symbol();// symbol æœ‰æ•ˆ
 typeof true;//boolean æœ‰æ•ˆ
 typeof undefined;//undefined æœ‰æ•ˆ
 typeof new Function();// function æœ‰æ•ˆ
 typeof null;//object æ— æ•ˆ
 typeof [] ;//object æ— æ•ˆ
 typeof new Date();//object æ— æ•ˆ
 typeof new RegExp();//object æ— æ•ˆ
</code></pre>
<h4 id="2-instanceof"><a href="#2-instanceof" class="headerlink" title="2.instanceof"></a>2.instanceof</h4><pre><code class="css">instanceof æ˜¯ç”¨æ¥åˆ¤æ–­ A æ˜¯å¦ä¸º B çš„å®ä¾‹ï¼Œè¡¨è¾¾å¼ä¸ºï¼šA instanceof Bï¼Œå¦‚æœ A æ˜¯ B çš„å®ä¾‹ï¼Œåˆ™è¿”å›true,å¦åˆ™è¿”å› falseã€‚ åœ¨è¿™é‡Œéœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼šinstanceof æ£€æµ‹çš„æ˜¯åŸå‹
</code></pre>
<h4 id="3-constructor"><a href="#3-constructor" class="headerlink" title="3.constructor"></a>3.constructor</h4><pre><code class="css">å½“ä¸€ä¸ªå‡½æ•° Fè¢«å®šä¹‰æ—¶ï¼ŒJSå¼•æ“ä¼šä¸ºFæ·»åŠ  prototype åŸå‹ï¼Œç„¶åå†åœ¨ prototypeä¸Šæ·»åŠ ä¸€ä¸ªconstructor å±æ€§
</code></pre>
<h4 id="4-toString"><a href="#4-toString" class="headerlink" title="4.toString"></a>4.toString</h4><pre><code class="css">toString() æ˜¯ Object çš„åŸå‹æ–¹æ³•ï¼Œè°ƒç”¨è¯¥æ–¹æ³•ï¼Œé»˜è®¤è¿”å›å½“å‰å¯¹è±¡çš„ [[Class]] ã€‚è¿™æ˜¯ä¸€ä¸ªå†…éƒ¨å±æ€§ï¼Œå…¶æ ¼å¼ä¸º [object Xxx] ï¼Œå…¶ä¸­ Xxx å°±æ˜¯å¯¹è±¡çš„ç±»å‹ã€‚
å¯¹äº Object å¯¹è±¡ï¼Œç›´æ¥è°ƒç”¨ toString() å°±èƒ½è¿”å› [object Object] ã€‚è€Œå¯¹äºå…¶ä»–å¯¹è±¡ï¼Œåˆ™éœ€è¦é€šè¿‡ call / apply æ¥è°ƒç”¨æ‰èƒ½è¿”å›æ­£ç¡®çš„ç±»å‹ä¿¡æ¯ã€‚
 Object.prototype.toString.call(&#39;&#39;) ; // [object String]
 Object.prototype.toString.call(1) ; // [object Number]
 Object.prototype.toString.call(true) ;// [object Boolean]
 Object.prototype.toString.call(Symbol());//[object Symbol]
 Object.prototype.toString.call(undefined) ;// [object Undefined]
 Object.prototype.toString.call(null) ;// [object Null]
 Object.prototype.toString.call(newFunction()) ;// [object Function]
 Object.prototype.toString.call(newDate()) ;// [object Date]
 Object.prototype.toString.call([]) ;// [object Array]
 Object.prototype.toString.call(newRegExp()) ;// [object RegExp]
 Object.prototype.toString.call(newError()) ;// [object Error]
 Object.prototype.toString.call(document) ;// [object HTMLDocument]
 Object.prototype.toString.call(window) ;//[object global] window æ˜¯å…¨å±€å¯¹è±¡ global çš„å¼•ç”¨
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸-ä»‹ç»ä¸‹äº‹ä»¶ä»£ç†ï¼Œä¸»è¦è§£å†³ä»€ä¹ˆé—®é¢˜"><a href="#â™¥ï¸â™¥ï¸-ä»‹ç»ä¸‹äº‹ä»¶ä»£ç†ï¼Œä¸»è¦è§£å†³ä»€ä¹ˆé—®é¢˜" class="headerlink" title="â™¥ï¸â™¥ï¸ ä»‹ç»ä¸‹äº‹ä»¶ä»£ç†ï¼Œä¸»è¦è§£å†³ä»€ä¹ˆé—®é¢˜"></a>â™¥ï¸â™¥ï¸ ä»‹ç»ä¸‹äº‹ä»¶ä»£ç†ï¼Œä¸»è¦è§£å†³ä»€ä¹ˆé—®é¢˜</h3><ol>
<li><p>ç»‘å®šäº‹ä»¶å¤ªå¤šï¼Œæµè§ˆå™¨å ç”¨å†…å­˜å˜å¤§ï¼Œä¸¥é‡å½±å“æ€§èƒ½</p>
</li>
<li><p>Ajaxå‡ºç°ï¼Œå±€éƒ¨åˆ·æ–°ç››è¡Œï¼Œæ¯æ¬¡åŠ è½½å®Œï¼Œéƒ½è¦é‡æ–°ç»‘å®šäº‹ä»¶</p>
</li>
<li><p>éƒ¨åˆ†æµè§ˆå™¨ç§»é™¤å…ƒç´ æ—¶ï¼Œç»‘å®šçš„äº‹ä»¶æ²¡æœ‰è¢«åŠæ—¶ç§»é™¤ï¼Œå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œä¸¥é‡å½±å“æ€§èƒ½</p>
</li>
<li><p>Ajaxä¸­é‡å¤ç»‘å®šï¼Œå¯¼è‡´ä»£ç è€¦åˆæ€§è¿‡å¤§ï¼Œå½±å“åæœŸç»´æŠ¤</p>
</li>
</ol>
<h3 id="â™¥ï¸â™¥ï¸-new-çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿé€šè¿‡-new-çš„æ–¹å¼åˆ›å»ºå¯¹è±¡å’Œé€šè¿‡å­—é¢é‡åˆ›å»ºæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸-new-çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿé€šè¿‡-new-çš„æ–¹å¼åˆ›å»ºå¯¹è±¡å’Œé€šè¿‡å­—é¢é‡åˆ›å»ºæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸ new çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿé€šè¿‡ new çš„æ–¹å¼åˆ›å»ºå¯¹è±¡å’Œé€šè¿‡å­—é¢é‡åˆ›å»ºæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>â™¥ï¸â™¥ï¸ new çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿé€šè¿‡ new çš„æ–¹å¼åˆ›å»ºå¯¹è±¡å’Œé€šè¿‡å­—é¢é‡åˆ›å»ºæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p>newæ“ä½œç¬¦çš„ä½œç”¨å¦‚ä¸‹ï¼š</p>
<p>1.åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡</p>
<p>2.ç”±thiså˜é‡å¼•ç”¨è¯¥å¯¹è±¡</p>
<p>3.è¯¥å¯¹è±¡ç»§æ‰¿è¯¥å‡½æ•°çš„åŸå‹</p>
<p>4.æŠŠå±æ€§å’Œæ–¹æ³•åŠ å…¥åˆ°thiså¼•ç”¨çš„å¯¹è±¡ä¸­</p>
<p>5.æ–°åˆ›å»ºçš„å¯¹è±¡ç”±thiså¼•ç”¨ï¼Œæœ€åéšå¼åœ°è¿”å›thisã€‚</p>
<p>åŒºåˆ«:</p>
<p>å­—é¢é‡åˆ›å»ºä¸ä¼šè°ƒç”¨ Objectæ„é€ å‡½æ•°, ç®€æ´ä¸”æ€§èƒ½æ›´å¥½;</p>
<h3 id="â™¥ï¸â™¥ï¸-æ•°ç»„å»é‡çš„æ–¹æ³•"><a href="#â™¥ï¸â™¥ï¸-æ•°ç»„å»é‡çš„æ–¹æ³•" class="headerlink" title="â™¥ï¸â™¥ï¸ æ•°ç»„å»é‡çš„æ–¹æ³•"></a>â™¥ï¸â™¥ï¸ æ•°ç»„å»é‡çš„æ–¹æ³•</h3><h4 id="æ–¹æ³•ä¸€ï¼šåŒå±‚å¾ªç¯ï¼Œå¤–å±‚å¾ªç¯å…ƒç´ ï¼Œå†…å±‚å¾ªç¯æ—¶æ¯”è¾ƒå€¼"><a href="#æ–¹æ³•ä¸€ï¼šåŒå±‚å¾ªç¯ï¼Œå¤–å±‚å¾ªç¯å…ƒç´ ï¼Œå†…å±‚å¾ªç¯æ—¶æ¯”è¾ƒå€¼" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåŒå±‚å¾ªç¯ï¼Œå¤–å±‚å¾ªç¯å…ƒç´ ï¼Œå†…å±‚å¾ªç¯æ—¶æ¯”è¾ƒå€¼"></a>æ–¹æ³•ä¸€ï¼šåŒå±‚å¾ªç¯ï¼Œå¤–å±‚å¾ªç¯å…ƒç´ ï¼Œå†…å±‚å¾ªç¯æ—¶æ¯”è¾ƒå€¼</h4><p>å¦‚æœæœ‰ç›¸åŒçš„å€¼åˆ™è·³è¿‡ï¼Œä¸ç›¸åŒåˆ™pushè¿›æ•°ç»„</p>
<pre><code class="javascript">Array.prototype.distinct = function()&#123;
 var arr = this,
 result = [],
 i,
 j,
 len = arr.length;
 for(i = 0; i &lt; len; i++)&#123;
 for(j = i + 1; j &lt; len; j++)&#123;
 if(arr[i] === arr[j])&#123;
 j = ++i;
 &#125;
 &#125;
 result.push(arr[i]);
 &#125;
 return result;
&#125;
var arra = [1,2,3,4,4,1,1,2,1,1,1];
arra.distinct(); //è¿”å›[3,4,2,1]
</code></pre>
<h4 id="æ–¹æ³•äºŒï¼šåˆ©ç”¨spliceç›´æ¥åœ¨åŸæ•°ç»„è¿›è¡Œæ“ä½œ"><a href="#æ–¹æ³•äºŒï¼šåˆ©ç”¨spliceç›´æ¥åœ¨åŸæ•°ç»„è¿›è¡Œæ“ä½œ" class="headerlink" title="æ–¹æ³•äºŒï¼šåˆ©ç”¨spliceç›´æ¥åœ¨åŸæ•°ç»„è¿›è¡Œæ“ä½œ"></a>æ–¹æ³•äºŒï¼šåˆ©ç”¨spliceç›´æ¥åœ¨åŸæ•°ç»„è¿›è¡Œæ“ä½œ</h4><p>åŒå±‚å¾ªç¯ï¼Œå¤–å±‚å¾ªç¯å…ƒç´ ï¼Œå†…å±‚å¾ªç¯æ—¶æ¯”è¾ƒå€¼ å€¼ç›¸åŒæ—¶ï¼Œåˆ™åˆ å»è¿™ä¸ªå€¼</p>
<p>æ³¨æ„ç‚¹:åˆ é™¤å…ƒç´ ä¹‹åï¼Œéœ€è¦å°†æ•°ç»„çš„é•¿åº¦ä¹Ÿå‡1.</p>
<p>ä¼˜ç‚¹ï¼šç®€å•æ˜“æ‡‚</p>
<p>ç¼ºç‚¹ï¼šå ç”¨å†…å­˜é«˜ï¼Œé€Ÿåº¦æ…¢</p>
<pre><code class="javascript">Array.prototype.distinct = function ()&#123;
 var arr = this,
 i,
 j,
 len = arr.length;
 for(i = 0; i &lt; len; i++)&#123;
 for(j = i + 1; j &lt; len; j++)&#123;
 if(arr[i] == arr[j])&#123;
 arr.splice(j,1);
 len--;
 j--;
 &#125;
 &#125;
 &#125;
 return arr;
&#125;;
var a = [1,2,3,4,5,6,5,3,2,4,56,4,1,2,1,1,1,1,1,1,];
var b = a.distinct();
console.log(b.toString()); //1,2,3,4,5,6,56
</code></pre>
<h4 id="æ–¹æ³•ä¸‰ï¼šåˆ©ç”¨å¯¹è±¡çš„å±æ€§ä¸èƒ½ç›¸åŒçš„ç‰¹ç‚¹è¿›è¡Œå»é‡"><a href="#æ–¹æ³•ä¸‰ï¼šåˆ©ç”¨å¯¹è±¡çš„å±æ€§ä¸èƒ½ç›¸åŒçš„ç‰¹ç‚¹è¿›è¡Œå»é‡" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šåˆ©ç”¨å¯¹è±¡çš„å±æ€§ä¸èƒ½ç›¸åŒçš„ç‰¹ç‚¹è¿›è¡Œå»é‡"></a>æ–¹æ³•ä¸‰ï¼šåˆ©ç”¨å¯¹è±¡çš„å±æ€§ä¸èƒ½ç›¸åŒçš„ç‰¹ç‚¹è¿›è¡Œå»é‡</h4><pre><code class="javascript">Array.prototype.distinct = function ()&#123;
 var arr = this,
 i,
 obj = &#123;&#125;,
 result = [],
 len = arr.length;
 for(i = 0; i&lt; arr.length; i++)&#123;
 if(!obj[arr[i]])&#123; //å¦‚æœèƒ½æŸ¥æ‰¾åˆ°ï¼Œè¯æ˜æ•°ç»„å…ƒç´ é‡å¤äº†
 obj[arr[i]] = 1;
 result.push(arr[i]);
 &#125;
 &#125;
 return result;
&#125;;
var a = [1,2,3,4,5,6,5,3,2,4,56,4,1,2,1,1,1,1,1,1,];
var b = a.distinct();
console.log(b.toString()); //1,2,3,4,5,6,56
</code></pre>
<h4 id="æ–¹æ³•å››ï¼šæ•°ç»„é€’å½’å»é‡"><a href="#æ–¹æ³•å››ï¼šæ•°ç»„é€’å½’å»é‡" class="headerlink" title="æ–¹æ³•å››ï¼šæ•°ç»„é€’å½’å»é‡"></a>æ–¹æ³•å››ï¼šæ•°ç»„é€’å½’å»é‡</h4><p>è¿ç”¨é€’å½’çš„æ€æƒ³</p>
<p>å…ˆæ’åºï¼Œç„¶åä»æœ€åå¼€å§‹æ¯”è¾ƒï¼Œé‡åˆ°ç›¸åŒï¼Œåˆ™åˆ é™¤</p>
<pre><code class="javascript">Array.prototype.distinct = function ()&#123;
 var arr = this,
 len = arr.length;
 arr.sort(function(a,b)&#123; //å¯¹æ•°ç»„è¿›è¡Œæ’åºæ‰èƒ½æ–¹ä¾¿æ¯”è¾ƒ
 return a - b;
 &#125;)
 function loop(index)&#123;
 if(index &gt;= 1)&#123;
 if(arr[index] === arr[index-1])&#123;
 arr.splice(index,1);
 &#125;
 loop(index - 1); //é€’å½’loopå‡½æ•°è¿›è¡Œå»é‡
 &#125;
 &#125;
 loop(len-1);
 return arr;
&#125;;
var a = [1,2,3,4,5,6,5,3,2,4,56,4,1,2,1,1,1,1,1,1,56,45,56];
var b = a.distinct();
console.log(b.toString()); //1,2,3,4,5,6,45,56
</code></pre>
<h4 id="æ–¹æ³•äº”ï¼šåˆ©ç”¨indexOfä»¥åŠforEach"><a href="#æ–¹æ³•äº”ï¼šåˆ©ç”¨indexOfä»¥åŠforEach" class="headerlink" title="æ–¹æ³•äº”ï¼šåˆ©ç”¨indexOfä»¥åŠforEach"></a>æ–¹æ³•äº”ï¼šåˆ©ç”¨indexOfä»¥åŠforEach</h4><pre><code class="javascript">Array.prototype.distinct = function ()&#123;
 var arr = this,
 result = [],
 len = arr.length;
 arr.forEach(function(v, i ,arr)&#123; //è¿™é‡Œåˆ©ç”¨mapï¼Œfilteræ–¹æ³•ä¹Ÿå¯ä»¥å®ç°
 var bool = arr.indexOf(v,i+1); //ä»ä¼ å…¥å‚æ•°çš„ä¸‹ä¸€ä¸ªç´¢å¼•å€¼å¼€å§‹å¯»æ‰¾æ˜¯å¦å­˜åœ¨é‡å¤
 if(bool === -1)&#123;
 result.push(v);
 &#125;
 &#125;)
 return result;
&#125;;
var a = [1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,3,3,3,3,3,3,3,2,3,3,2,2,1,23,1,23,2,3,2,3,2,3];
var b = a.distinct();
console.log(b.toString()); //1,23,2,3
</code></pre>
<h3 id="æ–¹æ³•å…­ï¼šåˆ©ç”¨ES6çš„set"><a href="#æ–¹æ³•å…­ï¼šåˆ©ç”¨ES6çš„set" class="headerlink" title="æ–¹æ³•å…­ï¼šåˆ©ç”¨ES6çš„set"></a>æ–¹æ³•å…­ï¼šåˆ©ç”¨ES6çš„set</h3><p>Setæ•°æ®ç»“æ„ï¼Œå®ƒç±»ä¼¼äºæ•°ç»„ï¼Œå…¶æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚</p>
<p>åˆ©ç”¨Array.fromå°†Setç»“æ„è½¬æ¢æˆæ•°ç»„</p>
<pre><code class="javascript">function dedupe(array)&#123;
 return Array.from(new Set(array));
&#125;
dedupe([1,1,2,3]) //[1,2,3]
//æ‹“å±•è¿ç®—ç¬¦(...)å†…éƒ¨ä½¿ç”¨for...ofå¾ªç¯
//123
let arr = [1,2,3,3];
let resultarr = [...new Set(arr)]; 
console.log(resultarr); //[1,2,3]
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸-å¹¶è¡Œå’Œå¹¶å‘çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸-å¹¶è¡Œå’Œå¹¶å‘çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸ å¹¶è¡Œå’Œå¹¶å‘çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸ å¹¶è¡Œå’Œå¹¶å‘çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>å¹¶è¡Œæ„å‘³ç€å¯ä»¥åŒæ—¶å–å¾—å¤šä¸ªä»»åŠ¡ï¼Œå¹¶åŒæ—¶å»æ‰§è¡Œæ‰€å–å¾—çš„è¿™äº›ä»»åŠ¡ã€‚å¹¶è¡Œæ¨¡å¼ç›¸å½“äºå°†é•¿é•¿çš„ä¸€æ¡é˜Ÿåˆ—ï¼Œåˆ’åˆ†æˆäº†å¤šæ¡çŸ­é˜Ÿåˆ—ï¼Œæ‰€ä»¥å¹¶è¡Œç¼©çŸ­äº†ä»»åŠ¡é˜Ÿåˆ—çš„é•¿åº¦</p>
<p>å¹¶å‘è¡¨ç¤ºå¤šä¸ªä»»åŠ¡åŒæ—¶éƒ½è¦æ‰§è¡Œ</p>
<h3 id="â™¥ï¸â™¥ï¸-æ˜¯å¦æ‰€æœ‰å‡½æ•°éƒ½æœ‰-prototype-ä¸€è¯´ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸-æ˜¯å¦æ‰€æœ‰å‡½æ•°éƒ½æœ‰-prototype-ä¸€è¯´ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸ æ˜¯å¦æ‰€æœ‰å‡½æ•°éƒ½æœ‰ prototype ä¸€è¯´ï¼Ÿ"></a>â™¥ï¸â™¥ï¸ æ˜¯å¦æ‰€æœ‰å‡½æ•°éƒ½æœ‰ prototype ä¸€è¯´ï¼Ÿ</h3><pre><code class="css">1. ä½¿ç”¨Function.prototype.bindåˆ›å»ºçš„å‡½æ•°å¯¹è±¡
function abc()&#123;console.log(&#39;abc&#39;)&#125;
var binded = abc.bind(null)
binded() //abc
console.log(binded.prototype) //undefined

2. ç®­å¤´å‡½æ•°ä¹Ÿæ²¡æœ‰
var abc = ()=&gt;&#123;console.log(&#39;abc&#39;)&#125;
abc() //abc
console.log(abc.prototype) //undefined
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸-ä¸ºä»€ä¹ˆ-await-åœ¨-forEach-ä¸­ä¸ç”Ÿæ•ˆï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸-ä¸ºä»€ä¹ˆ-await-åœ¨-forEach-ä¸­ä¸ç”Ÿæ•ˆï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸ ä¸ºä»€ä¹ˆ await åœ¨ forEach ä¸­ä¸ç”Ÿæ•ˆï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ"></a>â™¥ï¸â™¥ï¸ ä¸ºä»€ä¹ˆ await åœ¨ forEach ä¸­ä¸ç”Ÿæ•ˆï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ</h3><p>lodashçš„forEachå’Œ[].forEachä¸æ”¯æŒawait, forEach åªæ”¯æŒåŒæ­¥ä»£ç ã€‚ </p>
<p>è§£å†³æ–¹æ³•1ï¼šä½¿ç”¨ forâ€¦of</p>
<p>è§£å†³æ–¹æ³•2ï¼šä½¿ç”¨ forå¾ªç¯</p>
<p>è§£å†³æ–¹æ³•3ï¼šè®©forEachæ”¯æŒasync await</p>
<p>forEach åœ¨æ­£å¸¸æƒ…å†µåƒä¸‹é¢è¿™ä¹ˆå†™è‚¯å®šæ˜¯åšä¸åˆ°åŒæ­¥çš„ï¼Œç¨‹åºä¸ä¼šç­‰ä¸€ä¸ªå¾ªç¯ä¸­çš„å¼‚æ­¥å®Œæˆå†è¿›è¡Œä¸‹ä¸€ä¸ªå¾ªç¯ã€‚åŸå› å¾ˆæ˜æ˜¾ï¼Œåœ¨ä¸‹é¢çš„æ¨¡æ‹Ÿä¸­ï¼Œwhile å¾ªç¯åªæ˜¯ç®€å•æ‰§è¡Œäº† callbackï¼Œæ‰€ä»¥å°½ç®¡ callback å†…ä½¿ç”¨äº† await ï¼Œä¹Ÿåªæ˜¯å½±å“åˆ° callback å†…éƒ¨ã€‚</p>
<pre><code class="javascript">arr.myforeach(async v =&gt; &#123;
 await fetch(v);
&#125;);
</code></pre>
<p>è¦æ”¯æŒä¸Šé¢è¿™ç§å†™æ³•ï¼Œåªè¦ç¨å¾®æ”¹ä¸€ä¸‹å°±å¥½</p>
<pre><code class="javascript">Array.prototype.myforeach = async function (fn, context = null) &#123;
 let index = 0;
 let arr = this;
 if (typeof fn !== &#39;function&#39;) &#123;
 throw new TypeError(fn + &#39; is not a function&#39;);
 &#125;
 while (index &lt; arr.length) &#123;
 if (index in arr) &#123;
 try &#123;
 await fn.call(context, arr[index], index, arr);
 &#125; catch (e) &#123;
 console.log(e);
 &#125;
 &#125;
 index ++;
 &#125;
&#125;;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸-è¯·æè¿°ä¸€ä¸‹-cookiesï¼ŒsessionStorage-å’Œ-localStorage-çš„åŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸-è¯·æè¿°ä¸€ä¸‹-cookiesï¼ŒsessionStorage-å’Œ-localStorage-çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸ è¯·æè¿°ä¸€ä¸‹ cookiesï¼ŒsessionStorage å’Œ localStorage çš„åŒºåˆ«ï¼Ÿ"></a>â™¥ï¸â™¥ï¸ è¯·æè¿°ä¸€ä¸‹ cookiesï¼ŒsessionStorage å’Œ localStorage çš„åŒºåˆ«ï¼Ÿ</h3><p>1.å­˜å‚¨å¤§å°</p>
<pre><code class="css">cookieæ•°æ®å¤§å°ä¸èƒ½è¶…è¿‡4kã€‚

sessionStorageå’ŒlocalStorage è™½ç„¶ä¹Ÿæœ‰å­˜å‚¨å¤§å°çš„é™åˆ¶ï¼Œä½†æ¯”cookieå¤§å¾—å¤šï¼Œå¯ä»¥è¾¾åˆ°5Mæˆ–æ›´å¤§ã€‚
</code></pre>
<p>2.æœ‰æ•ˆæ—¶é—´</p>
<pre><code class="css">localStorage å­˜å‚¨æŒä¹…æ•°æ®ï¼Œæµè§ˆå™¨å…³é—­åæ•°æ®ä¸ä¸¢å¤±é™¤éä¸»åŠ¨åˆ é™¤æ•°æ®ï¼›

sessionStorage æ•°æ®åœ¨å½“å‰æµè§ˆå™¨çª—å£å…³é—­åè‡ªåŠ¨åˆ é™¤ã€‚

cookie è®¾ç½®çš„cookieè¿‡æœŸæ—¶é—´ä¹‹å‰ä¸€ç›´æœ‰æ•ˆï¼Œå³ä½¿çª—å£æˆ–æµè§ˆå™¨å…³é—­
</code></pre>
<ol start="3">
<li>æ•°æ®ä¸æœåŠ¡å™¨ä¹‹é—´çš„äº¤äº’æ–¹å¼</li>
</ol>
<pre><code class="css">cookieçš„æ•°æ®ä¼šè‡ªåŠ¨çš„ä¼ é€’åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ç«¯ä¹Ÿå¯ä»¥å†™cookieåˆ°å®¢æˆ·ç«¯

sessionStorageå’ŒlocalStorageä¸ä¼šè‡ªåŠ¨æŠŠæ•°æ®å‘ç»™æœåŠ¡å™¨ï¼Œä»…åœ¨æœ¬åœ°ä¿å­˜ã€‚
</code></pre>
<hr>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ä»‹ç»ä¸€ä¸‹ç±»å‹è½¬æ¢"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ä»‹ç»ä¸€ä¸‹ç±»å‹è½¬æ¢" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ä»‹ç»ä¸€ä¸‹ç±»å‹è½¬æ¢"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ä»‹ç»ä¸€ä¸‹ç±»å‹è½¬æ¢</h3><p>&#x2F;<em>â€”â€”â€”â€”â€”â€”-<em>æ˜¾å¼è½¬æ¢</em>â€”â€”â€”â€”â€”â€”â€”</em>&#x2F; </p>
<pre><code class="css">1. toString() // è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œä¸å¯ä»¥è½¬nullå’Œunderfined
2. Number() // è½¬æ¢ä¸ºæ•°å­—ï¼Œå­—ç¬¦ä¸²ä¸­æœ‰ä¸€ä¸ªä¸æ˜¯æ•°å€¼çš„å­—ç¬¦ï¼Œè¿”å›NaN
3. parseInt() // è½¬æ¢ä¸ºæ•°å­—ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦ä¸æ˜¯æ•°å­—æˆ–è€…ç¬¦å·å°±è¿”å›NaN
4. String() // è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œ
5. Boolean() // è½¬æ¢ä¸ºå¸ƒå°”å€¼
</code></pre>
<p>&#x2F;<em>â€”â€”â€”â€”â€”â€”-<em>éšå¼è½¬æ¢</em>(+-)â€”â€”â€”â€”â€”â€”â€”</em>&#x2F; </p>
<p>å½“ JavaScript å°è¯•æ“ä½œä¸€ä¸ª â€œé”™è¯¯â€ çš„æ•°æ®ç±»å‹æ—¶ï¼Œä¼šè‡ªåŠ¨è½¬æ¢ä¸º â€œæ­£ç¡®â€ çš„æ•°æ®ç±»å‹</p>
<pre><code class="css">1. num + &quot;&quot; -&gt; String
2. num + bool -&gt; num
// å½“åŠ å·è¿ç®—ç¬¦æ—¶ï¼ŒStringå’Œå…¶ä»–ç±»å‹æ—¶ï¼Œå…¶ä»–ç±»å‹éƒ½ä¼šè½¬ä¸º Stringï¼›å…¶ä»–æƒ…å†µï¼Œéƒ½è½¬åŒ–ä¸ºNumberç±»å‹
3. string - num -&gt; num
// å…¶ä»–è¿ç®—ç¬¦æ—¶ï¼Œ åŸºæœ¬ç±»å‹éƒ½è½¬æ¢ä¸º Numberï¼ŒStringç±»å‹çš„å¸¦æœ‰å­—ç¬¦çš„æ¯”å¦‚ï¼š
4. &#39;a1&#39; - num -&gt; NaN
// ä¸undefined ä¸€æ ·ã€‚
</code></pre>
<p>&#x2F;<em>â€”â€”â€”â€”â€”â€”-<em>éšå¼è½¬æ¢</em>(<em>é€»è¾‘è¡¨è¾¾å¼</em>)â€”â€”â€”â€”â€”â€”â€”</em>&#x2F; </p>
<pre><code class="css">1. å¯¹è±¡å’Œå¸ƒå°”å€¼æ¯”è¾ƒ
å¯¹è±¡å’Œå¸ƒå°”å€¼è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œå¯¹è±¡å…ˆè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åå†è½¬æ¢ä¸ºæ•°å­—ï¼Œå¸ƒå°”å€¼ç›´æ¥è½¬æ¢ä¸ºæ•°å­—
[] == true; //false []è½¬æ¢ä¸ºå­—ç¬¦ä¸²&#39;&#39;,ç„¶åè½¬æ¢ä¸ºæ•°å­—0,trueè½¬æ¢ä¸ºæ•°å­—1ï¼Œæ‰€ä»¥ä¸ºfalse
2. å¯¹è±¡å’Œå­—ç¬¦ä¸²æ¯”è¾ƒ
å¯¹è±¡å’Œå­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œå¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åä¸¤è€…è¿›è¡Œæ¯”è¾ƒã€‚
[1,2,3] == &#39;1,2,3&#39; // true [1,2,3]è½¬åŒ–ä¸º&#39;1,2,3&#39;ï¼Œç„¶åå’Œ&#39;1,2,3&#39;ï¼Œ soç»“æœä¸ºtrue;
3. å¯¹è±¡å’Œæ•°å­—æ¯”è¾ƒ
å¯¹è±¡å’Œæ•°å­—è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œå¯¹è±¡å…ˆè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åè½¬æ¢ä¸ºæ•°å­—ï¼Œå†å’Œæ•°å­—è¿›è¡Œæ¯”è¾ƒã€‚
[1] == 1; // true `å¯¹è±¡å…ˆè½¬æ¢ä¸ºå­—ç¬¦ä¸²å†è½¬æ¢ä¸ºæ•°å­—ï¼ŒäºŒè€…å†æ¯”è¾ƒ [1] =&gt; &#39;1&#39; =&gt; 1 æ‰€ä»¥ç»“æœä¸ºtrue
4. å­—ç¬¦ä¸²å’Œæ•°å­—æ¯”è¾ƒ
å­—ç¬¦ä¸²å’Œæ•°å­—è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œå­—ç¬¦ä¸²è½¬æ¢æˆæ•°å­—ï¼ŒäºŒè€…å†æ¯”è¾ƒã€‚
&#39;1&#39; == 1 // true
5. å­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼æ¯”è¾ƒ
å­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼è¿›è¡Œæ¯”è¾ƒæ—¶ï¼ŒäºŒè€…å…¨éƒ¨è½¬æ¢æˆæ•°å€¼å†æ¯”è¾ƒã€‚
&#39;1&#39; == true; // true
6. å¸ƒå°”å€¼å’Œæ•°å­—æ¯”è¾ƒ
å¸ƒå°”å€¼å’Œæ•°å­—è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œå¸ƒå°”è½¬æ¢ä¸ºæ•°å­—ï¼ŒäºŒè€…æ¯”è¾ƒã€‚
true == 1 // true###
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-å¯¹é—­åŒ…çš„çœ‹æ³•ï¼Œä¸ºä»€ä¹ˆè¦ç”¨é—­åŒ…ï¼Ÿè¯´ä¸€ä¸‹é—­åŒ…çš„åŸç†ä»¥åŠåº”ç”¨åœºæ™¯ï¼Ÿé—­åŒ…çš„-this-æŒ‡å‘é—®é¢˜ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-å¯¹é—­åŒ…çš„çœ‹æ³•ï¼Œä¸ºä»€ä¹ˆè¦ç”¨é—­åŒ…ï¼Ÿè¯´ä¸€ä¸‹é—­åŒ…çš„åŸç†ä»¥åŠåº”ç”¨åœºæ™¯ï¼Ÿé—­åŒ…çš„-this-æŒ‡å‘é—®é¢˜ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ å¯¹é—­åŒ…çš„çœ‹æ³•ï¼Œä¸ºä»€ä¹ˆè¦ç”¨é—­åŒ…ï¼Ÿè¯´ä¸€ä¸‹é—­åŒ…çš„åŸç†ä»¥åŠåº”ç”¨åœºæ™¯ï¼Ÿé—­åŒ…çš„ this æŒ‡å‘é—®é¢˜ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ å¯¹é—­åŒ…çš„çœ‹æ³•ï¼Œä¸ºä»€ä¹ˆè¦ç”¨é—­åŒ…ï¼Ÿè¯´ä¸€ä¸‹é—­åŒ…çš„åŸç†ä»¥åŠåº”ç”¨åœºæ™¯ï¼Ÿé—­åŒ…çš„ this æŒ‡å‘é—®é¢˜ï¼Ÿ</h3><p>é—­åŒ…çš„ä½œç”¨ï¼š</p>
<ol>
<li><p>åœ¨å¤–éƒ¨è®¿é—®å‡½æ•°å†…éƒ¨çš„å˜é‡</p>
</li>
<li><p>è®©å‡½æ•°å†…çš„å±€éƒ¨å˜é‡å¯ä»¥ä¸€ç›´ä¿å­˜ä¸‹å»</p>
</li>
<li><p>æ¨¡å—åŒ–ç§æœ‰å±æ€§å’Œå…¬å…±å±æ€§</p>
</li>
</ol>
<p>é—­åŒ…çš„åŸç†ï¼š</p>
<p>å…¨å±€å˜é‡ç”Ÿå­˜å‘¨æœŸæ˜¯æ°¸ä¹…ï¼Œå±€éƒ¨å˜é‡ç”Ÿå­˜å‘¨æœŸéšç€å‡½æ•°çš„è°ƒç”¨ä»‹ç»è€Œé”€æ¯ã€‚</p>
<p>é—­åŒ…å°±æ˜¯ åœ¨å‡½æ•°ä¸­å®šä¹‰ä¸”æˆä¸ºè¯¥å‡½æ•°å†…éƒ¨è¿”å›çš„å‡½æ•°çš„è‡ªç”±å˜é‡ çš„å˜é‡ï¼Œè¯¥å˜é‡ä¸ä¼šéšç€å¤–éƒ¨å‡½æ•°è°ƒç”¨</p>
<p>ç»“æŸè€Œé”€æ¯ã€‚</p>
<p>ï¼ˆæ³¨ï¼šä¸å…‰æ˜¯å˜é‡ï¼Œå‡½æ•°å†…å£°æ˜çš„å‡½æ•°ä¹Ÿå¯ä»¥å½¢æˆé—­åŒ…ï¼‰</p>
<p>å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œï¼Œè¿™æ—¶å°±äº§ç”Ÿäº†é—­</p>
<p>åŒ…ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ç®€è¿°é—­åŒ…çš„é—®é¢˜ä»¥åŠä¼˜åŒ–"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ç®€è¿°é—­åŒ…çš„é—®é¢˜ä»¥åŠä¼˜åŒ–" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ç®€è¿°é—­åŒ…çš„é—®é¢˜ä»¥åŠä¼˜åŒ–"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ç®€è¿°é—­åŒ…çš„é—®é¢˜ä»¥åŠä¼˜åŒ–</h3><p>é—­åŒ…çš„ç¼ºç‚¹ï¼šå ç”¨å†…å±‚ç©ºé—´ å¤§é‡ä½¿ç”¨é—­åŒ…ä¼šé€ æˆ æ ˆæº¢å‡º</p>
<p>ç”±äºé—­åŒ…ä¼šä¸€ç›´å ç”¨å†…å­˜ç©ºé—´ï¼Œç›´åˆ°é¡µé¢é”€æ¯ï¼Œæˆ‘ä»¬å¯ä»¥ä¸»åŠ¨å°†å·²ä½¿ç”¨çš„é—­åŒ…é”€æ¯ï¼š</p>
<p>å°†é—­åŒ…å‡½æ•°èµ‹å€¼ä¸ºnull å¯ä»¥é”€æ¯é—­åŒ…ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚ä½•ç¡®å®š-this-æŒ‡å‘ï¼Ÿæ”¹å˜-this-æŒ‡å‘çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚ä½•ç¡®å®š-this-æŒ‡å‘ï¼Ÿæ”¹å˜-this-æŒ‡å‘çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚ä½•ç¡®å®š this æŒ‡å‘ï¼Ÿæ”¹å˜ this æŒ‡å‘çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚ä½•ç¡®å®š this æŒ‡å‘ï¼Ÿæ”¹å˜ this æŒ‡å‘çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ</h3><h4 id="this-æŒ‡å‘ï¼š"><a href="#this-æŒ‡å‘ï¼š" class="headerlink" title="this æŒ‡å‘ï¼š"></a>this æŒ‡å‘ï¼š</h4><pre><code class="css">1. å…¨å±€ä¸Šä¸‹æ–‡ï¼ˆå‡½æ•°å¤–ï¼‰
æ— è®ºæ˜¯å¦ä¸ºä¸¥æ ¼æ¨¡å¼ï¼Œå‡æŒ‡å‘å…¨å±€å¯¹è±¡ã€‚æ³¨æ„:ä¸¥æ ¼æ¨¡å¼ä¸‹å…¨å±€å¯¹è±¡ä¸ºundifined

2. å‡½æ•°ä¸Šä¸‹æ–‡ï¼ˆå‡½æ•°å†…ï¼‰
é»˜è®¤çš„ï¼ŒæŒ‡å‘å‡½æ•°çš„è°ƒç”¨å¯¹è±¡ï¼Œä¸”æ˜¯æœ€ç›´æ¥çš„è°ƒç”¨å¯¹è±¡ï¼š
ç®€å•è°ƒç”¨ï¼ŒæŒ‡å‘å…¨å±€å¯¹è±¡æ³¨æ„:ä¸¥æ ¼æ¨¡å¼ä¸‹å…¨å±€å¯¹è±¡ä¸ºundifinedï¼ŒæŸäº›æµè§ˆå™¨æœªå®ç°æ­¤æ ‡å‡†ä¹Ÿå¯èƒ½ä¼šæ˜¯window
</code></pre>
<h4 id="æ”¹å˜thisæŒ‡å‘çš„æ–¹å¼ï¼š"><a href="#æ”¹å˜thisæŒ‡å‘çš„æ–¹å¼ï¼š" class="headerlink" title="æ”¹å˜thisæŒ‡å‘çš„æ–¹å¼ï¼š"></a>æ”¹å˜thisæŒ‡å‘çš„æ–¹å¼ï¼š</h4><pre><code class="javascript">1. ç¬¬ä¸€ç§ï¼š newå…³é”®å­—æ”¹å˜thisæŒ‡å‘
//æ„é€ å‡½æ•°ç‰ˆthis
function Fn()&#123;
 this.user = &quot;ææŸ&quot;;
&#125;
var a = new Fn();
console.log(a.user); //ææŸ
/----------------------------------------/ 

2. ç¬¬äºŒç§ï¼š call()
// æŠŠbæ·»åŠ åˆ°ç¬¬ä¸€ä¸ªå‚æ•°çš„ç¯å¢ƒä¸­ï¼Œç®€å•æ¥è¯´ï¼Œthiså°±ä¼šæŒ‡å‘é‚£ä¸ªå¯¹è±¡
var a = &#123;
 user:&quot;ææŸ&quot;,
 fn:function()&#123;
 console.log(this.user); //ææŸ
 &#125;
&#125;
var b = a.fn;
b.call(a); //è‹¥ä¸ç”¨callï¼Œåˆ™b()æ‰§è¡ŒåthisæŒ‡çš„æ˜¯Windowå¯¹è±¡
/----------------------------------------/ 

3. ç¬¬ä¸‰ç§ï¼šapply()
// applyæ–¹æ³•å’Œcallæ–¹æ³•æœ‰äº›ç›¸ä¼¼ï¼Œå®ƒä¹Ÿå¯ä»¥æ”¹å˜thisçš„æŒ‡å‘ï¼Œä¹Ÿå¯ä»¥æœ‰å¤šä¸ªå‚æ•°ï¼Œä½†æ˜¯ä¸åŒçš„æ˜¯ï¼Œç¬¬äºŒä¸ªå‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªæ•°ç»„
var a = &#123;
 user:&quot;ææŸ&quot;,
 fn:function()&#123;
 console.log(this.user); //ææŸ
 &#125;
&#125;
var b = a.fn;
b.apply(a);
/----------------------------------------/ 

4. ç¬¬å››ç§ï¼šbind()
// bindæ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªä¿®æ”¹è¿‡åçš„å‡½æ•°,
// bindä¹Ÿå¯ä»¥æœ‰å¤šä¸ªå‚æ•°ï¼Œå¹¶ä¸”å‚æ•°å¯ä»¥æ‰§è¡Œçš„æ—¶å€™å†æ¬¡æ·»åŠ ï¼Œä½†æ˜¯è¦æ³¨æ„çš„æ˜¯ï¼Œå‚æ•°æ˜¯æŒ‰ç…§å½¢å‚çš„é¡ºåºè¿›è¡Œçš„ã€‚
var a = &#123;
 user:&quot;ææŸ&quot;,
 fn:function()&#123;
 console.log(this.user); //ææŸ
 &#125;
&#125;
var b = a.fn;
var c = b.bind(a);
c();
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ä»‹ç»ç®­å¤´å‡½æ•°çš„-this"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ä»‹ç»ç®­å¤´å‡½æ•°çš„-this" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ä»‹ç»ç®­å¤´å‡½æ•°çš„ this"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ä»‹ç»ç®­å¤´å‡½æ•°çš„ this</h3><p>ç”±äºç®­å¤´å‡½æ•°ä¸ç»‘å®šthisï¼Œ å®ƒä¼šæ•è·å…¶æ‰€åœ¨ï¼ˆå³å®šä¹‰çš„ä½ç½®ï¼‰ä¸Šä¸‹æ–‡çš„thiså€¼ï¼Œ ä½œä¸ºè‡ªå·±çš„thiså€¼</p>
<pre><code class="javascript">1. æ‰€ä»¥ call() / apply() / bind() æ–¹æ³•å¯¹äºç®­å¤´å‡½æ•°æ¥è¯´åªæ˜¯ä¼ å…¥å‚æ•°ï¼Œå¯¹å®ƒçš„ this æ¯«æ— å½±å“ã€‚
2. è€ƒè™‘åˆ° this æ˜¯è¯æ³•å±‚é¢ä¸Šçš„ï¼Œä¸¥æ ¼æ¨¡å¼ä¸­ä¸ this ç›¸å…³çš„è§„åˆ™éƒ½å°†è¢«å¿½ç•¥
</code></pre>
<p>ä½œä¸ºæ–¹æ³•çš„ç®­å¤´å‡½æ•°thisæŒ‡å‘å…¨å±€windowå¯¹è±¡ï¼Œè€Œæ™®é€šå‡½æ•°åˆ™æŒ‡å‘è°ƒç”¨å®ƒçš„å¯¹è±¡</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-è°ˆä¸€ä¸‹ä½ å¯¹åŸå‹é“¾çš„ç†è§£ï¼Œç”»ä¸€ä¸ªç»å…¸çš„åŸå‹é“¾å›¾ç¤º"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-è°ˆä¸€ä¸‹ä½ å¯¹åŸå‹é“¾çš„ç†è§£ï¼Œç”»ä¸€ä¸ªç»å…¸çš„åŸå‹é“¾å›¾ç¤º" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸  è°ˆä¸€ä¸‹ä½ å¯¹åŸå‹é“¾çš„ç†è§£ï¼Œç”»ä¸€ä¸ªç»å…¸çš„åŸå‹é“¾å›¾ç¤º"></a>â™¥ï¸â™¥ï¸â™¥ï¸  è°ˆä¸€ä¸‹ä½ å¯¹åŸå‹é“¾çš„ç†è§£ï¼Œç”»ä¸€ä¸ªç»å…¸çš„åŸå‹é“¾å›¾ç¤º</h3><p>[åŸå‹åŠåŸå‹é“¾]: 	â€œ<a href="https://segmentfault.com/a/1190000021232132">https://segmentfault.com/a/1190000021232132</a> â€œ</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ES5-x2F-ES6-çš„ç»§æ‰¿é™¤å†™æ³•ä»¥å¤–è¿˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ES5-x2F-ES6-çš„ç»§æ‰¿é™¤å†™æ³•ä»¥å¤–è¿˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸  ES5&#x2F;ES6 çš„ç»§æ‰¿é™¤å†™æ³•ä»¥å¤–è¿˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸  ES5&#x2F;ES6 çš„ç»§æ‰¿é™¤å†™æ³•ä»¥å¤–è¿˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><pre><code class="css">1. ES5 çš„ç»§æ‰¿å®è´¨ä¸Šæ˜¯å…ˆåˆ›å»ºå­ç±»çš„å®ä¾‹å¯¹è±¡ï¼Œç„¶åå†å°†çˆ¶ç±»çš„æ–¹æ³•æ·»åŠ  åˆ° this ä¸Š
(Parent.apply(this)).
2. ES6 çš„ç»§æ‰¿æœºåˆ¶å®Œå…¨ä¸åŒï¼Œå®è´¨ä¸Šæ˜¯å…ˆåˆ›å»ºçˆ¶ç±»çš„å®ä¾‹å¯¹è±¡ this(æ‰€ä»¥å¿… é¡»å…ˆè°ƒç”¨çˆ¶ç±»çš„super()æ–¹ æ³•)ï¼Œç„¶åå†ç”¨å­ç±»çš„æ„é€ å‡½æ•°ä¿®æ”¹ thisã€‚ 
3. ES5 çš„ç»§æ‰¿æ—¶é€šè¿‡åŸå‹æˆ–æ„é€ å‡½æ•°æœºåˆ¶æ¥å®ç°ã€‚
4. ES6 é€šè¿‡ class å…³é”®å­—å®šä¹‰ç±»ï¼Œé‡Œé¢æœ‰æ„é€ æ–¹æ³•ï¼Œç±»ä¹‹é—´é€šè¿‡ extends å…³ é”®å­—å®ç°ç»§æ‰¿ã€‚
5. å­ç±»å¿…é¡»åœ¨ constructor æ–¹æ³•ä¸­è°ƒç”¨ super æ–¹æ³•ï¼Œå¦åˆ™æ–°å»ºå®ä¾‹æŠ¥é”™ã€‚å›  ä¸ºå­ç±»æ²¡æœ‰è‡ªå·±çš„ this å¯¹è±¡ï¼Œè€Œæ˜¯ç»§æ‰¿äº†çˆ¶ç±»çš„ this å¯¹è±¡ï¼Œç„¶åå¯¹å…¶è¿›è¡ŒåŠ å·¥ã€‚ å¦‚æœä¸è°ƒç”¨ super æ–¹æ³•ï¼Œå­ç±»å¾—ä¸åˆ°this å¯¹è±¡ã€‚
6. æ³¨æ„ super å…³é”®å­—æŒ‡ä»£çˆ¶ç±»çš„å®ä¾‹ï¼Œå³çˆ¶ç±»çš„ this å¯¹è±¡ã€‚ æ³¨æ„:åœ¨å­ç±»æ„é€ å‡½æ•°ä¸­ï¼Œè°ƒç”¨ super åï¼Œæ‰å¯ä½¿ç”¨ thiså…³é”®å­—ï¼Œå¦åˆ™æŠ¥é”™
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-å¼‚æ­¥è§£å†³æ–¹æ¡ˆæœ‰å“ªäº›ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-å¼‚æ­¥è§£å†³æ–¹æ¡ˆæœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ å¼‚æ­¥è§£å†³æ–¹æ¡ˆæœ‰å“ªäº›ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ å¼‚æ­¥è§£å†³æ–¹æ¡ˆæœ‰å“ªäº›ï¼Ÿ</h3><pre><code class="javascript">//---------1.å›è°ƒå‡½æ•°callbackï¼š----------//
è¢«ä½œä¸ºå®å‚ä¼ å…¥å¦ä¸€å‡½æ•°ï¼Œå¹¶åœ¨è¯¥å¤–éƒ¨å‡½æ•°å†…è¢«è°ƒç”¨ï¼Œç”¨ä»¥æ¥å®ŒæˆæŸäº›ä»»åŠ¡çš„å‡½æ•°ã€‚å¦‚setTimeOutï¼Œajaxè¯·æ±‚ï¼ŒreadFileç­‰ã€‚
ä¾‹ï¼š
function greeting(name) &#123;
 alert(&#39;Hello &#39; + name);
&#125;
function processUserInput(callback) &#123;
 var name = prompt(&#39;è¯·è¾“å…¥ä½ çš„åå­—ã€‚&#39;);
 callback(name);
&#125;
processUserInput(greeting);
ä¼˜ç‚¹ï¼š
è§£å†³äº†å¼‚æ­¥çš„é—®é¢˜ã€‚
ç¼ºç‚¹ï¼š
å›è°ƒåœ°ç‹±ï¼šå¤šä¸ªå›è°ƒå‡½æ•°åµŒå¥—çš„æƒ…å†µï¼Œä½¿ä»£ç çœ‹èµ·æ¥å¾ˆæ··ä¹±ï¼Œä¸æ˜“äºç»´æŠ¤ã€‚

//---------2.äº‹ä»¶å‘å¸ƒè®¢é˜…ï¼š---------//
å½“ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆåï¼Œä¼šå‘å¸ƒä¸€ä¸ªäº‹ä»¶ï¼Œå½“è¿™ä¸ªäº‹ä»¶æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªâ€˜è®¢é˜…è€…â€™çš„æ—¶å€™ï¼Œä¼šæ¥æ”¶åˆ°è¿™ä¸ªäº‹ä»¶çš„å‘å¸ƒï¼Œæ‰§è¡Œç›¸åº”çš„ä»»åŠ¡ï¼Œè¿™ç§æ¨¡å¼å«å‘å¸ƒè®¢é˜…æ¨¡å¼ã€‚å¦‚nodeçš„events,domçš„äº‹ä»¶ç»‘å®š
ä¾‹ï¼š
document.body.addEventListener(&#39;click&#39;,function()&#123;
 alert(&#39;è®¢é˜…äº†&#39;);
&#125;,false);
document.body.click(); 
ä¼˜ç‚¹ï¼š
æ—¶é—´å¯¹è±¡ä¸Šçš„è§£è€¦ã€‚
ç¼ºç‚¹ï¼š
æ¶ˆè€—å†…å­˜ï¼Œè¿‡åº¦ä½¿ç”¨ä¼šä½¿ä»£ç éš¾ä»¥ç»´æŠ¤å’Œç†è§£

//---------3.Promiseï¼š---------//
Promiseæ˜¯es6æå‡ºçš„å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚
Promise å¯¹è±¡æœ‰ä¸‰ç§çŠ¶æ€ï¼š
pending: åˆå§‹çŠ¶æ€ï¼Œæ—¢ä¸æ˜¯æˆåŠŸï¼Œä¹Ÿä¸æ˜¯å¤±è´¥çŠ¶æ€ã€‚
fulfilled: æ„å‘³ç€æ“ä½œæˆåŠŸå®Œæˆã€‚
rejected: æ„å‘³ç€æ“ä½œå¤±è´¥ã€‚
promiseçš„çŠ¶æ€åªèƒ½ä»pendingå˜æˆfulfilledï¼Œå’Œpendingå˜æˆrejectedï¼ŒçŠ¶æ€ä¸€æ—¦æ”¹å˜ï¼Œå°±ä¸ä¼šå†æ”¹å˜ï¼Œä¸”åªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœæ‰èƒ½æ”¹å˜promiseçš„çŠ¶æ€ã€‚
ä¾‹ï¼š
let promise = new Promise(function (resolve, reject) &#123;
 fs.readFile(&#39;./1.txt&#39;, &#39;utf8&#39;, function (err, data) &#123;
 resolve(data)
 &#125;)
&#125;)
promise
 .then(function (data) &#123;
 console.log(data)
 &#125;)
ä¼˜ç‚¹ï¼š
è§£å†³äº†å›è°ƒåœ°ç‹±çš„é—®é¢˜ï¼Œå°†å¼‚æ­¥æ“ä½œä»¥åŒæ­¥æ“ä½œçš„æµç¨‹è¡¨è¾¾å‡ºæ¥ã€‚
ç¼ºç‚¹ï¼š
æ— æ³•å–æ¶ˆpromiseã€‚å¦‚æœä¸è®¾ç½®å›è°ƒå‡½æ•°ï¼ŒPromiseå†…éƒ¨æŠ›å‡ºçš„é”™è¯¯ï¼Œä¸ä¼šååº”åˆ°å¤–éƒ¨ã€‚å½“å¤„äºPendingçŠ¶æ€æ—¶ï¼Œæ— æ³•å¾—çŸ¥ç›®å‰è¿›å±•åˆ°å“ªä¸€ä¸ªé˜¶æ®µï¼ˆåˆšåˆšå¼€å§‹è¿˜æ˜¯å³å°†å®Œæˆï¼‰ã€‚å½“æ‰§è¡Œå¤šä¸ªPromiseæ—¶ï¼Œä¸€å †thençœ‹èµ·æ¥ä¹Ÿå¾ˆä¸å‹å¥½ã€‚

//---------4.Generatorï¼š---------//
Generatoræ˜¯es6æå‡ºçš„å¦ä¸€ç§å¼‚æ­¥ç¼–ç¨‹è§£å†³æ–¹æ¡ˆï¼Œéœ€è¦åœ¨å‡½æ•°åä¹‹å‰åŠ ä¸€ä¸ª*å·ï¼Œå‡½æ•°å†…éƒ¨ä½¿ç”¨yieldè¯­å¥ã€‚Generaotrå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªéå†å™¨ï¼Œå¯ä»¥è¿›è¡Œéå†æ“ä½œæ‰§è¡Œæ¯ä¸ªä¸­æ–­ç‚¹yieldã€‚
ä¾‹ï¼š
function * count() &#123;
 yield 1
 yield 2
 return 3
&#125;
var c = count()
console.log(c.next()) // &#123; value: 1, done: false &#125;
console.log(c.next()) // &#123; value: 2, done: false &#125;
console.log(c.next()) // &#123; value: 3, done: true &#125;
console.log(c.next()) // &#123; value: undefined, done: true &#125;
ä¼˜ç‚¹ï¼š
æ²¡æœ‰äº†Promiseçš„ä¸€å †then(),å¼‚æ­¥æ“ä½œæ›´åƒåŒæ­¥æ“ä½œï¼Œä»£ç æ›´åŠ æ¸…æ™°ã€‚
ç¼ºç‚¹ï¼š
ä¸èƒ½è‡ªåŠ¨æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼Œéœ€è¦å†™å¤šä¸ªnext()æ–¹æ³•ï¼Œéœ€è¦é…åˆä½¿ç”¨Thunkå‡½æ•°å’ŒCoæ¨¡å—æ‰èƒ½åšåˆ°è‡ªåŠ¨æ‰§
è¡Œã€‚

//---------5.async/awaitï¼š---------//
asyncæ˜¯es2017å¼•å…¥çš„å¼‚æ­¥æ“ä½œè§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥ç†è§£ä¸ºGeneratorçš„è¯­æ³•ç³–ï¼Œasyncç­‰åŒäºGeneratorå’Œcoæ¨¡å—çš„å°è£…ï¼Œasync å‡½æ•°è¿”å›ä¸€ä¸ª Promiseã€‚
ä¾‹ï¼š
async function read() &#123;
 let readA = await readFile(&#39;data/a.txt&#39;)
 let readB = await readFile(&#39;data/b.txt&#39;)
 let readC = await readFile(&#39;data/c.txt&#39;)
 console.log(readA)
 console.log(readB)
 console.log(readC)
&#125;
read()
ä¼˜ç‚¹ï¼š
å†…ç½®æ‰§è¡Œå™¨ï¼Œæ¯”Generatoræ“ä½œæ›´ç®€å•ã€‚async/awaitæ¯”*yieldè¯­ä¹‰æ›´æ¸…æ™°ã€‚è¿”å›å€¼æ˜¯Promiseå¯¹è±¡ï¼Œå¯ä»¥ç”¨thenæŒ‡å®šä¸‹ä¸€æ­¥æ“ä½œã€‚ä»£ç æ›´æ•´æ´ã€‚å¯ä»¥æ•è·åŒæ­¥å’Œå¼‚æ­¥çš„é”™è¯¯ã€‚
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-async-å’Œ-await-ã€promiseçš„åŒºåˆ«-å’Œ-è¿™ä¸¤ä¸ªçš„æœ¬è´¨"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-async-å’Œ-await-ã€promiseçš„åŒºåˆ«-å’Œ-è¿™ä¸¤ä¸ªçš„æœ¬è´¨" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ async å’Œ await ã€promiseçš„åŒºåˆ« å’Œ è¿™ä¸¤ä¸ªçš„æœ¬è´¨"></a>â™¥ï¸â™¥ï¸â™¥ï¸ async å’Œ await ã€promiseçš„åŒºåˆ« å’Œ è¿™ä¸¤ä¸ªçš„æœ¬è´¨</h3><h4 id="Promiseæ¦‚å¿µï¼š"><a href="#Promiseæ¦‚å¿µï¼š" class="headerlink" title="Promiseæ¦‚å¿µï¼š"></a>Promiseæ¦‚å¿µï¼š</h4><pre><code class="css">Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ï¼Œç®€å•åœ°è¯´ï¼ŒPromiseå¥½æ¯”å®¹å™¨ï¼Œé‡Œé¢å­˜æ”¾ç€ä¸€äº›æœªæ¥æ‰ä¼šæ‰§è¡Œå®Œæ¯•ï¼ˆå¼‚æ­¥ï¼‰çš„äº‹ä»¶çš„ç»“æœï¼Œè€Œè¿™äº›ç»“æœä¸€æ—¦ç”Ÿæˆæ˜¯æ— æ³•æ”¹å˜çš„
</code></pre>
<h4 id="async-awaitæ¦‚å¿µï¼š"><a href="#async-awaitæ¦‚å¿µï¼š" class="headerlink" title="async awaitæ¦‚å¿µï¼š"></a>async awaitæ¦‚å¿µï¼š</h4><pre><code class="css">async awaitä¹Ÿæ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œä»–éµå¾ªçš„æ˜¯Generator å‡½æ•°çš„è¯­æ³•ç³–ï¼Œä»–æ‹¥æœ‰å†…ç½®æ‰§è¡Œå™¨ï¼Œä¸éœ€è¦é¢å¤–çš„è°ƒç”¨ç›´æ¥ä¼šè‡ªåŠ¨æ‰§è¡Œå¹¶è¾“å‡ºç»“æœï¼Œå®ƒè¿”å›çš„æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ã€‚

ä¸¤è€…çš„åŒºåˆ«ï¼š
Promiseçš„å‡ºç°è§£å†³äº†ä¼ ç»Ÿcallbackå‡½æ•°å¯¼è‡´çš„â€œåœ°åŸŸå›è°ƒâ€é—®é¢˜ï¼Œä½†å®ƒçš„è¯­æ³•å¯¼è‡´äº†å®ƒå‘çºµå‘å‘å±•è¡Œæˆäº†ä¸€ä¸ªå›è°ƒé“¾ï¼Œé‡åˆ°å¤æ‚çš„ä¸šåŠ¡åœºæ™¯ï¼Œè¿™æ ·çš„è¯­æ³•æ˜¾ç„¶ä¹Ÿæ˜¯ä¸ç¾è§‚çš„ã€‚è€Œasync awaitä»£ç çœ‹èµ·æ¥ä¼šç®€æ´äº›ï¼Œä½¿å¾—å¼‚æ­¥ä»£ç çœ‹èµ·æ¥åƒåŒæ­¥ä»£ç ï¼Œawaitçš„æœ¬è´¨æ˜¯å¯ä»¥æä¾›ç­‰åŒäºâ€åŒæ­¥æ•ˆæœâ€œçš„ç­‰å¾…å¼‚æ­¥è¿”å›èƒ½åŠ›çš„è¯­æ³•ç³–ï¼Œåªæœ‰è¿™ä¸€å¥ä»£ç æ‰§è¡Œå®Œï¼Œæ‰ä¼šæ‰§è¡Œä¸‹ä¸€å¥ã€‚
async awaitä¸Promiseä¸€æ ·ï¼Œæ˜¯éé˜»å¡çš„ã€‚
async awaitæ˜¯åŸºäºPromiseå®ç°çš„ï¼Œå¯ä»¥è¯´æ˜¯æ”¹è‰¯ç‰ˆçš„Promiseï¼Œå®ƒä¸èƒ½ç”¨äºæ™®é€šçš„å›è°ƒå‡½æ•°ã€‚
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ç§»åŠ¨ç«¯ç‚¹å‡»äº‹ä»¶-300ms-å»¶è¿Ÿå¦‚ä½•å»æ‰ï¼ŸåŸå› æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ç§»åŠ¨ç«¯ç‚¹å‡»äº‹ä»¶-300ms-å»¶è¿Ÿå¦‚ä½•å»æ‰ï¼ŸåŸå› æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ç§»åŠ¨ç«¯ç‚¹å‡»äº‹ä»¶ 300ms å»¶è¿Ÿå¦‚ä½•å»æ‰ï¼ŸåŸå› æ˜¯ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ç§»åŠ¨ç«¯ç‚¹å‡»äº‹ä»¶ 300ms å»¶è¿Ÿå¦‚ä½•å»æ‰ï¼ŸåŸå› æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>300æ¯«ç§’åŸå› ï¼š</p>
<p>å½“ç”¨æˆ·ç¬¬ä¸€æ¬¡ç‚¹å‡»å±å¹•åï¼Œéœ€è¦åˆ¤æ–­ç”¨æˆ·æ˜¯å¦è¦è¿›è¡ŒåŒå‡»æ“ä½œï¼Œäºæ˜¯æ‰‹æœºä¼šç­‰å¾…300æ¯«ç§’ã€‚</p>
<p>è§£å†³æ–¹æ³•ï¼šFastClick.js</p>
<p>FastClick æ˜¯ FT Labs ä¸“é—¨ä¸ºè§£å†³ç§»åŠ¨ç«¯æµè§ˆå™¨ 300 æ¯«ç§’ç‚¹å‡»å»¶è¿Ÿé—®é¢˜æ‰€å¼€å‘çš„ä¸€ä¸ªè½»é‡çº§çš„åº“ã€‚</p>
<p>FastClickçš„å®ç°åŸç†æ˜¯åœ¨æ£€æµ‹åˆ°touchendäº‹ä»¶çš„æ—¶å€™ï¼Œä¼šé€šè¿‡DOMè‡ªå®šä¹‰äº‹ä»¶ç«‹å³å‡ºå‘æ¨¡æ‹Ÿä¸€ä¸ªclick</p>
<p>äº‹ä»¶ï¼Œå¹¶æŠŠæµè§ˆå™¨åœ¨300msä¹‹åçš„clickäº‹ä»¶é˜»æ­¢æ‰ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-Cookie-æœ‰å“ªäº›å±æ€§ï¼Ÿå…¶ä¸­HttpOnlyï¼ŒSecureï¼ŒExpireåˆ†åˆ«æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-Cookie-æœ‰å“ªäº›å±æ€§ï¼Ÿå…¶ä¸­HttpOnlyï¼ŒSecureï¼ŒExpireåˆ†åˆ«æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ Cookie æœ‰å“ªäº›å±æ€§ï¼Ÿå…¶ä¸­HttpOnlyï¼ŒSecureï¼ŒExpireåˆ†åˆ«æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ Cookie æœ‰å“ªäº›å±æ€§ï¼Ÿå…¶ä¸­HttpOnlyï¼ŒSecureï¼ŒExpireåˆ†åˆ«æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h3><table>
<thead>
<tr>
<th align="center">å±æ€§</th>
<th align="center">å±æ€§ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td align="center">name</td>
<td align="center">å­—æ®µä¸ºä¸€ä¸ªcookieçš„åç§°ã€‚</td>
</tr>
<tr>
<td align="center">value</td>
<td align="center">å­—æ®µä¸ºä¸€ä¸ªcookieçš„å€¼ã€‚</td>
</tr>
<tr>
<td align="center">domain</td>
<td align="center">å­—æ®µä¸ºå¯ä»¥è®¿é—®æ­¤cookieçš„åŸŸåã€‚</td>
</tr>
<tr>
<td align="center">path</td>
<td align="center">å­—æ®µä¸ºå¯ä»¥è®¿é—®æ­¤cookieçš„é¡µé¢è·¯å¾„ã€‚ æ¯”å¦‚domainæ˜¯abc.com,pathæ˜¯&#x2F;testï¼Œé‚£ä¹ˆåªæœ‰&#x2F;testè·¯å¾„ä¸‹çš„é¡µé¢å¯ä»¥è¯»å–æ­¤cookieã€‚</td>
</tr>
<tr>
<td align="center">expires&#x2F;Max-Age</td>
<td align="center">å­—æ®µä¸ºæ­¤cookieè¶…æ—¶æ—¶é—´ã€‚è‹¥è®¾ç½®å…¶å€¼ä¸ºä¸€ä¸ªæ—¶é—´ï¼Œé‚£ä¹ˆå½“åˆ°è¾¾æ­¤æ—¶é—´åï¼Œæ­¤cookieå¤±æ•ˆã€‚ä¸è®¾ç½®çš„è¯é»˜è®¤å€¼æ˜¯Sessionï¼Œæ„æ€æ˜¯cookieä¼šå’Œsessionä¸€èµ·å¤±æ•ˆã€‚å½“æµè§ˆå™¨å…³é—­(ä¸æ˜¯æµè§ˆå™¨æ ‡ç­¾é¡µï¼Œè€Œæ˜¯æ•´ä¸ªæµè§ˆå™¨) åï¼Œæ­¤cookieå¤±æ•ˆã€‚</td>
</tr>
<tr>
<td align="center">Size</td>
<td align="center">å­—æ®µ æ­¤cookieå¤§å°ã€‚</td>
</tr>
<tr>
<td align="center">http</td>
<td align="center">å­—æ®µ cookieçš„httponlyå±æ€§ã€‚è‹¥æ­¤å±æ€§ä¸ºtrueï¼Œåˆ™åªæœ‰åœ¨httpè¯·æ±‚å¤´ä¸­ä¼šå¸¦æœ‰æ­¤cookieçš„ä¿¡æ¯ï¼Œè€Œä¸èƒ½é€šè¿‡document.cookieæ¥è®¿é—®æ­¤cookieã€‚</td>
</tr>
<tr>
<td align="center">secure</td>
<td align="center">å­—æ®µ è®¾ç½®æ˜¯å¦åªèƒ½é€šè¿‡httpsæ¥ä¼ é€’æ­¤æ¡cookie</td>
</tr>
</tbody></table>
<pre><code class="css">1ã€secureå±æ€§
å½“è®¾ç½®ä¸ºtrueæ—¶ï¼Œè¡¨ç¤ºåˆ›å»ºçš„ Cookie ä¼šè¢«ä»¥å®‰å…¨çš„å½¢å¼å‘æœåŠ¡å™¨ä¼ è¾“ï¼Œä¹Ÿå°±æ˜¯åªèƒ½åœ¨ HTTPS è¿æ¥ä¸­è¢«æµè§ˆå™¨ä¼ é€’åˆ°æœåŠ¡å™¨ç«¯è¿›è¡Œä¼šè¯éªŒè¯ï¼Œå¦‚æœæ˜¯ HTTP è¿æ¥åˆ™ä¸ä¼šä¼ é€’è¯¥ä¿¡æ¯ï¼Œæ‰€ä»¥ä¸ä¼šè¢«çªƒå–åˆ°Cookie
çš„å…·ä½“å†…å®¹ã€‚
2ã€HttpOnlyå±æ€§
å¦‚æœåœ¨Cookieä¸­è®¾ç½®äº†&quot;HttpOnly&quot;å±æ€§ï¼Œé‚£ä¹ˆé€šè¿‡ç¨‹åº(JSè„šæœ¬ã€Appletç­‰)å°†æ— æ³•è¯»å–åˆ°Cookieä¿¡æ¯ï¼Œ
è¿™æ ·èƒ½æœ‰æ•ˆçš„é˜²æ­¢XSSæ”»å‡»ã€‚
3ã€Expireå±æ€§
è®¾ç½®Cookieçš„å¤±æ•ˆæ—¶é—´ï¼š
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-var-let-constçš„åŒºåˆ«"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-var-let-constçš„åŒºåˆ«" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ var let constçš„åŒºåˆ«"></a>â™¥ï¸â™¥ï¸â™¥ï¸ var let constçš„åŒºåˆ«</h3><ol>
<li><p>varå£°æ˜çš„å˜é‡ä¼šæŒ‚è½½åœ¨windowä¸Šï¼Œè€Œletå’Œconstå£°æ˜çš„å˜é‡ä¸ä¼š</p>
</li>
<li><p>varå£°æ˜å˜é‡å­˜åœ¨å˜é‡æå‡ï¼Œletå’Œconstä¸å­˜åœ¨å˜é‡æå‡</p>
</li>
<li><p>letå’Œconstå£°æ˜å½¢æˆå—ä½œç”¨åŸŸ</p>
</li>
<li><p>åŒä¸€ä½œç”¨åŸŸä¸‹letå’Œconstä¸èƒ½å£°æ˜åŒåå˜é‡ï¼Œè€Œvarå¯ä»¥</p>
</li>
<li><p>ä½¿ç”¨let&#x2F;constå£°æ˜çš„å˜é‡åœ¨å½“å‰ä½œç”¨åŸŸå­˜åœ¨æš‚å­˜æ­»åŒº</p>
</li>
<li><p>constä¸€æ—¦å£°æ˜å¿…é¡»èµ‹å€¼,ä¸èƒ½ä½¿ç”¨nullå ä½,å£°æ˜åä¸èƒ½å†ä¿®æ”¹,å¦‚æœå£°æ˜çš„æ˜¯å¤åˆç±»å‹æ•°æ®ï¼Œå¯ä»¥ä¿®æ”¹å…¶å±æ€§</p>
</li>
</ol>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-document-load-å’Œ-documen-readyçš„åŒºåˆ«"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-document-load-å’Œ-documen-readyçš„åŒºåˆ«" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ document load å’Œ documen readyçš„åŒºåˆ«"></a>â™¥ï¸â™¥ï¸â™¥ï¸ document load å’Œ documen readyçš„åŒºåˆ«</h3><p>DOMæ–‡æ¡£è§£æï¼š</p>
<pre><code class="css">è§£æhtmlç»“æ„
åŠ è½½è„šæœ¬å’Œæ ·å¼æ–‡ä»¶
è§£æå¹¶æ‰§è¡Œè„šæœ¬
æ„é€ htmlçš„DOMæ¨¡å‹ //ready
åŠ è½½å›¾ç‰‡ç­‰å¤–éƒ¨èµ„æºæ–‡ä»¶
é¡µé¢åŠ è½½å®Œæ¯• //load
</code></pre>
<p>document load:</p>
<pre><code class="css">loadæ˜¯å½“é¡µé¢æ‰€æœ‰èµ„æºå…¨éƒ¨åŠ è½½å®Œæˆåï¼ˆåŒ…æ‹¬DOMæ–‡æ¡£æ ‘ï¼Œcssæ–‡ä»¶ï¼Œjsæ–‡ä»¶ï¼Œå›¾ç‰‡èµ„æºç­‰ï¼‰ï¼Œæ‰§è¡Œä¸€ä¸ªå‡½æ•°ï¼Œloadæ–¹æ³•å°±æ˜¯onloadäº‹ä»¶ã€‚
</code></pre>
<p>documen ready:</p>
<pre><code class="css">æ„é€ htmlçš„DOMæ¨¡å‹åŠ è½½å®Œæ¯•åè§¦å‘
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚ä½•ç”¨-setTImeout-æ¥å®ç°-setIntervalï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚ä½•ç”¨-setTImeout-æ¥å®ç°-setIntervalï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚ä½•ç”¨ setTImeout æ¥å®ç° setIntervalï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚ä½•ç”¨ setTImeout æ¥å®ç° setIntervalï¼Ÿ</h3><h4 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨setTImeout-æ¥å®ç°-setIntervalï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨setTImeout-æ¥å®ç°-setIntervalï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨setTImeout æ¥å®ç° setIntervalï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨setTImeout æ¥å®ç° setIntervalï¼Ÿ</h4><p>1.ä¸å»å…³å¿ƒå›è°ƒå‡½æ•°æ˜¯å¦è¿˜åœ¨è¿è¡Œ</p>
<p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå‡½æ•°å¯èƒ½éœ€è¦æ¯”é—´éš”æ—¶é—´æ›´é•¿çš„æ—¶é—´å»å®Œæˆæ‰§è¡Œã€‚æ¯”å¦‚è¯´æ˜¯ç”¨setIntervalæ¯éš”5ç§’å¯¹è¿œç«¯</p>
<p>æœåŠ¡å™¨è¿›è¡Œè½®è¯¢ï¼Œç½‘ç»œå»¶è¿Ÿï¼ŒæœåŠ¡å™¨æ— å“åº”ä»¥åŠå…¶ä»–å› ç´ å°†ä¼šé˜»æ­¢è¯·æ±‚æŒ‰æ—¶æŒ‰æˆã€‚ç»“æœä¼šå¯¼è‡´è¿”å›ä¸€ä¸²</p>
<p>æ— å¿…è¦çš„æ’æˆé˜Ÿåˆ—è¯·æ±‚ã€‚</p>
<p>2.å¿½è§†é”™è¯¯</p>
<p>å› ä¸ºæŸäº›åŸå› ï¼ŒsetIntervalè°ƒç”¨çš„ä»£ç ä¸­ä¼šå‡ºç°ä¸€ä¸ªé”™è¯¯ï¼Œä½†æ˜¯ä»£ç å¹¶ä¸ä¼šä¸­æ­¢æ‰§è¡Œè€Œæ˜¯ç»§ç»­æ‰§è¡Œé”™è¯¯</p>
<p>çš„ä»£ç ã€‚</p>
<p>3.ç¼ºä¹çµæ´»æ€§</p>
<p>é™¤äº†å‰é¢æåˆ°çš„ç¼ºç‚¹ä¹‹å¤–ï¼Œæˆ‘éå¸¸å¸Œæœ›setIntervalæ–¹æ³•èƒ½æœ‰ä¸€ä¸ªè¡¨æ˜æ‰§è¡Œæ¬¡æ•°çš„å‚æ•°è€Œä¸æ˜¯æ— ä¼‘æ­¢çš„æ‰§</p>
<p>è¡Œä¸‹å»ã€‚</p>
<pre><code class="javascript">function interval(func, w, t)&#123;
 var interv = function()&#123;
 if(typeof t === &quot;undefined&quot; || t-- &gt; 0)&#123;
 setTimeout(interv, w);
 try&#123;
 func.call(null);
 &#125;
 catch(e)&#123;
 t = 0;
 throw e.toString();
 &#125;
 &#125;
 &#125;;
 setTimeout(interv, w);
&#125;;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚ä½•åˆ¤æ–­-user-å¯¹è±¡é‡Œæœ‰æ²¡æœ‰-a-è¿™ä¸ªå±æ€§ï¼Ÿå¦‚æœæŠŠuserå¯¹è±¡ä¸­æ‰€æœ‰çš„å±æ€§éƒ½è¾“å‡ºå‡ºæ¥ï¼Ÿ-var-user-x3D-â€˜aâ€™-â€˜19â€™-â€˜bâ€™-â€˜18â€™-â€˜câ€™-â€˜16â€™"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚ä½•åˆ¤æ–­-user-å¯¹è±¡é‡Œæœ‰æ²¡æœ‰-a-è¿™ä¸ªå±æ€§ï¼Ÿå¦‚æœæŠŠuserå¯¹è±¡ä¸­æ‰€æœ‰çš„å±æ€§éƒ½è¾“å‡ºå‡ºæ¥ï¼Ÿ-var-user-x3D-â€˜aâ€™-â€˜19â€™-â€˜bâ€™-â€˜18â€™-â€˜câ€™-â€˜16â€™" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚ä½•åˆ¤æ–­ user å¯¹è±¡é‡Œæœ‰æ²¡æœ‰ a è¿™ä¸ªå±æ€§ï¼Ÿå¦‚æœæŠŠuserå¯¹è±¡ä¸­æ‰€æœ‰çš„å±æ€§éƒ½è¾“å‡ºå‡ºæ¥ï¼Ÿ(var user &#x3D;{â€˜aâ€™: â€˜19â€™, â€˜bâ€™: â€˜18â€™, â€˜câ€™: â€˜16â€™})"></a>â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚ä½•åˆ¤æ–­ user å¯¹è±¡é‡Œæœ‰æ²¡æœ‰ a è¿™ä¸ªå±æ€§ï¼Ÿå¦‚æœæŠŠuserå¯¹è±¡ä¸­æ‰€æœ‰çš„å±æ€§éƒ½è¾“å‡ºå‡ºæ¥ï¼Ÿ(var user &#x3D;{â€˜aâ€™: â€˜19â€™, â€˜bâ€™: â€˜18â€™, â€˜câ€™: â€˜16â€™})</h3><pre><code class="css">(var user = &#123;&#39;a&#39;: &#39;19&#39;, &#39;b&#39;: &#39;18&#39;, &#39;c&#39;: &#39;16&#39;&#125;)
å¦‚ä½•åˆ¤æ–­ user å¯¹è±¡é‡Œæœ‰æ²¡æœ‰ a è¿™ä¸ªå±æ€§ï¼Ÿ

1.jså¯¹è±¡çš„Object.hasOwnProperty()æ–¹æ³•
è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œåˆ¤æ–­å¯¹è±¡æ˜¯å¦åŒ…å«ç‰¹å®šçš„è‡ªèº«ï¼ˆéç»§æ‰¿ï¼‰å±æ€§ã€‚
let obj = new Object();
obj.a = &quot;123&quot;;
console.log(obj.hasOwnProperty(&#39;a&#39;)) // true
console.log(obj.hasOwnProperty(&#39;b&#39;)) // false

2.æŠŠuserå¯¹è±¡ä¸­æ‰€æœ‰çš„å±æ€§éƒ½è¾“å‡ºå‡ºæ¥
for(item for user)&#123;
 console.log(item)
&#125;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-å®ç°ä¸€ä¸ªå‡½æ•°-add"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-å®ç°ä¸€ä¸ªå‡½æ•°-add" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ å®ç°ä¸€ä¸ªå‡½æ•° add()"></a>â™¥ï¸â™¥ï¸â™¥ï¸ å®ç°ä¸€ä¸ªå‡½æ•° add()</h3><pre><code class="javascript">function curry(func) &#123;

    return function curried(...args) &#123;
      if (args.length &gt;= func.length) &#123;
        return func.apply(this, args);
      &#125; else &#123;
        return function(...args2) &#123;
          return curried.apply(this, args.concat(args2));
        &#125;
      &#125;
    &#125;;
  
  &#125;

  function sum(a, b, c) &#123;
    return a + b + c;
  &#125;
  
  let curriedSum = curry(sum);
  
  console.log(curriedSum(1, 2, 3)); // 6ï¼Œä»ç„¶å¯ä»¥è¢«æ­£å¸¸è°ƒç”¨
  console.log( curriedSum(1)(2,3) ); // 6ï¼Œå¯¹ç¬¬ä¸€ä¸ªå‚æ•°çš„æŸ¯é‡ŒåŒ–
  console.log( curriedSum(1)(2)(3) ); // 6ï¼Œå…¨æŸ¯é‡ŒåŒ–
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚ä½•é¿å…å›è°ƒåœ°ç‹±ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚ä½•é¿å…å›è°ƒåœ°ç‹±ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚ä½•é¿å…å›è°ƒåœ°ç‹±ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚ä½•é¿å…å›è°ƒåœ°ç‹±ï¼Ÿ</h3><pre><code class="css">1. Promise å¯¹è±¡å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œæå‡ºçš„ã€‚å®ƒä¸æ˜¯æ–°çš„è¯­æ³•åŠŸèƒ½ï¼Œè€Œæ˜¯ä¸€ç§æ–°çš„å†™æ³•ï¼Œå…è®¸å°†
å›è°ƒå‡½æ•°çš„åµŒå¥—ï¼Œæ”¹æˆé“¾å¼è°ƒç”¨ã€‚
promiseåªæœ‰ä¸¤ä¸ªçŠ¶æ€resolveå’Œrejectï¼Œå½“å®ƒè§¦å‘ä»»ä½•ä¸€ä¸ªçŠ¶æ€åï¼Œå®ƒä¼šå°†å½“å‰çš„å€¼ç¼“å­˜èµ·æ¥ï¼Œå¹¶åœ¨æœ‰
å›è°ƒå‡½æ•°æ·»åŠ è¿›æ¥çš„æ—¶å€™å°è¯•è°ƒç”¨å›è°ƒå‡½æ•°ï¼Œå¦‚æœè¿™ä¸ªæ—¶å€™è¿˜æ²¡æœ‰è§¦å‘resolveæˆ–è€…rejectï¼Œé‚£ä¹ˆå›è°ƒå‡½
æ•°ä¼šè¢«ç¼“å­˜ï¼Œç­‰å¾…è°ƒç”¨ï¼Œå¦‚æœå·²ç»æœ‰äº†çŠ¶æ€(resolveæˆ–è€…reject)ï¼Œåˆ™ç«‹åˆ»è°ƒç”¨å›è°ƒå‡½æ•°ã€‚å¹¶ä¸”æ‰€æœ‰å›è°ƒå‡½
æ•°åœ¨æ‰§è¡Œåéƒ½ç«‹å³è¢«é”€æ¯ã€‚

2. ES6 co/yieldæ–¹æ¡ˆ
yield: Generator å‡½æ•°æ˜¯åç¨‹åœ¨ ES6 çš„å®ç°ï¼Œè€Œyieldæ˜¯ Generatorå…³é”®å­—ï¼Œ å¼‚æ­¥æ“ä½œéœ€è¦æš‚åœçš„
åœ°æ–¹ï¼Œéƒ½ç”¨yieldè¯­å¥æ³¨æ˜ã€‚
co: co æ¨¡å—æ˜¯è‘—åç¨‹åºå‘˜ TJ Holowaychuk äº 2013 å¹´ 6 æœˆå‘å¸ƒçš„ä¸€ä¸ªå°å·¥å…·ï¼Œç”¨äº Generator å‡½
æ•°çš„è‡ªåŠ¨æ‰§è¡Œã€‚

3. ES7 async/await æ–¹æ¡ˆ
async/awaitæ˜¯es7çš„æ–°æ ‡å‡†ï¼Œå¹¶ä¸”åœ¨node7.0ä¸­å·²ç»å¾—åˆ°æ”¯æŒã€‚
å®ƒå°±æ˜¯ Generator å‡½æ•°çš„è¯­æ³•ç³–ï¼Œasyncå‡½æ•°å°±æ˜¯å°† Generator å‡½æ•°çš„æ˜Ÿå·ï¼ˆ*ï¼‰æ›¿æ¢æˆasyncï¼Œ å°†yieldæ›¿æ¢æˆawaitï¼Œä»…æ­¤è€Œå·²ã€‚å¯ä»¥ç†è§£å®˜æ–¹å¯¹coå’ŒGenerator å°è£…æ–¹æ¡ˆã€‚
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ç®€è¿°åŒæ­¥å’Œå¼‚æ­¥çš„åŒºåˆ«"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ç®€è¿°åŒæ­¥å’Œå¼‚æ­¥çš„åŒºåˆ«" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ç®€è¿°åŒæ­¥å’Œå¼‚æ­¥çš„åŒºåˆ«"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ç®€è¿°åŒæ­¥å’Œå¼‚æ­¥çš„åŒºåˆ«</h3><h4 id="åŒæ­¥ï¼š"><a href="#åŒæ­¥ï¼š" class="headerlink" title="åŒæ­¥ï¼š"></a>åŒæ­¥ï¼š</h4><p>åŒæ­¥çš„æ€æƒ³æ˜¯ï¼šæ‰€æœ‰çš„æ“ä½œéƒ½åšå®Œï¼Œæ‰è¿”å›ç»™ç”¨æˆ·ã€‚è¿™æ ·ç”¨æˆ·åœ¨çº¿ç­‰å¾…çš„æ—¶é—´å¤ªé•¿ï¼Œç»™ç”¨æˆ·ä¸€ç§å¡æ­»äº†</p>
<p>çš„æ„Ÿè§‰ï¼ˆå°±æ˜¯ç³»ç»Ÿè¿ç§»ä¸­ï¼Œç‚¹å‡»äº†è¿ç§»ï¼Œç•Œé¢å°±ä¸åŠ¨äº†ï¼Œä½†æ˜¯ç¨‹åºè¿˜åœ¨æ‰§è¡Œï¼Œå¡æ­»äº†çš„æ„Ÿè§‰ï¼‰ã€‚è¿™ç§æƒ…</p>
<p>å†µä¸‹ï¼Œç”¨æˆ·ä¸èƒ½å…³é—­ç•Œé¢ï¼Œå¦‚æœå…³é—­äº†ï¼Œå³è¿ç§»ç¨‹åºå°±ä¸­æ–­äº†ã€‚</p>
<h4 id="å¼‚æ­¥ï¼š"><a href="#å¼‚æ­¥ï¼š" class="headerlink" title="å¼‚æ­¥ï¼š"></a>å¼‚æ­¥ï¼š</h4><p>å°†ç”¨æˆ·è¯·æ±‚æ”¾å…¥æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¹¶åé¦ˆç»™ç”¨æˆ·ï¼Œç³»ç»Ÿè¿ç§»ç¨‹åºå·²ç»å¯åŠ¨ï¼Œä½ å¯ä»¥å…³é—­æµè§ˆå™¨äº†ã€‚ç„¶åç¨‹åºå†</p>
<p>æ…¢æ…¢åœ°å»å†™å…¥æ•°æ®åº“å»ã€‚è¿™å°±æ˜¯å¼‚æ­¥ã€‚ä½†æ˜¯ç”¨æˆ·æ²¡æœ‰å¡æ­»çš„æ„Ÿè§‰ï¼Œä¼šå‘Šè¯‰ä½ ï¼Œä½ çš„è¯·æ±‚ç³»ç»Ÿå·²ç»å“åº”</p>
<p>äº†ã€‚ä½ å¯ä»¥å…³é—­ç•Œé¢äº†ã€‚</p>
<h4 id="åŒæ­¥å’Œå¼‚æ­¥æœ¬èº«æ˜¯ç›¸å¯¹çš„"><a href="#åŒæ­¥å’Œå¼‚æ­¥æœ¬èº«æ˜¯ç›¸å¯¹çš„" class="headerlink" title="åŒæ­¥å’Œå¼‚æ­¥æœ¬èº«æ˜¯ç›¸å¯¹çš„:"></a>åŒæ­¥å’Œå¼‚æ­¥æœ¬èº«æ˜¯ç›¸å¯¹çš„:</h4><p>åŒæ­¥å°±ç›¸å½“äºæ˜¯ å½“å®¢æˆ·ç«¯å‘é€è¯·æ±‚ç»™æœåŠ¡ç«¯ï¼Œåœ¨ç­‰å¾…æœåŠ¡ç«¯å“åº”çš„è¯·æ±‚æ—¶ï¼Œå®¢æˆ·ç«¯ä¸åšå…¶ä»–çš„äº‹æƒ…ã€‚å½“</p>
<p>æœåŠ¡ç«¯åšå®Œäº†æ‰è¿”å›åˆ°å®¢æˆ·ç«¯ã€‚è¿™æ ·çš„è¯å®¢æˆ·ç«¯éœ€è¦ä¸€ç›´ç­‰å¾…ã€‚ç”¨æˆ·ä½¿ç”¨èµ·æ¥ä¼šæœ‰ä¸å‹å¥½ã€‚</p>
<p>å¼‚æ­¥å°±æ˜¯ï¼Œå½“å®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡ç«¯è¯·æ±‚æ—¶ï¼Œåœ¨ç­‰å¾…æœåŠ¡ç«¯å“åº”çš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯å¯ä»¥åšå…¶ä»–çš„äº‹æƒ…ï¼Œè¿™æ ·</p>
<p>èŠ‚çº¦äº†æ—¶é—´ï¼Œæé«˜äº†æ•ˆç‡ã€‚</p>
<p>å­˜åœ¨å°±æœ‰å…¶é“ç† å¼‚æ­¥è™½ç„¶å¥½ ä½†æ˜¯æœ‰äº›é—®é¢˜æ˜¯è¦ç”¨åŒæ­¥ç”¨æ¥è§£å†³ï¼Œæ¯”å¦‚æœ‰äº›ä¸œè¥¿æˆ‘ä»¬éœ€è¦çš„æ˜¯æ‹¿åˆ°è¿”å›çš„</p>
<p>æ•°æ®åœ¨è¿›è¡Œæ“ä½œçš„ã€‚è¿™äº›æ˜¯å¼‚æ­¥æ‰€æ— æ³•è§£å†³çš„ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-jQuery-çš„äº‹ä»¶å§”æ‰˜æ–¹æ³•-onï¼Œliveï¼Œdelegateä¹‹é—´æœ‰åŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-jQuery-çš„äº‹ä»¶å§”æ‰˜æ–¹æ³•-onï¼Œliveï¼Œdelegateä¹‹é—´æœ‰åŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ jQuery çš„äº‹ä»¶å§”æ‰˜æ–¹æ³• onï¼Œliveï¼Œdelegateä¹‹é—´æœ‰åŒºåˆ«ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ jQuery çš„äº‹ä»¶å§”æ‰˜æ–¹æ³• onï¼Œliveï¼Œdelegateä¹‹é—´æœ‰åŒºåˆ«ï¼Ÿ</h3><pre><code class="css">live æŠŠäº‹ä»¶å§”æ‰˜äº¤ç»™äº†documentï¼ˆæ ¹èŠ‚ç‚¹ï¼‰ï¼Œdocument å‘ä¸‹å»å¯»æ‰¾ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼ˆï¼‰ï¼Œ ä¸ç”¨ç­‰å¾…
documentåŠ è½½ç»“æŸä¹Ÿå¯ä»¥ç”Ÿæ•ˆã€‚
delegateå¯æŒ‡å®šäº‹ä»¶å§”æ‰˜å¯¹è±¡ï¼Œç›¸æ¯”äºliveæ€§èƒ½æ›´ä¼˜ï¼Œç›´æ¥é”å®šæŒ‡å®šé€‰æ‹©å™¨ï¼›
onäº‹ä»¶å§”æ‰˜å¯¹è±¡é€‰å¡«ï¼Œå¦‚æœä¸å¡«ï¼Œå³ç»™å¯¹è±¡è‡ªèº«æ³¨å†Œäº‹ä»¶ï¼Œå¡«äº†ä½œç”¨å’Œdelegateä¸€è‡´ã€‚
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ç®€è¿°ä¸‹-Promise-å¯¹è±¡"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ç®€è¿°ä¸‹-Promise-å¯¹è±¡" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ç®€è¿°ä¸‹ Promise å¯¹è±¡"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ç®€è¿°ä¸‹ Promise å¯¹è±¡</h3><pre><code class="css">Promiseæ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆï¼ˆå›è°ƒå‡½æ•°å’Œäº‹ä»¶ï¼‰æ›´åˆç†æ›´å¼ºå¤§ã€‚
æ‰€è°“Promiseï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ (é€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œ)çš„ç»“
æœã€‚ä»è¯­æ³•ä¸Šè¯´ï¼ŒPromiseæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»å®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚
Promiseå¯¹è±¡æœ‰ä»¥ä¸‹2ä¸ªç‰¹ç‚¹ï¼š
1.å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ã€‚Promiseå¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼šPending(è¿›è¡Œä¸­)ã€
Resolved(å·²å®Œæˆ)å’ŒRejected(å·²å¤±è´¥)ã€‚åªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€ï¼Œä»»ä½•å…¶ä»–æ“
ä½œéƒ½æ— æ³•æ”¹å˜è¿™ä¸ªçŠ¶æ€ã€‚è¿™ä¹Ÿæ˜¯Promiseè¿™ä¸ªåå­—çš„ç”±æ¥ï¼Œå®ƒçš„è‹±è¯­æ„æ€å°±æ˜¯â€œæ‰¿è¯ºâ€ï¼Œè¡¨ç¤ºå…¶ä»–æ‰‹æ®µæ— æ³•
æ”¹å˜ã€‚
2.ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœã€‚Promiseå¯¹è±¡çš„çŠ¶æ€æ”¹å˜ï¼Œåªæœ‰ä¸¤ç§å¯
èƒ½ï¼šä»Pendingå˜ä¸ºResolvedï¼›ä»Pendingå˜ä¸ºRejectedã€‚åªè¦è¿™ä¸¤ç§æƒ…å†µå‘ç”Ÿï¼ŒçŠ¶æ€å°±å‡å›ºäº†ï¼Œä¸ä¼š
å†å˜äº†ï¼Œä¼šä¸€ç›´ä¿æŒè¿™ä¸ªç»“æœã€‚å°±ç®—æ”¹å˜å·²ç»å‘ç”Ÿäº†ï¼Œä½ å†å¯¹Promiseå¯¹è±¡ç”°é™å›è°ƒå‡½æ•°ï¼Œä¹Ÿä¼šç«‹å³å¾—
åˆ°è¿™ä¸ªç»“æœã€‚è¿™ä¸äº‹ä»¶(Event)å®Œå…¨ä¸åŒï¼Œäº‹ä»¶çš„ç‰¹ç‚¹æ˜¯ï¼Œå¦‚æœä½ é”™è¿‡äº†å®ƒï¼Œå†å»ç›‘å¬ï¼Œæ˜¯å¾—ä¸åˆ°ç»“æœ
çš„ã€‚
æœ‰äº†Promiseå¯¹è±¡ï¼Œå°±å¯ä»¥æŠŠå¼‚æ­¥æ“ä½œä»¥åŒæ­¥æ“ä½œçš„æµç¨‹è¡¨è¾¾å‡ºæ¥ï¼Œé¿å…äº†å±‚å±‚åµŒå¥—çš„å›è°ƒå‡½æ•°ã€‚æ­¤
å¤–ï¼ŒPromiseå¯¹è±¡æä¾›äº†ç»Ÿä¸€çš„æ¥å£ï¼Œä½¿å¾—æ§åˆ¶å¼‚æ­¥æ“ä½œæ›´åŠ å®¹æ˜“ã€‚
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-æ•°ç»„æ‰å¹³åŒ–ï¼Œä¸ç”¨-api"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-æ•°ç»„æ‰å¹³åŒ–ï¼Œä¸ç”¨-api" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ æ•°ç»„æ‰å¹³åŒ–ï¼Œä¸ç”¨ api"></a>â™¥ï¸â™¥ï¸â™¥ï¸ æ•°ç»„æ‰å¹³åŒ–ï¼Œä¸ç”¨ api</h3><pre><code class="javascript">function myFlat(arr)&#123;
    let res = [];
    for(let i=0; i&lt;arr.length; i++)&#123; 
    if(arr[i] instanceof Array)&#123;
    res = res.concat(myFlat(arr[i]));
    &#125;else &#123;
    res.push(arr[i]);
    &#125;
    &#125;
    return res;
   &#125;
   let arr = [1,[2,3,[4,5]]];
   console.log(myFlat(arr)) //[ 1, 2, 3, 4, 5 ]
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ç”¨-JavaScript-å®ç°è§‚å¯Ÿè€…æ¨¡å¼"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ç”¨-JavaScript-å®ç°è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ç”¨ JavaScript å®ç°è§‚å¯Ÿè€…æ¨¡å¼"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ç”¨ JavaScript å®ç°è§‚å¯Ÿè€…æ¨¡å¼</h3><pre><code class="javascript">function BusinessOne(name)&#123;
 this.name = name;
 //è®¢é˜…è€…çš„é›†åˆ
 this.subscribers = new Array();
&#125;
//è®¢é˜…è€…çš„å‘é€æ¶ˆæ¯çš„æ–¹æ³•(æ¨æ¨¡å¼)
BusinessOne.prototype.delive = function(news)&#123;
 var self = this;
 //ç»™æ¯ä¸€ä¸ªè®¢é˜…è€…å‘é€æ¶ˆæ¯
 this.subscribers.forEach(
 function(fn)&#123;
 //è°ƒç”¨æ¥å—è€…å¤„ç†ä¿¡æ¯çš„å‡½æ•°
 fn(news,self);
 &#125;
 )
&#125;
//æ‰©å±•å…¬å…±è®¢é˜…çš„å‡½æ•°,å’Œå–æ¶ˆè®¢é˜…çš„å‡½æ•°
Function.prototype.subscribe = function(publisher)&#123;
 var that = this;
 //some è®¿é—®æ•°ç»„åº¦iå‹å¹¶ä¸”ä»¥å‚æ•°çš„å½¢å¼ä¼ å›å›è°ƒå‡½æ•°ä¸­
 //åªè¦è‡³å°‘æœ‰ä¸€æ¬¡è¿”å›æ˜¯trueé‚£ä¹ˆsomeå°±æ˜¯true
 var alreadyExists = publisher.subscribers.some(
 function(el)&#123;
 //å¤„ç†ä¸èƒ½é‡å¤è®¢é˜…çš„åŠŸèƒ½
 if(el == that)&#123;
 return;
 &#125;
 &#125;
 );
 //æ²¡ç”¨è®¢é˜…ä½ å°±å¯ä»¥è®¢é˜…
 if(!alreadyExists)&#123;
 publisher.subscribers.push(that);
 &#125;
 return this;
&#125;
//å–æ¶ˆ
Function.prototype.unsubscribe = function(publisher)&#123;
 var that = this;
 publisher.subscribers = publisher.subscribers.filter(
 function(el)&#123;
 if(el !== that)&#123;
 return el;
 &#125;
 &#125;
 );
 return this;
&#125;;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-è°ˆè°ˆåƒåœ¾å›æ”¶æœºåˆ¶æ–¹æ³•ä»¥åŠå†…å­˜ç®¡ç†"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-è°ˆè°ˆåƒåœ¾å›æ”¶æœºåˆ¶æ–¹æ³•ä»¥åŠå†…å­˜ç®¡ç†" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ è°ˆè°ˆåƒåœ¾å›æ”¶æœºåˆ¶æ–¹æ³•ä»¥åŠå†…å­˜ç®¡ç†"></a>â™¥ï¸â™¥ï¸â™¥ï¸ è°ˆè°ˆåƒåœ¾å›æ”¶æœºåˆ¶æ–¹æ³•ä»¥åŠå†…å­˜ç®¡ç†</h3><h4 id="åƒåœ¾å›æ”¶æ–¹å¼"><a href="#åƒåœ¾å›æ”¶æ–¹å¼" class="headerlink" title="åƒåœ¾å›æ”¶æ–¹å¼"></a>åƒåœ¾å›æ”¶æ–¹å¼</h4><pre><code>â‘  æ ‡è®°æ¸…é™¤
å·¥ä½œåŸç†ï¼šæ˜¯å½“å˜é‡è¿›å…¥ç¯å¢ƒæ—¶ï¼Œå°†è¿™ä¸ªå˜é‡æ ‡è®°ä¸ºâ€œè¿›å…¥ç¯å¢ƒâ€ã€‚å½“å˜é‡ç¦»å¼€ç¯å¢ƒæ—¶ï¼Œåˆ™å°†å…¶æ ‡è®°ä¸ºâ€œç¦»
å¼€ç¯å¢ƒâ€ã€‚æ ‡è®°â€œç¦»å¼€ç¯å¢ƒâ€çš„å°±å›æ”¶å†…å­˜ã€‚

â‘¡ å¼•ç”¨è®¡æ•°
å·¥ä½œåŸç†ï¼šè·Ÿè¸ªè®°å½•æ¯ä¸ªå€¼è¢«å¼•ç”¨çš„æ¬¡æ•°ã€‚ä¸€æ—¦æ²¡æœ‰å¼•ç”¨ï¼Œå†…å­˜å°±ç›´æ¥é‡Šæ”¾äº†ã€‚
</code></pre>
<h4 id="å†…å­˜ç®¡ç†"><a href="#å†…å­˜ç®¡ç†" class="headerlink" title="å†…å­˜ç®¡ç†"></a>å†…å­˜ç®¡ç†</h4><p>ä»€ä¹ˆæ—¶å€™è§¦å‘åƒåœ¾å›æ”¶ï¼Ÿ</p>
<p>åƒåœ¾å›æ”¶å™¨å‘¨æœŸæ€§è¿è¡Œï¼Œå¦‚æœåˆ†é…çš„å†…å­˜éå¸¸å¤šï¼Œé‚£ä¹ˆå›æ”¶å·¥ä½œä¹Ÿä¼šå¾ˆè‰°å·¨ï¼Œç¡®å®šåƒåœ¾å›æ”¶æ—¶é—´é—´éš”å°±</p>
<p>å˜æˆäº†ä¸€ä¸ªå€¼å¾—æ€è€ƒçš„é—®é¢˜ã€‚</p>
<pre><code class="css">1ã€åˆç†çš„GCæ–¹æ¡ˆï¼š(1)ã€éå†æ‰€æœ‰å¯è®¿é—®çš„å¯¹è±¡; (2)ã€å›æ”¶å·²ä¸å¯è®¿é—®çš„å¯¹è±¡ã€‚

2ã€GCç¼ºé™·ï¼š (1)ã€åœæ­¢å“åº”å…¶ä»–æ“ä½œï¼›

3ã€GCä¼˜åŒ–ç­–ç•¥ï¼š (1)ã€åˆ†ä»£å›æ”¶ï¼ˆGeneration GCï¼‰;(2)ã€å¢é‡GC
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°å†…å­˜æ³„æ¼çš„é—®é¢˜éƒ½æœ‰å“ªäº›ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°å†…å­˜æ³„æ¼çš„é—®é¢˜éƒ½æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°å†…å­˜æ³„æ¼çš„é—®é¢˜éƒ½æœ‰å“ªäº›ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°å†…å­˜æ³„æ¼çš„é—®é¢˜éƒ½æœ‰å“ªäº›ï¼Ÿ</h3><ol>
<li>å½“é¡µé¢ä¸­å…ƒç´ è¢«ç§»é™¤æˆ–æ›¿æ¢æ—¶ï¼Œè‹¥å…ƒç´ ç»‘å®šçš„äº‹ä»¶ä»æ²¡è¢«ç§»é™¤ï¼Œåœ¨IEä¸­ä¸ä¼šä½œå‡ºæ°å½“å¤„ç†ï¼Œæ­¤æ—¶è¦</li>
</ol>
<p>å…ˆæ‰‹å·¥ç§»é™¤äº‹ä»¶ï¼Œä¸ç„¶ä¼šå­˜åœ¨å†…å­˜æ³„éœ²ã€‚</p>
<ol start="2">
<li>ç”±äºæ˜¯å‡½æ•°å†…å®šä¹‰å‡½æ•°ï¼Œå¹¶ä¸”å†…éƒ¨å‡½æ•°â€“äº‹ä»¶å›è°ƒçš„å¼•ç”¨å¤–æš´äº†ï¼Œå½¢æˆäº†é—­åŒ…ã€‚é—­åŒ…å¯ä»¥ç»´æŒå‡½æ•°</li>
</ol>
<p>å†…å±€éƒ¨å˜é‡ï¼Œä½¿å…¶å¾—ä¸åˆ°é‡Šæ”¾ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-è¯·ç¼–å†™è·å–å½“å‰çª—å£åœ°å€ä¸­æŸ¥è¯¢å‚æ•°nameçš„å€¼ï¼Œå½“å‰çª—å£åœ°å€ä¸ºï¼šhttps-foo-com-id-1-amp-name-tom"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-è¯·ç¼–å†™è·å–å½“å‰çª—å£åœ°å€ä¸­æŸ¥è¯¢å‚æ•°nameçš„å€¼ï¼Œå½“å‰çª—å£åœ°å€ä¸ºï¼šhttps-foo-com-id-1-amp-name-tom" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ è¯·ç¼–å†™è·å–å½“å‰çª—å£åœ°å€ä¸­æŸ¥è¯¢å‚æ•°nameçš„å€¼ï¼Œå½“å‰çª—å£åœ°å€ä¸ºï¼šhttps://foo.com/?id=1&amp;name=tom"></a>â™¥ï¸â™¥ï¸â™¥ï¸ è¯·ç¼–å†™è·å–å½“å‰çª—å£åœ°å€ä¸­æŸ¥è¯¢å‚æ•°nameçš„å€¼ï¼Œå½“å‰çª—å£åœ°å€ä¸ºï¼š<a href="https://foo.com/?id=1&amp;name=tom">https://foo.com/?id=1&amp;name=tom</a></h3><pre><code class="javascript">function GetQueryString(name)&#123;
 var reg = new RegExp(&quot;(^|&amp;)&quot;+ name +&quot;=([^&amp;]*)(&amp;|$)&quot;);
 var r = window.location.search.substr(1).match(reg);
 if(r!=null)
 return unescape(r[2]); 
 return null;
&#125;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-å·²çŸ¥aï¼Œbä¸¤ä¸ªæ„é€ å‡½æ•°ï¼Œç°åœ¨-let-c-x3D-new-a-ï¼Œå¦‚ä½•åœ¨cçš„å­˜å‚¨åœ°å€ä¸å˜çš„æƒ…å†µä¸‹ï¼Œæ”¹å˜cçš„ç»§æ‰¿ï¼ˆc-gt-a-è½¬ä¸º-c-gt-bï¼‰"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-å·²çŸ¥aï¼Œbä¸¤ä¸ªæ„é€ å‡½æ•°ï¼Œç°åœ¨-let-c-x3D-new-a-ï¼Œå¦‚ä½•åœ¨cçš„å­˜å‚¨åœ°å€ä¸å˜çš„æƒ…å†µä¸‹ï¼Œæ”¹å˜cçš„ç»§æ‰¿ï¼ˆc-gt-a-è½¬ä¸º-c-gt-bï¼‰" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ å·²çŸ¥aï¼Œbä¸¤ä¸ªæ„é€ å‡½æ•°ï¼Œç°åœ¨ let c &#x3D; new a()ï¼Œå¦‚ä½•åœ¨cçš„å­˜å‚¨åœ°å€ä¸å˜çš„æƒ…å†µä¸‹ï¼Œæ”¹å˜cçš„ç»§æ‰¿ï¼ˆc-&gt;a è½¬ä¸º c-&gt;bï¼‰"></a>â™¥ï¸â™¥ï¸â™¥ï¸ å·²çŸ¥aï¼Œbä¸¤ä¸ªæ„é€ å‡½æ•°ï¼Œç°åœ¨ let c &#x3D; new a()ï¼Œå¦‚ä½•åœ¨cçš„å­˜å‚¨åœ°å€ä¸å˜çš„æƒ…å†µä¸‹ï¼Œæ”¹å˜cçš„ç»§æ‰¿ï¼ˆc-&gt;a è½¬ä¸º c-&gt;bï¼‰</h3><p>æ”¹å˜åŸå‹é“¾ï¼šé€šè¿‡æ”¹å˜Cçš„prototypeä¸ºb,å®ç°å†…å­˜åœ°å€ä¸åŠ¨ï¼Œæ”¹å˜ç»§æ‰¿</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-æµè§ˆå™¨æœ‰å“ªäº›å…¼å®¹é—®é¢˜ï¼Œä½ å°è£…è¿‡ä»€ä¹ˆæ’ä»¶"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-æµè§ˆå™¨æœ‰å“ªäº›å…¼å®¹é—®é¢˜ï¼Œä½ å°è£…è¿‡ä»€ä¹ˆæ’ä»¶" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ æµè§ˆå™¨æœ‰å“ªäº›å…¼å®¹é—®é¢˜ï¼Œä½ å°è£…è¿‡ä»€ä¹ˆæ’ä»¶"></a>â™¥ï¸â™¥ï¸â™¥ï¸ æµè§ˆå™¨æœ‰å“ªäº›å…¼å®¹é—®é¢˜ï¼Œä½ å°è£…è¿‡ä»€ä¹ˆæ’ä»¶</h3><pre><code class="javascript">//1.æ»šåŠ¨æ¡åˆ°é¡¶ç«¯çš„è·ç¦»ï¼ˆæ»šåŠ¨é«˜åº¦ï¼‰
var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;

//2.æ»šåŠ¨æ¡åˆ°å·¦ç«¯çš„è·ç¦»
var scrollLeft = document.documentElement.scrollLeft || document.body.scrollLeft;

//3. IE9ä»¥ä¸‹byClassName
function byClassName(obj,className)&#123;
 //åˆ¤æ–­æ˜¯å¦æ”¯æŒbyClassName
 if(obj.getElementsByClassName)&#123;
 //æ”¯æŒ
 return obj.getElementsByClassName(className);
 &#125;else&#123;
 //ä¸æ”¯æŒ
 var eles = obj.getElementsByTagName(&#39;*&#39;); //è·å–æ‰€æœ‰çš„æ ‡ç­¾
 var arr = []; //ç©ºæ•°ç»„ï¼Œå‡†å¤‡æ”¾ç½®æ‰¾åˆ°çš„å¯¹è±¡
 //éå†æ‰€æœ‰çš„æ ‡ç­¾
 for(var i = 0,len = eles.length;i &lt; len;i ++)&#123;
 //æ‰¾å‡ºä¸æˆ‘æŒ‡å®šclassåç›¸åŒçš„å¯¹è±¡
 if(eles[i].className === className)&#123;
 arr.push(eles[i]); //å­˜å…¥æ•°ç»„
 &#125;
 &#125;
 return arr; //è¿”å›
 &#125;
&#125;

//4. è·å–éè¡Œå†…æ ·å¼å…¼å®¹ IE:currentStyle æ ‡å‡†ï¼šgetComputedStyle
function getStyle(obj,attr)&#123;
 return window.getComputedStyle ? getComputedStyle(obj,true)[attr] : obj.currentStyle[attr];
&#125;
//div.style.width = &#39;&#39;;è®¾ç½®æ ·å¼
//obj[&#39;å±æ€§&#39;]ï¼š å¯¹è±¡æ˜¯å˜é‡æ—¶ï¼Œå¿…é¡»ç”¨å¯¹è±¡[&#39;å±æ€§&#39;]è·å–ã€‚

//5. è·å–äº‹ä»¶å¯¹è±¡çš„å…¼å®¹
evt = evt || window.event

//6. è·å–é¼ æ ‡ç¼–ç å€¼çš„å…¼å®¹
function getButton(evt)&#123;
 var e = evt || window.event;
 if(evt)&#123;
 return e.button;
 &#125;else if(window.event)&#123;
 switch(e.button)&#123;
 case 1 : return 0;
 case 4 : return 1;
 case 2 : return 2;
 &#125;
 &#125;
&#125;

//7. è·å–é”®ç›˜æŒ‰é”®ç¼–ç å€¼çš„å…¼å®¹
var key = evt.keyCode || evt.charCode || evt.which;

//8. é˜»æ­¢äº‹ä»¶å†’æ³¡çš„å…¼å®¹
e.stopPropagation ? e.stopPropagation() : e.cancelBubble = true;

//9. é˜»æ­¢è¶…é“¾æ¥çš„é»˜è®¤è¡Œä¸ºçš„å…¼å®¹
evt.preventDefault ? evt.preventDefault() : evt.returnValue = false;

//10. æ·»åŠ äº‹ä»¶ç›‘å¬å™¨çš„å…¼å®¹
function addEventListener(obj,event,fn,boo)&#123;
 if(obj.addEventListener)&#123;
 obj.addEventListener(event,fn,boo);
 &#125;else if(obj.attachEvent)&#123;
 obj.attachEvent(&#39;on&#39; + event,fn);
 &#125;
&#125;

//11. ç§»é™¤äº‹ä»¶ç›‘å¬å™¨çš„å…¼å®¹
function removeEventListener(obj,event,fn,boo)&#123;
 if(obj.removeEventListener)&#123;
 obj.removeEventListener(event,fn,boo);
 &#125;else if(obj.detachEvent)&#123;
 obj.detachEvent(&#39;on&#39; + event,fn);
 &#125;
&#125;

//12. è·å–äº‹ä»¶æºçš„å…¼å®¹
var target = event.target || event.srcElement;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºæ•°ç»„ï¼Œå‡½æ•°"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºæ•°ç»„ï¼Œå‡½æ•°" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºæ•°ç»„ï¼Œå‡½æ•°"></a>â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºæ•°ç»„ï¼Œå‡½æ•°</h3><pre><code class="css">æ–¹æ³•ä¸€ï¼š instanceof:
var arr=[];
console.log(arr instanceof Array) //è¿”å›true

æ–¹æ³•äºŒï¼š constructor:
console.log(arr.constructor == Array); //è¿”å›true

æ–¹æ³•ä¸‰ï¼š Array.isArray()
console.log(Array.isArray(arr)); //è¿”å›true
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—å¯å˜ä¸ªæ•°å‚æ•°ï¼Œä¸”æ¯ä¸ªå‚æ•°å‡ä¸ºæ•°å­—ï¼Œè¿”å›å‚æ•°çš„æœ€å¤§å€¼ã€‚"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—å¯å˜ä¸ªæ•°å‚æ•°ï¼Œä¸”æ¯ä¸ªå‚æ•°å‡ä¸ºæ•°å­—ï¼Œè¿”å›å‚æ•°çš„æœ€å¤§å€¼ã€‚" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—å¯å˜ä¸ªæ•°å‚æ•°ï¼Œä¸”æ¯ä¸ªå‚æ•°å‡ä¸ºæ•°å­—ï¼Œè¿”å›å‚æ•°çš„æœ€å¤§å€¼ã€‚"></a>â™¥ï¸â™¥ï¸â™¥ï¸ å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—å¯å˜ä¸ªæ•°å‚æ•°ï¼Œä¸”æ¯ä¸ªå‚æ•°å‡ä¸ºæ•°å­—ï¼Œè¿”å›å‚æ•°çš„æœ€å¤§å€¼ã€‚</h3><pre><code class="javascript">function myMax()&#123;
 return Math.max(arguments)
&#125;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-è¯·å†™å‡º-ES6-Array-isArray"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-è¯·å†™å‡º-ES6-Array-isArray" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ è¯·å†™å‡º ES6 Array.isArray()"></a>â™¥ï¸â™¥ï¸â™¥ï¸ è¯·å†™å‡º ES6 Array.isArray()</h3><pre><code class="javascript">if (!Array.isArray)&#123;
 Array.isArray = function(arg)&#123;
 return Object.prototype.toString.call(arg) === &#39;[object Array]&#39;;
 &#125;;
&#125;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-å®ç°ä¸€ä¸ªå‡½æ•°-cloneï¼Œå¯ä»¥å¯¹-JavaScript-ä¸­çš„5ç§ä¸»è¦æ•°æ®ç±»å‹è¿›è¡Œå€¼å¤åˆ¶ã€‚"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-å®ç°ä¸€ä¸ªå‡½æ•°-cloneï¼Œå¯ä»¥å¯¹-JavaScript-ä¸­çš„5ç§ä¸»è¦æ•°æ®ç±»å‹è¿›è¡Œå€¼å¤åˆ¶ã€‚" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ å®ç°ä¸€ä¸ªå‡½æ•° cloneï¼Œå¯ä»¥å¯¹ JavaScript ä¸­çš„5ç§ä¸»è¦æ•°æ®ç±»å‹è¿›è¡Œå€¼å¤åˆ¶ã€‚"></a>â™¥ï¸â™¥ï¸â™¥ï¸ å®ç°ä¸€ä¸ªå‡½æ•° cloneï¼Œå¯ä»¥å¯¹ JavaScript ä¸­çš„5ç§ä¸»è¦æ•°æ®ç±»å‹è¿›è¡Œå€¼å¤åˆ¶ã€‚</h3><pre><code class="javascript">// æ–¹æ³•ä¸€ï¼š
Object.prototype.clone = function() &#123;
 var o = this.constructor === Array ? [] : &#123;&#125;;
 for (var e in this) &#123;
 o[e] = typeof this[e] === &quot;object&quot; ? this[e].clone() : this[e];
 &#125;
 return o;
&#125;;

//æ–¹æ³•äºŒï¼š
/**
 * å…‹éš†ä¸€ä¸ªå¯¹è±¡
 * @param Obj
 * @returns
 */
function clone(Obj) &#123;
 var buf;
 if (Obj instanceof Array) &#123;
 buf = []; //åˆ›å»ºä¸€ä¸ªç©ºçš„æ•°ç»„
 var i = Obj.length;
 while (i--) &#123;
 buf[i] = clone(Obj[i]);
 &#125;
 return buf;
 &#125; else if (Obj instanceof Object) &#123;
 buf = &#123;&#125;; //åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡
 for (var k in Obj) &#123;
 //ä¸ºè¿™ä¸ªå¯¹è±¡æ·»åŠ æ–°çš„å±æ€§
 buf[k] = clone(Obj[k]);
 &#125;
 return buf;
 &#125; else &#123;
 //æ™®é€šå˜é‡ç›´æ¥èµ‹å€¼
 return Obj;
 &#125;
&#125;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-å‡å¦‚Aé¡µé¢æˆ‘å®šä¹‰äº†ä¸€ä¸ªå®šæ—¶å™¨ï¼Œç„¶åè·³åˆ°Bé¡µé¢å¦‚æœè®©Aé¡µé¢çš„å®šæ—¶å™¨æš‚åœ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-å‡å¦‚Aé¡µé¢æˆ‘å®šä¹‰äº†ä¸€ä¸ªå®šæ—¶å™¨ï¼Œç„¶åè·³åˆ°Bé¡µé¢å¦‚æœè®©Aé¡µé¢çš„å®šæ—¶å™¨æš‚åœ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ å‡å¦‚Aé¡µé¢æˆ‘å®šä¹‰äº†ä¸€ä¸ªå®šæ—¶å™¨ï¼Œç„¶åè·³åˆ°Bé¡µé¢å¦‚æœè®©Aé¡µé¢çš„å®šæ—¶å™¨æš‚åœ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ å‡å¦‚Aé¡µé¢æˆ‘å®šä¹‰äº†ä¸€ä¸ªå®šæ—¶å™¨ï¼Œç„¶åè·³åˆ°Bé¡µé¢å¦‚æœè®©Aé¡µé¢çš„å®šæ—¶å™¨æš‚åœ</h3><pre><code class="javascript">æ–¹æ³•1ï¼šåœ¨beforeDestroy()ç­‰ç”Ÿå‘½å‘¨æœŸç»“æŸé˜¶æ®µå†…æ¸…é™¤å®šæ—¶å™¨ï¼š
beforeDestroy() &#123;
 clearInterval(this.timer);
 this.timer = null;
&#125;

æ–¹æ³•2ï¼šé€šè¿‡$onceè¿™ä¸ªäº‹ä»¶ä¾¦å¬å™¨å™¨åœ¨å®šä¹‰å®Œå®šæ—¶å™¨ä¹‹åçš„ä½ç½®æ¥æ¸…é™¤å®šæ—¶å™¨ã€‚
const timer = setInterval(() =&gt;&#123;
 // æŸäº›å®šæ—¶å™¨æ“ä½œ
&#125;, 500);
// é€šè¿‡$onceæ¥ç›‘å¬å®šæ—¶å™¨ï¼Œåœ¨beforeDestroyé’©å­å¯ä»¥è¢«æ¸…é™¤ã€‚
this.$once(&#39;hook:beforeDestroy&#39;, () =&gt; &#123;
 clearInterval(timer);
&#125;)
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-promiseçš„å®ç°åŸç†ï¼Œå¦‚æœæˆ‘ç°åœ¨å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œä½†æ˜¯æˆ‘åæ‚”äº†ï¼Œä¸æƒ³è®©æœåŠ¡å™¨è¿”å›æ•°æ®ï¼Œå»å®ç°ä¸€ä¸ªdelay"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-promiseçš„å®ç°åŸç†ï¼Œå¦‚æœæˆ‘ç°åœ¨å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œä½†æ˜¯æˆ‘åæ‚”äº†ï¼Œä¸æƒ³è®©æœåŠ¡å™¨è¿”å›æ•°æ®ï¼Œå»å®ç°ä¸€ä¸ªdelay" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ promiseçš„å®ç°åŸç†ï¼Œå¦‚æœæˆ‘ç°åœ¨å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œä½†æ˜¯æˆ‘åæ‚”äº†ï¼Œä¸æƒ³è®©æœåŠ¡å™¨è¿”å›æ•°æ®ï¼Œå»å®ç°ä¸€ä¸ªdelay"></a>â™¥ï¸â™¥ï¸â™¥ï¸ promiseçš„å®ç°åŸç†ï¼Œå¦‚æœæˆ‘ç°åœ¨å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œä½†æ˜¯æˆ‘åæ‚”äº†ï¼Œä¸æƒ³è®©æœåŠ¡å™¨è¿”å›æ•°æ®ï¼Œå»å®ç°ä¸€ä¸ªdelay</h3><h4 id="å–æ¶ˆç»“æŸPromiseçš„æ–¹æ³•ï¼Ÿ"><a href="#å–æ¶ˆç»“æŸPromiseçš„æ–¹æ³•ï¼Ÿ" class="headerlink" title="å–æ¶ˆç»“æŸPromiseçš„æ–¹æ³•ï¼Ÿ"></a>å–æ¶ˆç»“æŸPromiseçš„æ–¹æ³•ï¼Ÿ</h4><pre><code class="javascript">1. è¿”å›ä¸€ä¸ªpendingçŠ¶æ€çš„Promiseï¼ŒåŸPromiseé“¾ä¼šç»ˆæ­¢
Promise.resolve().then(() =&gt; &#123;
 console.log(&#39;ok1&#39;)
 return new Promise(()=&gt;&#123;&#125;) // è¿”å›â€œpendingâ€çŠ¶æ€çš„Promiseå¯¹è±¡
&#125;).then(() =&gt; &#123;
 // åç»­çš„å‡½æ•°ä¸ä¼šè¢«è°ƒç”¨
 console.log(&#39;ok2&#39;)
&#125;).catch(err =&gt; &#123;
 console.log(&#39;err-&gt;&#39;, err)
&#125;)

2. Promise.raceç«é€Ÿæ–¹æ³•
let p1 = new Promise((resolve, reject) =&gt; &#123;
 resolve(&#39;ok1&#39;)
&#125;)
let p2 = new Promise((resolve, reject) =&gt; &#123;
 setTimeout(() =&gt; &#123;resolve(&#39;ok2&#39;)&#125;, 10)
&#125;)
Promise.race([p2, p1]).then((result) =&gt; &#123;
 console.log(result) //ok1
&#125;).catch((error) =&gt; &#123;
 console.log(error)
&#125;)

3. å½“Promiseé“¾ä¸­æŠ›å‡ºé”™è¯¯æ—¶ï¼Œé”™è¯¯ä¿¡æ¯æ²¿ç€é“¾è·¯å‘åä¼ é€’ï¼Œç›´è‡³æ•è·
Promise.resolve().then(() =&gt; &#123;
 console.log(&#39;ok1&#39;)
 throw &#39;throw error1&#39;
&#125;).then(() =&gt; &#123;
 console.log(&#39;ok2&#39;)
&#125;, err =&gt; &#123; 
 // æ•è·é”™è¯¯
 console.log(&#39;err-&gt;&#39;, err)
&#125;).then(() =&gt; &#123; 
 // è¯¥å‡½æ•°å°†è¢«è°ƒç”¨
 console.log(&#39;ok3&#39;)
 throw &#39;throw error3&#39;
&#125;).then(() =&gt; &#123;
 // é”™è¯¯æ•è·å‰çš„å‡½æ•°ä¸ä¼šè¢«è°ƒç”¨
 console.log(&#39;ok4&#39;)
&#125;).catch(err =&gt; &#123;
 console.log(&#39;err-&gt;&#39;, err)
</code></pre>
<h4 id="Axioså¦‚ä½•å–æ¶ˆè¯·æ±‚ï¼Ÿ"><a href="#Axioså¦‚ä½•å–æ¶ˆè¯·æ±‚ï¼Ÿ" class="headerlink" title="Axioså¦‚ä½•å–æ¶ˆè¯·æ±‚ï¼Ÿ"></a>Axioså¦‚ä½•å–æ¶ˆè¯·æ±‚ï¼Ÿ</h4><pre><code class="javascript">//1.ç¬¬ä¸€ç§é€šè¿‡CancelToken.sourceå·¥å‚æ–¹æ³•åˆ›å»ºcancel token
var CancelToken = axios.CancelToken;
var source = CancelToken.source();
axios.get(&#39;/user/12345&#39;, &#123;
 cancelToken: source.token
&#125;).catch(function(thrown) &#123;
 if (axios.isCancel(thrown)) &#123;
 console.log(&#39;Request canceled&#39;, thrown.message);
 &#125; else &#123;
 // å¤„ç†é”™è¯¯
 &#125;
&#125;);
// å–æ¶ˆè¯·æ±‚ï¼ˆmessage å‚æ•°æ˜¯å¯é€‰çš„ï¼‰
source.cancel(&#39;Operation canceled by the user.&#39;);

//2.ç¬¬äºŒç§é€šè¿‡ä¼ é€’executorå‡½æ•°åˆ°CancelTokençš„æ„é€ å‡½æ•°æ¥åˆ›å»ºcancel token
var CancelToken = axios.CancelToken;
var cancel;
axios.get(&#39;/user/12345&#39;, &#123;
 cancelToken: new CancelToken(function executor(c) &#123;
 // executor å‡½æ•°æ¥æ”¶ä¸€ä¸ª cancel å‡½æ•°ä½œä¸ºå‚æ•°
 cancel = c;
 &#125;)
&#125;);
// å–æ¶ˆè¯·æ±‚
cancel();
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-CommonJS-å’Œ-RequireJS-çš„å®ç°åŸç†"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-CommonJS-å’Œ-RequireJS-çš„å®ç°åŸç†" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ CommonJS å’Œ RequireJS çš„å®ç°åŸç†"></a>â™¥ï¸â™¥ï¸â™¥ï¸ CommonJS å’Œ RequireJS çš„å®ç°åŸç†</h3><p>commonjsæ˜¯é€šè¿‡module.exportså¯¼å‡ºæ¨¡å—,ç”¨requireå¼•å…¥ä¸€ä¸ªæ¨¡å—ï¼ŒåŸç†ï¼šé—­åŒ…</p>
<p>requirejsæ˜¯é€šè¿‡defineå®šä¹‰å¯¼å‡ºæ¨¡å—ï¼Œç”¨requireå¼•å…¥æ¨¡å—ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸é¢å‘è¿‡ç¨‹ç¼–ç¨‹çš„åŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸é¢å‘è¿‡ç¨‹ç¼–ç¨‹çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸é¢å‘è¿‡ç¨‹ç¼–ç¨‹çš„åŒºåˆ«ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸é¢å‘è¿‡ç¨‹ç¼–ç¨‹çš„åŒºåˆ«ï¼Ÿ</h3><p>é¢å‘è¿‡ç¨‹çš„ç¨‹åºè®¾è®¡æŠŠè®¡ç®—æœºç¨‹åºè§†ä¸ºä¸€ç³»åˆ—çš„å‘½ä»¤é›†åˆï¼Œå³ä¸€ç»„å‡½æ•°çš„é¡ºåºæ‰§è¡Œã€‚ä¸ºäº†ç®€åŒ–ç¨‹åºè®¾</p>
<p>è®¡ï¼Œé¢å‘è¿‡ç¨‹æŠŠå‡½æ•°ç»§ç»­åˆ‡åˆ†ä¸ºå­å‡½æ•°ï¼Œå³æŠŠå¤§å—å‡½æ•°é€šè¿‡åˆ‡å‰²æˆå°å—å‡½æ•°æ¥é™ä½ç³»ç»Ÿçš„å¤æ‚åº¦ã€‚</p>
<p>è€Œé¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡æŠŠè®¡ç®—æœºç¨‹åºè§†ä¸ºä¸€ç»„å¯¹è±¡çš„é›†åˆï¼Œè€Œæ¯ä¸ªå¯¹è±¡éƒ½å¯ä»¥æ¥æ”¶å…¶ä»–å¯¹è±¡å‘è¿‡æ¥çš„æ¶ˆ</p>
<p>æ¯ï¼Œå¹¶å¤„ç†è¿™äº›æ¶ˆæ¯ï¼Œè®¡ç®—æœºç¨‹åºçš„æ‰§è¡Œå°±æ˜¯ä¸€ç³»åˆ—æ¶ˆæ¯åœ¨å„ä¸ªå¯¹è±¡ä¹‹é—´ä¼ é€’ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-eval-æ˜¯åšä»€ä¹ˆçš„ï¼Ÿæ€§èƒ½æ€ä¹ˆæ ·ï¼Ÿå®‰å…¨å¦‚ä½•ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-eval-æ˜¯åšä»€ä¹ˆçš„ï¼Ÿæ€§èƒ½æ€ä¹ˆæ ·ï¼Ÿå®‰å…¨å¦‚ä½•ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ eval æ˜¯åšä»€ä¹ˆçš„ï¼Ÿæ€§èƒ½æ€ä¹ˆæ ·ï¼Ÿå®‰å…¨å¦‚ä½•ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ eval æ˜¯åšä»€ä¹ˆçš„ï¼Ÿæ€§èƒ½æ€ä¹ˆæ ·ï¼Ÿå®‰å…¨å¦‚ä½•ï¼Ÿ</h3><p>å®ƒçš„åŠŸèƒ½æ˜¯æŠŠå¯¹åº”çš„å­—ç¬¦ä¸²è§£ææˆjsä»£ç å¹¶è¿è¡Œï¼Œ</p>
<p>åº”è¯¥é¿å…ä½¿ç”¨eval,å› ä¸ºä¸å®‰å…¨ï¼Œéå¸¸è€—æ€§èƒ½ï¼ˆ2æ¬¡ï¼Œä¸€æ¬¡è§£ææˆjsè¯­å¥ï¼Œä¸€æ¬¡æ‰§è¡Œï¼‰</p>
<p>â€¼ï¸æ³¨æ„ï¼šåœ¨é¡¹ç›®é‡Œå†™jsä»£ç çš„æ—¶å€™ï¼Œç¦æ­¢ä½¿ç”¨çš„ï¼Œå› ä¸ºæœ‰å®‰å…¨å› ç´ ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-æ•°æ®ç±»å‹ï¼ˆåˆ¤æ–­ï¼Œ-x3D-x3D-å’Œ-x3D-x3D-x3D-ï¼‰å †æ ˆã€å†…å­˜æ³„æ¼åŠåƒåœ¾å›æ”¶æœºåˆ¶"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-æ•°æ®ç±»å‹ï¼ˆåˆ¤æ–­ï¼Œ-x3D-x3D-å’Œ-x3D-x3D-x3D-ï¼‰å †æ ˆã€å†…å­˜æ³„æ¼åŠåƒåœ¾å›æ”¶æœºåˆ¶" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ æ•°æ®ç±»å‹ï¼ˆåˆ¤æ–­ï¼Œ&#x3D;&#x3D;å’Œ&#x3D;&#x3D;&#x3D;ï¼‰å †æ ˆã€å†…å­˜æ³„æ¼åŠåƒåœ¾å›æ”¶æœºåˆ¶"></a>â™¥ï¸â™¥ï¸â™¥ï¸ æ•°æ®ç±»å‹ï¼ˆåˆ¤æ–­ï¼Œ&#x3D;&#x3D;å’Œ&#x3D;&#x3D;&#x3D;ï¼‰å †æ ˆã€å†…å­˜æ³„æ¼åŠåƒåœ¾å›æ”¶æœºåˆ¶</h3><p>1ï¼Œ&#x3D;&#x3D; åˆ¤æ–­å€¼æ˜¯å¦ç›¸ç­‰ï¼› &#x3D;&#x3D;&#x3D; åˆ¤æ–­å€¼å’Œæ•°æ®ç±»å‹æ˜¯å¦ä¸¥æ ¼ç›¸ç­‰</p>
<p>2ï¼ŒJavascriptå †æ ˆå’Œåƒåœ¾å›æ”¶æœºåˆ¶</p>
<pre><code class="javascript">//å †æ ˆæº¢å‡º

å½“å‚¨å­˜çš„æ•°æ®å¯¼åˆ°æŸä¸€é™åˆ¶æ—¶å°±ä¼šé€ æˆå †æ ˆæº¢å‡º

//å†…å­˜æ³„æ¼

å½“ä¸æ–­å‘å †ä¸­å­˜å‚¨æ•°æ®ï¼Œè€Œä¸è¿›è¡Œæ¸…ç†ï¼Œè¿™å°±æ˜¯å†…å­˜æ³„æ¼

//åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆæ¸…é™¤å­¤å„¿æœºåˆ¶ï¼‰

è¯­è¨€å½“ä¸­ä¸€èˆ¬åˆ†ä¸¤ç§ï¼Œä¸€ç§æ˜¯è‡ªåŠ¨æ¸…ç†ï¼Œä¸€ç§æ˜¯æ‰‹åŠ¨æ¸…ç†ï¼ˆGCï¼‰ï¼Œjsä¸­åªæœ‰è‡ªåŠ¨æ¸…ç†

åƒåœ¾å›æ”¶æœºåˆ¶å°±æ˜¯å°†å¼•ç”¨å¯¹ä¸­çš„åœ°å€çš„å¯¹è±¡è®¾ç½®ä¸ºnullï¼Œå¹¶ä¸”å°†æ‰€æœ‰å¼•ç”¨è¯¥åœ°å€çš„å¯¹è±¡éƒ½è®¾ç½®ä¸ºnullï¼Œå¹¶ä¸”ç§»é™¤äº‹ä»¶ä¾¦å¬,ä¸ä¼šå³æ—¶æ¸…é™¤,åƒåœ¾å›æ”¶è½¦ä¼šæ ¹æ®å†…å­˜çš„æƒ…å†µåœ¨é€‚å½“çš„æ—¶å€™è¿›è¡Œæ¸…é™¤å †ä¸­çš„å¯¹è±¡ å†…å­˜åˆ°è¾¾ä¸€å®šç¨‹åº¦äº†æ‰ä¼šè¿›è¡Œå›æ”¶
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-swiper-æ’ä»¶ä»åå°è·å–æ•°æ®æ²¡é—®é¢˜ï¼Œcss-ä»£ç å•¥çš„ä¹Ÿæ²¡é—®é¢˜ï¼Œä½†æ˜¯å›¾ç‰‡ä¸åŠ¨ï¼Œåº”è¯¥æ€ä¹ˆè§£å†³ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-swiper-æ’ä»¶ä»åå°è·å–æ•°æ®æ²¡é—®é¢˜ï¼Œcss-ä»£ç å•¥çš„ä¹Ÿæ²¡é—®é¢˜ï¼Œä½†æ˜¯å›¾ç‰‡ä¸åŠ¨ï¼Œåº”è¯¥æ€ä¹ˆè§£å†³ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ swiper æ’ä»¶ä»åå°è·å–æ•°æ®æ²¡é—®é¢˜ï¼Œcss ä»£ç å•¥çš„ä¹Ÿæ²¡é—®é¢˜ï¼Œä½†æ˜¯å›¾ç‰‡ä¸åŠ¨ï¼Œåº”è¯¥æ€ä¹ˆè§£å†³ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ swiper æ’ä»¶ä»åå°è·å–æ•°æ®æ²¡é—®é¢˜ï¼Œcss ä»£ç å•¥çš„ä¹Ÿæ²¡é—®é¢˜ï¼Œä½†æ˜¯å›¾ç‰‡ä¸åŠ¨ï¼Œåº”è¯¥æ€ä¹ˆè§£å†³ï¼Ÿ</h3><p>ä¸»è¦åŸå› ï¼š</p>
<p>swiperæå‰åˆå§‹åŒ–äº†ï¼Œè€Œè¿™ä¸ªæ—¶å€™ï¼Œæ•°æ®è¿˜æ²¡æœ‰å®Œå…¨å‡ºæ¥ã€‚</p>
<p>è§£å†³æ–¹æ³•</p>
<p>ä»swiper å…¥æ‰‹ï¼Œåœ¨swiperä¸­å†™ observer:true&#x2F;observeParents:true</p>
<pre><code class="javascript"> let myswiper = new Swiper(&quot;.swiper-container&quot; , &#123;
 autoplay: true,
 loop: true,
 // observer ä¿®æ”¹swiperå­å…ƒç´ æ—¶è‡ªåŠ¨åˆå§‹åŒ–swiper
 observer:true,
 // observeParents åŒ…æ‹¬å½“å‰çˆ¶å…ƒç´ çš„swiperå‘ç”Ÿå˜æ›´æ—¶ä¹Ÿä¼šåˆå§‹åŒ–swiper
 observeParents:true,
 &#125;)
</code></pre>
<p>ä» Vue å…¥æ‰‹ï¼Œvueä¸­ä¸“é—¨æä¾›äº†æä¾›äº†ä¸€ä¸ªæ–¹æ³•nextTick() ç”¨äºè§£å†³domçš„å…ˆåæ‰§è¡Œé—®é¢˜ã€‚</p>
<pre><code class="javascript"> mounted()&#123;
 this.$nextTick(function()&#123;
 // ...æ“ä½œ
 let myswiper = new Swiper(&quot;.swiper-container&quot; , &#123;
 autoplay: true,
 loop: true
 &#125;)
 &#125;)
 &#125;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ES6-class-å…³é”®å­—åŸç†è·Ÿ-function-ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ES6-class-å…³é”®å­—åŸç†è·Ÿ-function-ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ES6 class å…³é”®å­—åŸç†è·Ÿ function ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ES6 class å…³é”®å­—åŸç†è·Ÿ function ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><pre><code class="css">function å¯ä»¥ç”¨call apply bind çš„æ–¹å¼ æ¥æ”¹å˜ä»–çš„æ‰§è¡Œä¸Šä¸‹æ–‡
ä½†æ˜¯class å´ä¸å¯ä»¥ class è™½ç„¶æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•° ä½†æ˜¯ å…¶å†…ï¼ˆbabelï¼‰éƒ¨åšäº†ä¸€å±‚ä»£ç† æ¥ç¦æ­¢äº†è¿™ç§
è¡Œä¸º

å…³äºæ„é€ å™¨constructor
 åœ¨functionå®šä¹‰çš„æ„é€ å‡½æ•°ä¸­ï¼Œå…¶prototype.constructorå±æ€§æŒ‡å‘æ„é€ å™¨è‡ªèº«
 åœ¨classå®šä¹‰çš„ç±»ä¸­ï¼Œconstructorå…¶å®ä¹Ÿç›¸å½“äºå®šä¹‰åœ¨prototypeå±æ€§ä¸Š

é‡å¤å®šä¹‰
 functionä¼šè¦†ç›–ä¹‹å‰å®šä¹‰çš„æ–¹æ³•
 classä¼šæŠ¥é”™

åŸå‹æˆ–è€…ç±»ä¸­æ–¹æ³•çš„æšä¸¾
 classä¸­å®šä¹‰çš„æ–¹æ³•ä¸å¯ç”¨Object.keys(Point.prototype)æšä¸¾åˆ°
 functionæ„é€ å™¨åŸå‹æ–¹æ³•å¯è¢«Object.keys(Point.prototype)æšä¸¾åˆ°ï¼Œé™¤è¿‡constructor
 æ‰€æœ‰åŸå‹æ–¹æ³•å±æ€§éƒ½å¯ç”¨Object.getOwnPropertyNames(Point.prototype)è®¿é—®åˆ°
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-iframe-è·¨åŸŸé—®é¢˜ï¼Œé¡µé¢ä¹‹é—´æ€ä¹ˆä¼ å€¼ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-iframe-è·¨åŸŸé—®é¢˜ï¼Œé¡µé¢ä¹‹é—´æ€ä¹ˆä¼ å€¼ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ iframe è·¨åŸŸé—®é¢˜ï¼Œé¡µé¢ä¹‹é—´æ€ä¹ˆä¼ å€¼ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ iframe è·¨åŸŸé—®é¢˜ï¼Œé¡µé¢ä¹‹é—´æ€ä¹ˆä¼ å€¼ï¼Ÿ</h3><p>ä¸€èˆ¬æœ‰ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆï¼Œä¸€ä¸ªæ˜¯å»ºç«‹ä¸€ä¸ªä»£ç†é¡µé¢ï¼Œé€šè¿‡ä»£ç†é¡µé¢ä¼ å€¼ï¼Œ</p>
<p>å¦ä¸€ä¸ªæ–¹æ³•æ˜¯é€šè¿‡H5çš„postMessageæ–¹æ³•ä¼ å€¼ï¼Œä»Šå¤©ç”¨çš„æ˜¯ç¬¬äºŒç§ã€‚</p>
<p>é¦–å…ˆï¼Œåœ¨çˆ¶é¡µé¢Aä¸­å»ºç«‹ä¸€ä¸ªiframeï¼Œå…¶ä¸­srcè¦å†™å¥½å­é¡µé¢Bçš„åœ°å€ï¼Œç„¶ååœ¨Aé¡µé¢ä¸­å†™å¦‚ä¸‹æ–¹æ³•ï¼š</p>
<pre><code class="javascript">var iframe = document.getElementById(&quot;onemap&quot;); var msg = &#123;loginName:&#39;arcgis&#39;,loginPassword:&#39;Esri1234&#39;&#125;; var childDomain = &quot;https://geoplat.training.com&quot;; iframe.contentWindow.postMessage(msg,childDomain);
</code></pre>
<p>è®°ä½ï¼ŒchildDomainä¸Açš„iframeçš„srcåœ°å€ä¸ä¸€æ ·ï¼ŒchildDomainæ˜¯åŸŸï¼Œè€Œsrcæ˜¯åŸŸä¸­çš„ä¸€ä¸ªé¡µé¢,msgæ˜¯ä¼ è¾“çš„ä¿¡æ¯ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡ã€‚</p>
<p>ä¸Šé¢çš„æ–¹æ³•ä¸€å®šè¦å†™åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œå¹¶é€šè¿‡ç‚¹å‡»äº‹ä»¶è°ƒç”¨ï¼Œå¦‚æœå¸Œæœ›iframeå¼€å§‹ä¸ºç©ºï¼Œç‚¹å‡»ååœ¨è®¾ç½®srcï¼Œå¯ä»¥åœ¨è®¾ç½®srcä¹‹åï¼Œé€šè¿‡setTimeoutè®¾ç½®ä¸€å®šæ—¶é—´ååœ¨ä¼ è¾“ä¿¡æ¯ã€‚</p>
<p>åœ¨å­é¡µé¢Bä¸­ï¼Œé€šè¿‡å¯¹windowæ·»åŠ äº‹ä»¶è·å–ä¼ è¾“è¿‡æ¥çš„ä¿¡æ¯ï¼š</p>
<pre><code class="javascript">window.addEventListener(&quot;message&quot;,function(obj)&#123; 
  var name = obj.data.loginName; 
  var password = obj.data.loginPassword; login.iframeChildLogin(name,password); &#125;,false);
</code></pre>
<p>è¿™æ ·å°±å®Œæˆäº†ä»ä¸åŒåŸŸçš„çˆ¶é¡µé¢å‘å­é¡µé¢ä¼ å€¼çš„è¿‡ç¨‹</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ç®€è¿°-commonJSã€AMD-å’Œ-CMD"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ç®€è¿°-commonJSã€AMD-å’Œ-CMD" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ç®€è¿° commonJSã€AMD å’Œ CMD"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ç®€è¿° commonJSã€AMD å’Œ CMD</h3><pre><code class="css">CommonJSå¯¼å‡ºæ¨¡å—çš„æ–¹æ³•æ˜¯exportsï¼Œå¯¼å…¥æ¨¡å—çš„æ˜¯requireï¼Œå…·ä½“è§„èŒƒå¦‚ä¸‹
1ï¼‰å¦‚æœä¸€ä¸ªJSæ–‡ä»¶ä¸­å­˜åœ¨exportsæˆ–requireï¼Œè¯¥JSæ–‡ä»¶æ˜¯ä¸€ä¸ªæ¨¡å—
2ï¼‰æ¨¡å—å†…çš„æ‰€æœ‰ä»£ç å‡ä¸ºéšè—ä»£ç ï¼ŒåŒ…æ‹¬å…¨å±€å˜é‡ã€å…¨å±€å‡½æ•°ï¼Œè¿™äº›å…¨å±€çš„å†…å®¹å‡ä¸åº”è¯¥å¯¹å…¨å±€å˜é‡é€ æˆä»»ä½•æ±¡æŸ“
3ï¼‰å¦‚æœä¸€ä¸ªæ¨¡å—éœ€è¦æš´éœ²ä¸€äº›APIæä¾›ç»™å¤–éƒ¨ä½¿ç”¨ï¼Œéœ€è¦é€šè¿‡exportså¯¼å‡ºï¼Œexportsæ˜¯ä¸€ä¸ªç©ºçš„å¯¹è±¡ï¼Œä½ å¯ä»¥ä¸ºè¯¥å¯¹è±¡æ·»åŠ ä»»ä½•éœ€è¦å¯¼å‡ºçš„å†…å®¹
4ï¼‰å¦‚æœä¸€ä¸ªæ¨¡å—éœ€è¦å¯¼å…¥å…¶ä»–æ¨¡å—ï¼Œé€šè¿‡requireå®ç°ï¼Œrequireæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¼ å…¥æ¨¡å—çš„è·¯å¾„å³å¯è¿”å›è¯¥æ¨¡å—å¯¼å‡ºçš„æ•´ä¸ªå†…å®¹

ã€æ³¨ã€‘CommonJSåªæ˜¯ä¸€ä¸ªè§„èŒƒï¼Œç›¸å½“äºå‘Šè¯‰ä½ æŒ‰ä»€ä¹ˆæ ‡å‡†åˆ¶é€ æ±½è½¦ï¼Œä½†æ˜¯å…·ä½“æ€ä¹ˆåˆ¶é€ è¿˜æ˜¯å¾—çœ‹ç”Ÿäº§å•†ã€‚å› æ­¤ï¼Œæœ‰äº†è§„èŒƒä»¥åï¼Œnodejså°±å»å®ç°æ¨¡å—åŒ–äº†

AMD
AMD æ˜¯ RequireJS åœ¨æ¨å¹¿è¿‡ç¨‹ä¸­å¯¹æ¨¡å—å®šä¹‰çš„è§„èŒƒåŒ–äº§å‡ºã€‚
AMD æ¨å´‡ä¾èµ–å‰ç½®ã€‚

CMD
CMD æ˜¯ SeaJS åœ¨æ¨å¹¿è¿‡ç¨‹ä¸­å¯¹æ¨¡å—å®šä¹‰çš„è§„èŒƒåŒ–äº§å‡ºã€‚
CMD æ¨å´‡ä¾èµ–å°±è¿‘
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-require-js-æºç çœ‹è¿‡å—ï¼Ÿæ€ä¹ˆåšåˆ°å¼‚æ­¥åŠ è½½çš„"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-require-js-æºç çœ‹è¿‡å—ï¼Ÿæ€ä¹ˆåšåˆ°å¼‚æ­¥åŠ è½½çš„" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ require.js æºç çœ‹è¿‡å—ï¼Ÿæ€ä¹ˆåšåˆ°å¼‚æ­¥åŠ è½½çš„"></a>â™¥ï¸â™¥ï¸â™¥ï¸ require.js æºç çœ‹è¿‡å—ï¼Ÿæ€ä¹ˆåšåˆ°å¼‚æ­¥åŠ è½½çš„</h3><pre><code class="javascript">/*
Creates the node for the load command. Only used in browser envs.
*/
req.createNode = function (config, moduleName, url) &#123;
var node = config.xhtml ?
 document.createElementNS(&#39;http://www.w3.org/1999/xhtml&#39;, &#39;html:script&#39;) :
document.createElement(&#39;script&#39;);
node.type = config.scriptType || &#39;text/javascript&#39;;
node.charset = &#39;utf-8&#39;;
node.async = true;
return node;
&#125;;
</code></pre>
<p>ã€€requirejs å¯¼å…¥æ¨¡å—çš„æ–¹å¼å®é™…å°±æ˜¯åˆ›å»ºè„šæœ¬æ ‡ç­¾ï¼Œä¸€åˆ‡çš„æ¨¡å—éƒ½éœ€è¦ç»è¿‡è¿™ä¸ªæ–¹æ³•åˆ›å»ºã€‚requirejsä½¿ç”¨ onload äº‹ä»¶æ¥å¤„ç†å›è°ƒå‡½æ•°ï¼š</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-0-1-0-2-ç­‰ä¸ç­‰äº-0-3ï¼Ÿè‡ªå·±å°è£…ä¸€ä¸ªè®©ä»–ä»¬ç›¸ç­‰çš„æ–¹æ³•"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-0-1-0-2-ç­‰ä¸ç­‰äº-0-3ï¼Ÿè‡ªå·±å°è£…ä¸€ä¸ªè®©ä»–ä»¬ç›¸ç­‰çš„æ–¹æ³•" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ 0.1+0.2 ç­‰ä¸ç­‰äº 0.3ï¼Ÿè‡ªå·±å°è£…ä¸€ä¸ªè®©ä»–ä»¬ç›¸ç­‰çš„æ–¹æ³•"></a>â™¥ï¸â™¥ï¸â™¥ï¸ 0.1+0.2 ç­‰ä¸ç­‰äº 0.3ï¼Ÿè‡ªå·±å°è£…ä¸€ä¸ªè®©ä»–ä»¬ç›¸ç­‰çš„æ–¹æ³•</h3><p>åœ¨æ­£å¸¸çš„æ•°å­¦é€»è¾‘æ€ç»´ä¸­ï¼Œ0.1+0.2&#x3D;0.3è¿™ä¸ªé€»è¾‘æ˜¯æ­£ç¡®çš„ï¼Œä½†æ˜¯åœ¨JavaScriptä¸­0.1+0.2ï¼&#x3D;&#x3D;0.3ï¼Œè¿™æ˜¯</p>
<p>ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè¿™ä¸ªé—®é¢˜ä¹Ÿä¼šå¶å°”è¢«ç”¨æ¥å½“åšé¢è¯•é¢˜æ¥è€ƒæŸ¥é¢è¯•è€…å¯¹JavaScriptçš„æ•°å€¼çš„ç†è§£ç¨‹åº¦ã€‚</p>
<p>åœ¨JavaScriptä¸­çš„äºŒè¿›åˆ¶çš„æµ®ç‚¹æ•°0.1å’Œ0.2å¹¶ä¸æ˜¯ååˆ†ç²¾ç¡®ï¼Œåœ¨ä»–ä»¬ç›¸åŠ çš„ç»“æœå¹¶éæ­£å¥½ç­‰äº0.3ï¼Œ</p>
<p>è€Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒæ¥è¿‘çš„æ•°å­— 0.30000000000000004 ï¼Œæ‰€ä»¥æ¡ä»¶åˆ¤æ–­ç»“æœä¸ºfalseã€‚</p>
<pre><code class="css">æ–¹æ³•1ï¼šè®¾ç½®ä¸€ä¸ªè¯¯å·®èŒƒå›´å€¼ï¼Œé€šå¸¸ç§°ä¸ºâ€æœºå™¨ç²¾åº¦â€œï¼Œè€Œå¯¹äºJavascriptæ¥è¯´ï¼Œè¿™ä¸ªå€¼é€šå¸¸æ˜¯2^-52,è€Œåœ¨
ES6ä¸­ï¼Œå·²ç»ä¸ºæˆ‘ä»¬æä¾›äº†è¿™æ ·ä¸€ä¸ªå±æ€§ï¼šNumber.EPSILONï¼Œè€Œè¿™ä¸ªå€¼æ­£ç­‰äº2^-52ã€‚è¿™ä¸ªå€¼éå¸¸éå¸¸
å°ï¼Œåœ¨åº•å±‚è®¡ç®—æœºå·²ç»å¸®æˆ‘ä»¬è¿ç®—å¥½ï¼Œå¹¶ä¸”æ— é™æ¥è¿‘0ï¼Œä½†ä¸ç­‰äº0,ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬åªè¦åˆ¤æ–­
(0.1+0.2)-0.3å°äºNumber.EPSILONï¼Œåœ¨è¿™ä¸ªè¯¯å·®çš„èŒƒå›´å†…å°±å¯ä»¥åˆ¤å®š0.1+0.2===0.3ä¸ºtrueã€‚
function numbersequal(a,b)&#123; 
 return Math.abs(a-b)&lt;Number.EPSILON;
&#125;

æ–¹æ³•2ï¼šè½¬ä¸ºæ•´æ•°è¿ç®—
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-è·¨åŸŸæ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›è§£å†³è·¨åŸŸçš„æ–¹æ³•å’Œæ–¹æ¡ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-è·¨åŸŸæ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›è§£å†³è·¨åŸŸçš„æ–¹æ³•å’Œæ–¹æ¡ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ è·¨åŸŸæ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›è§£å†³è·¨åŸŸçš„æ–¹æ³•å’Œæ–¹æ¡ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ è·¨åŸŸæ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›è§£å†³è·¨åŸŸçš„æ–¹æ³•å’Œæ–¹æ¡ˆï¼Ÿ</h3><h4 id="ä»€ä¹ˆæ˜¯è·¨åŸŸ"><a href="#ä»€ä¹ˆæ˜¯è·¨åŸŸ" class="headerlink" title="ä»€ä¹ˆæ˜¯è·¨åŸŸ?"></a>ä»€ä¹ˆæ˜¯è·¨åŸŸ?</h4><p>æ‰€è°“çš„åŒæºæ˜¯æŒ‡ï¼ŒåŸŸåã€åè®®ã€ç«¯å£å‡ä¸ºç›¸åŒã€‚<br>æ‰€è°“çš„è·¨åŸŸï¼Œä¸åŒçš„åŸŸåã€åè®®ã€ç«¯å£çš†ä¸ºä¸åŒåŸŸ<br>ä¸€ä¸ªåŸŸä¸å¦ä¸€ä¸ªåŸŸåã€åè®®æˆ–è€…ç«¯å£ä¸åŒçš„åŸŸçš„ä¹‹é—´è®¿é—®éƒ½å«è·¨åŸŸ</p>
<h4 id="è§£å†³è·¨åŸŸçš„æ–¹æ³•å’Œæ–¹æ¡ˆï¼š"><a href="#è§£å†³è·¨åŸŸçš„æ–¹æ³•å’Œæ–¹æ¡ˆï¼š" class="headerlink" title="è§£å†³è·¨åŸŸçš„æ–¹æ³•å’Œæ–¹æ¡ˆï¼š"></a>è§£å†³è·¨åŸŸçš„æ–¹æ³•å’Œæ–¹æ¡ˆï¼š</h4><pre><code class="css">1ï¼šé€šè¿‡æœåŠ¡ç«¯ä»£ç†è¯·æ±‚ã€‚å¦‚PHPï¼ŒæœåŠ¡ç«¯è¯­è¨€phpæ˜¯æ²¡æœ‰è·¨åŸŸé™åˆ¶çš„ï¼Œè®©æœåŠ¡å™¨å»åˆ«çš„ç½‘ç«™è·å–å†…å®¹ç„¶
åè¿”å›ç»™é¡µé¢ã€‚

2ï¼šç¬¬äºŒç§ï¼šjsonpè·¨åŸŸ
 1. jsonpè·¨åŸŸå°±æ˜¯åˆ©ç”¨scriptæ ‡ç­¾çš„è·¨åŸŸèƒ½åŠ›è¯·æ±‚èµ„æº
 2. jsonpä¸ajaxæ²¡æœ‰åŠæ¯›é’±å…³ç³»ï¼ï¼
 3. æµè§ˆå™¨çš„åŒæºç­–ç•¥é™åˆ¶äº†jsçš„è·¨åŸŸèƒ½åŠ›ï¼Œä½†æ²¡æœ‰é™åˆ¶link img iframe script çš„è·¨åŸŸè¡Œä¸º
 å®ç°æ–¹å¼ï¼š
 1. åˆ©ç”¨jsåˆ›å»ºä¸€ä¸ªscriptæ ‡ç­¾ï¼ŒæŠŠjsonçš„urlèµ‹ç»™scriptçš„scrå±æ€§ï¼Œ
 2. æŠŠè¿™ä¸ªscriptæ’å…¥åˆ°é¡µé¢é‡Œï¼Œè®©æµè§ˆå™¨å»è·¨åŸŸè·å–èµ„æº
 3. JSå…ˆå£°æ˜å¥½å›è°ƒå‡½æ•°ï¼Œæ’å…¥é¡µé¢åä¼šä»£ä¸ºæ‰§è¡Œè¯¥å‡½æ•°ï¼Œå¹¶ä¸”ä¼ å…¥jsonå¯¹è±¡ä¸ºå…¶å‚æ•°ã€‚
 æ³¨æ„ï¼š
 1. jsonpåªé’ˆå¯¹getè¯·æ±‚
 2. scriptæ ‡ç­¾åŠ è½½å›æ¥çš„èµ„æºä¼šè¢«å½“æˆjsåœ¨å…¨å±€æ‰§è¡Œ

3ï¼šCORS è·¨åŸŸèµ„æºå…±äº«(xhr2)
 CORSæ˜¯ä¸€ä¸ªW3Cæ ‡å‡†ï¼Œå…¨ç§°æ˜¯&quot;è·¨åŸŸèµ„æºå…±äº«&quot;ï¼ˆCross-origin resource sharingï¼‰
 å®ƒå…è®¸æµè§ˆå™¨å‘è·¨æºæœåŠ¡å™¨ï¼Œå‘å‡ºXMLHttpRequestè¯·æ±‚ï¼Œä»è€Œå…‹æœäº†AJAXåªèƒ½åŒæºä½¿ç”¨çš„é™åˆ¶
 æ•´ä¸ªCORSé€šä¿¡è¿‡ç¨‹ï¼Œéƒ½æ˜¯æµè§ˆå™¨è‡ªåŠ¨å®Œæˆï¼Œä¸éœ€è¦ç”¨æˆ·å‚ä¸
 å¯¹äºå¼€å‘è€…æ¥è¯´ï¼ŒCORSé€šä¿¡ä¸åŒæºçš„AJAXé€šä¿¡æ²¡æœ‰å·®åˆ«ï¼Œä»£ç å®Œå…¨ä¸€æ ·
 å®ç°CORSé€šä¿¡çš„å…³é”®æ˜¯æœåŠ¡å™¨ï¼Œåªè¦æœåŠ¡å™¨å®ç°äº†CORSæ¥å£ï¼Œå°±å¯ä»¥è·¨æºé€šä¿¡

4ï¼šnginxä»£ç†è·¨åŸŸ
 é€šè¿‡nginxæœåŠ¡å™¨è½¬å‘è·¨åŸŸè¯·æ±‚ï¼Œè¾¾åˆ°è·¨åŸŸçš„ç›®çš„
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼Ÿä»€ä¹ˆçš„å£°æ˜å¼ç¼–ç¨‹ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼Ÿä»€ä¹ˆçš„å£°æ˜å¼ç¼–ç¨‹ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼Ÿä»€ä¹ˆçš„å£°æ˜å¼ç¼–ç¨‹ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼Ÿä»€ä¹ˆçš„å£°æ˜å¼ç¼–ç¨‹ï¼Ÿ</h3><h4 id="å‡½æ•°å¼ç¼–ç¨‹ï¼š"><a href="#å‡½æ•°å¼ç¼–ç¨‹ï¼š" class="headerlink" title="å‡½æ•°å¼ç¼–ç¨‹ï¼š"></a>å‡½æ•°å¼ç¼–ç¨‹ï¼š</h4><p>å‡½æ•°å¼ç¼–ç¨‹å’Œå£°æ˜å¼ç¼–ç¨‹æ˜¯æœ‰æ‰€å…³è”çš„ï¼Œå› ä¸ºä»–ä»¬æ€æƒ³æ˜¯ä¸€è‡´çš„ï¼šå³åªå…³æ³¨åšä»€ä¹ˆè€Œä¸æ˜¯æ€ä¹ˆåšã€‚ä½†å‡½æ•°å¼ç¼–ç¨‹ä¸ä»…ä»…å±€é™äºå£°æ˜å¼ç¼–ç¨‹ã€‚</p>
<p>å‡½æ•°å¼ç¼–ç¨‹æœ€é‡è¦çš„ç‰¹ç‚¹æ˜¯â€œå‡½æ•°ç¬¬ä¸€ä½â€ï¼Œå³å‡½æ•°å¯ä»¥å‡ºç°åœ¨ä»»ä½•åœ°æ–¹ï¼Œæ¯”å¦‚ä½ å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°ï¼Œä¸ä»…å¦‚æ­¤ä½ è¿˜å¯ä»¥å°†å‡½æ•°ä½œä¸ºè¿”å›å€¼ã€‚</p>
<h4 id="å£°æ˜å¼ç¼–ç¨‹ï¼š"><a href="#å£°æ˜å¼ç¼–ç¨‹ï¼š" class="headerlink" title="å£°æ˜å¼ç¼–ç¨‹ï¼š"></a>å£°æ˜å¼ç¼–ç¨‹ï¼š</h4><p>å£°æ˜å¼ç¼–ç¨‹æ˜¯ä»¥æ•°æ®ç»“æ„çš„å½¢å¼æ¥è¡¨è¾¾ç¨‹åºæ‰§è¡Œçš„é€»è¾‘ã€‚å®ƒçš„ä¸»è¦æ€æƒ³æ˜¯å‘Šè¯‰è®¡ç®—æœºåº”è¯¥åšä»€ä¹ˆï¼Œä½†ä¸æŒ‡å®šå…·ä½“è¦æ€ä¹ˆåšã€‚</p>
<p>SQL è¯­å¥å°±æ˜¯æœ€æ˜æ˜¾çš„ä¸€ç§å£°æ˜å¼ç¼–ç¨‹çš„ä¾‹å­ï¼Œä¾‹å¦‚ï¼š</p>
<p>SELECT * FROM collection WHERE num &gt; 5</p>
<p>é™¤äº† SQLï¼Œç½‘é¡µç¼–ç¨‹ä¸­ç”¨åˆ°çš„ HTML å’Œ CSS ä¹Ÿéƒ½å±äºå£°æ˜å¼ç¼–ç¨‹ã€‚</p>
<p>ç‰¹ç‚¹ï¼š</p>
<p>1ï¼šæ˜¯å®ƒä¸éœ€è¦åˆ›å»ºå˜é‡ç”¨æ¥å­˜å‚¨æ•°æ®ã€‚</p>
<p>2ï¼šä¸åŒ…å«å¾ªç¯æ§åˆ¶çš„ä»£ç å¦‚ forï¼Œ whileã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-super-æ˜¯å¦å¿…é¡»æ‰§è¡Œï¼Ÿä¸æ‰§è¡Œæ€ä¹ˆè®©å®ƒä¸æŠ¥é”™ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-super-æ˜¯å¦å¿…é¡»æ‰§è¡Œï¼Ÿä¸æ‰§è¡Œæ€ä¹ˆè®©å®ƒä¸æŠ¥é”™ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ super() æ˜¯å¦å¿…é¡»æ‰§è¡Œï¼Ÿä¸æ‰§è¡Œæ€ä¹ˆè®©å®ƒä¸æŠ¥é”™ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ super() æ˜¯å¦å¿…é¡»æ‰§è¡Œï¼Ÿä¸æ‰§è¡Œæ€ä¹ˆè®©å®ƒä¸æŠ¥é”™ï¼Ÿ</h3><p>éå¿…é¡»ï¼Œ</p>
<p>åœ¨ JavaScript ä¸­ï¼Œsuper æŒ‡çš„æ˜¯çˆ¶ç±»çš„æ„é€ å‡½æ•°</p>
<p>å¦‚æœæƒ³åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨thisï¼Œä½ å¿…é¡»é¦–å…ˆè°ƒç”¨superã€‚ å…ˆè®©çˆ¶ç±»åšå®Œè‡ªå·±çš„äº‹ä¸æ‰§è¡Œæ— æ³•ä½¿ç”¨this.</p>
<p> ä¸æŠ¥é”™çš„æ–¹æ³•ï¼š</p>
<p> 1ï¼šä¸ä½¿ç”¨this</p>
<p> 2ï¼šæ‰‹åŠ¨ä¿®æ­£this</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-eventloop-æ¸²æŸ“åœ¨å“ªä¸€æ­¥ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-eventloop-æ¸²æŸ“åœ¨å“ªä¸€æ­¥ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ eventloop æ¸²æŸ“åœ¨å“ªä¸€æ­¥ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ eventloop æ¸²æŸ“åœ¨å“ªä¸€æ­¥ï¼Ÿ</h3><pre><code class="css">ä»»åŠ¡é˜Ÿåˆ—
æ‰€æœ‰çš„ä»»åŠ¡å¯ä»¥åˆ†ä¸ºåŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡ï¼ŒåŒæ­¥ä»»åŠ¡ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ç«‹å³æ‰§è¡Œçš„ä»»åŠ¡ï¼ŒåŒæ­¥ä»»åŠ¡ä¸€èˆ¬ä¼šç›´æ¥è¿›å…¥åˆ°ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œï¼›è€Œå¼‚æ­¥ä»»åŠ¡ï¼Œå°±æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ä»»åŠ¡ï¼Œæ¯”å¦‚ajaxç½‘ç»œè¯·æ±‚ï¼ŒsetTimeout å®šæ—¶å‡½æ•°ç­‰éƒ½å±äºå¼‚æ­¥ä»»åŠ¡ï¼Œå¼‚æ­¥ä»»åŠ¡ä¼šé€šè¿‡ä»»åŠ¡é˜Ÿåˆ—( Event Queue )çš„æœºåˆ¶æ¥è¿›è¡Œåè°ƒã€‚

åŒæ­¥å’Œå¼‚æ­¥ä»»åŠ¡åˆ†åˆ«è¿›å…¥ä¸åŒçš„æ‰§è¡Œç¯å¢ƒï¼ŒåŒæ­¥çš„è¿›å…¥ä¸»çº¿ç¨‹ï¼Œå³ä¸»æ‰§è¡Œæ ˆï¼Œå¼‚æ­¥çš„è¿›å…¥ Event Queueã€‚ä¸»çº¿ç¨‹å†…çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¸ºç©ºï¼Œä¼šå» Event Queue è¯»å–å¯¹åº”çš„ä»»åŠ¡ï¼Œæ¨å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚ ä¸Šè¿°è¿‡ç¨‹çš„ä¸æ–­é‡å¤å°±æ˜¯æˆ‘ä»¬è¯´çš„ Event Loop (äº‹ä»¶å¾ªç¯)ã€‚

åœ¨äº‹ä»¶å¾ªç¯ä¸­ï¼Œæ¯è¿›è¡Œä¸€æ¬¡å¾ªç¯æ“ä½œç§°ä¸ºtickï¼Œé€šè¿‡é˜…è¯»è§„èŒƒå¯çŸ¥ï¼Œæ¯ä¸€æ¬¡ tick çš„ä»»åŠ¡å¤„ç†æ¨¡å‹æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œå…¶å…³é”®çš„æ­¥éª¤å¯ä»¥æ€»ç»“å¦‚ä¸‹ï¼š
åœ¨æ­¤æ¬¡ tick ä¸­é€‰æ‹©æœ€å…ˆè¿›å…¥é˜Ÿåˆ—çš„ä»»åŠ¡( oldest task )ï¼Œå¦‚æœæœ‰åˆ™æ‰§è¡Œ(ä¸€æ¬¡)æ£€æŸ¥æ˜¯å¦å­˜åœ¨ Microtasks ï¼Œå¦‚æœå­˜åœ¨åˆ™ä¸åœåœ°æ‰§è¡Œï¼Œç›´è‡³æ¸…ç©ºMicrotask Queueæ›´æ–° render
ä¸»çº¿ç¨‹é‡å¤æ‰§è¡Œä¸Šè¿°æ­¥éª¤
</code></pre>
<p>é‚£ä¹ˆï¼Œä»€ä¹ˆæ˜¯ microtasks ?è§„èŒƒä¸­è§„å®šï¼Œtaskåˆ†ä¸ºä¸¤å¤§ç±», åˆ†åˆ«æ˜¯ Macro Task ï¼ˆå®ä»»åŠ¡ï¼‰å’Œ Micro Task</p>
<p>ï¼ˆå¾®ä»»åŠ¡ï¼‰, å¹¶ä¸”æ¯ä¸ªå®ä»»åŠ¡ç»“æŸå, éƒ½è¦æ¸…ç©ºæ‰€æœ‰çš„å¾®ä»»åŠ¡,è¿™é‡Œçš„ Macro Taskä¹Ÿæ˜¯æˆ‘ä»¬å¸¸è¯´çš„ task ã€‚</p>
<table>
<thead>
<tr>
<th align="center">ç±»å‹</th>
<th align="center">ä¾‹å­</th>
</tr>
</thead>
<tbody><tr>
<td align="center">(macro)task</td>
<td align="center">script( æ•´ä½“ä»£ç )ã€setTimeoutã€setIntervalã€I&#x2F;Oã€UI äº¤äº’äº‹ä»¶ã€setImmediate(Node.js ç¯å¢ƒ)</td>
</tr>
<tr>
<td align="center">microtask</td>
<td align="center">Promiseã€MutaionObserverã€process.nextTick(Node.js ç¯å¢ƒ)</td>
</tr>
</tbody></table>
<pre><code class="css">æ•´ä½“ script ä½œä¸ºç¬¬ä¸€ä¸ªå®ä»»åŠ¡è¿›å…¥ä¸»çº¿ç¨‹ï¼Œé‡åˆ° console.logï¼Œè¾“å‡º script start
é‡åˆ° setTimeoutï¼Œå…¶å›è°ƒå‡½æ•°è¢«åˆ†å‘åˆ°å®ä»»åŠ¡ Event Queue ä¸­
é‡åˆ° Promiseï¼Œå…¶ thenå‡½æ•°è¢«åˆ†åˆ°åˆ°å¾®ä»»åŠ¡ Event Queue ä¸­,è®°ä¸º then1ï¼Œä¹‹ååˆé‡åˆ°äº† then å‡½æ•°ï¼Œ
å°†å…¶åˆ†åˆ°å¾®ä»»åŠ¡ Event Queue ä¸­ï¼Œè®°ä¸º then2
é‡åˆ° console.logï¼Œè¾“å‡º script end
è‡³æ­¤ï¼ŒEvent Queue ä¸­å­˜åœ¨ä¸‰ä¸ªä»»åŠ¡ï¼Œå¦‚ä¸‹è¡¨ï¼š
å®ä»»åŠ¡ å¾®ä»»åŠ¡
setTimeout then1
then2
æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œé¦–å…ˆæ‰§è¡Œthen1ï¼Œè¾“å‡º promise1, ç„¶åæ‰§è¡Œ then2ï¼Œè¾“å‡º promise2ï¼Œè¿™æ ·å°±æ¸…ç©ºäº†
æ‰€æœ‰å¾®ä»»åŠ¡
æ­¤æ—¶ï¼Œæ‰€æœ‰çš„mircotaskæ‰§è¡Œå®Œæ¯•ï¼Œæœ¬è½®äº‹ä»¶å¾ªç¯ç»“æŸï¼ŒUI å¼€å§‹ renderï¼Œå½“ UI render å®Œæ¯•ï¼Œå¼€å§‹
ä¸‹ä¸€è½®äº‹ä»¶å¾ªç¯.
æ‰§è¡Œ setTimeout ä»»åŠ¡ï¼Œè¾“å‡º setTimeout, è‡³æ­¤ï¼Œè¾“å‡ºçš„é¡ºåºæ˜¯ï¼šscript start, script end,
promise1, promise2, setTimeout
</code></pre>
<p>UIæ¸²æŸ“</p>
<p>æ ¹æ®HTML Standardï¼Œä¸€è½®äº‹ä»¶å¾ªç¯æ‰§è¡Œç»“æŸä¹‹åï¼Œä¸‹è½®äº‹ä»¶å¾ªç¯æ‰§è¡Œä¹‹å‰å¼€å§‹è¿›è¡Œ UI renderã€‚å³ï¼šmacro-taskä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œæ¥ç€æ‰§è¡Œå®Œæ‰€æœ‰çš„micro-taskä»»åŠ¡åï¼Œæ­¤æ—¶æœ¬è½®å¾ªç¯ç»“æŸï¼Œå¼€å§‹æ‰§è¡ŒUIrenderã€‚UI renderå®Œæ¯•ä¹‹åæ¥ç€ä¸‹ä¸€è½®å¾ªç¯ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ç®€è¿°callã€applyã€bindï¼Œcall-å’Œ-applyå“ªä¸ªæ€§èƒ½æ›´å¥½ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ç®€è¿°callã€applyã€bindï¼Œcall-å’Œ-applyå“ªä¸ªæ€§èƒ½æ›´å¥½ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ç®€è¿°callã€applyã€bindï¼Œcall å’Œ applyå“ªä¸ªæ€§èƒ½æ›´å¥½ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ç®€è¿°callã€applyã€bindï¼Œcall å’Œ applyå“ªä¸ªæ€§èƒ½æ›´å¥½ï¼Ÿ</h3><h4 id="1ã€call"><a href="#1ã€call" class="headerlink" title="1ã€call()"></a>1ã€call()</h4><pre><code class="css">call() æ–¹æ³•è°ƒç”¨ä¸€ä¸ªå‡½æ•°, å…¶å…·æœ‰ä¸€ä¸ªæŒ‡å®šçš„ thiså€¼å’Œåˆ†åˆ«åœ°æä¾›çš„å‚æ•°(å‚æ•°çš„åˆ—è¡¨)ã€‚ ç¬¬ä¸€ä¸ªå‚æ•°ï¼šåœ¨
fun å‡½æ•°è¿è¡Œæ—¶æŒ‡å®šçš„ this å€¼;å¦‚æœæŒ‡å®šäº† null æˆ–è€… undefined åˆ™å†…éƒ¨ this æŒ‡å‘ windowï¼Œåé¢çš„å‚
æ•°ï¼šæŒ‡å®šçš„å‚æ•°åˆ—è¡¨
var fn = function(arg1, arg2) &#123; 
&#125;;
fn.call(this, arg1, arg2);
var numbers = [5, 458 , 120 , -215 ]; 
var maxInNumbers = Math.max.call(Math,5, 458 , 120 , -215); //è·å–æ•°ç»„ä¸­çš„æœ€å¤§å€¼458
</code></pre>
<h4 id="2ã€apply"><a href="#2ã€apply" class="headerlink" title="2ã€apply()"></a>2ã€apply()</h4><pre><code class="css">apply()æ–¹æ³•è°ƒç”¨ä¸€ä¸ªå‡½æ•°, å…¶å…·æœ‰ä¸€ä¸ªæŒ‡å®šçš„ this å€¼ï¼Œä»¥åŠä½œä¸ºä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼‰æä¾›çš„
å‚æ•°ã€‚apply() ä¸ call() éå¸¸ç›¸ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºæä¾›å‚æ•°çš„æ–¹å¼ã€‚apply() ä½¿ç”¨å‚æ•°æ•°ç»„è€Œä¸æ˜¯ä¸€ç»„å‚æ•°
åˆ—è¡¨ã€‚
var fn = function(arg1, arg2) &#123; 
&#125;;
fn.apply(this, [arg1, arg2])
var numbers = [5, 458 , 120 , -215 ]; 
//umber æœ¬èº«æ²¡æœ‰ max æ–¹æ³•ï¼Œä½†æ˜¯ Math æœ‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥å€ŸåŠ© call æˆ–è€… apply ä½¿ç”¨å…¶æ–¹æ³•ã€‚
var maxInNumbers = Math.max.apply(Math, numbers), //è·å–æ•°ç»„ä¸­çš„æœ€å¤§å€¼458
</code></pre>
<h4 id="3ã€bind"><a href="#3ã€bind" class="headerlink" title="3ã€bind()"></a>3ã€bind()</h4><pre><code class="css">bind() å‡½æ•°ä¼šåˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°ï¼ˆç§°ä¸ºç»‘å®šå‡½æ•°ï¼‰ï¼Œæ–°å‡½æ•°ä¸è¢«è°ƒå‡½æ•°ï¼ˆç»‘å®šå‡½æ•°çš„ç›®æ ‡å‡½æ•°ï¼‰å…·æœ‰ç›¸çš„å‡½æ•°ä½“ï¼ˆåœ¨ ECMAScript 5 è§„èŒƒä¸­å†…ç½®çš„callå±æ€§ï¼‰ã€‚
å½“ç›®æ ‡å‡½æ•°è¢«è°ƒç”¨æ—¶ this å€¼ç»‘å®šåˆ° bind() çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°ä¸èƒ½è¢«é‡å†™ã€‚ç»‘å®šå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œbind() ä¹Ÿæ¥å—é¢„è®¾çš„å‚æ•°æä¾›ç»™åŸå‡½æ•°ã€‚
ä¸€ä¸ªç»‘å®šå‡½æ•°ä¹Ÿèƒ½ä½¿ç”¨newæ“ä½œç¬¦åˆ›å»ºå¯¹è±¡ï¼šè¿™ç§è¡Œä¸ºå°±åƒæŠŠåŸå‡½æ•°å½“æˆæ„é€ å™¨ã€‚æä¾›çš„ this å€¼è¢«å¿½ç•¥ï¼ŒåŒæ—¶è°ƒç”¨æ—¶çš„å‚æ•°è¢«æä¾›ç»™æ¨¡æ‹Ÿå‡½æ•°
</code></pre>
<p>&#x2F;* â€”â€”call å’Œ applyå“ªä¸ªæ€§èƒ½æ›´å¥½ï¼Ÿâ€”â€” *&#x2F;</p>
<p>callçš„æ€§èƒ½è¦æ¯”applyå¥½ä¸€äº›ï¼Œå°¤å…¶æ˜¯ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°è¶…è¿‡3ä¸ªæ—¶æ‰€ä»¥åæœŸå¼€å‘çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨callå¤šä¸€äº›</p>
<p>ï¼ˆä¼ å‚æ•°3ä¸ªä»¥å†…çš„è¯ï¼Œcallå’Œapplyæ€§èƒ½å·®ä¸å¤šï¼Œè¶…è¿‡3ä¸ªä»¥ä¸Šcallæ›´å¥½ä¸€äº›ï¼‰</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-Promise-é¿å…å›è°ƒåœ°ç‹±çš„è¯­æ³•ç³–â€“å®ç°é“¾å¼è°ƒç”¨çš„æ ¸å¿ƒç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-Promise-é¿å…å›è°ƒåœ°ç‹±çš„è¯­æ³•ç³–â€“å®ç°é“¾å¼è°ƒç”¨çš„æ ¸å¿ƒç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ Promise é¿å…å›è°ƒåœ°ç‹±çš„è¯­æ³•ç³–â€“å®ç°é“¾å¼è°ƒç”¨çš„æ ¸å¿ƒç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ Promise é¿å…å›è°ƒåœ°ç‹±çš„è¯­æ³•ç³–â€“å®ç°é“¾å¼è°ƒç”¨çš„æ ¸å¿ƒç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ</h3><pre><code class="css">è§£å†³å›è°ƒåœ°ç‹±çš„ç»ˆææ–¹æ³• async/await ES7çš„è¯­æ³•ï¼Œå¯ä»¥é€šè¿‡ async/awaitè®©ä»£ç çœ‹èµ·æ¥åƒåŒæ­¥çš„asyncå¼‚æ­¥ awaitç­‰å¾…
await ç­‰å¾… å°±æ˜¯å½“åé¢è·Ÿçš„æ˜¯promiseå¯¹è±¡ï¼Œå°±è®©ä»–åœæ­¢ ï¼Œå…ˆè®©é‡Œé¢çš„å¼‚æ­¥äº‹æƒ…åšå®Œï¼Œåœ¨æŠŠç»“æœè¿”å›ç»™
å‰é¢çš„æ–°å˜é‡ï¼Œåœ¨ç»§ç»­å‘åæ‰§è¡Œ
ä»–åªç”Ÿæ•ˆå½“å‰ä½œç”¨åŸŸå†…éƒ¨ï¼Œä¹Ÿå°±æ˜¯asyncå‡½æ•°å†…éƒ¨ã€‚

å®ç°é“¾å¼è°ƒç”¨çš„æ ¸å¿ƒç‚¹: åœ¨ then ä¸­æ–°åˆ›å»ºçš„ Promiseï¼Œå®ƒçš„çŠ¶æ€å˜ä¸º fulfilled çš„èŠ‚ç‚¹æ˜¯åœ¨ä¸Šä¸€ä¸ª Promiseçš„å›è°ƒæ‰§è¡Œå®Œæ¯•çš„æ—¶å€™ã€‚ä¹Ÿå°±æ˜¯è¯´å½“ä¸€ä¸ª Promise çš„çŠ¶æ€è¢« fulfilled ä¹‹åï¼Œä¼šæ‰§è¡Œå…¶å›è°ƒå‡½æ•°ï¼Œè€Œå›è°ƒå‡½æ•°è¿”å›çš„ç»“æœä¼šè¢«å½“ä½œ valueï¼Œè¿”å›ç»™ä¸‹ä¸€ä¸ª Promise(ä¹Ÿå°±æ˜¯then ä¸­äº§ç”Ÿçš„ Promise)ï¼ŒåŒæ—¶ä¸‹ä¸€ä¸ª Promiseçš„çŠ¶æ€ä¹Ÿä¼š
è¢«æ”¹å˜(æ‰§è¡Œ resolve æˆ– reject)ï¼Œç„¶åå†å»æ‰§è¡Œå…¶å›è°ƒ,ä»¥æ­¤ç±»æ¨ä¸‹å»â€¦
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-è¿›ç¨‹çº¿ç¨‹åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-è¿›ç¨‹çº¿ç¨‹åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ è¿›ç¨‹çº¿ç¨‹åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ è¿›ç¨‹çº¿ç¨‹åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h3><h4 id="ä»€ä¹ˆæ˜¯è¿›ç¨‹ï¼Ÿä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯è¿›ç¨‹ï¼Ÿä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯è¿›ç¨‹ï¼Ÿä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯è¿›ç¨‹ï¼Ÿä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Ÿ</h4><p>è¿›ç¨‹æ˜¯ç³»ç»Ÿä¸­æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªç¨‹åºï¼Œç¨‹åºä¸€æ—¦è¿è¡Œå°±æ˜¯è¿›ç¨‹ã€‚</p>
<p>è¿›ç¨‹å¯ä»¥çœ‹æˆç¨‹åºæ‰§è¡Œçš„ä¸€ä¸ªå®ä¾‹ã€‚è¿›ç¨‹æ˜¯ç³»ç»Ÿèµ„æºåˆ†é…çš„ç‹¬ç«‹å®ä½“ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æ‹¥æœ‰ç‹¬ç«‹çš„åœ°å€ç©º</p>
<p>é—´ã€‚ä¸€ä¸ªè¿›ç¨‹æ— æ³•è®¿é—®å¦ä¸€ä¸ªè¿›ç¨‹çš„å˜é‡å’Œæ•°æ®ç»“æ„ï¼Œå¦‚æœæƒ³è®©ä¸€ä¸ªè¿›ç¨‹è®¿é—®å¦ä¸€ä¸ªè¿›ç¨‹çš„èµ„æºï¼Œéœ€è¦</p>
<p>ä½¿ç”¨è¿›ç¨‹é—´é€šä¿¡ï¼Œæ¯”å¦‚ç®¡é“ï¼Œæ–‡ä»¶ï¼Œå¥—æ¥å­—ç­‰ã€‚</p>
<p>ä¸€ä¸ªè¿›ç¨‹å¯ä»¥æ‹¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹ä½¿ç”¨å…¶æ‰€å±è¿›ç¨‹çš„æ ˆç©ºé—´ã€‚çº¿ç¨‹ä¸è¿›ç¨‹çš„ä¸€ä¸ªä¸»è¦åŒºåˆ«æ˜¯ï¼Œç»Ÿä¸€</p>
<p>è¿›ç¨‹å†…çš„ä¸€ä¸ªä¸»è¦åŒºåˆ«æ˜¯ï¼ŒåŒä¸€è¿›ç¨‹å†…çš„å¤šä¸ªçº¿ç¨‹ä¼šå…±äº«éƒ¨åˆ†çŠ¶æ€ï¼Œå¤šä¸ªçº¿ç¨‹å¯ä»¥è¯»å†™åŒä¸€å—å†…å­˜ï¼ˆä¸€</p>
<p>ä¸ªè¿›ç¨‹æ— æ³•ç›´æ¥è®¿é—®å¦ä¸€è¿›ç¨‹çš„å†…å­˜ï¼‰ã€‚åŒæ—¶ï¼Œæ¯ä¸ªçº¿ç¨‹è¿˜æ‹¥æœ‰è‡ªå·±çš„å¯„å­˜å™¨å’Œæ ˆï¼Œå…¶ä»–çº¿ç¨‹å¯ä»¥è¯»å†™</p>
<p>è¿™äº›æ ˆå†…å­˜ã€‚</p>
<p>çº¿ç¨‹æ˜¯è¿›ç¨‹çš„ä¸€ä¸ªå®ä½“ï¼Œæ˜¯è¿›ç¨‹çš„ä¸€æ¡æ‰§è¡Œè·¯å¾„ã€‚</p>
<p>çº¿ç¨‹æ˜¯è¿›ç¨‹çš„ä¸€ä¸ªç‰¹å®šæ‰§è¡Œè·¯å¾„ã€‚å½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†è¿›ç¨‹çš„èµ„æºï¼Œå®ƒçš„å…„å¼Ÿçº¿ç¨‹å¯ä»¥ç«‹å³çœ‹åˆ°è¿™ç§å˜</p>
<p>åŒ–ã€‚</p>
<h4 id="è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š"><a href="#è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š" class="headerlink" title="è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š"></a>è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</h4><p>1.åœ°å€ç©ºé—´å’Œå…¶ä»–èµ„æºï¼ˆå¦‚æ‰“å¼€æ–‡ä»¶ï¼‰ï¼šè¿›ç¨‹é—´ç›¸äº’ç‹¬ç«‹ï¼ŒåŒä¸€è¿›ç¨‹çš„å„çº¿ç¨‹é—´å…±äº«ã€‚æŸè¿›ç¨‹å†…çš„çº¿ç¨‹</p>
<p>åœ¨å…¶ä»–è¿›ç¨‹å†…ä¸å¯è§ã€‚</p>
<p>2.é€šä¿¡ï¼šè¿›ç¨‹é—´é€šä¿¡IPCï¼ˆç®¡é“ï¼Œä¿¡å·é‡ï¼Œå…±äº«å†…å­˜ï¼Œæ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼Œçº¿ç¨‹é—´å¯ä»¥ç›´æ¥ç‹¬å†™è¿›ç¨‹æ•°æ®æ®µï¼ˆå¦‚</p>
<p>å…¨å±€å˜é‡ï¼‰æ¥è¿›ç¨‹é€šä¿¡â€”â€”éœ€è¦è¿›ç¨‹åŒæ­¥å’Œäº’æ–¥æ‰‹æ®µçš„è¾…åŠ©ï¼Œä»¥ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚</p>
<p>3.è°ƒåº¦å’Œåˆ‡æ¢ï¼šçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢æ¯”è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢å¿«å¾—å¤šã€‚</p>
<p>4.åœ¨å¤šçº¿ç¨‹OSä¸­ï¼Œè¿›ç¨‹ä¸æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œçš„å®ä½“ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ç¦æ­¢äº‹ä»¶å†’æ³¡ï¼Œç¦æ­¢é»˜è®¤äº‹ä»¶"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ç¦æ­¢äº‹ä»¶å†’æ³¡ï¼Œç¦æ­¢é»˜è®¤äº‹ä»¶" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ç¦æ­¢äº‹ä»¶å†’æ³¡ï¼Œç¦æ­¢é»˜è®¤äº‹ä»¶"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ç¦æ­¢äº‹ä»¶å†’æ³¡ï¼Œç¦æ­¢é»˜è®¤äº‹ä»¶</h3><pre><code class="css">/-----ç¦æ­¢äº‹ä»¶å†’æ³¡:-----/
function stopBubble(e) &#123;
//å¦‚æœæä¾›äº†äº‹ä»¶å¯¹è±¡ï¼Œåˆ™è¿™æ˜¯ä¸€ä¸ªéIEæµè§ˆå™¨
if ( e &amp;&amp; e.stopPropagation )
 //å› æ­¤å®ƒæ”¯æŒW3Cçš„stopPropagation()æ–¹æ³•
 e.stopPropagation();
else
 //å¦åˆ™ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨IEçš„æ–¹å¼æ¥å–æ¶ˆäº‹ä»¶å†’æ³¡
 window.event.cancelBubble = true;
&#125;

/-----é˜»æ­¢æµè§ˆå™¨çš„é»˜è®¤è¡Œä¸º-----/
function stopDefault( e ) &#123;
 //é˜»æ­¢é»˜è®¤æµè§ˆå™¨åŠ¨ä½œ(W3C)
 if ( e &amp;&amp; e.preventDefault )
 e.preventDefault();
 //IEä¸­é˜»æ­¢å‡½æ•°å™¨é»˜è®¤åŠ¨ä½œçš„æ–¹å¼
 else
 window.event.returnValue = false;
 return false;
&#125;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ä½¿ç”¨ç®­å¤´å‡½æ•°åº”è¯¥æ³¨æ„ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ä½¿ç”¨ç®­å¤´å‡½æ•°åº”è¯¥æ³¨æ„ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ä½¿ç”¨ç®­å¤´å‡½æ•°åº”è¯¥æ³¨æ„ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ä½¿ç”¨ç®­å¤´å‡½æ•°åº”è¯¥æ³¨æ„ä»€ä¹ˆï¼Ÿ</h3><ol>
<li><p>ä¸è¦åœ¨å¯¹è±¡é‡Œé¢å®šä¹‰å‡½æ•°ï¼Œå¯¹è±¡é‡Œé¢çš„è¡Œæ•°åº”è¯¥ç”¨ä¼ ç»Ÿçš„å‡½æ•°æ–¹æ³•</p>
</li>
<li><p>ä¸è¦åœ¨å¯¹åŸå‹å¯¹è±¡ä¸Šå®šä¹‰å‡½æ•°ï¼Œåœ¨å¯¹è±¡åŸå‹ä¸Šå®šä¹‰å‡½æ•°ä¹Ÿæ˜¯éµå¾ªç€ä¸€æ ·çš„è§„åˆ™</p>
</li>
<li><p>ä¸è¦ç”¨ç®­å¤´å®šä¹‰æ„é€ å‡½æ•°</p>
</li>
<li><p>ä¸è¦ç”¨ç®­å¤´å®šä¹‰äº‹ä»¶å›è°ƒå‡½æ•°</p>
</li>
</ol>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ä½ çŸ¥é“-ES6-ä¸­çš„-Generator-å’Œ-yiled-å—ï¼Ÿåœ¨å®é™…å¼€å‘ä¸­ä½¿ç”¨è¿‡å—ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ä½ çŸ¥é“-ES6-ä¸­çš„-Generator-å’Œ-yiled-å—ï¼Ÿåœ¨å®é™…å¼€å‘ä¸­ä½¿ç”¨è¿‡å—ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ä½ çŸ¥é“ ES6 ä¸­çš„ Generator å’Œ yiled å—ï¼Ÿåœ¨å®é™…å¼€å‘ä¸­ä½¿ç”¨è¿‡å—ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ä½ çŸ¥é“ ES6 ä¸­çš„ Generator å’Œ yiled å—ï¼Ÿåœ¨å®é™…å¼€å‘ä¸­ä½¿ç”¨è¿‡å—ï¼Ÿ</h3><p>Generator å‡½æ•°æ˜¯ ES6 æä¾›çš„ä¸€ç§å¼‚æ­¥ç¼–ç¨‹è§£å†³æ–¹æ¡ˆ</p>
<p>æ‰§è¡Œ Generator å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼Œå¯ä»¥ä¾æ¬¡éå† Generator å‡½æ•°å†…éƒ¨çš„æ¯ä¸€ä¸ªçŠ¶æ€</p>
<p>å½¢å¼ä¸Šï¼ŒGeneratorå‡½æ•°æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªç‰¹å¾ï¼š</p>
<pre><code class="javascript">1. functionå…³é”®å­—ä¸å‡½æ•°åä¹‹é—´æœ‰ä¸€ä¸ªæ˜Ÿå·
2. å‡½æ•°ä½“å†…éƒ¨ä½¿ç”¨yieldè¡¨è¾¾å¼ï¼Œå®šä¹‰ä¸åŒçš„å†…éƒ¨çŠ¶æ€
//-----åˆ©ç”¨Generatorå‡½æ•°ï¼Œåœ¨å¯¹è±¡ä¸Šå®ç°Iteratoræ¥å£-----//
function* iterEntries(obj) &#123;
 let keys = Object.keys(obj);
 for (let i=0; i &lt; keys.length; i++) &#123;
 let key = keys[i];
 yield [key, obj[key]];
 &#125;
&#125;
let myObj = &#123; foo: 3, bar: 7 &#125;;
for (let [key, value] of iterEntries(myObj)) &#123;
 console.log(key, value);
&#125;
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-Cookieã€storage-çš„åŒºåˆ«ï¼Ÿä»€ä¹ˆæ—¶å€™ä½¿ç”¨ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-Cookieã€storage-çš„åŒºåˆ«ï¼Ÿä»€ä¹ˆæ—¶å€™ä½¿ç”¨ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ Cookieã€storage çš„åŒºåˆ«ï¼Ÿä»€ä¹ˆæ—¶å€™ä½¿ç”¨ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ Cookieã€storage çš„åŒºåˆ«ï¼Ÿä»€ä¹ˆæ—¶å€™ä½¿ç”¨ï¼Ÿ</h3><h4 id="åŒºåˆ«ï¼š"><a href="#åŒºåˆ«ï¼š" class="headerlink" title="åŒºåˆ«ï¼š"></a>åŒºåˆ«ï¼š</h4><pre><code class="css">1. cookieæ•°æ®å§‹ç»ˆåœ¨åŒæºçš„httpè¯·æ±‚ä¸­æºå¸¦ï¼ˆå³ä½¿ä¸éœ€è¦ï¼‰ï¼Œå³cookieåœ¨æµè§ˆå™¨å’ŒæœåŠ¡å™¨é—´æ¥å›ä¼ é€’ã€‚localStorageä¸ä¼šè‡ªåŠ¨æŠŠæ•°æ®å‘ç»™æœåŠ¡å™¨ï¼Œä»…åœ¨æœ¬åœ°ä¿å­˜ã€‚
2. cookieæ•°æ®è¿˜æœ‰è·¯å¾„ï¼ˆpathï¼‰çš„æ¦‚å¿µï¼Œå¯ä»¥é™åˆ¶cookieåªå±äºæŸä¸ªè·¯å¾„ä¸‹ã€‚
3. å­˜å‚¨å¤§å°é™åˆ¶ä¹Ÿä¸åŒï¼Œcookieæ•°æ®ä¸èƒ½è¶…è¿‡4kï¼ŒåŒæ—¶å› ä¸ºæ¯æ¬¡httpè¯·æ±‚éƒ½ä¼šæºå¸¦cookieï¼Œæ‰€ä»¥cookieåªé€‚åˆä¿å­˜å¾ˆå°çš„æ•°æ®ï¼Œå¦‚ä¼šè¯æ ‡è¯†ã€‚localStorage è™½ç„¶ä¹Ÿæœ‰å­˜å‚¨å¤§å°çš„é™åˆ¶ï¼Œä½†æ¯”cookieå¤§å¾—å¤šï¼Œå¯ä»¥è¾¾åˆ°5Mæˆ–æ›´å¤§ã€‚
4. æ•°æ®æœ‰æ•ˆæœŸä¸åŒï¼Œ
localStorageï¼šå§‹ç»ˆæœ‰æ•ˆï¼Œçª—å£æˆ–æµè§ˆå™¨å…³é—­ä¹Ÿä¸€ç›´ä¿å­˜ï¼Œå› æ­¤ç”¨ä½œæŒä¹…æ•°æ®ï¼›
cookieåªåœ¨è®¾ç½®çš„cookieè¿‡æœŸæ—¶é—´ä¹‹å‰ä¸€ç›´æœ‰æ•ˆï¼Œå³ä½¿çª—å£æˆ–æµè§ˆå™¨å…³é—­ã€‚
5. WebStorage æ”¯æŒäº‹ä»¶é€šçŸ¥æœºåˆ¶ï¼Œå¯ä»¥å°†æ•°æ®æ›´æ–°çš„é€šçŸ¥å‘é€ç»™ç›‘å¬è€…ã€‚
6. WebStorage çš„ api æ¥å£ä½¿ç”¨æ›´æ–¹ä¾¿ã€‚
</code></pre>
<h4 id="ä½¿ç”¨åœºæ™¯ï¼š"><a href="#ä½¿ç”¨åœºæ™¯ï¼š" class="headerlink" title="ä½¿ç”¨åœºæ™¯ï¼š"></a>ä½¿ç”¨åœºæ™¯ï¼š</h4><p>localStorageå¯ä»¥ç”¨æ¥ç»Ÿè®¡é¡µé¢è®¿é—®æ¬¡æ•°ã€‚</p>
<p>cookieä¸€èˆ¬å­˜å‚¨ç”¨æˆ·åå¯†ç ç›¸å…³ä¿¡æ¯ï¼Œä¸€èˆ¬ä½¿ç”¨escapeè½¬ä¹‰ç¼–ç åå­˜å‚¨ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-mapã€fillterã€reduce-å„è‡ªæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-mapã€fillterã€reduce-å„è‡ªæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ mapã€fillterã€reduce å„è‡ªæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ mapã€fillterã€reduce å„è‡ªæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h3><pre><code class="css">1ï¼šmap ä½œç”¨æ˜¯ç”Ÿæˆä¸€ä¸ªæ–°æ•°ç»„ï¼Œéå†åŸæ•°ç»„ï¼Œå°†æ¯ä¸ªå…ƒç´ æ‹¿å‡ºæ¥åšä¸€äº›å˜æ¢ç„¶åæ”¾å…¥åˆ°æ–°çš„æ•°ç»„ä¸­ã€‚
å¦å¤– map çš„å›è°ƒå‡½æ•°æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯å½“å‰ç´¢å¼•å…ƒç´ ï¼Œç´¢å¼•ï¼ŒåŸæ•°ç»„
2ï¼šfilter çš„ä½œç”¨ä¹Ÿæ˜¯ç”Ÿæˆä¸€ä¸ªæ–°æ•°ç»„ï¼Œåœ¨éå†æ•°ç»„çš„æ—¶å€™å°†è¿”å›å€¼ä¸º true çš„å…ƒç´ æ”¾å…¥æ–°æ•°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥
åˆ©ç”¨è¿™ä¸ªå‡½æ•°åˆ é™¤ä¸€äº›ä¸éœ€è¦çš„å…ƒç´ ,å’Œ map ä¸€æ ·ï¼Œfilter çš„å›è°ƒå‡½æ•°ä¹Ÿæ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œç”¨å¤„ä¹Ÿç›¸åŒã€‚
3ï¼šreduce å¯ä»¥å°†æ•°ç»„ä¸­çš„å…ƒç´ é€šè¿‡å›è°ƒå‡½æ•°æœ€ç»ˆè½¬æ¢ä¸ºä¸€ä¸ªå€¼ã€‚
å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯å›è°ƒå‡½æ•°å’Œåˆå§‹å€¼ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥åˆ†è§£ä¸Šè¿°ä»£ç ä¸­ reduce çš„è¿‡ç¨‹
é¦–å…ˆåˆå§‹å€¼ä¸º 0ï¼Œè¯¥å€¼ä¼šåœ¨æ‰§è¡Œç¬¬ä¸€æ¬¡å›è°ƒå‡½æ•°æ—¶ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥
å›è°ƒå‡½æ•°æ¥å—å››ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸ºç´¯è®¡å€¼ã€å½“å‰å…ƒç´ ã€å½“å‰ç´¢å¼•ã€åŸæ•°ç»„ï¼Œåä¸‰è€…æƒ³å¿…å¤§å®¶éƒ½å¯ä»¥æ˜ç™½ä½œ
ç”¨ï¼Œè¿™é‡Œç€é‡åˆ†æç¬¬ä¸€ä¸ªå‚æ•°
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-promise-å¸¸è§æ–¹æ³•å’Œ-all-å’Œ-raceçš„åº”ç”¨åœºæ™¯"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-promise-å¸¸è§æ–¹æ³•å’Œ-all-å’Œ-raceçš„åº”ç”¨åœºæ™¯" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ promise å¸¸è§æ–¹æ³•å’Œ all å’Œ raceçš„åº”ç”¨åœºæ™¯"></a>â™¥ï¸â™¥ï¸â™¥ï¸ promise å¸¸è§æ–¹æ³•å’Œ all å’Œ raceçš„åº”ç”¨åœºæ™¯</h3><h4 id="Promise-raceï¼ˆï¼‰ï¼š"><a href="#Promise-raceï¼ˆï¼‰ï¼š" class="headerlink" title="Promise.raceï¼ˆï¼‰ï¼š"></a>Promise.raceï¼ˆï¼‰ï¼š</h4><p>raceçš„ç”¨æ³•ï¼šè°è·‘çš„å¿«ï¼Œä»¥è°ä¸ºå‡†æ‰§è¡Œå›è°ƒã€‚</p>
<p>raceçš„ä½¿ç”¨åœºæ™¯ï¼šæ¯”å¦‚æˆ‘ä»¬å¯ä»¥ç”¨raceç»™æŸä¸ªå¼‚æ­¥è¯·æ±‚è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå¹¶ä¸”åœ¨è¶…æ—¶åæ‰§è¡Œç›¸åº”çš„æ“ä½œ</p>
<h4 id="Promise-all"><a href="#Promise-all" class="headerlink" title="Promise.all():"></a>Promise.all():</h4><p>allçš„ç”¨æ³•ï¼šè°è·‘çš„æ…¢ï¼Œä»¥è°ä¸ºå‡†æ‰§è¡Œå›è°ƒã€‚</p>
<p>åœ¨å‰ç«¯çš„å¼€å‘å®è·µä¸­ï¼Œæˆ‘ä»¬æœ‰æ—¶ä¼šé‡åˆ°éœ€è¦å‘é€å¤šä¸ªè¯·æ±‚å¹¶æ ¹æ®è¯·æ±‚é¡ºåºè¿”å›æ•°æ®çš„éœ€æ±‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ä»‹ç»ä¸€ä¸‹-ES6-ä¸­-Set-Mapçš„åŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ä»‹ç»ä¸€ä¸‹-ES6-ä¸­-Set-Mapçš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ä»‹ç»ä¸€ä¸‹ ES6 ä¸­ Set, Mapçš„åŒºåˆ«ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ä»‹ç»ä¸€ä¸‹ ES6 ä¸­ Set, Mapçš„åŒºåˆ«ï¼Ÿ</h3><pre><code class="css">Map
åœ¨JSä¸­çš„é»˜è®¤å¯¹è±¡çš„è¡¨ç¤ºæ–¹å¼ä¸º&#123;&#125;ï¼Œå³ä¸€ç»„é”®å€¼å¯¹ï¼Œä½†æ˜¯é”®å¿…é¡»æ˜¯å­—ç¬¦ä¸²ã€‚
ä¸ºäº†ä½¿ç”¨Numberæˆ–è€…å…¶ä»–æ•°æ®ç±»å‹ä½œä¸ºé”®ï¼ŒES6è§„èŒƒå¼•å…¥äº†æ–°çš„æ•°æ®ç±»å‹Mapã€‚
Mapæ˜¯ä¸€ç»„é”®å€¼å¯¹çš„ç»“æ„ï¼Œå…·æœ‰æå¿«çš„æŸ¥æ‰¾é€Ÿåº¦ã€‚åˆå§‹åŒ–Mapéœ€è¦ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œæˆ–è€…ç›´æ¥åˆå§‹åŒ–ä¸€ä¸ª
ç©ºMapã€‚
Map å¯¹è±¡æ˜¯é”®å€¼å¯¹é›†åˆï¼Œå’Œ JSON å¯¹è±¡ç±»ä¼¼ï¼Œä½†æ˜¯ key ä¸ä»…å¯ä»¥æ˜¯å­—ç¬¦ä¸²è¿˜å¯ä»¥æ˜¯å…¶ä»–å„ç§ç±»å‹çš„å€¼åŒ…
æ‹¬å¯¹è±¡éƒ½å¯ä»¥æˆä¸ºMapçš„é”®


Set
Setä¹Ÿæ˜¯ä¸€ç»„keyçš„é›†åˆï¼Œä¸Mapç±»ä¼¼ã€‚ä½†æ˜¯åŒºåˆ«æ˜¯Setä¸å­˜å‚¨valueï¼Œå¹¶ä¸”å®ƒçš„keyä¸èƒ½é‡å¤ã€‚
åˆ›å»ºä¸€ä¸ªSetï¼Œéœ€è¦æä¾›ä¸€ä¸ªArrayä½œä¸ºè¾“å…¥ï¼Œæˆ–è€…ç›´æ¥åˆ›å»ºä¸€ä¸ªç©ºSetï¼š
é‡å¤å…ƒç´ ä¼šåœ¨Setä¸­è‡ªåŠ¨è¢«è¿‡æ»¤
Set å¯¹è±¡ç±»ä¼¼äºæ•°ç»„ï¼Œä¸”æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ä¸ºä»€ä¹ˆæ“ä½œ-dom-æ…¢ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ä¸ºä»€ä¹ˆæ“ä½œ-dom-æ…¢ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ä¸ºä»€ä¹ˆæ“ä½œ dom æ…¢ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ä¸ºä»€ä¹ˆæ“ä½œ dom æ…¢ï¼Ÿ</h3><p>DOMå¯¹è±¡æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªjså¯¹è±¡ï¼Œæ‰€ä»¥ä¸¥æ ¼æ¥è¯´ï¼Œå¹¶ä¸æ˜¯æ“ä½œè¿™ä¸ªå¯¹è±¡æ…¢ï¼Œè€Œæ˜¯è¯´æ“ä½œäº†è¿™ä¸ªå¯¹è±¡åï¼Œéœ€</p>
<p>è¦ç»è¿‡è·¨æµç¨‹é€šä¿¡å’Œæ¸²æŸ“çº¿ç¨‹è§¦å‘çš„é‡æ–°æ¸²æŸ“ï¼Œå¯¼è‡´DOMæ“ä½œæ…¢</p>
<p>JSå¼•æ“å’Œå’Œæ¸²æŸ“å¼•æ“çš„æ¨¡å—åŒ–è®¾è®¡ï¼Œä½¿å¾—å®ƒä»¬å¯ä»¥ç‹¬ç«‹ä¼˜åŒ–ï¼Œè¿è¡Œé€Ÿåº¦æ›´å¿«ï¼Œä½†æ˜¯è¿™ç§è®¾è®¡å¸¦æ¥çš„åæœ</p>
<p>å°±æ˜¯DOMæ“ä½œä¼šè¶Šæ¥è¶Šæ…¢</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-jsä¸­çš„å¸¸ç”¨äº‹ä»¶ç»‘å®šæ–¹æ³•"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-jsä¸­çš„å¸¸ç”¨äº‹ä»¶ç»‘å®šæ–¹æ³•" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ jsä¸­çš„å¸¸ç”¨äº‹ä»¶ç»‘å®šæ–¹æ³•"></a>â™¥ï¸â™¥ï¸â™¥ï¸ jsä¸­çš„å¸¸ç”¨äº‹ä»¶ç»‘å®šæ–¹æ³•</h3><ol>
<li><p>åœ¨DOMå…ƒç´ ä¸­ç›´æ¥ç»‘å®š</p>
</li>
<li><p>åœ¨JavaScriptä»£ç ä¸­ç»‘å®š</p>
</li>
<li><p>ç»‘å®šäº‹ä»¶ç›‘å¬å‡½æ•°</p>
</li>
</ol>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ts-å’Œ-js-çš„åŒºåˆ«"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ts-å’Œ-js-çš„åŒºåˆ«" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ts å’Œ js çš„åŒºåˆ«"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ts å’Œ js çš„åŒºåˆ«</h3><pre><code class="css">1.tsæ˜¯é™æ€ç±»è¯­è¨€ï¼Œå¯ä»¥åšåˆ°å£°æ˜å³æ–‡æ¡£ï¼Œjsæ˜¯åŠ¨æ€ç±»è¯­è¨€ç›¸å¯¹æ›´çµæ´»ã€‚
2.å¦‚ç”¨tså†™ä¸€ä¸ªbuttonç»„ä»¶å¯ä»¥æ¸…æ™°çš„çŸ¥é“ï¼ŒButtonPropså¦‚æ˜¯å¦å¿…ä¼ ï¼Œå¯é€‰ï¼Œstyleæ˜¯ä»€ä¹ˆç±»å‹ï¼Œ
disabledæ˜¯ä»€ä¹ˆç±»å‹ï¼Œè¾ƒjsï¼Œtsæ›´æ˜“äºç»´æŠ¤å’Œæ‹“å±•ï¼Œå¯ä»¥åšåˆ°ä»£ç å³æ³¨é‡Šï¼Œé¿å…ä¸€ä¸ªæœˆä¸è§3ï¼Œä»£ç è‡ªå·±
éƒ½å¿˜è®°è‡ªå·±å†™äº†ä»€ä¹ˆçš„å°´å°¬ï¼Œ
4.tså¯¹æ¯”jsåŸºç¡€ç±»å‹ä¸Šï¼Œå¢åŠ äº† void/never/any/å…ƒç»„/æšä¸¾/ä»¥åŠä¸€äº›é«˜çº§ç±»å‹
5.jsæ²¡æœ‰é‡è½½æ¦‚å¿µï¼Œtsæœ‰å¯ä»¥é‡è½½
6.vscode/ideå¯¹tsæœ‰å¾ˆå‹å¥½çš„æç¤º
7.tsæ›´åˆ©äºé‡æ„
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-ç®€è¿°åŸç”Ÿ-js-å‘-ajax-çš„æ­¥éª¤"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-ç®€è¿°åŸç”Ÿ-js-å‘-ajax-çš„æ­¥éª¤" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸ ç®€è¿°åŸç”Ÿ js å‘ ajax çš„æ­¥éª¤"></a>â™¥ï¸â™¥ï¸â™¥ï¸ ç®€è¿°åŸç”Ÿ js å‘ ajax çš„æ­¥éª¤</h3><p>1.åˆ›å»ºXMLHTTPRequestå¯¹è±¡</p>
<p>2.ä½¿ç”¨openæ–¹æ³•è®¾ç½®å’ŒæœåŠ¡å™¨çš„äº¤äº’ä¿¡æ¯</p>
<p>3.è®¾ç½®å‘é€çš„æ•°æ®ï¼Œå¼€å§‹å’ŒæœåŠ¡å™¨ç«¯äº¤äº’</p>
<p>4.æ³¨å†Œäº‹ä»¶</p>
<p>5.æ›´æ–°ç•Œé¢</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸-instanceofçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸-instanceofçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸  instanceofçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸  instanceofçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</h3><pre><code class="javascript">// instanceof å¯ä»¥æ­£ç¡®çš„åˆ¤æ–­å¯¹è±¡çš„ç±»å‹ï¼Œæ˜¯é€šè¿‡åˆ¤æ–­å¯¹è±¡çš„åŸå‹é“¾ä¸­æ˜¯ä¸æ˜¯èƒ½æ‰¾åˆ°ç±»å‹çš„prototypeã€‚
function fn(left, right) &#123;
 let prototype = right.prototype;
 left = left.proto;
 while (true) &#123;
 if (left === undefined || left === null) &#123;
 return false;
 &#125;
 if (left === prototype) &#123;
 return true;
 &#125;
 left = left.proto;
 &#125;
&#125;
</code></pre>
<hr>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ä»‹ç»ä¸€ä¸‹-typeof-åŒºåˆ†ç±»å‹çš„åŸç†"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ä»‹ç»ä¸€ä¸‹-typeof-åŒºåˆ†ç±»å‹çš„åŸç†" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ä»‹ç»ä¸€ä¸‹ typeof åŒºåˆ†ç±»å‹çš„åŸç†"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ä»‹ç»ä¸€ä¸‹ typeof åŒºåˆ†ç±»å‹çš„åŸç†</h3><pre><code class="javascript">typeofåŸç†ï¼š ä¸åŒçš„å¯¹è±¡åœ¨åº•å±‚éƒ½è¡¨ç¤ºä¸ºäºŒè¿›åˆ¶ï¼Œåœ¨Javascriptä¸­äºŒè¿›åˆ¶å‰ï¼ˆä½ï¼‰ä¸‰ä½å­˜å‚¨å…¶ç±»å‹ä¿¡
æ¯ã€‚
000: å¯¹è±¡
010: æµ®ç‚¹æ•°
100:å­—ç¬¦ä¸²
110: å¸ƒå°”
1: æ•´æ•°
/----------------------------------------------/
typeof null ä¸º&quot;object&quot;, åŸå› æ˜¯å› ä¸º ä¸åŒçš„å¯¹è±¡åœ¨åº•å±‚éƒ½è¡¨ç¤ºä¸ºäºŒè¿›åˆ¶ï¼Œåœ¨Javascriptä¸­äºŒè¿›åˆ¶å‰ï¼ˆä½ï¼‰
ä¸‰ä½éƒ½ä¸º0çš„è¯ä¼šè¢«åˆ¤æ–­ä¸ºObjectç±»å‹ï¼Œnullçš„äºŒè¿›åˆ¶è¡¨ç¤ºå…¨ä¸º0ï¼Œè‡ªç„¶å‰ä¸‰ä½ä¹Ÿæ˜¯0ï¼Œæ‰€ä»¥æ‰§è¡Œtypeofæ—¶
ä¼šè¿”å›&quot;object&quot;###
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-è¯´è¯´ä½ å¯¹-JavaScript-çš„ä½œç”¨åŸŸçš„ç†è§£ã€‚ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-è¯´è¯´ä½ å¯¹-JavaScript-çš„ä½œç”¨åŸŸçš„ç†è§£ã€‚ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ è¯´è¯´ä½ å¯¹ JavaScript çš„ä½œç”¨åŸŸçš„ç†è§£ã€‚ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ è¯´è¯´ä½ å¯¹ JavaScript çš„ä½œç”¨åŸŸçš„ç†è§£ã€‚ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾ï¼Ÿ</h3><p>åœ¨ JavaScript ä¸­æœ‰ä¸¤ç§ä½œç”¨åŸŸç±»å‹ï¼š</p>
<ol>
<li><p>å±€éƒ¨ä½œç”¨åŸŸ:åªèƒ½åœ¨å‡½æ•°å†…éƒ¨è®¿é—®å®ƒä»¬</p>
</li>
<li><p>å…¨å±€ä½œç”¨åŸŸ:ç½‘é¡µçš„æ‰€æœ‰è„šæœ¬å’Œå‡½æ•°éƒ½èƒ½å¤Ÿè®¿é—®å®ƒ</p>
</li>
</ol>
<p>JavaScript æ‹¥æœ‰å‡½æ•°ä½œç”¨åŸŸï¼šæ¯ä¸ªå‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸã€‚</p>
<p>ä½œç”¨åŸŸå†³å®šäº†è¿™äº›å˜é‡çš„å¯è®¿é—®æ€§ï¼ˆå¯è§æ€§ï¼‰ã€‚</p>
<p>å‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡ä»å‡½æ•°å¤–éƒ¨æ˜¯ä¸å¯è®¿é—®çš„ï¼ˆä¸å¯è§çš„ï¼‰ã€‚</p>
<p>ä½œç”¨åŸŸé“¾ï¼š</p>
<p>å½“æŸ¥æ‰¾å˜é‡çš„æ—¶å€™ï¼Œä¼šå…ˆä»å½“å‰ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ä¸­æŸ¥æ‰¾ï¼Œ</p>
<p>å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±ä¼šä»çˆ¶çº§(è¯æ³•å±‚é¢ä¸Šçš„çˆ¶çº§)æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ä¸­æŸ¥æ‰¾ï¼Œä¸€ç›´æ‰¾åˆ°å…¨å±€ä¸Šä¸‹æ–‡çš„å˜</p>
<p>é‡å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯å…¨å±€å¯¹è±¡ã€‚</p>
<p>è¿™æ ·ç”±å¤šä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡æ„æˆçš„é“¾è¡¨å°±å«åšä½œç”¨åŸŸé“¾</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-è¯´è¯´ä½ å¯¹æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç†è§£"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-è¯´è¯´ä½ å¯¹æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç†è§£" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ è¯´è¯´ä½ å¯¹æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç†è§£"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ è¯´è¯´ä½ å¯¹æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç†è§£</h3><pre><code class="css">æ‰§è¡Œä¸Šä¸‹æ–‡æœ‰ä¸”åªæœ‰ä¸‰ç±»ï¼Œå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå‡½æ•°ä¸Šä¸‹æ–‡ï¼Œä¸evalä¸Šä¸‹æ–‡(evalä¸€èˆ¬ä¸ä¼šä½¿ç”¨) 
1. å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼š
å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡åªæœ‰ä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç†ŸçŸ¥çš„windowå¯¹è±¡ï¼Œæˆ‘ä»¬èƒ½åœ¨å…¨å±€ä½œç”¨åŸŸä¸­é€šè¿‡thisç›´æ¥è®¿é—®åˆ°å®ƒ
2. å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡
å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡å¯å­˜åœ¨æ— æ•°ä¸ªï¼Œæ¯å½“ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨æ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªå‡½æ•°ä¸Šä¸‹æ–‡ï¼›
éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒåŒä¸€ä¸ªå‡½æ•°è¢«å¤šæ¬¡è°ƒç”¨ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ä¸Šä¸‹æ–‡ã€‚
3. æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ(ä¸‹æ–‡ç®€ç§°æ‰§è¡Œæ ˆ)ä¹Ÿå«è°ƒç”¨æ ˆï¼Œ
æ‰§è¡Œæ ˆç”¨äºå­˜å‚¨ä»£ç æ‰§è¡ŒæœŸé—´åˆ›å»ºçš„æ‰€æœ‰ä¸Šä¸‹æ–‡ï¼Œå…·æœ‰LIFOï¼ˆLast In First Outåè¿›å…ˆå‡ºï¼Œä¹Ÿå°±æ˜¯
å…ˆè¿›åå‡ºï¼‰çš„ç‰¹æ€§ã€‚

JSä»£ç é¦–æ¬¡è¿è¡Œï¼Œéƒ½ä¼šå…ˆåˆ›å»ºä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡å¹¶å‹å…¥åˆ°æ‰§è¡Œæ ˆä¸­ï¼Œä¹‹åæ¯å½“æœ‰å‡½æ•°è¢«è°ƒç”¨ï¼Œéƒ½ä¼šåˆ›
å»ºä¸€ä¸ªæ–°çš„å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡å¹¶å‹å…¥æ ˆå†…ï¼›ç”±äºæ‰§è¡Œæ ˆLIFOçš„ç‰¹æ€§ï¼Œæ‰€ä»¥å¯ä»¥ç†è§£ä¸ºï¼ŒJSä»£ç æ‰§è¡Œå®Œæ¯•å‰
åœ¨æ‰§è¡Œæ ˆåº•éƒ¨æ°¸è¿œæœ‰ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚###
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ä½ å¯¹äº‹ä»¶å¾ªç¯æœ‰äº†è§£å—ï¼Ÿè¯´è¯´çœ‹ï¼"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ä½ å¯¹äº‹ä»¶å¾ªç¯æœ‰äº†è§£å—ï¼Ÿè¯´è¯´çœ‹ï¼" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ä½ å¯¹äº‹ä»¶å¾ªç¯æœ‰äº†è§£å—ï¼Ÿè¯´è¯´çœ‹ï¼"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ä½ å¯¹äº‹ä»¶å¾ªç¯æœ‰äº†è§£å—ï¼Ÿè¯´è¯´çœ‹ï¼</h3><p>Event Loop(äº‹ä»¶å¾ªç¯)ä¸­ï¼Œæ¯ä¸€æ¬¡å¾ªç¯ç§°ä¸º tick, æ¯ä¸€æ¬¡tickçš„ä»»åŠ¡å¦‚ä¸‹ï¼š</p>
<p>æ‰§è¡Œæ ˆé€‰æ‹©æœ€å…ˆè¿›å…¥é˜Ÿåˆ—çš„å®ä»»åŠ¡(é€šå¸¸æ˜¯scriptæ•´ä½“ä»£ç )ï¼Œå¦‚æœæœ‰åˆ™æ‰§è¡Œ</p>
<p>æ£€æŸ¥æ˜¯å¦å­˜åœ¨ Microtaskï¼Œå¦‚æœå­˜åœ¨åˆ™ä¸åœçš„æ‰§è¡Œï¼Œç›´è‡³æ¸…ç©º microtask é˜Ÿåˆ—</p>
<p>æ›´æ–°render(æ¯ä¸€æ¬¡äº‹ä»¶å¾ªç¯ï¼Œæµè§ˆå™¨éƒ½å¯èƒ½ä¼šå»æ›´æ–°æ¸²æŸ“)</p>
<p>é‡å¤ä»¥ä¸Šæ­¥éª¤</p>
<p>å®ä»»åŠ¡ &gt; æ‰€æœ‰å¾®ä»»åŠ¡ &gt; å®ä»»åŠ¡</p>
<ol>
<li><p>å°†æ‰€æœ‰ä»»åŠ¡çœ‹æˆä¸¤ä¸ªé˜Ÿåˆ—ï¼šæ‰§è¡Œé˜Ÿåˆ—ä¸äº‹ä»¶é˜Ÿåˆ—ã€‚</p>
</li>
<li><p>æ‰§è¡Œé˜Ÿåˆ—æ˜¯åŒæ­¥çš„ï¼Œäº‹ä»¶é˜Ÿåˆ—æ˜¯å¼‚æ­¥çš„ï¼Œå®ä»»åŠ¡æ”¾å…¥äº‹ä»¶åˆ—è¡¨ï¼Œå¾®ä»»åŠ¡æ”¾å…¥æ‰§è¡Œé˜Ÿåˆ—ä¹‹åï¼Œäº‹ä»¶é˜Ÿ</p>
</li>
</ol>
<p>åˆ—ä¹‹å‰ã€‚</p>
<ol start="3">
<li>å½“æ‰§è¡Œå®ŒåŒæ­¥ä»£ç ä¹‹åï¼Œå°±ä¼šæ‰§è¡Œä½äºæ‰§è¡Œåˆ—è¡¨ä¹‹åçš„å¾®ä»»åŠ¡ï¼Œç„¶åå†æ‰§è¡Œäº‹ä»¶åˆ—è¡¨ä¸­çš„å®ä»»åŠ¡</li>
</ol>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><table>
<thead>
<tr>
<th align="center"></th>
<th align="center">å®ä»»åŠ¡ï¼ˆmacrotaskï¼‰</th>
<th align="center">å¾®ä»»åŠ¡ï¼ˆmicrotaskï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td align="center">è°å‘èµ·çš„å®¿ä¸»</td>
<td align="center">ï¼ˆNodeã€æµè§ˆå™¨ï¼‰</td>
<td align="center">JSå¼•æ“</td>
</tr>
<tr>
<td align="center">å…·ä½“äº‹ä»¶</td>
<td align="center">1. script (å¯ä»¥ç†è§£ä¸ºå¤–å±‚åŒæ­¥ä»£ç ) 2. setTimeout&#x2F;setInterval 3. UI rendering&#x2F;UIäº‹ä»¶ 4.postMessageï¼ŒMessageChannel 5. setImmediateï¼ŒI&#x2F;Oï¼ˆNode.jsï¼‰</td>
<td align="center">1. Promise 2.MutaionObserver 3. Object.observeï¼ˆå·²åºŸå¼ƒï¼›Proxy å¯¹è±¡æ›¿ä»£ï¼‰ 4. process.nextTickï¼ˆNode.jsï¼‰</td>
</tr>
<tr>
<td align="center">è°å…ˆè¿è¡Œ</td>
<td align="center">åè¿è¡Œ</td>
<td align="center">å…ˆè¿è¡Œ</td>
</tr>
<tr>
<td align="center">ä¼šè§¦å‘æ–°ä¸€è½®Tickå—</td>
<td align="center">ä¼š</td>
<td align="center">ä¸ä¼š</td>
</tr>
</tbody></table>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚ä½•å®ç°å‡½æ•°çš„æŸ¯é‡ŒåŒ–ï¼Ÿæ¯”å¦‚-add-1-2-3"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-å¦‚ä½•å®ç°å‡½æ•°çš„æŸ¯é‡ŒåŒ–ï¼Ÿæ¯”å¦‚-add-1-2-3" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚ä½•å®ç°å‡½æ•°çš„æŸ¯é‡ŒåŒ–ï¼Ÿæ¯”å¦‚ add(1)(2)(3)"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ å¦‚ä½•å®ç°å‡½æ•°çš„æŸ¯é‡ŒåŒ–ï¼Ÿæ¯”å¦‚ add(1)(2)(3)</h3><pre><code class="javascript">/-----è§£å†³æ–¹æ³•1ï¼š-----/
function add () &#123;
 var args = Array.prototype.slice.call(arguments);
 var fn = function () &#123;
 var sub_arg = Array.prototype.slice.call(arguments);
ã€€ã€€ // æŠŠå…¨éƒ¨çš„å‚æ•°èšé›†åˆ°å‚æ•°çš„å…¥å£ä¸ºä¸€ä¸ªå‚æ•°ï¼š args.concat(sub_arg)
 return add.apply(null, args.concat(sub_arg));
 &#125;
 fn.valueOf = function () &#123;
 return args.reduce(function(a, b) &#123;
 return a + b;
 &#125;)
 &#125;
 return fn;
&#125;
console.log(add(1,2)) // 3
console.log(add(1)(2)) // 3
console.log(add(1)(2)(3)) // 6
console.log(add(1,2,3)(4)) // 10
</code></pre>
<pre><code class="javascript">/-----è§£å†³æ–¹æ³•2ï¼š-----/
function add () &#123;
 var args = Array.prototype.slice.call(arguments);
  var fn = function () &#123; 
    // æŠŠå‚æ•°éƒ½æ”¾åœ¨ä¸€ä¸ªç›¸å½“äºå…¨å±€å˜é‡çš„ args é‡Œé¢ args.push(...arguments) 
    return fn; &#125;
  fn.valueOf = function () &#123; 
    return args.reduce(function(a, b) &#123; 
      return a + b; &#125;) 
  &#125;return fn;
&#125;
console.log(add(1,2)) // 3
console.log(add(1)(2)) // 3
console.log(add(1)(2)(3)) // 6
console.log(add(1,2,3)(4)) // 10
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ä»€ä¹ˆæ˜¯åæŸ¯é‡ŒåŒ–"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ä»€ä¹ˆæ˜¯åæŸ¯é‡ŒåŒ–" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ä»€ä¹ˆæ˜¯åæŸ¯é‡ŒåŒ–"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ä»€ä¹ˆæ˜¯åæŸ¯é‡ŒåŒ–</h3><p>åœ¨JavaScriptä¸­ï¼Œå½“æˆ‘ä»¬è°ƒç”¨å¯¹è±¡çš„æŸä¸ªæ–¹æ³•æ—¶ï¼Œå…¶å®ä¸ç”¨å»å…³å¿ƒè¯¥å¯¹è±¡åŸæœ¬æ˜¯å¦è¢«è®¾è®¡ä¸ºæ‹¥æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œè¿™æ˜¯åŠ¨æ€ç±»å‹è¯­è¨€çš„ç‰¹ç‚¹ã€‚å¯ä»¥é€šè¿‡åæŸ¯é‡ŒåŒ–(uncurrying)å‡½æ•°å®ç°ï¼Œè®©ä¸€ä¸ªå¯¹è±¡å»å€Ÿç”¨ä¸€ä¸ªåŸæœ¬ä¸å±äºä»–çš„æ–¹æ³•ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-äº†è§£-ES6-çš„-Proxy-å—ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-äº†è§£-ES6-çš„-Proxy-å—ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ äº†è§£ ES6 çš„ Proxy å—ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ äº†è§£ ES6 çš„ Proxy å—ï¼Ÿ</h3><pre><code class="css">Proxyï¼Œä»£ç†ï¼Œæ˜¯ES6æ–°å¢çš„åŠŸèƒ½ï¼Œå¯ä»¥ç†è§£ä¸ºä»£ç†å™¨ï¼ˆå³ç”±å®ƒä»£ç†æŸäº›æ“ä½œï¼‰ã€‚
Proxy å¯¹è±¡ç”¨äºå®šä¹‰æˆ–ä¿®æ”¹æŸäº›æ“ä½œçš„è‡ªå®šä¹‰è¡Œä¸ºï¼Œå¯ä»¥åœ¨å¤–ç•Œå¯¹ç›®æ ‡å¯¹è±¡è¿›è¡Œè®¿é—®å‰ï¼Œå¯¹å¤–ç•Œçš„è®¿é—®
è¿›è¡Œæ”¹å†™ã€‚
new Proxy()è¡¨ç¤ºç”Ÿæˆä¸€ä¸ª Proxy å®ä¾‹
 -targetï¼šç›®æ ‡å¯¹è±¡
 -handlerï¼šä¸€ä¸ªå¯¹è±¡ï¼Œå…¶å±æ€§æ˜¯å½“æ‰§è¡Œä¸€ä¸ªæ“ä½œæ—¶å®šä¹‰ä»£ç†çš„è¡Œä¸ºçš„å‡½æ•°ã€‚
æ³¨æ„ï¼šè¦å®ç°æ‹¦æˆªæ“ä½œï¼Œå¿…é¡»æ˜¯å¯¹ Proxy å®ä¾‹è¿›è¡Œæ“ä½œï¼Œè€Œä¸æ˜¯é’ˆå¯¹ç›®æ ‡å¯¹è±¡ target è¿›è¡Œæ“ä½œ
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-æ·±æ‹·è´æ˜¯ä»€ä¹ˆï¼Ÿé¡¹ç›®å“ªé‡Œæ˜¯ç”¨åˆ°äº†æ·±æ‹·è´ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-æ·±æ‹·è´æ˜¯ä»€ä¹ˆï¼Ÿé¡¹ç›®å“ªé‡Œæ˜¯ç”¨åˆ°äº†æ·±æ‹·è´ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ æ·±æ‹·è´æ˜¯ä»€ä¹ˆï¼Ÿé¡¹ç›®å“ªé‡Œæ˜¯ç”¨åˆ°äº†æ·±æ‹·è´ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ æ·±æ‹·è´æ˜¯ä»€ä¹ˆï¼Ÿé¡¹ç›®å“ªé‡Œæ˜¯ç”¨åˆ°äº†æ·±æ‹·è´ï¼Ÿ</h3><p>1ï¼Œåœ¨æ‹·è´æ„é€ å‡½æ•°ä¸­å‡å¦‚åªå®Œæˆäº†æ•°æ®æˆå‘˜æœ¬èº«çš„èµ‹å€¼åˆ™ç§°ä¸ºâ€œæµ…æ‹·è´â€ï¼›ç¼–è¯‘å™¨æä¾›çš„é»˜è®¤æ‹·è´æ„é€ å‡½</p>
<p>æ•°å°±å·²ç»å¯ä»¥å®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚</p>
<p>è€Œå‡å¦‚è¦å¤åˆ¶çš„æ•°æ®é™¤äº†å±æ€§å€¼æœ¬èº«ä»¥å¤–ï¼Œè¿˜è¦å¤åˆ¶é™„åŠ åœ¨æ•°æ®å±æ€§å€¼ä¸Šçš„é¢å¤–å†…å®¹ï¼Œé‚£å°±è¦è‡ªå·±æ¥å†™</p>
<p>æ‹·è´æ„é€ å‡½æ•°äº†ï¼Œæ¥å®Œæˆæ‰€è°“çš„â€œæ·±æ‹·è´â€ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<p>è‹¥åœ¨æ„é€ å‡½æ•°ä¸­newäº†ä¸€ä¸ªæ–°çš„ç©ºé—´å­˜æ”¾æ•°æ®ï¼Œå¹¶ä¸”ç”¨æŒ‡é’ˆè®°å½•äº†é¦–åœ°å€ï¼›è‹¥æ˜¯æµ…æ‹·è´ï¼Œåˆ™åœ¨æ‹·è´æ„é€ </p>
<p>å‡½æ•°ä¸­æŒ‡é’ˆå€¼å°†å¤åˆ¶ç»™å¦ä¸€ä¸ªæ•°æ®æˆå‘˜ï¼Œè¿™æ ·å°±ä¼šæœ‰ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªç©ºé—´ï¼›è¿™æ ·çš„è¯åœ¨ææ„å‡½æ•°é‡Œ</p>
<p>å°†ä¼šå¯¹æŒ‡é’ˆæ‰€æŒ‡å‘çš„ç©ºé—´è¿›è¡Œé‡Šæ”¾ï¼Œç”±äºä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªç©ºé—´ï¼Œåœ¨é‡Šæ”¾ç¬¬ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘çš„ç©ºé—´</p>
<p>æ—¶ä¸ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Œè€Œé‡Šæ”¾ç¬¬äºŒä¸ªæŒ‡é’ˆæŒ‡å‘çš„ç©ºé—´æ—¶å°±ä¼šå› ä¸ºç©ºé—´å·²ç»è¢«è§£æè¿‡è€Œå¯¼è‡´è§£æçš„ç©ºé—´ä¸</p>
<p>å­˜åœ¨çš„æƒ…å†µï¼Œå°±ä¼šé€ æˆç¨‹åºæ— æ³•ç»ˆæ­¢ã€‚</p>
<p>è€Œè§£å†³ä¸Šé¢è¿™ç§æƒ…å†µçš„åŠæ³•å°±æ˜¯ä½¿ç”¨â€œæ·±æ‹·è´â€ï¼Œæ·±æ‹·è´æ˜¯åœ¨æ‹·è´æ„é€ å‡½æ•°é‡Œå†newä¸€ä¸ªæ–°çš„ç©ºé—´ã€‚å°†æ•°</p>
<p>æ®å¤åˆ¶åœ¨æ–°ç©ºé—´é‡Œï¼Œå¹¶å°†æ‹·è´çš„æŒ‡é’ˆè®°å½•è¿™ä¸ªæ–°ç©ºé—´çš„é¦–åœ°å€ï¼Œè¿™æ ·åœ¨ææ„å‡½æ•°é‡Œå°±ä¸ä¼šæœ‰é—®é¢˜äº†ã€‚</p>
<p>2ï¼Œåœ¨æŸäº›å¼•ç”¨ç±»å‹å€¼ä¸æ›´æ–°çš„æƒ…å†µä¸‹ç”¨æ·±æ‹·è´</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ES6-ä¸­ï¼Œæ•°ç»„ç›‘æµ‹æ€ä¹ˆå®ç°çš„ï¼ˆä»£ç†ï¼‰"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ES6-ä¸­ï¼Œæ•°ç»„ç›‘æµ‹æ€ä¹ˆå®ç°çš„ï¼ˆä»£ç†ï¼‰" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ES6 ä¸­ï¼Œæ•°ç»„ç›‘æµ‹æ€ä¹ˆå®ç°çš„ï¼ˆä»£ç†ï¼‰"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ES6 ä¸­ï¼Œæ•°ç»„ç›‘æµ‹æ€ä¹ˆå®ç°çš„ï¼ˆä»£ç†ï¼‰</h3><pre><code class="javascript">// é€šè¿‡ES6çš„å…³é”®å­—extendså®ç°ç»§æ‰¿å®ŒæˆArrayåŸå‹æ–¹æ³•çš„é‡å†™
class NewArray extends Array &#123;
 constructor(...args) &#123;
 // è°ƒç”¨çˆ¶ç±»Arrayçš„constructor()
 super(...args)
 &#125;
 push (...args) &#123;
 console.log(&#39;ç›‘å¬åˆ°æ•°ç»„çš„å˜åŒ–å•¦ï¼&#39;);
   // è°ƒç”¨çˆ¶ç±»åŸå‹pushæ–¹æ³• 
   return super.push(...args)
 &#125;
 // ...
&#125;
let list3 = [1, 2];
let arr = new NewArray(...list3);
console.log(arr)
// (2) [1, 2]
arr.push(3);
// ç›‘å¬åˆ°æ•°ç»„çš„å˜åŒ–å•¦ï¼
console.log(arr)
// (3) [1, 2, 3]
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-æ¨¡æ¿å¼•æ“åŸç†"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-æ¨¡æ¿å¼•æ“åŸç†" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ æ¨¡æ¿å¼•æ“åŸç†"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ æ¨¡æ¿å¼•æ“åŸç†</h3><pre><code class="javascript">//æ¨¡æ¿å¼•æ“æ˜¯é€šè¿‡å­—ç¬¦ä¸²æ‹¼æ¥å¾—åˆ°çš„
let template = &#39;hello &lt;% name %&gt;!&#39;
let template = &#39;hello &#39; + name + &#39;!&#39;
å­—ç¬¦ä¸²æ˜¯é€šè¿‡new Functionæ‰§è¡Œçš„
let name = &#39;world&#39;
let template = let str = &#39;hello &#39; + name + &#39;!&#39; return str
let fn = new Function(&#39;name&#39;, template)
console.log(fn(name)) // hello world!

//å°†æ¨¡æ¿è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶é€šè¿‡å‡½æ•°æ‰§è¡Œè¿”å›
let template = &#39;hello &lt;% name %&gt;!&#39;
let name = &#39;world&#39;
function compile (template) &#123;
 let html = template.replace(/&lt;%([\s\S]+?)%&gt;/g, (match, code) =&gt; &#123;
 return &#39; + $&#123;code&#125; + &#39;
 &#125;)
 html = let str = &#39;$&#123;html&#125;&#39;; return str
 return new Function(&#39;name&#39;, html)
&#125;
let str = compile(template)
console.log(str(name)) // hello world!

//å‡½æ•°åªèƒ½æ¥æ”¶ä¸€ä¸ªnameå˜é‡ä½œä¸ºå‚æ•°ï¼ŒåŠŸèƒ½å¤ªå•ä¸€äº†ï¼Œä¸€èˆ¬ä¼šé€šè¿‡å¯¹è±¡æ¥ä¼ å‚ï¼Œwithæ¥å‡å°‘å˜é‡è®¿
é—®ã€‚
withåŠŸèƒ½
let params = &#123;
 name: &#39;å¼ ä¸‰&#39;,
 age: 18
&#125;
let str = &#39;&#39;
with (params) &#123;
 str = ç”¨æˆ·$&#123;name&#125;çš„å¹´é¾„æ˜¯$&#123;age&#125;å² &#125;
console.log(str) // ç”¨æˆ·å¼ ä¸‰çš„å¹´é¾„æ˜¯18å²

//å®ç°ç®€å•çš„æ¨¡æ¿å¼•æ“
let template = &#39;hello &lt;% name %&gt;!&#39;
let name = &#39;world&#39;
function compile (template) &#123;
 let html = template.replace(/&lt;%([\s\S]+?)%&gt;/g, (match, code) =&gt; &#123;
 return &#39; + $&#123;code.trim()&#125; + &#39;
 &#125;)
 html = &#39;$&#123;html&#125;&#39;
 html = let str = &#39;&#39;; with (params) &#123; str = $&#123;html&#125;; &#125; return str
 return new Function(&#39;params&#39;, html)
&#125;
let str = compile(template)
console.log(str(&#123; name &#125;)) // hello world!
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ES6-çš„æ–°ç‰¹æ€§"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ES6-çš„æ–°ç‰¹æ€§" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ES6 çš„æ–°ç‰¹æ€§"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ES6 çš„æ–°ç‰¹æ€§</h3><ol>
<li><p>constä¸let</p>
</li>
<li><p>æ¨¡æ¿å­—ç¬¦ä¸²</p>
</li>
<li><p>è§£æ„èµ‹å€¼</p>
</li>
<li><p>å¯¹è±¡ç®€å†™æ³•</p>
</li>
<li><p>forâ€¦ofå¾ªç¯</p>
</li>
<li><p>å±•å¼€è¿ç®—ç¬¦</p>
</li>
<li><p>å‰©ä½™å‚æ•°(å¯å˜å‚æ•°) </p>
</li>
<li><p>ES6ç®­å¤´å‡½æ•°</p>
</li>
<li><p>å‚æ•°é»˜è®¤å€¼</p>
</li>
<li><p>ç±»å’Œç»§æ‰¿</p>
</li>
<li><p>æ¨¡å—åŒ–è§„èŒƒ</p>
</li>
</ol>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-å›¾ç‰‡æ‡’åŠ è½½æ€ä¹ˆå®ç°ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-å›¾ç‰‡æ‡’åŠ è½½æ€ä¹ˆå®ç°ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ å›¾ç‰‡æ‡’åŠ è½½æ€ä¹ˆå®ç°ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ å›¾ç‰‡æ‡’åŠ è½½æ€ä¹ˆå®ç°ï¼Ÿ</h3><p>åŸç†ï¼šéšç€æ»šè½®æ»šåŠ¨ï¼Œåº•éƒ¨çš„å›¾ç‰‡ä¼šè¢«ä¸æ–­åœ°åŠ è½½ï¼Œä»è€Œæ˜¾ç¤ºåœ¨é¡µé¢ä¸Šï¼ŒæŒ‰éœ€åŠ è½½ï¼Œå½“é¡µé¢éœ€è¦æ˜¾ç¤ºå›¾ç‰‡çš„æ—¶å€™æ‰è¿›è¡ŒåŠ è½½ï¼Œå¦åˆ™ä¸åŠ è½½</p>
<ol>
<li><p>é¡µé¢åŠ è½½å®Œæˆæ—¶è®°å½•æ¯ä¸ªimgæ ‡ç­¾çš„srcå€¼çš„å­—ç¬¦ä¸²ï¼Œ</p>
</li>
<li><p>ç”¨é¼ æ ‡æ»šè½®åˆ¤æ–­å›¾ç‰‡æ˜¯å¦å‡ºç°åœ¨å±å¹•ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™æŠŠè®°å½•çš„srcå€¼èµ‹å€¼ç»™srcå±æ€§</p>
</li>
<li><p>ç„¶åè®©imageçš„srcæ¥å‘èµ·è¯·æ±‚ï¼Œè·å–å¯¹åº”çš„å›¾ç‰‡æ”¾ç½®åˆ°DOMæ ‘çš„è¿™ä¸ªä½ç½®ä¸Šï¼Œä»è€Œå®ç°å›¾ç‰‡çš„é¡µé¢æ¸²æŸ“ï¼</p>
</li>
</ol>
<p>äºæ˜¯å°±å¯ä»¥çŸ¥é“ï¼Œå½“è¿›å…¥é¡µé¢çš„æ—¶å€™ï¼Œå…¶å®æˆ‘ä»¬å·²ç»æŠŠæ‰€æœ‰çš„å›¾ç‰‡çš„è¿™ä¸ªåœ°å€ä¿¡æ¯æ‹¿åˆ°äº†ï¼Œå›¾ç‰‡æ‡’åŠ è½½çš„ä½œç”¨å°±æ˜¯è®©è¿™ä¸ªå›¾ç‰‡çš„srcæŒ‰éœ€å‘èµ·è¯·æ±‚ï¼Œè·å–å›¾ç‰‡ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-å¼‚æ­¥çš„è§£å†³æ–¹æ¡ˆæœ‰å“ªäº›ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-å¼‚æ­¥çš„è§£å†³æ–¹æ¡ˆæœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ å¼‚æ­¥çš„è§£å†³æ–¹æ¡ˆæœ‰å“ªäº›ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ å¼‚æ­¥çš„è§£å†³æ–¹æ¡ˆæœ‰å“ªäº›ï¼Ÿ</h3><p>1.å›è°ƒå‡½æ•°callback</p>
<p>2.äº‹ä»¶å‘å¸ƒè®¢é˜…</p>
<p>3.Promise</p>
<p>4.Generator</p>
<p>5.async&#x2F;await</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-å¸¸è§å†…å­˜æ³„æ¼"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-å¸¸è§å†…å­˜æ³„æ¼" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ å¸¸è§å†…å­˜æ³„æ¼"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ å¸¸è§å†…å­˜æ³„æ¼</h3><p>1ã€é™æ€é›†åˆç±»ï¼Œå¦‚HashMapã€LinkedListç­‰ç­‰ã€‚å¦‚æœè¿™äº›å®¹å™¨ä¸ºé™æ€çš„ï¼Œé‚£ä¹ˆå®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸä¸ç¨‹åºä¸€è‡´ï¼Œåˆ™å®¹å™¨ä¸­çš„å¯¹è±¡åœ¨ç¨‹åºç»“æŸä¹‹å‰å°†ä¸èƒ½è¢«é‡Šæ”¾ï¼Œä»è€Œé€ æˆå†…å­˜æ³„æ¼ã€‚ç®€å•è€Œè¨€ï¼Œé•¿ç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡æŒæœ‰çŸ­ç”Ÿå‘½å‘¨æœŸå¯¹è±¡çš„å¼•ç”¨ï¼Œå°½ç®¡çŸ­ç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡ä¸å†ä½¿ç”¨ï¼Œä½†æ˜¯å› ä¸ºé•¿ç”Ÿå‘½å‘¨æœŸå¯¹è±¡æŒæœ‰å®ƒçš„å¼•ç”¨è€Œå¯¼è‡´ä¸èƒ½è¢«å›æ”¶ã€‚</p>
<p>2ã€å„ç§è¿æ¥ï¼Œå¦‚æ•°æ®åº“è¿æ¥ã€ç½‘ç»œè¿æ¥å’ŒIOè¿æ¥ç­‰ã€‚åœ¨å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œçš„è¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆéœ€è¦å»ºç«‹ä¸æ•°æ®åº“çš„è¿æ¥ï¼Œå½“ä¸å†ä½¿ç”¨æ—¶ï¼Œéœ€è¦è°ƒç”¨closeæ–¹æ³•æ¥é‡Šæ”¾ä¸æ•°æ®åº“çš„è¿æ¥ã€‚åªæœ‰è¿æ¥è¢«å…³é—­åï¼Œåƒåœ¾å›æ”¶å™¨æ‰ä¼šå›æ”¶å¯¹åº”çš„å¯¹è±¡ã€‚å¦åˆ™ï¼Œå¦‚æœåœ¨è®¿é—®æ•°æ®åº“çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹Connectionã€Statementæˆ–ResultSetä¸æ˜¾æ€§åœ°å…³é—­ï¼Œå°†ä¼šé€ æˆå¤§é‡çš„å¯¹è±¡æ— æ³•è¢«å›æ”¶ï¼Œä»è€Œå¼•èµ·å†…å­˜æ³„æ¼ã€‚</p>
<p>3ã€å˜é‡ä¸åˆç†çš„ä½œç”¨åŸŸã€‚ä¸€èˆ¬è€Œè¨€ï¼Œä¸€ä¸ªå˜é‡çš„å®šä¹‰çš„ä½œç”¨èŒƒå›´å¤§äºå…¶ä½¿ç”¨èŒƒå›´ï¼Œå¾ˆæœ‰å¯èƒ½ä¼šé€ æˆå†…å­˜æ³„æ¼ã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœæ²¡æœ‰åŠæ—¶åœ°æŠŠå¯¹è±¡è®¾ç½®ä¸ºnullï¼Œå¾ˆæœ‰å¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼çš„å‘ç”Ÿã€‚</p>
<p>4ã€å†…éƒ¨ç±»æŒæœ‰å¤–éƒ¨ç±»ï¼Œå¦‚æœä¸€ä¸ªå¤–éƒ¨ç±»çš„å®ä¾‹å¯¹è±¡çš„æ–¹æ³•è¿”å›äº†ä¸€ä¸ªå†…éƒ¨ç±»çš„å®ä¾‹å¯¹è±¡ï¼Œè¿™ä¸ªå†…éƒ¨ç±»å¯¹è±¡è¢«é•¿æœŸå¼•ç”¨äº†ï¼Œå³ä½¿é‚£ä¸ªå¤–éƒ¨ç±»å®ä¾‹å¯¹è±¡ä¸å†è¢«ä½¿ç”¨ï¼Œä½†ç”±äºå†…éƒ¨ç±»æŒæœ‰å¤–éƒ¨ç±»çš„å®ä¾‹å¯¹è±¡ï¼Œè¿™ä¸ªå¤–éƒ¨ç±»å¯¹è±¡å°†ä¸ä¼šè¢«åƒåœ¾å›æ”¶ï¼Œè¿™ä¹Ÿä¼šé€ æˆå†…å­˜æ³„éœ²ã€‚</p>
<p>5ã€æ”¹å˜å“ˆå¸Œå€¼ï¼Œå½“ä¸€ä¸ªå¯¹è±¡è¢«å­˜å‚¨è¿›HashSeté›†åˆä¸­ä»¥åï¼Œå°±ä¸èƒ½ä¿®æ”¹è¿™ä¸ªå¯¹è±¡ä¸­çš„é‚£äº›å‚ä¸è®¡ç®—å“ˆå¸Œå€¼çš„å­—æ®µäº†ï¼Œå¦åˆ™ï¼Œå¯¹è±¡ä¿®æ”¹åçš„å“ˆå¸Œå€¼ä¸æœ€åˆå­˜å‚¨è¿›HashSeté›†åˆä¸­æ—¶çš„å“ˆå¸Œå€¼å°±ä¸åŒäº†ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå³ä½¿åœ¨containsæ–¹æ³•ä½¿ç”¨è¯¥å¯¹è±¡çš„å½“å‰å¼•ç”¨ä½œä¸ºçš„å‚æ•°å»HashSeté›†åˆä¸­æ£€ç´¢å¯¹è±¡ï¼Œä¹Ÿå°†è¿”å›æ‰¾ä¸åˆ°å¯¹è±¡çš„ç»“æœï¼Œè¿™ä¹Ÿä¼šå¯¼è‡´æ— æ³•ä»HashSeté›†åˆä¸­å•ç‹¬åˆ é™¤å½“å‰å¯¹è±¡ï¼Œé€ æˆå†…å­˜æ³„éœ²</p>
<p>6ã€ç¼“å­˜æ³„æ¼</p>
<p>å†…å­˜æ³„æ¼çš„å¦ä¸€ä¸ªå¸¸è§æ¥æºæ˜¯ç¼“å­˜ï¼Œä¸€æ—¦ä½ æŠŠå¯¹è±¡å¼•ç”¨æ”¾å…¥åˆ°ç¼“å­˜ä¸­ï¼Œä»–å°±å¾ˆå®¹æ˜“é—å¿˜ï¼Œå¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨WeakHashMapä»£è¡¨ç¼“å­˜ï¼Œæ­¤ç§Mapçš„ç‰¹ç‚¹æ˜¯ï¼Œå½“é™¤äº†è‡ªèº«æœ‰å¯¹keyçš„å¼•ç”¨å¤–ï¼Œæ­¤keyæ²¡æœ‰å…¶ä»–å¼•ç”¨é‚£ä¹ˆæ­¤mapä¼šè‡ªåŠ¨ä¸¢å¼ƒæ­¤å€¼</p>
<p>7ã€ç›‘å¬å™¨å’Œå›è°ƒ</p>
<p>å†…å­˜æ³„æ¼ç¬¬ä¸‰ä¸ªå¸¸è§æ¥æºæ˜¯ç›‘å¬å™¨å’Œå…¶ä»–å›è°ƒï¼Œå¦‚æœå®¢æˆ·ç«¯åœ¨ä½ å®ç°çš„APIä¸­æ³¨å†Œå›è°ƒï¼Œå´æ²¡æœ‰æ˜¾ç¤ºçš„å–æ¶ˆï¼Œé‚£ä¹ˆå°±ä¼šç§¯èšã€‚éœ€è¦ç¡®ä¿å›è°ƒç«‹å³è¢«å½“ä½œåƒåœ¾å›æ”¶çš„æœ€ä½³æ–¹æ³•æ˜¯åªä¿å­˜ä»–çš„è‹¥å¼•ç”¨ï¼Œä¾‹å¦‚å°†ä»–ä»¬ä¿å­˜æˆä¸ºWeakHashMapä¸­çš„é”®ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-æ’å…¥å‡ ä¸‡ä¸ª-dom-ï¼Œå¦‚ä½•å®ç°é¡µé¢ä¸å¡é¡¿ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-æ’å…¥å‡ ä¸‡ä¸ª-dom-ï¼Œå¦‚ä½•å®ç°é¡µé¢ä¸å¡é¡¿ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ æ’å…¥å‡ ä¸‡ä¸ª dom ï¼Œå¦‚ä½•å®ç°é¡µé¢ä¸å¡é¡¿ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ æ’å…¥å‡ ä¸‡ä¸ª dom ï¼Œå¦‚ä½•å®ç°é¡µé¢ä¸å¡é¡¿ï¼Ÿ</h3><pre><code class="javascript">è®©åˆ›å»ºæ’å…¥èŠ‚ç‚¹çš„å·¥ä½œåˆ†æ‰¹è¿›è¡Œï¼š
setTimeout(() =&gt; &#123;
 // æ’å…¥åä¸‡æ¡æ•°æ®
 const total = 100000;
 // ä¸€æ¬¡æ’å…¥ 20 æ¡ï¼Œå¦‚æœè§‰å¾—æ€§èƒ½ä¸å¥½å°±å‡å°‘
 const once = 20;
 // æ¸²æŸ“æ•°æ®æ€»å…±éœ€è¦å‡ æ¬¡
 const loopCount = total / once;
 let countOfRender = 0
 let ul = document.querySelector(&quot;ul&quot;);
 function add() &#123;
 // ä¼˜åŒ–æ€§èƒ½ï¼Œæ’å…¥ä¸ä¼šé€ æˆå›æµ
 const fragment = document.createDocumentFragment();
 for (let i = 0; i &lt; once; i++) &#123;
 const li = document.createElement(&quot;li&quot;);
 li.innerText = Math.floor(Math.random() * total);
 fragment.appendChild(li);
 &#125;
 ul.appendChild(fragment);
 countOfRender += 1;
 loop();
 &#125;
 function loop() &#123;
 if (countOfRender &lt; loopCount) &#123;
 window.requestAnimationFrame(add);
 &#125;
 &#125;
 loop();
&#125;, 0);
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ä½ çŸ¥é“ä»€ä¹ˆæ˜¯åŸå‹å—ï¼Ÿæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ç”¨åŸå‹å‘¢ï¼Ÿæˆ–è€…è¯´åŸå‹ä¸ºæˆ‘ä»¬æä¾›äº†ä»€ä¹ˆï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ä½ çŸ¥é“ä»€ä¹ˆæ˜¯åŸå‹å—ï¼Ÿæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ç”¨åŸå‹å‘¢ï¼Ÿæˆ–è€…è¯´åŸå‹ä¸ºæˆ‘ä»¬æä¾›äº†ä»€ä¹ˆï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ä½ çŸ¥é“ä»€ä¹ˆæ˜¯åŸå‹å—ï¼Ÿæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ç”¨åŸå‹å‘¢ï¼Ÿæˆ–è€…è¯´åŸå‹ä¸ºæˆ‘ä»¬æä¾›äº†ä»€ä¹ˆï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ä½ çŸ¥é“ä»€ä¹ˆæ˜¯åŸå‹å—ï¼Ÿæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ç”¨åŸå‹å‘¢ï¼Ÿæˆ–è€…è¯´åŸå‹ä¸ºæˆ‘ä»¬æä¾›äº†ä»€ä¹ˆï¼Ÿ</h3><p>ä»€ä¹ˆæ˜¯åŸå‹ï¼š</p>
<p>Javascriptè§„å®šï¼Œæ¯ä¸€ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototypeå¯¹è±¡å±æ€§ï¼ŒæŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ï¼ˆåŸå‹é“¾ä¸Šé¢çš„ï¼‰ã€‚</p>
<p>prototype(å¯¹è±¡å±æ€§)çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œéƒ½ä¼šè¢«æ„é€ å‡½æ•°çš„å®ä¾‹ç»§æ‰¿ã€‚è¿™æ„å‘³ç€ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠé‚£äº›ä¸å˜(å…¬ç”¨)çš„å±æ€§å’Œæ–¹æ³•ï¼Œç›´æ¥å®šä¹‰åœ¨prototypeå¯¹è±¡å±æ€§ä¸Šã€‚</p>
<p>prototypeå°±æ˜¯è°ƒç”¨æ„é€ å‡½æ•°æ‰€åˆ›å»ºçš„é‚£ä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹ï¼ˆprotoï¼‰ã€‚</p>
<p>prototypeå¯ä»¥è®©æ‰€æœ‰å¯¹è±¡å®ä¾‹å…±äº«å®ƒæ‰€åŒ…å«çš„å±æ€§å’Œæ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¿…åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰å¯¹è±¡ä¿¡æ¯ï¼Œè€Œæ˜¯å¯ä»¥ç›´æ¥å°†è¿™äº›ä¿¡æ¯æ·»åŠ åˆ°åŸå‹ä¸­ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¦ç”¨åŸå‹ï¼šä½¿ç”¨åŸå‹å¯¹è±¡è§£å†³æµªè´¹å†…å­˜</p>
<hr>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-æµè§ˆå™¨å’Œ-Node-äº‹ä»¶å¾ªç¯çš„åŒºåˆ«ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-æµè§ˆå™¨å’Œ-Node-äº‹ä»¶å¾ªç¯çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ æµè§ˆå™¨å’Œ Node äº‹ä»¶å¾ªç¯çš„åŒºåˆ«ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ æµè§ˆå™¨å’Œ Node äº‹ä»¶å¾ªç¯çš„åŒºåˆ«ï¼Ÿ</h3><h4 id="Nodeä¸­çš„äº‹ä»¶å¾ªç¯ï¼š"><a href="#Nodeä¸­çš„äº‹ä»¶å¾ªç¯ï¼š" class="headerlink" title="Nodeä¸­çš„äº‹ä»¶å¾ªç¯ï¼š"></a>Nodeä¸­çš„äº‹ä»¶å¾ªç¯ï¼š</h4><p>Node ä¸­çš„ Event Loop å’Œæµè§ˆå™¨ä¸­çš„æ˜¯å®Œå…¨ä¸ç›¸åŒçš„ä¸œè¥¿ã€‚Node.js é‡‡ç”¨ V8 ä½œä¸º js çš„è§£æå¼•æ“ï¼Œè€Œ</p>
<p>I&#x2F;O å¤„ç†æ–¹é¢ä½¿ç”¨äº†è‡ªå·±è®¾è®¡çš„ libuvï¼Œlibuv æ˜¯ä¸€ä¸ªåŸºäºäº‹ä»¶é©±åŠ¨çš„è·¨å¹³å°æŠ½è±¡å±‚ï¼Œå°è£…äº†ä¸åŒæ“ä½œç³»</p>
<p>ç»Ÿä¸€äº›åº•å±‚ç‰¹æ€§ï¼Œå¯¹å¤–æä¾›ç»Ÿä¸€çš„ APIï¼Œäº‹ä»¶å¾ªç¯æœºåˆ¶ä¹Ÿæ˜¯å®ƒé‡Œé¢çš„å®ç°ï¼ˆä¸‹æ–‡ä¼šè¯¦ç»†ä»‹ç»ï¼‰ã€‚</p>
<h4 id="Node-js-çš„è¿è¡Œæœºåˆ¶å¦‚ä¸‹"><a href="#Node-js-çš„è¿è¡Œæœºåˆ¶å¦‚ä¸‹" class="headerlink" title="Node.js çš„è¿è¡Œæœºåˆ¶å¦‚ä¸‹:"></a>Node.js çš„è¿è¡Œæœºåˆ¶å¦‚ä¸‹:</h4><p>V8 å¼•æ“è§£æ JavaScript è„šæœ¬ã€‚</p>
<p>è§£æåçš„ä»£ç ï¼Œè°ƒç”¨ Node APIã€‚</p>
<p>libuv åº“è´Ÿè´£ Node API çš„æ‰§è¡Œã€‚å®ƒå°†ä¸åŒçš„ä»»åŠ¡åˆ†é…ç»™ä¸åŒçš„çº¿ç¨‹ï¼Œå½¢æˆä¸€ä¸ª Event Loopï¼ˆäº‹ä»¶å¾ª</p>
<p>ç¯ï¼‰ï¼Œä»¥å¼‚æ­¥çš„æ–¹å¼å°†ä»»åŠ¡çš„æ‰§è¡Œç»“æœè¿”å›ç»™ V8 å¼•æ“ã€‚</p>
<p>V8 å¼•æ“å†å°†ç»“æœè¿”å›ç»™ç”¨æˆ·ã€‚</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-å‡½æ•°èŠ‚æµã€é˜²æŠ–ã€‚scroll-resize-ä½¿ç”¨å‡½æ•°èŠ‚æµå®ç°ä¸è¦é¢‘ç¹è§¦å‘äº‹ä»¶çš„éœ€æ±‚ã€‚"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-å‡½æ•°èŠ‚æµã€é˜²æŠ–ã€‚scroll-resize-ä½¿ç”¨å‡½æ•°èŠ‚æµå®ç°ä¸è¦é¢‘ç¹è§¦å‘äº‹ä»¶çš„éœ€æ±‚ã€‚" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ å‡½æ•°èŠ‚æµã€é˜²æŠ–ã€‚scroll resize ä½¿ç”¨å‡½æ•°èŠ‚æµå®ç°ä¸è¦é¢‘ç¹è§¦å‘äº‹ä»¶çš„éœ€æ±‚ã€‚"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ å‡½æ•°èŠ‚æµã€é˜²æŠ–ã€‚scroll resize ä½¿ç”¨å‡½æ•°èŠ‚æµå®ç°ä¸è¦é¢‘ç¹è§¦å‘äº‹ä»¶çš„éœ€æ±‚ã€‚</h3><pre><code class="javascript">é˜²æŠ–ï¼š
//scrollæ–¹æ³•ä¸­çš„do somthingè‡³å°‘é—´éš”500æ¯«ç§’æ‰§è¡Œä¸€æ¬¡
 window.addEventListener(&#39;scroll&#39;,function()&#123;
 var timer;//ä½¿ç”¨é—­åŒ…ï¼Œç¼“å­˜å˜é‡
 return function()&#123;
 if(timer) clearTimeout(timer);
 timer = setTimeout(function()&#123;
 console.log(&#39;do somthing&#39;)
 &#125;,500)
 &#125;
 &#125;());//æ­¤å¤„()ä½œç”¨ - ç«‹å³è°ƒç”¨returnåé¢å‡½æ•°ï¼Œå½¢æˆé—­åŒ…
</code></pre>
<pre><code class="javascript">èŠ‚æµï¼š
//scrollæ–¹æ³•ä¸­å½“é—´éš”æ—¶é—´å¤§äº2sï¼Œdo somthingæ‰§è¡Œä¸€æ¬¡
 window.addEventListener(&#39;scroll&#39;,function()&#123;
 var timer ;//ä½¿ç”¨é—­åŒ…ï¼Œç¼“å­˜å˜é‡
 var startTime = new Date();
 return function()&#123;
 var curTime = new Date();
 if(curTime - startTime &gt;= 2000)&#123;
 timer = setTimeout(function()&#123;
 console.log(&#39;do somthing&#39;)
 &#125;,500);
 startTime = curTime;
 &#125;
   &#125; &#125;());//æ­¤å¤„()ä½œç”¨ - ç«‹å³è°ƒç”¨returnåé¢å‡½æ•°ï¼Œå½¢æˆé—­åŒ…
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-JSä¸­çš„å¸¸è§è®¾è®¡æ¨¡å¼ä»¥åŠåº”ç”¨åœºæ™¯ï¼Ÿ"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-JSä¸­çš„å¸¸è§è®¾è®¡æ¨¡å¼ä»¥åŠåº”ç”¨åœºæ™¯ï¼Ÿ" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ JSä¸­çš„å¸¸è§è®¾è®¡æ¨¡å¼ä»¥åŠåº”ç”¨åœºæ™¯ï¼Ÿ"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ JSä¸­çš„å¸¸è§è®¾è®¡æ¨¡å¼ä»¥åŠåº”ç”¨åœºæ™¯ï¼Ÿ</h3><p>1ã€å•ä¾‹æ¨¡å¼</p>
<p>å•ä¾‹æ¨¡å¼å°±æ˜¯ä¸€ä¸ªå®ä¾‹åœ¨æ•´ä¸ªç½‘é¡µçš„ç”Ÿå‘½å‘¨æœŸé‡Œåªåˆ›å»ºä¸€æ¬¡ï¼Œåç»­å†è°ƒç”¨å®ä¾‹åˆ›å»ºå‡½æ•°çš„æ—¶å€™ï¼Œè¿”å›çš„</p>
<p>ä»æ˜¯ä¹‹å‰åˆ›å»ºçš„å®ä¾‹ã€‚åœ¨å®é™…å¼€å‘ä¸­åº”ç”¨ååˆ†å¹¿æ³›ï¼Œä¾‹å¦‚é¡µé¢ä¸­çš„ç™»å½•æ¡†ï¼Œæ˜¾ç¤ºæ¶ˆæ¯çš„æç¤ºçª—</p>
<p>2ã€ç­–ç•¥æ¨¡å¼</p>
<p>ç­–ç•¥æ¨¡å¼æ˜¯æŒ‡å°†ç­–ç•¥ï¼ˆç®—æ³•ï¼‰å°è£…èµ·æ¥ï¼Œç­–ç•¥çš„ç›®çš„æ˜¯å°†ç®—æ³•å’Œä½¿ç”¨åˆ†ç¦»å¼€ã€‚</p>
<p>3ã€ä»£ç†æ¨¡å¼</p>
<p>ä»£ç†æ¨¡å¼å¾ˆå¥½ç†è§£ï¼Œæˆ‘ä»¬ä¸èƒ½ç›´æ¥ä½¿ç”¨ç›®æ ‡å‡½æ•°ï¼Œè€Œæ˜¯é€šè¿‡è°ƒç”¨ä»£ç†å‡½æ•°æ¥å®ç°å¯¹ç›®æ ‡å‡½æ•°çš„ä½¿ç”¨ã€‚</p>
<p>4ã€å‘å¸ƒè®¢é˜…æ¨¡å¼</p>
<p>å‘å¸ƒè®¢é˜…æ¨¡å¼åœ¨å®é™…åº”ç”¨ä¸­éå¸¸å¸¸è§ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬åœ¨å¾®ä¿¡Appä¸Šå…³æ³¨äº†æŸä¸ªå…¬ä¼—å·ï¼Œå½“è¯¥å…¬ä¼—å·æœ‰æ–°æ–‡</p>
<p>ç« å‘å¸ƒæ—¶ï¼Œå°±ä¼šé€šçŸ¥æˆ‘ä»¬ã€‚</p>
<p>å‘å¸ƒè®¢é˜…æ¨¡å¼å®šä¹‰äº†ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“â€œä¸€â€å‘ç”Ÿå˜åŒ–ï¼Œé€šçŸ¥å¤šä¸ªä¾èµ–ã€‚</p>
<p>5ã€å‘½ä»¤æ¨¡å¼</p>
<p>æ‰€è°“å‘½ä»¤æ¨¡å¼å°±æ˜¯å°†ä¸‹è¦æ‰§è¡Œçš„ä¸šåŠ¡é€»è¾‘å°è£…åˆ°ä¸€ä¸ªå‡½æ•°æˆ–ç±»ä¸­ï¼Œä¸éœ€è¦å…·ä½“è°æ¥æ‰§è¡Œè¯¥å‘½ä»¤çš„</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ç”¨å¤šç§æ–¹æ³•å®ç°JavaScriptç»§æ‰¿"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-ç”¨å¤šç§æ–¹æ³•å®ç°JavaScriptç»§æ‰¿" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ç”¨å¤šç§æ–¹æ³•å®ç°JavaScriptç»§æ‰¿"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ ç”¨å¤šç§æ–¹æ³•å®ç°JavaScriptç»§æ‰¿</h3><h4 id="1-å€Ÿç”¨æ„é€ å‡½æ•°-ç»å…¸ç»§æ‰¿"><a href="#1-å€Ÿç”¨æ„é€ å‡½æ•°-ç»å…¸ç»§æ‰¿" class="headerlink" title="1.å€Ÿç”¨æ„é€ å‡½æ•°(ç»å…¸ç»§æ‰¿)"></a>1.å€Ÿç”¨æ„é€ å‡½æ•°(ç»å…¸ç»§æ‰¿)</h4><pre><code class="css">function Cat(name,age)&#123;
    Animal.call(this,name)
    this.age=age
&#125;
let cat=new Cat(&quot;å¦™å¦™&quot;,1)
cat.sayname()
console.log(cat instanceof Animal)  //false
console.log(cat instanceof Cat)    //true

æ ¸å¿ƒï¼šä½¿ç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°æ¥å¢å¼ºå­ç±»å®ä¾‹ï¼Œç­‰äºæ˜¯å¤åˆ¶çˆ¶ç±»çš„å®ä¾‹å±æ€§ç»™å­ç±»ã€‚
ä¼˜ç‚¹ï¼š
1.æ„é€ å‡½æ•°ï¼Œä¼˜ç‚¹æ˜¯å¯ä»¥å¤šé‡ç»§æ‰¿ã€‚
2.åˆ›å»ºå­ç±»å®ä¾‹æ—¶ï¼Œå¯ä»¥å‘çˆ¶ç±»ä¼ é€’å‚æ•°ã€‚
ç¼ºç‚¹ï¼š
1.å®ä¾‹å¹¶ä¸æ˜¯çˆ¶ç±»çš„å®ä¾‹ï¼Œåªæ˜¯å­ç±»çš„å®ä¾‹ã€‚
2.åªèƒ½ç»§æ‰¿æ„é€ å‡½æ•°å†…çš„ï¼ŒåŸå‹ä¸Šçš„ä¸œè¥¿ä¸èƒ½ç»§æ‰¿ã€‚
3.æ— æ³•å®ç°å‡½æ•°å¤ç”¨ï¼Œæ¯ä¸ªå­ç±»éƒ½æœ‰çˆ¶ç±»å®ä¾‹å‡½æ•°çš„å‰¯æœ¬ï¼Œå½±å“æ€§èƒ½ã€‚
</code></pre>
<h4 id="2-åŸå‹é“¾ç»§æ‰¿"><a href="#2-åŸå‹é“¾ç»§æ‰¿" class="headerlink" title="2.åŸå‹é“¾ç»§æ‰¿"></a>2.åŸå‹é“¾ç»§æ‰¿</h4><pre><code class="css">function Dog(name)&#123;
    this.name=name
&#125;
Dog.prototype=new Animal()
let dog =new Dog(&#39;æ—ºè´¢&#39;)
dog.sayname();dog.eat(&#39;bone&#39;)
console.log(dog instanceof Animal)  //true
console.log(dog instanceof Dog)    //true

æ ¸å¿ƒï¼šå°†çˆ¶ç±»çš„å®ä¾‹ä½œä¸ºå­ç±»çš„åŸå‹ã€‚
ä¼˜ç‚¹ï¼š
1.éå¸¸çº¯ç²¹çš„ç»§æ‰¿å…³ç³»ï¼Œå®ä¾‹æ˜¯å­ç±»çš„å®ä¾‹ï¼Œä¹Ÿæ˜¯çˆ¶ç±»çš„å®ä¾‹ã€‚
2.ç®€å•ï¼Œçˆ¶ç±»ä¸Šæ–°å¢çš„æ–¹æ³•å±æ€§å­ç±»éƒ½èƒ½è®¿é—®çš„åˆ°ã€‚
3.ç®€å•ï¼Œæ˜“äºå®ç°ã€‚
ç¼ºç‚¹ï¼š
1.è¦æƒ³ä¸ºå­ç±»æ–°å¢å±æ€§å’Œæ–¹æ³•ï¼Œå¿…é¡»åœ¨ new Animalè¿™æ ·è¯­å¥åï¼Œä¸èƒ½æ”¾åˆ°æ„é€ å™¨å†…ã€‚
2.æ— æ³•å¤šé‡ç»§æ‰¿ã€‚
3.åˆ›å»ºå­ç±»å®ä¾‹çš„æ—¶å€™ï¼Œæ— æ³•å‘çˆ¶ç±»æ„é€ å‡½æ•°ä¼ å‚ã€‚
</code></pre>
<h4 id="3-å®ä¾‹ç»§æ‰¿"><a href="#3-å®ä¾‹ç»§æ‰¿" class="headerlink" title="3.å®ä¾‹ç»§æ‰¿"></a>3.å®ä¾‹ç»§æ‰¿</h4><pre><code class="css">function Bird(name)&#123;
    let instance= new Animal()
    instance.name= name || &#39;bird&#39;
    return instance
&#125;
let bird =new Bird(&quot;é£é£&quot;)
bird.sayname();bird.eat(&quot;è™«å­&quot;)
console.log(bird instanceof Animal)  //true
console.log(bird instanceof Bird)    //false

æ ¸å¿ƒï¼šä¸ºçˆ¶ç±»å®ä¾‹æ·»åŠ æ–°ç‰¹æ€§ï¼Œä½œä¸ºå­ç±»å®ä¾‹è¿”å›ã€‚
ä¼˜ç‚¹ï¼šä¸é™åˆ¶è°ƒç”¨æ–¹å¼ï¼Œä¸ç®¡æ˜¯newå­ç±»ï¼ˆï¼‰è¿˜æ˜¯å­ç±»ï¼ˆï¼‰ï¼Œè¿”å›çš„å¯¹è±¡å…·æœ‰ç›¸åŒçš„æ•ˆæœã€‚
ç¼ºç‚¹ï¼šå°±æ˜¯å®ä¾‹æ˜¯çˆ¶ç±»çš„å®ä¾‹ï¼Œä¸æ˜¯å­ç±»çš„å®ä¾‹ï¼Œä¸æ”¯æŒå¤šç»§æ‰¿ã€‚
</code></pre>
<h4 id="4-æ‹·è´ç»§æ‰¿"><a href="#4-æ‹·è´ç»§æ‰¿" class="headerlink" title="4.æ‹·è´ç»§æ‰¿"></a>4.æ‹·è´ç»§æ‰¿</h4><pre><code class="css">function Cow(name)&#123;
    let animal=new Animal()
    for (let key in animal)&#123;
        console.log(&quot;key&quot;,key)
        Cow.prototype[key]=animal[key]
    &#125;
    Cow.prototype.name=name || &#39;cow&#39;
&#125;
let cow =new Cow(&quot;å“ï½&quot;)
cow.sayname();cow.eat(&quot;è‰&quot;)
console.log(cow instanceof Animal)  //false
console.log(cow instanceof Cow)    //true 

ä¼˜ç‚¹ï¼šæ”¯æŒå¤šç»§æ‰¿
ç¼ºç‚¹ï¼š
1.æ•ˆç‡è¾ƒä½ï¼Œå†…å­˜å ç”¨é«˜ï¼ˆå› ä¸ºè¦æ‹·è´çˆ¶äº²çš„å±æ€§ï¼‰
2.æ— æ³•è·å–çˆ¶äº²ä¸å¯æšä¸¾çš„æ–¹æ³•ï¼ˆä¸å¯æšä¸¾æ–¹æ³•ï¼Œä¸èƒ½ç”¨for in è®¿é—®åˆ°ï¼‰
</code></pre>
<h4 id="5-ç»„åˆç»§æ‰¿ï¼ˆåŸå‹é“¾å’Œæ„é€ å‡½æ•°ï¼‰"><a href="#5-ç»„åˆç»§æ‰¿ï¼ˆåŸå‹é“¾å’Œæ„é€ å‡½æ•°ï¼‰" class="headerlink" title="5.ç»„åˆç»§æ‰¿ï¼ˆåŸå‹é“¾å’Œæ„é€ å‡½æ•°ï¼‰"></a>5.ç»„åˆç»§æ‰¿ï¼ˆåŸå‹é“¾å’Œæ„é€ å‡½æ•°ï¼‰</h4><pre><code class="css">function Sheep(name)&#123;
    Animal.call(this)
    this.name=name || &quot;ç¾Š&quot;
&#125;
Sheep.prototype=new Animal()
let sheep=new Sheep(&quot;å–œæ´‹æ´‹&quot;)
sheep.sayname();sheep.eat(&quot;è‰&quot;)
console.log(sheep instanceof Animal)  //true
console.log(sheep instanceof Sheep)    //true 

æ ¸å¿ƒï¼šé€šè¿‡è°ƒç”¨çˆ¶ç±»æ„é€ ï¼Œç»§æ‰¿çˆ¶ç±»çš„å±æ€§å¹¶ä¿ç•™ä¼ å‚çš„ä¼˜ç‚¹ï¼Œç„¶åé€šè¿‡å°†çˆ¶ç±»å®ä¾‹åšä¸ºå­ç±»åŸå‹ï¼Œå®ç°å‡½æ•°å¤ç”¨ã€‚
ä¼˜ç‚¹ï¼š
1.å¼¥è¡¥äº†æ„é€ ç»§æ‰¿çš„ç¼ºé™·ï¼Œå¯ä»¥ç»§æ‰¿å®ä¾‹å±æ€§/æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç»§æ‰¿åŸå‹å±æ€§/æ–¹æ³•ã€‚
2.å³æ˜¯å­ç±»çš„å®ä¾‹ï¼Œä¹Ÿæ˜¯çˆ¶ç±»çš„å®ä¾‹ã€‚
3.ä¸å­˜åœ¨å¼•ç”¨å±æ€§å…±äº«é—®é¢˜ã€‚
4.å¯ä¼ å‚ã€‚
5.å‡½æ•°å¯å¤ç”¨ã€‚
ç¼ºç‚¹ï¼šè°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œç”Ÿæˆäº†ä¸¤ä»½å®ä¾‹ï¼ˆå­ç±»å®ä¾‹å°†å­ç±»åŸå‹ä¸Šçš„é‚£ä»½å±è”½äº†ï¼‰
</code></pre>
<h4 id="6-å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿"><a href="#6-å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿" class="headerlink" title="6.å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿"></a>6.å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿</h4><pre><code class="css">function Horse(name)&#123;
    Animal.call(this)
    this.name = name || &#39;é©¬&#39;
&#125;
(function()&#123;
    var Super = function()&#123;&#125; //åˆ›å»ºä¸€ä¸ªæ²¡æœ‰å®ä¾‹çš„æ–¹æ³•ç±»
    Super.prototype =Animal.prototype
    Horse.prototype=new Super() //å°†å®ä¾‹ä½œä¸ºå­ç±»çš„åŸå‹
&#125;)()
let horse = new Horse(&#39;ç™½é¾™é©¬&#39;)
horse.sayname()
console.log(horse instanceof Animal)  //true
console.log(horse instanceof Horse)    //true 

æ ¸å¿ƒï¼šé€šè¿‡å¯„ç”Ÿæ–¹å¼ï¼Œç æ‰çˆ¶ç±»çš„å®ä¾‹å±æ€§ï¼Œè¿™æ ·ï¼Œåœ¨è°ƒç”¨ä¸¤æ¬¡çˆ¶ç±»çš„æ„é€ çš„æ—¶å€™ï¼Œå°±ä¸ä¼šåˆå§‹åŒ–ä¸¤æ¬¡å®ä¾‹æ–¹æ³•/å±æ€§ï¼Œé¿å…çš„ç»„åˆç»§æ‰¿çš„ç¼ºç‚¹ã€‚
ä¼˜ç‚¹ï¼šå ªç§°å®Œç¾
ç¼ºç‚¹ï¼šå®ç°è¾ƒä¸ºå¤æ‚
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-SSRå’ŒCSRä¼˜åŠ¿åŠ£åŠ¿"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-SSRå’ŒCSRä¼˜åŠ¿åŠ£åŠ¿" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ SSRå’ŒCSRä¼˜åŠ¿åŠ£åŠ¿"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ SSRå’ŒCSRä¼˜åŠ¿åŠ£åŠ¿</h3><ul>
<li><p>SSRæ›´æœ‰åˆ©äºé¦–å±æ¸²æŸ“ï¼ŒCSRæ›´æœ‰åˆ©äºé¡µé¢äº¤äº’</p>
</li>
<li><p>SSRï¼š</p>
<p>ä¼˜åŠ¿ï¼š</p>
<ul>
<li>æœç´¢å¼•æ“å¯ä»¥æŠ“å–ç½‘ç«™ä»¥è·å–æ›´å¥½çš„SEO</li>
<li>åˆå§‹é¡µé¢åŠ è½½é€Ÿåº¦æ›´å¿«</li>
<li>éå¸¸é€‚åˆé™æ€ç½‘ç«™</li>
</ul>
<p>åŠ£åŠ¿ï¼š</p>
<ul>
<li>é¢‘ç¹çš„æœåŠ¡å™¨è¯·æ±‚</li>
<li>æ•´ä½“ç¼“æ…¢çš„é¡µé¢æ¸²æŸ“</li>
<li>æ•´é¡µé‡æ–°åŠ è½½</li>
<li>ä¸æ“…é•¿äºç½‘ç«™äº¤äº’</li>
</ul>
</li>
<li><p>CSRï¼š</p>
<p>ä¼˜åŠ¿ï¼š</p>
<ul>
<li>æ“…äºç½‘ç«™äº¤äº’</li>
<li>åˆå§‹åŠ è½½ç½‘ç«™æ¸²æŸ“é€Ÿåº¦å¿«</li>
<li>éå¸¸é€‚åˆWebåº”ç”¨ç¨‹åº</li>
<li>å¼ºå¤§çš„JSé€‰æ‹©</li>
</ul>
<p>åŠ£åŠ¿ï¼š</p>
<ul>
<li>ä¸åˆ©äºSEO</li>
<li>åˆå§‹åŠ è½½å¯èƒ½éœ€è¦æ›´å¤šæ—¶é—´</li>
</ul>
</li>
</ul>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-forâ€¦in-å’Œ-for-of"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-forâ€¦in-å’Œ-for-of" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ forâ€¦in å’Œ for of"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ forâ€¦in å’Œ for of</h3><ul>
<li>forâ€¦in å¾ªç¯ï¼šåªèƒ½è·å¾—å¯¹è±¡çš„keyï¼Œä¸èƒ½è·å¾—valueï¼Œä¸»è¦æ˜¯ä¸ºäº†éå†å¯¹è±¡è€Œç”Ÿï¼Œä¸é€‚ç”¨äºéå†æ•°ç»„ã€‚forâ€¦in å¾ªç¯ä¸ä»…éå†æ•°å­—é”®åï¼Œè¿˜ä¼šéå†æ‰‹åŠ¨æ·»åŠ çš„å…¶å®ƒé”®ï¼ŒåŒ…æ‹¬åŸå‹é“¾ä¸Šçš„é”®ã€‚forâ€¦of åˆ™ä¸ä¼šè¿™æ ·ã€‚</li>
</ul>
<p>â€‹	    forâ€¦of å¾ªç¯ï¼šå…è®¸éå†è·å¾—é”®å€¼ï¼Œå¯ä»¥ç”¨æ¥éå†æ•°ç»„ã€ç±»æ•°ç»„å¯¹è±¡ï¼Œå­—ç¬¦ä¸²ã€Setã€Map ä»¥åŠ Generator å¯¹è±¡</p>
<ul>
<li>å¯¹äºæ™®é€šå¯¹è±¡ï¼Œæ²¡æœ‰éƒ¨ç½²åŸç”Ÿçš„ iterator æ¥å£ï¼Œç›´æ¥ä½¿ç”¨ forâ€¦of ä¼šæŠ¥é”™</li>
</ul>
<p>â€‹		å¯ä»¥ä½¿ç”¨ forâ€¦in å¾ªç¯éå†é”®å</p>
<ul>
<li>forEach å¾ªç¯æ— æ³•ä¸­é€”è·³å‡ºï¼Œbreak å‘½ä»¤æˆ– return å‘½ä»¤éƒ½ä¸èƒ½å¥æ•ˆ</li>
</ul>
<p>â€‹		forâ€¦of å¾ªç¯å¯ä»¥ä¸breakã€continue å’Œ return é…åˆä½¿ç”¨ï¼Œè·³å‡ºå¾ªç¯</p>
<ul>
<li>æ— è®ºæ˜¯ forâ€¦in è¿˜æ˜¯ forâ€¦of éƒ½ä¸èƒ½éå†å‡º Symbol ç±»å‹çš„å€¼ï¼Œéå† Symbol ç±»å‹çš„å€¼éœ€è¦ç”¨ Object.getOwnPropertySymbols() æ–¹æ³•</li>
</ul>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-è·å–å¯¹è±¡çš„æ‰€æœ‰keyå€¼"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-è·å–å¯¹è±¡çš„æ‰€æœ‰keyå€¼" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ è·å–å¯¹è±¡çš„æ‰€æœ‰keyå€¼"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ è·å–å¯¹è±¡çš„æ‰€æœ‰keyå€¼</h3><ul>
<li>object.keys ï¼š</li>
</ul>
<p>â€‹		æ’åºæ–¹å¼ï¼šindex ã€å­—ç¬¦ä¸²çš„keyåˆ›å»ºäº‹ä»¶ã€symbol</p>
<ul>
<li><p>for â€¦ in ï¼šå®ƒèƒ½å¤Ÿé¢å¤–éå†ç»§æ‰¿æ¥çš„å¯æšä¸¾çš„å±æ€§</p>
</li>
<li><p>object.getOwnPropertyName   &#x3D;&gt;  è·å–keyå€¼</p>
</li>
<li><p>Object.getOwnPropertySymbols  &#x3D;&gt;  è·å– symbol keyï¼Œè·å–åœ¨å¯¹è±¡ä¸Šå®šä¹‰çš„ç¬¦å·æ•°ç»„</p>
</li>
<li><p>reflect.ownkeysï¼šè¿”å›ä¸€ä¸ªç”±ç›®æ ‡å¯¹è±¡è‡ªèº«çš„å±æ€§é”®ç»„æˆçš„æ•°ç»„ã€‚</p>
</li>
</ul>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-nullå’Œundefinedçš„åŒºåˆ«"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-nullå’Œundefinedçš„åŒºåˆ«" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ nullå’Œundefinedçš„åŒºåˆ«"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ nullå’Œundefinedçš„åŒºåˆ«</h3><p>ï¼ˆ1ï¼‰Numberè½¬æ¢çš„å€¼ä¸åŒï¼ŒNumber(null)è¾“å‡ºä¸º0, Number(undefined)è¾“å‡ºä¸ºNaN</p>
<p>ï¼ˆ2ï¼‰nullè¡¨ç¤ºä¸€ä¸ªå€¼è¢«å®šä¹‰äº†ï¼Œä½†æ˜¯è¿™ä¸ªå€¼æ˜¯ç©ºå€¼</p>
<ul>
<li><p>ä½œä¸ºå‡½æ•°çš„å‚æ•°ï¼Œè¡¨ç¤ºå‡½æ•°çš„å‚æ•°ä¸æ˜¯å¯¹è±¡</p>
</li>
<li><p>ä½œä¸ºå¯¹è±¡åŸå‹é“¾çš„ç»ˆç‚¹ ï¼ˆObject.getPrototypeOf(Object.prototype)ï¼‰</p>
</li>
<li><p>å®šä¹‰ä¸€ä¸ªå€¼ä¸ºnullæ˜¯åˆç†çš„ï¼Œä½†å®šä¹‰ä¸ºundefinedä¸åˆç†ï¼ˆvar name &#x3D; nullï¼‰</p>
</li>
</ul>
<p>ã€€ã€€</p>
<p>ï¼ˆ3ï¼‰undefinedè¡¨ç¤ºç¼ºå°‘å€¼ï¼Œå³æ­¤å¤„åº”è¯¥æœ‰å€¼ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å®šä¹‰</p>
<ul>
<li><p>å˜é‡è¢«å£°æ˜äº†è¿˜æ²¡æœ‰èµ‹å€¼ï¼Œå°±ä¸ºundefined</p>
</li>
<li><p>è°ƒç”¨å‡½æ•°æ—¶åº”è¯¥æä¾›çš„å‚æ•°è¿˜æ²¡æœ‰æä¾›ï¼Œè¯¥å‚æ•°å°±ç­‰äºundefined</p>
</li>
<li><p>å¯¹è±¡æ²¡æœ‰èµ‹å€¼çš„å±æ€§ï¼Œè¯¥å±æ€§çš„å€¼å°±ç­‰äºundefined</p>
</li>
<li><p>å‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œé»˜è®¤è¿”å›undefined</p>
</li>
</ul>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-åˆ¤æ–­å¯¹è±¡ä¸ºç©º"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-åˆ¤æ–­å¯¹è±¡ä¸ºç©º" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ åˆ¤æ–­å¯¹è±¡ä¸ºç©º"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ åˆ¤æ–­å¯¹è±¡ä¸ºç©º</h3><pre><code class="javascript">Object.keys(obj).length = = = 0  // true åˆ™ä¸ºç©ºå¯¹è±¡(æœ‰ç¼ºé™·)
Object.keys(obj).length = = = 0 &amp;&amp; obj.constructor = = = Object
</code></pre>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-å¯¹è±¡çš„å¯å†»ç»“æ€§"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-å¯¹è±¡çš„å¯å†»ç»“æ€§" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ å¯¹è±¡çš„å¯å†»ç»“æ€§"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ å¯¹è±¡çš„å¯å†»ç»“æ€§</h3><p>æœ¬è´¨éƒ½æ˜¯Object.definePropertyå»é…ç½®å¯¹è±¡ï¼ˆå»çœ‹çœ‹ç¬¬ä¸‰ä¸ªå‚æ•°é‚£å‡ ä¸ªé…ç½®çš„å‚æ•°ï¼‰</p>
<p>åˆçº§å†°å†»ï¼šå¯¹keyå€¼è¿›è¡Œåªè¯»ï¼Œä¸å¯æ›´æ”¹</p>
<p>ä¸­çº§å†°å†»ï¼šå¯¹keyå€¼è¿›è¡Œä¸å¯è¯»ï¼Œä¸å¯æšä¸¾</p>
<p>é«˜çº§å†°å†»ï¼šå¯¹keyå€¼ä¸å¯é…ç½®</p>
<h3 id="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-å¯¹è±¡å†»ç»“"><a href="#â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸-å¯¹è±¡å†»ç»“" class="headerlink" title="â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ å¯¹è±¡å†»ç»“"></a>â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸â™¥ï¸ å¯¹è±¡å†»ç»“</h3><h4 id="Object-Seal"><a href="#Object-Seal" class="headerlink" title="Object.Seal"></a>Object.Seal</h4><p>å½“ä½ å¬åˆ° â€œsealâ€ è¿™ä¸ªè¯æ—¶ï¼Œä½ ä¼šæƒ³åˆ°ä»€ä¹ˆï¼Ÿ â€œsealâ€ çš„ç¬¬ä¸€ä¸ªæ„æ€æ˜¯å°ç« æˆ–è€…èœœèœ¡ä¹‹ç±»å°ä¿¡ä»¶çš„ä¸œè¥¿ã€‚åœ¨ JavaScript ä¸­ <code>Object.seal</code> çš„ä½œç”¨ä¸ â€œå¯†å°â€ ç›¸åŒã€‚</p>
<p><code>Object.seal</code> ä½¿ä¼ å…¥å¯¹è±¡çš„æ‰€æœ‰å±æ€§éƒ½ä¸å¯é…ç½®ã€‚æ¥ä¸¾ä¸ªä¾‹å­ã€‚</p>
<pre><code class="js">const obj = &#123; a: 100 &#125;;
Object.getOwnPropertyDescriptors(obj);

/* &#123;
 *   a: &#123;
 *        configurable: true,
 *        enumerable: true,
 *        value: 100,
 *        writable: true
 *      &#125;
 * &#125;
 *
 */

Object.seal(obj);
Object.getOwnPropertyDescriptors(obj);

/* &#123;
 *   a: &#123;
 *        configurable: false,
 *        enumerable: true,
 *        value: 100,
 *        writable: true
 *      &#125;
 * &#125;
 *
 */

obj.a = 200;
console.log(obj.a);
// è¾“å‡ºï¼š200

delete obj.a;
console.log(obj.a);
// è¾“å‡ºï¼š200

obj.b = 500;
console.log(obj.b);
// è¾“å‡ºï¼šundefined
</code></pre>
<p>å¯¹è±¡ <code>obj</code> åªæœ‰ä¸€ä¸ªå€¼ä¸º 100 çš„å±æ€§ã€‚<code>obj</code> çš„åŸºæœ¬å±æ€§å°±åƒä¸Šé¢ä¸€æ ·ï¼Œ<code>configurable</code>, <code>enumerable</code> å’Œ <code>writable</code> éƒ½æ˜¯ <code>true</code>ã€‚ç„¶åæˆ‘ç”¨ <code>Object.seal</code> æŠŠå®ƒå°èµ·æ¥ï¼Œæƒ³è¦çœ‹çœ‹å“ªäº›åŸºæœ¬å±æ€§è¢«ä¿®æ”¹äº†ï¼Œå“ªäº›æ²¡æœ‰ã€‚ç»“æœæ˜¯ï¼Œåªæœ‰ <code>configurable</code> è¢«æ”¹æˆäº† <code>false</code>ã€‚</p>
<pre><code class="js">obj.a = 200;
</code></pre>
<p>å³ä½¿è¢«å¯†å°å¯¹è±¡çš„åŸºæœ¬å±æ€§ <code>configurable</code> ç°åœ¨ä¸º falseï¼Œä½†å±æ€§å€¼ä¹Ÿè¢«æ›´æ”¹ä¸º 200ã€‚å¦‚å‰æ‰€è¿°ï¼Œå°† <code>configurable</code>è®¾ç½®ä¸º <code>false</code> å°†ä½¿å±æ€§ä¸å¯å†™ï¼Œä½†å¦‚æœ <code>writable</code> å·²ç»å†™æ˜ä¸º <code>true</code> æ—¶ï¼Œ<code>configurable</code>è®¾ç½®ä¸º <code>false</code> å°†ä¸ä¼šç”Ÿæ•ˆã€‚å½“ä½ åˆ›å»ºä¸€ä¸ªå¯¹è±¡å¹¶æ·»åŠ ä¸€ä¸ªæ–°å±æ€§æ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹å®ƒæ˜¯ <code>writable: true</code> ã€‚</p>
<pre><code class="js">delete obj.a;
</code></pre>
<p>å°è£…å¯¹è±¡ä½¿æ¯ä¸ªå±æ€§å˜ä¸ºä¸å¯é…ç½®ï¼Œä»è€Œä½¿å±æ€§ä¸å¯åˆ é™¤ã€‚</p>
<pre><code class="js">obj.b = 500;
</code></pre>
<p>Object.seal ååˆ é™¤å±æ€§å¤±è´¥äº†æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºå½“è°ƒç”¨ <code>Object.seal</code> æˆ– <code>Object.freeze</code> æ—¶ï¼Œä¼ é€’ç»™è¿™äº›æ–¹æ³•çš„å¯¹è±¡å˜æˆä¸å¯æ‰©å±•çš„å¯¹è±¡ï¼Œè¿™æ„å‘³ç€ä¸èƒ½åˆ é™¤å…¶ä¸­çš„ä»»ä½•å±æ€§æˆ–å‘å…¶ä¸­æ·»åŠ ä»»ä½•å±æ€§ã€‚</p>
<h4 id="Object-freeze"><a href="#Object-freeze" class="headerlink" title="Object.freeze"></a>Object.freeze</h4><p><code>Object.freeze</code> å¯¹ä¼ é€’çš„å¯¹è±¡çš„é™åˆ¶æ¯” <code>Object.seal</code> æ›´å¤šã€‚è®©æˆ‘ä»¬å†ä¸¾ä¸€ä¸ªä¾‹å­ã€‚</p>
<pre><code class="js">const obj = &#123; a: 100 &#125;;
Object.getOwnPropertyDescriptors(obj);

/* &#123;
 *   a: &#123;
 *        configurable: true,
 *        enumerable: true,
 *        value: 100,
 *        writable: true
 *      &#125;
 * &#125;
 *
 */

Object.freeze(obj);
Object.getOwnPropertyDescriptors(obj);

/* &#123;
 *   a: &#123;
 *        configurable: false,
 *        enumerable: true,
 *        value: 100,
 *        writable: false
 *      &#125;
 * &#125;
 *
 */

obj.a = 200;
console.log(obj.a);
// è¾“å‡ºï¼š100

delete obj.a;
console.log(obj.a);
// è¾“å‡ºï¼š100

obj.b = 500;
console.log(obj.b);
// è¾“å‡ºï¼šundefined
</code></pre>
<p>æ‰€ä»¥ï¼Œ <code>Object.freeze</code> å’Œ <code>Object.seal</code> çš„åŒºåˆ«æ˜¯åœ¨ä½¿ç”¨åï¼Œ<code>Object.freeze</code> çš„ <code>writable</code> ä¼šè¢«è®¾ç½®ä¸º <code>false</code> è€Œ <code>Object.seal</code> ä»ç„¶ä¸º <code>true</code> ã€‚</p>
<pre><code class="js">obj.a = 200;
</code></pre>
<p>å› æ­¤ï¼Œä¿®æ”¹ç°æœ‰å±æ€§æ€»æ˜¯å¤±è´¥ã€‚</p>
<pre><code class="js">delete obj.a;
</code></pre>
<p>å°±åƒ <code>Object.seal</code> ä¸€æ ·ï¼Œ <code>Object.freeze</code> ä¹Ÿä½¿å¾—ä¼ é€’çš„å¯¹è±¡ä¸å¯é…ç½®ï¼Œè¿™ä½¿å¾—å…¶ä¸­çš„æ¯ä¸ªå±æ€§éƒ½ä¸å¯åˆ é™¤ã€‚</p>
<pre><code class="js">obj.b = 500;
</code></pre>
<p>å†»ç»“å¯¹è±¡ä¹Ÿä¼šä½¿å¯¹è±¡ä¸å¯æ‰©å±•ã€‚</p>
<h4 id="å…±åŒç‚¹"><a href="#å…±åŒç‚¹" class="headerlink" title="å…±åŒç‚¹"></a>å…±åŒç‚¹</h4><ol>
<li>ä½œç”¨çš„å¯¹è±¡å˜å¾—ä¸å¯æ‰©å±•ï¼Œè¿™æ„å‘³ç€ä¸èƒ½å†æ·»åŠ æ–°å±æ€§ã€‚</li>
<li>ä½œç”¨çš„å¯¹è±¡ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½å˜å¾—ä¸å¯é…ç½®ï¼Œè¿™æ„å‘³ç€ä¸èƒ½åˆ é™¤å±æ€§ã€‚</li>
<li>å¦‚æœåœ¨ â€˜use strictâ€™ æ¨¡å¼ä¸‹ä½¿ç”¨ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•éƒ½å¯èƒ½æŠ›å‡ºé”™è¯¯ï¼Œä¾‹å¦‚åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä¿®æ”¹ <code>obj.a = 500</code>ã€‚</li>
</ol>
<h4 id="ä¸åŒç‚¹"><a href="#ä¸åŒç‚¹" class="headerlink" title="ä¸åŒç‚¹"></a>ä¸åŒç‚¹</h4><p><code>Object.seal</code> èƒ½è®©ä½ ä¿®æ”¹å±æ€§çš„å€¼ï¼Œä½† <code>Object.freeze</code> ä¸èƒ½.</p>
<h4 id="ç¼ºç‚¹-1"><a href="#ç¼ºç‚¹-1" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><p><code>Object.freeze</code> å’Œ <code>Object.seal</code> åœ¨ â€œå®ç”¨æ€§â€ æ–¹é¢éƒ½æœ‰ â€œç¼ºé™·â€ï¼Œä»–ä»¬åªå†»ç»“&#x2F;å°å°å¯¹è±¡çš„ç¬¬ä¸€æ·±åº¦ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªç®€å•çš„æ¯”è¾ƒã€‚</p>
<pre><code class="js">const obj = &#123;
  foo: &#123;
    bar: 10
  &#125;
&#125;;
</code></pre>
<p>ç°åœ¨ <code>obj</code> å†…éƒ¨åµŒå¥—äº†ä¸€ä¸ªå¯¹è±¡ <code>foo</code>ã€‚ å®ƒå†…éƒ¨æœ‰ä¸€ä¸ª <code>bar</code> å±æ€§.</p>
<pre><code class="js">Object.getOwnPropertyDescriptors(obj);
/* &#123;
 *   foo: &#123;
 *        configurable: true,
 *        enumerable: true,
 *        value: &#123;bar: 10&#125;,
 *        writable: true
 *      &#125;
 * &#125;
 */

Object.getOwnPropertyDescriptors(obj.foo);
/* &#123;
 *   bar: &#123;
 *        configurable: true,
 *        enumerable: true,
 *        value: 10,
 *        writable: true
 *      &#125;
 * &#125;
 */
</code></pre>
<p>ä½¿ç”¨ <code>Object.freeze</code> å’Œ <code>Object.seal</code> ä¹‹åï¼Œ</p>
<pre><code class="js">Object.seal(obj);
Object.freeze(obj);

// è¿™ä¸¤ç§æ–¹æ³•éƒ½ä¼šå¯¼è‡´ç›¸åŒç»“æœ
</code></pre>
<p>è®©æˆ‘ä»¬çœ‹çœ‹åŸºç¡€å±æ€§æ˜¯å¦‚ä½•å˜åŒ–çš„ã€‚</p>
<pre><code class="js">Object.getOwnPropertyDescriptors(obj);
/* &#123;
 *   foo: &#123;
 *        configurable: false,
 *        enumerable: true,
 *        value: &#123;bar: 10&#125;,
 *        writable: false
 *      &#125;
 * &#125;
 */

Object.getOwnPropertyDescriptors(obj.foo);
/* &#123;
 *   bar: &#123;
 *        configurable: true,
 *        enumerable: true,
 *        value: 10,
 *        writable: true
 *      &#125;
 * &#125;
 */
</code></pre>
<p><code>foo</code> çš„åŸºç¡€å±æ€§å·²ç»æ”¹å˜ä½†åµŒå¥—çš„ <code>obj.foo</code> åŸºç¡€å±æ€§å¹¶æ²¡æœ‰å˜ã€‚è¿™æ„å‘³ç€åµŒå¥—çš„ç¬¬äºŒå±‚ä»ç„¶æ˜¯å¯ä¿®æ”¹çš„ã€‚</p>
<pre><code class="js">obj.foo = &#123; bar: 50 &#125;;
// æ²¡æœ‰ç”Ÿæ•ˆ
</code></pre>
<p>Since <code>obj.foo</code> doesnâ€™t let you change its value because itâ€™s frozen, å› ä¸º <code>obj</code> è¢«å†»ç»“äº†ï¼Œæ‰€ä»¥ <code>obj.foo</code> ä¸å…è®¸æ”¹å˜å®ƒçš„å€¼ï¼Œ</p>
<pre><code class="js">obj.foo.bar = 50;
// ç”Ÿæ•ˆäº†
</code></pre>
<p>ä½† <code>obj.foo.bar</code> ä»ç„¶å…è®¸ä½ æ”¹å˜å®ƒçš„å€¼ï¼Œå› ä¸ºå®ƒæ²¡æœ‰è¢«å†»ç»“ã€‚</p>
<p>é‚£ä¹ˆå¦‚ä½•å°†å¯¹è±¡å†»ç»“&#x2F;å¯†å°åˆ°æœ€æ·±å±‚çš„åµŒå¥—å¯¹è±¡å‘¢ï¼Ÿåœ¨ MDN ä¸Šå¯ä»¥æŸ¥çœ‹åˆ°è§£å†³æ–¹æ¡ˆ</p>
<pre><code class="js">function deepFreeze(object) &#123;

  // æ£€ç´¢åœ¨å¯¹è±¡ä¸Šå®šä¹‰çš„å±æ€§å
  var propNames = Object.getOwnPropertyNames(object);

  // åœ¨å†»ç»“è‡ªå·±ä¹‹å‰å…ˆå†»ç»“å±æ€§

  for (let name of propNames) &#123;
    let value = object[name];

    if(value &amp;&amp; typeof value === &quot;object&quot;) &#123; 
      deepFreeze(value);
    &#125;
  &#125;

  return Object.freeze(object);
&#125;
</code></pre>
<p>æµ‹è¯•ç»“æœå¦‚ä¸‹ã€‚</p>
<pre><code class="js">const obj = &#123; foo: &#123; bar: 10 &#125; &#125;;
deepFreeze(obj);

obj.foo = &#123; bar: 50 &#125;;
// ä¸ä¼šç”Ÿæ•ˆ

obj.foo.bar = 50;
// ä¸ä¼šç”Ÿæ•ˆ
</code></pre>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p><code>Object.freeze</code> å’Œ <code>Object.seal</code> è‚¯å®šæ˜¯æœ‰ç”¨çš„æ–¹æ³•ã€‚ä½†æ˜¯ä½ åº”è¯¥è€ƒè™‘ä½¿ç”¨ <code>deepFreeze</code> æ¥å†»ç»“åµŒå¥—å¯¹è±¡ã€‚</p>
]]></content>
      <categories>
        <category>æŠ€æœ¯é¢è¯•</category>
        <category>javaScript</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
</search>
